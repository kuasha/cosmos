# ------------------------------------------------- #
# Auto generated. Modification will be overwritten. #
# ------------------------------------------------- #

import base64

file_data_list=[
{
'name': '/.bowerrc', 'data': base64.b64decode('ewogICJkaXJlY3RvcnkiOiAiYXBwL2Jvd2VyX2NvbXBvbmVudHMiCn0=')
},
{
'name': '/LICENSE', 'data': base64.b64decode('VGhlIE1JVCBMaWNlbnNlCgpDb3B5cmlnaHQgKGMpIDIwMTAtMjAxNCBHb29nbGUsIEluYy4gaHR0cDovL2FuZ3VsYXJqcy5vcmcKClBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkKb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksIHRvIGRlYWwKaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cwp0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsCmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcwpmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgoKVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4KYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCgpUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgpJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFCkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIKTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwKT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTgpUSEUgU09GVFdBUkUuCgo=')
},
{
'name': '/bower.json', 'data': base64.b64decode('ewogICJuYW1lIjogImNvc21vcy1hZG1pbi1wYW5lbCIsCiAgImRlc2NyaXB0aW9uIjogIkFkbWluIHBhbmVsIGZvciBjb3Ntb3MgZnJhbWV3b3JrIiwKICAidmVyc2lvbiI6ICIwLjAuMCIsCiAgImhvbWVwYWdlIjogImh0dHA6Ly9jb3Ntb3NmcmFtZXdvcmsuY29tIiwKICAibGljZW5zZSI6ICJNSVQiLAogICJwcml2YXRlIjogdHJ1ZSwKICAiZGVwZW5kZW5jaWVzIjogewogICAgImFuZ3VsYXIiOiAiMS4yLngiLAogICAgImFuZ3VsYXItcm91dGUiOiAiMS4yLngiLAogICAgImFuZ3VsYXItbG9hZGVyIjogIjEuMi54IiwKICAgICJhbmd1bGFyLW1vY2tzIjogIn4xLjIueCIsCiAgICAiaHRtbDUtYm9pbGVycGxhdGUiOiAifjQuMy4wIiwKICAgICJhbmd1bGFyLWJvb3RzdHJhcCI6ICJ+MC4xMS54IgogIH0KfQo=')
},
{
'name': '/app/index.html', 'data': base64.b64decode('PCFET0NUWVBFIGh0bWw+CjwhLS1baWYgbHQgSUUgN10+ICAgICAgPGh0bWwgbGFuZz0iZW4iIG5nLWFwcD0ibXlBcHAiIG5nLWNvbnRyb2xsZXI9IkFkbWluTWFpbkN0cmwiIGNsYXNzPSJuby1qcyBsdC1pZTkgbHQtaWU4IGx0LWllNyI+IDwhW2VuZGlmXS0tPgo8IS0tW2lmIElFIDddPiAgICAgICAgIDxodG1sIGxhbmc9ImVuIiBuZy1hcHA9Im15QXBwIiBuZy1jb250cm9sbGVyPSJBZG1pbk1haW5DdHJsIiBjbGFzcz0ibm8tanMgbHQtaWU5IGx0LWllOCI+IDwhW2VuZGlmXS0tPgo8IS0tW2lmIElFIDhdPiAgICAgICAgIDxodG1sIGxhbmc9ImVuIiBuZy1hcHA9Im15QXBwIiBuZy1jb250cm9sbGVyPSJBZG1pbk1haW5DdHJsIiBjbGFzcz0ibm8tanMgbHQtaWU5Ij4gPCFbZW5kaWZdLS0+CjwhLS1baWYgZ3QgSUUgOF0+PCEtLT4gPGh0bWwgbGFuZz0iZW4iIG5nLWFwcD0ibXlBcHAiIG5nLWNvbnRyb2xsZXI9IkFkbWluTWFpbkN0cmwiIGNsYXNzPSJuby1qcyI+IDwhLS08IVtlbmRpZl0tLT4KCjxoZWFkPgogIDxtZXRhIGNoYXJzZXQ9InV0Zi04Ij4KICA8bWV0YSBodHRwLWVxdWl2PSJYLVVBLUNvbXBhdGlibGUiIGNvbnRlbnQ9IklFPWVkZ2UiPgogIDx0aXRsZT5Db3Ntb3MgQWRtaW4gQXBwPC90aXRsZT4KICA8bWV0YSBuYW1lPSJkZXNjcmlwdGlvbiIgY29udGVudD0iIj4KICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEiPgogIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iYm93ZXJfY29tcG9uZW50cy9odG1sNS1ib2lsZXJwbGF0ZS9jc3Mvbm9ybWFsaXplLmNzcyI+CiAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJib3dlcl9jb21wb25lbnRzL2h0bWw1LWJvaWxlcnBsYXRlL2Nzcy9tYWluLmNzcyI+CiAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJjc3MvYXBwLmNzcyIvPgogIDxzY3JpcHQgc3JjPSJib3dlcl9jb21wb25lbnRzL2h0bWw1LWJvaWxlcnBsYXRlL2pzL3ZlbmRvci9tb2Rlcm5penItMi42LjIubWluLmpzIj48L3NjcmlwdD4KICA8c3R5bGU+CiAgICAgIGJvZHkgewogICAgICAgICAgcGFkZGluZy10b3A6IDUwcHg7CiAgICAgIH0KICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPGRpdiBjbGFzcz0ibmF2YmFyIG5hdmJhci1pbnZlcnNlIG5hdmJhci1maXhlZC10b3AiIHJvbGU9Im5hdmlnYXRpb24iPgogICAgICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im5hdmJhci1oZWFkZXIiPgogICAgICAgICAgICAgICAgPGEgY2xhc3M9Im5hdmJhci1icmFuZCIgaHJlZj0iLyI+Q29zbW9zIEZyYW1ld29yazwvYT4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im5hdmJhci1jb2xsYXBzZSBjb2xsYXBzZSI+CiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9Im5hdiBuYXZiYXItbmF2Ij4KICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0iLyI+SG9tZTwvYT48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSIjL3VzZXJzIj5Vc2VyczwvYT48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSIjL3JvbGVzIj5Sb2xlczwvYT48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaSBuZy1zaG93PSJsb2dnZWRJbigpIj4gPGEgaHJlZj0iL2xvZ291dC8iPkxvZ291dCBbe3t1c2VyTmFtZX19XTwvYT4gPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGkgbmctc2hvdz0iIWxvZ2dlZEluKCkiPjxhIGhyZWY9Ii9sb2dpbi5odG1sIj5Mb2dpbjwvYT48L2xpPgogICAgICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgPC9kaXY+PCEtLS8ubmF2LWNvbGxhcHNlIC0tPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICA8IS0tW2lmIGx0IElFIDddPgogICAgPHAgY2xhc3M9ImJyb3dzZWhhcHB5Ij5Zb3UgYXJlIHVzaW5nIGFuIDxzdHJvbmc+b3V0ZGF0ZWQ8L3N0cm9uZz4gYnJvd3Nlci4gUGxlYXNlIDxhIGhyZWY9Imh0dHA6Ly9icm93c2VoYXBweS5jb20vIj51cGdyYWRlIHlvdXIgYnJvd3NlcjwvYT4gdG8gaW1wcm92ZSB5b3VyIGV4cGVyaWVuY2UuPC9wPgogICAgPCFbZW5kaWZdLS0+CgogICAgPGRpdiBjbGFzcz0iY29udGFpbmVyIHRoZW1lLXNob3djYXNlIiByb2xlPSJtYWluIj4KICAgICAgICAgICAgPGRpdiBuZy12aWV3PjwvZGl2PgogICAgPC9kaXY+CgogICAgPHNjcmlwdCBzcmM9ImJvd2VyX2NvbXBvbmVudHMvYW5ndWxhci9hbmd1bGFyLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJib3dlcl9jb21wb25lbnRzL2FuZ3VsYXItcm91dGUvYW5ndWxhci1yb3V0ZS5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iYm93ZXJfY29tcG9uZW50cy9hbmd1bGFyLWJvb3RzdHJhcC91aS1ib290c3RyYXAuanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9ImJvd2VyX2NvbXBvbmVudHMvYW5ndWxhci1ib290c3RyYXAvdWktYm9vdHN0cmFwLXRwbHMuanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9ImpzL3V0aWxzLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJqcy9hcHAuanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9ImpzL3NlcnZpY2VzLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJqcy9jb250cm9sbGVycy5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0ianMvZmlsdGVycy5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0ianMvZGlyZWN0aXZlcy5qcyI+PC9zY3JpcHQ+CgogICAgPHNjcmlwdCBzcmM9Ii8vYWpheC5nb29nbGVhcGlzLmNvbS9hamF4L2xpYnMvanF1ZXJ5LzEuMTEuMS9qcXVlcnkubWluLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSIvL25ldGRuYS5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjEuMS9qcy9ib290c3RyYXAubWluLmpzIj48L3NjcmlwdD4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iLy9uZXRkbmEuYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4xLjEvY3NzL2Jvb3RzdHJhcC5taW4uY3NzIiAvPgo8L2JvZHk+CjwvaHRtbD4K')
},
{
'name': '/app/login.html', 'data': base64.b64decode('PCFET0NUWVBFIGh0bWw+CjxodG1sIG5nLWFwcD0ibXlBcHAiPgo8aGVhZCBsYW5nPSJlbiI+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8dGl0bGU+TG9naW48L3RpdGxlPgo8L2hlYWQ+Cjxib2R5ICByb2xlPSJkb2N1bWVudCIgbmctY29udHJvbGxlcj0iQWRtaW5NYWluQ3RybCI+CiAgICA8ZGl2IGNsYXNzPSJuYXZiYXIgbmF2YmFyLWludmVyc2UgbmF2YmFyLWZpeGVkLXRvcCIgcm9sZT0ibmF2aWdhdGlvbiI+CiAgICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciI+CiAgICAgICAgPGRpdiBjbGFzcz0ibmF2YmFyLWhlYWRlciI+CiAgICAgICAgICA8YSBjbGFzcz0ibmF2YmFyLWJyYW5kIiBocmVmPSIvIj5Db3Ntb3MgRnJhbWV3b3JrPC9hPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im5hdmJhci1jb2xsYXBzZSBjb2xsYXBzZSI+CiAgICAgICAgICA8dWwgY2xhc3M9Im5hdiBuYXZiYXItbmF2Ij4KICAgICAgICAgICAgPGxpIGNsYXNzPSJhY3RpdmUiPjxhIGhyZWY9Ii8iPkhvbWU8L2E+PC9saT4KICAgICAgICAgIDwvdWw+CiAgICAgICAgPC9kaXY+PCEtLS8ubmF2LWNvbGxhcHNlIC0tPgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciB0aGVtZS1zaG93Y2FzZSIgcm9sZT0ibWFpbiI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJqdW1ib3Ryb24iPgogICAgICAgICAgICA8aDMgIG5nLXNob3c9IiFsb2dnZWRJbigpIj5Mb2dpbjwvaDM+CiAgICAgICAgICAgIDxkaXYgIG5nLXNob3c9ImZhbHNlIj4KICAgICAgICAgICAgICAgIDxhIGNsYXNzPSJidG4gYnRuLXNtYWxsIGJ0bi1wcmltYXJ5IiBocmVmPSIvbG9naW4vZ29vZ2xlLyI+R29vZ2xlPC9hPgogICAgICAgICAgICAgICAgPGEgY2xhc3M9ImJ0biBidG4tc21hbGwgYnRuLXByaW1hcnkiIGhyZWY9Ii9sb2dpbi9mYWNlYm9va2dyYXBoLyI+RmFjZWJvb2s8L2E+CiAgICAgICAgICAgICAgICA8YnIgLz4KICAgICAgICAgICAgICAgIDxociAvPgogICAgICAgICAgICAgICAgPGZvcm0gYWN0aW9uPSIvbG9naW4vb3BlbmlkLyIgbWV0aG9kPSJnZXQiPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbD5PcGVuaWQ8L2xhYmVsPjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJvcGVuaWQub3BfZW5kcG9pbnQiPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSJMb2dpbiI+CiAgICAgICAgICAgICAgICA8L2Zvcm0+CiAgICAgICAgICAgICAgICA8aHIgLz4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxmb3JtIG5nLXNob3c9IiFsb2dnZWRJbigpIiByb2xlPSJmb3JtIiBtZXRob2Q9InBvc3QiIGFjdGlvbj0iL2xvZ2luLyI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+VXNlciBuYW1lPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9ImZvcm0tY29udHJvbCIgaWQ9InVzZXJuYW1lIiB0eXBlPSJ0ZXh0IiBuYW1lPSJ1c2VybmFtZSIvPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+UGFzc3dvcmQ8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz0iZm9ybS1jb250cm9sIiB0eXBlPSJwYXNzd29yZCIgaWQ9InBhc3N3b3JkIiBuYW1lPSJwYXNzd29yZCIgLz4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IkxvZ2luIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiAvPgogICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Zvcm0+CiAgICAgICAgICAgICA8ZGl2IG5nLXNob3c9ImxvZ2dlZEluKCkiPldlbGNvbWU8L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgaWQ9InN0YXR1cyI+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8c2NyaXB0IHNyYz0iYm93ZXJfY29tcG9uZW50cy9hbmd1bGFyL2FuZ3VsYXIuanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9ImJvd2VyX2NvbXBvbmVudHMvYW5ndWxhci1yb3V0ZS9hbmd1bGFyLXJvdXRlLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJib3dlcl9jb21wb25lbnRzL2FuZ3VsYXItYm9vdHN0cmFwL3VpLWJvb3RzdHJhcC5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iYm93ZXJfY29tcG9uZW50cy9hbmd1bGFyLWJvb3RzdHJhcC91aS1ib290c3RyYXAtdHBscy5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0ianMvdXRpbHMuanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9ImpzL2FwcC5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0ianMvc2VydmljZXMuanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9ImpzL2NvbnRyb2xsZXJzLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJqcy9maWx0ZXJzLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJqcy9kaXJlY3RpdmVzLmpzIj48L3NjcmlwdD4KCiAgICA8c2NyaXB0IHNyYz0iLy9hamF4Lmdvb2dsZWFwaXMuY29tL2FqYXgvbGlicy9qcXVlcnkvMS4xMS4xL2pxdWVyeS5taW4uanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9Ii8vbmV0ZG5hLmJvb3RzdHJhcGNkbi5jb20vYm9vdHN0cmFwLzMuMS4xL2pzL2Jvb3RzdHJhcC5taW4uanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIvL25ldGRuYS5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjEuMS9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiIC8+CjwvYm9keT4KPC9odG1sPgo=')
},
{
'name': '/app/js/serviceapi.js', 'data': base64.b64decode('LyoqCiAqIENyZWF0ZWQgYnkgTWFydWYgTWFuaXJ1enphbWFuIChtYXJ1Zm1AY29zbW9zZnJhbWV3b3JrLmNvbSkgb24gNi8xNC8xNC4KICovCgpmdW5jdGlvbiBwcm9jZXNzRXJyb3IoanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKXsKICAgIGpRdWVyeSgiI3N0YXR1cyIpLmh0bWwoIjxoMz5FcnJvcjwvaDM+PGRpdj4iK2Vycm9yVGhyb3duKyI8L2Rpdj4iKTsKfQoKZnVuY3Rpb24gcHJvY2Vzc1N1Y2Nlc3MoZGF0YSl7CiAgICB2YXIgZGF0YTIgPSBKU09OLnBhcnNlKGRhdGEpOwogICAgalF1ZXJ5KCIjcmVzdWx0IikudmFsKEpTT04uc3RyaW5naWZ5KGRhdGEyLHVuZGVmaW5lZCwgMikpOwp9CgpmdW5jdGlvbiBnZXRTZXJ2aWNlVXJsKHNlcnZpY2UpIHsKICAgIHZhciByb290ID0gZG9jdW1lbnQuVVJMOwogICAgaWYoc2VydmljZVswXSA9PSAnLycpewogICAgICAgIHNlcnZpY2UgPSBzZXJ2aWNlLnN1YnN0cmluZygxKTsKICAgIH0KICAgIHJldHVybiByb290K3NlcnZpY2U7Cn0KCmZ1bmN0aW9uIGRvX29wZXJhdGlvbih1cmwsIG1ldGhvZCwgZGF0YSwgY2FsbGJhY2ssIGVycm9yX2NhbGxiYWNrKXsKICAgIGpRdWVyeSgiI3Jlc3VsdCIpLnZhbCgiIik7CiAgICBqUXVlcnkoIiNzdGF0dXMiKS5odG1sKCIiKTsKICAgIGNvbnNvbGUubG9nKG1ldGhvZCsgIjogIit1cmwpCiAgICAkLmFqYXgoewogICAgICAgIHVybDogdXJsLAogICAgICAgIHR5cGU6IG1ldGhvZCwKICAgICAgICBkYXRhOmRhdGEsCiAgICAgICAgc3VjY2VzczogY2FsbGJhY2ssCiAgICAgICAgZXJyb3I6IGVycm9yX2NhbGxiYWNrCiAgICB9KTsKfQoKZnVuY3Rpb24gaW5zZXJ0U2VydmljZSgpewogICAgdmFyIG5hbWUgPSBqUXVlcnkoIiNuYW1lIikudmFsKCk7CiAgICB2YXIgZGF0YSA9IGpRdWVyeSgiI2RhdGEiKS52YWwoKTsKCiAgICB2YXIgdXJsID0gIGdldFNlcnZpY2VVcmwobmFtZSk7CiAgICBkb19vcGVyYXRpb24odXJsLCAnUE9TVCcsIGRhdGEsIHByb2Nlc3NTdWNjZXNzLCBwcm9jZXNzRXJyb3IpOwp9CgpmdW5jdGlvbiBkZWxldGVJdGVtKCl7CiAgICB2YXIgbmFtZSA9IGpRdWVyeSgiI25hbWUiKS52YWwoKTsKICAgIHZhciBkYXRhID0galF1ZXJ5KCIjZGF0YSIpLnZhbCgpOwoKICAgIHZhciB1cmwgPSAgZ2V0U2VydmljZVVybChuYW1lKTsKCiAgICBkb19vcGVyYXRpb24odXJsLCAnREVMRVRFJywgZGF0YSwgcHJvY2Vzc1N1Y2Nlc3MsIHByb2Nlc3NFcnJvcik7Cn0KCmZ1bmN0aW9uIGxvYWRJdGVtKCl7CiAgICB2YXIgbmFtZSA9IGpRdWVyeSgiI25hbWUiKS52YWwoKTsKICAgIHZhciBkYXRhID0galF1ZXJ5KCIjZGF0YSIpLnZhbCgpOwogICAgdmFyIGNvbHVtbnMgPSBqUXVlcnkoIiNjb2x1bW5zIikudmFsKCk7CiAgICB2YXIgZmlsdGVyID0galF1ZXJ5KCIjZmlsdGVyIikudmFsKCk7CgogICAgdmFyIHVybCA9ICBnZXRTZXJ2aWNlVXJsKG5hbWUpOwogICAgaWYoY29sdW1ucyl7CiAgICAgICAgdXJsID0gdXJsKyI/IjsKICAgICAgICB1cmwgPXVybCsgImNvbHVtbnM9Iitjb2x1bW5zOwogICAgfQogICAgaWYoZmlsdGVyKXsKICAgICAgICBpZighY29sdW1ucykgewogICAgICAgICAgICB1cmwgPSB1cmwgKyAiPyI7CiAgICAgICAgfQogICAgICAgIGVsc2V7CiAgICAgICAgICAgIHVybD11cmwrIiYiOwogICAgICAgIH0KICAgICAgICB1cmwgPSB1cmwrImZpbHRlcj0iK2ZpbHRlcgogICAgfQoKICAgIGRvX29wZXJhdGlvbih1cmwsICdHRVQnLCBkYXRhLCBwcm9jZXNzU3VjY2VzcyAscHJvY2Vzc0Vycm9yKTsKfQoKZnVuY3Rpb24gdXBkYXRlSXRlbSgpewogICAgdmFyIG5hbWUgPSBqUXVlcnkoIiNuYW1lIikudmFsKCk7CiAgICB2YXIgZGF0YSA9IGpRdWVyeSgiI2RhdGEiKS52YWwoKTsKCiAgICB2YXIgdXJsID0gIGdldFNlcnZpY2VVcmwobmFtZSk7CgogICAgZG9fb3BlcmF0aW9uKHVybCwgJ1BVVCcsIGRhdGEsIHByb2Nlc3NTdWNjZXNzLCBwcm9jZXNzRXJyb3IpOwp9CgpmdW5jdGlvbiBzdWJzY3JpYmUgKG1vbml0b3JfZW5kcG9pbnQsIG9iamVjdF9uYW1lLCBjYWxsYmFjaykgewogICAgLy9UT0RPOiBVbmlmeSB0aGUgb2JzZXJ2ZXIgdG8gbGlzdGVuIHRvIG1hbnkgb2JqZWN0cyBhdCBhIHRpbWUgdXNpbmcgZGlmZmVyZW50IGNhbGxiYWNrCiAgICAvL3ZhciBtb25pdG9yX2VuZHBvaW50ID0gIndzOi8vbG9jYWxob3N0OjgwODAvY2hhbmdlbW9uaXRvciIKICAgIHZhciB3ZWJzb2NrZXQgPSBuZXcgV2ViU29ja2V0KG1vbml0b3JfZW5kcG9pbnQpOwogICAgdmFyIGZuID0gY2FsbGJhY2s7CiAgICB3ZWJzb2NrZXQub25vcGVuID0gZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUubG9nKCJTb2NrZXQgb3BlbmVkIik7CiAgICAgICAgd2Vic29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkoeyJ0eXBlIjogIm1vbml0b3JfbnMiLCAibnMiOiBvYmplY3RfbmFtZX0pKQogICAgfQoKICAgIHdlYnNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgICAgY29uc29sZS5sb2coIk9uIG1lc3NhZ2U6ICIgKyBldnQuZGF0YSk7CiAgICAgICAgaWYgKGZuKSB7CiAgICAgICAgICAgIGZuKGV2dC5kYXRhKTsKICAgICAgICAgICAgLyoKICAgICAgICAgICAgIC8vSW4gY2FsbGJhY2sgeW91IG1heSBkbyBzb21ldGhpbmcgbGlrZSAoYWxzbyBjb25zaWRlciB0aGUgZXZ0LmRhdGEgaWYgeW91IGFyZSBtb25pdG9yaW5nIG11bHRpcGxlIG9iamVjdHMuOgogICAgICAgICAgICAgJGh0dHAuZ2V0KCcvc2VydmljZS8nK29iamVjdF9uYW1lKycvJykuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICAgICAkc2NvcGUuZGF0YSA9IGRhdGE7CiAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICovCiAgICAgICAgfQoKICAgIH0KCiAgICB3ZWJzb2NrZXQub25jbG9zZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25zb2xlLmxvZygiT24gY2xvc2VkIik7CiAgICB9Cn0=')
},
{
'name': '/app/js/app.js', 'data': base64.b64decode('J3VzZSBzdHJpY3QnOwoKCi8vIERlY2xhcmUgYXBwIGxldmVsIG1vZHVsZSB3aGljaCBkZXBlbmRzIG9uIGZpbHRlcnMsIGFuZCBzZXJ2aWNlcwphbmd1bGFyLm1vZHVsZSgnbXlBcHAnLCBbCiAgICAnbmdSb3V0ZScsCiAgICAndWkuYm9vdHN0cmFwJywKICAgICdteUFwcC5maWx0ZXJzJywKICAgICdteUFwcC5zZXJ2aWNlcycsCiAgICAnbXlBcHAuZGlyZWN0aXZlcycsCiAgICAnbXlBcHAuY29udHJvbGxlcnMnCl0pLgpjb25maWcoWyckcm91dGVQcm92aWRlcicsIGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyKSB7CiAgICAkcm91dGVQcm92aWRlci53aGVuKCcvaG9tZScsIHt0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL2hvbWUuaHRtbCcsIGNvbnRyb2xsZXI6ICdIb21lQ3RybCd9KTsKICAgICRyb3V0ZVByb3ZpZGVyLndoZW4oJy91c2VycycsIHt0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL3VzZXJzLmh0bWwnLCBjb250cm9sbGVyOiAnVXNlcnNDdHJsJ30pOwogICAgJHJvdXRlUHJvdmlkZXIud2hlbignL3JvbGVzJywge3RlbXBsYXRlVXJsOiAncGFydGlhbHMvcm9sZXMuaHRtbCcsIGNvbnRyb2xsZXI6ICdSb2xlc0N0cmwnfSk7CiAgICAkcm91dGVQcm92aWRlci5vdGhlcndpc2Uoe3JlZGlyZWN0VG86ICcvaG9tZSd9KTsKfV0pOwo=')
},
{
'name': '/app/js/directives.js', 'data': base64.b64decode('J3VzZSBzdHJpY3QnOwoKLyogRGlyZWN0aXZlcyAqLwoKCmFuZ3VsYXIubW9kdWxlKCdteUFwcC5kaXJlY3RpdmVzJywgW10pLgogIGRpcmVjdGl2ZSgnYXBwVmVyc2lvbicsIFsndmVyc2lvbicsIGZ1bmN0aW9uKHZlcnNpb24pIHsKICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRycykgewogICAgICBlbG0udGV4dCh2ZXJzaW9uKTsKICAgIH07CiAgfV0pOwo=')
},
{
'name': '/app/js/services.js', 'data': base64.b64decode('J3VzZSBzdHJpY3QnOwoKLyogU2VydmljZXMgKi8KCgphbmd1bGFyLm1vZHVsZSgnbXlBcHAuc2VydmljZXMnLCBbXSkKICAgIC5mYWN0b3J5KCdDb3Ntb3NTZXJ2aWNlJywgWyckaHR0cCcsIGZ1bmN0aW9uKCRodHRwKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIGdldDogZnVuY3Rpb24odXJpLCBjYWxsYmFjaywgZXJyb3JfY2FsbGJhY2spewogICAgICAgICAgICAgICAgJGh0dHAuZ2V0KHVyaSkuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZGF0YSk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cyl7CiAgICAgICAgICAgICAgICAgICAgaWYoZXJyb3JfY2FsbGJhY2spIHsKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfY2FsbGJhY2soZGF0YSwgc3RhdHVzKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcG9zdDogZnVuY3Rpb24odXJpLCBkYXRhLCBjYWxsYmFjaywgZXJyb3JfY2FsbGJhY2spewogICAgICAgICAgICAgICAgJGh0dHAucG9zdCh1cmksIGRhdGEpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRhdGEpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbihkYXRhLCBzdGF0dXMpewogICAgICAgICAgICAgICAgICAgIGlmKGVycm9yX2NhbGxiYWNrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yX2NhbGxiYWNrKGRhdGEsIHN0YXR1cyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHB1dDogZnVuY3Rpb24odXJpLCBkYXRhLCBjYWxsYmFjaywgZXJyb3JfY2FsbGJhY2spewogICAgICAgICAgICAgICAgJGh0dHAucHV0KHVyaSwgZGF0YSkuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZGF0YSk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cyl7CiAgICAgICAgICAgICAgICAgICAgaWYoZXJyb3JfY2FsbGJhY2spIHsKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfY2FsbGJhY2soZGF0YSwgc3RhdHVzKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGVsZXRlOiBmdW5jdGlvbih1cmksIGNhbGxiYWNrLCBlcnJvcl9jYWxsYmFjayl7CiAgICAgICAgICAgICAgICAkaHR0cC5kZWxldGUodXJpKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24oZGF0YSwgc3RhdHVzKXsKICAgICAgICAgICAgICAgICAgICBpZihlcnJvcl9jYWxsYmFjaykgewogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl9jYWxsYmFjayhkYXRhLCBzdGF0dXMpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH1dKQogICAgLnZhbHVlKCd2ZXJzaW9uJywgJzAuMScpOwo=')
},
{
'name': '/app/js/filters.js', 'data': base64.b64decode('J3VzZSBzdHJpY3QnOwoKLyogRmlsdGVycyAqLwoKYW5ndWxhci5tb2R1bGUoJ215QXBwLmZpbHRlcnMnLCBbXSkuCiAgZmlsdGVyKCdpbnRlcnBvbGF0ZScsIFsndmVyc2lvbicsIGZ1bmN0aW9uKHZlcnNpb24pIHsKICAgIHJldHVybiBmdW5jdGlvbih0ZXh0KSB7CiAgICAgIHJldHVybiBTdHJpbmcodGV4dCkucmVwbGFjZSgvXCVWRVJTSU9OXCUvbWcsIHZlcnNpb24pOwogICAgfTsKICB9XSk7Cg==')
},
{
'name': '/app/js/utils.js', 'data': base64.b64decode('LyoqCiAqIENyZWF0ZWQgYnkgbWFydWYgbWFuaXJ1enphbWFuIG9uIDcvNS8xNC4KICovCgoKZnVuY3Rpb24gZ2V0Q29va2llKG5hbWUpIHsKICAgIHZhciB2YWx1ZSA9ICI7ICIgKyBkb2N1bWVudC5jb29raWU7CiAgICB2YXIgcGFydHMgPSB2YWx1ZS5zcGxpdCgiOyAiICsgbmFtZSArICI9Iik7CiAgICBpZiAocGFydHMubGVuZ3RoID09IDIpIHJldHVybiBwYXJ0cy5wb3AoKS5zcGxpdCgiOyIpLnNoaWZ0KCk7Cn0KCmZ1bmN0aW9uIGdldFVzZXJOYW1lKGRlZmF1bHRfdXNlcil7CiAgICB2YXIgdXNlckNvb2tpZSA9IGdldENvb2tpZSgidXNlciIpOwogICAgaWYodXNlckNvb2tpZSl7CiAgICAgICAgdXNlckNvb2tpZSA9IHVzZXJDb29raWUucmVwbGFjZSgvXCIvZywgIiIpCiAgICAgICAgdmFyIGRlY29kZWQgPSBKU09OLnBhcnNlKHdpbmRvdy5hdG9iKHVzZXJDb29raWUpKTsKICAgICAgICByZXR1cm4gZGVjb2RlZFsidXNlcm5hbWUiXSB8fCBkZWZhdWx0X3VzZXI7CiAgICB9CgogICAgcmV0dXJuIGRlZmF1bHRfdXNlcjsKfQoKZnVuY3Rpb24gbG9nZ2VkSW4oKXsKICAgIHZhciB1c2VyQ29va2llID0gZ2V0Q29va2llKCJ1c2Vyc2VjcmV0Iik7CiAgICBpZih1c2VyQ29va2llKXsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIHJldHVybiBmYWxzZTsKfQo=')
},
{
'name': '/app/js/controllers.js', 'data': base64.b64decode('J3VzZSBzdHJpY3QnOwoKLyogQ29udHJvbGxlcnMgKi8KYW5ndWxhci5tb2R1bGUoJ215QXBwLmNvbnRyb2xsZXJzJywgW10pCiAgICAuY29udHJvbGxlcignQWRtaW5NYWluQ3RybCcsIFsnJHNjb3BlJywgJyRtb2RhbCcsICdDb3Ntb3NTZXJ2aWNlJywgZnVuY3Rpb24oJHNjb3BlLCAkbW9kYWwsIENvc21vc1NlcnZpY2UpIHsKICAgICAgICAkc2NvcGUudXNlck5hbWUgPSBnZXRVc2VyTmFtZSgiTm8gTmFtZSIpOwogICAgICAgICRzY29wZS5sb2dnZWRJbiA9IGxvZ2dlZEluOwogICAgfV0pCiAgICAuY29udHJvbGxlcignSG9tZUN0cmwnLCBbJyRzY29wZScsICckbW9kYWwnLCAnQ29zbW9zU2VydmljZScsIGZ1bmN0aW9uKCRzY29wZSwgJG1vZGFsLCBDb3Ntb3NTZXJ2aWNlKSB7CiAgICAgICAgJHNjb3BlLnNlcnZpY2UgPSAiL3NlcnZpY2UvIjsKICAgICAgICAkc2NvcGUuY29sdW1ucyA9ICIiOwogICAgICAgICRzY29wZS5maWx0ZXIgPSAiIjsKICAgICAgICAkc2NvcGUuZGF0YSA9ICIiOwogICAgICAgICRzY29wZS5yZXN1bHQgPSAiIjsKICAgICAgICAkc2NvcGUuc3RhdHVzID0gIiI7CiAgICAgICAgJHNjb3BlLnN0YXR1c19kYXRhID0gIiI7CgogICAgICAgICRzY29wZS5jbGVhckVycm9yID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgJHNjb3BlLmhhc0Vycm9yID0gZmFsc2U7CiAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSAiIjsKICAgICAgICAgICAgJHNjb3BlLnN0YXR1c19kYXRhID0gIiI7CiAgICAgICAgfTsKCiAgICAgICAgJHNjb3BlLnByb2Nlc3NSZXN1bHQgPSBmdW5jdGlvbihkYXRhKXsKICAgICAgICAgICAgJHNjb3BlLnJlc3VsdCA9IEpTT04uc3RyaW5naWZ5KGRhdGEsdW5kZWZpbmVkLCA0KQogICAgICAgIH07CgogICAgICAgICRzY29wZS5jbGVhclJlc3VsdCA9IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICRzY29wZS5oYXNFcnJvciA9IGZhbHNlOwogICAgICAgICAgICAkc2NvcGUucmVzdWx0ID0gIiI7CiAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSAiIjsKICAgICAgICAgICAgJHNjb3BlLnN0YXR1c19kYXRhID0gIiI7CiAgICAgICAgfTsKCiAgICAgICAgJHNjb3BlLnByb2Nlc3NFcnJvciA9IGZ1bmN0aW9uKGRhdGEsIHN0YXR1cyl7CiAgICAgICAgICAgICRzY29wZS5oYXNFcnJvciA9IHRydWU7CiAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSBzdGF0dXM7CiAgICAgICAgICAgICRzY29wZS5zdGF0dXNfZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpOwogICAgICAgIH07CgogICAgICAgICRzY29wZS5nZXQgPSBmdW5jdGlvbigpewogICAgICAgICAgICAkc2NvcGUuY2xlYXJSZXN1bHQoKTsKICAgICAgICAgICAgdmFyIHVybCA9ICRzY29wZS5zZXJ2aWNlOwogICAgICAgICAgICB2YXIgcXVlcnlTdGFydGVkID0gZmFsc2U7CiAgICAgICAgICAgIGlmKCRzY29wZS5jb2x1bW5zICYmICRzY29wZS5jb2x1bW5zLmxlbmd0aD4wKXsKICAgICAgICAgICAgICAgIHVybCA9IHVybCsiP2NvbHVtbnM9Iiskc2NvcGUuY29sdW1uczsKICAgICAgICAgICAgICAgIHF1ZXJ5U3RhcnRlZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoJHNjb3BlLmZpbHRlciAmJiAkc2NvcGUuZmlsdGVyLmxlbmd0aD4wKXsKICAgICAgICAgICAgICAgIGlmKHF1ZXJ5U3RhcnRlZCl7CiAgICAgICAgICAgICAgICAgICAgdXJsID0gdXJsKyImZmlsdGVyPSIrJHNjb3BlLmZpbHRlcjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHVybCA9IHVybCsiP2ZpbHRlcj0iKyRzY29wZS5maWx0ZXI7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIENvc21vc1NlcnZpY2UuZ2V0KHVybCwgZnVuY3Rpb24gKHJldHVybmVkRGF0YSkgewogICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9jZXNzUmVzdWx0KHJldHVybmVkRGF0YSk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZnVuY3Rpb24oZGF0YSwgc3RhdHVzKXsKICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvY2Vzc0Vycm9yKGRhdGEsIHN0YXR1cyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICk7CiAgICAgICAgfTsKICAgICAgICAkc2NvcGUucG9zdCA9IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICRzY29wZS5jbGVhclJlc3VsdCgpOwogICAgICAgICAgICB2YXIgdXJsID0gJHNjb3BlLnNlcnZpY2U7CiAgICAgICAgICAgIENvc21vc1NlcnZpY2UucG9zdCh1cmwsICRzY29wZS5kYXRhLCBmdW5jdGlvbiAocmV0dXJuZWREYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2Nlc3NSZXN1bHQocmV0dXJuZWREYXRhKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBmdW5jdGlvbihkYXRhLCBzdGF0dXMpewogICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9jZXNzRXJyb3IoZGF0YSwgc3RhdHVzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTsKICAgICAgICB9OwogICAgICAgICRzY29wZS5wdXQgPSBmdW5jdGlvbigpewogICAgICAgICAgICAkc2NvcGUuY2xlYXJSZXN1bHQoKTsKICAgICAgICAgICAgdmFyIHVybCA9ICRzY29wZS5zZXJ2aWNlOwogICAgICAgICAgICBDb3Ntb3NTZXJ2aWNlLnB1dCh1cmwsICRzY29wZS5kYXRhLCBmdW5jdGlvbiAocmV0dXJuZWREYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2Nlc3NSZXN1bHQocmV0dXJuZWREYXRhKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBmdW5jdGlvbihkYXRhLCBzdGF0dXMpewogICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9jZXNzRXJyb3IoZGF0YSwgc3RhdHVzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTsKICAgICAgICB9OwogICAgICAgICRzY29wZS5kZWxldGUgPSBmdW5jdGlvbigpewogICAgICAgICAgICAkc2NvcGUuY2xlYXJSZXN1bHQoKTsKICAgICAgICAgICAgdmFyIHVybCA9ICRzY29wZS5zZXJ2aWNlOwogICAgICAgICAgICBDb3Ntb3NTZXJ2aWNlLmRlbGV0ZSh1cmwsIGZ1bmN0aW9uIChyZXR1cm5lZERhdGEpIHsKICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvY2Vzc1Jlc3VsdChyZXR1cm5lZERhdGEpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGRhdGEsIHN0YXR1cyl7CiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2Nlc3NFcnJvcihkYXRhLCBzdGF0dXMpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApOwogICAgICAgIH07CiAgICB9XSkKICAgIC5jb250cm9sbGVyKCdVc2Vyc0N0cmwnLCBbJyRzY29wZScsICckbW9kYWwnLCAnQ29zbW9zU2VydmljZScsIGZ1bmN0aW9uKCRzY29wZSwgJG1vZGFsLCBDb3Ntb3NTZXJ2aWNlKSB7CgogICAgICAgICRzY29wZS5jbGVhckVycm9yID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgJHNjb3BlLmhhc0Vycm9yID0gZmFsc2U7CiAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSAiIjsKICAgICAgICAgICAgJHNjb3BlLnN0YXR1c19kYXRhID0gIiI7CiAgICAgICAgfTsKCiAgICAgICAgJHNjb3BlLnByb2Nlc3NFcnJvciA9IGZ1bmN0aW9uKGRhdGEsIHN0YXR1cyl7CiAgICAgICAgICAgICRzY29wZS5oYXNFcnJvciA9IHRydWU7CiAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSBzdGF0dXM7CiAgICAgICAgICAgICRzY29wZS5zdGF0dXNfZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpOwogICAgICAgIH07CgogICAgICAgICRzY29wZS5hZGRVc2VyID0gZnVuY3Rpb24gKHNpemUsIGN1cnJlbnRfdXNlcikgewogICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHsKICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvYWRkdXNlci5odG1sJywKICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICJVc2VyTW9kYWxJbnN0YW5jZUN0cmwiLAogICAgICAgICAgICAgICAgc2l6ZTogc2l6ZSwKICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJywKICAgICAgICAgICAgICAgIHJlc29sdmU6IHsKICAgICAgICAgICAgICAgICAgICB1c2VyOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50X3VzZXI7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICByb2xlczogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUucm9sZXM7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICAgICAgICAgIGlmKCF1c2VyLl9pZCkgewogICAgICAgICAgICAgICAgICAgIENvc21vc1NlcnZpY2UucG9zdCgnL3NlcnZpY2UvY29zbW9zLnVzZXJzLycsIHVzZXIsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0VXNlcnMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZGF0YSwgc3RhdHVzKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9jZXNzRXJyb3IoZGF0YSwgc3RhdHVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdXNlcl9pZCA9IHVzZXIuX2lkOwogICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB1c2VyLl9pZDsKICAgICAgICAgICAgICAgICAgICBkZWxldGUgdXNlci5vd25lcjsKICAgICAgICAgICAgICAgICAgICBkZWxldGUgdXNlci51c2VybmFtZTsKICAgICAgICAgICAgICAgICAgICBkZWxldGUgdXNlci5jcmVhdGV0aW1lOwogICAgICAgICAgICAgICAgICAgIGlmKCF1c2VyLnBhc3N3b3JkKXsKICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHVzZXIucGFzc3dvcmQ7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBDb3Ntb3NTZXJ2aWNlLnB1dCgnL3NlcnZpY2UvY29zbW9zLnVzZXJzLycrdXNlcl9pZCsnLycsIHVzZXIsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0VXNlcnMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZGF0YSwgc3RhdHVzKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9jZXNzRXJyb3IoZGF0YSwgc3RhdHVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIC8vJGxvZy5pbmZvKCdNb2RhbCBkaXNtaXNzZWQgYXQ6ICcgKyBuZXcgRGF0ZSgpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgJHNjb3BlLmVkaXRVc2VyID0gZnVuY3Rpb24ocm9sZUluZGV4KXsKICAgICAgICAgICAgJHNjb3BlLmFkZFVzZXIoJ2xnJywgJHNjb3BlLnVzZXJzW3JvbGVJbmRleF0pOwogICAgICAgIH07CgogICAgICAgICRzY29wZS5yZW1vdmVVc2VyID0gZnVuY3Rpb24ocm9sZUluZGV4KXsKICAgICAgICAgICAgdmFyIHVzZXI9ICRzY29wZS51c2Vyc1tyb2xlSW5kZXhdOwoKICAgICAgICAgICAgaWYgKGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhlIHVzZXIgJysgdXNlci51c2VybmFtZSArICc/JykpIHsKICAgICAgICAgICAgICAgIHZhciB1c2VyX2lkID0gdXNlci5faWQ7CiAgICAgICAgICAgICAgICBDb3Ntb3NTZXJ2aWNlLmRlbGV0ZSgnL3NlcnZpY2UvY29zbW9zLnVzZXJzLycrdXNlcl9pZCsnLycsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5nZXRVc2VycygpOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZGF0YSwgc3RhdHVzKXsKICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2Nlc3NFcnJvcihkYXRhLCBzdGF0dXMpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KCiAgICAgICAgfTsKCiAgICAgICAgJHNjb3BlLmdldFJvbGVzID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIENvc21vc1NlcnZpY2UuZ2V0KCcvc2VydmljZS9jb3Ntb3MucmJhYy5vYmplY3Qucm9sZS8nLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgICAgJHNjb3BlLnJvbGVzID0gZGF0YTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZnVuY3Rpb24oZGF0YSwgc3RhdHVzKXsKICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvY2Vzc0Vycm9yKGRhdGEsIHN0YXR1cyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgICRzY29wZS5nZXRSb2xlcygpOwoKICAgICAgICAkc2NvcGUuZ2V0VXNlcnMgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgQ29zbW9zU2VydmljZS5nZXQoJy9zZXJ2aWNlL2Nvc21vcy51c2Vycy8nLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgICAgICAgICRzY29wZS51c2VycyA9IGRhdGE7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZnVuY3Rpb24oZGF0YSwgc3RhdHVzKXsKICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvY2Vzc0Vycm9yKGRhdGEsIHN0YXR1cyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICk7CiAgICAgICAgfTsKCiAgICAgICAgJHNjb3BlLmdldFVzZXJzKCk7CiAgfV0pCiAgLmNvbnRyb2xsZXIoJ1JvbGVzQ3RybCcsIFsnJHNjb3BlJywgJyRtb2RhbCcsICdDb3Ntb3NTZXJ2aWNlJywgZnVuY3Rpb24oJHNjb3BlLCAkbW9kYWwsIENvc21vc1NlcnZpY2UpIHsKCiAgICAgICAgJHNjb3BlLmNsZWFyRXJyb3IgPSBmdW5jdGlvbigpewogICAgICAgICAgICAkc2NvcGUuaGFzRXJyb3IgPSBmYWxzZTsKICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9ICIiOwogICAgICAgICAgICAkc2NvcGUuc3RhdHVzX2RhdGEgPSAiIjsKICAgICAgICB9OwoKICAgICAgICAkc2NvcGUucHJvY2Vzc0Vycm9yID0gZnVuY3Rpb24oZGF0YSwgc3RhdHVzKXsKICAgICAgICAgICAgJHNjb3BlLmhhc0Vycm9yID0gdHJ1ZTsKICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IHN0YXR1czsKICAgICAgICAgICAgJHNjb3BlLnN0YXR1c19kYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7CiAgICAgICAgfTsKCiAgICAgICAgJHNjb3BlLmFkZFJvbGUgPSBmdW5jdGlvbiAoc2l6ZSwgY3VycmVudF9yb2xlKSB7CiAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oewogICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9hZGRyb2xlLmh0bWwnLAogICAgICAgICAgICAgICAgY29udHJvbGxlcjogIlJvbGVNb2RhbEluc3RhbmNlQ3RybCIsCiAgICAgICAgICAgICAgICBzaXplOiBzaXplLAogICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLAogICAgICAgICAgICAgICAgcmVzb2x2ZTogewogICAgICAgICAgICAgICAgICAgIHJvbGU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRfcm9sZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAocm9sZSkgewogICAgICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRfcm9sZSA9IHJvbGU7CiAgICAgICAgICAgICAgICBpZighcm9sZS5faWQpIHsKICAgICAgICAgICAgICAgICAgICBDb3Ntb3NTZXJ2aWNlLnBvc3QoJy9zZXJ2aWNlL2Nvc21vcy5yYmFjLm9iamVjdC5yb2xlLycsIHJvbGUsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5nZXRSb2xlcygpOwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihkYXRhLCBzdGF0dXMpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2Nlc3NFcnJvcihkYXRhLCBzdGF0dXMpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJvbGVfaWQgPSByb2xlLl9pZDsKICAgICAgICAgICAgICAgICAgICBkZWxldGUgcm9sZS5faWQ7CiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJvbGUuc2lkOwogICAgICAgICAgICAgICAgICAgIENvc21vc1NlcnZpY2UucHV0KCcvc2VydmljZS9jb3Ntb3MucmJhYy5vYmplY3Qucm9sZS8nK3JvbGVfaWQrJy8nLCByb2xlLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdldFJvbGVzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGRhdGEsIHN0YXR1cyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvY2Vzc0Vycm9yKGRhdGEsIHN0YXR1cyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAvLyRsb2cuaW5mbygnTW9kYWwgZGlzbWlzc2VkIGF0OiAnICsgbmV3IERhdGUoKSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgICRzY29wZS5lZGl0Um9sZSA9IGZ1bmN0aW9uKHJvbGVJbmRleCl7CiAgICAgICAgICAgICRzY29wZS5hZGRSb2xlKCdsZycsICRzY29wZS5yb2xlc1tyb2xlSW5kZXhdKTsKICAgICAgICB9OwoKICAgICAgICAkc2NvcGUucmVtb3ZlUm9sZSA9IGZ1bmN0aW9uKHJvbGVJbmRleCl7CiAgICAgICAgICAgIHZhciByb2xlID0gICRzY29wZS5yb2xlc1tyb2xlSW5kZXhdOwogICAgICAgICAgICBpZiAoY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGUgcm9sZSAnKyByb2xlLm5hbWUgKyAnPycpKSB7CiAgICAgICAgICAgICAgICB2YXIgcm9sZV9pZCA9IHJvbGUuX2lkOwogICAgICAgICAgICAgICAgQ29zbW9zU2VydmljZS5kZWxldGUoJy9zZXJ2aWNlL2Nvc21vcy5yYmFjLm9iamVjdC5yb2xlLycrcm9sZV9pZCsnLycsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5nZXRSb2xlcygpOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZGF0YSwgc3RhdHVzKXsKICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2Nlc3NFcnJvcihkYXRhLCBzdGF0dXMpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICAkc2NvcGUuZ2V0Um9sZXMgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgQ29zbW9zU2VydmljZS5nZXQoJy9zZXJ2aWNlL2Nvc21vcy5yYmFjLm9iamVjdC5yb2xlLycsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJvbGVzID0gZGF0YTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBmdW5jdGlvbihkYXRhLCBzdGF0dXMpewogICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvY2Vzc0Vycm9yKGRhdGEsIHN0YXR1cyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICk7CiAgICAgICAgfTsKCiAgICAgICAgJHNjb3BlLmdldFJvbGVzKCk7CiAgICB9XSkKICAgIC5jb250cm9sbGVyKCdVc2VyTW9kYWxJbnN0YW5jZUN0cmwnLCBbJyRzY29wZScsJyRtb2RhbEluc3RhbmNlJywgJ3JvbGVzJywgJ3VzZXInLCAgZnVuY3Rpb24gKCRzY29wZSwgJG1vZGFsSW5zdGFuY2UsIHJvbGVzLCB1c2VyKSB7CiAgICAgICAgJHNjb3BlLnVzZXIgPSB1c2VyIHx8IHsidXNlcm5hbWUiOm51bGwsICJwYXNzd29yZCI6bnVsbCwgInBhc3N3b3JkX3JlIjpudWxsLCAiZW1haWwiOiBudWxsLCAicm9sZXMiOltdfTsKICAgICAgICAkc2NvcGUudXNlci5wYXNzd29yZCA9IG51bGw7CiAgICAgICAgJHNjb3BlLmlzVXBkYXRpbmcgPSAodXNlciAmJiB1c2VyLl9pZCAmJiB1c2VyLl9pZC5sZW5ndGggPjApOwogICAgICAgICRzY29wZS5yb2xlcyA9IHJvbGVzOwoKICAgICAgICAkc2NvcGUuZ2V0Um9sZU5hbWUgPSBmdW5jdGlvbihzaWQpewogICAgICAgICAgICB2YXIgZm91bmRfcm9sZSA9ICJbQnVpbHRpbiBSb2xlXSIKICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5yb2xlcywgZnVuY3Rpb24ocm9sZSwga2V5KXsKICAgICAgICAgICAgICAgIGlmKHJvbGUuc2lkID09PSBzaWQpewogICAgICAgICAgICAgICAgICAgIGZvdW5kX3JvbGUgPSByb2xlLm5hbWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgcmV0dXJuIGZvdW5kX3JvbGU7CiAgICAgICAgfTsKCiAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZigkc2NvcGUudXNlci51c2VybmFtZSAmJiAoJHNjb3BlLnVzZXIucGFzc3dvcmQgfHwgJHNjb3BlLmlzVXBkYXRpbmcpKSB7CiAgICAgICAgICAgICAgICBpZigkc2NvcGUudXNlci5wYXNzd29yZCA9PSAkc2NvcGUudXNlci5wYXNzd29yZF9yZSkgewogICAgICAgICAgICAgICAgICAgIGRlbGV0ZSAkc2NvcGUudXNlci5wYXNzd29yZF9yZTsKICAgICAgICAgICAgICAgICAgICAkbW9kYWxJbnN0YW5jZS5jbG9zZSgkc2NvcGUudXNlcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgICRzY29wZS5oYXNlcnJvciA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgICRzY29wZS5oYXNlcnJvciA9IHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgfTsKCiAgICAgICAgJHNjb3BlLnJlbW92ZVJvbGUgPSBmdW5jdGlvbihpbmRleCl7CiAgICAgICAgICAgICRzY29wZS51c2VyLnJvbGVzLnNwbGljZShpbmRleCwxKTsKICAgICAgICB9CgogICAgICAgICRzY29wZS5hZGRSb2xlID0gZnVuY3Rpb24oc2VsZWN0ZWRfcm9sZSl7CiAgICAgICAgICAgIGlmKCFzZWxlY3RlZF9yb2xlIHx8IHNlbGVjdGVkX3JvbGUubGVuZ3RoIDwgMSl7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIGR1cCA9IGZhbHNlOwogICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLnVzZXIucm9sZXMsIGZ1bmN0aW9uKHJvbGVzaWQsaW5kZXgpewogICAgICAgICAgICAgICBpZihyb2xlc2lkID09PSBzZWxlY3RlZF9yb2xlKXsKICAgICAgICAgICAgICAgICAgIGR1cCA9IHRydWU7CiAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmKCFkdXApIHsKICAgICAgICAgICAgICAgICRzY29wZS51c2VyLnJvbGVzLnB1c2goc2VsZWN0ZWRfcm9sZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkbW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTsKICAgICAgICB9OwogICAgfV0pCiAgICAuY29udHJvbGxlcignUm9sZU1vZGFsSW5zdGFuY2VDdHJsJywgWyckc2NvcGUnLCckbW9kYWxJbnN0YW5jZScsICdyb2xlJywgZnVuY3Rpb24gKCRzY29wZSwgJG1vZGFsSW5zdGFuY2UsIHJvbGUpIHsKICAgICAgICAkc2NvcGUucm9sZSA9IHsibmFtZSI6bnVsbCwgInJvbGVfaXRlbXMiOltdfTsKCiAgICAgICAgJHNjb3BlLmFjY2Vzc190eXBlcyA9IFsKICAgICAgICAgICAge25hbWU6J2FjY2VzcycsIGRpc3BsYXk6J1JvbGUgYWNjZXNzJ30sCiAgICAgICAgICAgIHtuYW1lOidvd25lcl9hY2Nlc3MnLCBkaXNwbGF5OidPd25lciBhY2Nlc3MnfQogICAgICAgIF07CgogICAgICAgICRzY29wZS5wb3B1bGF0ZSA9IGZ1bmN0aW9uKHJvbGUpewogICAgICAgICAgICBpZighcm9sZSl7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJHNjb3BlLmlzVXBkYXRpbmcgPSAocm9sZS5faWQgJiYgcm9sZS5faWQubGVuZ3RoID4gMCk7CiAgICAgICAgICAgICRzY29wZS5yb2xlLl9pZCA9IHJvbGUuX2lkOwogICAgICAgICAgICAkc2NvcGUucm9sZS5uYW1lID0gcm9sZS5uYW1lOwogICAgICAgICAgICAkc2NvcGUucm9sZS5zaWQgPSByb2xlLnNpZDsKICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHJvbGUucm9sZV9pdGVtcywgZnVuY3Rpb24ocm9sZV9pdGVtLCBrZXkpewogICAgICAgICAgICAgICAgcm9sZV9pdGVtLmFjY2Vzc19iaXRzID0gW107CiAgICAgICAgICAgICAgICBpZihyb2xlX2l0ZW0uYWNjZXNzICYmIHJvbGVfaXRlbS5hY2Nlc3MubGVuZ3RoID4wICl7CiAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSBqUXVlcnkuaW5BcnJheSgiUkVBRCIsIHJvbGVfaXRlbS5hY2Nlc3MpID4gLTE7CiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBqUXVlcnkuaW5BcnJheSgiSU5TRVJUIiwgcm9sZV9pdGVtLmFjY2VzcykgPiAtMTsKICAgICAgICAgICAgICAgICAgICB2YXIgdyA9IGpRdWVyeS5pbkFycmF5KCJXUklURSIsIHJvbGVfaXRlbS5hY2Nlc3MpID4gLTE7CiAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSBqUXVlcnkuaW5BcnJheSgiREVMRVRFIiwgcm9sZV9pdGVtLmFjY2VzcykgPiAtMTsKCiAgICAgICAgICAgICAgICAgICAgcm9sZV9pdGVtLmFjY2Vzc19iaXRzLnJlYWQgPSByOwogICAgICAgICAgICAgICAgICAgIHJvbGVfaXRlbS5hY2Nlc3NfYml0cy5pbnNlcnQgPSBpOwogICAgICAgICAgICAgICAgICAgIHJvbGVfaXRlbS5hY2Nlc3NfYml0cy53cml0ZSA9IHc7CiAgICAgICAgICAgICAgICAgICAgcm9sZV9pdGVtLmFjY2Vzc19iaXRzLmRlbGV0ZSA9IGQ7CiAgICAgICAgICAgICAgICAgICAgcm9sZV9pdGVtLnR5cGUgPSAkc2NvcGUuYWNjZXNzX3R5cGVzWzBdLm5hbWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmKHJvbGVfaXRlbS5vd25lcl9hY2Nlc3MgJiYgcm9sZV9pdGVtLm93bmVyX2FjY2Vzcy5sZW5ndGggPjAgKXsKICAgICAgICAgICAgICAgICAgICB2YXIgciA9IGpRdWVyeS5pbkFycmF5KCJSRUFEIiwgcm9sZV9pdGVtLm93bmVyX2FjY2VzcykgPiAtMTsKICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IGpRdWVyeS5pbkFycmF5KCJJTlNFUlQiLCByb2xlX2l0ZW0ub3duZXJfYWNjZXNzKSA+IC0xOwogICAgICAgICAgICAgICAgICAgIHZhciB3ID0galF1ZXJ5LmluQXJyYXkoIldSSVRFIiwgcm9sZV9pdGVtLm93bmVyX2FjY2VzcykgPiAtMTsKICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IGpRdWVyeS5pbkFycmF5KCJERUxFVEUiLCByb2xlX2l0ZW0ub3duZXJfYWNjZXNzKSA+IC0xOwoKICAgICAgICAgICAgICAgICAgICByb2xlX2l0ZW0uYWNjZXNzX2JpdHMucmVhZCA9IHI7CiAgICAgICAgICAgICAgICAgICAgcm9sZV9pdGVtLmFjY2Vzc19iaXRzLmluc2VydCA9IGk7CiAgICAgICAgICAgICAgICAgICAgcm9sZV9pdGVtLmFjY2Vzc19iaXRzLndyaXRlID0gdzsKICAgICAgICAgICAgICAgICAgICByb2xlX2l0ZW0uYWNjZXNzX2JpdHMuZGVsZXRlID0gZDsKICAgICAgICAgICAgICAgICAgICByb2xlX2l0ZW0udHlwZSA9ICRzY29wZS5hY2Nlc3NfdHlwZXNbMV0ubmFtZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAkc2NvcGUucm9sZS5yb2xlX2l0ZW1zLnB1c2gocm9sZV9pdGVtKTsKCiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgICRzY29wZS5hZGRSb2xlSXRlbSA9IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICRzY29wZS5yb2xlLnJvbGVfaXRlbXMucHVzaCh7fSk7CiAgICAgICAgfTsKCiAgICAgICAgJHNjb3BlLnJlbW92ZVJvbGVJdGVtID0gZnVuY3Rpb24oaW5kZXgpewogICAgICAgICAgICAkc2NvcGUucm9sZS5yb2xlX2l0ZW1zLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgfTsKCiAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZigkc2NvcGUucm9sZS5uYW1lICYmICRzY29wZS5yb2xlLnJvbGVfaXRlbXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgdmFyIGhhc2Vycm9yID0gZmFsc2U7CiAgICAgICAgICAgICAgICB2YXIgcm9sZV9kYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6JHNjb3BlLnJvbGUubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAib2JqZWN0LlJvbGUiCiAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBpZigkc2NvcGUucm9sZS5zaWQpewogICAgICAgICAgICAgICAgICAgIHJvbGVfZGF0YVsic2lkIl0gPSAkc2NvcGUucm9sZS5zaWQ7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcm9sZV9kYXRhWyJfaWQiXSA9ICRzY29wZS5yb2xlLl9pZDsKCiAgICAgICAgICAgICAgICByb2xlX2RhdGFbInJvbGVfaXRlbXMiXSA9IFtdOwoKICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUucm9sZS5yb2xlX2l0ZW1zLCBmdW5jdGlvbihyb2xlX2l0ZW0sIGtleSl7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJvbGVfaXRlbV9kYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICAib2JqZWN0X25hbWUiOnJvbGVfaXRlbS5vYmplY3RfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgInByb3BlcnR5X25hbWUiOiByb2xlX2l0ZW0ucHJvcGVydHlfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiJvYmplY3QuUm9sZUl0ZW0iCiAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgcm9sZV9pdGVtX2RhdGFbcm9sZV9pdGVtLnR5cGVdID0gW107CgogICAgICAgICAgICAgICAgICAgIGlmKHJvbGVfaXRlbS5hY2Nlc3NfYml0cy5yZWFkKXsKICAgICAgICAgICAgICAgICAgICAgICAgcm9sZV9pdGVtX2RhdGFbcm9sZV9pdGVtLnR5cGVdLnB1c2goIlJFQUQiKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmKHJvbGVfaXRlbS5hY2Nlc3NfYml0cy5pbnNlcnQpewogICAgICAgICAgICAgICAgICAgICAgICByb2xlX2l0ZW1fZGF0YVtyb2xlX2l0ZW0udHlwZV0ucHVzaCgiSU5TRVJUIik7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZihyb2xlX2l0ZW0uYWNjZXNzX2JpdHMud3JpdGUpewogICAgICAgICAgICAgICAgICAgICAgICByb2xlX2l0ZW1fZGF0YVtyb2xlX2l0ZW0udHlwZV0ucHVzaCgiV1JJVEUiKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmKHJvbGVfaXRlbS5hY2Nlc3NfYml0cy5kZWxldGUpewogICAgICAgICAgICAgICAgICAgICAgICByb2xlX2l0ZW1fZGF0YVtyb2xlX2l0ZW0udHlwZV0ucHVzaCgiREVMRVRFIik7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICByb2xlX2RhdGFbInJvbGVfaXRlbXMiXS5wdXNoKHJvbGVfaXRlbV9kYXRhKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmKCFoYXNlcnJvcikgewogICAgICAgICAgICAgICAgICAgICRtb2RhbEluc3RhbmNlLmNsb3NlKHJvbGVfZGF0YSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgICRzY29wZS5oYXNlcnJvciA9IHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgfTsKCiAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJG1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7CiAgICAgICAgfTsKCiAgICAgICAgJHNjb3BlLnBvcHVsYXRlKHJvbGUpOwogICAgfV0pCjsK')
},
{
'name': '/app/img/.gitkeep', 'data': base64.b64decode('')
},
{
'name': '/app/css/.gitkeep', 'data': base64.b64decode('')
},
{
'name': '/app/css/app.css', 'data': base64.b64decode('LyogYXBwIGNzcyBzdHlsZXNoZWV0ICovCgoubWVudSB7CiAgbGlzdC1zdHlsZTogbm9uZTsKICBib3JkZXItYm90dG9tOiAwLjFlbSBzb2xpZCBibGFjazsKICBtYXJnaW4tYm90dG9tOiAyZW07CiAgcGFkZGluZzogMCAwIDAuNWVtOwp9CgoubWVudTpiZWZvcmUgewogIGNvbnRlbnQ6ICJbIjsKfQoKLm1lbnU6YWZ0ZXIgewogIGNvbnRlbnQ6ICJdIjsKfQoKLm1lbnUgPiBsaSB7CiAgZGlzcGxheTogaW5saW5lOwp9CgoubWVudSA+IGxpOmJlZm9yZSB7CiAgY29udGVudDogInwiOwogIHBhZGRpbmctcmlnaHQ6IDAuM2VtOwp9CgoubWVudSA+IGxpOm50aC1jaGlsZCgxKTpiZWZvcmUgewogIGNvbnRlbnQ6ICIiOwogIHBhZGRpbmc6IDA7Cn0K')
},
{
'name': '/app/bower_components/html5-boilerplate/.htaccess', 'data': base64.b64decode('IyBBcGFjaGUgU2VydmVyIENvbmZpZ3MgdjEuMS4wIHwgTUlUIExpY2Vuc2UKIyBodHRwczovL2dpdGh1Yi5jb20vaDVicC9zZXJ2ZXItY29uZmlncy1hcGFjaGUKCiMgKCEpIFVzaW5nIGAuaHRhY2Nlc3NgIGZpbGVzIHNsb3dzIGRvd24gQXBhY2hlLCB0aGVyZWZvcmUsIGlmIHlvdSBoYXZlIGFjY2VzcwojIHRvIHRoZSBtYWluIHNlcnZlciBjb25maWcgZmlsZSAodXN1YWxseSBjYWxsZWQgYGh0dHBkLmNvbmZgKSwgeW91IHNob3VsZCBhZGQKIyB0aGlzIGxvZ2ljIHRoZXJlOiBodHRwOi8vaHR0cGQuYXBhY2hlLm9yZy9kb2NzL2N1cnJlbnQvaG93dG8vaHRhY2Nlc3MuaHRtbC4KCiMgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMgIyBDUk9TUy1PUklHSU4gUkVTT1VSQ0UgU0hBUklORyAoQ09SUykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjCiMgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIHwgQ3Jvc3MtZG9tYWluIEFKQVggcmVxdWVzdHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKIyBFbmFibGUgY3Jvc3Mtb3JpZ2luIEFKQVggcmVxdWVzdHMuCiMgaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2h0bWw1c2VjdXJpdHkvd2lraS9Dcm9zc09yaWdpblJlcXVlc3RTZWN1cml0eQojIGh0dHA6Ly9lbmFibGUtY29ycy5vcmcvCgojIDxJZk1vZHVsZSBtb2RfaGVhZGVycy5jPgojICAgIEhlYWRlciBzZXQgQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luICIqIgojIDwvSWZNb2R1bGU+CgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIHwgQ09SUy1lbmFibGVkIGltYWdlcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKIyBTZW5kIHRoZSBDT1JTIGhlYWRlciBmb3IgaW1hZ2VzIHdoZW4gYnJvd3NlcnMgcmVxdWVzdCBpdC4KIyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9DT1JTX0VuYWJsZWRfSW1hZ2UKIyBodHRwOi8vYmxvZy5jaHJvbWl1bS5vcmcvMjAxMS8wNy91c2luZy1jcm9zcy1kb21haW4taW1hZ2VzLWluLXdlYmdsLWFuZC5odG1sCiMgaHR0cDovL2hhY2tzLm1vemlsbGEub3JnLzIwMTEvMTEvdXNpbmctY29ycy10by1sb2FkLXdlYmdsLXRleHR1cmVzLWZyb20tY3Jvc3MtZG9tYWluLWltYWdlcy8KCjxJZk1vZHVsZSBtb2Rfc2V0ZW52aWYuYz4KICAgIDxJZk1vZHVsZSBtb2RfaGVhZGVycy5jPgogICAgICAgIDxGaWxlc01hdGNoICJcLihnaWZ8aWNvfGpwZT9nfHBuZ3xzdmd6P3x3ZWJwKSQiPgogICAgICAgICAgICBTZXRFbnZJZiBPcmlnaW4gIjoiIElTX0NPUlMKICAgICAgICAgICAgSGVhZGVyIHNldCBBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4gIioiIGVudj1JU19DT1JTCiAgICAgICAgPC9GaWxlc01hdGNoPgogICAgPC9JZk1vZHVsZT4KPC9JZk1vZHVsZT4KCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgfCBXZWIgZm9udHMgYWNjZXNzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8CiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgojIEFsbG93IGFjY2VzcyBmcm9tIGFsbCBkb21haW5zIGZvciB3ZWIgZm9udHMKCjxJZk1vZHVsZSBtb2RfaGVhZGVycy5jPgogICAgPEZpbGVzTWF0Y2ggIlwuKGVvdHxmb250LmNzc3xvdGZ8dHRjfHR0Znx3b2ZmKSQiPgogICAgICAgIEhlYWRlciBzZXQgQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luICIqIgogICAgPC9GaWxlc01hdGNoPgo8L0lmTW9kdWxlPgoKCiMgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMgIyBFUlJPUlMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjCiMgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIHwgNDA0IGVycm9yIHByZXZlbnRpb24gZm9yIG5vbi1leGlzdGluZyByZWRpcmVjdGVkIGZvbGRlcnMgICAgICAgICAgICAgICAgICAgfAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKIyBQcmV2ZW50IEFwYWNoZSBmcm9tIHJldHVybmluZyBhIDQwNCBlcnJvciBmb3IgYSByZXdyaXRlIGlmIGEgZGlyZWN0b3J5CiMgd2l0aCB0aGUgc2FtZSBuYW1lIGRvZXMgbm90IGV4aXN0LgojIGh0dHA6Ly9odHRwZC5hcGFjaGUub3JnL2RvY3MvY3VycmVudC9jb250ZW50LW5lZ290aWF0aW9uLmh0bWwjbXVsdGl2aWV3cwojIGh0dHA6Ly93d3cud2VibWFzdGVyd29ybGQuY29tL2FwYWNoZS8zODA4NzkyLmh0bQoKT3B0aW9ucyAtTXVsdGlWaWV3cwoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyB8IEN1c3RvbSBlcnJvciBtZXNzYWdlcyAvIHBhZ2VzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiMgWW91IGNhbiBjdXN0b21pemUgd2hhdCBBcGFjaGUgcmV0dXJucyB0byB0aGUgY2xpZW50IGluIGNhc2Ugb2YgYW4gZXJyb3IgKHNlZQojIGh0dHA6Ly9odHRwZC5hcGFjaGUub3JnL2RvY3MvY3VycmVudC9tb2QvY29yZS5odG1sI2Vycm9yZG9jdW1lbnQpLCBlLmcuOgoKRXJyb3JEb2N1bWVudCA0MDQgLzQwNC5odG1sCgoKIyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyAjIElOVEVSTkVUIEVYUExPUkVSICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMKIyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgfCBCZXR0ZXIgd2Vic2l0ZSBleHBlcmllbmNlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8CiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgojIEZvcmNlIElFIHRvIHJlbmRlciBwYWdlcyBpbiB0aGUgaGlnaGVzdCBhdmFpbGFibGUgbW9kZSBpbiB0aGUgdmFyaW91cwojIGNhc2VzIHdoZW4gaXQgbWF5IG5vdDogaHR0cDovL2hzaXZvbmVuLmlraS5maS9kb2N0eXBlL2llLW1vZGUucGRmLgoKPElmTW9kdWxlIG1vZF9oZWFkZXJzLmM+CiAgICBIZWFkZXIgc2V0IFgtVUEtQ29tcGF0aWJsZSAiSUU9ZWRnZSIKICAgICMgYG1vZF9oZWFkZXJzYCBjYW4ndCBtYXRjaCBiYXNlZCBvbiB0aGUgY29udGVudC10eXBlLCBob3dldmVyLCB3ZSBvbmx5CiAgICAjIHdhbnQgdG8gc2VuZCB0aGlzIGhlYWRlciBmb3IgSFRNTCBwYWdlcyBhbmQgbm90IGZvciB0aGUgb3RoZXIgcmVzb3VyY2VzCiAgICA8RmlsZXNNYXRjaCAiXC4oYXBwY2FjaGV8Y3J4fGNzc3xlb3R8Z2lmfGh0Y3xpY298anBlP2d8anN8bTRhfG00dnxtYW5pZmVzdHxtcDR8b2V4fG9nYXxvZ2d8b2d2fG90ZnxwZGZ8cG5nfHNhZmFyaWV4dHp8c3Znej98dHRmfHZjZnx3ZWJhcHB8d2VibXx3ZWJwfHdvZmZ8eG1sfHhwaSkkIj4KICAgICAgICBIZWFkZXIgdW5zZXQgWC1VQS1Db21wYXRpYmxlCiAgICA8L0ZpbGVzTWF0Y2g+CjwvSWZNb2R1bGU+CgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIHwgQ29va2llIHNldHRpbmcgZnJvbSBpZnJhbWVzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKIyBBbGxvdyBjb29raWVzIHRvIGJlIHNldCBmcm9tIGlmcmFtZXMgaW4gSUUuCgojIDxJZk1vZHVsZSBtb2RfaGVhZGVycy5jPgojICAgSGVhZGVyIHNldCBQM1AgInBvbGljeXJlZj1cIi93M2MvcDNwLnhtbFwiLCBDUD1cIklEQyBEU1AgQ09SIEFETSBERVZpIFRBSWkgUFNBIFBTRCBJVkFpIElWRGkgQ09OaSBISVMgT1VSIElORCBDTlRcIiIKIyA8L0lmTW9kdWxlPgoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyB8IFNjcmVlbiBmbGlja2VyICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiMgU3RvcCBzY3JlZW4gZmxpY2tlciBpbiBJRSBvbiBDU1Mgcm9sbG92ZXJzICh0aGlzIG9ubHkgd29ya3MgaW4KIyBjb21iaW5hdGlvbiB3aXRoIHRoZSBgRXhwaXJlc0J5VHlwZWAgZGlyZWN0aXZlcyBmb3IgaW1hZ2VzIGZyb20gYmVsb3cpLgoKIyBCcm93c2VyTWF0Y2ggIk1TSUUiIGJyb2tlbnZhcnk9MQojIEJyb3dzZXJNYXRjaCAiTW96aWxsYS80LlswLTldezJ9IiBicm9rZW52YXJ5PTEKIyBCcm93c2VyTWF0Y2ggIk9wZXJhIiAhYnJva2VudmFyeQojIFNldEVudklmIGJyb2tlbnZhcnkgMSBmb3JjZS1uby12YXJ5CgoKIyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyAjIE1JTUUgVFlQRVMgQU5EIEVOQ09ESU5HICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMKIyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgfCBQcm9wZXIgTUlNRSB0eXBlcyBmb3IgYWxsIGZpbGVzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8CiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgo8SWZNb2R1bGUgbW9kX21pbWUuYz4KCiAgIyBBdWRpbwogICAgQWRkVHlwZSBhdWRpby9tcDQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG00YSBmNGEgZjRiCiAgICBBZGRUeXBlIGF1ZGlvL29nZyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2dhIG9nZwoKICAjIEphdmFTY3JpcHQKICAgICMgTm9ybWFsaXplIHRvIHN0YW5kYXJkIHR5cGUgKGl0J3Mgc25pZmZlZCBpbiBJRSBhbnl3YXlzKToKICAgICMgaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNDMyOSNzZWN0aW9uLTcuMgogICAgQWRkVHlwZSBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0ICAgICAgICAgICAgICAgICAgICAgIGpzCiAgICBBZGRUeXBlIGFwcGxpY2F0aW9uL2pzb24gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbgoKICAjIFZpZGVvCiAgICBBZGRUeXBlIHZpZGVvL21wNCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXA0IG00diBmNHYgZjRwCiAgICBBZGRUeXBlIHZpZGVvL29nZyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2d2CiAgICBBZGRUeXBlIHZpZGVvL3dlYm0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VibQogICAgQWRkVHlwZSB2aWRlby94LWZsdiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsdgoKICAjIFdlYiBmb250cwogICAgQWRkVHlwZSBhcHBsaWNhdGlvbi9mb250LXdvZmYgICAgICAgICAgICAgICAgICAgICAgIHdvZmYKICAgIEFkZFR5cGUgYXBwbGljYXRpb24vdm5kLm1zLWZvbnRvYmplY3QgICAgICAgICAgICAgICBlb3QKCiAgICAjIEJyb3dzZXJzIHVzdWFsbHkgaWdub3JlIHRoZSBmb250IE1JTUUgdHlwZXMgYW5kIHNuaWZmIHRoZSBjb250ZW50LAogICAgIyBob3dldmVyLCBDaHJvbWUgc2hvd3MgYSB3YXJuaW5nIGlmIG90aGVyIE1JTUUgdHlwZXMgYXJlIHVzZWQgZm9yIHRoZQogICAgIyBmb2xsb3dpbmcgZm9udHMuCiAgICBBZGRUeXBlIGFwcGxpY2F0aW9uL3gtZm9udC10dGYgICAgICAgICAgICAgICAgICAgICAgdHRjIHR0ZgogICAgQWRkVHlwZSBmb250L29wZW50eXBlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90ZgoKICAgICMgTWFrZSBTVkdaIGZvbnRzIHdvcmsgb24gaVBhZDoKICAgICMgaHR0cHM6Ly90d2l0dGVyLmNvbS9Gb250U3F1aXJyZWwvc3RhdHVzLzE0ODU1ODQwNTQ1CiAgICBBZGRUeXBlICAgICBpbWFnZS9zdmcreG1sICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ZnIHN2Z3oKICAgIEFkZEVuY29kaW5nIGd6aXAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdmd6CgogICMgT3RoZXIKICAgIEFkZFR5cGUgYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtICAgICAgICAgICAgICAgICAgICBzYWZhcmlleHR6CiAgICBBZGRUeXBlIGFwcGxpY2F0aW9uL3gtY2hyb21lLWV4dGVuc2lvbiAgICAgICAgICAgICAgY3J4CiAgICBBZGRUeXBlIGFwcGxpY2F0aW9uL3gtb3BlcmEtZXh0ZW5zaW9uICAgICAgICAgICAgICAgb2V4CiAgICBBZGRUeXBlIGFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoICAgICAgICAgICAgICAgc3dmCiAgICBBZGRUeXBlIGFwcGxpY2F0aW9uL3gtd2ViLWFwcC1tYW5pZmVzdCtqc29uICAgICAgICAgd2ViYXBwCiAgICBBZGRUeXBlIGFwcGxpY2F0aW9uL3gteHBpbnN0YWxsICAgICAgICAgICAgICAgICAgICAgeHBpCiAgICBBZGRUeXBlIGFwcGxpY2F0aW9uL3htbCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXRvbSByZGYgcnNzIHhtbAogICAgQWRkVHlwZSBpbWFnZS93ZWJwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYnAKICAgIEFkZFR5cGUgaW1hZ2UveC1pY29uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY28KICAgIEFkZFR5cGUgdGV4dC9jYWNoZS1tYW5pZmVzdCAgICAgICAgICAgICAgICAgICAgICAgICBhcHBjYWNoZSBtYW5pZmVzdAogICAgQWRkVHlwZSB0ZXh0L3Z0dCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZ0dAogICAgQWRkVHlwZSB0ZXh0L3gtY29tcG9uZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0YwogICAgQWRkVHlwZSB0ZXh0L3gtdmNhcmQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZjZgoKPC9JZk1vZHVsZT4KCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgfCBVVEYtOCBlbmNvZGluZyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8CiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgojIFVzZSBVVEYtOCBlbmNvZGluZyBmb3IgYW55dGhpbmcgc2VydmVkIGFzIGB0ZXh0L2h0bWxgIG9yIGB0ZXh0L3BsYWluYC4KQWRkRGVmYXVsdENoYXJzZXQgdXRmLTgKCiMgRm9yY2UgVVRGLTggZm9yIGNlcnRhaW4gZmlsZSBmb3JtYXRzLgo8SWZNb2R1bGUgbW9kX21pbWUuYz4KICAgIEFkZENoYXJzZXQgdXRmLTggLmF0b20gLmNzcyAuanMgLmpzb24gLnJzcyAudnR0IC53ZWJhcHAgLnhtbAo8L0lmTW9kdWxlPgoKCiMgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMgIyBVUkwgUkVXUklURVMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjCiMgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIHwgUmV3cml0ZSBlbmdpbmUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKIyBUdXJuaW5nIG9uIHRoZSByZXdyaXRlIGVuZ2luZSBhbmQgZW5hYmxpbmcgdGhlIGBGb2xsb3dTeW1MaW5rc2Agb3B0aW9uIGlzCiMgbmVjZXNzYXJ5IGZvciB0aGUgZm9sbG93aW5nIGRpcmVjdGl2ZXMgdG8gd29yay4KCiMgSWYgeW91ciB3ZWIgaG9zdCBkb2Vzbid0IGFsbG93IHRoZSBgRm9sbG93U3ltbGlua3NgIG9wdGlvbiwgeW91IG1heSBuZWVkIHRvCiMgY29tbWVudCBpdCBvdXQgYW5kIHVzZSBgT3B0aW9ucyArU3ltTGlua3NJZk93bmVyTWF0Y2hgIGJ1dCwgYmUgYXdhcmUgb2YgdGhlCiMgcGVyZm9ybWFuY2UgaW1wYWN0OiBodHRwOi8vaHR0cGQuYXBhY2hlLm9yZy9kb2NzL2N1cnJlbnQvbWlzYy9wZXJmLXR1bmluZy5odG1sI3N5bWxpbmtzCgojIEFsc28sIHNvbWUgY2xvdWQgaG9zdGluZyBzZXJ2aWNlcyByZXF1aXJlIGBSZXdyaXRlQmFzZWAgdG8gYmUgc2V0OgojIGh0dHA6Ly93d3cucmFja3NwYWNlLmNvbS9rbm93bGVkZ2VfY2VudGVyL2ZyZXF1ZW50bHktYXNrZWQtcXVlc3Rpb24vd2h5LWlzLW1vZC1yZXdyaXRlLW5vdC13b3JraW5nLW9uLW15LXNpdGUKCjxJZk1vZHVsZSBtb2RfcmV3cml0ZS5jPgogICAgT3B0aW9ucyArRm9sbG93U3ltbGlua3MKICAjIE9wdGlvbnMgK1N5bUxpbmtzSWZPd25lck1hdGNoCiAgICBSZXdyaXRlRW5naW5lIE9uCiAgIyBSZXdyaXRlQmFzZSAvCjwvSWZNb2R1bGU+CgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIHwgU3VwcHJlc3NpbmcgLyBGb3JjaW5nIHRoZSAid3d3LiIgYXQgdGhlIGJlZ2lubmluZyBvZiBVUkxzICAgICAgICAgICAgICAgICAgfAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKIyBUaGUgc2FtZSBjb250ZW50IHNob3VsZCBuZXZlciBiZSBhdmFpbGFibGUgdW5kZXIgdHdvIGRpZmZlcmVudCBVUkxzIGVzcGVjaWFsbHkKIyBub3Qgd2l0aCBhbmQgd2l0aG91dCAid3d3LiIgYXQgdGhlIGJlZ2lubmluZy4gVGhpcyBjYW4gY2F1c2UgU0VPIHByb2JsZW1zCiMgKGR1cGxpY2F0ZSBjb250ZW50KSwgdGhlcmVmb3JlLCB5b3Ugc2hvdWxkIGNob29zZSBvbmUgb2YgdGhlIGFsdGVybmF0aXZlcyBhbmQKIyByZWRpcmVjdCB0aGUgb3RoZXIgb25lLgoKIyBCeSBkZWZhdWx0IG9wdGlvbiAxIChubyAid3d3LiIpIGlzIGFjdGl2YXRlZDoKIyBodHRwOi8vbm8td3d3Lm9yZy9mYXEucGhwP3E9Y2xhc3NfYgoKIyBJZiB5b3UnZCBwcmVmZXIgdG8gdXNlIG9wdGlvbiAyLCBqdXN0IGNvbW1lbnQgb3V0IGFsbCB0aGUgbGluZXMgZnJvbSBvcHRpb24gMQojIGFuZCB1bmNvbW1lbnQgdGhlIG9uZXMgZnJvbSBvcHRpb24gMi4KCiMgSU1QT1JUQU5UOiBORVZFUiBVU0UgQk9USCBSVUxFUyBBVCBUSEUgU0FNRSBUSU1FIQoKIyAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLQoKIyBPcHRpb24gMTogcmV3cml0ZSB3d3cuZXhhbXBsZS5jb20g4oaSIGV4YW1wbGUuY29tCgo8SWZNb2R1bGUgbW9kX3Jld3JpdGUuYz4KICAgIFJld3JpdGVDb25kICV7SFRUUFN9ICE9b24KICAgIFJld3JpdGVDb25kICV7SFRUUF9IT1NUfSBed3d3XC4oLispJCBbTkNdCiAgICBSZXdyaXRlUnVsZSBeIGh0dHA6Ly8lMSV7UkVRVUVTVF9VUkl9IFtSPTMwMSxMXQo8L0lmTW9kdWxlPgoKIyAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLQoKIyBPcHRpb24gMjogcmV3cml0ZSBleGFtcGxlLmNvbSDihpIgd3d3LmV4YW1wbGUuY29tCgojIEJlIGF3YXJlIHRoYXQgdGhlIGZvbGxvd2luZyBtaWdodCBub3QgYmUgYSBnb29kIGlkZWEgaWYgeW91IHVzZSAicmVhbCIKIyBzdWJkb21haW5zIGZvciBjZXJ0YWluIHBhcnRzIG9mIHlvdXIgd2Vic2l0ZS4KCiMgPElmTW9kdWxlIG1vZF9yZXdyaXRlLmM+CiMgICAgUmV3cml0ZUNvbmQgJXtIVFRQU30gIT1vbgojICAgIFJld3JpdGVDb25kICV7SFRUUF9IT1NUfSAhXnd3d1wuLiskIFtOQ10KIyAgICBSZXdyaXRlQ29uZCAle0hUVFBfSE9TVH0gIT1sb2NhbGhvc3QgW05DXQojICAgIFJld3JpdGVDb25kICV7SFRUUF9IT1NUfSAhPTEyNy4wLjAuMQojICAgIFJld3JpdGVSdWxlIF4gaHR0cDovL3d3dy4le0hUVFBfSE9TVH0le1JFUVVFU1RfVVJJfSBbUj0zMDEsTF0KIyA8L0lmTW9kdWxlPgoKCiMgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMgIyBTRUNVUklUWSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjCiMgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIHwgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgKENTUCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKIyBZb3UgY2FuIG1pdGlnYXRlIHRoZSByaXNrIG9mIGNyb3NzLXNpdGUgc2NyaXB0aW5nIGFuZCBvdGhlciBjb250ZW50LWluamVjdGlvbgojIGF0dGFja3MgYnkgc2V0dGluZyBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IHdoaWNoIHdoaXRlbGlzdHMgdHJ1c3RlZCBzb3VyY2VzCiMgb2YgY29udGVudCBmb3IgeW91ciBzaXRlLgoKIyBUaGUgZXhhbXBsZSBoZWFkZXIgYmVsb3cgYWxsb3dzIE9OTFkgc2NyaXB0cyB0aGF0IGFyZSBsb2FkZWQgZnJvbSB0aGUgY3VycmVudAojIHNpdGUncyBvcmlnaW4gKG5vIGlubGluZSBzY3JpcHRzLCBubyBDRE4sIGV0YykuIFRoaXMgYWxtb3N0IGNlcnRhaW5seSB3b24ndAojIHdvcmsgYXMtaXMgZm9yIHlvdXIgc2l0ZSEKCiMgVG8gZ2V0IGFsbCB0aGUgZGV0YWlscyB5b3UnbGwgbmVlZCB0byBjcmFmdCBhIHJlYXNvbmFibGUgcG9saWN5IGZvciB5b3VyIHNpdGUsCiMgcmVhZDogaHR0cDovL2h0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9zZWN1cml0eS9jb250ZW50LXNlY3VyaXR5LXBvbGljeSAob3IKIyBzZWUgdGhlIHNwZWNpZmljYXRpb246IGh0dHA6Ly93My5vcmcvVFIvQ1NQKS4KCiMgPElmTW9kdWxlIG1vZF9oZWFkZXJzLmM+CiMgICAgSGVhZGVyIHNldCBDb250ZW50LVNlY3VyaXR5LVBvbGljeSAic2NyaXB0LXNyYyAnc2VsZic7IG9iamVjdC1zcmMgJ3NlbGYnIgojICAgIDxGaWxlc01hdGNoICJcLihhcHBjYWNoZXxjcnh8Y3NzfGVvdHxnaWZ8aHRjfGljb3xqcGU/Z3xqc3xtNGF8bTR2fG1hbmlmZXN0fG1wNHxvZXh8b2dhfG9nZ3xvZ3Z8b3RmfHBkZnxwbmd8c2FmYXJpZXh0enxzdmd6P3x0dGZ8dmNmfHdlYmFwcHx3ZWJtfHdlYnB8d29mZnx4bWx8eHBpKSQiPgojICAgICAgICBIZWFkZXIgdW5zZXQgQ29udGVudC1TZWN1cml0eS1Qb2xpY3kKIyAgICA8L0ZpbGVzTWF0Y2g+CiMgPC9JZk1vZHVsZT4KCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgfCBGaWxlIGFjY2VzcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8CiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgojIEJsb2NrIGFjY2VzcyB0byBkaXJlY3RvcmllcyB3aXRob3V0IGEgZGVmYXVsdCBkb2N1bWVudC4KIyBVc3VhbGx5IHlvdSBzaG91bGQgbGVhdmUgdGhpcyB1bmNvbW1lbnRlZCBiZWNhdXNlIHlvdSBzaG91bGRuJ3QgYWxsb3cgYW55b25lCiMgdG8gc3VyZiB0aHJvdWdoIGV2ZXJ5IGRpcmVjdG9yeSBvbiB5b3VyIHNlcnZlciAod2hpY2ggbWF5IGluY2x1ZGVzIHJhdGhlcgojIHByaXZhdGUgcGxhY2VzIGxpa2UgdGhlIENNUydzIGRpcmVjdG9yaWVzKS4KCjxJZk1vZHVsZSBtb2RfYXV0b2luZGV4LmM+CiAgICBPcHRpb25zIC1JbmRleGVzCjwvSWZNb2R1bGU+CgojIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtCgojIEJsb2NrIGFjY2VzcyB0byBoaWRkZW4gZmlsZXMgYW5kIGRpcmVjdG9yaWVzLgojIFRoaXMgaW5jbHVkZXMgZGlyZWN0b3JpZXMgdXNlZCBieSB2ZXJzaW9uIGNvbnRyb2wgc3lzdGVtcyBzdWNoIGFzIEdpdCBhbmQgU1ZOLgoKPElmTW9kdWxlIG1vZF9yZXdyaXRlLmM+CiAgICBSZXdyaXRlQ29uZCAle1NDUklQVF9GSUxFTkFNRX0gLWQgW09SXQogICAgUmV3cml0ZUNvbmQgJXtTQ1JJUFRfRklMRU5BTUV9IC1mCiAgICBSZXdyaXRlUnVsZSAiKF58LylcLiIgLSBbRl0KPC9JZk1vZHVsZT4KCiMgLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0KCiMgQmxvY2sgYWNjZXNzIHRvIGJhY2t1cCBhbmQgc291cmNlIGZpbGVzLgojIFRoZXNlIGZpbGVzIG1heSBiZSBsZWZ0IGJ5IHNvbWUgdGV4dCBlZGl0b3JzIGFuZCBjYW4gcG9zZSBhIGdyZWF0IHNlY3VyaXR5CiMgZGFuZ2VyIHdoZW4gYW55b25lIGhhcyBhY2Nlc3MgdG8gdGhlbS4KCjxGaWxlc01hdGNoICIoXiMuKiN8XC4oYmFrfGNvbmZpZ3xkaXN0fGZsYXxpbmN8aW5pfGxvZ3xwc2R8c2h8c3FsfHN3W29wXSl8fikkIj4KICAgIE9yZGVyIGFsbG93LGRlbnkKICAgIERlbnkgZnJvbSBhbGwKICAgIFNhdGlzZnkgQWxsCjwvRmlsZXNNYXRjaD4KCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgfCBTZWN1cmUgU29ja2V0cyBMYXllciAoU1NMKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8CiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgojIFJld3JpdGUgc2VjdXJlIHJlcXVlc3RzIHByb3Blcmx5IHRvIHByZXZlbnQgU1NMIGNlcnRpZmljYXRlIHdhcm5pbmdzLCBlLmcuOgojIHByZXZlbnQgYGh0dHBzOi8vd3d3LmV4YW1wbGUuY29tYCB3aGVuIHlvdXIgY2VydGlmaWNhdGUgb25seSBhbGxvd3MKIyBgaHR0cHM6Ly9zZWN1cmUuZXhhbXBsZS5jb21gLgoKIyA8SWZNb2R1bGUgbW9kX3Jld3JpdGUuYz4KIyAgICBSZXdyaXRlQ29uZCAle1NFUlZFUl9QT1JUfSAhXjQ0MwojICAgIFJld3JpdGVSdWxlIF4gaHR0cHM6Ly9leGFtcGxlLWRvbWFpbi1wbGVhc2UtY2hhbmdlLW1lLmNvbSV7UkVRVUVTVF9VUkl9IFtSPTMwMSxMXQojIDwvSWZNb2R1bGU+CgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIHwgSFRUUCBTdHJpY3QgVHJhbnNwb3J0IFNlY3VyaXR5IChIU1RTKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKIyBGb3JjZSBjbGllbnQtc2lkZSBTU0wgcmVkaXJlY3Rpb24uCgojIElmIGEgdXNlciB0eXBlcyAiZXhhbXBsZS5jb20iIGluIGhpcyBicm93c2VyLCB0aGUgYWJvdmUgcnVsZSB3aWxsIHJlZGlyZWN0CiMgaGltIHRvIHRoZSBzZWN1cmUgdmVyc2lvbiBvZiB0aGUgc2l0ZS4gVGhhdCBzdGlsbCBsZWF2ZXMgYSB3aW5kb3cgb2Ygb3Bwb3ItCiMgdHVuaXR5ICh0aGUgaW5pdGlhbCBIVFRQIGNvbm5lY3Rpb24pIGZvciBhbiBhdHRhY2tlciB0byBkb3duZ3JhZGUgb3IgcmVkaXJlY3QKIyB0aGUgcmVxdWVzdC4gVGhlIGZvbGxvd2luZyBoZWFkZXIgZW5zdXJlcyB0aGF0IGJyb3dzZXIgd2lsbCBPTkxZIGNvbm5lY3QgdG8KIyB5b3VyIHNlcnZlciB2aWEgSFRUUFMsIHJlZ2FyZGxlc3Mgb2Ygd2hhdCB0aGUgdXNlcnMgdHlwZSBpbiB0aGUgYWRkcmVzcyBiYXIuCiMgaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtaWV0Zi13ZWJzZWMtc3RyaWN0LXRyYW5zcG9ydC1zZWMtMTQjc2VjdGlvbi02LjEKIyBodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9zZWN1cml0eS90cmFuc3BvcnQtbGF5ZXItc2VjdXJpdHkvCgojICghKSBSZW1vdmUgdGhlIGBpbmNsdWRlU3ViRG9tYWluc2Agb3B0aW9uYWwgZGlyZWN0aXZlIGlmIHRoZSBzdWJkb21haW5zIGFyZQojIG5vdCB1c2luZyBIVFRQUy4KCiMgPElmTW9kdWxlIG1vZF9oZWFkZXJzLmM+CiMgICAgSGVhZGVyIHNldCBTdHJpY3QtVHJhbnNwb3J0LVNlY3VyaXR5ICJtYXgtYWdlPTE2MDcwNDAwOyBpbmNsdWRlU3ViRG9tYWlucyIKIyA8L0lmTW9kdWxlPgoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyB8IFNlcnZlciBzb2Z0d2FyZSBpbmZvcm1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiMgQXZvaWQgZGlzcGxheWluZyB0aGUgZXhhY3QgQXBhY2hlIHZlcnNpb24gbnVtYmVyLCB0aGUgZGVzY3JpcHRpb24gb2YgdGhlCiMgZ2VuZXJpYyBPUy10eXBlIGFuZCB0aGUgaW5mb3JtYXRpb24gYWJvdXQgQXBhY2hlJ3MgY29tcGlsZWQtaW4gbW9kdWxlcy4KCiMgQUREIFRISVMgRElSRUNUSVZFIElOIFRIRSBgaHR0cGQuY29uZmAgQVMgSVQgV0lMTCBOT1QgV09SSyBJTiBUSEUgYC5odGFjY2Vzc2AhCgojIFNlcnZlclRva2VucyBQcm9kCgoKIyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyAjIFdFQiBQRVJGT1JNQU5DRSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMKIyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgfCBDb21wcmVzc2lvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8CiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgo8SWZNb2R1bGUgbW9kX2RlZmxhdGUuYz4KCiAgICAjIEZvcmNlIGNvbXByZXNzaW9uIGZvciBtYW5nbGVkIGhlYWRlcnMuCiAgICAjIGh0dHA6Ly9kZXZlbG9wZXIueWFob28uY29tL2Jsb2dzL3lkbi9wb3N0cy8yMDEwLzEyL3B1c2hpbmctYmV5b25kLWd6aXBwaW5nCiAgICA8SWZNb2R1bGUgbW9kX3NldGVudmlmLmM+CiAgICAgICAgPElmTW9kdWxlIG1vZF9oZWFkZXJzLmM+CiAgICAgICAgICAgIFNldEVudklmTm9DYXNlIF4oQWNjZXB0LUVuY29kWG5nfFgtY2VwdC1FbmNvZGluZ3xYezE1fXx+ezE1fXwtezE1fSkkIF4oKGd6aXB8ZGVmbGF0ZSlccyosP1xzKikrfFtYfi1dezQsMTN9JCBIQVZFX0FjY2VwdC1FbmNvZGluZwogICAgICAgICAgICBSZXF1ZXN0SGVhZGVyIGFwcGVuZCBBY2NlcHQtRW5jb2RpbmcgImd6aXAsZGVmbGF0ZSIgZW52PUhBVkVfQWNjZXB0LUVuY29kaW5nCiAgICAgICAgPC9JZk1vZHVsZT4KICAgIDwvSWZNb2R1bGU+CgogICAgIyBDb21wcmVzcyBhbGwgb3V0cHV0IGxhYmVsZWQgd2l0aCBvbmUgb2YgdGhlIGZvbGxvd2luZyBNSU1FLXR5cGVzCiAgICAjIChmb3IgQXBhY2hlIHZlcnNpb25zIGJlbG93IDIuMy43LCB5b3UgZG9uJ3QgbmVlZCB0byBlbmFibGUgYG1vZF9maWx0ZXJgCiAgICAjICBhbmQgY2FuIHJlbW92ZSB0aGUgYDxJZk1vZHVsZSBtb2RfZmlsdGVyLmM+YCBhbmQgYDwvSWZNb2R1bGU+YCBsaW5lcwogICAgIyAgYXMgYEFkZE91dHB1dEZpbHRlckJ5VHlwZWAgaXMgc3RpbGwgaW4gdGhlIGNvcmUgZGlyZWN0aXZlcykuCiAgICA8SWZNb2R1bGUgbW9kX2ZpbHRlci5jPgogICAgICAgIEFkZE91dHB1dEZpbHRlckJ5VHlwZSBERUZMQVRFIGFwcGxpY2F0aW9uL2F0b20reG1sIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0IFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbi9qc29uIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbi9yc3MreG1sIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbi92bmQubXMtZm9udG9iamVjdCBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb24veC1mb250LXR0ZiBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb24veC13ZWItYXBwLW1hbmlmZXN0K2pzb24gXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uL3hodG1sK3htbCBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb24veG1sIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250L29wZW50eXBlIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS9zdmcreG1sIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS94LWljb24gXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQvY3NzIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0L2h0bWwgXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQvcGxhaW4gXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQveC1jb21wb25lbnQgXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQveG1sCiAgICA8L0lmTW9kdWxlPgoKPC9JZk1vZHVsZT4KCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgfCBDb250ZW50IHRyYW5zZm9ybWF0aW9ucyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8CiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgojIFByZXZlbnQgc29tZSBvZiB0aGUgbW9iaWxlIG5ldHdvcmsgcHJvdmlkZXJzIGZyb20gbW9kaWZ5aW5nIHRoZSBjb250ZW50IG9mCiMgeW91ciBzaXRlOiBodHRwOi8vd3d3LnczLm9yZy9Qcm90b2NvbHMvcmZjMjYxNi9yZmMyNjE2LXNlYzE0Lmh0bWwjc2VjMTQuOS41LgoKIyA8SWZNb2R1bGUgbW9kX2hlYWRlcnMuYz4KIyAgICBIZWFkZXIgc2V0IENhY2hlLUNvbnRyb2wgIm5vLXRyYW5zZm9ybSIKIyA8L0lmTW9kdWxlPgoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyB8IEVUYWcgcmVtb3ZhbCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiMgU2luY2Ugd2UncmUgc2VuZGluZyBmYXItZnV0dXJlIGV4cGlyZXMgaGVhZGVycyAoc2VlIGJlbG93KSwgRVRhZ3MgY2FuCiMgYmUgcmVtb3ZlZDogaHR0cDovL2RldmVsb3Blci55YWhvby5jb20vcGVyZm9ybWFuY2UvcnVsZXMuaHRtbCNldGFncy4KCiMgYEZpbGVFVGFnIE5vbmVgIGlzIG5vdCBlbm91Z2ggZm9yIGV2ZXJ5IHNlcnZlci4KPElmTW9kdWxlIG1vZF9oZWFkZXJzLmM+CiAgICBIZWFkZXIgdW5zZXQgRVRhZwo8L0lmTW9kdWxlPgoKRmlsZUVUYWcgTm9uZQoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyB8IEV4cGlyZXMgaGVhZGVycyAoZm9yIGJldHRlciBjYWNoZSBjb250cm9sKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiMgVGhlIGZvbGxvd2luZyBleHBpcmVzIGhlYWRlcnMgYXJlIHNldCBwcmV0dHkgZmFyIGluIHRoZSBmdXR1cmUuIElmIHlvdSBkb24ndAojIGNvbnRyb2wgdmVyc2lvbmluZyB3aXRoIGZpbGVuYW1lLWJhc2VkIGNhY2hlIGJ1c3RpbmcsIGNvbnNpZGVyIGxvd2VyaW5nIHRoZQojIGNhY2hlIHRpbWUgZm9yIHJlc291cmNlcyBsaWtlIENTUyBhbmQgSlMgdG8gc29tZXRoaW5nIGxpa2UgMSB3ZWVrLgoKPElmTW9kdWxlIG1vZF9leHBpcmVzLmM+CgogICAgRXhwaXJlc0FjdGl2ZSBvbgogICAgRXhwaXJlc0RlZmF1bHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhY2Nlc3MgcGx1cyAxIG1vbnRoIgoKICAjIENTUwogICAgRXhwaXJlc0J5VHlwZSB0ZXh0L2NzcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhY2Nlc3MgcGx1cyAxIHllYXIiCgogICMgRGF0YSBpbnRlcmNoYW5nZQogICAgRXhwaXJlc0J5VHlwZSBhcHBsaWNhdGlvbi9qc29uICAgICAgICAgICAgICAgICAgICAgICJhY2Nlc3MgcGx1cyAwIHNlY29uZHMiCiAgICBFeHBpcmVzQnlUeXBlIGFwcGxpY2F0aW9uL3htbCAgICAgICAgICAgICAgICAgICAgICAgImFjY2VzcyBwbHVzIDAgc2Vjb25kcyIKICAgIEV4cGlyZXNCeVR5cGUgdGV4dC94bWwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYWNjZXNzIHBsdXMgMCBzZWNvbmRzIgoKICAjIEZhdmljb24gKGNhbm5vdCBiZSByZW5hbWVkISkKICAgIEV4cGlyZXNCeVR5cGUgaW1hZ2UveC1pY29uICAgICAgICAgICAgICAgICAgICAgICAgICAiYWNjZXNzIHBsdXMgMSB3ZWVrIgoKICAjIEhUTUwgY29tcG9uZW50cyAoSFRDcykKICAgIEV4cGlyZXNCeVR5cGUgdGV4dC94LWNvbXBvbmVudCAgICAgICAgICAgICAgICAgICAgICAiYWNjZXNzIHBsdXMgMSBtb250aCIKCiAgIyBIVE1MCiAgICBFeHBpcmVzQnlUeXBlIHRleHQvaHRtbCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImFjY2VzcyBwbHVzIDAgc2Vjb25kcyIKCiAgIyBKYXZhU2NyaXB0CiAgICBFeHBpcmVzQnlUeXBlIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQgICAgICAgICAgICAgICAgImFjY2VzcyBwbHVzIDEgeWVhciIKCiAgIyBNYW5pZmVzdCBmaWxlcwogICAgRXhwaXJlc0J5VHlwZSBhcHBsaWNhdGlvbi94LXdlYi1hcHAtbWFuaWZlc3QranNvbiAgICJhY2Nlc3MgcGx1cyAwIHNlY29uZHMiCiAgICBFeHBpcmVzQnlUeXBlIHRleHQvY2FjaGUtbWFuaWZlc3QgICAgICAgICAgICAgICAgICAgImFjY2VzcyBwbHVzIDAgc2Vjb25kcyIKCiAgIyBNZWRpYQogICAgRXhwaXJlc0J5VHlwZSBhdWRpby9vZ2cgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhY2Nlc3MgcGx1cyAxIG1vbnRoIgogICAgRXhwaXJlc0J5VHlwZSBpbWFnZS9naWYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhY2Nlc3MgcGx1cyAxIG1vbnRoIgogICAgRXhwaXJlc0J5VHlwZSBpbWFnZS9qcGVnICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhY2Nlc3MgcGx1cyAxIG1vbnRoIgogICAgRXhwaXJlc0J5VHlwZSBpbWFnZS9wbmcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhY2Nlc3MgcGx1cyAxIG1vbnRoIgogICAgRXhwaXJlc0J5VHlwZSB2aWRlby9tcDQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhY2Nlc3MgcGx1cyAxIG1vbnRoIgogICAgRXhwaXJlc0J5VHlwZSB2aWRlby9vZ2cgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhY2Nlc3MgcGx1cyAxIG1vbnRoIgogICAgRXhwaXJlc0J5VHlwZSB2aWRlby93ZWJtICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhY2Nlc3MgcGx1cyAxIG1vbnRoIgoKICAjIFdlYiBmZWVkcwogICAgRXhwaXJlc0J5VHlwZSBhcHBsaWNhdGlvbi9hdG9tK3htbCAgICAgICAgICAgICAgICAgICJhY2Nlc3MgcGx1cyAxIGhvdXIiCiAgICBFeHBpcmVzQnlUeXBlIGFwcGxpY2F0aW9uL3Jzcyt4bWwgICAgICAgICAgICAgICAgICAgImFjY2VzcyBwbHVzIDEgaG91ciIKCiAgIyBXZWIgZm9udHMKICAgIEV4cGlyZXNCeVR5cGUgYXBwbGljYXRpb24vZm9udC13b2ZmICAgICAgICAgICAgICAgICAiYWNjZXNzIHBsdXMgMSBtb250aCIKICAgIEV4cGlyZXNCeVR5cGUgYXBwbGljYXRpb24vdm5kLm1zLWZvbnRvYmplY3QgICAgICAgICAiYWNjZXNzIHBsdXMgMSBtb250aCIKICAgIEV4cGlyZXNCeVR5cGUgYXBwbGljYXRpb24veC1mb250LXR0ZiAgICAgICAgICAgICAgICAiYWNjZXNzIHBsdXMgMSBtb250aCIKICAgIEV4cGlyZXNCeVR5cGUgZm9udC9vcGVudHlwZSAgICAgICAgICAgICAgICAgICAgICAgICAiYWNjZXNzIHBsdXMgMSBtb250aCIKICAgIEV4cGlyZXNCeVR5cGUgaW1hZ2Uvc3ZnK3htbCAgICAgICAgICAgICAgICAgICAgICAgICAiYWNjZXNzIHBsdXMgMSBtb250aCIKCjwvSWZNb2R1bGU+CgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIHwgRmlsZW5hbWUtYmFzZWQgY2FjaGUgYnVzdGluZyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKIyBJZiB5b3UncmUgbm90IHVzaW5nIGEgYnVpbGQgcHJvY2VzcyB0byBtYW5hZ2UgeW91ciBmaWxlbmFtZSB2ZXJzaW9uIHJldnZpbmcsCiMgeW91IG1pZ2h0IHdhbnQgdG8gY29uc2lkZXIgZW5hYmxpbmcgdGhlIGZvbGxvd2luZyBkaXJlY3RpdmVzIHRvIHJvdXRlIGFsbAojIHJlcXVlc3RzIHN1Y2ggYXMgYC9jc3Mvc3R5bGUuMTIzNDUuY3NzYCB0byBgL2Nzcy9zdHlsZS5jc3NgLgoKIyBUbyB1bmRlcnN0YW5kIHdoeSB0aGlzIGlzIGltcG9ydGFudCBhbmQgYSBiZXR0ZXIgaWRlYSB0aGFuIGAqLmNzcz92MjMxYCwgcmVhZDoKIyBodHRwOi8vc3RldmVzb3VkZXJzLmNvbS9ibG9nLzIwMDgvMDgvMjMvcmV2dmluZy1maWxlbmFtZXMtZG9udC11c2UtcXVlcnlzdHJpbmcKCiMgPElmTW9kdWxlIG1vZF9yZXdyaXRlLmM+CiMgICAgUmV3cml0ZUNvbmQgJXtSRVFVRVNUX0ZJTEVOQU1FfSAhLWYKIyAgICBSZXdyaXRlUnVsZSBeKC4rKVwuKFxkKylcLihqc3xjc3N8cG5nfGpwZ3xnaWYpJCAkMS4kMyBbTF0KIyA8L0lmTW9kdWxlPgoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyB8IEZpbGUgY29uY2F0ZW5hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiMgQWxsb3cgY29uY2F0ZW5hdGlvbiBmcm9tIHdpdGhpbiBzcGVjaWZpYyBDU1MgYW5kIEpTIGZpbGVzLCBlLmcuOgojIEluc2lkZSBvZiBgc2NyaXB0LmNvbWJpbmVkLmpzYCB5b3UgY291bGQgaGF2ZQojICAgPCEtLSNpbmNsdWRlIGZpbGU9ImxpYnMvanF1ZXJ5LmpzIiAtLT4KIyAgIDwhLS0jaW5jbHVkZSBmaWxlPSJwbHVnaW5zL2pxdWVyeS5pZGxldGltZXIuanMiIC0tPgojIGFuZCB0aGV5IHdvdWxkIGJlIGluY2x1ZGVkIGludG8gdGhpcyBzaW5nbGUgZmlsZS4KCiMgPElmTW9kdWxlIG1vZF9pbmNsdWRlLmM+CiMgICAgPEZpbGVzTWF0Y2ggIlwuY29tYmluZWRcLmpzJCI+CiMgICAgICAgIE9wdGlvbnMgK0luY2x1ZGVzCiMgICAgICAgIEFkZE91dHB1dEZpbHRlckJ5VHlwZSBJTkNMVURFUyBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0IGFwcGxpY2F0aW9uL2pzb24KIyAgICAgICAgU2V0T3V0cHV0RmlsdGVyIElOQ0xVREVTCiMgICAgPC9GaWxlc01hdGNoPgojICAgIDxGaWxlc01hdGNoICJcLmNvbWJpbmVkXC5jc3MkIj4KIyAgICAgICAgT3B0aW9ucyArSW5jbHVkZXMKIyAgICAgICAgQWRkT3V0cHV0RmlsdGVyQnlUeXBlIElOQ0xVREVTIHRleHQvY3NzCiMgICAgICAgIFNldE91dHB1dEZpbHRlciBJTkNMVURFUwojICAgIDwvRmlsZXNNYXRjaD4KIyA8L0lmTW9kdWxlPgoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyB8IFBlcnNpc3RlbnQgY29ubmVjdGlvbnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiMgQWxsb3cgbXVsdGlwbGUgcmVxdWVzdHMgdG8gYmUgc2VudCBvdmVyIHRoZSBzYW1lIFRDUCBjb25uZWN0aW9uOgojIGh0dHA6Ly9odHRwZC5hcGFjaGUub3JnL2RvY3MvY3VycmVudC9lbi9tb2QvY29yZS5odG1sI2tlZXBhbGl2ZS4KCiMgRW5hYmxlIGlmIHlvdSBzZXJ2ZSBhIGxvdCBvZiBzdGF0aWMgY29udGVudCBidXQsIGJlIGF3YXJlIG9mIHRoZQojIHBvc3NpYmxlIGRpc2FkdmFudGFnZXMhCgojIDxJZk1vZHVsZSBtb2RfaGVhZGVycy5jPgojICAgIEhlYWRlciBzZXQgQ29ubmVjdGlvbiBLZWVwLUFsaXZlCiMgPC9JZk1vZHVsZT4K')
},
{
'name': '/app/bower_components/html5-boilerplate/CHANGELOG.md', 'data': base64.b64decode('IyMjIEhFQUQKCiMjIyA0LjMuMCAoU2VwdGVtYmVyIDEwLCAyMDEzKQoKKiBVc2Ugb25lIGFwcGxlLXRvdWNoLWljb24gaW5zdGVhZCBvZiBzaXggKFsjMTM2N10oaHR0cHM6Ly9naXRodWIuY29tL2g1YnAvaHRtbDUtYm9pbGVycGxhdGUvaXNzdWVzLzEzNjcpKS4KKiBNb3ZlIGZvbnQtcmVsYXRlZCBkZWNsYXJhdGlvbnMgZnJvbSBgYm9keWAgdG8gYGh0bWxgIChbIzE0MTFdKGh0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL2h0bWw1LWJvaWxlcnBsYXRlL2lzc3Vlcy8xNDExKSkuCiogVXBkYXRlIHRvIEFwYWNoZSBTZXJ2ZXIgQ29uZmlncyAxLjEuMC4KKiBBZGQgYGluaXRpYWwtc2NhbGU9MWAgdG8gdGhlIHZpZXdwb3J0IGBtZXRhYCAoWyMxMzk4XShodHRwczovL2dpdGh1Yi5jb20vaDVicC9odG1sNS1ib2lsZXJwbGF0ZS9wdWxsLzEzOTgpKS4KKiBWZXJ0aWNhbCBjZW50ZXJpbmcgZm9yIGF1ZGlvLSwgY2FudmFzLSBhbmQgdmlkZW8tdGFncyAoWyMxMzI2XShodHRwczovL2dpdGh1Yi5jb20vaDVicC9odG1sNS1ib2lsZXJwbGF0ZS9pc3N1ZXMvMTMyNikpLgoqIFJlbW92ZSBHb29nbGUgQ2hyb21lIEZyYW1lIHJlbGF0ZWQgY29kZSAoWyMxMzc5XShodHRwczovL2dpdGh1Yi5jb20vaDVicC9odG1sNS1ib2lsZXJwbGF0ZS9wdWxsLzEzNzkpLCBbIzEzOTZdKGh0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL2h0bWw1LWJvaWxlcnBsYXRlL3B1bGwvMTM5NikpLgoqIFVwZGF0ZSB0byBHb29nbGUgVW5pdmVyc2FsIEFuYWx5dGljcyAoWyMxMzQ3XShodHRwczovL2dpdGh1Yi5jb20vaDVicC9odG1sNS1ib2lsZXJwbGF0ZS9pc3N1ZXMvMTM0NykpLgoqIFVwZGF0ZSB0byBqUXVlcnkgMS4xMC4yLgoqIFVwZGF0ZSB0byBOb3JtYWxpemUuY3NzIDEuMS4zLgoKIyMjIDQuMi4wIChBcHJpbCA4LCAyMDEzKQoKKiBSZW1vdmUgR29vZ2xlIEFuYWx5dGljcyBwcm90b2NvbCBjaGVjayAoWyMxMzE5XShodHRwczovL2dpdGh1Yi5jb20vaDVicC9odG1sNS1ib2lsZXJwbGF0ZS9wdWxsLzEzMTkpKS4KKiBVcGRhdGUgdG8gTm9ybWFsaXplLmNzcyAxLjEuMS4KKiBVcGRhdGUgQXBhY2hlIGNvbmZpZ3VyYXRpb25zIHRvIGluY2x1ZGUgdGhlIGxhdGVzdCBjaGFuZ2VzIGluIHRoZSBjYW5vbmljYWwKICBbYC5odGFjY2Vzc2BdKGh0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL3NlcnZlci1jb25maWdzLWFwYWNoZSkgZmlsZS4KKiBVc2UgYSBwcm90b2NvbCByZWxhdGl2ZSBVUkwgZm9yIHRoZSA0MDQgdGVtcGxhdGUgc2NyaXB0LgoqIFVwZGF0ZSB0byBqUXVlcnkgMS45LjEuCgojIyMgNC4xLjAgKEphbnVhcnkgMjEsIDIwMTMpCgoqIFVwZGF0ZSB0byBOb3JtYWxpemUuY3NzIDEuMS4wLgoqIFVwZGF0ZSB0byBqUXVlcnkgMS45LjAuCgojIyMgNC4wLjMgKEphbnVhcnkgMTIsIDIwMTMpCgoqIFVzZSAzMngzMiBmYXZpY29uLmljbyAoWyMxMjg2XShodHRwczovL2dpdGh1Yi5jb20vaDVicC9odG1sNS1ib2lsZXJwbGF0ZS9wdWxsLzEyODYpKS4KKiBSZW1vdmUgbmFtZWQgZnVuY3Rpb24gZXhwcmVzc2lvbiBpbiBwbHVnaW5zLmpzIChbIzEyODBdKGh0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL2h0bWw1LWJvaWxlcnBsYXRlL3B1bGwvMTI4MCkpLgoqIEFkanVzdCBDU1MgaW1hZ2UtcmVwbGFjZW1lbnQgY29kZSAoWyMxMjM5XShodHRwczovL2dpdGh1Yi5jb20vaDVicC9odG1sNS1ib2lsZXJwbGF0ZS9pc3N1ZXMvMTIzOSkpLgoqIFVwZGF0ZSBIaURQSSBleGFtcGxlIG1lZGlhIHF1ZXJ5IChbIzExMjddKGh0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL2h0bWw1LWJvaWxlcnBsYXRlL2lzc3Vlcy8xMTI3KSkuCgojIyMgNC4wLjIgKERlY2VtYmVyIDksIDIwMTIpCgoqIFVwZGF0ZSBwbGFjZWhvbGRlciBpY29ucy4KKiBVcGRhdGUgdG8gTm9ybWFsaXplLmNzcyAxLjAuMi4KKiBVcGRhdGUgdG8galF1ZXJ5IDEuOC4zLgoKIyMjIDQuMC4xIChPY3RvYmVyIDIwLCAyMDEyKQoKKiBGdXJ0aGVyIGltcHJvdmVtZW50cyB0byBgY29uc29sZWAgbWV0aG9kIHN0dWJiaW5nIChbIzEyMDZdKGh0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL2h0bWw1LWJvaWxlcnBsYXRlL2lzc3Vlcy8xMjA2KSwgWyMxMjI5XShodHRwczovL2dpdGh1Yi5jb20vaDVicC9odG1sNS1ib2lsZXJwbGF0ZS9wdWxsLzEyMjkpKS4KKiBVcGRhdGUgdG8galF1ZXJ5IDEuOC4yLgoqIFVwZGF0ZSB0byBNb2Rlcm5penIgMi42LjIuCiogTWlub3IgYWRkaXRpb25zIHRvIHRoZSBkb2N1bWVudGF0aW9uLgoKIyMjIDQuMC4wIChBdWd1c3QgMjgsIDIwMTIpCgoqIEltcHJvdmUgdGhlIEFwYWNoZSBjb21wcmVzc2lvbiBjb25maWd1cmF0aW9uIChbIzEwMTJdKGh0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL2h0bWw1LWJvaWxlcnBsYXRlL2lzc3Vlcy8xMDEyKSwgWyMxMTczXShodHRwczovL2dpdGh1Yi5jb20vaDVicC9odG1sNS1ib2lsZXJwbGF0ZS9pc3N1ZXMvMTE3MykpLgoqIEFkZCBhIEhpRFBJIGV4YW1wbGUgbWVkaWEgcXVlcnkgKFsjMTEyN10oaHR0cHM6Ly9naXRodWIuY29tL2g1YnAvaHRtbDUtYm9pbGVycGxhdGUvaXNzdWVzLzExMjcpKS4KKiBBZGQgYnVuZGxlZCBkb2NzIChbIzExNTRdKGh0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL2h0bWw1LWJvaWxlcnBsYXRlL2lzc3Vlcy8xMTU0KSkuCiogQWRkIE1JVCBsaWNlbnNlIChbIzExMzldKGh0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL2h0bWw1LWJvaWxlcnBsYXRlL2lzc3Vlcy8xMTM5KSkuCiogVXBkYXRlIHRvIE5vcm1hbGl6ZS5jc3MgMS4wLjEuCiogU2VwYXJhdGUgTm9ybWFsaXplLmNzcyBmcm9tIHRoZSByZXN0IG9mIHRoZSBDU1MgKFsjMTE2MF0oaHR0cHM6Ly9naXRodWIuY29tL2g1YnAvaHRtbDUtYm9pbGVycGxhdGUvaXNzdWVzLzExNjApKS4KKiBJbXByb3ZlIGBjb25zb2xlLmxvZ2AgcHJvdGVjdGlvbiAoWyMxMTA3XShodHRwczovL2dpdGh1Yi5jb20vaDVicC9odG1sNS1ib2lsZXJwbGF0ZS9pc3N1ZXMvMTEwNykpLgoqIFJlcGxhY2UgaG90IHBpbmsgdGV4dCBzZWxlY3Rpb24gY29sb3Igd2l0aCBhIG5ldXRyYWwgY29sb3IuCiogQ2hhbmdlIGltYWdlIHJlcGxhY2VtZW50IHRlY2huaXF1ZSAoWyMxMTQ5XShodHRwczovL2dpdGh1Yi5jb20vaDVicC9odG1sNS1ib2lsZXJwbGF0ZS9pc3N1ZXMvMTE0OSkpLgoqIENvZGUgZm9ybWF0IGFuZCBjb25zaXN0ZW5jeSBjaGFuZ2VzIChbIzExMTJdKGh0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL2h0bWw1LWJvaWxlcnBsYXRlL2lzc3Vlcy8xMTEyKSkuCiogUmVuYW1lIENTUyBmaWxlIGFuZCByZW5hbWUgSlMgZmlsZXMgYW5kIHN1YmRpcmVjdG9yaWVzLgoqIFVwZGF0ZSB0byBqUXVlcnkgMS44IChbIzExNjFdKGh0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL2h0bWw1LWJvaWxlcnBsYXRlL2lzc3Vlcy8xMTYxKSkuCiogVXBkYXRlIHRvIE1vZGVybml6ciAyLjYuMSAoWyMxMDg2XShodHRwczovL2dpdGh1Yi5jb20vaDVicC9odG1sNS1ib2lsZXJwbGF0ZS9pc3N1ZXMvMTA4NikpLgoqIFJlbW92ZSB1bmNvbXByZXNzZWQgalF1ZXJ5IChbIzExNTNdKGh0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL2h0bWw1LWJvaWxlcnBsYXRlL2lzc3Vlcy8xMTUzKSkuCiogUmVtb3ZlIHN1cGVyZmx1b3VzIGlubGluZSBjb21tZW50cyAoWyMxMTUwXShodHRwczovL2dpdGh1Yi5jb20vaDVicC9odG1sNS1ib2lsZXJwbGF0ZS9pc3N1ZXMvMTE1MCkpLgoKIyMjIDMuMC4yIChGZWJydWFyeSAxOSwgMjAxMikKCiogVXBkYXRlIHRvIE1vZGVybml6ciAyLjUuMy4KCiMjIyAzLjAuMSAoRmVicnVhcnkgMDgsIDIwMTIpLgoKKiBVcGRhdGUgdG8gTW9kZXJuaXpyIDIuNS4yIChpbmNsdWRlcyBodG1sNXNoaXYgMy4zKS4KCiMjIyAzLjAuMCAoRmVicnVhcnkgMDYsIDIwMTIpCgoqIEltcHJvdmVtZW50cyB0byBgLmh0YWNjZXNzYC4KKiBJbXByb3ZlIDQwNCBkZXNpZ24uCiogU2ltcGxpZnkgSlMgZm9sZGVyIHN0cnVjdHVyZS4KKiBDaGFuZ2UgYGh0bWxgIElFIGNsYXNzIG5hbWVzIGNoYW5nZWQgdG8gdGFyZ2V0IHJhbmdlcyByYXRoZXIgdGhhbiBzcGVjaWZpYyB2ZXJzaW9ucyBvZiBJRS4KKiBVcGRhdGUgQ1NTIHRvIGluY2x1ZGUgbGF0ZXN0IG5vcm1hbGl6ZS5jc3MgY2hhbmdlcyBhbmQgYmV0dGVyIHR5cG9ncmFwaGljIGRlZmF1bHRzIChbIzgyNV0oaHR0cHM6Ly9naXRodWIuY29tL2g1YnAvaHRtbDUtYm9pbGVycGxhdGUvaXNzdWVzLzgyNSkpLgoqIFVwZGF0ZSB0byBNb2Rlcm5penIgMi41IChpbmNsdWRlcyB5ZXBub3BlIDEuNSBhbmQgaHRtbDVzaGl2IDMuMikuCiogVXBkYXRlIHRvIGpRdWVyeSAxLjcuMS4KKiBSZXZlcnQgdG8gYXN5bmMgc25pcHBldCBmb3IgdGhlIEdvb2dsZSBBbmFseXRpY3Mgc2NyaXB0LgoqIFJlbW92ZSB0aGUgYW50IGJ1aWxkIHNjcmlwdCAoWyM4MjZdKGh0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL2h0bWw1LWJvaWxlcnBsYXRlL2lzc3Vlcy84MjYpKS4KKiBSZW1vdmUgUmVzcG9uZC5qcyAoWyM4MTZdKGh0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL2h0bWw1LWJvaWxlcnBsYXRlL2lzc3Vlcy84MTYpKS4KKiBSZW1vdmUgdGhlIGBkZW1vL2AgZGlyZWN0b3J5IChbIzgwOF0oaHR0cHM6Ly9naXRodWIuY29tL2g1YnAvaHRtbDUtYm9pbGVycGxhdGUvaXNzdWVzLzgwOCkpLgoqIFJlbW92ZSB0aGUgYHRlc3QvYCBkaXJlY3RvcnkgKFsjODA4XShodHRwczovL2dpdGh1Yi5jb20vaDVicC9odG1sNS1ib2lsZXJwbGF0ZS9pc3N1ZXMvODA4KSkuCiogUmVtb3ZlIEdvb2dsZSBDaHJvbWUgRnJhbWUgc2NyaXB0IGZvciBJRTYgdXNlcnM7IHJlcGxhY2Ugd2l0aCBsaW5rcyB0byBDaHJvbWUgRnJhbWUgYW5kIG9wdGlvbnMgZm9yIGFsdGVybmF0aXZlIGJyb3dzZXJzLgoqIFJlbW92ZSBgaW5pdGlhbC1zY2FsZT0xYCBmcm9tIHRoZSB2aWV3cG9ydCBgbWV0YWAgKFsjODI0XShodHRwczovL2dpdGh1Yi5jb20vaDVicC9odG1sNS1ib2lsZXJwbGF0ZS9pc3N1ZXMvODI0KSkuCiogUmVtb3ZlIGBkZWZlcmAgZnJvbSBhbGwgc2NyaXB0cyB0byBhdm9pZCBsZWdhY3kgSUUgYnVncy4KKiBSZW1vdmUgZXhwbGljaXQgU2l0ZSBTcGVlZCB0cmFja2luZyBmb3IgR29vZ2xlIEFuYWx5dGljcy4gSXQncyBub3cgZW5hYmxlZCBieSBkZWZhdWx0LgoKIyMjIDIuMC4wIChBdWd1c3QgMTAsIDIwMTEpCgoqIENoYW5nZSBzdGFydGluZyBDU1MgdG8gYmUgYmFzZWQgb24gbm9ybWFsaXplLmNzcyBpbnN0ZWFkIG9mIHJlc2V0LmNzcyAoWyM1MDBdKGh0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL2h0bWw1LWJvaWxlcnBsYXRlL2lzc3Vlcy81MDApKS4KKiBBZGQgUmVzcG9uZC5qcyBtZWRpYSBxdWVyeSBwb2x5ZmlsbC4KKiBBZGQgR29vZ2xlIENocm9tZSBGcmFtZSBzY3JpcHQgcHJvbXB0IGZvciBJRTYgdXNlcnMuCiogU2ltcGxpZnkgdGhlIGBodG1sYCBjb25kaXRpb25hbCBjb21tZW50cyBmb3IgbW9kZXJuIGJyb3dzZXJzIGFuZCBhZGQgYW4gYG9sZGllYCBjbGFzcy4KKiBVcGRhdGUgY2xlYXJmaXggdG8gdXNlICJtaWNybyBjbGVhcmZpeCIuCiogQWRkIHBsYWNlaG9sZGVyIENTUyBNUXMgZm9yIG1vYmlsZS1maXJzdCBhcHByb2FjaC4KKiBBZGQgYHRleHRhcmVhIHsgcmVzaXplOiB2ZXJ0aWNhbDsgfWAgdG8gb25seSBhbGxvdyB2ZXJ0aWNhbCByZXNpemluZy4KKiBBZGQgYGltZyB7IG1heC13aWR0aDogMTAwJTsgfWAgdG8gdGhlIHByaW50IHN0eWxlczsgcHJldmVudHMgaW1hZ2VzIGJlaW5nIHRydW5jYXRlZC4KKiBBZGQgU2l0ZSBTcGVlZCB0cmFja2luZyBmb3IgR29vZ2xlIEFuYWx5dGljcy4KKiBVcGRhdGUgdG8galF1ZXJ5IDEuNi4yIChhbmQgdXNlIG1pbmlmaWVkIGJ5IGRlZmF1bHQpLgoqIFVwZGF0ZSB0byBNb2Rlcm5penIgMi4wIENvbXBsZXRlLCBQcm9kdWN0aW9uIG1pbmlmaWVkIChpbmNsdWRlcyB5ZXBub3BlLCBodG1sNXNoaXYsIGFuZCBSZXNwb25kLmpzKS4KKiBVc2UgYE1vZGVybml6ci5sb2FkKClgIHRvIGxvYWQgdGhlIEdvb2dsZSBBbmFseXRpY3Mgc2NyaXB0LgoqIE11Y2ggZmFzdGVyIGJ1aWxkIHByb2Nlc3MuCiogQWRkIGJ1aWxkIHNjcmlwdCBvcHRpb25zIGZvciBDU1NMaW50LCBKU0xpbnQsIEpTSGludCB0b29scy4KKiBCdWlsZCBzY3JpcHQgbm93IGNvbXByZXNzZXMgYWxsIGltYWdlcyBpbiBzdWJmb2xkZXJzLgoqIEJ1aWxkIHNjcmlwdCBub3cgdmVyc2lvbnMgZmlsZXMgYnkgU0hBIGhhc2guCiogTWFueSBgLmh0YWNjZXNzYCBpbXByb3ZlbWVudHMgaW5jbHVkaW5nOiBkaXNhYmxlIGRpcmVjdG9yeSBicm93c2luZywgaW1wcm92ZWQgc3VwcG9ydCBmb3IgYWxsIHZlcnNpb25zIG9mIEFwYWNoZSwgbW9yZSByb2J1c3QgYW5kIGV4dGVuc2l2ZSBIVFRQIGNvbXByZXNzaW9uIHJ1bGVzLgoqIFJlbW92ZSBgaGFuZGhlbGQuY3NzYCBhcyBpdCBoYXMgdmVyeSBwb29yIGRldmljZSBzdXBwb3J0LgoqIFJlbW92ZSB0b3VjaC1pY29uIGBsaW5rYCBlbGVtZW50cyBmcm9tIHRoZSBIVE1MIGFuZCBpbmNsdWRlIGltcHJvdmVkIHRvdWNoLWljb24gc3VwcG9ydC4KKiBSZW1vdmUgdGhlIGNhY2hlLWJ1c3RpbmcgcXVlcnkgcGFyYW1hdGVycyBmcm9tIGZpbGVzIHJlZmVyZW5jZXMgaW4gdGhlIEhUTUwuCiogUmVtb3ZlIElFNiBQTkdGaXguCgojIyMgMS4wLjAgKE1hcmNoIDIxLCAyMDExKQoKKiBSZXdyaXRlIGJ1aWxkIHNjcmlwdCB0byBtYWtlIGl0IG1vcmUgY3VzdG9taXphYmxlIGFuZCBmbGV4aWJsZS4KKiBBZGQgYSBodW1hbnMudHh0LgoqIE51bWVyb3VzIGAuaHRhY2Nlc3NgIGltcHJvdmVtZW50cyAoaW5jbHVkaW5nIGlubGluZSBkb2N1bWVudGF0aW9uKS4KKiBNb3ZlIHRoZSBhbHRlcm5hdGl2ZSBzZXJ2ZXIgY29uZmlndXJhdGlvbnMgdG8gdGhlIEg1QlAgc2VydmVyIGNvbmZpZ3MgcmVwby4KKiBVc2UgYSBwcm90b2NvbC1yZWxhdGl2ZSB1cmwgdG8gcmVmZXJlbmNlIGpRdWVyeSBhbmQgcHJldmVudCBtaXhlZCBjb250ZW50IHdhcm5pbmdzLgoqIE9wdGltaXplIHRoZSBHb29nbGUgQW5hbHl0aWNzIHNuaXBwZXQuCiogVXNlIEVyaWMgTWV5ZXIncyByZWNlbnQgQ1NTIHJlc2V0IHVwZGF0ZSBhbmQgdGhlIEhUTUw1IERvY3RvciByZXNldC4KKiBNb3JlIHJvYnVzdCBgc3ViYC9gc3VwYCBDU1Mgc3R5bGVzLgoqIEFkZCBrZXlib2FyZCBgLmZvY3VzYWJsZWAgaGVscGVyIGNsYXNzIHRoYXQgZXh0ZW5kcyBgLnZpc3VhbGx5aGlkZGVuYC4KKiBQcmludCBzdHlsZXMgbm8gbG9uZ2VyIHByaW50IGhhc2ggb3IgSmF2YVNjcmlwdCBsaW5rcy4KKiBBZGQgYSBwcmludCByZXNldCBmb3IgSUUncyBwcm9wcmlldGFyeSBmaWx0ZXJzLgoqIFJlbW92ZSBJRTktc3BlY2lmaWMgY29uZGl0aW9uYWwgY2xhc3Mgb24gdGhlIGBodG1sYCBlbGVtZW50LgoqIFJlbW92ZSBtYXJnaW5zIGZyb20gbGlzdHMgd2l0aGluIGBuYXZgIGVsZW1lbnRzLgoqIFJlbW92ZSBZVUkgcHJvZmlsaW5nLgo=')
},
{
'name': '/app/bower_components/html5-boilerplate/apple-touch-icon-precomposed.png', 'data': base64.b64decode('iVBORw0KGgoAAAANSUhEUgAAAJgAAACYCAMAAAAvHNATAAAAMFBMVEXriyPghiO7ciOZYCJsSCKDdEZGZ3A8VlwwSVEpMzYuPkMlKSpLNyEyKiEhISEWGyDowOD9AAAEVUlEQVR4Ae2ZYa7cIAyEB4iyCQR8/9u2Gz1ZRa23rDOR8oM5wffyecfAQ3toJtgEm2APygSbYBNsgk2wCTbBJlgpTwST5SjrVh4IFpO81vVVngZWQ2x5/Z3X/igwWYCjrauiPQYsBiTZ1h+0/BQwqeF36r5q8kPAFoSARV6rZn+GyhhCQJRt1WxPAJMjnKll1bzIYH6TfJcElREnWGw795OBYPLMu8o0DwBLOLG0ymiNAYLJM2yXYJj8e/wLHcxhUl1mZpWBY5JfZbhmUrnoVQaSyXMt/Tn+QgZzmNQcQqwyXF1HncvMqzKwTPrXEh+shj44iFWGKyaDhl9lYJjUNF6VgWNSx39jVRk4v0l1ubNcgmJSU9uLVGVgmDRcZjqYw6SuJcf4k8F0HXWhVRm8XGrSrrJLLsExqYmtcVyCc7DQ4CBVGS4f9m+qMnBN8qoMPJNaZfumKTQwGYtl8nQ5mK/AlpiGEoOdNJivwGrCWIIdDCUen/89AOP0d3eSSCvblsvw8EuNuJsK4ZDW9u2d/MWvMt1Mhlillbz9ZC+jYHKEW9GWJj+fy0ZTML9Ov0YTzS5YactNZEiqsc9ug/l1ejX2GQNrUhP4U//WmP/NVQbAtNJwt0ZN/maJyxHB1dgsjft3pwvRSrtXYzbr4n6dSE1asT/XOBi50hYxNRbvQTHhVo3+E6y/0rwaFexWnRjT6ADTu4f/KGFr9IO5darGZmu8BqYbiqsxl8YA00pjadwd90rWhkISsTSW5gBjbajD1ki7iTt+nU6N94OF6tboAIvjYFikrKtHowOsfjf657uPodEBRlsAreX1Hbu8aGDpK7DT5ZmX/bk4KiMcLhVNudhgciB8k3i6VDTVSAVzmAw4pKzel2LcZVJdara7wOT4eof3Lt1g/NPiIbvtkgcWv+XC0rnMN4FVx7Fa2uZ0iVtMamrnsvjBfGWBz4vc5RLXywIxWWhIbpe4XPtInw7dVfKqWW8BS7DvQVITyC7hN6n3oD036e5QZvm/hA4mh/G55DzXF0tn7Fy+ChHMLgvEQ58ud71DkRY5/Kd9pD9foHNpqpOxyOGtfYSfz6Up/3wW8i5yOE0i1e7BXnWyFjmcZbG0c+o1qvMI+LTINzJYjTCmvs/+V6UhNlf5w1H73dT3yfosZLksXLAEY+r7lP5ZSF06yh/jtW9NvSZ3z0IXD2UYM2lMvXn5V53uQxnGy0KnfuTlUivNXuQMsAhz6u3Lf4J9KCOB1f9NfS4fX7o9ixzDJpHq+OdSne5FjuGysKe+fPqTvIscQ7X/cer//9Ide5cEMK19e+rLyD8uHC4xYvLD1I9MqOHyusrRqbd1Goeyy8PfmlUSQ5GWjEV+Eczg2tt4autfV1hgbc+ez9Un2y4dYJqSHZ/LQitEMEXTkriAlnlgHVpu/mzqkgamaKrRj8YD05S9tIsp27rzwSgpTwXTTLAJNsEm2ASbYBNsgk2wCTbBbs4vAqz6xMjzVoYAAAAASUVORK5CYII=')
},
{
'name': '/app/bower_components/html5-boilerplate/robots.txt', 'data': base64.b64decode('IyByb2JvdHN0eHQub3JnLwoKVXNlci1hZ2VudDogKgo=')
},
{
'name': '/app/bower_components/html5-boilerplate/README.md', 'data': base64.b64decode('IyBbSFRNTDUgQm9pbGVycGxhdGVdKGh0dHA6Ly9odG1sNWJvaWxlcnBsYXRlLmNvbSkKCkhUTUw1IEJvaWxlcnBsYXRlIGlzIGEgcHJvZmVzc2lvbmFsIGZyb250LWVuZCB0ZW1wbGF0ZSBmb3IgYnVpbGRpbmcgZmFzdCwKcm9idXN0LCBhbmQgYWRhcHRhYmxlIHdlYiBhcHBzIG9yIHNpdGVzLgoKVGhpcyBwcm9qZWN0IGlzIHRoZSBwcm9kdWN0IG9mIG1hbnkgeWVhcnMgb2YgaXRlcmF0aXZlIGRldmVsb3BtZW50IGFuZCBjb21iaW5lZApjb21tdW5pdHkga25vd2xlZGdlLiBJdCBkb2VzIG5vdCBpbXBvc2UgYSBzcGVjaWZpYyBkZXZlbG9wbWVudCBwaGlsb3NvcGh5IG9yCmZyYW1ld29yaywgc28geW91J3JlIGZyZWUgdG8gYXJjaGl0ZWN0IHlvdXIgY29kZSBpbiB0aGUgd2F5IHRoYXQgeW91IHdhbnQuCgoqIFNvdXJjZTogW2h0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL2h0bWw1LWJvaWxlcnBsYXRlXShodHRwczovL2dpdGh1Yi5jb20vaDVicC9odG1sNS1ib2lsZXJwbGF0ZSkKKiBIb21lcGFnZTogW2h0dHA6Ly9odG1sNWJvaWxlcnBsYXRlLmNvbV0oaHR0cDovL2h0bWw1Ym9pbGVycGxhdGUuY29tKQoqIFR3aXR0ZXI6IFtAaDVicF0oaHR0cDovL3R3aXR0ZXIuY29tL2g1YnApCgoKIyMgUXVpY2sgc3RhcnQKCkNob29zZSBvbmUgb2YgdGhlIGZvbGxvd2luZyBvcHRpb25zOgoKMS4gRG93bmxvYWQgdGhlIGxhdGVzdCBzdGFibGUgcmVsZWFzZSBmcm9tCiAgIFtodG1sNWJvaWxlcnBsYXRlLmNvbV0oaHR0cDovL2h0bWw1Ym9pbGVycGxhdGUuY29tLykgb3IgYSBjdXN0b20gYnVpbGQgZnJvbQogICBbSW5pdGlhbGl6cl0oaHR0cDovL3d3dy5pbml0aWFsaXpyLmNvbSkuCjIuIENsb25lIHRoZSBnaXQgcmVwbyDigJQgYGdpdCBjbG9uZQogICBodHRwczovL2dpdGh1Yi5jb20vaDVicC9odG1sNS1ib2lsZXJwbGF0ZS5naXRgIC0gYW5kIGNoZWNrb3V0IHRoZSB0YWdnZWQKICAgcmVsZWFzZSB5b3UnZCBsaWtlIHRvIHVzZS4KCgojIyBGZWF0dXJlcwoKKiBIVE1MNSByZWFkeS4gVXNlIHRoZSBuZXcgZWxlbWVudHMgd2l0aCBjb25maWRlbmNlLgoqIENyb3NzLWJyb3dzZXIgY29tcGF0aWJsZSAoQ2hyb21lLCBPcGVyYSwgU2FmYXJpLCBGaXJlZm94IDMuNissIElFNispLgoqIERlc2lnbmVkIHdpdGggcHJvZ3Jlc3NpdmUgZW5oYW5jZW1lbnQgaW4gbWluZC4KKiBJbmNsdWRlcyBbTm9ybWFsaXplLmNzc10oaHR0cDovL25lY29sYXMuZ2l0aHViLmNvbS9ub3JtYWxpemUuY3NzLykgZm9yIENTUwogIG5vcm1hbGl6YXRpb25zIGFuZCBjb21tb24gYnVnIGZpeGVzLgoqIFRoZSBsYXRlc3QgW2pRdWVyeV0oaHR0cDovL2pxdWVyeS5jb20vKSB2aWEgQ0ROLCB3aXRoIGEgbG9jYWwgZmFsbGJhY2suCiogVGhlIGxhdGVzdCBbTW9kZXJuaXpyXShodHRwOi8vbW9kZXJuaXpyLmNvbS8pIGJ1aWxkIGZvciBmZWF0dXJlIGRldGVjdGlvbi4KKiBJRS1zcGVjaWZpYyBjbGFzc2VzIGZvciBlYXNpZXIgY3Jvc3MtYnJvd3NlciBjb250cm9sLgoqIFBsYWNlaG9sZGVyIENTUyBNZWRpYSBRdWVyaWVzLgoqIFVzZWZ1bCBDU1MgaGVscGVycy4KKiBEZWZhdWx0IHByaW50IENTUywgcGVyZm9ybWFuY2Ugb3B0aW1pemVkLgoqIFByb3RlY3Rpb24gYWdhaW5zdCBhbnkgc3RyYXkgYGNvbnNvbGUubG9nYCBjYXVzaW5nIEphdmFTY3JpcHQgZXJyb3JzIGluCiAgSUU2LzcuCiogQW4gb3B0aW1pemVkIEdvb2dsZSBBbmFseXRpY3Mgc25pcHBldC4KKiBBcGFjaGUgc2VydmVyIGNhY2hpbmcsIGNvbXByZXNzaW9uLCBhbmQgb3RoZXIgY29uZmlndXJhdGlvbiBkZWZhdWx0cyBmb3IKICBHcmFkZS1BIHBlcmZvcm1hbmNlLgoqIENyb3NzLWRvbWFpbiBBamF4IGFuZCBGbGFzaC4KKiAiRGVsZXRlLWtleSBmcmllbmRseS4iIEVhc3kgdG8gc3RyaXAgb3V0IHBhcnRzIHlvdSBkb24ndCBuZWVkLgoqIEV4dGVuc2l2ZSBpbmxpbmUgYW5kIGFjY29tcGFueWluZyBkb2N1bWVudGF0aW9uLgoKCiMjIERvY3VtZW50YXRpb24KClRha2UgYSBsb29rIGF0IHRoZSBbZG9jdW1lbnRhdGlvbiB0YWJsZSBvZiBjb250ZW50c10oZG9jL1RPQy5tZCkuIFRoaXMKZG9jdW1lbnRhdGlvbiBpcyBidW5kbGVkIHdpdGggdGhlIHByb2plY3QsIHdoaWNoIG1ha2VzIGl0IHJlYWRpbHkgYXZhaWxhYmxlIGZvcgpvZmZsaW5lIHJlYWRpbmcgYW5kIHByb3ZpZGVzIGEgdXNlZnVsIHN0YXJ0aW5nIHBvaW50IGZvciBhbnkgZG9jdW1lbnRhdGlvbiB5b3UKd2FudCB0byB3cml0ZSBhYm91dCB5b3VyIHByb2plY3QuCgoKIyMgQ29udHJpYnV0aW5nCgpBbnlvbmUgYW5kIGV2ZXJ5b25lIGlzIHdlbGNvbWUgdG8gW2NvbnRyaWJ1dGVdKENPTlRSSUJVVElORy5tZCkuIEh1bmRyZWRzIG9mCmRldmVsb3BlcnMgaGF2ZSBoZWxwZWQgbWFrZSB0aGUgSFRNTDUgQm9pbGVycGxhdGUgd2hhdCBpdCBpcyB0b2RheS4K')
},
{
'name': '/app/bower_components/html5-boilerplate/404.html', 'data': base64.b64decode('PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICAgIDxoZWFkPgogICAgICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04Ij4KICAgICAgICA8dGl0bGU+UGFnZSBOb3QgRm91bmQgOig8L3RpdGxlPgogICAgICAgIDxzdHlsZT4KICAgICAgICAgICAgOjotbW96LXNlbGVjdGlvbiB7CiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjYjNkNGZjOwogICAgICAgICAgICAgICAgdGV4dC1zaGFkb3c6IG5vbmU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIDo6c2VsZWN0aW9uIHsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICNiM2Q0ZmM7CiAgICAgICAgICAgICAgICB0ZXh0LXNoYWRvdzogbm9uZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaHRtbCB7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiAzMHB4IDEwcHg7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDIwcHg7CiAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMS40OwogICAgICAgICAgICAgICAgY29sb3I6ICM3MzczNzM7CiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZjBmMGYwOwogICAgICAgICAgICAgICAgLXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OiAxMDAlOwogICAgICAgICAgICAgICAgLW1zLXRleHQtc2l6ZS1hZGp1c3Q6IDEwMCU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGh0bWwsCiAgICAgICAgICAgIGlucHV0IHsKICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAiSGVsdmV0aWNhIE5ldWUiLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmOwogICAgICAgICAgICB9CgogICAgICAgICAgICBib2R5IHsKICAgICAgICAgICAgICAgIG1heC13aWR0aDogNTAwcHg7CiAgICAgICAgICAgICAgICBfd2lkdGg6IDUwMHB4OwogICAgICAgICAgICAgICAgcGFkZGluZzogMzBweCAyMHB4IDUwcHg7CiAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjYjNiM2IzOwogICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87CiAgICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDFweCAxMHB4ICNhN2E3YTcsIGluc2V0IDAgMXB4IDAgI2ZmZjsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmY2ZjZmM7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGgxIHsKICAgICAgICAgICAgICAgIG1hcmdpbjogMCAxMHB4OwogICAgICAgICAgICAgICAgZm9udC1zaXplOiA1MHB4OwogICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICB9CgogICAgICAgICAgICBoMSBzcGFuIHsKICAgICAgICAgICAgICAgIGNvbG9yOiAjYmJiOwogICAgICAgICAgICB9CgogICAgICAgICAgICBoMyB7CiAgICAgICAgICAgICAgICBtYXJnaW46IDEuNWVtIDAgMC41ZW07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHAgewogICAgICAgICAgICAgICAgbWFyZ2luOiAxZW0gMDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdWwgewogICAgICAgICAgICAgICAgcGFkZGluZzogMCAwIDAgNDBweDsKICAgICAgICAgICAgICAgIG1hcmdpbjogMWVtIDA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC5jb250YWluZXIgewogICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAzODBweDsKICAgICAgICAgICAgICAgIF93aWR0aDogMzgwcHg7CiAgICAgICAgICAgICAgICBtYXJnaW46IDAgYXV0bzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLyogZ29vZ2xlIHNlYXJjaCAqLwoKICAgICAgICAgICAgI2dvb2ctZml4dXJsIHVsIHsKICAgICAgICAgICAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwOwogICAgICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICB9CgogICAgICAgICAgICAjZ29vZy1maXh1cmwgZm9ybSB7CiAgICAgICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICNnb29nLXdtLXF0LAogICAgICAgICAgICAjZ29vZy13bS1zYiB7CiAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjYmJiOwogICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IG5vcm1hbDsKICAgICAgICAgICAgICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7CiAgICAgICAgICAgICAgICBjb2xvcjogIzQ0NDsKICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgI2dvb2ctd20tcXQgewogICAgICAgICAgICAgICAgd2lkdGg6IDIyMHB4OwogICAgICAgICAgICAgICAgaGVpZ2h0OiAyMHB4OwogICAgICAgICAgICAgICAgcGFkZGluZzogNXB4OwogICAgICAgICAgICAgICAgbWFyZ2luOiA1cHggMTBweCAwIDA7CiAgICAgICAgICAgICAgICBib3gtc2hhZG93OiBpbnNldCAwIDFweCAxcHggI2NjYzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgI2dvb2ctd20tc2IgewogICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAzMnB4OwogICAgICAgICAgICAgICAgcGFkZGluZzogMCAxMHB4OwogICAgICAgICAgICAgICAgbWFyZ2luOiA1cHggMCAwOwogICAgICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7CiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudChyZ2JhKDI1NSwyNTUsMjU1LDApLCAjZjFmMWYxKTsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KHJnYmEoMjU1LDI1NSwyNTUsMCksICNmMWYxZjEpOwogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudChyZ2JhKDI1NSwyNTUsMjU1LDApLCAjZjFmMWYxKTsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IC1vLWxpbmVhci1ncmFkaWVudChyZ2JhKDI1NSwyNTUsMjU1LDApLCAjZjFmMWYxKTsKICAgICAgICAgICAgICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTsKICAgICAgICAgICAgICAgIC1tb3otYXBwZWFyYW5jZTogbm9uZTsKICAgICAgICAgICAgICAgIGFwcGVhcmFuY2U6IG5vbmU7CiAgICAgICAgICAgICAgICAqb3ZlcmZsb3c6IHZpc2libGU7CiAgICAgICAgICAgICAgICAqZGlzcGxheTogaW5saW5lOwogICAgICAgICAgICAgICAgKnpvb206IDE7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICNnb29nLXdtLXNiOmhvdmVyLAogICAgICAgICAgICAjZ29vZy13bS1zYjpmb2N1cyB7CiAgICAgICAgICAgICAgICBib3JkZXItY29sb3I6ICNhYWE7CiAgICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDFweCAxcHggcmdiYSgwLCAwLCAwLCAwLjEpOwogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjhmODsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgI2dvb2ctd20tcXQ6aG92ZXIsCiAgICAgICAgICAgICNnb29nLXdtLXF0OmZvY3VzIHsKICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogIzEwNWNiNjsKICAgICAgICAgICAgICAgIG91dGxpbmU6IDA7CiAgICAgICAgICAgICAgICBjb2xvcjogIzIyMjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaW5wdXQ6Oi1tb3otZm9jdXMtaW5uZXIgewogICAgICAgICAgICAgICAgcGFkZGluZzogMDsKICAgICAgICAgICAgICAgIGJvcmRlcjogMDsKICAgICAgICAgICAgfQogICAgICAgIDwvc3R5bGU+CiAgICA8L2hlYWQ+CiAgICA8Ym9keT4KICAgICAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiPgogICAgICAgICAgICA8aDE+Tm90IGZvdW5kIDxzcGFuPjooPC9zcGFuPjwvaDE+CiAgICAgICAgICAgIDxwPlNvcnJ5LCBidXQgdGhlIHBhZ2UgeW91IHdlcmUgdHJ5aW5nIHRvIHZpZXcgZG9lcyBub3QgZXhpc3QuPC9wPgogICAgICAgICAgICA8cD5JdCBsb29rcyBsaWtlIHRoaXMgd2FzIHRoZSByZXN1bHQgb2YgZWl0aGVyOjwvcD4KICAgICAgICAgICAgPHVsPgogICAgICAgICAgICAgICAgPGxpPmEgbWlzdHlwZWQgYWRkcmVzczwvbGk+CiAgICAgICAgICAgICAgICA8bGk+YW4gb3V0LW9mLWRhdGUgbGluazwvbGk+CiAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgIDxzY3JpcHQ+CiAgICAgICAgICAgICAgICB2YXIgR09PR19GSVhVUkxfTEFORyA9IChuYXZpZ2F0b3IubGFuZ3VhZ2UgfHwgJycpLnNsaWNlKDAsMiksR09PR19GSVhVUkxfU0lURSA9IGxvY2F0aW9uLmhvc3Q7CiAgICAgICAgICAgIDwvc2NyaXB0PgogICAgICAgICAgICA8c2NyaXB0IHNyYz0iLy9saW5raGVscC5jbGllbnRzLmdvb2dsZS5jb20vdGJwcm94eS9saC93bS9maXh1cmwuanMiPjwvc2NyaXB0PgogICAgICAgIDwvZGl2PgogICAgPC9ib2R5Pgo8L2h0bWw+Cg==')
},
{
'name': '/app/bower_components/html5-boilerplate/crossdomain.xml', 'data': base64.b64decode('PD94bWwgdmVyc2lvbj0iMS4wIj8+CjwhRE9DVFlQRSBjcm9zcy1kb21haW4tcG9saWN5IFNZU1RFTSAiaHR0cDovL3d3dy5hZG9iZS5jb20veG1sL2R0ZHMvY3Jvc3MtZG9tYWluLXBvbGljeS5kdGQiPgo8Y3Jvc3MtZG9tYWluLXBvbGljeT4KICAgIDwhLS0gUmVhZCB0aGlzOiB3d3cuYWRvYmUuY29tL2Rldm5ldC9hcnRpY2xlcy9jcm9zc2RvbWFpbl9wb2xpY3lfZmlsZV9zcGVjLmh0bWwgLS0+CgogICAgPCEtLSBNb3N0IHJlc3RyaWN0aXZlIHBvbGljeTogLS0+CiAgICA8c2l0ZS1jb250cm9sIHBlcm1pdHRlZC1jcm9zcy1kb21haW4tcG9saWNpZXM9Im5vbmUiLz4KCiAgICA8IS0tIExlYXN0IHJlc3RyaWN0aXZlIHBvbGljeTogLS0+CiAgICA8IS0tCiAgICA8c2l0ZS1jb250cm9sIHBlcm1pdHRlZC1jcm9zcy1kb21haW4tcG9saWNpZXM9ImFsbCIvPgogICAgPGFsbG93LWFjY2Vzcy1mcm9tIGRvbWFpbj0iKiIgdG8tcG9ydHM9IioiIHNlY3VyZT0iZmFsc2UiLz4KICAgIDxhbGxvdy1odHRwLXJlcXVlc3QtaGVhZGVycy1mcm9tIGRvbWFpbj0iKiIgaGVhZGVycz0iKiIgc2VjdXJlPSJmYWxzZSIvPgogICAgLS0+CjwvY3Jvc3MtZG9tYWluLXBvbGljeT4K')
},
{
'name': '/app/bower_components/html5-boilerplate/CONTRIBUTING.md', 'data': base64.b64decode('IyBDb250cmlidXRpbmcgdG8gSFRNTDUgQm9pbGVycGxhdGUKCuKZpSBbSFRNTDUgQm9pbGVycGxhdGVdKGh0dHA6Ly9odG1sNWJvaWxlcnBsYXRlLmNvbSkgYW5kIHdhbnQgdG8gZ2V0IGludm9sdmVkPwpUaGFua3MhIFRoZXJlIGFyZSBwbGVudHkgb2Ygd2F5cyB5b3UgY2FuIGhlbHAhCgpQbGVhc2UgdGFrZSBhIG1vbWVudCB0byByZXZpZXcgdGhpcyBkb2N1bWVudCBpbiBvcmRlciB0byBtYWtlIHRoZSBjb250cmlidXRpb24KcHJvY2VzcyBlYXN5IGFuZCBlZmZlY3RpdmUgZm9yIGV2ZXJ5b25lIGludm9sdmVkLgoKRm9sbG93aW5nIHRoZXNlIGd1aWRlbGluZXMgaGVscHMgdG8gY29tbXVuaWNhdGUgdGhhdCB5b3UgcmVzcGVjdCB0aGUgdGltZSBvZgp0aGUgZGV2ZWxvcGVycyBtYW5hZ2luZyBhbmQgZGV2ZWxvcGluZyB0aGlzIG9wZW4gc291cmNlIHByb2plY3QuIEluIHJldHVybiwKdGhleSBzaG91bGQgcmVjaXByb2NhdGUgdGhhdCByZXNwZWN0IGluIGFkZHJlc3NpbmcgeW91ciBpc3N1ZSBvciBhc3Nlc3NpbmcKcGF0Y2hlcyBhbmQgZmVhdHVyZXMuCgoKIyMgVXNpbmcgdGhlIGlzc3VlIHRyYWNrZXIKClRoZSBbaXNzdWUgdHJhY2tlcl0oaHR0cHM6Ly9naXRodWIuY29tL2g1YnAvaHRtbDUtYm9pbGVycGxhdGUvaXNzdWVzKSBpcwp0aGUgcHJlZmVycmVkIGNoYW5uZWwgZm9yIFtidWcgcmVwb3J0c10oI2J1Z3MpLCBbZmVhdHVyZXMgcmVxdWVzdHNdKCNmZWF0dXJlcykKYW5kIFtzdWJtaXR0aW5nIHB1bGwgcmVxdWVzdHNdKCNwdWxsLXJlcXVlc3RzKSwgYnV0IHBsZWFzZSByZXNwZWN0IHRoZSBmb2xsb3dpbmcKcmVzdHJpY3Rpb25zOgoKKiBQbGVhc2UgKipkbyBub3QqKiB1c2UgdGhlIGlzc3VlIHRyYWNrZXIgZm9yIHBlcnNvbmFsIHN1cHBvcnQgcmVxdWVzdHMgKHVzZQogIFtTdGFjayBPdmVyZmxvd10oaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy90YWdnZWQvaHRtbDVib2lsZXJwbGF0ZSkKICBvciBJUkMpLgoKKiBQbGVhc2UgKipkbyBub3QqKiBkZXJhaWwgb3IgdHJvbGwgaXNzdWVzLiBLZWVwIHRoZSBkaXNjdXNzaW9uIG9uIHRvcGljIGFuZAogIHJlc3BlY3QgdGhlIG9waW5pb25zIG9mIG90aGVycy4KCiogUGxlYXNlICoqZG8gbm90Kiogb3BlbiBpc3N1ZXMgb3IgcHVsbCByZXF1ZXN0cyByZWdhcmRpbmcgdGhlIGNvZGUgaW4KICBbYC5odGFjY2Vzc2BdKGh0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL3NlcnZlci1jb25maWdzLWFwYWNoZSksCiAgW2BqUXVlcnlgXShodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS8pLAogIFtgTW9kZXJuaXpyYF0oaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIpIG9yCiAgW2BOb3JtYWxpemUuY3NzYF0oaHR0cHM6Ly9naXRodWIuY29tL25lY29sYXMvbm9ybWFsaXplLmNzcykgKG9wZW4gdGhlbSBpbgogIHRoZWlyIHJlc3BlY3RpdmUgcmVwb3NpdG9yaWVzKS4KCgo8YSBuYW1lPSJidWdzIj48L2E+CiMjIEJ1ZyByZXBvcnRzCgpBIGJ1ZyBpcyBhIF9kZW1vbnN0cmFibGUgcHJvYmxlbV8gdGhhdCBpcyBjYXVzZWQgYnkgdGhlIGNvZGUgaW4gdGhlIHJlcG9zaXRvcnkuCkdvb2QgYnVnIHJlcG9ydHMgYXJlIGV4dHJlbWVseSBoZWxwZnVsIC0gdGhhbmsgeW91IQoKR3VpZGVsaW5lcyBmb3IgYnVnIHJlcG9ydHM6CgoxLiAqKlVzZSB0aGUgR2l0SHViIGlzc3VlIHNlYXJjaCoqICZtZGFzaDsgY2hlY2sgaWYgdGhlIGlzc3VlIGhhcyBhbHJlYWR5IGJlZW4KICAgcmVwb3J0ZWQuCgoyLiAqKkNoZWNrIGlmIHRoZSBpc3N1ZSBoYXMgYmVlbiBmaXhlZCoqICZtZGFzaDsgdHJ5IHRvIHJlcHJvZHVjZSBpdCB1c2luZyB0aGUKICAgbGF0ZXN0IGBtYXN0ZXJgIG9yIGRldmVsb3BtZW50IGJyYW5jaCBpbiB0aGUgcmVwb3NpdG9yeS4KCjMuICoqSXNvbGF0ZSB0aGUgcHJvYmxlbSoqICZtZGFzaDsgaWRlYWxseSBjcmVhdGUgYSBbcmVkdWNlZCB0ZXN0CiAgIGNhc2VdKGh0dHA6Ly9jc3MtdHJpY2tzLmNvbS82MjYzLXJlZHVjZWQtdGVzdC1jYXNlcy8pIGFuZCBhIGxpdmUgZXhhbXBsZS4KCkEgZ29vZCBidWcgcmVwb3J0IHNob3VsZG4ndCBsZWF2ZSBvdGhlcnMgbmVlZGluZyB0byBjaGFzZSB5b3UgdXAgZm9yIG1vcmUKaW5mb3JtYXRpb24uIFBsZWFzZSB0cnkgdG8gYmUgYXMgZGV0YWlsZWQgYXMgcG9zc2libGUgaW4geW91ciByZXBvcnQuIFdoYXQgaXMKeW91ciBlbnZpcm9ubWVudD8gV2hhdCBzdGVwcyB3aWxsIHJlcHJvZHVjZSB0aGUgaXNzdWU/IFdoYXQgYnJvd3NlcihzKSBhbmQgT1MKZXhwZXJpZW5jZSB0aGUgcHJvYmxlbT8gV2hhdCB3b3VsZCB5b3UgZXhwZWN0IHRvIGJlIHRoZSBvdXRjb21lPyBBbGwgdGhlc2UKZGV0YWlscyB3aWxsIGhlbHAgcGVvcGxlIHRvIGZpeCBhbnkgcG90ZW50aWFsIGJ1Z3MuCgpFeGFtcGxlOgoKPiBTaG9ydCBhbmQgZGVzY3JpcHRpdmUgZXhhbXBsZSBidWcgcmVwb3J0IHRpdGxlCj4KPiBBIHN1bW1hcnkgb2YgdGhlIGlzc3VlIGFuZCB0aGUgYnJvd3Nlci9PUyBlbnZpcm9ubWVudCBpbiB3aGljaCBpdCBvY2N1cnMuIElmCj4gc3VpdGFibGUsIGluY2x1ZGUgdGhlIHN0ZXBzIHJlcXVpcmVkIHRvIHJlcHJvZHVjZSB0aGUgYnVnLgo+Cj4gMS4gVGhpcyBpcyB0aGUgZmlyc3Qgc3RlcAo+IDIuIFRoaXMgaXMgdGhlIHNlY29uZCBzdGVwCj4gMy4gRnVydGhlciBzdGVwcywgZXRjLgo+Cj4gYDx1cmw+YCAtIGEgbGluayB0byB0aGUgcmVkdWNlZCB0ZXN0IGNhc2UKPgo+IEFueSBvdGhlciBpbmZvcm1hdGlvbiB5b3Ugd2FudCB0byBzaGFyZSB0aGF0IGlzIHJlbGV2YW50IHRvIHRoZSBpc3N1ZSBiZWluZwo+IHJlcG9ydGVkLiBUaGlzIG1pZ2h0IGluY2x1ZGUgdGhlIGxpbmVzIG9mIGNvZGUgdGhhdCB5b3UgaGF2ZSBpZGVudGlmaWVkIGFzCj4gY2F1c2luZyB0aGUgYnVnLCBhbmQgcG90ZW50aWFsIHNvbHV0aW9ucyAoYW5kIHlvdXIgb3BpbmlvbnMgb24gdGhlaXIKPiBtZXJpdHMpLgoKCjxhIG5hbWU9ImZlYXR1cmVzIj48L2E+CiMjIEZlYXR1cmUgcmVxdWVzdHMKCkZlYXR1cmUgcmVxdWVzdHMgYXJlIHdlbGNvbWUuIEJ1dCB0YWtlIGEgbW9tZW50IHRvIGZpbmQgb3V0IHdoZXRoZXIgeW91ciBpZGVhCmZpdHMgd2l0aCB0aGUgc2NvcGUgYW5kIGFpbXMgb2YgdGhlIHByb2plY3QuIEl0J3MgdXAgdG8gKnlvdSogdG8gbWFrZSBhIHN0cm9uZwpjYXNlIHRvIGNvbnZpbmNlIHRoZSBwcm9qZWN0J3MgZGV2ZWxvcGVycyBvZiB0aGUgbWVyaXRzIG9mIHRoaXMgZmVhdHVyZS4gUGxlYXNlCnByb3ZpZGUgYXMgbXVjaCBkZXRhaWwgYW5kIGNvbnRleHQgYXMgcG9zc2libGUuCgoKPGEgbmFtZT0icHVsbC1yZXF1ZXN0cyI+PC9hPgojIyBQdWxsIHJlcXVlc3RzCgpHb29kIHB1bGwgcmVxdWVzdHMgLSBwYXRjaGVzLCBpbXByb3ZlbWVudHMsIG5ldyBmZWF0dXJlcyAtIGFyZSBhIGZhbnRhc3RpYwpoZWxwLiBUaGV5IHNob3VsZCByZW1haW4gZm9jdXNlZCBpbiBzY29wZSBhbmQgYXZvaWQgY29udGFpbmluZyB1bnJlbGF0ZWQKY29tbWl0cy4KCioqUGxlYXNlIGFzayBmaXJzdCoqIGJlZm9yZSBlbWJhcmtpbmcgb24gYW55IHNpZ25pZmljYW50IHB1bGwgcmVxdWVzdCAoZS5nLgppbXBsZW1lbnRpbmcgZmVhdHVyZXMsIHJlZmFjdG9yaW5nIGNvZGUsIHBvcnRpbmcgdG8gYSBkaWZmZXJlbnQgbGFuZ3VhZ2UpLApvdGhlcndpc2UgeW91IHJpc2sgc3BlbmRpbmcgYSBsb3Qgb2YgdGltZSB3b3JraW5nIG9uIHNvbWV0aGluZyB0aGF0IHRoZQpwcm9qZWN0J3MgZGV2ZWxvcGVycyBtaWdodCBub3Qgd2FudCB0byBtZXJnZSBpbnRvIHRoZSBwcm9qZWN0LgoKUGxlYXNlIGFkaGVyZSB0byB0aGUgY29kaW5nIGNvbnZlbnRpb25zIHVzZWQgdGhyb3VnaG91dCBhIHByb2plY3QgKGluZGVudGF0aW9uLAphY2N1cmF0ZSBjb21tZW50cywgZXRjLikgYW5kIGFueSBvdGhlciByZXF1aXJlbWVudHMgKHN1Y2ggYXMgdGVzdCBjb3ZlcmFnZSkuCgpBZGhlcmluZyB0byB0aGUgZm9sbG93aW5nIHRoaXMgcHJvY2VzcyBpcyB0aGUgYmVzdCB3YXkgdG8gZ2V0IHlvdXIgd29yawppbmNsdWRlZCBpbiB0aGUgcHJvamVjdDoKCjEuIFtGb3JrXShodHRwOi8vaGVscC5naXRodWIuY29tL2ZvcmstYS1yZXBvLykgdGhlIHByb2plY3QsIGNsb25lIHlvdXIgZm9yaywKICAgYW5kIGNvbmZpZ3VyZSB0aGUgcmVtb3RlczoKCiAgIGBgYGJhc2gKICAgIyBDbG9uZSB5b3VyIGZvcmsgb2YgdGhlIHJlcG8gaW50byB0aGUgY3VycmVudCBkaXJlY3RvcnkKICAgZ2l0IGNsb25lIGh0dHBzOi8vZ2l0aHViLmNvbS88eW91ci11c2VybmFtZT4vaHRtbDUtYm9pbGVycGxhdGUuZ2l0CiAgICMgTmF2aWdhdGUgdG8gdGhlIG5ld2x5IGNsb25lZCBkaXJlY3RvcnkKICAgY2QgaHRtbDUtYm9pbGVycGxhdGUKICAgIyBBc3NpZ24gdGhlIG9yaWdpbmFsIHJlcG8gdG8gYSByZW1vdGUgY2FsbGVkICJ1cHN0cmVhbSIKICAgZ2l0IHJlbW90ZSBhZGQgdXBzdHJlYW0gaHR0cHM6Ly9naXRodWIuY29tL2g1YnAvaHRtbDUtYm9pbGVycGxhdGUuZ2l0CiAgIGBgYAoKMi4gSWYgeW91IGNsb25lZCBhIHdoaWxlIGFnbywgZ2V0IHRoZSBsYXRlc3QgY2hhbmdlcyBmcm9tIHVwc3RyZWFtOgoKICAgYGBgYmFzaAogICBnaXQgY2hlY2tvdXQgbWFzdGVyCiAgIGdpdCBwdWxsIHVwc3RyZWFtIG1hc3RlcgogICBgYGAKCjMuIENyZWF0ZSBhIG5ldyB0b3BpYyBicmFuY2ggKG9mZiB0aGUgbWFpbiBwcm9qZWN0IGRldmVsb3BtZW50IGJyYW5jaCkgdG8KICAgY29udGFpbiB5b3VyIGZlYXR1cmUsIGNoYW5nZSwgb3IgZml4OgoKICAgYGBgYmFzaAogICBnaXQgY2hlY2tvdXQgLWIgPHRvcGljLWJyYW5jaC1uYW1lPgogICBgYGAKCjQuIENvbW1pdCB5b3VyIGNoYW5nZXMgaW4gbG9naWNhbCBjaHVua3MuIFBsZWFzZSBhZGhlcmUgdG8gdGhlc2UgW2dpdCBjb21taXQKICAgbWVzc2FnZSBndWlkZWxpbmVzXShodHRwOi8vdGJhZ2dlcnkuY29tLzIwMDgvMDQvMTkvYS1ub3RlLWFib3V0LWdpdC1jb21taXQtbWVzc2FnZXMuaHRtbCkKICAgb3IgeW91ciBjb2RlIGlzIHVubGlrZWx5IGJlIG1lcmdlZCBpbnRvIHRoZSBtYWluIHByb2plY3QuIFVzZSBHaXQncwogICBbaW50ZXJhY3RpdmUgcmViYXNlXShodHRwczovL2hlbHAuZ2l0aHViLmNvbS9hcnRpY2xlcy9pbnRlcmFjdGl2ZS1yZWJhc2UpCiAgIGZlYXR1cmUgdG8gdGlkeSB1cCB5b3VyIGNvbW1pdHMgYmVmb3JlIG1ha2luZyB0aGVtIHB1YmxpYy4KCjUuIExvY2FsbHkgbWVyZ2UgKG9yIHJlYmFzZSkgdGhlIHVwc3RyZWFtIGRldmVsb3BtZW50IGJyYW5jaCBpbnRvIHlvdXIgdG9waWMgYnJhbmNoOgoKICAgYGBgYmFzaAogICBnaXQgcHVsbCBbLS1yZWJhc2VdIHVwc3RyZWFtIG1hc3RlcgogICBgYGAKCjYuIFB1c2ggeW91ciB0b3BpYyBicmFuY2ggdXAgdG8geW91ciBmb3JrOgoKICAgYGBgYmFzaAogICBnaXQgcHVzaCBvcmlnaW4gPHRvcGljLWJyYW5jaC1uYW1lPgogICBgYGAKCjcuIFtPcGVuIGEgUHVsbCBSZXF1ZXN0XShodHRwczovL2hlbHAuZ2l0aHViLmNvbS9hcnRpY2xlcy91c2luZy1wdWxsLXJlcXVlc3RzLykKICAgIHdpdGggYSBjbGVhciB0aXRsZSBhbmQgZGVzY3JpcHRpb24uCgoqKklNUE9SVEFOVCoqOiBCeSBzdWJtaXR0aW5nIGEgcGF0Y2gsIHlvdSBhZ3JlZSB0byBhbGxvdyB0aGUgcHJvamVjdCBvd25lcnMgdG8KbGljZW5zZSB5b3VyIHdvcmsgdW5kZXIgdGhlIHRoZSB0ZXJtcyBvZiB0aGUgW01JVCBMaWNlbnNlXShMSUNFTlNFLm1kKS4K')
},
{
'name': '/app/bower_components/html5-boilerplate/.gitignore', 'data': base64.b64decode('IyBJbmNsdWRlIHlvdXIgcHJvamVjdC1zcGVjaWZpYyBpZ25vcmVzIGluIHRoaXMgZmlsZQojIFJlYWQgYWJvdXQgaG93IHRvIHVzZSAuZ2l0aWdub3JlOiBodHRwczovL2hlbHAuZ2l0aHViLmNvbS9hcnRpY2xlcy9pZ25vcmluZy1maWxlcwo=')
},
{
'name': '/app/bower_components/html5-boilerplate/index.html', 'data': base64.b64decode('PCFET0NUWVBFIGh0bWw+CjwhLS1baWYgbHQgSUUgN10+ICAgICAgPGh0bWwgY2xhc3M9Im5vLWpzIGx0LWllOSBsdC1pZTggbHQtaWU3Ij4gPCFbZW5kaWZdLS0+CjwhLS1baWYgSUUgN10+ICAgICAgICAgPGh0bWwgY2xhc3M9Im5vLWpzIGx0LWllOSBsdC1pZTgiPiA8IVtlbmRpZl0tLT4KPCEtLVtpZiBJRSA4XT4gICAgICAgICA8aHRtbCBjbGFzcz0ibm8tanMgbHQtaWU5Ij4gPCFbZW5kaWZdLS0+CjwhLS1baWYgZ3QgSUUgOF0+PCEtLT4gPGh0bWwgY2xhc3M9Im5vLWpzIj4gPCEtLTwhW2VuZGlmXS0tPgogICAgPGhlYWQ+CiAgICAgICAgPG1ldGEgY2hhcnNldD0idXRmLTgiPgogICAgICAgIDxtZXRhIGh0dHAtZXF1aXY9IlgtVUEtQ29tcGF0aWJsZSIgY29udGVudD0iSUU9ZWRnZSI+CiAgICAgICAgPHRpdGxlPjwvdGl0bGU+CiAgICAgICAgPG1ldGEgbmFtZT0iZGVzY3JpcHRpb24iIGNvbnRlbnQ9IiI+CiAgICAgICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIj4KCiAgICAgICAgPCEtLSBQbGFjZSBmYXZpY29uLmljbyBhbmQgYXBwbGUtdG91Y2gtaWNvbi5wbmcgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IC0tPgoKICAgICAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9ImNzcy9ub3JtYWxpemUuY3NzIj4KICAgICAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9ImNzcy9tYWluLmNzcyI+CiAgICAgICAgPHNjcmlwdCBzcmM9ImpzL3ZlbmRvci9tb2Rlcm5penItMi42LjIubWluLmpzIj48L3NjcmlwdD4KICAgIDwvaGVhZD4KICAgIDxib2R5PgogICAgICAgIDwhLS1baWYgbHQgSUUgN10+CiAgICAgICAgICAgIDxwIGNsYXNzPSJicm93c2VoYXBweSI+WW91IGFyZSB1c2luZyBhbiA8c3Ryb25nPm91dGRhdGVkPC9zdHJvbmc+IGJyb3dzZXIuIFBsZWFzZSA8YSBocmVmPSJodHRwOi8vYnJvd3NlaGFwcHkuY29tLyI+dXBncmFkZSB5b3VyIGJyb3dzZXI8L2E+IHRvIGltcHJvdmUgeW91ciBleHBlcmllbmNlLjwvcD4KICAgICAgICA8IVtlbmRpZl0tLT4KCiAgICAgICAgPCEtLSBBZGQgeW91ciBzaXRlIG9yIGFwcGxpY2F0aW9uIGNvbnRlbnQgaGVyZSAtLT4KICAgICAgICA8cD5IZWxsbyB3b3JsZCEgVGhpcyBpcyBIVE1MNSBCb2lsZXJwbGF0ZS48L3A+CgogICAgICAgIDxzY3JpcHQgc3JjPSIvL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjEwLjIvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICAgICAgPHNjcmlwdD53aW5kb3cualF1ZXJ5IHx8IGRvY3VtZW50LndyaXRlKCc8c2NyaXB0IHNyYz0ianMvdmVuZG9yL2pxdWVyeS0xLjEwLjIubWluLmpzIj48XC9zY3JpcHQ+Jyk8L3NjcmlwdD4KICAgICAgICA8c2NyaXB0IHNyYz0ianMvcGx1Z2lucy5qcyI+PC9zY3JpcHQ+CiAgICAgICAgPHNjcmlwdCBzcmM9ImpzL21haW4uanMiPjwvc2NyaXB0PgoKICAgICAgICA8IS0tIEdvb2dsZSBBbmFseXRpY3M6IGNoYW5nZSBVQS1YWFhYWC1YIHRvIGJlIHlvdXIgc2l0ZSdzIElELiAtLT4KICAgICAgICA8c2NyaXB0PgogICAgICAgICAgICAoZnVuY3Rpb24oYixvLGksbCxlLHIpe2IuR29vZ2xlQW5hbHl0aWNzT2JqZWN0PWw7YltsXXx8KGJbbF09CiAgICAgICAgICAgIGZ1bmN0aW9uKCl7KGJbbF0ucT1iW2xdLnF8fFtdKS5wdXNoKGFyZ3VtZW50cyl9KTtiW2xdLmw9K25ldyBEYXRlOwogICAgICAgICAgICBlPW8uY3JlYXRlRWxlbWVudChpKTtyPW8uZ2V0RWxlbWVudHNCeVRhZ05hbWUoaSlbMF07CiAgICAgICAgICAgIGUuc3JjPScvL3d3dy5nb29nbGUtYW5hbHl0aWNzLmNvbS9hbmFseXRpY3MuanMnOwogICAgICAgICAgICByLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUscil9KHdpbmRvdyxkb2N1bWVudCwnc2NyaXB0JywnZ2EnKSk7CiAgICAgICAgICAgIGdhKCdjcmVhdGUnLCdVQS1YWFhYWC1YJyk7Z2EoJ3NlbmQnLCdwYWdldmlldycpOwogICAgICAgIDwvc2NyaXB0PgogICAgPC9ib2R5Pgo8L2h0bWw+Cg==')
},
{
'name': '/app/bower_components/html5-boilerplate/LICENSE.md', 'data': base64.b64decode('Q29weXJpZ2h0IChjKSBIVE1MNSBCb2lsZXJwbGF0ZQoKUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weSBvZgp0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbCBpbgp0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvCnVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzCm9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbwpzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CgpUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwKY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KClRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLApGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgpMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLApPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRQpTT0ZUV0FSRS4K')
},
{
'name': '/app/bower_components/html5-boilerplate/humans.txt', 'data': base64.b64decode('IyBodW1hbnN0eHQub3JnLwojIFRoZSBodW1hbnMgcmVzcG9uc2libGUgJiB0ZWNobm9sb2d5IGNvbG9waG9uCgojIFRFQU0KCiAgICA8bmFtZT4gLS0gPHJvbGU+IC0tIDx0d2l0dGVyPgoKIyBUSEFOS1MKCiAgICA8bmFtZT4KCiMgVEVDSE5PTE9HWSBDT0xPUEhPTgoKICAgIEhUTUw1LCBDU1MzCiAgICBOb3JtYWxpemUuY3NzLCBqUXVlcnksIE1vZGVybml6cgo=')
},
{
'name': '/app/bower_components/html5-boilerplate/.gitattributes', 'data': base64.b64decode('KiB0ZXh0PWF1dG8=')
},
{
'name': '/app/bower_components/html5-boilerplate/.bower.json', 'data': base64.b64decode('ewogICJuYW1lIjogImh0bWw1LWJvaWxlcnBsYXRlIiwKICAiaG9tZXBhZ2UiOiAiaHR0cHM6Ly9naXRodWIuY29tL2g1YnAvaHRtbDUtYm9pbGVycGxhdGUiLAogICJ2ZXJzaW9uIjogIjQuMy4wIiwKICAiX3JlbGVhc2UiOiAiNC4zLjAiLAogICJfcmVzb2x1dGlvbiI6IHsKICAgICJ0eXBlIjogInZlcnNpb24iLAogICAgInRhZyI6ICJ2NC4zLjAiLAogICAgImNvbW1pdCI6ICI3MmNkZjFlOTZjNjUwNmM3NmM1MWU1M2FiYzFmMmJkMjI0Nzc2NjQ5IgogIH0sCiAgIl9zb3VyY2UiOiAiZ2l0Oi8vZ2l0aHViLmNvbS9oNWJwL2h0bWw1LWJvaWxlcnBsYXRlLmdpdCIsCiAgIl90YXJnZXQiOiAifjQuMy4wIiwKICAiX29yaWdpbmFsU291cmNlIjogImh0bWw1LWJvaWxlcnBsYXRlIgp9')
},
{
'name': '/app/bower_components/html5-boilerplate/favicon.ico', 'data': base64.b64decode('AAABAAEAICAQAAEABADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYGyAAISAgAA4gMQAFKUkAATVlAABFhQAAUJgAAFamAABhuQAFZ8MACGzIAA1xzAATd9QAHYHbAAAAAAAAAAAAERERERERERERERERERERERERERERERERERERERERERERERFDERERERERERA0EREREREQWDAREREREREEpBERERERESq1IRERERECbHIREREREREFy2MREREQOLtRERERERERFKu4QhERJKu5QRERERERERKKqrUhE2yqpyEREREREREQXKqsgzi6qrURERERERERETuqqrqqqqmUEREREREREREouqqqqqqrchERERERERERBcqqqqqqrFERERERERERERO6qqqqqqkxERERERERERAmqqqqqqqqUhEREREREREEnKqqqqqqqshCERERERECbMqqqqqqqqqstSEREREQSdqqqqqqqqqqqr2EAREQJsyqqqqqqqqqqqqqzFIRJd3d3d3duqqqq93d3d3cUjdlVVVVVYuqqshVVVVVVnMRARERERBdqqvVARERERARERERERERO7u8kxEREREREREREREREQjbvXIREREREREREREREREF271RERERERERERERERERE8zKMRERERERERERERERERCN1yEREREREREREREREREQXdURERERERERERERERERET2zEREREREREREREREREREKghERERERERERERERERERFnERERERERERERERERERERMxEREREREREREREREREREREREREREREREAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==')
},
{
'name': '/app/bower_components/html5-boilerplate/js/main.js', 'data': base64.b64decode('Cg==')
},
{
'name': '/app/bower_components/html5-boilerplate/js/plugins.js', 'data': base64.b64decode('Ly8gQXZvaWQgYGNvbnNvbGVgIGVycm9ycyBpbiBicm93c2VycyB0aGF0IGxhY2sgYSBjb25zb2xlLgooZnVuY3Rpb24oKSB7CiAgICB2YXIgbWV0aG9kOwogICAgdmFyIG5vb3AgPSBmdW5jdGlvbiAoKSB7fTsKICAgIHZhciBtZXRob2RzID0gWwogICAgICAgICdhc3NlcnQnLCAnY2xlYXInLCAnY291bnQnLCAnZGVidWcnLCAnZGlyJywgJ2RpcnhtbCcsICdlcnJvcicsCiAgICAgICAgJ2V4Y2VwdGlvbicsICdncm91cCcsICdncm91cENvbGxhcHNlZCcsICdncm91cEVuZCcsICdpbmZvJywgJ2xvZycsCiAgICAgICAgJ21hcmtUaW1lbGluZScsICdwcm9maWxlJywgJ3Byb2ZpbGVFbmQnLCAndGFibGUnLCAndGltZScsICd0aW1lRW5kJywKICAgICAgICAndGltZVN0YW1wJywgJ3RyYWNlJywgJ3dhcm4nCiAgICBdOwogICAgdmFyIGxlbmd0aCA9IG1ldGhvZHMubGVuZ3RoOwogICAgdmFyIGNvbnNvbGUgPSAod2luZG93LmNvbnNvbGUgPSB3aW5kb3cuY29uc29sZSB8fCB7fSk7CgogICAgd2hpbGUgKGxlbmd0aC0tKSB7CiAgICAgICAgbWV0aG9kID0gbWV0aG9kc1tsZW5ndGhdOwoKICAgICAgICAvLyBPbmx5IHN0dWIgdW5kZWZpbmVkIG1ldGhvZHMuCiAgICAgICAgaWYgKCFjb25zb2xlW21ldGhvZF0pIHsKICAgICAgICAgICAgY29uc29sZVttZXRob2RdID0gbm9vcDsKICAgICAgICB9CiAgICB9Cn0oKSk7CgovLyBQbGFjZSBhbnkgalF1ZXJ5L2hlbHBlciBwbHVnaW5zIGluIGhlcmUuCg==')
},
{
'name': '/app/bower_components/html5-boilerplate/js/vendor/jquery-1.10.2.min.js', 'data': base64.b64decode('LyohIGpRdWVyeSB2MS4xMC4yIHwgKGMpIDIwMDUsIDIwMTMgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UKLy9AIHNvdXJjZU1hcHBpbmdVUkw9anF1ZXJ5LTEuMTAuMi5taW4ubWFwCiovCihmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT10eXBlb2YgdCxvPWUubG9jYXRpb24sYT1lLmRvY3VtZW50LHM9YS5kb2N1bWVudEVsZW1lbnQsbD1lLmpRdWVyeSx1PWUuJCxjPXt9LHA9W10sZj0iMS4xMC4yIixkPXAuY29uY2F0LGg9cC5wdXNoLGc9cC5zbGljZSxtPXAuaW5kZXhPZix5PWMudG9TdHJpbmcsdj1jLmhhc093blByb3BlcnR5LGI9Zi50cmltLHg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IHguZm4uaW5pdChlLHQscil9LHc9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsVD0vXFMrL2csQz0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2csTj0vXig/OlxzKig8W1x3XFddKz4pW14+XSp8IyhbXHctXSopKSQvLGs9L148KFx3KylccypcLz8+KD86PFwvXDE+fCkkLyxFPS9eW1xdLDp7fVxzXSokLyxTPS8oPzpefDp8LCkoPzpccypcWykrL2csQT0vXFwoPzpbIlxcXC9iZm5ydF18dVtcZGEtZkEtRl17NH0pL2csaj0vIlteIlxcXHJcbl0qInx0cnVlfGZhbHNlfG51bGx8LT8oPzpcZCtcLnwpXGQrKD86W2VFXVsrLV0/XGQrfCkvZyxEPS9eLW1zLS8sTD0vLShbXGRhLXpdKS9naSxIPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX0scT1mdW5jdGlvbihlKXsoYS5hZGRFdmVudExpc3RlbmVyfHwibG9hZCI9PT1lLnR5cGV8fCJjb21wbGV0ZSI9PT1hLnJlYWR5U3RhdGUpJiYoXygpLHgucmVhZHkoKSl9LF89ZnVuY3Rpb24oKXthLmFkZEV2ZW50TGlzdGVuZXI/KGEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIscSwhMSksZS5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixxLCExKSk6KGEuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIscSksZS5kZXRhY2hFdmVudCgib25sb2FkIixxKSl9O3guZm49eC5wcm90b3R5cGU9e2pxdWVyeTpmLGNvbnN0cnVjdG9yOngsaW5pdDpmdW5jdGlvbihlLG4scil7dmFyIGksbztpZighZSlyZXR1cm4gdGhpcztpZigic3RyaW5nIj09dHlwZW9mIGUpe2lmKGk9IjwiPT09ZS5jaGFyQXQoMCkmJiI+Ij09PWUuY2hhckF0KGUubGVuZ3RoLTEpJiZlLmxlbmd0aD49Mz9bbnVsbCxlLG51bGxdOk4uZXhlYyhlKSwhaXx8IWlbMV0mJm4pcmV0dXJuIW58fG4uanF1ZXJ5PyhufHxyKS5maW5kKGUpOnRoaXMuY29uc3RydWN0b3IobikuZmluZChlKTtpZihpWzFdKXtpZihuPW4gaW5zdGFuY2VvZiB4P25bMF06bix4Lm1lcmdlKHRoaXMseC5wYXJzZUhUTUwoaVsxXSxuJiZuLm5vZGVUeXBlP24ub3duZXJEb2N1bWVudHx8bjphLCEwKSksay50ZXN0KGlbMV0pJiZ4LmlzUGxhaW5PYmplY3QobikpZm9yKGkgaW4gbil4LmlzRnVuY3Rpb24odGhpc1tpXSk/dGhpc1tpXShuW2ldKTp0aGlzLmF0dHIoaSxuW2ldKTtyZXR1cm4gdGhpc31pZihvPWEuZ2V0RWxlbWVudEJ5SWQoaVsyXSksbyYmby5wYXJlbnROb2RlKXtpZihvLmlkIT09aVsyXSlyZXR1cm4gci5maW5kKGUpO3RoaXMubGVuZ3RoPTEsdGhpc1swXT1vfXJldHVybiB0aGlzLmNvbnRleHQ9YSx0aGlzLnNlbGVjdG9yPWUsdGhpc31yZXR1cm4gZS5ub2RlVHlwZT8odGhpcy5jb250ZXh0PXRoaXNbMF09ZSx0aGlzLmxlbmd0aD0xLHRoaXMpOnguaXNGdW5jdGlvbihlKT9yLnJlYWR5KGUpOihlLnNlbGVjdG9yIT09dCYmKHRoaXMuc2VsZWN0b3I9ZS5zZWxlY3Rvcix0aGlzLmNvbnRleHQ9ZS5jb250ZXh0KSx4Lm1ha2VBcnJheShlLHRoaXMpKX0sc2VsZWN0b3I6IiIsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBnLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT90aGlzLnRvQXJyYXkoKTowPmU/dGhpc1t0aGlzLmxlbmd0aCtlXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9eC5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZSk7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHQuY29udGV4dD10aGlzLmNvbnRleHQsdH0sZWFjaDpmdW5jdGlvbihlLHQpe3JldHVybiB4LmVhY2godGhpcyxlLHQpfSxyZWFkeTpmdW5jdGlvbihlKXtyZXR1cm4geC5yZWFkeS5wcm9taXNlKCkuZG9uZShlKSx0aGlzfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhnLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGVxOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubGVuZ3RoLG49K2UrKDA+ZT90OjApO3JldHVybiB0aGlzLnB1c2hTdGFjayhuPj0wJiZ0Pm4/W3RoaXNbbl1dOltdKX0sbWFwOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayh4Lm1hcCh0aGlzLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuY2FsbCh0LG4sdCl9KSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IobnVsbCl9LHB1c2g6aCxzb3J0OltdLnNvcnQsc3BsaWNlOltdLnNwbGljZX0seC5mbi5pbml0LnByb3RvdHlwZT14LmZuLHguZXh0ZW5kPXguZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGUsbixyLGksbyxhLHM9YXJndW1lbnRzWzBdfHx7fSxsPTEsdT1hcmd1bWVudHMubGVuZ3RoLGM9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIHMmJihjPXMscz1hcmd1bWVudHNbMV18fHt9LGw9MiksIm9iamVjdCI9PXR5cGVvZiBzfHx4LmlzRnVuY3Rpb24ocyl8fChzPXt9KSx1PT09bCYmKHM9dGhpcywtLWwpO3U+bDtsKyspaWYobnVsbCE9KG89YXJndW1lbnRzW2xdKSlmb3IoaSBpbiBvKWU9c1tpXSxyPW9baV0scyE9PXImJihjJiZyJiYoeC5pc1BsYWluT2JqZWN0KHIpfHwobj14LmlzQXJyYXkocikpKT8obj8obj0hMSxhPWUmJnguaXNBcnJheShlKT9lOltdKTphPWUmJnguaXNQbGFpbk9iamVjdChlKT9lOnt9LHNbaV09eC5leHRlbmQoYyxhLHIpKTpyIT09dCYmKHNbaV09cikpO3JldHVybiBzfSx4LmV4dGVuZCh7ZXhwYW5kbzoialF1ZXJ5IisoZitNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxub0NvbmZsaWN0OmZ1bmN0aW9uKHQpe3JldHVybiBlLiQ9PT14JiYoZS4kPXUpLHQmJmUualF1ZXJ5PT09eCYmKGUualF1ZXJ5PWwpLHh9LGlzUmVhZHk6ITEscmVhZHlXYWl0OjEsaG9sZFJlYWR5OmZ1bmN0aW9uKGUpe2U/eC5yZWFkeVdhaXQrKzp4LnJlYWR5KCEwKX0scmVhZHk6ZnVuY3Rpb24oZSl7aWYoZT09PSEwPyEtLXgucmVhZHlXYWl0OiF4LmlzUmVhZHkpe2lmKCFhLmJvZHkpcmV0dXJuIHNldFRpbWVvdXQoeC5yZWFkeSk7eC5pc1JlYWR5PSEwLGUhPT0hMCYmLS14LnJlYWR5V2FpdD4wfHwobi5yZXNvbHZlV2l0aChhLFt4XSkseC5mbi50cmlnZ2VyJiZ4KGEpLnRyaWdnZXIoInJlYWR5Iikub2ZmKCJyZWFkeSIpKX19LGlzRnVuY3Rpb246ZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09PXgudHlwZShlKX0saXNBcnJheTpBcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iYXJyYXkiPT09eC50eXBlKGUpfSxpc1dpbmRvdzpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZT09ZS53aW5kb3d9LGlzTnVtZXJpYzpmdW5jdGlvbihlKXtyZXR1cm4haXNOYU4ocGFyc2VGbG9hdChlKSkmJmlzRmluaXRlKGUpfSx0eXBlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP2UrIiI6Im9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZT9jW3kuY2FsbChlKV18fCJvYmplY3QiOnR5cGVvZiBlfSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGUpe3ZhciBuO2lmKCFlfHwib2JqZWN0IiE9PXgudHlwZShlKXx8ZS5ub2RlVHlwZXx8eC5pc1dpbmRvdyhlKSlyZXR1cm4hMTt0cnl7aWYoZS5jb25zdHJ1Y3RvciYmIXYuY2FsbChlLCJjb25zdHJ1Y3RvciIpJiYhdi5jYWxsKGUuY29uc3RydWN0b3IucHJvdG90eXBlLCJpc1Byb3RvdHlwZU9mIikpcmV0dXJuITF9Y2F0Y2gocil7cmV0dXJuITF9aWYoeC5zdXBwb3J0Lm93bkxhc3QpZm9yKG4gaW4gZSlyZXR1cm4gdi5jYWxsKGUsbik7Zm9yKG4gaW4gZSk7cmV0dXJuIG49PT10fHx2LmNhbGwoZSxuKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlKXJldHVybiExO3JldHVybiEwfSxlcnJvcjpmdW5jdGlvbihlKXt0aHJvdyBFcnJvcihlKX0scGFyc2VIVE1MOmZ1bmN0aW9uKGUsdCxuKXtpZighZXx8InN0cmluZyIhPXR5cGVvZiBlKXJldHVybiBudWxsOyJib29sZWFuIj09dHlwZW9mIHQmJihuPXQsdD0hMSksdD10fHxhO3ZhciByPWsuZXhlYyhlKSxpPSFuJiZbXTtyZXR1cm4gcj9bdC5jcmVhdGVFbGVtZW50KHJbMV0pXToocj14LmJ1aWxkRnJhZ21lbnQoW2VdLHQsaSksaSYmeChpKS5yZW1vdmUoKSx4Lm1lcmdlKFtdLHIuY2hpbGROb2RlcykpfSxwYXJzZUpTT046ZnVuY3Rpb24obil7cmV0dXJuIGUuSlNPTiYmZS5KU09OLnBhcnNlP2UuSlNPTi5wYXJzZShuKTpudWxsPT09bj9uOiJzdHJpbmciPT10eXBlb2YgbiYmKG49eC50cmltKG4pLG4mJkUudGVzdChuLnJlcGxhY2UoQSwiQCIpLnJlcGxhY2UoaiwiXSIpLnJlcGxhY2UoUywiIikpKT9GdW5jdGlvbigicmV0dXJuICIrbikoKTooeC5lcnJvcigiSW52YWxpZCBKU09OOiAiK24pLHQpfSxwYXJzZVhNTDpmdW5jdGlvbihuKXt2YXIgcixpO2lmKCFufHwic3RyaW5nIiE9dHlwZW9mIG4pcmV0dXJuIG51bGw7dHJ5e2UuRE9NUGFyc2VyPyhpPW5ldyBET01QYXJzZXIscj1pLnBhcnNlRnJvbVN0cmluZyhuLCJ0ZXh0L3htbCIpKToocj1uZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTERPTSIpLHIuYXN5bmM9ImZhbHNlIixyLmxvYWRYTUwobikpfWNhdGNoKG8pe3I9dH1yZXR1cm4gciYmci5kb2N1bWVudEVsZW1lbnQmJiFyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpLmxlbmd0aHx8eC5lcnJvcigiSW52YWxpZCBYTUw6ICIrbikscn0sbm9vcDpmdW5jdGlvbigpe30sZ2xvYmFsRXZhbDpmdW5jdGlvbih0KXt0JiZ4LnRyaW0odCkmJihlLmV4ZWNTY3JpcHR8fGZ1bmN0aW9uKHQpe2UuZXZhbC5jYWxsKGUsdCl9KSh0KX0sY2FtZWxDYXNlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoRCwibXMtIikucmVwbGFjZShMLEgpfSxub2RlTmFtZTpmdW5jdGlvbihlLHQpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk9MCxvPWUubGVuZ3RoLGE9TShlKTtpZihuKXtpZihhKXtmb3IoO28+aTtpKyspaWYocj10LmFwcGx5KGVbaV0sbikscj09PSExKWJyZWFrfWVsc2UgZm9yKGkgaW4gZSlpZihyPXQuYXBwbHkoZVtpXSxuKSxyPT09ITEpYnJlYWt9ZWxzZSBpZihhKXtmb3IoO28+aTtpKyspaWYocj10LmNhbGwoZVtpXSxpLGVbaV0pLHI9PT0hMSlicmVha31lbHNlIGZvcihpIGluIGUpaWYocj10LmNhbGwoZVtpXSxpLGVbaV0pLHI9PT0hMSlicmVhaztyZXR1cm4gZX0sdHJpbTpiJiYhYi5jYWxsKCJcdWZlZmZcdTAwYTAiKT9mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8iIjpiLmNhbGwoZSl9OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOihlKyIiKS5yZXBsYWNlKEMsIiIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oZSx0KXt2YXIgbj10fHxbXTtyZXR1cm4gbnVsbCE9ZSYmKE0oT2JqZWN0KGUpKT94Lm1lcmdlKG4sInN0cmluZyI9PXR5cGVvZiBlP1tlXTplKTpoLmNhbGwobixlKSksbn0saW5BcnJheTpmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYodCl7aWYobSlyZXR1cm4gbS5jYWxsKHQsZSxuKTtmb3Iocj10Lmxlbmd0aCxuPW4/MD5uP01hdGgubWF4KDAscituKTpuOjA7cj5uO24rKylpZihuIGluIHQmJnRbbl09PT1lKXJldHVybiBufXJldHVybi0xfSxtZXJnZTpmdW5jdGlvbihlLG4pe3ZhciByPW4ubGVuZ3RoLGk9ZS5sZW5ndGgsbz0wO2lmKCJudW1iZXIiPT10eXBlb2Ygcilmb3IoO3I+bztvKyspZVtpKytdPW5bb107ZWxzZSB3aGlsZShuW29dIT09dCllW2krK109bltvKytdO3JldHVybiBlLmxlbmd0aD1pLGV9LGdyZXA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk9W10sbz0wLGE9ZS5sZW5ndGg7Zm9yKG49ISFuO2E+bztvKyspcj0hIXQoZVtvXSxvKSxuIT09ciYmaS5wdXNoKGVbb10pO3JldHVybiBpfSxtYXA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk9MCxvPWUubGVuZ3RoLGE9TShlKSxzPVtdO2lmKGEpZm9yKDtvPmk7aSsrKXI9dChlW2ldLGksbiksbnVsbCE9ciYmKHNbcy5sZW5ndGhdPXIpO2Vsc2UgZm9yKGkgaW4gZSlyPXQoZVtpXSxpLG4pLG51bGwhPXImJihzW3MubGVuZ3RoXT1yKTtyZXR1cm4gZC5hcHBseShbXSxzKX0sZ3VpZDoxLHByb3h5OmZ1bmN0aW9uKGUsbil7dmFyIHIsaSxvO3JldHVybiJzdHJpbmciPT10eXBlb2YgbiYmKG89ZVtuXSxuPWUsZT1vKSx4LmlzRnVuY3Rpb24oZSk/KHI9Zy5jYWxsKGFyZ3VtZW50cywyKSxpPWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkobnx8dGhpcyxyLmNvbmNhdChnLmNhbGwoYXJndW1lbnRzKSkpfSxpLmd1aWQ9ZS5ndWlkPWUuZ3VpZHx8eC5ndWlkKyssaSk6dH0sYWNjZXNzOmZ1bmN0aW9uKGUsbixyLGksbyxhLHMpe3ZhciBsPTAsdT1lLmxlbmd0aCxjPW51bGw9PXI7aWYoIm9iamVjdCI9PT14LnR5cGUocikpe289ITA7Zm9yKGwgaW4gcil4LmFjY2VzcyhlLG4sbCxyW2xdLCEwLGEscyl9ZWxzZSBpZihpIT09dCYmKG89ITAseC5pc0Z1bmN0aW9uKGkpfHwocz0hMCksYyYmKHM/KG4uY2FsbChlLGkpLG49bnVsbCk6KGM9bixuPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gYy5jYWxsKHgoZSksbil9KSksbikpZm9yKDt1Pmw7bCsrKW4oZVtsXSxyLHM/aTppLmNhbGwoZVtsXSxsLG4oZVtsXSxyKSkpO3JldHVybiBvP2U6Yz9uLmNhbGwoZSk6dT9uKGVbMF0scik6YX0sbm93OmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9LHN3YXA6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxhPXt9O2ZvcihvIGluIHQpYVtvXT1lLnN0eWxlW29dLGUuc3R5bGVbb109dFtvXTtpPW4uYXBwbHkoZSxyfHxbXSk7Zm9yKG8gaW4gdCllLnN0eWxlW29dPWFbb107cmV0dXJuIGl9fSkseC5yZWFkeS5wcm9taXNlPWZ1bmN0aW9uKHQpe2lmKCFuKWlmKG49eC5EZWZlcnJlZCgpLCJjb21wbGV0ZSI9PT1hLnJlYWR5U3RhdGUpc2V0VGltZW91dCh4LnJlYWR5KTtlbHNlIGlmKGEuYWRkRXZlbnRMaXN0ZW5lcilhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLHEsITEpLGUuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIscSwhMSk7ZWxzZXthLmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLHEpLGUuYXR0YWNoRXZlbnQoIm9ubG9hZCIscSk7dmFyIHI9ITE7dHJ5e3I9bnVsbD09ZS5mcmFtZUVsZW1lbnQmJmEuZG9jdW1lbnRFbGVtZW50fWNhdGNoKGkpe31yJiZyLmRvU2Nyb2xsJiZmdW5jdGlvbiBvKCl7aWYoIXguaXNSZWFkeSl7dHJ5e3IuZG9TY3JvbGwoImxlZnQiKX1jYXRjaChlKXtyZXR1cm4gc2V0VGltZW91dChvLDUwKX1fKCkseC5yZWFkeSgpfX0oKX1yZXR1cm4gbi5wcm9taXNlKHQpfSx4LmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IiLnNwbGl0KCIgIiksZnVuY3Rpb24oZSx0KXtjWyJbb2JqZWN0ICIrdCsiXSJdPXQudG9Mb3dlckNhc2UoKX0pO2Z1bmN0aW9uIE0oZSl7dmFyIHQ9ZS5sZW5ndGgsbj14LnR5cGUoZSk7cmV0dXJuIHguaXNXaW5kb3coZSk/ITE6MT09PWUubm9kZVR5cGUmJnQ/ITA6ImFycmF5Ij09PW58fCJmdW5jdGlvbiIhPT1uJiYoMD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmdD4wJiZ0LTEgaW4gZSl9cj14KGEpLGZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzLGwsdSxjLHAsZixkLGgsZyxtLHksdixiPSJzaXp6bGUiKy1uZXcgRGF0ZSx3PWUuZG9jdW1lbnQsVD0wLEM9MCxOPXN0KCksaz1zdCgpLEU9c3QoKSxTPSExLEE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQ/KFM9ITAsMCk6MH0saj10eXBlb2YgdCxEPTE8PDMxLEw9e30uaGFzT3duUHJvcGVydHksSD1bXSxxPUgucG9wLF89SC5wdXNoLE09SC5wdXNoLE89SC5zbGljZSxGPUguaW5kZXhPZnx8ZnVuY3Rpb24oZSl7dmFyIHQ9MCxuPXRoaXMubGVuZ3RoO2Zvcig7bj50O3QrKylpZih0aGlzW3RdPT09ZSlyZXR1cm4gdDtyZXR1cm4tMX0sQj0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLFA9IltcXHgyMFxcdFxcclxcblxcZl0iLFI9Iig/OlxcXFwufFtcXHctXXxbXlxceDAwLVxceGEwXSkrIixXPVIucmVwbGFjZSgidyIsIncjIiksJD0iXFxbIitQKyIqKCIrUisiKSIrUCsiKig/OihbKl4kfCF+XT89KSIrUCsiKig/OihbJ1wiXSkoKD86XFxcXC58W15cXFxcXSkqPylcXDN8KCIrVysiKXwpfCkiK1ArIipcXF0iLEk9IjooIitSKyIpKD86XFwoKChbJ1wiXSkoKD86XFxcXC58W15cXFxcXSkqPylcXDN8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IiskLnJlcGxhY2UoMyw4KSsiKSopfC4qKVxcKXwpIix6PVJlZ0V4cCgiXiIrUCsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitQKyIrJCIsImciKSxYPVJlZ0V4cCgiXiIrUCsiKiwiK1ArIioiKSxVPVJlZ0V4cCgiXiIrUCsiKihbPit+XXwiK1ArIikiK1ArIioiKSxWPVJlZ0V4cChQKyIqWyt+XSIpLFk9UmVnRXhwKCI9IitQKyIqKFteXFxdJ1wiXSopIitQKyIqXFxdIiwiZyIpLEo9UmVnRXhwKEkpLEc9UmVnRXhwKCJeIitXKyIkIiksUT17SUQ6UmVnRXhwKCJeIygiK1IrIikiKSxDTEFTUzpSZWdFeHAoIl5cXC4oIitSKyIpIiksVEFHOlJlZ0V4cCgiXigiK1IucmVwbGFjZSgidyIsIncqIikrIikiKSxBVFRSOlJlZ0V4cCgiXiIrJCksUFNFVURPOlJlZ0V4cCgiXiIrSSksQ0hJTEQ6UmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK1ArIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK1ArIiooPzooWystXXwpIitQKyIqKFxcZCspfCkpIitQKyIqXFwpfCkiLCJpIiksYm9vbDpSZWdFeHAoIl4oPzoiK0IrIikkIiwiaSIpLG5lZWRzQ29udGV4dDpSZWdFeHAoIl4iK1ArIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrUCsiKigoPzotXFxkKT9cXGQqKSIrUCsiKlxcKXwpKD89W14tXXwkKSIsImkiKX0sSz0vXltee10rXHtccypcW25hdGl2ZSBcdy8sWj0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLGV0PS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksdHQ9L15oXGQkL2ksbnQ9Lyd8XFwvZyxydD1SZWdFeHAoIlxcXFwoW1xcZGEtZl17MSw2fSIrUCsiP3woIitQKyIpfC4pIiwiaWciKSxpdD1mdW5jdGlvbihlLHQsbil7dmFyIHI9IjB4Iit0LTY1NTM2O3JldHVybiByIT09cnx8bj90OjA+cj9TdHJpbmcuZnJvbUNoYXJDb2RlKHIrNjU1MzYpOlN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTZ8cj4+MTAsNTYzMjB8MTAyMyZyKX07dHJ5e00uYXBwbHkoSD1PLmNhbGwody5jaGlsZE5vZGVzKSx3LmNoaWxkTm9kZXMpLEhbdy5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2gob3Qpe009e2FwcGx5OkgubGVuZ3RoP2Z1bmN0aW9uKGUsdCl7Xy5hcHBseShlLE8uY2FsbCh0KSl9OmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5sZW5ndGgscj0wO3doaWxlKGVbbisrXT10W3IrK10pO2UubGVuZ3RoPW4tMX19fWZ1bmN0aW9uIGF0KGUsdCxuLGkpe3ZhciBvLGEscyxsLHUsYyxkLG0seSx4O2lmKCh0P3Qub3duZXJEb2N1bWVudHx8dDp3KSE9PWYmJnAodCksdD10fHxmLG49bnx8W10sIWV8fCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gbjtpZigxIT09KGw9dC5ub2RlVHlwZSkmJjkhPT1sKXJldHVybltdO2lmKGgmJiFpKXtpZihvPVouZXhlYyhlKSlpZihzPW9bMV0pe2lmKDk9PT1sKXtpZihhPXQuZ2V0RWxlbWVudEJ5SWQocyksIWF8fCFhLnBhcmVudE5vZGUpcmV0dXJuIG47aWYoYS5pZD09PXMpcmV0dXJuIG4ucHVzaChhKSxufWVsc2UgaWYodC5vd25lckRvY3VtZW50JiYoYT10Lm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocykpJiZ2KHQsYSkmJmEuaWQ9PT1zKXJldHVybiBuLnB1c2goYSksbn1lbHNle2lmKG9bMl0pcmV0dXJuIE0uYXBwbHkobix0LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpKSxuO2lmKChzPW9bM10pJiZyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlyZXR1cm4gTS5hcHBseShuLHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShzKSksbn1pZihyLnFzYSYmKCFnfHwhZy50ZXN0KGUpKSl7aWYobT1kPWIseT10LHg9OT09PWwmJmUsMT09PWwmJiJvYmplY3QiIT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXtjPW10KGUpLChkPXQuZ2V0QXR0cmlidXRlKCJpZCIpKT9tPWQucmVwbGFjZShudCwiXFwkJiIpOnQuc2V0QXR0cmlidXRlKCJpZCIsbSksbT0iW2lkPSciK20rIiddICIsdT1jLmxlbmd0aDt3aGlsZSh1LS0pY1t1XT1tK3l0KGNbdV0pO3k9Vi50ZXN0KGUpJiZ0LnBhcmVudE5vZGV8fHQseD1jLmpvaW4oIiwiKX1pZih4KXRyeXtyZXR1cm4gTS5hcHBseShuLHkucXVlcnlTZWxlY3RvckFsbCh4KSksbn1jYXRjaChUKXt9ZmluYWxseXtkfHx0LnJlbW92ZUF0dHJpYnV0ZSgiaWQiKX19fXJldHVybiBrdChlLnJlcGxhY2UoeiwiJDEiKSx0LG4saSl9ZnVuY3Rpb24gc3QoKXt2YXIgZT1bXTtmdW5jdGlvbiB0KG4scil7cmV0dXJuIGUucHVzaChuKz0iICIpPm8uY2FjaGVMZW5ndGgmJmRlbGV0ZSB0W2Uuc2hpZnQoKV0sdFtuXT1yfXJldHVybiB0fWZ1bmN0aW9uIGx0KGUpe3JldHVybiBlW2JdPSEwLGV9ZnVuY3Rpb24gdXQoZSl7dmFyIHQ9Zi5jcmVhdGVFbGVtZW50KCJkaXYiKTt0cnl7cmV0dXJuISFlKHQpfWNhdGNoKG4pe3JldHVybiExfWZpbmFsbHl7dC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksdD1udWxsfX1mdW5jdGlvbiBjdChlLHQpe3ZhciBuPWUuc3BsaXQoInwiKSxyPWUubGVuZ3RoO3doaWxlKHItLSlvLmF0dHJIYW5kbGVbbltyXV09dH1mdW5jdGlvbiBwdChlLHQpe3ZhciBuPXQmJmUscj1uJiYxPT09ZS5ub2RlVHlwZSYmMT09PXQubm9kZVR5cGUmJih+dC5zb3VyY2VJbmRleHx8RCktKH5lLnNvdXJjZUluZGV4fHxEKTtpZihyKXJldHVybiByO2lmKG4pd2hpbGUobj1uLm5leHRTaWJsaW5nKWlmKG49PT10KXJldHVybi0xO3JldHVybiBlPzE6LTF9ZnVuY3Rpb24gZnQoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09biYmdC50eXBlPT09ZX19ZnVuY3Rpb24gZHQoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PW58fCJidXR0b24iPT09bikmJnQudHlwZT09PWV9fWZ1bmN0aW9uIGh0KGUpe3JldHVybiBsdChmdW5jdGlvbih0KXtyZXR1cm4gdD0rdCxsdChmdW5jdGlvbihuLHIpe3ZhciBpLG89ZShbXSxuLmxlbmd0aCx0KSxhPW8ubGVuZ3RoO3doaWxlKGEtLSluW2k9b1thXV0mJihuW2ldPSEocltpXT1uW2ldKSl9KX0pfXM9YXQuaXNYTUw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmKGUub3duZXJEb2N1bWVudHx8ZSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiB0PyJIVE1MIiE9PXQubm9kZU5hbWU6ITF9LHI9YXQuc3VwcG9ydD17fSxwPWF0LnNldERvY3VtZW50PWZ1bmN0aW9uKGUpe3ZhciBuPWU/ZS5vd25lckRvY3VtZW50fHxlOncsaT1uLmRlZmF1bHRWaWV3O3JldHVybiBuIT09ZiYmOT09PW4ubm9kZVR5cGUmJm4uZG9jdW1lbnRFbGVtZW50PyhmPW4sZD1uLmRvY3VtZW50RWxlbWVudCxoPSFzKG4pLGkmJmkuYXR0YWNoRXZlbnQmJmkhPT1pLnRvcCYmaS5hdHRhY2hFdmVudCgib25iZWZvcmV1bmxvYWQiLGZ1bmN0aW9uKCl7cCgpfSksci5hdHRyaWJ1dGVzPXV0KGZ1bmN0aW9uKGUpe3JldHVybiBlLmNsYXNzTmFtZT0iaSIsIWUuZ2V0QXR0cmlidXRlKCJjbGFzc05hbWUiKX0pLHIuZ2V0RWxlbWVudHNCeVRhZ05hbWU9dXQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYXBwZW5kQ2hpbGQobi5jcmVhdGVDb21tZW50KCIiKSksIWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKS5sZW5ndGh9KSxyLmdldEVsZW1lbnRzQnlDbGFzc05hbWU9dXQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5uZXJIVE1MPSI8ZGl2IGNsYXNzPSdhJz48L2Rpdj48ZGl2IGNsYXNzPSdhIGknPjwvZGl2PiIsZS5maXJzdENoaWxkLmNsYXNzTmFtZT0iaSIsMj09PWUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiaSIpLmxlbmd0aH0pLHIuZ2V0QnlJZD11dChmdW5jdGlvbihlKXtyZXR1cm4gZC5hcHBlbmRDaGlsZChlKS5pZD1iLCFuLmdldEVsZW1lbnRzQnlOYW1lfHwhbi5nZXRFbGVtZW50c0J5TmFtZShiKS5sZW5ndGh9KSxyLmdldEJ5SWQ/KG8uZmluZC5JRD1mdW5jdGlvbihlLHQpe2lmKHR5cGVvZiB0LmdldEVsZW1lbnRCeUlkIT09aiYmaCl7dmFyIG49dC5nZXRFbGVtZW50QnlJZChlKTtyZXR1cm4gbiYmbi5wYXJlbnROb2RlP1tuXTpbXX19LG8uZmlsdGVyLklEPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShydCxpdCk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF0dHJpYnV0ZSgiaWQiKT09PXR9fSk6KGRlbGV0ZSBvLmZpbmQuSUQsby5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHJ0LGl0KTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49dHlwZW9mIGUuZ2V0QXR0cmlidXRlTm9kZSE9PWomJmUuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gbiYmbi52YWx1ZT09PXR9fSksby5maW5kLlRBRz1yLmdldEVsZW1lbnRzQnlUYWdOYW1lP2Z1bmN0aW9uKGUsbil7cmV0dXJuIHR5cGVvZiBuLmdldEVsZW1lbnRzQnlUYWdOYW1lIT09aj9uLmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpOnR9OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPTAsbz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpO2lmKCIqIj09PWUpe3doaWxlKG49b1tpKytdKTE9PT1uLm5vZGVUeXBlJiZyLnB1c2gobik7cmV0dXJuIHJ9cmV0dXJuIG99LG8uZmluZC5DTEFTUz1yLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGUsbil7cmV0dXJuIHR5cGVvZiBuLmdldEVsZW1lbnRzQnlDbGFzc05hbWUhPT1qJiZoP24uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKTp0fSxtPVtdLGc9W10sKHIucXNhPUsudGVzdChuLnF1ZXJ5U2VsZWN0b3JBbGwpKSYmKHV0KGZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPSI8c2VsZWN0PjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+IixlLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fGcucHVzaCgiXFxbIitQKyIqKD86dmFsdWV8IitCKyIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCI6Y2hlY2tlZCIpLmxlbmd0aHx8Zy5wdXNoKCI6Y2hlY2tlZCIpfSksdXQoZnVuY3Rpb24oZSl7dmFyIHQ9bi5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3Quc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIiksZS5hcHBlbmRDaGlsZCh0KS5zZXRBdHRyaWJ1dGUoInQiLCIiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIlt0Xj0nJ10iKS5sZW5ndGgmJmcucHVzaCgiWypeJF09IitQKyIqKD86Jyd8XCJcIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RofHxnLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksZS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4IiksZy5wdXNoKCIsLio6Iil9KSksKHIubWF0Y2hlc1NlbGVjdG9yPUsudGVzdCh5PWQud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxkLm1vek1hdGNoZXNTZWxlY3Rvcnx8ZC5vTWF0Y2hlc1NlbGVjdG9yfHxkLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJnV0KGZ1bmN0aW9uKGUpe3IuZGlzY29ubmVjdGVkTWF0Y2g9eS5jYWxsKGUsImRpdiIpLHkuY2FsbChlLCJbcyE9JyddOngiKSxtLnB1c2goIiE9IixJKX0pLGc9Zy5sZW5ndGgmJlJlZ0V4cChnLmpvaW4oInwiKSksbT1tLmxlbmd0aCYmUmVnRXhwKG0uam9pbigifCIpKSx2PUsudGVzdChkLmNvbnRhaW5zKXx8ZC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9mdW5jdGlvbihlLHQpe3ZhciBuPTk9PT1lLm5vZGVUeXBlP2UuZG9jdW1lbnRFbGVtZW50OmUscj10JiZ0LnBhcmVudE5vZGU7cmV0dXJuIGU9PT1yfHwhKCFyfHwxIT09ci5ub2RlVHlwZXx8IShuLmNvbnRhaW5zP24uY29udGFpbnMocik6ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihyKSkpfTpmdW5jdGlvbihlLHQpe2lmKHQpd2hpbGUodD10LnBhcmVudE5vZGUpaWYodD09PWUpcmV0dXJuITA7cmV0dXJuITF9LEE9ZC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9mdW5jdGlvbihlLHQpe2lmKGU9PT10KXJldHVybiBTPSEwLDA7dmFyIGk9dC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0KTtyZXR1cm4gaT8xJml8fCFyLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PWk/ZT09PW58fHYodyxlKT8tMTp0PT09bnx8dih3LHQpPzE6Yz9GLmNhbGwoYyxlKS1GLmNhbGwoYyx0KTowOjQmaT8tMToxOmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24/LTE6MX06ZnVuY3Rpb24oZSx0KXt2YXIgcixpPTAsbz1lLnBhcmVudE5vZGUsYT10LnBhcmVudE5vZGUscz1bZV0sbD1bdF07aWYoZT09PXQpcmV0dXJuIFM9ITAsMDtpZighb3x8IWEpcmV0dXJuIGU9PT1uPy0xOnQ9PT1uPzE6bz8tMTphPzE6Yz9GLmNhbGwoYyxlKS1GLmNhbGwoYyx0KTowO2lmKG89PT1hKXJldHVybiBwdChlLHQpO3I9ZTt3aGlsZShyPXIucGFyZW50Tm9kZSlzLnVuc2hpZnQocik7cj10O3doaWxlKHI9ci5wYXJlbnROb2RlKWwudW5zaGlmdChyKTt3aGlsZShzW2ldPT09bFtpXSlpKys7cmV0dXJuIGk/cHQoc1tpXSxsW2ldKTpzW2ldPT09dz8tMTpsW2ldPT09dz8xOjB9LG4pOmZ9LGF0Lm1hdGNoZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXQoZSxudWxsLG51bGwsdCl9LGF0Lm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihlLHQpe2lmKChlLm93bmVyRG9jdW1lbnR8fGUpIT09ZiYmcChlKSx0PXQucmVwbGFjZShZLCI9JyQxJ10iKSwhKCFyLm1hdGNoZXNTZWxlY3Rvcnx8IWh8fG0mJm0udGVzdCh0KXx8ZyYmZy50ZXN0KHQpKSl0cnl7dmFyIG49eS5jYWxsKGUsdCk7aWYobnx8ci5kaXNjb25uZWN0ZWRNYXRjaHx8ZS5kb2N1bWVudCYmMTEhPT1lLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiBufWNhdGNoKGkpe31yZXR1cm4gYXQodCxmLG51bGwsW2VdKS5sZW5ndGg+MH0sYXQuY29udGFpbnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZS5vd25lckRvY3VtZW50fHxlKSE9PWYmJnAoZSksdihlLHQpfSxhdC5hdHRyPWZ1bmN0aW9uKGUsbil7KGUub3duZXJEb2N1bWVudHx8ZSkhPT1mJiZwKGUpO3ZhciBpPW8uYXR0ckhhbmRsZVtuLnRvTG93ZXJDYXNlKCldLGE9aSYmTC5jYWxsKG8uYXR0ckhhbmRsZSxuLnRvTG93ZXJDYXNlKCkpP2koZSxuLCFoKTp0O3JldHVybiBhPT09dD9yLmF0dHJpYnV0ZXN8fCFoP2UuZ2V0QXR0cmlidXRlKG4pOihhPWUuZ2V0QXR0cmlidXRlTm9kZShuKSkmJmEuc3BlY2lmaWVkP2EudmFsdWU6bnVsbDphfSxhdC5lcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBFcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIitlKX0sYXQudW5pcXVlU29ydD1mdW5jdGlvbihlKXt2YXIgdCxuPVtdLGk9MCxvPTA7aWYoUz0hci5kZXRlY3REdXBsaWNhdGVzLGM9IXIuc29ydFN0YWJsZSYmZS5zbGljZSgwKSxlLnNvcnQoQSksUyl7d2hpbGUodD1lW28rK10pdD09PWVbb10mJihpPW4ucHVzaChvKSk7d2hpbGUoaS0tKWUuc3BsaWNlKG5baV0sMSl9cmV0dXJuIGV9LGE9YXQuZ2V0VGV4dD1mdW5jdGlvbihlKXt2YXIgdCxuPSIiLHI9MCxpPWUubm9kZVR5cGU7aWYoaSl7aWYoMT09PWl8fDk9PT1pfHwxMT09PWkpe2lmKCJzdHJpbmciPT10eXBlb2YgZS50ZXh0Q29udGVudClyZXR1cm4gZS50ZXh0Q29udGVudDtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpbis9YShlKX1lbHNlIGlmKDM9PT1pfHw0PT09aSlyZXR1cm4gZS5ub2RlVmFsdWV9ZWxzZSBmb3IoO3Q9ZVtyXTtyKyspbis9YSh0KTtyZXR1cm4gbn0sbz1hdC5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzpsdCxtYXRjaDpRLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7Ij4iOntkaXI6InBhcmVudE5vZGUiLGZpcnN0OiEwfSwiICI6e2RpcjoicGFyZW50Tm9kZSJ9LCIrIjp7ZGlyOiJwcmV2aW91c1NpYmxpbmciLGZpcnN0OiEwfSwifiI6e2RpcjoicHJldmlvdXNTaWJsaW5nIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihlKXtyZXR1cm4gZVsxXT1lWzFdLnJlcGxhY2UocnQsaXQpLGVbM109KGVbNF18fGVbNV18fCIiKS5yZXBsYWNlKHJ0LGl0KSwifj0iPT09ZVsyXSYmKGVbM109IiAiK2VbM10rIiAiKSxlLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0udG9Mb3dlckNhc2UoKSwibnRoIj09PWVbMV0uc2xpY2UoMCwzKT8oZVszXXx8YXQuZXJyb3IoZVswXSksZVs0XT0rKGVbNF0/ZVs1XSsoZVs2XXx8MSk6MiooImV2ZW4iPT09ZVszXXx8Im9kZCI9PT1lWzNdKSksZVs1XT0rKGVbN10rZVs4XXx8Im9kZCI9PT1lWzNdKSk6ZVszXSYmYXQuZXJyb3IoZVswXSksZX0sUFNFVURPOmZ1bmN0aW9uKGUpe3ZhciBuLHI9IWVbNV0mJmVbMl07cmV0dXJuIFEuQ0hJTEQudGVzdChlWzBdKT9udWxsOihlWzNdJiZlWzRdIT09dD9lWzJdPWVbNF06ciYmSi50ZXN0KHIpJiYobj1tdChyLCEwKSkmJihuPXIuaW5kZXhPZigiKSIsci5sZW5ndGgtbiktci5sZW5ndGgpJiYoZVswXT1lWzBdLnNsaWNlKDAsbiksZVsyXT1yLnNsaWNlKDAsbikpLGUuc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UocnQsaXQpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIioiPT09ZT9mdW5jdGlvbigpe3JldHVybiEwfTpmdW5jdGlvbihlKXtyZXR1cm4gZS5ub2RlTmFtZSYmZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dH19LENMQVNTOmZ1bmN0aW9uKGUpe3ZhciB0PU5bZSsiICJdO3JldHVybiB0fHwodD1SZWdFeHAoIihefCIrUCsiKSIrZSsiKCIrUCsifCQpIikpJiZOKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHQudGVzdCgic3RyaW5nIj09dHlwZW9mIGUuY2xhc3NOYW1lJiZlLmNsYXNzTmFtZXx8dHlwZW9mIGUuZ2V0QXR0cmlidXRlIT09aiYmZS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKX0pfSxBVFRSOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIGk9YXQuYXR0cihyLGUpO3JldHVybiBudWxsPT1pPyIhPSI9PT10OnQ/KGkrPSIiLCI9Ij09PXQ/aT09PW46IiE9Ij09PXQ/aSE9PW46Il49Ij09PXQ/biYmMD09PWkuaW5kZXhPZihuKToiKj0iPT09dD9uJiZpLmluZGV4T2Yobik+LTE6IiQ9Ij09PXQ/biYmaS5zbGljZSgtbi5sZW5ndGgpPT09bjoifj0iPT09dD8oIiAiK2krIiAiKS5pbmRleE9mKG4pPi0xOiJ8PSI9PT10P2k9PT1ufHxpLnNsaWNlKDAsbi5sZW5ndGgrMSk9PT1uKyItIjohMSk6ITB9fSxDSElMRDpmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvPSJudGgiIT09ZS5zbGljZSgwLDMpLGE9Imxhc3QiIT09ZS5zbGljZSgtNCkscz0ib2YtdHlwZSI9PT10O3JldHVybiAxPT09ciYmMD09PWk/ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmVudE5vZGV9OmZ1bmN0aW9uKHQsbixsKXt2YXIgdSxjLHAsZixkLGgsZz1vIT09YT8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLG09dC5wYXJlbnROb2RlLHk9cyYmdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHY9IWwmJiFzO2lmKG0pe2lmKG8pe3doaWxlKGcpe3A9dDt3aGlsZShwPXBbZ10paWYocz9wLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT15OjE9PT1wLm5vZGVUeXBlKXJldHVybiExO2g9Zz0ib25seSI9PT1lJiYhaCYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZihoPVthP20uZmlyc3RDaGlsZDptLmxhc3RDaGlsZF0sYSYmdil7Yz1tW2JdfHwobVtiXT17fSksdT1jW2VdfHxbXSxkPXVbMF09PT1UJiZ1WzFdLGY9dVswXT09PVQmJnVbMl0scD1kJiZtLmNoaWxkTm9kZXNbZF07d2hpbGUocD0rK2QmJnAmJnBbZ118fChmPWQ9MCl8fGgucG9wKCkpaWYoMT09PXAubm9kZVR5cGUmJisrZiYmcD09PXQpe2NbZV09W1QsZCxmXTticmVha319ZWxzZSBpZih2JiYodT0odFtiXXx8KHRbYl09e30pKVtlXSkmJnVbMF09PT1UKWY9dVsxXTtlbHNlIHdoaWxlKHA9KytkJiZwJiZwW2ddfHwoZj1kPTApfHxoLnBvcCgpKWlmKChzP3Aubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXk6MT09PXAubm9kZVR5cGUpJiYrK2YmJih2JiYoKHBbYl18fChwW2JdPXt9KSlbZV09W1QsZl0pLHA9PT10KSlicmVhaztyZXR1cm4gZi09aSxmPT09cnx8MD09PWYlciYmZi9yPj0wfX19LFBTRVVETzpmdW5jdGlvbihlLHQpe3ZhciBuLHI9by5wc2V1ZG9zW2VdfHxvLnNldEZpbHRlcnNbZS50b0xvd2VyQ2FzZSgpXXx8YXQuZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIitlKTtyZXR1cm4gcltiXT9yKHQpOnIubGVuZ3RoPjE/KG49W2UsZSwiIix0XSxvLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoZS50b0xvd2VyQ2FzZSgpKT9sdChmdW5jdGlvbihlLG4pe3ZhciBpLG89cihlLHQpLGE9by5sZW5ndGg7d2hpbGUoYS0tKWk9Ri5jYWxsKGUsb1thXSksZVtpXT0hKG5baV09b1thXSl9KTpmdW5jdGlvbihlKXtyZXR1cm4gcihlLDAsbil9KTpyfX0scHNldWRvczp7bm90Omx0KGZ1bmN0aW9uKGUpe3ZhciB0PVtdLG49W10scj1sKGUucmVwbGFjZSh6LCIkMSIpKTtyZXR1cm4gcltiXT9sdChmdW5jdGlvbihlLHQsbixpKXt2YXIgbyxhPXIoZSxudWxsLGksW10pLHM9ZS5sZW5ndGg7d2hpbGUocy0tKShvPWFbc10pJiYoZVtzXT0hKHRbc109bykpfSk6ZnVuY3Rpb24oZSxpLG8pe3JldHVybiB0WzBdPWUscih0LG51bGwsbyxuKSwhbi5wb3AoKX19KSxoYXM6bHQoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBhdChlLHQpLmxlbmd0aD4wfX0pLGNvbnRhaW5zOmx0KGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4odC50ZXh0Q29udGVudHx8dC5pbm5lclRleHR8fGEodCkpLmluZGV4T2YoZSk+LTF9fSksbGFuZzpsdChmdW5jdGlvbihlKXtyZXR1cm4gRy50ZXN0KGV8fCIiKXx8YXQuZXJyb3IoInVuc3VwcG9ydGVkIGxhbmc6ICIrZSksZT1lLnJlcGxhY2UocnQsaXQpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24odCl7dmFyIG47ZG8gaWYobj1oP3QubGFuZzp0LmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKXx8dC5nZXRBdHRyaWJ1dGUoImxhbmciKSlyZXR1cm4gbj1uLnRvTG93ZXJDYXNlKCksbj09PWV8fDA9PT1uLmluZGV4T2YoZSsiLSIpO3doaWxlKCh0PXQucGFyZW50Tm9kZSkmJjE9PT10Lm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24odCl7dmFyIG49ZS5sb2NhdGlvbiYmZS5sb2NhdGlvbi5oYXNoO3JldHVybiBuJiZuLnNsaWNlKDEpPT09dC5pZH0scm9vdDpmdW5jdGlvbihlKXtyZXR1cm4gZT09PWR9LGZvY3VzOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09Zi5hY3RpdmVFbGVtZW50JiYoIWYuaGFzRm9jdXN8fGYuaGFzRm9jdXMoKSkmJiEhKGUudHlwZXx8ZS5ocmVmfHx+ZS50YWJJbmRleCl9LGVuYWJsZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGlzYWJsZWQ9PT0hMX0sZGlzYWJsZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGlzYWJsZWQ9PT0hMH0sY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhZS5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhZS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsZS5zZWxlY3RlZD09PSEwfSxlbXB0eTpmdW5jdGlvbihlKXtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZS5ub2RlTmFtZT4iQCJ8fDM9PT1lLm5vZGVUeXBlfHw0PT09ZS5ub2RlVHlwZSlyZXR1cm4hMTtyZXR1cm4hMH0scGFyZW50OmZ1bmN0aW9uKGUpe3JldHVybiFvLnBzZXVkb3MuZW1wdHkoZSl9LGhlYWRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdHQudGVzdChlLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGV0LnRlc3QoZS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiJidXR0b24iPT09ZS50eXBlfHwiYnV0dG9uIj09PXR9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fHQudG9Mb3dlckNhc2UoKT09PWUudHlwZSl9LGZpcnN0Omh0KGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDpodChmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6aHQoZnVuY3Rpb24oZSx0LG4pe3JldHVyblswPm4/bit0Om5dfSksZXZlbjpodChmdW5jdGlvbihlLHQpe3ZhciBuPTA7Zm9yKDt0Pm47bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxvZGQ6aHQoZnVuY3Rpb24oZSx0KXt2YXIgbj0xO2Zvcig7dD5uO24rPTIpZS5wdXNoKG4pO3JldHVybiBlfSksbHQ6aHQoZnVuY3Rpb24oZSx0LG4pe3ZhciByPTA+bj9uK3Q6bjtmb3IoOy0tcj49MDspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6aHQoZnVuY3Rpb24oZSx0LG4pe3ZhciByPTA+bj9uK3Q6bjtmb3IoO3Q+KytyOyllLnB1c2gocik7cmV0dXJuIGV9KX19LG8ucHNldWRvcy5udGg9by5wc2V1ZG9zLmVxO2ZvcihuIGlue3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KW8ucHNldWRvc1tuXT1mdChuKTtmb3IobiBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KW8ucHNldWRvc1tuXT1kdChuKTtmdW5jdGlvbiBndCgpe31ndC5wcm90b3R5cGU9by5maWx0ZXJzPW8ucHNldWRvcyxvLnNldEZpbHRlcnM9bmV3IGd0O2Z1bmN0aW9uIG10KGUsdCl7dmFyIG4scixpLGEscyxsLHUsYz1rW2UrIiAiXTtpZihjKXJldHVybiB0PzA6Yy5zbGljZSgwKTtzPWUsbD1bXSx1PW8ucHJlRmlsdGVyO3doaWxlKHMpeyghbnx8KHI9WC5leGVjKHMpKSkmJihyJiYocz1zLnNsaWNlKHJbMF0ubGVuZ3RoKXx8cyksbC5wdXNoKGk9W10pKSxuPSExLChyPVUuZXhlYyhzKSkmJihuPXIuc2hpZnQoKSxpLnB1c2goe3ZhbHVlOm4sdHlwZTpyWzBdLnJlcGxhY2UoeiwiICIpfSkscz1zLnNsaWNlKG4ubGVuZ3RoKSk7Zm9yKGEgaW4gby5maWx0ZXIpIShyPVFbYV0uZXhlYyhzKSl8fHVbYV0mJiEocj11W2FdKHIpKXx8KG49ci5zaGlmdCgpLGkucHVzaCh7dmFsdWU6bix0eXBlOmEsbWF0Y2hlczpyfSkscz1zLnNsaWNlKG4ubGVuZ3RoKSk7aWYoIW4pYnJlYWt9cmV0dXJuIHQ/cy5sZW5ndGg6cz9hdC5lcnJvcihlKTprKGUsbCkuc2xpY2UoMCl9ZnVuY3Rpb24geXQoZSl7dmFyIHQ9MCxuPWUubGVuZ3RoLHI9IiI7Zm9yKDtuPnQ7dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gdnQoZSx0LG4pe3ZhciByPXQuZGlyLG89biYmInBhcmVudE5vZGUiPT09cixhPUMrKztyZXR1cm4gdC5maXJzdD9mdW5jdGlvbih0LG4saSl7d2hpbGUodD10W3JdKWlmKDE9PT10Lm5vZGVUeXBlfHxvKXJldHVybiBlKHQsbixpKX06ZnVuY3Rpb24odCxuLHMpe3ZhciBsLHUsYyxwPVQrIiAiK2E7aWYocyl7d2hpbGUodD10W3JdKWlmKCgxPT09dC5ub2RlVHlwZXx8bykmJmUodCxuLHMpKXJldHVybiEwfWVsc2Ugd2hpbGUodD10W3JdKWlmKDE9PT10Lm5vZGVUeXBlfHxvKWlmKGM9dFtiXXx8KHRbYl09e30pLCh1PWNbcl0pJiZ1WzBdPT09cCl7aWYoKGw9dVsxXSk9PT0hMHx8bD09PWkpcmV0dXJuIGw9PT0hMH1lbHNlIGlmKHU9Y1tyXT1bcF0sdVsxXT1lKHQsbixzKXx8aSx1WzFdPT09ITApcmV0dXJuITB9fWZ1bmN0aW9uIGJ0KGUpe3JldHVybiBlLmxlbmd0aD4xP2Z1bmN0aW9uKHQsbixyKXt2YXIgaT1lLmxlbmd0aDt3aGlsZShpLS0paWYoIWVbaV0odCxuLHIpKXJldHVybiExO3JldHVybiEwfTplWzBdfWZ1bmN0aW9uIHh0KGUsdCxuLHIsaSl7dmFyIG8sYT1bXSxzPTAsbD1lLmxlbmd0aCx1PW51bGwhPXQ7Zm9yKDtsPnM7cysrKShvPWVbc10pJiYoIW58fG4obyxyLGkpKSYmKGEucHVzaChvKSx1JiZ0LnB1c2gocykpO3JldHVybiBhfWZ1bmN0aW9uIHd0KGUsdCxuLHIsaSxvKXtyZXR1cm4gciYmIXJbYl0mJihyPXd0KHIpKSxpJiYhaVtiXSYmKGk9d3QoaSxvKSksbHQoZnVuY3Rpb24obyxhLHMsbCl7dmFyIHUsYyxwLGY9W10sZD1bXSxoPWEubGVuZ3RoLGc9b3x8TnQodHx8IioiLHMubm9kZVR5cGU/W3NdOnMsW10pLG09IWV8fCFvJiZ0P2c6eHQoZyxmLGUscyxsKSx5PW4/aXx8KG8/ZTpofHxyKT9bXTphOm07aWYobiYmbihtLHkscyxsKSxyKXt1PXh0KHksZCkscih1LFtdLHMsbCksYz11Lmxlbmd0aDt3aGlsZShjLS0pKHA9dVtjXSkmJih5W2RbY11dPSEobVtkW2NdXT1wKSl9aWYobyl7aWYoaXx8ZSl7aWYoaSl7dT1bXSxjPXkubGVuZ3RoO3doaWxlKGMtLSkocD15W2NdKSYmdS5wdXNoKG1bY109cCk7aShudWxsLHk9W10sdSxsKX1jPXkubGVuZ3RoO3doaWxlKGMtLSkocD15W2NdKSYmKHU9aT9GLmNhbGwobyxwKTpmW2NdKT4tMSYmKG9bdV09IShhW3VdPXApKX19ZWxzZSB5PXh0KHk9PT1hP3kuc3BsaWNlKGgseS5sZW5ndGgpOnkpLGk/aShudWxsLGEseSxsKTpNLmFwcGx5KGEseSl9KX1mdW5jdGlvbiBUdChlKXt2YXIgdCxuLHIsaT1lLmxlbmd0aCxhPW8ucmVsYXRpdmVbZVswXS50eXBlXSxzPWF8fG8ucmVsYXRpdmVbIiAiXSxsPWE/MTowLGM9dnQoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSxzLCEwKSxwPXZ0KGZ1bmN0aW9uKGUpe3JldHVybiBGLmNhbGwodCxlKT4tMX0scywhMCksZj1bZnVuY3Rpb24oZSxuLHIpe3JldHVybiFhJiYocnx8biE9PXUpfHwoKHQ9bikubm9kZVR5cGU/YyhlLG4scik6cChlLG4scikpfV07Zm9yKDtpPmw7bCsrKWlmKG49by5yZWxhdGl2ZVtlW2xdLnR5cGVdKWY9W3Z0KGJ0KGYpLG4pXTtlbHNle2lmKG49by5maWx0ZXJbZVtsXS50eXBlXS5hcHBseShudWxsLGVbbF0ubWF0Y2hlcyksbltiXSl7Zm9yKHI9KytsO2k+cjtyKyspaWYoby5yZWxhdGl2ZVtlW3JdLnR5cGVdKWJyZWFrO3JldHVybiB3dChsPjEmJmJ0KGYpLGw+MSYmeXQoZS5zbGljZSgwLGwtMSkuY29uY2F0KHt2YWx1ZToiICI9PT1lW2wtMl0udHlwZT8iKiI6IiJ9KSkucmVwbGFjZSh6LCIkMSIpLG4scj5sJiZUdChlLnNsaWNlKGwscikpLGk+ciYmVHQoZT1lLnNsaWNlKHIpKSxpPnImJnl0KGUpKX1mLnB1c2gobil9cmV0dXJuIGJ0KGYpfWZ1bmN0aW9uIEN0KGUsdCl7dmFyIG49MCxyPXQubGVuZ3RoPjAsYT1lLmxlbmd0aD4wLHM9ZnVuY3Rpb24ocyxsLGMscCxkKXt2YXIgaCxnLG0seT1bXSx2PTAsYj0iMCIseD1zJiZbXSx3PW51bGwhPWQsQz11LE49c3x8YSYmby5maW5kLlRBRygiKiIsZCYmbC5wYXJlbnROb2RlfHxsKSxrPVQrPW51bGw9PUM/MTpNYXRoLnJhbmRvbSgpfHwuMTtmb3IodyYmKHU9bCE9PWYmJmwsaT1uKTtudWxsIT0oaD1OW2JdKTtiKyspe2lmKGEmJmgpe2c9MDt3aGlsZShtPWVbZysrXSlpZihtKGgsbCxjKSl7cC5wdXNoKGgpO2JyZWFrfXcmJihUPWssaT0rK24pfXImJigoaD0hbSYmaCkmJnYtLSxzJiZ4LnB1c2goaCkpfWlmKHYrPWIsciYmYiE9PXYpe2c9MDt3aGlsZShtPXRbZysrXSltKHgseSxsLGMpO2lmKHMpe2lmKHY+MCl3aGlsZShiLS0peFtiXXx8eVtiXXx8KHlbYl09cS5jYWxsKHApKTt5PXh0KHkpfU0uYXBwbHkocCx5KSx3JiYhcyYmeS5sZW5ndGg+MCYmdit0Lmxlbmd0aD4xJiZhdC51bmlxdWVTb3J0KHApfXJldHVybiB3JiYoVD1rLHU9QykseH07cmV0dXJuIHI/bHQocyk6c31sPWF0LmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVtdLGk9W10sbz1FW2UrIiAiXTtpZighbyl7dHx8KHQ9bXQoZSkpLG49dC5sZW5ndGg7d2hpbGUobi0tKW89VHQodFtuXSksb1tiXT9yLnB1c2gobyk6aS5wdXNoKG8pO289RShlLEN0KGkscikpfXJldHVybiBvfTtmdW5jdGlvbiBOdChlLHQsbil7dmFyIHI9MCxpPXQubGVuZ3RoO2Zvcig7aT5yO3IrKylhdChlLHRbcl0sbik7cmV0dXJuIG59ZnVuY3Rpb24ga3QoZSx0LG4saSl7dmFyIGEscyx1LGMscCxmPW10KGUpO2lmKCFpJiYxPT09Zi5sZW5ndGgpe2lmKHM9ZlswXT1mWzBdLnNsaWNlKDApLHMubGVuZ3RoPjImJiJJRCI9PT0odT1zWzBdKS50eXBlJiZyLmdldEJ5SWQmJjk9PT10Lm5vZGVUeXBlJiZoJiZvLnJlbGF0aXZlW3NbMV0udHlwZV0pe2lmKHQ9KG8uZmluZC5JRCh1Lm1hdGNoZXNbMF0ucmVwbGFjZShydCxpdCksdCl8fFtdKVswXSwhdClyZXR1cm4gbjtlPWUuc2xpY2Uocy5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9YT1RLm5lZWRzQ29udGV4dC50ZXN0KGUpPzA6cy5sZW5ndGg7d2hpbGUoYS0tKXtpZih1PXNbYV0sby5yZWxhdGl2ZVtjPXUudHlwZV0pYnJlYWs7aWYoKHA9by5maW5kW2NdKSYmKGk9cCh1Lm1hdGNoZXNbMF0ucmVwbGFjZShydCxpdCksVi50ZXN0KHNbMF0udHlwZSkmJnQucGFyZW50Tm9kZXx8dCkpKXtpZihzLnNwbGljZShhLDEpLGU9aS5sZW5ndGgmJnl0KHMpLCFlKXJldHVybiBNLmFwcGx5KG4saSksbjticmVha319fXJldHVybiBsKGUsZikoaSx0LCFoLG4sVi50ZXN0KGUpKSxufXIuc29ydFN0YWJsZT1iLnNwbGl0KCIiKS5zb3J0KEEpLmpvaW4oIiIpPT09YixyLmRldGVjdER1cGxpY2F0ZXM9UyxwKCksci5zb3J0RGV0YWNoZWQ9dXQoZnVuY3Rpb24oZSl7cmV0dXJuIDEmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihmLmNyZWF0ZUVsZW1lbnQoImRpdiIpKX0pLHV0KGZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsIiMiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGN0KCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihlLG4scil7cmV0dXJuIHI/dDplLmdldEF0dHJpYnV0ZShuLCJ0eXBlIj09PW4udG9Mb3dlckNhc2UoKT8xOjIpfSksci5hdHRyaWJ1dGVzJiZ1dChmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxpbnB1dC8+IixlLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpLCIiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgidmFsdWUiKX0pfHxjdCgidmFsdWUiLGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gcnx8ImlucHV0IiE9PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT90OmUuZGVmYXVsdFZhbHVlfSksdXQoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWUuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpfSl8fGN0KEIsZnVuY3Rpb24oZSxuLHIpe3ZhciBpO3JldHVybiByP3Q6KGk9ZS5nZXRBdHRyaWJ1dGVOb2RlKG4pKSYmaS5zcGVjaWZpZWQ/aS52YWx1ZTplW25dPT09ITA/bi50b0xvd2VyQ2FzZSgpOm51bGx9KSx4LmZpbmQ9YXQseC5leHByPWF0LnNlbGVjdG9ycyx4LmV4cHJbIjoiXT14LmV4cHIucHNldWRvcyx4LnVuaXF1ZT1hdC51bmlxdWVTb3J0LHgudGV4dD1hdC5nZXRUZXh0LHguaXNYTUxEb2M9YXQuaXNYTUwseC5jb250YWlucz1hdC5jb250YWluc30oZSk7dmFyIE89e307ZnVuY3Rpb24gRihlKXt2YXIgdD1PW2VdPXt9O3JldHVybiB4LmVhY2goZS5tYXRjaChUKXx8W10sZnVuY3Rpb24oZSxuKXt0W25dPSEwfSksdH14LkNhbGxiYWNrcz1mdW5jdGlvbihlKXtlPSJzdHJpbmciPT10eXBlb2YgZT9PW2VdfHxGKGUpOnguZXh0ZW5kKHt9LGUpO3ZhciBuLHIsaSxvLGEscyxsPVtdLHU9IWUub25jZSYmW10sYz1mdW5jdGlvbih0KXtmb3Iocj1lLm1lbW9yeSYmdCxpPSEwLGE9c3x8MCxzPTAsbz1sLmxlbmd0aCxuPSEwO2wmJm8+YTthKyspaWYobFthXS5hcHBseSh0WzBdLHRbMV0pPT09ITEmJmUuc3RvcE9uRmFsc2Upe3I9ITE7YnJlYWt9bj0hMSxsJiYodT91Lmxlbmd0aCYmYyh1LnNoaWZ0KCkpOnI/bD1bXTpwLmRpc2FibGUoKSl9LHA9e2FkZDpmdW5jdGlvbigpe2lmKGwpe3ZhciB0PWwubGVuZ3RoOyhmdW5jdGlvbiBpKHQpe3guZWFjaCh0LGZ1bmN0aW9uKHQsbil7dmFyIHI9eC50eXBlKG4pOyJmdW5jdGlvbiI9PT1yP2UudW5pcXVlJiZwLmhhcyhuKXx8bC5wdXNoKG4pOm4mJm4ubGVuZ3RoJiYic3RyaW5nIiE9PXImJmkobil9KX0pKGFyZ3VtZW50cyksbj9vPWwubGVuZ3RoOnImJihzPXQsYyhyKSl9cmV0dXJuIHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe3JldHVybiBsJiZ4LmVhY2goYXJndW1lbnRzLGZ1bmN0aW9uKGUsdCl7dmFyIHI7d2hpbGUoKHI9eC5pbkFycmF5KHQsbCxyKSk+LTEpbC5zcGxpY2UociwxKSxuJiYobz49ciYmby0tLGE+PXImJmEtLSl9KSx0aGlzfSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/eC5pbkFycmF5KGUsbCk+LTE6ISghbHx8IWwubGVuZ3RoKX0sZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gbD1bXSxvPTAsdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBsPXU9cj10LHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIWx9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gdT10LHJ8fHAuZGlzYWJsZSgpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiF1fSxmaXJlV2l0aDpmdW5jdGlvbihlLHQpe3JldHVybiFsfHxpJiYhdXx8KHQ9dHx8W10sdD1bZSx0LnNsaWNlP3Quc2xpY2UoKTp0XSxuP3UucHVzaCh0KTpjKHQpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIHAuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFpfX07cmV0dXJuIHB9LHguZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihlKXt2YXIgdD1bWyJyZXNvbHZlIiwiZG9uZSIseC5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlc29sdmVkIl0sWyJyZWplY3QiLCJmYWlsIix4LkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwicmVqZWN0ZWQiXSxbIm5vdGlmeSIsInByb2dyZXNzIix4LkNhbGxiYWNrcygibWVtb3J5IildXSxuPSJwZW5kaW5nIixyPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBufSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gaS5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LHRoZW46ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHM7cmV0dXJuIHguRGVmZXJyZWQoZnVuY3Rpb24obil7eC5lYWNoKHQsZnVuY3Rpb24odCxvKXt2YXIgYT1vWzBdLHM9eC5pc0Z1bmN0aW9uKGVbdF0pJiZlW3RdO2lbb1sxXV0oZnVuY3Rpb24oKXt2YXIgZT1zJiZzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlJiZ4LmlzRnVuY3Rpb24oZS5wcm9taXNlKT9lLnByb21pc2UoKS5kb25lKG4ucmVzb2x2ZSkuZmFpbChuLnJlamVjdCkucHJvZ3Jlc3Mobi5ub3RpZnkpOm5bYSsiV2l0aCJdKHRoaXM9PT1yP24ucHJvbWlzZSgpOnRoaXMscz9bZV06YXJndW1lbnRzKX0pfSksZT1udWxsfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lP3guZXh0ZW5kKGUscik6cn19LGk9e307cmV0dXJuIHIucGlwZT1yLnRoZW4seC5lYWNoKHQsZnVuY3Rpb24oZSxvKXt2YXIgYT1vWzJdLHM9b1szXTtyW29bMV1dPWEuYWRkLHMmJmEuYWRkKGZ1bmN0aW9uKCl7bj1zfSx0WzFeZV1bMl0uZGlzYWJsZSx0WzJdWzJdLmxvY2spLGlbb1swXV09ZnVuY3Rpb24oKXtyZXR1cm4gaVtvWzBdKyJXaXRoIl0odGhpcz09PWk/cjp0aGlzLGFyZ3VtZW50cyksdGhpc30saVtvWzBdKyJXaXRoIl09YS5maXJlV2l0aH0pLHIucHJvbWlzZShpKSxlJiZlLmNhbGwoaSxpKSxpfSx3aGVuOmZ1bmN0aW9uKGUpe3ZhciB0PTAsbj1nLmNhbGwoYXJndW1lbnRzKSxyPW4ubGVuZ3RoLGk9MSE9PXJ8fGUmJnguaXNGdW5jdGlvbihlLnByb21pc2UpP3I6MCxvPTE9PT1pP2U6eC5EZWZlcnJlZCgpLGE9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBmdW5jdGlvbihyKXt0W2VdPXRoaXMsbltlXT1hcmd1bWVudHMubGVuZ3RoPjE/Zy5jYWxsKGFyZ3VtZW50cyk6cixuPT09cz9vLm5vdGlmeVdpdGgodCxuKTotLWl8fG8ucmVzb2x2ZVdpdGgodCxuKX19LHMsbCx1O2lmKHI+MSlmb3Iocz1BcnJheShyKSxsPUFycmF5KHIpLHU9QXJyYXkocik7cj50O3QrKyluW3RdJiZ4LmlzRnVuY3Rpb24oblt0XS5wcm9taXNlKT9uW3RdLnByb21pc2UoKS5kb25lKGEodCx1LG4pKS5mYWlsKG8ucmVqZWN0KS5wcm9ncmVzcyhhKHQsbCxzKSk6LS1pO3JldHVybiBpfHxvLnJlc29sdmVXaXRoKHUsbiksby5wcm9taXNlKCl9fSkseC5zdXBwb3J0PWZ1bmN0aW9uKHQpe3ZhciBuLHIsbyxzLGwsdSxjLHAsZixkPWEuY3JlYXRlRWxlbWVudCgiZGl2Iik7aWYoZC5zZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIsInQiKSxkLmlubmVySFRNTD0iICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixuPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKXx8W10scj1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIilbMF0sIXJ8fCFyLnN0eWxlfHwhbi5sZW5ndGgpcmV0dXJuIHQ7cz1hLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLHU9cy5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSxvPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IilbMF0sci5zdHlsZS5jc3NUZXh0PSJ0b3A6MXB4O2Zsb2F0OmxlZnQ7b3BhY2l0eTouNSIsdC5nZXRTZXRBdHRyaWJ1dGU9InQiIT09ZC5jbGFzc05hbWUsdC5sZWFkaW5nV2hpdGVzcGFjZT0zPT09ZC5maXJzdENoaWxkLm5vZGVUeXBlLHQudGJvZHk9IWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IikubGVuZ3RoLHQuaHRtbFNlcmlhbGl6ZT0hIWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImxpbmsiKS5sZW5ndGgsdC5zdHlsZT0vdG9wLy50ZXN0KHIuZ2V0QXR0cmlidXRlKCJzdHlsZSIpKSx0LmhyZWZOb3JtYWxpemVkPSIvYSI9PT1yLmdldEF0dHJpYnV0ZSgiaHJlZiIpLHQub3BhY2l0eT0vXjAuNS8udGVzdChyLnN0eWxlLm9wYWNpdHkpLHQuY3NzRmxvYXQ9ISFyLnN0eWxlLmNzc0Zsb2F0LHQuY2hlY2tPbj0hIW8udmFsdWUsdC5vcHRTZWxlY3RlZD11LnNlbGVjdGVkLHQuZW5jdHlwZT0hIWEuY3JlYXRlRWxlbWVudCgiZm9ybSIpLmVuY3R5cGUsdC5odG1sNUNsb25lPSI8Om5hdj48LzpuYXY+IiE9PWEuY3JlYXRlRWxlbWVudCgibmF2IikuY2xvbmVOb2RlKCEwKS5vdXRlckhUTUwsdC5pbmxpbmVCbG9ja05lZWRzTGF5b3V0PSExLHQuc2hyaW5rV3JhcEJsb2Nrcz0hMSx0LnBpeGVsUG9zaXRpb249ITEsdC5kZWxldGVFeHBhbmRvPSEwLHQubm9DbG9uZUV2ZW50PSEwLHQucmVsaWFibGVNYXJnaW5SaWdodD0hMCx0LmJveFNpemluZ1JlbGlhYmxlPSEwLG8uY2hlY2tlZD0hMCx0Lm5vQ2xvbmVDaGVja2VkPW8uY2xvbmVOb2RlKCEwKS5jaGVja2VkLHMuZGlzYWJsZWQ9ITAsdC5vcHREaXNhYmxlZD0hdS5kaXNhYmxlZDt0cnl7ZGVsZXRlIGQudGVzdH1jYXRjaChoKXt0LmRlbGV0ZUV4cGFuZG89ITF9bz1hLmNyZWF0ZUVsZW1lbnQoImlucHV0Iiksby5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksdC5pbnB1dD0iIj09PW8uZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpLG8udmFsdWU9InQiLG8uc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSx0LnJhZGlvVmFsdWU9InQiPT09by52YWx1ZSxvLnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsInQiKSxvLnNldEF0dHJpYnV0ZSgibmFtZSIsInQiKSxsPWEuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGwuYXBwZW5kQ2hpbGQobyksdC5hcHBlbmRDaGVja2VkPW8uY2hlY2tlZCx0LmNoZWNrQ2xvbmU9bC5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQsZC5hdHRhY2hFdmVudCYmKGQuYXR0YWNoRXZlbnQoIm9uY2xpY2siLGZ1bmN0aW9uKCl7dC5ub0Nsb25lRXZlbnQ9ITF9KSxkLmNsb25lTm9kZSghMCkuY2xpY2soKSk7Zm9yKGYgaW57c3VibWl0OiEwLGNoYW5nZTohMCxmb2N1c2luOiEwfSlkLnNldEF0dHJpYnV0ZShjPSJvbiIrZiwidCIpLHRbZisiQnViYmxlcyJdPWMgaW4gZXx8ZC5hdHRyaWJ1dGVzW2NdLmV4cGFuZG89PT0hMTtkLnN0eWxlLmJhY2tncm91bmRDbGlwPSJjb250ZW50LWJveCIsZC5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPSIiLHQuY2xlYXJDbG9uZVN0eWxlPSJjb250ZW50LWJveCI9PT1kLnN0eWxlLmJhY2tncm91bmRDbGlwO2ZvcihmIGluIHgodCkpYnJlYWs7cmV0dXJuIHQub3duTGFzdD0iMCIhPT1mLHgoZnVuY3Rpb24oKXt2YXIgbixyLG8scz0icGFkZGluZzowO21hcmdpbjowO2JvcmRlcjowO2Rpc3BsYXk6YmxvY2s7Ym94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7LXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94OyIsbD1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF07bCYmKG49YS5jcmVhdGVFbGVtZW50KCJkaXYiKSxuLnN0eWxlLmNzc1RleHQ9ImJvcmRlcjowO3dpZHRoOjA7aGVpZ2h0OjA7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDotOTk5OXB4O21hcmdpbi10b3A6MXB4IixsLmFwcGVuZENoaWxkKG4pLmFwcGVuZENoaWxkKGQpLGQuaW5uZXJIVE1MPSI8dGFibGU+PHRyPjx0ZD48L3RkPjx0ZD50PC90ZD48L3RyPjwvdGFibGU+IixvPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRkIiksb1swXS5zdHlsZS5jc3NUZXh0PSJwYWRkaW5nOjA7bWFyZ2luOjA7Ym9yZGVyOjA7ZGlzcGxheTpub25lIixwPTA9PT1vWzBdLm9mZnNldEhlaWdodCxvWzBdLnN0eWxlLmRpc3BsYXk9IiIsb1sxXS5zdHlsZS5kaXNwbGF5PSJub25lIix0LnJlbGlhYmxlSGlkZGVuT2Zmc2V0cz1wJiYwPT09b1swXS5vZmZzZXRIZWlnaHQsZC5pbm5lckhUTUw9IiIsZC5zdHlsZS5jc3NUZXh0PSJib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7cGFkZGluZzoxcHg7Ym9yZGVyOjFweDtkaXNwbGF5OmJsb2NrO3dpZHRoOjRweDttYXJnaW4tdG9wOjElO3Bvc2l0aW9uOmFic29sdXRlO3RvcDoxJTsiLHguc3dhcChsLG51bGwhPWwuc3R5bGUuem9vbT97em9vbToxfTp7fSxmdW5jdGlvbigpe3QuYm94U2l6aW5nPTQ9PT1kLm9mZnNldFdpZHRofSksZS5nZXRDb21wdXRlZFN0eWxlJiYodC5waXhlbFBvc2l0aW9uPSIxJSIhPT0oZS5nZXRDb21wdXRlZFN0eWxlKGQsbnVsbCl8fHt9KS50b3AsdC5ib3hTaXppbmdSZWxpYWJsZT0iNHB4Ij09PShlLmdldENvbXB1dGVkU3R5bGUoZCxudWxsKXx8e3dpZHRoOiI0cHgifSkud2lkdGgscj1kLmFwcGVuZENoaWxkKGEuY3JlYXRlRWxlbWVudCgiZGl2IikpLHIuc3R5bGUuY3NzVGV4dD1kLnN0eWxlLmNzc1RleHQ9cyxyLnN0eWxlLm1hcmdpblJpZ2h0PXIuc3R5bGUud2lkdGg9IjAiLGQuc3R5bGUud2lkdGg9IjFweCIsdC5yZWxpYWJsZU1hcmdpblJpZ2h0PSFwYXJzZUZsb2F0KChlLmdldENvbXB1dGVkU3R5bGUocixudWxsKXx8e30pLm1hcmdpblJpZ2h0KSksdHlwZW9mIGQuc3R5bGUuem9vbSE9PWkmJihkLmlubmVySFRNTD0iIixkLnN0eWxlLmNzc1RleHQ9cysid2lkdGg6MXB4O3BhZGRpbmc6MXB4O2Rpc3BsYXk6aW5saW5lO3pvb206MSIsdC5pbmxpbmVCbG9ja05lZWRzTGF5b3V0PTM9PT1kLm9mZnNldFdpZHRoLGQuc3R5bGUuZGlzcGxheT0iYmxvY2siLGQuaW5uZXJIVE1MPSI8ZGl2PjwvZGl2PiIsZC5maXJzdENoaWxkLnN0eWxlLndpZHRoPSI1cHgiLHQuc2hyaW5rV3JhcEJsb2Nrcz0zIT09ZC5vZmZzZXRXaWR0aCx0LmlubGluZUJsb2NrTmVlZHNMYXlvdXQmJihsLnN0eWxlLnpvb209MSkpLGwucmVtb3ZlQ2hpbGQobiksbj1kPW89cj1udWxsKX0pLG49cz1sPXU9cj1vPW51bGwsdAp9KHt9KTt2YXIgQj0vKD86XHtbXHNcU10qXH18XFtbXHNcU10qXF0pJC8sUD0vKFtBLVpdKS9nO2Z1bmN0aW9uIFIoZSxuLHIsaSl7aWYoeC5hY2NlcHREYXRhKGUpKXt2YXIgbyxhLHM9eC5leHBhbmRvLGw9ZS5ub2RlVHlwZSx1PWw/eC5jYWNoZTplLGM9bD9lW3NdOmVbc10mJnM7aWYoYyYmdVtjXSYmKGl8fHVbY10uZGF0YSl8fHIhPT10fHwic3RyaW5nIiE9dHlwZW9mIG4pcmV0dXJuIGN8fChjPWw/ZVtzXT1wLnBvcCgpfHx4Lmd1aWQrKzpzKSx1W2NdfHwodVtjXT1sP3t9Ont0b0pTT046eC5ub29wfSksKCJvYmplY3QiPT10eXBlb2Ygbnx8ImZ1bmN0aW9uIj09dHlwZW9mIG4pJiYoaT91W2NdPXguZXh0ZW5kKHVbY10sbik6dVtjXS5kYXRhPXguZXh0ZW5kKHVbY10uZGF0YSxuKSksYT11W2NdLGl8fChhLmRhdGF8fChhLmRhdGE9e30pLGE9YS5kYXRhKSxyIT09dCYmKGFbeC5jYW1lbENhc2UobildPXIpLCJzdHJpbmciPT10eXBlb2Ygbj8obz1hW25dLG51bGw9PW8mJihvPWFbeC5jYW1lbENhc2UobildKSk6bz1hLG99fWZ1bmN0aW9uIFcoZSx0LG4pe2lmKHguYWNjZXB0RGF0YShlKSl7dmFyIHIsaSxvPWUubm9kZVR5cGUsYT1vP3guY2FjaGU6ZSxzPW8/ZVt4LmV4cGFuZG9dOnguZXhwYW5kbztpZihhW3NdKXtpZih0JiYocj1uP2Fbc106YVtzXS5kYXRhKSl7eC5pc0FycmF5KHQpP3Q9dC5jb25jYXQoeC5tYXAodCx4LmNhbWVsQ2FzZSkpOnQgaW4gcj90PVt0XToodD14LmNhbWVsQ2FzZSh0KSx0PXQgaW4gcj9bdF06dC5zcGxpdCgiICIpKSxpPXQubGVuZ3RoO3doaWxlKGktLSlkZWxldGUgclt0W2ldXTtpZihuPyFJKHIpOiF4LmlzRW1wdHlPYmplY3QocikpcmV0dXJufShufHwoZGVsZXRlIGFbc10uZGF0YSxJKGFbc10pKSkmJihvP3guY2xlYW5EYXRhKFtlXSwhMCk6eC5zdXBwb3J0LmRlbGV0ZUV4cGFuZG98fGEhPWEud2luZG93P2RlbGV0ZSBhW3NdOmFbc109bnVsbCl9fX14LmV4dGVuZCh7Y2FjaGU6e30sbm9EYXRhOnthcHBsZXQ6ITAsZW1iZWQ6ITAsb2JqZWN0OiJjbHNpZDpEMjdDREI2RS1BRTZELTExY2YtOTZCOC00NDQ1NTM1NDAwMDAifSxoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBlPWUubm9kZVR5cGU/eC5jYWNoZVtlW3guZXhwYW5kb11dOmVbeC5leHBhbmRvXSwhIWUmJiFJKGUpfSxkYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gUihlLHQsbil9LHJlbW92ZURhdGE6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gVyhlLHQpfSxfZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFIoZSx0LG4sITApfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe3JldHVybiBXKGUsdCwhMCl9LGFjY2VwdERhdGE6ZnVuY3Rpb24oZSl7aWYoZS5ub2RlVHlwZSYmMSE9PWUubm9kZVR5cGUmJjkhPT1lLm5vZGVUeXBlKXJldHVybiExO3ZhciB0PWUubm9kZU5hbWUmJngubm9EYXRhW2Uubm9kZU5hbWUudG9Mb3dlckNhc2UoKV07cmV0dXJuIXR8fHQhPT0hMCYmZS5nZXRBdHRyaWJ1dGUoImNsYXNzaWQiKT09PXR9fSkseC5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24oZSxuKXt2YXIgcixpLG89bnVsbCxhPTAscz10aGlzWzBdO2lmKGU9PT10KXtpZih0aGlzLmxlbmd0aCYmKG89eC5kYXRhKHMpLDE9PT1zLm5vZGVUeXBlJiYheC5fZGF0YShzLCJwYXJzZWRBdHRycyIpKSl7Zm9yKHI9cy5hdHRyaWJ1dGVzO3IubGVuZ3RoPmE7YSsrKWk9clthXS5uYW1lLDA9PT1pLmluZGV4T2YoImRhdGEtIikmJihpPXguY2FtZWxDYXNlKGkuc2xpY2UoNSkpLCQocyxpLG9baV0pKTt4Ll9kYXRhKHMsInBhcnNlZEF0dHJzIiwhMCl9cmV0dXJuIG99cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP3RoaXMuZWFjaChmdW5jdGlvbigpe3guZGF0YSh0aGlzLGUpfSk6YXJndW1lbnRzLmxlbmd0aD4xP3RoaXMuZWFjaChmdW5jdGlvbigpe3guZGF0YSh0aGlzLGUsbil9KTpzPyQocyxlLHguZGF0YShzLGUpKTpudWxsfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt4LnJlbW92ZURhdGEodGhpcyxlKX0pfX0pO2Z1bmN0aW9uICQoZSxuLHIpe2lmKHI9PT10JiYxPT09ZS5ub2RlVHlwZSl7dmFyIGk9ImRhdGEtIituLnJlcGxhY2UoUCwiLSQxIikudG9Mb3dlckNhc2UoKTtpZihyPWUuZ2V0QXR0cmlidXRlKGkpLCJzdHJpbmciPT10eXBlb2Ygcil7dHJ5e3I9InRydWUiPT09cj8hMDoiZmFsc2UiPT09cj8hMToibnVsbCI9PT1yP251bGw6K3IrIiI9PT1yPytyOkIudGVzdChyKT94LnBhcnNlSlNPTihyKTpyfWNhdGNoKG8pe314LmRhdGEoZSxuLHIpfWVsc2Ugcj10fXJldHVybiByfWZ1bmN0aW9uIEkoZSl7dmFyIHQ7Zm9yKHQgaW4gZSlpZigoImRhdGEiIT09dHx8IXguaXNFbXB0eU9iamVjdChlW3RdKSkmJiJ0b0pTT04iIT09dClyZXR1cm4hMTtyZXR1cm4hMH14LmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oZSxuLHIpe3ZhciBpO3JldHVybiBlPyhuPShufHwiZngiKSsicXVldWUiLGk9eC5fZGF0YShlLG4pLHImJighaXx8eC5pc0FycmF5KHIpP2k9eC5fZGF0YShlLG4seC5tYWtlQXJyYXkocikpOmkucHVzaChyKSksaXx8W10pOnR9LGRlcXVldWU6ZnVuY3Rpb24oZSx0KXt0PXR8fCJmeCI7dmFyIG49eC5xdWV1ZShlLHQpLHI9bi5sZW5ndGgsaT1uLnNoaWZ0KCksbz14Ll9xdWV1ZUhvb2tzKGUsdCksYT1mdW5jdGlvbigpe3guZGVxdWV1ZShlLHQpfTsiaW5wcm9ncmVzcyI9PT1pJiYoaT1uLnNoaWZ0KCksci0tKSxpJiYoImZ4Ij09PXQmJm4udW5zaGlmdCgiaW5wcm9ncmVzcyIpLGRlbGV0ZSBvLnN0b3AsaS5jYWxsKGUsYSxvKSksIXImJm8mJm8uZW1wdHkuZmlyZSgpfSxfcXVldWVIb29rczpmdW5jdGlvbihlLHQpe3ZhciBuPXQrInF1ZXVlSG9va3MiO3JldHVybiB4Ll9kYXRhKGUsbil8fHguX2RhdGEoZSxuLHtlbXB0eTp4LkNhbGxiYWNrcygib25jZSBtZW1vcnkiKS5hZGQoZnVuY3Rpb24oKXt4Ll9yZW1vdmVEYXRhKGUsdCsicXVldWUiKSx4Ll9yZW1vdmVEYXRhKGUsbil9KX0pfX0pLHguZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihlLG4pe3ZhciByPTI7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBlJiYobj1lLGU9ImZ4IixyLS0pLHI+YXJndW1lbnRzLmxlbmd0aD94LnF1ZXVlKHRoaXNbMF0sZSk6bj09PXQ/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD14LnF1ZXVlKHRoaXMsZSxuKTt4Ll9xdWV1ZUhvb2tzKHRoaXMsZSksImZ4Ij09PWUmJiJpbnByb2dyZXNzIiE9PXRbMF0mJnguZGVxdWV1ZSh0aGlzLGUpfSl9LGRlcXVldWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3guZGVxdWV1ZSh0aGlzLGUpfSl9LGRlbGF5OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9eC5meD94LmZ4LnNwZWVkc1tlXXx8ZTplLHQ9dHx8ImZ4Iix0aGlzLnF1ZXVlKHQsZnVuY3Rpb24odCxuKXt2YXIgcj1zZXRUaW1lb3V0KHQsZSk7bi5zdG9wPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHIpfX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnF1ZXVlKGV8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsbil7dmFyIHIsaT0xLG89eC5EZWZlcnJlZCgpLGE9dGhpcyxzPXRoaXMubGVuZ3RoLGw9ZnVuY3Rpb24oKXstLWl8fG8ucmVzb2x2ZVdpdGgoYSxbYV0pfTsic3RyaW5nIiE9dHlwZW9mIGUmJihuPWUsZT10KSxlPWV8fCJmeCI7d2hpbGUocy0tKXI9eC5fZGF0YShhW3NdLGUrInF1ZXVlSG9va3MiKSxyJiZyLmVtcHR5JiYoaSsrLHIuZW1wdHkuYWRkKGwpKTtyZXR1cm4gbCgpLG8ucHJvbWlzZShuKX19KTt2YXIgeixYLFU9L1tcdFxyXG5cZl0vZyxWPS9cci9nLFk9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdCkkL2ksSj0vXig/OmF8YXJlYSkkL2ksRz0vXig/OmNoZWNrZWR8c2VsZWN0ZWQpJC9pLFE9eC5zdXBwb3J0LmdldFNldEF0dHJpYnV0ZSxLPXguc3VwcG9ydC5pbnB1dDt4LmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQpe3JldHVybiB4LmFjY2Vzcyh0aGlzLHguYXR0cixlLHQsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7eC5yZW1vdmVBdHRyKHRoaXMsZSl9KX0scHJvcDpmdW5jdGlvbihlLHQpe3JldHVybiB4LmFjY2Vzcyh0aGlzLHgucHJvcCxlLHQsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihlKXtyZXR1cm4gZT14LnByb3BGaXhbZV18fGUsdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dHJ5e3RoaXNbZV09dCxkZWxldGUgdGhpc1tlXX1jYXRjaChuKXt9fSl9LGFkZENsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLG8sYT0wLHM9dGhpcy5sZW5ndGgsbD0ic3RyaW5nIj09dHlwZW9mIGUmJmU7aWYoeC5pc0Z1bmN0aW9uKGUpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24odCl7eCh0aGlzKS5hZGRDbGFzcyhlLmNhbGwodGhpcyx0LHRoaXMuY2xhc3NOYW1lKSl9KTtpZihsKWZvcih0PShlfHwiIikubWF0Y2goVCl8fFtdO3M+YTthKyspaWYobj10aGlzW2FdLHI9MT09PW4ubm9kZVR5cGUmJihuLmNsYXNzTmFtZT8oIiAiK24uY2xhc3NOYW1lKyIgIikucmVwbGFjZShVLCIgIik6IiAiKSl7bz0wO3doaWxlKGk9dFtvKytdKTA+ci5pbmRleE9mKCIgIitpKyIgIikmJihyKz1pKyIgIik7bi5jbGFzc05hbWU9eC50cmltKHIpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGE9MCxzPXRoaXMubGVuZ3RoLGw9MD09PWFyZ3VtZW50cy5sZW5ndGh8fCJzdHJpbmciPT10eXBlb2YgZSYmZTtpZih4LmlzRnVuY3Rpb24oZSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXt4KHRoaXMpLnJlbW92ZUNsYXNzKGUuY2FsbCh0aGlzLHQsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGwpZm9yKHQ9KGV8fCIiKS5tYXRjaChUKXx8W107cz5hO2ErKylpZihuPXRoaXNbYV0scj0xPT09bi5ub2RlVHlwZSYmKG4uY2xhc3NOYW1lPygiICIrbi5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKFUsIiAiKToiIikpe289MDt3aGlsZShpPXRbbysrXSl3aGlsZShyLmluZGV4T2YoIiAiK2krIiAiKT49MClyPXIucmVwbGFjZSgiICIraSsiICIsIiAiKTtuLmNsYXNzTmFtZT1lP3gudHJpbShyKToiIn1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oZSx0KXt2YXIgbj10eXBlb2YgZTtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiB0JiYic3RyaW5nIj09PW4/dD90aGlzLmFkZENsYXNzKGUpOnRoaXMucmVtb3ZlQ2xhc3MoZSk6eC5pc0Z1bmN0aW9uKGUpP3RoaXMuZWFjaChmdW5jdGlvbihuKXt4KHRoaXMpLnRvZ2dsZUNsYXNzKGUuY2FsbCh0aGlzLG4sdGhpcy5jbGFzc05hbWUsdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXtpZigic3RyaW5nIj09PW4pe3ZhciB0LHI9MCxvPXgodGhpcyksYT1lLm1hdGNoKFQpfHxbXTt3aGlsZSh0PWFbcisrXSlvLmhhc0NsYXNzKHQpP28ucmVtb3ZlQ2xhc3ModCk6by5hZGRDbGFzcyh0KX1lbHNlKG49PT1pfHwiYm9vbGVhbiI9PT1uKSYmKHRoaXMuY2xhc3NOYW1lJiZ4Ll9kYXRhKHRoaXMsIl9fY2xhc3NOYW1lX18iLHRoaXMuY2xhc3NOYW1lKSx0aGlzLmNsYXNzTmFtZT10aGlzLmNsYXNzTmFtZXx8ZT09PSExPyIiOnguX2RhdGEodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIil9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oZSl7dmFyIHQ9IiAiK2UrIiAiLG49MCxyPXRoaXMubGVuZ3RoO2Zvcig7cj5uO24rKylpZigxPT09dGhpc1tuXS5ub2RlVHlwZSYmKCIgIit0aGlzW25dLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UoVSwiICIpLmluZGV4T2YodCk+PTApcmV0dXJuITA7cmV0dXJuITF9LHZhbDpmdW5jdGlvbihlKXt2YXIgbixyLGksbz10aGlzWzBdO3tpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiBpPXguaXNGdW5jdGlvbihlKSx0aGlzLmVhY2goZnVuY3Rpb24obil7dmFyIG87MT09PXRoaXMubm9kZVR5cGUmJihvPWk/ZS5jYWxsKHRoaXMsbix4KHRoaXMpLnZhbCgpKTplLG51bGw9PW8/bz0iIjoibnVtYmVyIj09dHlwZW9mIG8/bys9IiI6eC5pc0FycmF5KG8pJiYobz14Lm1hcChvLGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOmUrIiJ9KSkscj14LnZhbEhvb2tzW3RoaXMudHlwZV18fHgudmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxyJiYic2V0ImluIHImJnIuc2V0KHRoaXMsbywidmFsdWUiKSE9PXR8fCh0aGlzLnZhbHVlPW8pKX0pO2lmKG8pcmV0dXJuIHI9eC52YWxIb29rc1tvLnR5cGVdfHx4LnZhbEhvb2tzW28ubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sciYmImdldCJpbiByJiYobj1yLmdldChvLCJ2YWx1ZSIpKSE9PXQ/bjoobj1vLnZhbHVlLCJzdHJpbmciPT10eXBlb2Ygbj9uLnJlcGxhY2UoViwiIik6bnVsbD09bj8iIjpuKX19fSkseC5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihlKXt2YXIgdD14LmZpbmQuYXR0cihlLCJ2YWx1ZSIpO3JldHVybiBudWxsIT10P3Q6ZS50ZXh0fX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWUub3B0aW9ucyxpPWUuc2VsZWN0ZWRJbmRleCxvPSJzZWxlY3Qtb25lIj09PWUudHlwZXx8MD5pLGE9bz9udWxsOltdLHM9bz9pKzE6ci5sZW5ndGgsbD0wPmk/czpvP2k6MDtmb3IoO3M+bDtsKyspaWYobj1yW2xdLCEoIW4uc2VsZWN0ZWQmJmwhPT1pfHwoeC5zdXBwb3J0Lm9wdERpc2FibGVkP24uZGlzYWJsZWQ6bnVsbCE9PW4uZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpKXx8bi5wYXJlbnROb2RlLmRpc2FibGVkJiZ4Lm5vZGVOYW1lKG4ucGFyZW50Tm9kZSwib3B0Z3JvdXAiKSkpe2lmKHQ9eChuKS52YWwoKSxvKXJldHVybiB0O2EucHVzaCh0KX1yZXR1cm4gYX0sc2V0OmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpPWUub3B0aW9ucyxvPXgubWFrZUFycmF5KHQpLGE9aS5sZW5ndGg7d2hpbGUoYS0tKXI9aVthXSwoci5zZWxlY3RlZD14LmluQXJyYXkoeChyKS52YWwoKSxvKT49MCkmJihuPSEwKTtyZXR1cm4gbnx8KGUuc2VsZWN0ZWRJbmRleD0tMSksb319fSxhdHRyOmZ1bmN0aW9uKGUsbixyKXt2YXIgbyxhLHM9ZS5ub2RlVHlwZTtpZihlJiYzIT09cyYmOCE9PXMmJjIhPT1zKXJldHVybiB0eXBlb2YgZS5nZXRBdHRyaWJ1dGU9PT1pP3gucHJvcChlLG4scik6KDE9PT1zJiZ4LmlzWE1MRG9jKGUpfHwobj1uLnRvTG93ZXJDYXNlKCksbz14LmF0dHJIb29rc1tuXXx8KHguZXhwci5tYXRjaC5ib29sLnRlc3Qobik/WDp6KSkscj09PXQ/byYmImdldCJpbiBvJiZudWxsIT09KGE9by5nZXQoZSxuKSk/YTooYT14LmZpbmQuYXR0cihlLG4pLG51bGw9PWE/dDphKTpudWxsIT09cj9vJiYic2V0ImluIG8mJihhPW8uc2V0KGUscixuKSkhPT10P2E6KGUuc2V0QXR0cmlidXRlKG4scisiIikscik6KHgucmVtb3ZlQXR0cihlLG4pLHQpKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT0wLG89dCYmdC5tYXRjaChUKTtpZihvJiYxPT09ZS5ub2RlVHlwZSl3aGlsZShuPW9baSsrXSlyPXgucHJvcEZpeFtuXXx8bix4LmV4cHIubWF0Y2guYm9vbC50ZXN0KG4pP0smJlF8fCFHLnRlc3Qobik/ZVtyXT0hMTplW3guY2FtZWxDYXNlKCJkZWZhdWx0LSIrbildPWVbcl09ITE6eC5hdHRyKGUsbiwiIiksZS5yZW1vdmVBdHRyaWJ1dGUoUT9uOnIpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihlLHQpe2lmKCF4LnN1cHBvcnQucmFkaW9WYWx1ZSYmInJhZGlvIj09PXQmJngubm9kZU5hbWUoZSwiaW5wdXQiKSl7dmFyIG49ZS52YWx1ZTtyZXR1cm4gZS5zZXRBdHRyaWJ1dGUoInR5cGUiLHQpLG4mJihlLnZhbHVlPW4pLHR9fX19LHByb3BGaXg6eyJmb3IiOiJodG1sRm9yIiwiY2xhc3MiOiJjbGFzc05hbWUifSxwcm9wOmZ1bmN0aW9uKGUsbixyKXt2YXIgaSxvLGEscz1lLm5vZGVUeXBlO2lmKGUmJjMhPT1zJiY4IT09cyYmMiE9PXMpcmV0dXJuIGE9MSE9PXN8fCF4LmlzWE1MRG9jKGUpLGEmJihuPXgucHJvcEZpeFtuXXx8bixvPXgucHJvcEhvb2tzW25dKSxyIT09dD9vJiYic2V0ImluIG8mJihpPW8uc2V0KGUscixuKSkhPT10P2k6ZVtuXT1yOm8mJiJnZXQiaW4gbyYmbnVsbCE9PShpPW8uZ2V0KGUsbikpP2k6ZVtuXX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXguZmluZC5hdHRyKGUsInRhYmluZGV4Iik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6WS50ZXN0KGUubm9kZU5hbWUpfHxKLnRlc3QoZS5ub2RlTmFtZSkmJmUuaHJlZj8wOi0xfX19fSksWD17c2V0OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdD09PSExP3gucmVtb3ZlQXR0cihlLG4pOksmJlF8fCFHLnRlc3Qobik/ZS5zZXRBdHRyaWJ1dGUoIVEmJngucHJvcEZpeFtuXXx8bixuKTplW3guY2FtZWxDYXNlKCJkZWZhdWx0LSIrbildPWVbbl09ITAsbn19LHguZWFjaCh4LmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihlLG4pe3ZhciByPXguZXhwci5hdHRySGFuZGxlW25dfHx4LmZpbmQuYXR0cjt4LmV4cHIuYXR0ckhhbmRsZVtuXT1LJiZRfHwhRy50ZXN0KG4pP2Z1bmN0aW9uKGUsbixpKXt2YXIgbz14LmV4cHIuYXR0ckhhbmRsZVtuXSxhPWk/dDooeC5leHByLmF0dHJIYW5kbGVbbl09dCkhPXIoZSxuLGkpP24udG9Mb3dlckNhc2UoKTpudWxsO3JldHVybiB4LmV4cHIuYXR0ckhhbmRsZVtuXT1vLGF9OmZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gcj90OmVbeC5jYW1lbENhc2UoImRlZmF1bHQtIituKV0/bi50b0xvd2VyQ2FzZSgpOm51bGx9fSksSyYmUXx8KHguYXR0ckhvb2tzLnZhbHVlPXtzZXQ6ZnVuY3Rpb24oZSxuLHIpe3JldHVybiB4Lm5vZGVOYW1lKGUsImlucHV0Iik/KGUuZGVmYXVsdFZhbHVlPW4sdCk6eiYmei5zZXQoZSxuLHIpfX0pLFF8fCh6PXtzZXQ6ZnVuY3Rpb24oZSxuLHIpe3ZhciBpPWUuZ2V0QXR0cmlidXRlTm9kZShyKTtyZXR1cm4gaXx8ZS5zZXRBdHRyaWJ1dGVOb2RlKGk9ZS5vd25lckRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZShyKSksaS52YWx1ZT1uKz0iIiwidmFsdWUiPT09cnx8bj09PWUuZ2V0QXR0cmlidXRlKHIpP246dH19LHguZXhwci5hdHRySGFuZGxlLmlkPXguZXhwci5hdHRySGFuZGxlLm5hbWU9eC5leHByLmF0dHJIYW5kbGUuY29vcmRzPWZ1bmN0aW9uKGUsbixyKXt2YXIgaTtyZXR1cm4gcj90OihpPWUuZ2V0QXR0cmlidXRlTm9kZShuKSkmJiIiIT09aS52YWx1ZT9pLnZhbHVlOm51bGx9LHgudmFsSG9va3MuYnV0dG9uPXtnZXQ6ZnVuY3Rpb24oZSxuKXt2YXIgcj1lLmdldEF0dHJpYnV0ZU5vZGUobik7cmV0dXJuIHImJnIuc3BlY2lmaWVkP3IudmFsdWU6dH0sc2V0Onouc2V0fSx4LmF0dHJIb29rcy5jb250ZW50ZWRpdGFibGU9e3NldDpmdW5jdGlvbihlLHQsbil7ei5zZXQoZSwiIj09PXQ/ITE6dCxuKX19LHguZWFjaChbIndpZHRoIiwiaGVpZ2h0Il0sZnVuY3Rpb24oZSxuKXt4LmF0dHJIb29rc1tuXT17c2V0OmZ1bmN0aW9uKGUscil7cmV0dXJuIiI9PT1yPyhlLnNldEF0dHJpYnV0ZShuLCJhdXRvIikscik6dH19fSkpLHguc3VwcG9ydC5ocmVmTm9ybWFsaXplZHx8eC5lYWNoKFsiaHJlZiIsInNyYyJdLGZ1bmN0aW9uKGUsdCl7eC5wcm9wSG9va3NbdF09e2dldDpmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUodCw0KX19fSkseC5zdXBwb3J0LnN0eWxlfHwoeC5hdHRySG9va3Muc3R5bGU9e2dldDpmdW5jdGlvbihlKXtyZXR1cm4gZS5zdHlsZS5jc3NUZXh0fHx0fSxzZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zdHlsZS5jc3NUZXh0PXQrIiJ9fSkseC5zdXBwb3J0Lm9wdFNlbGVjdGVkfHwoeC5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuIHQmJih0LnNlbGVjdGVkSW5kZXgsdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCksbnVsbH19KSx4LmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe3gucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KSx4LnN1cHBvcnQuZW5jdHlwZXx8KHgucHJvcEZpeC5lbmN0eXBlPSJlbmNvZGluZyIpLHguZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe3gudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlLG4pe3JldHVybiB4LmlzQXJyYXkobik/ZS5jaGVja2VkPXguaW5BcnJheSh4KGUpLnZhbCgpLG4pPj0wOnR9fSx4LnN1cHBvcnQuY2hlY2tPbnx8KHgudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjplLnZhbHVlfSl9KTt2YXIgWj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYSkkL2ksZXQ9L15rZXkvLHR0PS9eKD86bW91c2V8Y29udGV4dG1lbnUpfGNsaWNrLyxudD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8scnQ9L14oW14uXSopKD86XC4oLispfCkkLztmdW5jdGlvbiBpdCgpe3JldHVybiEwfWZ1bmN0aW9uIG90KCl7cmV0dXJuITF9ZnVuY3Rpb24gYXQoKXt0cnl7cmV0dXJuIGEuYWN0aXZlRWxlbWVudH1jYXRjaChlKXt9fXguZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24oZSxuLHIsbyxhKXt2YXIgcyxsLHUsYyxwLGYsZCxoLGcsbSx5LHY9eC5fZGF0YShlKTtpZih2KXtyLmhhbmRsZXImJihjPXIscj1jLmhhbmRsZXIsYT1jLnNlbGVjdG9yKSxyLmd1aWR8fChyLmd1aWQ9eC5ndWlkKyspLChsPXYuZXZlbnRzKXx8KGw9di5ldmVudHM9e30pLChmPXYuaGFuZGxlKXx8KGY9di5oYW5kbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiB4PT09aXx8ZSYmeC5ldmVudC50cmlnZ2VyZWQ9PT1lLnR5cGU/dDp4LmV2ZW50LmRpc3BhdGNoLmFwcGx5KGYuZWxlbSxhcmd1bWVudHMpfSxmLmVsZW09ZSksbj0obnx8IiIpLm1hdGNoKFQpfHxbIiJdLHU9bi5sZW5ndGg7d2hpbGUodS0tKXM9cnQuZXhlYyhuW3VdKXx8W10sZz15PXNbMV0sbT0oc1syXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLGcmJihwPXguZXZlbnQuc3BlY2lhbFtnXXx8e30sZz0oYT9wLmRlbGVnYXRlVHlwZTpwLmJpbmRUeXBlKXx8ZyxwPXguZXZlbnQuc3BlY2lhbFtnXXx8e30sZD14LmV4dGVuZCh7dHlwZTpnLG9yaWdUeXBlOnksZGF0YTpvLGhhbmRsZXI6cixndWlkOnIuZ3VpZCxzZWxlY3RvcjphLG5lZWRzQ29udGV4dDphJiZ4LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoYSksbmFtZXNwYWNlOm0uam9pbigiLiIpfSxjKSwoaD1sW2ddKXx8KGg9bFtnXT1bXSxoLmRlbGVnYXRlQ291bnQ9MCxwLnNldHVwJiZwLnNldHVwLmNhbGwoZSxvLG0sZikhPT0hMXx8KGUuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIoZyxmLCExKTplLmF0dGFjaEV2ZW50JiZlLmF0dGFjaEV2ZW50KCJvbiIrZyxmKSkpLHAuYWRkJiYocC5hZGQuY2FsbChlLGQpLGQuaGFuZGxlci5ndWlkfHwoZC5oYW5kbGVyLmd1aWQ9ci5ndWlkKSksYT9oLnNwbGljZShoLmRlbGVnYXRlQ291bnQrKywwLGQpOmgucHVzaChkKSx4LmV2ZW50Lmdsb2JhbFtnXT0hMCk7ZT1udWxsfX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG8sYSxzLGwsdSxjLHAsZixkLGgsZyxtPXguaGFzRGF0YShlKSYmeC5fZGF0YShlKTtpZihtJiYoYz1tLmV2ZW50cykpe3Q9KHR8fCIiKS5tYXRjaChUKXx8WyIiXSx1PXQubGVuZ3RoO3doaWxlKHUtLSlpZihzPXJ0LmV4ZWModFt1XSl8fFtdLGQ9Zz1zWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkKXtwPXguZXZlbnQuc3BlY2lhbFtkXXx8e30sZD0ocj9wLmRlbGVnYXRlVHlwZTpwLmJpbmRUeXBlKXx8ZCxmPWNbZF18fFtdLHM9c1syXSYmUmVnRXhwKCIoXnxcXC4pIitoLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpLGw9bz1mLmxlbmd0aDt3aGlsZShvLS0pYT1mW29dLCFpJiZnIT09YS5vcmlnVHlwZXx8biYmbi5ndWlkIT09YS5ndWlkfHxzJiYhcy50ZXN0KGEubmFtZXNwYWNlKXx8ciYmciE9PWEuc2VsZWN0b3ImJigiKioiIT09cnx8IWEuc2VsZWN0b3IpfHwoZi5zcGxpY2UobywxKSxhLnNlbGVjdG9yJiZmLmRlbGVnYXRlQ291bnQtLSxwLnJlbW92ZSYmcC5yZW1vdmUuY2FsbChlLGEpKTtsJiYhZi5sZW5ndGgmJihwLnRlYXJkb3duJiZwLnRlYXJkb3duLmNhbGwoZSxoLG0uaGFuZGxlKSE9PSExfHx4LnJlbW92ZUV2ZW50KGUsZCxtLmhhbmRsZSksZGVsZXRlIGNbZF0pfWVsc2UgZm9yKGQgaW4gYyl4LmV2ZW50LnJlbW92ZShlLGQrdFt1XSxuLHIsITApO3guaXNFbXB0eU9iamVjdChjKSYmKGRlbGV0ZSBtLmhhbmRsZSx4Ll9yZW1vdmVEYXRhKGUsImV2ZW50cyIpKX19LHRyaWdnZXI6ZnVuY3Rpb24obixyLGksbyl7dmFyIHMsbCx1LGMscCxmLGQsaD1baXx8YV0sZz12LmNhbGwobiwidHlwZSIpP24udHlwZTpuLG09di5jYWxsKG4sIm5hbWVzcGFjZSIpP24ubmFtZXNwYWNlLnNwbGl0KCIuIik6W107aWYodT1mPWk9aXx8YSwzIT09aS5ub2RlVHlwZSYmOCE9PWkubm9kZVR5cGUmJiFudC50ZXN0KGcreC5ldmVudC50cmlnZ2VyZWQpJiYoZy5pbmRleE9mKCIuIik+PTAmJihtPWcuc3BsaXQoIi4iKSxnPW0uc2hpZnQoKSxtLnNvcnQoKSksbD0wPmcuaW5kZXhPZigiOiIpJiYib24iK2csbj1uW3guZXhwYW5kb10/bjpuZXcgeC5FdmVudChnLCJvYmplY3QiPT10eXBlb2YgbiYmbiksbi5pc1RyaWdnZXI9bz8yOjMsbi5uYW1lc3BhY2U9bS5qb2luKCIuIiksbi5uYW1lc3BhY2VfcmU9bi5uYW1lc3BhY2U/UmVnRXhwKCIoXnxcXC4pIittLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpOm51bGwsbi5yZXN1bHQ9dCxuLnRhcmdldHx8KG4udGFyZ2V0PWkpLHI9bnVsbD09cj9bbl06eC5tYWtlQXJyYXkocixbbl0pLHA9eC5ldmVudC5zcGVjaWFsW2ddfHx7fSxvfHwhcC50cmlnZ2VyfHxwLnRyaWdnZXIuYXBwbHkoaSxyKSE9PSExKSl7aWYoIW8mJiFwLm5vQnViYmxlJiYheC5pc1dpbmRvdyhpKSl7Zm9yKGM9cC5kZWxlZ2F0ZVR5cGV8fGcsbnQudGVzdChjK2cpfHwodT11LnBhcmVudE5vZGUpO3U7dT11LnBhcmVudE5vZGUpaC5wdXNoKHUpLGY9dTtmPT09KGkub3duZXJEb2N1bWVudHx8YSkmJmgucHVzaChmLmRlZmF1bHRWaWV3fHxmLnBhcmVudFdpbmRvd3x8ZSl9ZD0wO3doaWxlKCh1PWhbZCsrXSkmJiFuLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpbi50eXBlPWQ+MT9jOnAuYmluZFR5cGV8fGcscz0oeC5fZGF0YSh1LCJldmVudHMiKXx8e30pW24udHlwZV0mJnguX2RhdGEodSwiaGFuZGxlIikscyYmcy5hcHBseSh1LHIpLHM9bCYmdVtsXSxzJiZ4LmFjY2VwdERhdGEodSkmJnMuYXBwbHkmJnMuYXBwbHkodSxyKT09PSExJiZuLnByZXZlbnREZWZhdWx0KCk7aWYobi50eXBlPWcsIW8mJiFuLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYoIXAuX2RlZmF1bHR8fHAuX2RlZmF1bHQuYXBwbHkoaC5wb3AoKSxyKT09PSExKSYmeC5hY2NlcHREYXRhKGkpJiZsJiZpW2ddJiYheC5pc1dpbmRvdyhpKSl7Zj1pW2xdLGYmJihpW2xdPW51bGwpLHguZXZlbnQudHJpZ2dlcmVkPWc7dHJ5e2lbZ10oKX1jYXRjaCh5KXt9eC5ldmVudC50cmlnZ2VyZWQ9dCxmJiYoaVtsXT1mKX1yZXR1cm4gbi5yZXN1bHR9fSxkaXNwYXRjaDpmdW5jdGlvbihlKXtlPXguZXZlbnQuZml4KGUpO3ZhciBuLHIsaSxvLGEscz1bXSxsPWcuY2FsbChhcmd1bWVudHMpLHU9KHguX2RhdGEodGhpcywiZXZlbnRzIil8fHt9KVtlLnR5cGVdfHxbXSxjPXguZXZlbnQuc3BlY2lhbFtlLnR5cGVdfHx7fTtpZihsWzBdPWUsZS5kZWxlZ2F0ZVRhcmdldD10aGlzLCFjLnByZURpc3BhdGNofHxjLnByZURpc3BhdGNoLmNhbGwodGhpcyxlKSE9PSExKXtzPXguZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLGUsdSksbj0wO3doaWxlKChvPXNbbisrXSkmJiFlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpe2UuY3VycmVudFRhcmdldD1vLmVsZW0sYT0wO3doaWxlKChpPW8uaGFuZGxlcnNbYSsrXSkmJiFlLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpKCFlLm5hbWVzcGFjZV9yZXx8ZS5uYW1lc3BhY2VfcmUudGVzdChpLm5hbWVzcGFjZSkpJiYoZS5oYW5kbGVPYmo9aSxlLmRhdGE9aS5kYXRhLHI9KCh4LmV2ZW50LnNwZWNpYWxbaS5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fGkuaGFuZGxlcikuYXBwbHkoby5lbGVtLGwpLHIhPT10JiYoZS5yZXN1bHQ9cik9PT0hMSYmKGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpKSl9cmV0dXJuIGMucG9zdERpc3BhdGNoJiZjLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsZSksZS5yZXN1bHR9fSxoYW5kbGVyczpmdW5jdGlvbihlLG4pe3ZhciByLGksbyxhLHM9W10sbD1uLmRlbGVnYXRlQ291bnQsdT1lLnRhcmdldDtpZihsJiZ1Lm5vZGVUeXBlJiYoIWUuYnV0dG9ufHwiY2xpY2siIT09ZS50eXBlKSlmb3IoO3UhPXRoaXM7dT11LnBhcmVudE5vZGV8fHRoaXMpaWYoMT09PXUubm9kZVR5cGUmJih1LmRpc2FibGVkIT09ITB8fCJjbGljayIhPT1lLnR5cGUpKXtmb3Iobz1bXSxhPTA7bD5hO2ErKylpPW5bYV0scj1pLnNlbGVjdG9yKyIgIixvW3JdPT09dCYmKG9bcl09aS5uZWVkc0NvbnRleHQ/eChyLHRoaXMpLmluZGV4KHUpPj0wOnguZmluZChyLHRoaXMsbnVsbCxbdV0pLmxlbmd0aCksb1tyXSYmby5wdXNoKGkpO28ubGVuZ3RoJiZzLnB1c2goe2VsZW06dSxoYW5kbGVyczpvfSl9cmV0dXJuIG4ubGVuZ3RoPmwmJnMucHVzaCh7ZWxlbTp0aGlzLGhhbmRsZXJzOm4uc2xpY2UobCl9KSxzfSxmaXg6ZnVuY3Rpb24oZSl7aWYoZVt4LmV4cGFuZG9dKXJldHVybiBlO3ZhciB0LG4scixpPWUudHlwZSxvPWUscz10aGlzLmZpeEhvb2tzW2ldO3N8fCh0aGlzLmZpeEhvb2tzW2ldPXM9dHQudGVzdChpKT90aGlzLm1vdXNlSG9va3M6ZXQudGVzdChpKT90aGlzLmtleUhvb2tzOnt9KSxyPXMucHJvcHM/dGhpcy5wcm9wcy5jb25jYXQocy5wcm9wcyk6dGhpcy5wcm9wcyxlPW5ldyB4LkV2ZW50KG8pLHQ9ci5sZW5ndGg7d2hpbGUodC0tKW49clt0XSxlW25dPW9bbl07cmV0dXJuIGUudGFyZ2V0fHwoZS50YXJnZXQ9by5zcmNFbGVtZW50fHxhKSwzPT09ZS50YXJnZXQubm9kZVR5cGUmJihlLnRhcmdldD1lLnRhcmdldC5wYXJlbnROb2RlKSxlLm1ldGFLZXk9ISFlLm1ldGFLZXkscy5maWx0ZXI/cy5maWx0ZXIoZSxvKTplfSxwcm9wczoiYWx0S2V5IGJ1YmJsZXMgY2FuY2VsYWJsZSBjdHJsS2V5IGN1cnJlbnRUYXJnZXQgZXZlbnRQaGFzZSBtZXRhS2V5IHJlbGF0ZWRUYXJnZXQgc2hpZnRLZXkgdGFyZ2V0IHRpbWVTdGFtcCB2aWV3IHdoaWNoIi5zcGxpdCgiICIpLGZpeEhvb2tzOnt9LGtleUhvb2tzOntwcm9wczoiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZSIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09ZS53aGljaCYmKGUud2hpY2g9bnVsbCE9dC5jaGFyQ29kZT90LmNoYXJDb2RlOnQua2V5Q29kZSksZX19LG1vdXNlSG9va3M6e3Byb3BzOiJidXR0b24gYnV0dG9ucyBjbGllbnRYIGNsaWVudFkgZnJvbUVsZW1lbnQgb2Zmc2V0WCBvZmZzZXRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSB0b0VsZW1lbnQiLnNwbGl0KCIgIiksZmlsdGVyOmZ1bmN0aW9uKGUsbil7dmFyIHIsaSxvLHM9bi5idXR0b24sbD1uLmZyb21FbGVtZW50O3JldHVybiBudWxsPT1lLnBhZ2VYJiZudWxsIT1uLmNsaWVudFgmJihpPWUudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fGEsbz1pLmRvY3VtZW50RWxlbWVudCxyPWkuYm9keSxlLnBhZ2VYPW4uY2xpZW50WCsobyYmby5zY3JvbGxMZWZ0fHxyJiZyLnNjcm9sbExlZnR8fDApLShvJiZvLmNsaWVudExlZnR8fHImJnIuY2xpZW50TGVmdHx8MCksZS5wYWdlWT1uLmNsaWVudFkrKG8mJm8uc2Nyb2xsVG9wfHxyJiZyLnNjcm9sbFRvcHx8MCktKG8mJm8uY2xpZW50VG9wfHxyJiZyLmNsaWVudFRvcHx8MCkpLCFlLnJlbGF0ZWRUYXJnZXQmJmwmJihlLnJlbGF0ZWRUYXJnZXQ9bD09PWUudGFyZ2V0P24udG9FbGVtZW50OmwpLGUud2hpY2h8fHM9PT10fHwoZS53aGljaD0xJnM/MToyJnM/Mzo0JnM/MjowKSxlfX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGZvY3VzOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7aWYodGhpcyE9PWF0KCkmJnRoaXMuZm9jdXMpdHJ5e3JldHVybiB0aGlzLmZvY3VzKCksITF9Y2F0Y2goZSl7fX0sZGVsZWdhdGVUeXBlOiJmb2N1c2luIn0sYmx1cjp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzPT09YXQoKSYmdGhpcy5ibHVyPyh0aGlzLmJsdXIoKSwhMSk6dH0sZGVsZWdhdGVUeXBlOiJmb2N1c291dCJ9LGNsaWNrOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHgubm9kZU5hbWUodGhpcywiaW5wdXQiKSYmImNoZWNrYm94Ij09PXRoaXMudHlwZSYmdGhpcy5jbGljaz8odGhpcy5jbGljaygpLCExKTp0fSxfZGVmYXVsdDpmdW5jdGlvbihlKXtyZXR1cm4geC5ub2RlTmFtZShlLnRhcmdldCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oZSl7ZS5yZXN1bHQhPT10JiYoZS5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlPWUucmVzdWx0KX19fSxzaW11bGF0ZTpmdW5jdGlvbihlLHQsbixyKXt2YXIgaT14LmV4dGVuZChuZXcgeC5FdmVudCxuLHt0eXBlOmUsaXNTaW11bGF0ZWQ6ITAsb3JpZ2luYWxFdmVudDp7fX0pO3I/eC5ldmVudC50cmlnZ2VyKGksbnVsbCx0KTp4LmV2ZW50LmRpc3BhdGNoLmNhbGwodCxpKSxpLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZuLnByZXZlbnREZWZhdWx0KCl9fSx4LnJlbW92ZUV2ZW50PWEucmVtb3ZlRXZlbnRMaXN0ZW5lcj9mdW5jdGlvbihlLHQsbil7ZS5yZW1vdmVFdmVudExpc3RlbmVyJiZlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxuLCExKX06ZnVuY3Rpb24oZSx0LG4pe3ZhciByPSJvbiIrdDtlLmRldGFjaEV2ZW50JiYodHlwZW9mIGVbcl09PT1pJiYoZVtyXT1udWxsKSxlLmRldGFjaEV2ZW50KHIsbikpfSx4LkV2ZW50PWZ1bmN0aW9uKGUsbil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiB4LkV2ZW50PyhlJiZlLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1lLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZS5kZWZhdWx0UHJldmVudGVkfHxlLnJldHVyblZhbHVlPT09ITF8fGUuZ2V0UHJldmVudERlZmF1bHQmJmUuZ2V0UHJldmVudERlZmF1bHQoKT9pdDpvdCk6dGhpcy50eXBlPWUsbiYmeC5leHRlbmQodGhpcyxuKSx0aGlzLnRpbWVTdGFtcD1lJiZlLnRpbWVTdGFtcHx8eC5ub3coKSx0aGlzW3guZXhwYW5kb109ITAsdCk6bmV3IHguRXZlbnQoZSxuKX0seC5FdmVudC5wcm90b3R5cGU9e2lzRGVmYXVsdFByZXZlbnRlZDpvdCxpc1Byb3BhZ2F0aW9uU3RvcHBlZDpvdCxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDpvdCxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1pdCxlJiYoZS5wcmV2ZW50RGVmYXVsdD9lLnByZXZlbnREZWZhdWx0KCk6ZS5yZXR1cm5WYWx1ZT0hMSl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPWl0LGUmJihlLnN0b3BQcm9wYWdhdGlvbiYmZS5zdG9wUHJvcGFnYXRpb24oKSxlLmNhbmNlbEJ1YmJsZT0hMCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9aXQsdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LHguZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCJ9LGZ1bmN0aW9uKGUsdCl7eC5ldmVudC5zcGVjaWFsW2VdPXtkZWxlZ2F0ZVR5cGU6dCxiaW5kVHlwZTp0LGhhbmRsZTpmdW5jdGlvbihlKXt2YXIgbixyPXRoaXMsaT1lLnJlbGF0ZWRUYXJnZXQsbz1lLmhhbmRsZU9iajtyZXR1cm4oIWl8fGkhPT1yJiYheC5jb250YWlucyhyLGkpKSYmKGUudHlwZT1vLm9yaWdUeXBlLG49by5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlLnR5cGU9dCksbn19fSkseC5zdXBwb3J0LnN1Ym1pdEJ1YmJsZXN8fCh4LmV2ZW50LnNwZWNpYWwuc3VibWl0PXtzZXR1cDpmdW5jdGlvbigpe3JldHVybiB4Lm5vZGVOYW1lKHRoaXMsImZvcm0iKT8hMTooeC5ldmVudC5hZGQodGhpcywiY2xpY2suX3N1Ym1pdCBrZXlwcmVzcy5fc3VibWl0IixmdW5jdGlvbihlKXt2YXIgbj1lLnRhcmdldCxyPXgubm9kZU5hbWUobiwiaW5wdXQiKXx8eC5ub2RlTmFtZShuLCJidXR0b24iKT9uLmZvcm06dDtyJiYheC5fZGF0YShyLCJzdWJtaXRCdWJibGVzIikmJih4LmV2ZW50LmFkZChyLCJzdWJtaXQuX3N1Ym1pdCIsZnVuY3Rpb24oZSl7ZS5fc3VibWl0X2J1YmJsZT0hMH0pLHguX2RhdGEociwic3VibWl0QnViYmxlcyIsITApKX0pLHQpfSxwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oZSl7ZS5fc3VibWl0X2J1YmJsZSYmKGRlbGV0ZSBlLl9zdWJtaXRfYnViYmxlLHRoaXMucGFyZW50Tm9kZSYmIWUuaXNUcmlnZ2VyJiZ4LmV2ZW50LnNpbXVsYXRlKCJzdWJtaXQiLHRoaXMucGFyZW50Tm9kZSxlLCEwKSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIHgubm9kZU5hbWUodGhpcywiZm9ybSIpPyExOih4LmV2ZW50LnJlbW92ZSh0aGlzLCIuX3N1Ym1pdCIpLHQpfX0pLHguc3VwcG9ydC5jaGFuZ2VCdWJibGVzfHwoeC5ldmVudC5zcGVjaWFsLmNoYW5nZT17c2V0dXA6ZnVuY3Rpb24oKXtyZXR1cm4gWi50ZXN0KHRoaXMubm9kZU5hbWUpPygoImNoZWNrYm94Ij09PXRoaXMudHlwZXx8InJhZGlvIj09PXRoaXMudHlwZSkmJih4LmV2ZW50LmFkZCh0aGlzLCJwcm9wZXJ0eWNoYW5nZS5fY2hhbmdlIixmdW5jdGlvbihlKXsiY2hlY2tlZCI9PT1lLm9yaWdpbmFsRXZlbnQucHJvcGVydHlOYW1lJiYodGhpcy5fanVzdF9jaGFuZ2VkPSEwKX0pLHguZXZlbnQuYWRkKHRoaXMsImNsaWNrLl9jaGFuZ2UiLGZ1bmN0aW9uKGUpe3RoaXMuX2p1c3RfY2hhbmdlZCYmIWUuaXNUcmlnZ2VyJiYodGhpcy5fanVzdF9jaGFuZ2VkPSExKSx4LmV2ZW50LnNpbXVsYXRlKCJjaGFuZ2UiLHRoaXMsZSwhMCl9KSksITEpOih4LmV2ZW50LmFkZCh0aGlzLCJiZWZvcmVhY3RpdmF0ZS5fY2hhbmdlIixmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDtaLnRlc3QodC5ub2RlTmFtZSkmJiF4Ll9kYXRhKHQsImNoYW5nZUJ1YmJsZXMiKSYmKHguZXZlbnQuYWRkKHQsImNoYW5nZS5fY2hhbmdlIixmdW5jdGlvbihlKXshdGhpcy5wYXJlbnROb2RlfHxlLmlzU2ltdWxhdGVkfHxlLmlzVHJpZ2dlcnx8eC5ldmVudC5zaW11bGF0ZSgiY2hhbmdlIix0aGlzLnBhcmVudE5vZGUsZSwhMCl9KSx4Ll9kYXRhKHQsImNoYW5nZUJ1YmJsZXMiLCEwKSl9KSx0KX0saGFuZGxlOmZ1bmN0aW9uKGUpe3ZhciBuPWUudGFyZ2V0O3JldHVybiB0aGlzIT09bnx8ZS5pc1NpbXVsYXRlZHx8ZS5pc1RyaWdnZXJ8fCJyYWRpbyIhPT1uLnR5cGUmJiJjaGVja2JveCIhPT1uLnR5cGU/ZS5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dH0sdGVhcmRvd246ZnVuY3Rpb24oKXtyZXR1cm4geC5ldmVudC5yZW1vdmUodGhpcywiLl9jaGFuZ2UiKSwhWi50ZXN0KHRoaXMubm9kZU5hbWUpfX0pLHguc3VwcG9ydC5mb2N1c2luQnViYmxlc3x8eC5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihlLHQpe3ZhciBuPTAscj1mdW5jdGlvbihlKXt4LmV2ZW50LnNpbXVsYXRlKHQsZS50YXJnZXQseC5ldmVudC5maXgoZSksITApfTt4LmV2ZW50LnNwZWNpYWxbdF09e3NldHVwOmZ1bmN0aW9uKCl7MD09PW4rKyYmYS5hZGRFdmVudExpc3RlbmVyKGUsciwhMCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7MD09PS0tbiYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGUsciwhMCl9fX0pLHguZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihlLG4scixpLG8pe3ZhciBhLHM7aWYoIm9iamVjdCI9PXR5cGVvZiBlKXsic3RyaW5nIiE9dHlwZW9mIG4mJihyPXJ8fG4sbj10KTtmb3IoYSBpbiBlKXRoaXMub24oYSxuLHIsZVthXSxvKTtyZXR1cm4gdGhpc31pZihudWxsPT1yJiZudWxsPT1pPyhpPW4scj1uPXQpOm51bGw9PWkmJigic3RyaW5nIj09dHlwZW9mIG4/KGk9cixyPXQpOihpPXIscj1uLG49dCkpLGk9PT0hMSlpPW90O2Vsc2UgaWYoIWkpcmV0dXJuIHRoaXM7cmV0dXJuIDE9PT1vJiYocz1pLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIHgoKS5vZmYoZSkscy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGkuZ3VpZD1zLmd1aWR8fChzLmd1aWQ9eC5ndWlkKyspKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt4LmV2ZW50LmFkZCh0aGlzLGUsaSxyLG4pfSl9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5vbihlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSxuLHIpe3ZhciBpLG87aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIGk9ZS5oYW5kbGVPYmoseChlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoaS5uYW1lc3BhY2U/aS5vcmlnVHlwZSsiLiIraS5uYW1lc3BhY2U6aS5vcmlnVHlwZSxpLnNlbGVjdG9yLGkuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIGUpe2ZvcihvIGluIGUpdGhpcy5vZmYobyxuLGVbb10pO3JldHVybiB0aGlzfXJldHVybihuPT09ITF8fCJmdW5jdGlvbiI9PXR5cGVvZiBuKSYmKHI9bixuPXQpLHI9PT0hMSYmKHI9b3QpLHRoaXMuZWFjaChmdW5jdGlvbigpe3guZXZlbnQucmVtb3ZlKHRoaXMsZSxyLG4pfSl9LHRyaWdnZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7eC5ldmVudC50cmlnZ2VyKGUsdCx0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihlLG4pe3ZhciByPXRoaXNbMF07cmV0dXJuIHI/eC5ldmVudC50cmlnZ2VyKGUsbixyLCEwKTp0fX0pO3ZhciBzdD0vXi5bXjojXFtcLixdKiQvLGx0PS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLHV0PXguZXhwci5tYXRjaC5uZWVkc0NvbnRleHQsY3Q9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07eC5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPXRoaXMsaT1yLmxlbmd0aDtpZigic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIHRoaXMucHVzaFN0YWNrKHgoZSkuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHQ9MDtpPnQ7dCsrKWlmKHguY29udGFpbnMoclt0XSx0aGlzKSlyZXR1cm4hMH0pKTtmb3IodD0wO2k+dDt0KyspeC5maW5kKGUsclt0XSxuKTtyZXR1cm4gbj10aGlzLnB1c2hTdGFjayhpPjE/eC51bmlxdWUobik6biksbi5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yP3RoaXMuc2VsZWN0b3IrIiAiK2U6ZSxufSxoYXM6ZnVuY3Rpb24oZSl7dmFyIHQsbj14KGUsdGhpcykscj1uLmxlbmd0aDtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3I+dDt0KyspaWYoeC5jb250YWlucyh0aGlzLG5bdF0pKXJldHVybiEwfSl9LG5vdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZnQodGhpcyxlfHxbXSwhMCkpfSxmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGZ0KHRoaXMsZXx8W10sITEpKX0saXM6ZnVuY3Rpb24oZSl7cmV0dXJuISFmdCh0aGlzLCJzdHJpbmciPT10eXBlb2YgZSYmdXQudGVzdChlKT94KGUpOmV8fFtdLCExKS5sZW5ndGh9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxvPVtdLGE9dXQudGVzdChlKXx8InN0cmluZyIhPXR5cGVvZiBlP3goZSx0fHx0aGlzLmNvbnRleHQpOjA7Zm9yKDtpPnI7cisrKWZvcihuPXRoaXNbcl07biYmbiE9PXQ7bj1uLnBhcmVudE5vZGUpaWYoMTE+bi5ub2RlVHlwZSYmKGE/YS5pbmRleChuKT4tMToxPT09bi5ub2RlVHlwZSYmeC5maW5kLm1hdGNoZXNTZWxlY3RvcihuLGUpKSl7bj1vLnB1c2gobik7YnJlYWt9cmV0dXJuIHRoaXMucHVzaFN0YWNrKG8ubGVuZ3RoPjE/eC51bmlxdWUobyk6byl9LGluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiBlPyJzdHJpbmciPT10eXBlb2YgZT94LmluQXJyYXkodGhpc1swXSx4KGUpKTp4LmluQXJyYXkoZS5qcXVlcnk/ZVswXTplLHRoaXMpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGUsdCl7dmFyIG49InN0cmluZyI9PXR5cGVvZiBlP3goZSx0KTp4Lm1ha2VBcnJheShlJiZlLm5vZGVUeXBlP1tlXTplKSxyPXgubWVyZ2UodGhpcy5nZXQoKSxuKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeC51bmlxdWUocikpfSxhZGRCYWNrOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFkZChudWxsPT1lP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKGUpKX19KTtmdW5jdGlvbiBwdChlLHQpe2RvIGU9ZVt0XTt3aGlsZShlJiYxIT09ZS5ub2RlVHlwZSk7cmV0dXJuIGV9eC5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiYxMSE9PXQubm9kZVR5cGU/dDpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGUpe3JldHVybiB4LmRpcihlLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHguZGlyKGUsInBhcmVudE5vZGUiLG4pfSxuZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBwdChlLCJuZXh0U2libGluZyIpfSxwcmV2OmZ1bmN0aW9uKGUpe3JldHVybiBwdChlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtyZXR1cm4geC5kaXIoZSwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihlKXtyZXR1cm4geC5kaXIoZSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHguZGlyKGUsIm5leHRTaWJsaW5nIixuKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4geC5kaXIoZSwicHJldmlvdXNTaWJsaW5nIixuKX0sc2libGluZ3M6ZnVuY3Rpb24oZSl7cmV0dXJuIHguc2libGluZygoZS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIHguc2libGluZyhlLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihlKXtyZXR1cm4geC5ub2RlTmFtZShlLCJpZnJhbWUiKT9lLmNvbnRlbnREb2N1bWVudHx8ZS5jb250ZW50V2luZG93LmRvY3VtZW50OngubWVyZ2UoW10sZS5jaGlsZE5vZGVzKX19LGZ1bmN0aW9uKGUsdCl7eC5mbltlXT1mdW5jdGlvbihuLHIpe3ZhciBpPXgubWFwKHRoaXMsdCxuKTtyZXR1cm4iVW50aWwiIT09ZS5zbGljZSgtNSkmJihyPW4pLHImJiJzdHJpbmciPT10eXBlb2YgciYmKGk9eC5maWx0ZXIocixpKSksdGhpcy5sZW5ndGg+MSYmKGN0W2VdfHwoaT14LnVuaXF1ZShpKSksbHQudGVzdChlKSYmKGk9aS5yZXZlcnNlKCkpKSx0aGlzLnB1c2hTdGFjayhpKX19KSx4LmV4dGVuZCh7ZmlsdGVyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10WzBdO3JldHVybiBuJiYoZT0iOm5vdCgiK2UrIikiKSwxPT09dC5sZW5ndGgmJjE9PT1yLm5vZGVUeXBlP3guZmluZC5tYXRjaGVzU2VsZWN0b3IocixlKT9bcl06W106eC5maW5kLm1hdGNoZXMoZSx4LmdyZXAodCxmdW5jdGlvbihlKXtyZXR1cm4gMT09PWUubm9kZVR5cGV9KSl9LGRpcjpmdW5jdGlvbihlLG4scil7dmFyIGk9W10sbz1lW25dO3doaWxlKG8mJjkhPT1vLm5vZGVUeXBlJiYocj09PXR8fDEhPT1vLm5vZGVUeXBlfHwheChvKS5pcyhyKSkpMT09PW8ubm9kZVR5cGUmJmkucHVzaChvKSxvPW9bbl07cmV0dXJuIGl9LHNpYmxpbmc6ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXTtmb3IoO2U7ZT1lLm5leHRTaWJsaW5nKTE9PT1lLm5vZGVUeXBlJiZlIT09dCYmbi5wdXNoKGUpO3JldHVybiBufX0pO2Z1bmN0aW9uIGZ0KGUsdCxuKXtpZih4LmlzRnVuY3Rpb24odCkpcmV0dXJuIHguZ3JlcChlLGZ1bmN0aW9uKGUscil7cmV0dXJuISF0LmNhbGwoZSxyLGUpIT09bn0pO2lmKHQubm9kZVR5cGUpcmV0dXJuIHguZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dCE9PW59KTtpZigic3RyaW5nIj09dHlwZW9mIHQpe2lmKHN0LnRlc3QodCkpcmV0dXJuIHguZmlsdGVyKHQsZSxuKTt0PXguZmlsdGVyKHQsZSl9cmV0dXJuIHguZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybiB4LmluQXJyYXkoZSx0KT49MCE9PW59KX1mdW5jdGlvbiBkdChlKXt2YXIgdD1odC5zcGxpdCgifCIpLG49ZS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7aWYobi5jcmVhdGVFbGVtZW50KXdoaWxlKHQubGVuZ3RoKW4uY3JlYXRlRWxlbWVudCh0LnBvcCgpKTtyZXR1cm4gbn12YXIgaHQ9ImFiYnJ8YXJ0aWNsZXxhc2lkZXxhdWRpb3xiZGl8Y2FudmFzfGRhdGF8ZGF0YWxpc3R8ZGV0YWlsc3xmaWdjYXB0aW9ufGZpZ3VyZXxmb290ZXJ8aGVhZGVyfGhncm91cHxtYXJrfG1ldGVyfG5hdnxvdXRwdXR8cHJvZ3Jlc3N8c2VjdGlvbnxzdW1tYXJ5fHRpbWV8dmlkZW8iLGd0PS8galF1ZXJ5XGQrPSIoPzpudWxsfFxkKykiL2csbXQ9UmVnRXhwKCI8KD86IitodCsiKVtcXHMvPl0iLCJpIikseXQ9L15ccysvLHZ0PS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzpdKylbXj5dKilcLz4vZ2ksYnQ9LzwoW1x3Ol0rKS8seHQ9Lzx0Ym9keS9pLHd0PS88fCYjP1x3KzsvLFR0PS88KD86c2NyaXB0fHN0eWxlfGxpbmspL2ksQ3Q9L14oPzpjaGVja2JveHxyYWRpbykkL2ksTnQ9L2NoZWNrZWRccyooPzpbXj1dfD1ccyouY2hlY2tlZC4pL2ksa3Q9L14kfFwvKD86amF2YXxlY21hKXNjcmlwdC9pLEV0PS9edHJ1ZVwvKC4qKS8sU3Q9L15ccyo8ISg/OlxbQ0RBVEFcW3wtLSl8KD86XF1cXXwtLSk+XHMqJC9nLEF0PXtvcHRpb246WzEsIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz4iLCI8L3NlbGVjdD4iXSxsZWdlbmQ6WzEsIjxmaWVsZHNldD4iLCI8L2ZpZWxkc2V0PiJdLGFyZWE6WzEsIjxtYXA+IiwiPC9tYXA+Il0scGFyYW06WzEsIjxvYmplY3Q+IiwiPC9vYmplY3Q+Il0sdGhlYWQ6WzEsIjx0YWJsZT4iLCI8L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48dGJvZHk+PC90Ym9keT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRkOlszLCI8dGFibGU+PHRib2R5Pjx0cj4iLCI8L3RyPjwvdGJvZHk+PC90YWJsZT4iXSxfZGVmYXVsdDp4LnN1cHBvcnQuaHRtbFNlcmlhbGl6ZT9bMCwiIiwiIl06WzEsIlg8ZGl2PiIsIjwvZGl2PiJdfSxqdD1kdChhKSxEdD1qdC5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQoImRpdiIpKTtBdC5vcHRncm91cD1BdC5vcHRpb24sQXQudGJvZHk9QXQudGZvb3Q9QXQuY29sZ3JvdXA9QXQuY2FwdGlvbj1BdC50aGVhZCxBdC50aD1BdC50ZCx4LmZuLmV4dGVuZCh7dGV4dDpmdW5jdGlvbihlKXtyZXR1cm4geC5hY2Nlc3ModGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gZT09PXQ/eC50ZXh0KHRoaXMpOnRoaXMuZW1wdHkoKS5hcHBlbmQoKHRoaXNbMF0mJnRoaXNbMF0ub3duZXJEb2N1bWVudHx8YSkuY3JlYXRlVGV4dE5vZGUoZSkpfSxudWxsLGUsYXJndW1lbnRzLmxlbmd0aCl9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9THQodGhpcyxlKTt0LmFwcGVuZENoaWxkKGUpfX0pfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGUpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgdD1MdCh0aGlzLGUpO3QuaW5zZXJ0QmVmb3JlKGUsdC5maXJzdENoaWxkKX19KX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLHRoaXMpfSl9LGFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLHRoaXMubmV4dFNpYmxpbmcpfSl9LHJlbW92ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9ZT94LmZpbHRlcihlLHRoaXMpOnRoaXMsaT0wO2Zvcig7bnVsbCE9KG49cltpXSk7aSsrKXR8fDEhPT1uLm5vZGVUeXBlfHx4LmNsZWFuRGF0YShGdChuKSksbi5wYXJlbnROb2RlJiYodCYmeC5jb250YWlucyhuLm93bmVyRG9jdW1lbnQsbikmJl90KEZ0KG4sInNjcmlwdCIpKSxuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobikpO3JldHVybiB0aGlzfSxlbXB0eTpmdW5jdGlvbigpe3ZhciBlLHQ9MDtmb3IoO251bGwhPShlPXRoaXNbdF0pO3QrKyl7MT09PWUubm9kZVR5cGUmJnguY2xlYW5EYXRhKEZ0KGUsITEpKTt3aGlsZShlLmZpcnN0Q2hpbGQpZS5yZW1vdmVDaGlsZChlLmZpcnN0Q2hpbGQpO2Uub3B0aW9ucyYmeC5ub2RlTmFtZShlLCJzZWxlY3QiKSYmKGUub3B0aW9ucy5sZW5ndGg9MCl9cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bnVsbD09ZT8hMTplLHQ9bnVsbD09dD9lOnQsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4geC5jbG9uZSh0aGlzLGUsdCl9KX0saHRtbDpmdW5jdGlvbihlKXtyZXR1cm4geC5hY2Nlc3ModGhpcyxmdW5jdGlvbihlKXt2YXIgbj10aGlzWzBdfHx7fSxyPTAsaT10aGlzLmxlbmd0aDtpZihlPT09dClyZXR1cm4gMT09PW4ubm9kZVR5cGU/bi5pbm5lckhUTUwucmVwbGFjZShndCwiIik6dDtpZighKCJzdHJpbmciIT10eXBlb2YgZXx8VHQudGVzdChlKXx8IXguc3VwcG9ydC5odG1sU2VyaWFsaXplJiZtdC50ZXN0KGUpfHwheC5zdXBwb3J0LmxlYWRpbmdXaGl0ZXNwYWNlJiZ5dC50ZXN0KGUpfHxBdFsoYnQuZXhlYyhlKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pKXtlPWUucmVwbGFjZSh2dCwiPCQxPjwvJDI+Iik7dHJ5e2Zvcig7aT5yO3IrKyluPXRoaXNbcl18fHt9LDE9PT1uLm5vZGVUeXBlJiYoeC5jbGVhbkRhdGEoRnQobiwhMSkpLG4uaW5uZXJIVE1MPWUpO249MH1jYXRjaChvKXt9fW4mJnRoaXMuZW1wdHkoKS5hcHBlbmQoZSl9LG51bGwsZSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oKXt2YXIgZT14Lm1hcCh0aGlzLGZ1bmN0aW9uKGUpe3JldHVybltlLm5leHRTaWJsaW5nLGUucGFyZW50Tm9kZV19KSx0PTA7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKG4pe3ZhciByPWVbdCsrXSxpPWVbdCsrXTtpJiYociYmci5wYXJlbnROb2RlIT09aSYmKHI9dGhpcy5uZXh0U2libGluZykseCh0aGlzKS5yZW1vdmUoKSxpLmluc2VydEJlZm9yZShuLHIpKX0sITApLHQ/dGhpczp0aGlzLnJlbW92ZSgpfSxkZXRhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmVtb3ZlKGUsITApfSxkb21NYW5pcDpmdW5jdGlvbihlLHQsbil7ZT1kLmFwcGx5KFtdLGUpO3ZhciByLGksbyxhLHMsbCx1PTAsYz10aGlzLmxlbmd0aCxwPXRoaXMsZj1jLTEsaD1lWzBdLGc9eC5pc0Z1bmN0aW9uKGgpO2lmKGd8fCEoMT49Y3x8InN0cmluZyIhPXR5cGVvZiBofHx4LnN1cHBvcnQuY2hlY2tDbG9uZSkmJk50LnRlc3QoaCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihyKXt2YXIgaT1wLmVxKHIpO2cmJihlWzBdPWguY2FsbCh0aGlzLHIsaS5odG1sKCkpKSxpLmRvbU1hbmlwKGUsdCxuKX0pO2lmKGMmJihsPXguYnVpbGRGcmFnbWVudChlLHRoaXNbMF0ub3duZXJEb2N1bWVudCwhMSwhbiYmdGhpcykscj1sLmZpcnN0Q2hpbGQsMT09PWwuY2hpbGROb2Rlcy5sZW5ndGgmJihsPXIpLHIpKXtmb3IoYT14Lm1hcChGdChsLCJzY3JpcHQiKSxIdCksbz1hLmxlbmd0aDtjPnU7dSsrKWk9bCx1IT09ZiYmKGk9eC5jbG9uZShpLCEwLCEwKSxvJiZ4Lm1lcmdlKGEsRnQoaSwic2NyaXB0IikpKSx0LmNhbGwodGhpc1t1XSxpLHUpO2lmKG8pZm9yKHM9YVthLmxlbmd0aC0xXS5vd25lckRvY3VtZW50LHgubWFwKGEscXQpLHU9MDtvPnU7dSsrKWk9YVt1XSxrdC50ZXN0KGkudHlwZXx8IiIpJiYheC5fZGF0YShpLCJnbG9iYWxFdmFsIikmJnguY29udGFpbnMocyxpKSYmKGkuc3JjP3guX2V2YWxVcmwoaS5zcmMpOnguZ2xvYmFsRXZhbCgoaS50ZXh0fHxpLnRleHRDb250ZW50fHxpLmlubmVySFRNTHx8IiIpLnJlcGxhY2UoU3QsIiIpKSk7bD1yPW51bGx9cmV0dXJuIHRoaXN9fSk7ZnVuY3Rpb24gTHQoZSx0KXtyZXR1cm4geC5ub2RlTmFtZShlLCJ0YWJsZSIpJiZ4Lm5vZGVOYW1lKDE9PT10Lm5vZGVUeXBlP3Q6dC5maXJzdENoaWxkLCJ0ciIpP2UuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IilbMF18fGUuYXBwZW5kQ2hpbGQoZS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5IikpOmV9ZnVuY3Rpb24gSHQoZSl7cmV0dXJuIGUudHlwZT0obnVsbCE9PXguZmluZC5hdHRyKGUsInR5cGUiKSkrIi8iK2UudHlwZSxlfWZ1bmN0aW9uIHF0KGUpe3ZhciB0PUV0LmV4ZWMoZS50eXBlKTtyZXR1cm4gdD9lLnR5cGU9dFsxXTplLnJlbW92ZUF0dHJpYnV0ZSgidHlwZSIpLGV9ZnVuY3Rpb24gX3QoZSx0KXt2YXIgbixyPTA7Zm9yKDtudWxsIT0obj1lW3JdKTtyKyspeC5fZGF0YShuLCJnbG9iYWxFdmFsIiwhdHx8eC5fZGF0YSh0W3JdLCJnbG9iYWxFdmFsIikpfWZ1bmN0aW9uIE10KGUsdCl7aWYoMT09PXQubm9kZVR5cGUmJnguaGFzRGF0YShlKSl7dmFyIG4scixpLG89eC5fZGF0YShlKSxhPXguX2RhdGEodCxvKSxzPW8uZXZlbnRzO2lmKHMpe2RlbGV0ZSBhLmhhbmRsZSxhLmV2ZW50cz17fTtmb3IobiBpbiBzKWZvcihyPTAsaT1zW25dLmxlbmd0aDtpPnI7cisrKXguZXZlbnQuYWRkKHQsbixzW25dW3JdKX1hLmRhdGEmJihhLmRhdGE9eC5leHRlbmQoe30sYS5kYXRhKSl9fWZ1bmN0aW9uIE90KGUsdCl7dmFyIG4scixpO2lmKDE9PT10Lm5vZGVUeXBlKXtpZihuPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwheC5zdXBwb3J0Lm5vQ2xvbmVFdmVudCYmdFt4LmV4cGFuZG9dKXtpPXguX2RhdGEodCk7Zm9yKHIgaW4gaS5ldmVudHMpeC5yZW1vdmVFdmVudCh0LHIsaS5oYW5kbGUpO3QucmVtb3ZlQXR0cmlidXRlKHguZXhwYW5kbyl9InNjcmlwdCI9PT1uJiZ0LnRleHQhPT1lLnRleHQ/KEh0KHQpLnRleHQ9ZS50ZXh0LHF0KHQpKToib2JqZWN0Ij09PW4/KHQucGFyZW50Tm9kZSYmKHQub3V0ZXJIVE1MPWUub3V0ZXJIVE1MKSx4LnN1cHBvcnQuaHRtbDVDbG9uZSYmZS5pbm5lckhUTUwmJiF4LnRyaW0odC5pbm5lckhUTUwpJiYodC5pbm5lckhUTUw9ZS5pbm5lckhUTUwpKToiaW5wdXQiPT09biYmQ3QudGVzdChlLnR5cGUpPyh0LmRlZmF1bHRDaGVja2VkPXQuY2hlY2tlZD1lLmNoZWNrZWQsdC52YWx1ZSE9PWUudmFsdWUmJih0LnZhbHVlPWUudmFsdWUpKToib3B0aW9uIj09PW4/dC5kZWZhdWx0U2VsZWN0ZWQ9dC5zZWxlY3RlZD1lLmRlZmF1bHRTZWxlY3RlZDooImlucHV0Ij09PW58fCJ0ZXh0YXJlYSI9PT1uKSYmKHQuZGVmYXVsdFZhbHVlPWUuZGVmYXVsdFZhbHVlKX19eC5lYWNoKHthcHBlbmRUbzoiYXBwZW5kIixwcmVwZW5kVG86InByZXBlbmQiLGluc2VydEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24oZSx0KXt4LmZuW2VdPWZ1bmN0aW9uKGUpe3ZhciBuLHI9MCxpPVtdLG89eChlKSxhPW8ubGVuZ3RoLTE7Zm9yKDthPj1yO3IrKyluPXI9PT1hP3RoaXM6dGhpcy5jbG9uZSghMCkseChvW3JdKVt0XShuKSxoLmFwcGx5KGksbi5nZXQoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGkpfX0pO2Z1bmN0aW9uIEZ0KGUsbil7dmFyIHIsbyxhPTAscz10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZSE9PWk/ZS5nZXRFbGVtZW50c0J5VGFnTmFtZShufHwiKiIpOnR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGwhPT1pP2UucXVlcnlTZWxlY3RvckFsbChufHwiKiIpOnQ7aWYoIXMpZm9yKHM9W10scj1lLmNoaWxkTm9kZXN8fGU7bnVsbCE9KG89clthXSk7YSsrKSFufHx4Lm5vZGVOYW1lKG8sbik/cy5wdXNoKG8pOngubWVyZ2UocyxGdChvLG4pKTtyZXR1cm4gbj09PXR8fG4mJngubm9kZU5hbWUoZSxuKT94Lm1lcmdlKFtlXSxzKTpzfWZ1bmN0aW9uIEJ0KGUpe0N0LnRlc3QoZS50eXBlKSYmKGUuZGVmYXVsdENoZWNrZWQ9ZS5jaGVja2VkKX14LmV4dGVuZCh7Y2xvbmU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhLHMsbD14LmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKTtpZih4LnN1cHBvcnQuaHRtbDVDbG9uZXx8eC5pc1hNTERvYyhlKXx8IW10LnRlc3QoIjwiK2Uubm9kZU5hbWUrIj4iKT9vPWUuY2xvbmVOb2RlKCEwKTooRHQuaW5uZXJIVE1MPWUub3V0ZXJIVE1MLER0LnJlbW92ZUNoaWxkKG89RHQuZmlyc3RDaGlsZCkpLCEoeC5zdXBwb3J0Lm5vQ2xvbmVFdmVudCYmeC5zdXBwb3J0Lm5vQ2xvbmVDaGVja2VkfHwxIT09ZS5ub2RlVHlwZSYmMTEhPT1lLm5vZGVUeXBlfHx4LmlzWE1MRG9jKGUpKSlmb3Iocj1GdChvKSxzPUZ0KGUpLGE9MDtudWxsIT0oaT1zW2FdKTsrK2EpclthXSYmT3QoaSxyW2FdKTtpZih0KWlmKG4pZm9yKHM9c3x8RnQoZSkscj1yfHxGdChvKSxhPTA7bnVsbCE9KGk9c1thXSk7YSsrKU10KGksclthXSk7ZWxzZSBNdChlLG8pO3JldHVybiByPUZ0KG8sInNjcmlwdCIpLHIubGVuZ3RoPjAmJl90KHIsIWwmJkZ0KGUsInNjcmlwdCIpKSxyPXM9aT1udWxsLG99LGJ1aWxkRnJhZ21lbnQ6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxhLHMsbCx1LGMscD1lLmxlbmd0aCxmPWR0KHQpLGQ9W10saD0wO2Zvcig7cD5oO2grKylpZihvPWVbaF0sb3x8MD09PW8paWYoIm9iamVjdCI9PT14LnR5cGUobykpeC5tZXJnZShkLG8ubm9kZVR5cGU/W29dOm8pO2Vsc2UgaWYod3QudGVzdChvKSl7cz1zfHxmLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLGw9KGJ0LmV4ZWMobyl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksYz1BdFtsXXx8QXQuX2RlZmF1bHQscy5pbm5lckhUTUw9Y1sxXStvLnJlcGxhY2UodnQsIjwkMT48LyQyPiIpK2NbMl0saT1jWzBdO3doaWxlKGktLSlzPXMubGFzdENoaWxkO2lmKCF4LnN1cHBvcnQubGVhZGluZ1doaXRlc3BhY2UmJnl0LnRlc3QobykmJmQucHVzaCh0LmNyZWF0ZVRleHROb2RlKHl0LmV4ZWMobylbMF0pKSwheC5zdXBwb3J0LnRib2R5KXtvPSJ0YWJsZSIhPT1sfHx4dC50ZXN0KG8pPyI8dGFibGU+IiE9PWNbMV18fHh0LnRlc3Qobyk/MDpzOnMuZmlyc3RDaGlsZCxpPW8mJm8uY2hpbGROb2Rlcy5sZW5ndGg7d2hpbGUoaS0tKXgubm9kZU5hbWUodT1vLmNoaWxkTm9kZXNbaV0sInRib2R5IikmJiF1LmNoaWxkTm9kZXMubGVuZ3RoJiZvLnJlbW92ZUNoaWxkKHUpfXgubWVyZ2UoZCxzLmNoaWxkTm9kZXMpLHMudGV4dENvbnRlbnQ9IiI7d2hpbGUocy5maXJzdENoaWxkKXMucmVtb3ZlQ2hpbGQocy5maXJzdENoaWxkKTtzPWYubGFzdENoaWxkfWVsc2UgZC5wdXNoKHQuY3JlYXRlVGV4dE5vZGUobykpO3MmJmYucmVtb3ZlQ2hpbGQocykseC5zdXBwb3J0LmFwcGVuZENoZWNrZWR8fHguZ3JlcChGdChkLCJpbnB1dCIpLEJ0KSxoPTA7d2hpbGUobz1kW2grK10paWYoKCFyfHwtMT09PXguaW5BcnJheShvLHIpKSYmKGE9eC5jb250YWlucyhvLm93bmVyRG9jdW1lbnQsbykscz1GdChmLmFwcGVuZENoaWxkKG8pLCJzY3JpcHQiKSxhJiZfdChzKSxuKSl7aT0wO3doaWxlKG89c1tpKytdKWt0LnRlc3Qoby50eXBlfHwiIikmJm4ucHVzaChvKX1yZXR1cm4gcz1udWxsLGZ9LGNsZWFuRGF0YTpmdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxhLHM9MCxsPXguZXhwYW5kbyx1PXguY2FjaGUsYz14LnN1cHBvcnQuZGVsZXRlRXhwYW5kbyxmPXguZXZlbnQuc3BlY2lhbDtmb3IoO251bGwhPShuPWVbc10pO3MrKylpZigodHx8eC5hY2NlcHREYXRhKG4pKSYmKG89bltsXSxhPW8mJnVbb10pKXtpZihhLmV2ZW50cylmb3IociBpbiBhLmV2ZW50cylmW3JdP3guZXZlbnQucmVtb3ZlKG4scik6eC5yZW1vdmVFdmVudChuLHIsYS5oYW5kbGUpOwp1W29dJiYoZGVsZXRlIHVbb10sYz9kZWxldGUgbltsXTp0eXBlb2Ygbi5yZW1vdmVBdHRyaWJ1dGUhPT1pP24ucmVtb3ZlQXR0cmlidXRlKGwpOm5bbF09bnVsbCxwLnB1c2gobykpfX0sX2V2YWxVcmw6ZnVuY3Rpb24oZSl7cmV0dXJuIHguYWpheCh7dXJsOmUsdHlwZToiR0VUIixkYXRhVHlwZToic2NyaXB0Iixhc3luYzohMSxnbG9iYWw6ITEsInRocm93cyI6ITB9KX19KSx4LmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihlKXtpZih4LmlzRnVuY3Rpb24oZSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXt4KHRoaXMpLndyYXBBbGwoZS5jYWxsKHRoaXMsdCkpfSk7aWYodGhpc1swXSl7dmFyIHQ9eChlLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApO3RoaXNbMF0ucGFyZW50Tm9kZSYmdC5pbnNlcnRCZWZvcmUodGhpc1swXSksdC5tYXAoZnVuY3Rpb24oKXt2YXIgZT10aGlzO3doaWxlKGUuZmlyc3RDaGlsZCYmMT09PWUuZmlyc3RDaGlsZC5ub2RlVHlwZSllPWUuZmlyc3RDaGlsZDtyZXR1cm4gZX0pLmFwcGVuZCh0aGlzKX1yZXR1cm4gdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKGUpe3JldHVybiB4LmlzRnVuY3Rpb24oZSk/dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3godGhpcykud3JhcElubmVyKGUuY2FsbCh0aGlzLHQpKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PXgodGhpcyksbj10LmNvbnRlbnRzKCk7bi5sZW5ndGg/bi53cmFwQWxsKGUpOnQuYXBwZW5kKGUpfSl9LHdyYXA6ZnVuY3Rpb24oZSl7dmFyIHQ9eC5pc0Z1bmN0aW9uKGUpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24obil7eCh0aGlzKS53cmFwQWxsKHQ/ZS5jYWxsKHRoaXMsbik6ZSl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe3gubm9kZU5hbWUodGhpcywiYm9keSIpfHx4KHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KS5lbmQoKX19KTt2YXIgUHQsUnQsV3QsJHQ9L2FscGhhXChbXildKlwpL2ksSXQ9L29wYWNpdHlccyo9XHMqKFteKV0qKS8senQ9L14odG9wfHJpZ2h0fGJvdHRvbXxsZWZ0KSQvLFh0PS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxVdD0vXm1hcmdpbi8sVnQ9UmVnRXhwKCJeKCIrdysiKSguKikkIiwiaSIpLFl0PVJlZ0V4cCgiXigiK3crIikoPyFweClbYS16JV0rJCIsImkiKSxKdD1SZWdFeHAoIl4oWystXSk9KCIrdysiKSIsImkiKSxHdD17Qk9EWToiYmxvY2sifSxRdD17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sS3Q9e2xldHRlclNwYWNpbmc6MCxmb250V2VpZ2h0OjQwMH0sWnQ9WyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxlbj1bIldlYmtpdCIsIk8iLCJNb3oiLCJtcyJdO2Z1bmN0aW9uIHRuKGUsdCl7aWYodCBpbiBlKXJldHVybiB0O3ZhciBuPXQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKSxyPXQsaT1lbi5sZW5ndGg7d2hpbGUoaS0tKWlmKHQ9ZW5baV0rbix0IGluIGUpcmV0dXJuIHQ7cmV0dXJuIHJ9ZnVuY3Rpb24gbm4oZSx0KXtyZXR1cm4gZT10fHxlLCJub25lIj09PXguY3NzKGUsImRpc3BsYXkiKXx8IXguY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpfWZ1bmN0aW9uIHJuKGUsdCl7dmFyIG4scixpLG89W10sYT0wLHM9ZS5sZW5ndGg7Zm9yKDtzPmE7YSsrKXI9ZVthXSxyLnN0eWxlJiYob1thXT14Ll9kYXRhKHIsIm9sZGRpc3BsYXkiKSxuPXIuc3R5bGUuZGlzcGxheSx0PyhvW2FdfHwibm9uZSIhPT1ufHwoci5zdHlsZS5kaXNwbGF5PSIiKSwiIj09PXIuc3R5bGUuZGlzcGxheSYmbm4ocikmJihvW2FdPXguX2RhdGEociwib2xkZGlzcGxheSIsbG4oci5ub2RlTmFtZSkpKSk6b1thXXx8KGk9bm4ociksKG4mJiJub25lIiE9PW58fCFpKSYmeC5fZGF0YShyLCJvbGRkaXNwbGF5IixpP246eC5jc3MociwiZGlzcGxheSIpKSkpO2ZvcihhPTA7cz5hO2ErKylyPWVbYV0sci5zdHlsZSYmKHQmJiJub25lIiE9PXIuc3R5bGUuZGlzcGxheSYmIiIhPT1yLnN0eWxlLmRpc3BsYXl8fChyLnN0eWxlLmRpc3BsYXk9dD9vW2FdfHwiIjoibm9uZSIpKTtyZXR1cm4gZX14LmZuLmV4dGVuZCh7Y3NzOmZ1bmN0aW9uKGUsbil7cmV0dXJuIHguYWNjZXNzKHRoaXMsZnVuY3Rpb24oZSxuLHIpe3ZhciBpLG8sYT17fSxzPTA7aWYoeC5pc0FycmF5KG4pKXtmb3Iobz1SdChlKSxpPW4ubGVuZ3RoO2k+cztzKyspYVtuW3NdXT14LmNzcyhlLG5bc10sITEsbyk7cmV0dXJuIGF9cmV0dXJuIHIhPT10P3guc3R5bGUoZSxuLHIpOnguY3NzKGUsbil9LGUsbixhcmd1bWVudHMubGVuZ3RoPjEpfSxzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIHJuKHRoaXMsITApfSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIHJuKHRoaXMpfSx0b2dnbGU6ZnVuY3Rpb24oZSl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgZT9lP3RoaXMuc2hvdygpOnRoaXMuaGlkZSgpOnRoaXMuZWFjaChmdW5jdGlvbigpe25uKHRoaXMpP3godGhpcykuc2hvdygpOngodGhpcykuaGlkZSgpfSl9fSkseC5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oZSx0KXtpZih0KXt2YXIgbj1XdChlLCJvcGFjaXR5Iik7cmV0dXJuIiI9PT1uPyIxIjpufX19fSxjc3NOdW1iZXI6e2NvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZvbnRXZWlnaHQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwfSxjc3NQcm9wczp7ImZsb2F0Ijp4LnN1cHBvcnQuY3NzRmxvYXQ/ImNzc0Zsb2F0Ijoic3R5bGVGbG9hdCJ9LHN0eWxlOmZ1bmN0aW9uKGUsbixyLGkpe2lmKGUmJjMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmZS5zdHlsZSl7dmFyIG8sYSxzLGw9eC5jYW1lbENhc2UobiksdT1lLnN0eWxlO2lmKG49eC5jc3NQcm9wc1tsXXx8KHguY3NzUHJvcHNbbF09dG4odSxsKSkscz14LmNzc0hvb2tzW25dfHx4LmNzc0hvb2tzW2xdLHI9PT10KXJldHVybiBzJiYiZ2V0ImluIHMmJihvPXMuZ2V0KGUsITEsaSkpIT09dD9vOnVbbl07aWYoYT10eXBlb2Ygciwic3RyaW5nIj09PWEmJihvPUp0LmV4ZWMocikpJiYocj0ob1sxXSsxKSpvWzJdK3BhcnNlRmxvYXQoeC5jc3MoZSxuKSksYT0ibnVtYmVyIiksIShudWxsPT1yfHwibnVtYmVyIj09PWEmJmlzTmFOKHIpfHwoIm51bWJlciIhPT1hfHx4LmNzc051bWJlcltsXXx8KHIrPSJweCIpLHguc3VwcG9ydC5jbGVhckNsb25lU3R5bGV8fCIiIT09cnx8MCE9PW4uaW5kZXhPZigiYmFja2dyb3VuZCIpfHwodVtuXT0iaW5oZXJpdCIpLHMmJiJzZXQiaW4gcyYmKHI9cy5zZXQoZSxyLGkpKT09PXQpKSl0cnl7dVtuXT1yfWNhdGNoKGMpe319fSxjc3M6ZnVuY3Rpb24oZSxuLHIsaSl7dmFyIG8sYSxzLGw9eC5jYW1lbENhc2Uobik7cmV0dXJuIG49eC5jc3NQcm9wc1tsXXx8KHguY3NzUHJvcHNbbF09dG4oZS5zdHlsZSxsKSkscz14LmNzc0hvb2tzW25dfHx4LmNzc0hvb2tzW2xdLHMmJiJnZXQiaW4gcyYmKGE9cy5nZXQoZSwhMCxyKSksYT09PXQmJihhPVd0KGUsbixpKSksIm5vcm1hbCI9PT1hJiZuIGluIEt0JiYoYT1LdFtuXSksIiI9PT1yfHxyPyhvPXBhcnNlRmxvYXQoYSkscj09PSEwfHx4LmlzTnVtZXJpYyhvKT9vfHwwOmEpOmF9fSksZS5nZXRDb21wdXRlZFN0eWxlPyhSdD1mdW5jdGlvbih0KXtyZXR1cm4gZS5nZXRDb21wdXRlZFN0eWxlKHQsbnVsbCl9LFd0PWZ1bmN0aW9uKGUsbixyKXt2YXIgaSxvLGEscz1yfHxSdChlKSxsPXM/cy5nZXRQcm9wZXJ0eVZhbHVlKG4pfHxzW25dOnQsdT1lLnN0eWxlO3JldHVybiBzJiYoIiIhPT1sfHx4LmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKXx8KGw9eC5zdHlsZShlLG4pKSxZdC50ZXN0KGwpJiZVdC50ZXN0KG4pJiYoaT11LndpZHRoLG89dS5taW5XaWR0aCxhPXUubWF4V2lkdGgsdS5taW5XaWR0aD11Lm1heFdpZHRoPXUud2lkdGg9bCxsPXMud2lkdGgsdS53aWR0aD1pLHUubWluV2lkdGg9byx1Lm1heFdpZHRoPWEpKSxsfSk6YS5kb2N1bWVudEVsZW1lbnQuY3VycmVudFN0eWxlJiYoUnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY3VycmVudFN0eWxlfSxXdD1mdW5jdGlvbihlLG4scil7dmFyIGksbyxhLHM9cnx8UnQoZSksbD1zP3Nbbl06dCx1PWUuc3R5bGU7cmV0dXJuIG51bGw9PWwmJnUmJnVbbl0mJihsPXVbbl0pLFl0LnRlc3QobCkmJiF6dC50ZXN0KG4pJiYoaT11LmxlZnQsbz1lLnJ1bnRpbWVTdHlsZSxhPW8mJm8ubGVmdCxhJiYoby5sZWZ0PWUuY3VycmVudFN0eWxlLmxlZnQpLHUubGVmdD0iZm9udFNpemUiPT09bj8iMWVtIjpsLGw9dS5waXhlbExlZnQrInB4Iix1LmxlZnQ9aSxhJiYoby5sZWZ0PWEpKSwiIj09PWw/ImF1dG8iOmx9KTtmdW5jdGlvbiBvbihlLHQsbil7dmFyIHI9VnQuZXhlYyh0KTtyZXR1cm4gcj9NYXRoLm1heCgwLHJbMV0tKG58fDApKSsoclsyXXx8InB4Iik6dH1mdW5jdGlvbiBhbihlLHQsbixyLGkpe3ZhciBvPW49PT0ocj8iYm9yZGVyIjoiY29udGVudCIpPzQ6IndpZHRoIj09PXQ/MTowLGE9MDtmb3IoOzQ+bztvKz0yKSJtYXJnaW4iPT09biYmKGErPXguY3NzKGUsbitadFtvXSwhMCxpKSkscj8oImNvbnRlbnQiPT09biYmKGEtPXguY3NzKGUsInBhZGRpbmciK1p0W29dLCEwLGkpKSwibWFyZ2luIiE9PW4mJihhLT14LmNzcyhlLCJib3JkZXIiK1p0W29dKyJXaWR0aCIsITAsaSkpKTooYSs9eC5jc3MoZSwicGFkZGluZyIrWnRbb10sITAsaSksInBhZGRpbmciIT09biYmKGErPXguY3NzKGUsImJvcmRlciIrWnRbb10rIldpZHRoIiwhMCxpKSkpO3JldHVybiBhfWZ1bmN0aW9uIHNuKGUsdCxuKXt2YXIgcj0hMCxpPSJ3aWR0aCI9PT10P2Uub2Zmc2V0V2lkdGg6ZS5vZmZzZXRIZWlnaHQsbz1SdChlKSxhPXguc3VwcG9ydC5ib3hTaXppbmcmJiJib3JkZXItYm94Ij09PXguY3NzKGUsImJveFNpemluZyIsITEsbyk7aWYoMD49aXx8bnVsbD09aSl7aWYoaT1XdChlLHQsbyksKDA+aXx8bnVsbD09aSkmJihpPWUuc3R5bGVbdF0pLFl0LnRlc3QoaSkpcmV0dXJuIGk7cj1hJiYoeC5zdXBwb3J0LmJveFNpemluZ1JlbGlhYmxlfHxpPT09ZS5zdHlsZVt0XSksaT1wYXJzZUZsb2F0KGkpfHwwfXJldHVybiBpK2FuKGUsdCxufHwoYT8iYm9yZGVyIjoiY29udGVudCIpLHIsbykrInB4In1mdW5jdGlvbiBsbihlKXt2YXIgdD1hLG49R3RbZV07cmV0dXJuIG58fChuPXVuKGUsdCksIm5vbmUiIT09biYmbnx8KFB0PShQdHx8eCgiPGlmcmFtZSBmcmFtZWJvcmRlcj0nMCcgd2lkdGg9JzAnIGhlaWdodD0nMCcvPiIpLmNzcygiY3NzVGV4dCIsImRpc3BsYXk6YmxvY2sgIWltcG9ydGFudCIpKS5hcHBlbmRUbyh0LmRvY3VtZW50RWxlbWVudCksdD0oUHRbMF0uY29udGVudFdpbmRvd3x8UHRbMF0uY29udGVudERvY3VtZW50KS5kb2N1bWVudCx0LndyaXRlKCI8IWRvY3R5cGUgaHRtbD48aHRtbD48Ym9keT4iKSx0LmNsb3NlKCksbj11bihlLHQpLFB0LmRldGFjaCgpKSxHdFtlXT1uKSxufWZ1bmN0aW9uIHVuKGUsdCl7dmFyIG49eCh0LmNyZWF0ZUVsZW1lbnQoZSkpLmFwcGVuZFRvKHQuYm9keSkscj14LmNzcyhuWzBdLCJkaXNwbGF5Iik7cmV0dXJuIG4ucmVtb3ZlKCkscn14LmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKGUsbil7eC5jc3NIb29rc1tuXT17Z2V0OmZ1bmN0aW9uKGUscixpKXtyZXR1cm4gcj8wPT09ZS5vZmZzZXRXaWR0aCYmWHQudGVzdCh4LmNzcyhlLCJkaXNwbGF5IikpP3guc3dhcChlLFF0LGZ1bmN0aW9uKCl7cmV0dXJuIHNuKGUsbixpKX0pOnNuKGUsbixpKTp0fSxzZXQ6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXImJlJ0KGUpO3JldHVybiBvbihlLHQscj9hbihlLG4scix4LnN1cHBvcnQuYm94U2l6aW5nJiYiYm9yZGVyLWJveCI9PT14LmNzcyhlLCJib3hTaXppbmciLCExLGkpLGkpOjApfX19KSx4LnN1cHBvcnQub3BhY2l0eXx8KHguY3NzSG9va3Mub3BhY2l0eT17Z2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEl0LnRlc3QoKHQmJmUuY3VycmVudFN0eWxlP2UuY3VycmVudFN0eWxlLmZpbHRlcjplLnN0eWxlLmZpbHRlcil8fCIiKT8uMDEqcGFyc2VGbG9hdChSZWdFeHAuJDEpKyIiOnQ/IjEiOiIifSxzZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLnN0eWxlLHI9ZS5jdXJyZW50U3R5bGUsaT14LmlzTnVtZXJpYyh0KT8iYWxwaGEob3BhY2l0eT0iKzEwMCp0KyIpIjoiIixvPXImJnIuZmlsdGVyfHxuLmZpbHRlcnx8IiI7bi56b29tPTEsKHQ+PTF8fCIiPT09dCkmJiIiPT09eC50cmltKG8ucmVwbGFjZSgkdCwiIikpJiZuLnJlbW92ZUF0dHJpYnV0ZSYmKG4ucmVtb3ZlQXR0cmlidXRlKCJmaWx0ZXIiKSwiIj09PXR8fHImJiFyLmZpbHRlcil8fChuLmZpbHRlcj0kdC50ZXN0KG8pP28ucmVwbGFjZSgkdCxpKTpvKyIgIitpKX19KSx4KGZ1bmN0aW9uKCl7eC5zdXBwb3J0LnJlbGlhYmxlTWFyZ2luUmlnaHR8fCh4LmNzc0hvb2tzLm1hcmdpblJpZ2h0PXtnZXQ6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gbj94LnN3YXAoZSx7ZGlzcGxheToiaW5saW5lLWJsb2NrIn0sV3QsW2UsIm1hcmdpblJpZ2h0Il0pOnR9fSksIXguc3VwcG9ydC5waXhlbFBvc2l0aW9uJiZ4LmZuLnBvc2l0aW9uJiZ4LmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oZSxuKXt4LmNzc0hvb2tzW25dPXtnZXQ6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gcj8ocj1XdChlLG4pLFl0LnRlc3Qocik/eChlKS5wb3NpdGlvbigpW25dKyJweCI6cik6dH19fSl9KSx4LmV4cHImJnguZXhwci5maWx0ZXJzJiYoeC5leHByLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKGUpe3JldHVybiAwPj1lLm9mZnNldFdpZHRoJiYwPj1lLm9mZnNldEhlaWdodHx8IXguc3VwcG9ydC5yZWxpYWJsZUhpZGRlbk9mZnNldHMmJiJub25lIj09PShlLnN0eWxlJiZlLnN0eWxlLmRpc3BsYXl8fHguY3NzKGUsImRpc3BsYXkiKSl9LHguZXhwci5maWx0ZXJzLnZpc2libGU9ZnVuY3Rpb24oZSl7cmV0dXJuIXguZXhwci5maWx0ZXJzLmhpZGRlbihlKX0pLHguZWFjaCh7bWFyZ2luOiIiLHBhZGRpbmc6IiIsYm9yZGVyOiJXaWR0aCJ9LGZ1bmN0aW9uKGUsdCl7eC5jc3NIb29rc1tlK3RdPXtleHBhbmQ6ZnVuY3Rpb24obil7dmFyIHI9MCxpPXt9LG89InN0cmluZyI9PXR5cGVvZiBuP24uc3BsaXQoIiAiKTpbbl07Zm9yKDs0PnI7cisrKWlbZStadFtyXSt0XT1vW3JdfHxvW3ItMl18fG9bMF07cmV0dXJuIGl9fSxVdC50ZXN0KGUpfHwoeC5jc3NIb29rc1tlK3RdLnNldD1vbil9KTt2YXIgY249LyUyMC9nLHBuPS9cW1xdJC8sZm49L1xyP1xuL2csZG49L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLGhuPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTt4LmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHgucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT14LnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gZT94Lm1ha2VBcnJheShlKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiF4KHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYmaG4udGVzdCh0aGlzLm5vZGVOYW1lKSYmIWRuLnRlc3QoZSkmJih0aGlzLmNoZWNrZWR8fCFDdC50ZXN0KGUpKX0pLm1hcChmdW5jdGlvbihlLHQpe3ZhciBuPXgodGhpcykudmFsKCk7cmV0dXJuIG51bGw9PW4/bnVsbDp4LmlzQXJyYXkobik/eC5tYXAobixmdW5jdGlvbihlKXtyZXR1cm57bmFtZTp0Lm5hbWUsdmFsdWU6ZS5yZXBsYWNlKGZuLCJcclxuIil9fSk6e25hbWU6dC5uYW1lLHZhbHVlOm4ucmVwbGFjZShmbiwiXHJcbiIpfX0pLmdldCgpfX0pLHgucGFyYW09ZnVuY3Rpb24oZSxuKXt2YXIgcixpPVtdLG89ZnVuY3Rpb24oZSx0KXt0PXguaXNGdW5jdGlvbih0KT90KCk6bnVsbD09dD8iIjp0LGlbaS5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChlKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KHQpfTtpZihuPT09dCYmKG49eC5hamF4U2V0dGluZ3MmJnguYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsKSx4LmlzQXJyYXkoZSl8fGUuanF1ZXJ5JiYheC5pc1BsYWluT2JqZWN0KGUpKXguZWFjaChlLGZ1bmN0aW9uKCl7byh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihyIGluIGUpZ24ocixlW3JdLG4sbyk7cmV0dXJuIGkuam9pbigiJiIpLnJlcGxhY2UoY24sIisiKX07ZnVuY3Rpb24gZ24oZSx0LG4scil7dmFyIGk7aWYoeC5pc0FycmF5KHQpKXguZWFjaCh0LGZ1bmN0aW9uKHQsaSl7bnx8cG4udGVzdChlKT9yKGUsaSk6Z24oZSsiWyIrKCJvYmplY3QiPT10eXBlb2YgaT90OiIiKSsiXSIsaSxuLHIpfSk7ZWxzZSBpZihufHwib2JqZWN0IiE9PXgudHlwZSh0KSlyKGUsdCk7ZWxzZSBmb3IoaSBpbiB0KWduKGUrIlsiK2krIl0iLHRbaV0sbixyKX14LmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24oZSx0KXt4LmZuW3RdPWZ1bmN0aW9uKGUsbil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90aGlzLm9uKHQsbnVsbCxlLG4pOnRoaXMudHJpZ2dlcih0KX19KSx4LmZuLmV4dGVuZCh7aG92ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGUpLm1vdXNlbGVhdmUodHx8ZSl9LGJpbmQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLm9uKGUsbnVsbCx0LG4pfSx1bmJpbmQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5vZmYoZSxudWxsLHQpfSxkZWxlZ2F0ZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5vbih0LGUsbixyKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGUsIioqIik6dGhpcy5vZmYodCxlfHwiKioiLG4pfX0pO3ZhciBtbix5bix2bj14Lm5vdygpLGJuPS9cPy8seG49LyMuKiQvLHduPS8oWz8mXSlfPVteJl0qLyxUbj0vXiguKj8pOlsgXHRdKihbXlxyXG5dKilccj8kL2dtLENuPS9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLE5uPS9eKD86R0VUfEhFQUQpJC8sa249L15cL1wvLyxFbj0vXihbXHcuKy1dKzopKD86XC9cLyhbXlwvPyM6XSopKD86OihcZCspfCl8KS8sU249eC5mbi5sb2FkLEFuPXt9LGpuPXt9LERuPSIqLyIuY29uY2F0KCIqIik7dHJ5e3luPW8uaHJlZn1jYXRjaChMbil7eW49YS5jcmVhdGVFbGVtZW50KCJhIikseW4uaHJlZj0iIix5bj15bi5ocmVmfW1uPUVuLmV4ZWMoeW4udG9Mb3dlckNhc2UoKSl8fFtdO2Z1bmN0aW9uIEhuKGUpe3JldHVybiBmdW5jdGlvbih0LG4peyJzdHJpbmciIT10eXBlb2YgdCYmKG49dCx0PSIqIik7dmFyIHIsaT0wLG89dC50b0xvd2VyQ2FzZSgpLm1hdGNoKFQpfHxbXTtpZih4LmlzRnVuY3Rpb24obikpd2hpbGUocj1vW2krK10pIisiPT09clswXT8ocj1yLnNsaWNlKDEpfHwiKiIsKGVbcl09ZVtyXXx8W10pLnVuc2hpZnQobikpOihlW3JdPWVbcl18fFtdKS5wdXNoKG4pfX1mdW5jdGlvbiBxbihlLG4scixpKXt2YXIgbz17fSxhPWU9PT1qbjtmdW5jdGlvbiBzKGwpe3ZhciB1O3JldHVybiBvW2xdPSEwLHguZWFjaChlW2xdfHxbXSxmdW5jdGlvbihlLGwpe3ZhciBjPWwobixyLGkpO3JldHVybiJzdHJpbmciIT10eXBlb2YgY3x8YXx8b1tjXT9hPyEodT1jKTp0OihuLmRhdGFUeXBlcy51bnNoaWZ0KGMpLHMoYyksITEpfSksdX1yZXR1cm4gcyhuLmRhdGFUeXBlc1swXSl8fCFvWyIqIl0mJnMoIioiKX1mdW5jdGlvbiBfbihlLG4pe3ZhciByLGksbz14LmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGkgaW4gbiluW2ldIT09dCYmKChvW2ldP2U6cnx8KHI9e30pKVtpXT1uW2ldKTtyZXR1cm4gciYmeC5leHRlbmQoITAsZSxyKSxlfXguZm4ubG9hZD1mdW5jdGlvbihlLG4scil7aWYoInN0cmluZyIhPXR5cGVvZiBlJiZTbilyZXR1cm4gU24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBpLG8sYSxzPXRoaXMsbD1lLmluZGV4T2YoIiAiKTtyZXR1cm4gbD49MCYmKGk9ZS5zbGljZShsLGUubGVuZ3RoKSxlPWUuc2xpY2UoMCxsKSkseC5pc0Z1bmN0aW9uKG4pPyhyPW4sbj10KTpuJiYib2JqZWN0Ij09dHlwZW9mIG4mJihhPSJQT1NUIikscy5sZW5ndGg+MCYmeC5hamF4KHt1cmw6ZSx0eXBlOmEsZGF0YVR5cGU6Imh0bWwiLGRhdGE6bn0pLmRvbmUoZnVuY3Rpb24oZSl7bz1hcmd1bWVudHMscy5odG1sKGk/eCgiPGRpdj4iKS5hcHBlbmQoeC5wYXJzZUhUTUwoZSkpLmZpbmQoaSk6ZSl9KS5jb21wbGV0ZShyJiZmdW5jdGlvbihlLHQpe3MuZWFjaChyLG98fFtlLnJlc3BvbnNlVGV4dCx0LGVdKX0pLHRoaXN9LHguZWFjaChbImFqYXhTdGFydCIsImFqYXhTdG9wIiwiYWpheENvbXBsZXRlIiwiYWpheEVycm9yIiwiYWpheFN1Y2Nlc3MiLCJhamF4U2VuZCJdLGZ1bmN0aW9uKGUsdCl7eC5mblt0XT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vbih0LGUpfX0pLHguZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fSxhamF4U2V0dGluZ3M6e3VybDp5bix0eXBlOiJHRVQiLGlzTG9jYWw6Q24udGVzdChtblsxXSksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjpEbix0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDoveG1sLyxodG1sOi9odG1sLyxqc29uOi9qc29uL30scmVzcG9uc2VGaWVsZHM6e3htbDoicmVzcG9uc2VYTUwiLHRleHQ6InJlc3BvbnNlVGV4dCIsanNvbjoicmVzcG9uc2VKU09OIn0sY29udmVydGVyczp7IiogdGV4dCI6U3RyaW5nLCJ0ZXh0IGh0bWwiOiEwLCJ0ZXh0IGpzb24iOngucGFyc2VKU09OLCJ0ZXh0IHhtbCI6eC5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/X24oX24oZSx4LmFqYXhTZXR0aW5ncyksdCk6X24oeC5hamF4U2V0dGluZ3MsZSl9LGFqYXhQcmVmaWx0ZXI6SG4oQW4pLGFqYXhUcmFuc3BvcnQ6SG4oam4pLGFqYXg6ZnVuY3Rpb24oZSxuKXsib2JqZWN0Ij09dHlwZW9mIGUmJihuPWUsZT10KSxuPW58fHt9O3ZhciByLGksbyxhLHMsbCx1LGMscD14LmFqYXhTZXR1cCh7fSxuKSxmPXAuY29udGV4dHx8cCxkPXAuY29udGV4dCYmKGYubm9kZVR5cGV8fGYuanF1ZXJ5KT94KGYpOnguZXZlbnQsaD14LkRlZmVycmVkKCksZz14LkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxtPXAuc3RhdHVzQ29kZXx8e30seT17fSx2PXt9LGI9MCx3PSJjYW5jZWxlZCIsQz17cmVhZHlTdGF0ZTowLGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKDI9PT1iKXtpZighYyl7Yz17fTt3aGlsZSh0PVRuLmV4ZWMoYSkpY1t0WzFdLnRvTG93ZXJDYXNlKCldPXRbMl19dD1jW2UudG9Mb3dlckNhc2UoKV19cmV0dXJuIG51bGw9PXQ/bnVsbDp0fSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gMj09PWI/YTpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS50b0xvd2VyQ2FzZSgpO3JldHVybiBifHwoZT12W25dPXZbbl18fGUseVtlXT10KSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGUpe3JldHVybiBifHwocC5taW1lVHlwZT1lKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKGUpaWYoMj5iKWZvcih0IGluIGUpbVt0XT1bbVt0XSxlW3RdXTtlbHNlIEMuYWx3YXlzKGVbQy5zdGF0dXNdKTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8dztyZXR1cm4gdSYmdS5hYm9ydCh0KSxrKDAsdCksdGhpc319O2lmKGgucHJvbWlzZShDKS5jb21wbGV0ZT1nLmFkZCxDLnN1Y2Nlc3M9Qy5kb25lLEMuZXJyb3I9Qy5mYWlsLHAudXJsPSgoZXx8cC51cmx8fHluKSsiIikucmVwbGFjZSh4biwiIikucmVwbGFjZShrbixtblsxXSsiLy8iKSxwLnR5cGU9bi5tZXRob2R8fG4udHlwZXx8cC5tZXRob2R8fHAudHlwZSxwLmRhdGFUeXBlcz14LnRyaW0ocC5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKFQpfHxbIiJdLG51bGw9PXAuY3Jvc3NEb21haW4mJihyPUVuLmV4ZWMocC51cmwudG9Mb3dlckNhc2UoKSkscC5jcm9zc0RvbWFpbj0hKCFyfHxyWzFdPT09bW5bMV0mJnJbMl09PT1tblsyXSYmKHJbM118fCgiaHR0cDoiPT09clsxXT8iODAiOiI0NDMiKSk9PT0obW5bM118fCgiaHR0cDoiPT09bW5bMV0/IjgwIjoiNDQzIikpKSkscC5kYXRhJiZwLnByb2Nlc3NEYXRhJiYic3RyaW5nIiE9dHlwZW9mIHAuZGF0YSYmKHAuZGF0YT14LnBhcmFtKHAuZGF0YSxwLnRyYWRpdGlvbmFsKSkscW4oQW4scCxuLEMpLDI9PT1iKXJldHVybiBDO2w9cC5nbG9iYWwsbCYmMD09PXguYWN0aXZlKysmJnguZXZlbnQudHJpZ2dlcigiYWpheFN0YXJ0IikscC50eXBlPXAudHlwZS50b1VwcGVyQ2FzZSgpLHAuaGFzQ29udGVudD0hTm4udGVzdChwLnR5cGUpLG89cC51cmwscC5oYXNDb250ZW50fHwocC5kYXRhJiYobz1wLnVybCs9KGJuLnRlc3Qobyk/IiYiOiI/IikrcC5kYXRhLGRlbGV0ZSBwLmRhdGEpLHAuY2FjaGU9PT0hMSYmKHAudXJsPXduLnRlc3Qobyk/by5yZXBsYWNlKHduLCIkMV89Iit2bisrKTpvKyhibi50ZXN0KG8pPyImIjoiPyIpKyJfPSIrdm4rKykpLHAuaWZNb2RpZmllZCYmKHgubGFzdE1vZGlmaWVkW29dJiZDLnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIix4Lmxhc3RNb2RpZmllZFtvXSkseC5ldGFnW29dJiZDLnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLHguZXRhZ1tvXSkpLChwLmRhdGEmJnAuaGFzQ29udGVudCYmcC5jb250ZW50VHlwZSE9PSExfHxuLmNvbnRlbnRUeXBlKSYmQy5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLHAuY29udGVudFR5cGUpLEMuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IixwLmRhdGFUeXBlc1swXSYmcC5hY2NlcHRzW3AuZGF0YVR5cGVzWzBdXT9wLmFjY2VwdHNbcC5kYXRhVHlwZXNbMF1dKygiKiIhPT1wLmRhdGFUeXBlc1swXT8iLCAiK0RuKyI7IHE9MC4wMSI6IiIpOnAuYWNjZXB0c1siKiJdKTtmb3IoaSBpbiBwLmhlYWRlcnMpQy5zZXRSZXF1ZXN0SGVhZGVyKGkscC5oZWFkZXJzW2ldKTtpZihwLmJlZm9yZVNlbmQmJihwLmJlZm9yZVNlbmQuY2FsbChmLEMscCk9PT0hMXx8Mj09PWIpKXJldHVybiBDLmFib3J0KCk7dz0iYWJvcnQiO2ZvcihpIGlue3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9KUNbaV0ocFtpXSk7aWYodT1xbihqbixwLG4sQykpe0MucmVhZHlTdGF0ZT0xLGwmJmQudHJpZ2dlcigiYWpheFNlbmQiLFtDLHBdKSxwLmFzeW5jJiZwLnRpbWVvdXQ+MCYmKHM9c2V0VGltZW91dChmdW5jdGlvbigpe0MuYWJvcnQoInRpbWVvdXQiKX0scC50aW1lb3V0KSk7dHJ5e2I9MSx1LnNlbmQoeSxrKX1jYXRjaChOKXtpZighKDI+YikpdGhyb3cgTjtrKC0xLE4pfX1lbHNlIGsoLTEsIk5vIFRyYW5zcG9ydCIpO2Z1bmN0aW9uIGsoZSxuLHIsaSl7dmFyIGMseSx2LHcsVCxOPW47MiE9PWImJihiPTIscyYmY2xlYXJUaW1lb3V0KHMpLHU9dCxhPWl8fCIiLEMucmVhZHlTdGF0ZT1lPjA/NDowLGM9ZT49MjAwJiYzMDA+ZXx8MzA0PT09ZSxyJiYodz1NbihwLEMscikpLHc9T24ocCx3LEMsYyksYz8ocC5pZk1vZGlmaWVkJiYoVD1DLmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIiksVCYmKHgubGFzdE1vZGlmaWVkW29dPVQpLFQ9Qy5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpLFQmJih4LmV0YWdbb109VCkpLDIwND09PWV8fCJIRUFEIj09PXAudHlwZT9OPSJub2NvbnRlbnQiOjMwND09PWU/Tj0ibm90bW9kaWZpZWQiOihOPXcuc3RhdGUseT13LmRhdGEsdj13LmVycm9yLGM9IXYpKToodj1OLChlfHwhTikmJihOPSJlcnJvciIsMD5lJiYoZT0wKSkpLEMuc3RhdHVzPWUsQy5zdGF0dXNUZXh0PShufHxOKSsiIixjP2gucmVzb2x2ZVdpdGgoZixbeSxOLENdKTpoLnJlamVjdFdpdGgoZixbQyxOLHZdKSxDLnN0YXR1c0NvZGUobSksbT10LGwmJmQudHJpZ2dlcihjPyJhamF4U3VjY2VzcyI6ImFqYXhFcnJvciIsW0MscCxjP3k6dl0pLGcuZmlyZVdpdGgoZixbQyxOXSksbCYmKGQudHJpZ2dlcigiYWpheENvbXBsZXRlIixbQyxwXSksLS14LmFjdGl2ZXx8eC5ldmVudC50cmlnZ2VyKCJhamF4U3RvcCIpKSl9cmV0dXJuIEN9LGdldEpTT046ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB4LmdldChlLHQsbiwianNvbiIpfSxnZXRTY3JpcHQ6ZnVuY3Rpb24oZSxuKXtyZXR1cm4geC5nZXQoZSx0LG4sInNjcmlwdCIpfX0pLHguZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihlLG4pe3hbbl09ZnVuY3Rpb24oZSxyLGksbyl7cmV0dXJuIHguaXNGdW5jdGlvbihyKSYmKG89b3x8aSxpPXIscj10KSx4LmFqYXgoe3VybDplLHR5cGU6bixkYXRhVHlwZTpvLGRhdGE6cixzdWNjZXNzOml9KX19KTtmdW5jdGlvbiBNbihlLG4scil7dmFyIGksbyxhLHMsbD1lLmNvbnRlbnRzLHU9ZS5kYXRhVHlwZXM7d2hpbGUoIioiPT09dVswXSl1LnNoaWZ0KCksbz09PXQmJihvPWUubWltZVR5cGV8fG4uZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihvKWZvcihzIGluIGwpaWYobFtzXSYmbFtzXS50ZXN0KG8pKXt1LnVuc2hpZnQocyk7YnJlYWt9aWYodVswXWluIHIpYT11WzBdO2Vsc2V7Zm9yKHMgaW4gcil7aWYoIXVbMF18fGUuY29udmVydGVyc1tzKyIgIit1WzBdXSl7YT1zO2JyZWFrfWl8fChpPXMpfWE9YXx8aX1yZXR1cm4gYT8oYSE9PXVbMF0mJnUudW5zaGlmdChhKSxyW2FdKTp0fWZ1bmN0aW9uIE9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzLGwsdT17fSxjPWUuZGF0YVR5cGVzLnNsaWNlKCk7aWYoY1sxXSlmb3IoYSBpbiBlLmNvbnZlcnRlcnMpdVthLnRvTG93ZXJDYXNlKCldPWUuY29udmVydGVyc1thXTtvPWMuc2hpZnQoKTt3aGlsZShvKWlmKGUucmVzcG9uc2VGaWVsZHNbb10mJihuW2UucmVzcG9uc2VGaWVsZHNbb11dPXQpLCFsJiZyJiZlLmRhdGFGaWx0ZXImJih0PWUuZGF0YUZpbHRlcih0LGUuZGF0YVR5cGUpKSxsPW8sbz1jLnNoaWZ0KCkpaWYoIioiPT09bylvPWw7ZWxzZSBpZigiKiIhPT1sJiZsIT09byl7aWYoYT11W2wrIiAiK29dfHx1WyIqICIrb10sIWEpZm9yKGkgaW4gdSlpZihzPWkuc3BsaXQoIiAiKSxzWzFdPT09byYmKGE9dVtsKyIgIitzWzBdXXx8dVsiKiAiK3NbMF1dKSl7YT09PSEwP2E9dVtpXTp1W2ldIT09ITAmJihvPXNbMF0sYy51bnNoaWZ0KHNbMV0pKTticmVha31pZihhIT09ITApaWYoYSYmZVsidGhyb3dzIl0pdD1hKHQpO2Vsc2UgdHJ5e3Q9YSh0KX1jYXRjaChwKXtyZXR1cm57c3RhdGU6InBhcnNlcmVycm9yIixlcnJvcjphP3A6Ik5vIGNvbnZlcnNpb24gZnJvbSAiK2wrIiB0byAiK299fX1yZXR1cm57c3RhdGU6InN1Y2Nlc3MiLGRhdGE6dH19eC5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDoidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHQifSxjb250ZW50czp7c2NyaXB0Oi8oPzpqYXZhfGVjbWEpc2NyaXB0L30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihlKXtyZXR1cm4geC5nbG9iYWxFdmFsKGUpLGV9fX0pLHguYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihlKXtlLmNhY2hlPT09dCYmKGUuY2FjaGU9ITEpLGUuY3Jvc3NEb21haW4mJihlLnR5cGU9IkdFVCIsZS5nbG9iYWw9ITEpfSkseC5hamF4VHJhbnNwb3J0KCJzY3JpcHQiLGZ1bmN0aW9uKGUpe2lmKGUuY3Jvc3NEb21haW4pe3ZhciBuLHI9YS5oZWFkfHx4KCJoZWFkIilbMF18fGEuZG9jdW1lbnRFbGVtZW50O3JldHVybntzZW5kOmZ1bmN0aW9uKHQsaSl7bj1hLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLG4uYXN5bmM9ITAsZS5zY3JpcHRDaGFyc2V0JiYobi5jaGFyc2V0PWUuc2NyaXB0Q2hhcnNldCksbi5zcmM9ZS51cmwsbi5vbmxvYWQ9bi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oZSx0KXsodHx8IW4ucmVhZHlTdGF0ZXx8L2xvYWRlZHxjb21wbGV0ZS8udGVzdChuLnJlYWR5U3RhdGUpKSYmKG4ub25sb2FkPW4ub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsbi5wYXJlbnROb2RlJiZuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobiksbj1udWxsLHR8fGkoMjAwLCJzdWNjZXNzIikpfSxyLmluc2VydEJlZm9yZShuLHIuZmlyc3RDaGlsZCl9LGFib3J0OmZ1bmN0aW9uKCl7biYmbi5vbmxvYWQodCwhMCl9fX19KTt2YXIgRm49W10sQm49Lyg9KVw/KD89JnwkKXxcP1w/Lzt4LmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9Rm4ucG9wKCl8fHguZXhwYW5kbysiXyIrdm4rKztyZXR1cm4gdGhpc1tlXT0hMCxlfX0pLHguYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24obixyLGkpe3ZhciBvLGEscyxsPW4uanNvbnAhPT0hMSYmKEJuLnRlc3Qobi51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2Ygbi5kYXRhJiYhKG4uY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmQm4udGVzdChuLmRhdGEpJiYiZGF0YSIpO3JldHVybiBsfHwianNvbnAiPT09bi5kYXRhVHlwZXNbMF0/KG89bi5qc29ucENhbGxiYWNrPXguaXNGdW5jdGlvbihuLmpzb25wQ2FsbGJhY2spP24uanNvbnBDYWxsYmFjaygpOm4uanNvbnBDYWxsYmFjayxsP25bbF09bltsXS5yZXBsYWNlKEJuLCIkMSIrbyk6bi5qc29ucCE9PSExJiYobi51cmwrPShibi50ZXN0KG4udXJsKT8iJiI6Ij8iKStuLmpzb25wKyI9IitvKSxuLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtyZXR1cm4gc3x8eC5lcnJvcihvKyIgd2FzIG5vdCBjYWxsZWQiKSxzWzBdfSxuLmRhdGFUeXBlc1swXT0ianNvbiIsYT1lW29dLGVbb109ZnVuY3Rpb24oKXtzPWFyZ3VtZW50c30saS5hbHdheXMoZnVuY3Rpb24oKXtlW29dPWEsbltvXSYmKG4uanNvbnBDYWxsYmFjaz1yLmpzb25wQ2FsbGJhY2ssRm4ucHVzaChvKSkscyYmeC5pc0Z1bmN0aW9uKGEpJiZhKHNbMF0pLHM9YT10fSksInNjcmlwdCIpOnR9KTt2YXIgUG4sUm4sV249MCwkbj1lLkFjdGl2ZVhPYmplY3QmJmZ1bmN0aW9uKCl7dmFyIGU7Zm9yKGUgaW4gUG4pUG5bZV0odCwhMCl9O2Z1bmN0aW9uIEluKCl7dHJ5e3JldHVybiBuZXcgZS5YTUxIdHRwUmVxdWVzdH1jYXRjaCh0KXt9fWZ1bmN0aW9uIHpuKCl7dHJ5e3JldHVybiBuZXcgZS5BY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MSFRUUCIpfWNhdGNoKHQpe319eC5hamF4U2V0dGluZ3MueGhyPWUuQWN0aXZlWE9iamVjdD9mdW5jdGlvbigpe3JldHVybiF0aGlzLmlzTG9jYWwmJkluKCl8fHpuKCl9OkluLFJuPXguYWpheFNldHRpbmdzLnhocigpLHguc3VwcG9ydC5jb3JzPSEhUm4mJiJ3aXRoQ3JlZGVudGlhbHMiaW4gUm4sUm49eC5zdXBwb3J0LmFqYXg9ISFSbixSbiYmeC5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKG4pe2lmKCFuLmNyb3NzRG9tYWlufHx4LnN1cHBvcnQuY29ycyl7dmFyIHI7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oaSxvKXt2YXIgYSxzLGw9bi54aHIoKTtpZihuLnVzZXJuYW1lP2wub3BlbihuLnR5cGUsbi51cmwsbi5hc3luYyxuLnVzZXJuYW1lLG4ucGFzc3dvcmQpOmwub3BlbihuLnR5cGUsbi51cmwsbi5hc3luYyksbi54aHJGaWVsZHMpZm9yKHMgaW4gbi54aHJGaWVsZHMpbFtzXT1uLnhockZpZWxkc1tzXTtuLm1pbWVUeXBlJiZsLm92ZXJyaWRlTWltZVR5cGUmJmwub3ZlcnJpZGVNaW1lVHlwZShuLm1pbWVUeXBlKSxuLmNyb3NzRG9tYWlufHxpWyJYLVJlcXVlc3RlZC1XaXRoIl18fChpWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0Iik7dHJ5e2ZvcihzIGluIGkpbC5zZXRSZXF1ZXN0SGVhZGVyKHMsaVtzXSl9Y2F0Y2godSl7fWwuc2VuZChuLmhhc0NvbnRlbnQmJm4uZGF0YXx8bnVsbCkscj1mdW5jdGlvbihlLGkpe3ZhciBzLHUsYyxwO3RyeXtpZihyJiYoaXx8ND09PWwucmVhZHlTdGF0ZSkpaWYocj10LGEmJihsLm9ucmVhZHlzdGF0ZWNoYW5nZT14Lm5vb3AsJG4mJmRlbGV0ZSBQblthXSksaSk0IT09bC5yZWFkeVN0YXRlJiZsLmFib3J0KCk7ZWxzZXtwPXt9LHM9bC5zdGF0dXMsdT1sLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLCJzdHJpbmciPT10eXBlb2YgbC5yZXNwb25zZVRleHQmJihwLnRleHQ9bC5yZXNwb25zZVRleHQpO3RyeXtjPWwuc3RhdHVzVGV4dH1jYXRjaChmKXtjPSIifXN8fCFuLmlzTG9jYWx8fG4uY3Jvc3NEb21haW4/MTIyMz09PXMmJihzPTIwNCk6cz1wLnRleHQ/MjAwOjQwNH19Y2F0Y2goZCl7aXx8bygtMSxkKX1wJiZvKHMsYyxwLHUpfSxuLmFzeW5jPzQ9PT1sLnJlYWR5U3RhdGU/c2V0VGltZW91dChyKTooYT0rK1duLCRuJiYoUG58fChQbj17fSx4KGUpLnVubG9hZCgkbikpLFBuW2FdPXIpLGwub25yZWFkeXN0YXRlY2hhbmdlPXIpOnIoKX0sYWJvcnQ6ZnVuY3Rpb24oKXtyJiZyKHQsITApfX19fSk7dmFyIFhuLFVuLFZuPS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxZbj1SZWdFeHAoIl4oPzooWystXSk9fCkoIit3KyIpKFthLXolXSopJCIsImkiKSxKbj0vcXVldWVIb29rcyQvLEduPVtucl0sUW49eyIqIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCkscj1uLmN1cigpLGk9WW4uZXhlYyh0KSxvPWkmJmlbM118fCh4LmNzc051bWJlcltlXT8iIjoicHgiKSxhPSh4LmNzc051bWJlcltlXXx8InB4IiE9PW8mJityKSYmWW4uZXhlYyh4LmNzcyhuLmVsZW0sZSkpLHM9MSxsPTIwO2lmKGEmJmFbM10hPT1vKXtvPW98fGFbM10saT1pfHxbXSxhPStyfHwxO2RvIHM9c3x8Ii41IixhLz1zLHguc3R5bGUobi5lbGVtLGUsYStvKTt3aGlsZShzIT09KHM9bi5jdXIoKS9yKSYmMSE9PXMmJi0tbCl9cmV0dXJuIGkmJihhPW4uc3RhcnQ9K2F8fCtyfHwwLG4udW5pdD1vLG4uZW5kPWlbMV0/YSsoaVsxXSsxKSppWzJdOitpWzJdKSxufV19O2Z1bmN0aW9uIEtuKCl7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtYbj10fSksWG49eC5ub3coKX1mdW5jdGlvbiBabihlLHQsbil7dmFyIHIsaT0oUW5bdF18fFtdKS5jb25jYXQoUW5bIioiXSksbz0wLGE9aS5sZW5ndGg7Zm9yKDthPm87bysrKWlmKHI9aVtvXS5jYWxsKG4sdCxlKSlyZXR1cm4gcn1mdW5jdGlvbiBlcihlLHQsbil7dmFyIHIsaSxvPTAsYT1Hbi5sZW5ndGgscz14LkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCl7ZGVsZXRlIGwuZWxlbX0pLGw9ZnVuY3Rpb24oKXtpZihpKXJldHVybiExO3ZhciB0PVhufHxLbigpLG49TWF0aC5tYXgoMCx1LnN0YXJ0VGltZSt1LmR1cmF0aW9uLXQpLHI9bi91LmR1cmF0aW9ufHwwLG89MS1yLGE9MCxsPXUudHdlZW5zLmxlbmd0aDtmb3IoO2w+YTthKyspdS50d2VlbnNbYV0ucnVuKG8pO3JldHVybiBzLm5vdGlmeVdpdGgoZSxbdSxvLG5dKSwxPm8mJmw/bjoocy5yZXNvbHZlV2l0aChlLFt1XSksITEpfSx1PXMucHJvbWlzZSh7ZWxlbTplLHByb3BzOnguZXh0ZW5kKHt9LHQpLG9wdHM6eC5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e319LG4pLG9yaWdpbmFsUHJvcGVydGllczp0LG9yaWdpbmFsT3B0aW9uczpuLHN0YXJ0VGltZTpYbnx8S24oKSxkdXJhdGlvbjpuLmR1cmF0aW9uLHR3ZWVuczpbXSxjcmVhdGVUd2VlbjpmdW5jdGlvbih0LG4pe3ZhciByPXguVHdlZW4oZSx1Lm9wdHMsdCxuLHUub3B0cy5zcGVjaWFsRWFzaW5nW3RdfHx1Lm9wdHMuZWFzaW5nKTtyZXR1cm4gdS50d2VlbnMucHVzaChyKSxyfSxzdG9wOmZ1bmN0aW9uKHQpe3ZhciBuPTAscj10P3UudHdlZW5zLmxlbmd0aDowO2lmKGkpcmV0dXJuIHRoaXM7Zm9yKGk9ITA7cj5uO24rKyl1LnR3ZWVuc1tuXS5ydW4oMSk7cmV0dXJuIHQ/cy5yZXNvbHZlV2l0aChlLFt1LHRdKTpzLnJlamVjdFdpdGgoZSxbdSx0XSksdGhpc319KSxjPXUucHJvcHM7Zm9yKHRyKGMsdS5vcHRzLnNwZWNpYWxFYXNpbmcpO2E+bztvKyspaWYocj1HbltvXS5jYWxsKHUsZSxjLHUub3B0cykpcmV0dXJuIHI7cmV0dXJuIHgubWFwKGMsWm4sdSkseC5pc0Z1bmN0aW9uKHUub3B0cy5zdGFydCkmJnUub3B0cy5zdGFydC5jYWxsKGUsdSkseC5meC50aW1lcih4LmV4dGVuZChsLHtlbGVtOmUsYW5pbTp1LHF1ZXVlOnUub3B0cy5xdWV1ZX0pKSx1LnByb2dyZXNzKHUub3B0cy5wcm9ncmVzcykuZG9uZSh1Lm9wdHMuZG9uZSx1Lm9wdHMuY29tcGxldGUpLmZhaWwodS5vcHRzLmZhaWwpLmFsd2F5cyh1Lm9wdHMuYWx3YXlzKX1mdW5jdGlvbiB0cihlLHQpe3ZhciBuLHIsaSxvLGE7Zm9yKG4gaW4gZSlpZihyPXguY2FtZWxDYXNlKG4pLGk9dFtyXSxvPWVbbl0seC5pc0FycmF5KG8pJiYoaT1vWzFdLG89ZVtuXT1vWzBdKSxuIT09ciYmKGVbcl09byxkZWxldGUgZVtuXSksYT14LmNzc0hvb2tzW3JdLGEmJiJleHBhbmQiaW4gYSl7bz1hLmV4cGFuZChvKSxkZWxldGUgZVtyXTtmb3IobiBpbiBvKW4gaW4gZXx8KGVbbl09b1tuXSx0W25dPWkpfWVsc2UgdFtyXT1pfXguQW5pbWF0aW9uPXguZXh0ZW5kKGVyLHt0d2VlbmVyOmZ1bmN0aW9uKGUsdCl7eC5pc0Z1bmN0aW9uKGUpPyh0PWUsZT1bIioiXSk6ZT1lLnNwbGl0KCIgIik7dmFyIG4scj0wLGk9ZS5sZW5ndGg7Zm9yKDtpPnI7cisrKW49ZVtyXSxRbltuXT1RbltuXXx8W10sUW5bbl0udW5zaGlmdCh0KX0scHJlZmlsdGVyOmZ1bmN0aW9uKGUsdCl7dD9Hbi51bnNoaWZ0KGUpOkduLnB1c2goZSl9fSk7ZnVuY3Rpb24gbnIoZSx0LG4pe3ZhciByLGksbyxhLHMsbCx1PXRoaXMsYz17fSxwPWUuc3R5bGUsZj1lLm5vZGVUeXBlJiZubihlKSxkPXguX2RhdGEoZSwiZnhzaG93Iik7bi5xdWV1ZXx8KHM9eC5fcXVldWVIb29rcyhlLCJmeCIpLG51bGw9PXMudW5xdWV1ZWQmJihzLnVucXVldWVkPTAsbD1zLmVtcHR5LmZpcmUscy5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7cy51bnF1ZXVlZHx8bCgpfSkscy51bnF1ZXVlZCsrLHUuYWx3YXlzKGZ1bmN0aW9uKCl7dS5hbHdheXMoZnVuY3Rpb24oKXtzLnVucXVldWVkLS0seC5xdWV1ZShlLCJmeCIpLmxlbmd0aHx8cy5lbXB0eS5maXJlKCl9KX0pKSwxPT09ZS5ub2RlVHlwZSYmKCJoZWlnaHQiaW4gdHx8IndpZHRoImluIHQpJiYobi5vdmVyZmxvdz1bcC5vdmVyZmxvdyxwLm92ZXJmbG93WCxwLm92ZXJmbG93WV0sImlubGluZSI9PT14LmNzcyhlLCJkaXNwbGF5IikmJiJub25lIj09PXguY3NzKGUsImZsb2F0IikmJih4LnN1cHBvcnQuaW5saW5lQmxvY2tOZWVkc0xheW91dCYmImlubGluZSIhPT1sbihlLm5vZGVOYW1lKT9wLnpvb209MTpwLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxuLm92ZXJmbG93JiYocC5vdmVyZmxvdz0iaGlkZGVuIix4LnN1cHBvcnQuc2hyaW5rV3JhcEJsb2Nrc3x8dS5hbHdheXMoZnVuY3Rpb24oKXtwLm92ZXJmbG93PW4ub3ZlcmZsb3dbMF0scC5vdmVyZmxvd1g9bi5vdmVyZmxvd1sxXSxwLm92ZXJmbG93WT1uLm92ZXJmbG93WzJdfSkpO2ZvcihyIGluIHQpaWYoaT10W3JdLFZuLmV4ZWMoaSkpe2lmKGRlbGV0ZSB0W3JdLG89b3x8InRvZ2dsZSI9PT1pLGk9PT0oZj8iaGlkZSI6InNob3ciKSljb250aW51ZTtjW3JdPWQmJmRbcl18fHguc3R5bGUoZSxyKX1pZigheC5pc0VtcHR5T2JqZWN0KGMpKXtkPyJoaWRkZW4iaW4gZCYmKGY9ZC5oaWRkZW4pOmQ9eC5fZGF0YShlLCJmeHNob3ciLHt9KSxvJiYoZC5oaWRkZW49IWYpLGY/eChlKS5zaG93KCk6dS5kb25lKGZ1bmN0aW9uKCl7eChlKS5oaWRlKCl9KSx1LmRvbmUoZnVuY3Rpb24oKXt2YXIgdDt4Ll9yZW1vdmVEYXRhKGUsImZ4c2hvdyIpO2Zvcih0IGluIGMpeC5zdHlsZShlLHQsY1t0XSl9KTtmb3IociBpbiBjKWE9Wm4oZj9kW3JdOjAscix1KSxyIGluIGR8fChkW3JdPWEuc3RhcnQsZiYmKGEuZW5kPWEuc3RhcnQsYS5zdGFydD0id2lkdGgiPT09cnx8ImhlaWdodCI9PT1yPzE6MCkpfX1mdW5jdGlvbiBycihlLHQsbixyLGkpe3JldHVybiBuZXcgcnIucHJvdG90eXBlLmluaXQoZSx0LG4scixpKX14LlR3ZWVuPXJyLHJyLnByb3RvdHlwZT17Y29uc3RydWN0b3I6cnIsaW5pdDpmdW5jdGlvbihlLHQsbixyLGksbyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8InN3aW5nIix0aGlzLm9wdGlvbnM9dCx0aGlzLnN0YXJ0PXRoaXMubm93PXRoaXMuY3VyKCksdGhpcy5lbmQ9cix0aGlzLnVuaXQ9b3x8KHguY3NzTnVtYmVyW25dPyIiOiJweCIpfSxjdXI6ZnVuY3Rpb24oKXt2YXIgZT1yci5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gZSYmZS5nZXQ/ZS5nZXQodGhpcyk6cnIucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0aGlzKX0scnVuOmZ1bmN0aW9uKGUpe3ZhciB0LG49cnIucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIHRoaXMucG9zPXQ9dGhpcy5vcHRpb25zLmR1cmF0aW9uP3guZWFzaW5nW3RoaXMuZWFzaW5nXShlLHRoaXMub3B0aW9ucy5kdXJhdGlvbiplLDAsMSx0aGlzLm9wdGlvbnMuZHVyYXRpb24pOmUsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksbiYmbi5zZXQ/bi5zZXQodGhpcyk6cnIucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0scnIucHJvdG90eXBlLmluaXQucHJvdG90eXBlPXJyLnByb3RvdHlwZSxyci5wcm9wSG9va3M9e19kZWZhdWx0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIG51bGw9PWUuZWxlbVtlLnByb3BdfHxlLmVsZW0uc3R5bGUmJm51bGwhPWUuZWxlbS5zdHlsZVtlLnByb3BdPyh0PXguY3NzKGUuZWxlbSxlLnByb3AsIiIpLHQmJiJhdXRvIiE9PXQ/dDowKTplLmVsZW1bZS5wcm9wXX0sc2V0OmZ1bmN0aW9uKGUpe3guZnguc3RlcFtlLnByb3BdP3guZnguc3RlcFtlLnByb3BdKGUpOmUuZWxlbS5zdHlsZSYmKG51bGwhPWUuZWxlbS5zdHlsZVt4LmNzc1Byb3BzW2UucHJvcF1dfHx4LmNzc0hvb2tzW2UucHJvcF0pP3guc3R5bGUoZS5lbGVtLGUucHJvcCxlLm5vdytlLnVuaXQpOmUuZWxlbVtlLnByb3BdPWUubm93fX19LHJyLnByb3BIb29rcy5zY3JvbGxUb3A9cnIucHJvcEhvb2tzLnNjcm9sbExlZnQ9e3NldDpmdW5jdGlvbihlKXtlLmVsZW0ubm9kZVR5cGUmJmUuZWxlbS5wYXJlbnROb2RlJiYoZS5lbGVtW2UucHJvcF09ZS5ub3cpfX0seC5lYWNoKFsidG9nZ2xlIiwic2hvdyIsImhpZGUiXSxmdW5jdGlvbihlLHQpe3ZhciBuPXguZm5bdF07eC5mblt0XT1mdW5jdGlvbihlLHIsaSl7cmV0dXJuIG51bGw9PWV8fCJib29sZWFuIj09dHlwZW9mIGU/bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKGlyKHQsITApLGUscixpKX19KSx4LmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLmZpbHRlcihubikuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTp0fSxlLG4scil9LGFuaW1hdGU6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9eC5pc0VtcHR5T2JqZWN0KGUpLG89eC5zcGVlZCh0LG4sciksYT1mdW5jdGlvbigpe3ZhciB0PWVyKHRoaXMseC5leHRlbmQoe30sZSksbyk7KGl8fHguX2RhdGEodGhpcywiZmluaXNoIikpJiZ0LnN0b3AoITApfTtyZXR1cm4gYS5maW5pc2g9YSxpfHxvLnF1ZXVlPT09ITE/dGhpcy5lYWNoKGEpOnRoaXMucXVldWUoby5xdWV1ZSxhKX0sc3RvcDpmdW5jdGlvbihlLG4scil7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChyKX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBlJiYocj1uLG49ZSxlPXQpLG4mJmUhPT0hMSYmdGhpcy5xdWV1ZShlfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD0hMCxuPW51bGwhPWUmJmUrInF1ZXVlSG9va3MiLG89eC50aW1lcnMsYT14Ll9kYXRhKHRoaXMpO2lmKG4pYVtuXSYmYVtuXS5zdG9wJiZpKGFbbl0pO2Vsc2UgZm9yKG4gaW4gYSlhW25dJiZhW25dLnN0b3AmJkpuLnRlc3QobikmJmkoYVtuXSk7Zm9yKG49by5sZW5ndGg7bi0tOylvW25dLmVsZW0hPT10aGlzfHxudWxsIT1lJiZvW25dLnF1ZXVlIT09ZXx8KG9bbl0uYW5pbS5zdG9wKHIpLHQ9ITEsby5zcGxpY2UobiwxKSk7KHR8fCFyKSYmeC5kZXF1ZXVlKHRoaXMsZSl9KX0sZmluaXNoOmZ1bmN0aW9uKGUpe3JldHVybiBlIT09ITEmJihlPWV8fCJmeCIpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0LG49eC5fZGF0YSh0aGlzKSxyPW5bZSsicXVldWUiXSxpPW5bZSsicXVldWVIb29rcyJdLG89eC50aW1lcnMsYT1yP3IubGVuZ3RoOjA7Zm9yKG4uZmluaXNoPSEwLHgucXVldWUodGhpcyxlLFtdKSxpJiZpLnN0b3AmJmkuc3RvcC5jYWxsKHRoaXMsITApLHQ9by5sZW5ndGg7dC0tOylvW3RdLmVsZW09PT10aGlzJiZvW3RdLnF1ZXVlPT09ZSYmKG9bdF0uYW5pbS5zdG9wKCEwKSxvLnNwbGljZSh0LDEpKTtmb3IodD0wO2E+dDt0Kyspclt0XSYmclt0XS5maW5pc2gmJnJbdF0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIG4uZmluaXNofSl9fSk7ZnVuY3Rpb24gaXIoZSx0KXt2YXIgbixyPXtoZWlnaHQ6ZX0saT0wO2Zvcih0PXQ/MTowOzQ+aTtpKz0yLXQpbj1adFtpXSxyWyJtYXJnaW4iK25dPXJbInBhZGRpbmciK25dPWU7cmV0dXJuIHQmJihyLm9wYWNpdHk9ci53aWR0aD1lKSxyfXguZWFjaCh7c2xpZGVEb3duOmlyKCJzaG93Iiksc2xpZGVVcDppcigiaGlkZSIpLHNsaWRlVG9nZ2xlOmlyKCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGUsdCl7eC5mbltlXT1mdW5jdGlvbihlLG4scil7cmV0dXJuIHRoaXMuYW5pbWF0ZSh0LGUsbixyKX19KSx4LnNwZWVkPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lJiYib2JqZWN0Ij09dHlwZW9mIGU/eC5leHRlbmQoe30sZSk6e2NvbXBsZXRlOm58fCFuJiZ0fHx4LmlzRnVuY3Rpb24oZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIXguaXNGdW5jdGlvbih0KSYmdH07cmV0dXJuIHIuZHVyYXRpb249eC5meC5vZmY/MDoibnVtYmVyIj09dHlwZW9mIHIuZHVyYXRpb24/ci5kdXJhdGlvbjpyLmR1cmF0aW9uIGluIHguZnguc3BlZWRzP3guZnguc3BlZWRzW3IuZHVyYXRpb25dOnguZnguc3BlZWRzLl9kZWZhdWx0LChudWxsPT1yLnF1ZXVlfHxyLnF1ZXVlPT09ITApJiYoci5xdWV1ZT0iZngiKSxyLm9sZD1yLmNvbXBsZXRlLHIuY29tcGxldGU9ZnVuY3Rpb24oKXt4LmlzRnVuY3Rpb24oci5vbGQpJiZyLm9sZC5jYWxsKHRoaXMpLHIucXVldWUmJnguZGVxdWV1ZSh0aGlzLHIucXVldWUpfSxyfSx4LmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGUpe3JldHVybiBlfSxzd2luZzpmdW5jdGlvbihlKXtyZXR1cm4uNS1NYXRoLmNvcyhlKk1hdGguUEkpLzJ9fSx4LnRpbWVycz1bXSx4LmZ4PXJyLnByb3RvdHlwZS5pbml0LHguZngudGljaz1mdW5jdGlvbigpe3ZhciBlLG49eC50aW1lcnMscj0wO2ZvcihYbj14Lm5vdygpO24ubGVuZ3RoPnI7cisrKWU9bltyXSxlKCl8fG5bcl0hPT1lfHxuLnNwbGljZShyLS0sMSk7bi5sZW5ndGh8fHguZnguc3RvcCgpLFhuPXR9LHguZngudGltZXI9ZnVuY3Rpb24oZSl7ZSgpJiZ4LnRpbWVycy5wdXNoKGUpJiZ4LmZ4LnN0YXJ0KCl9LHguZnguaW50ZXJ2YWw9MTMseC5meC5zdGFydD1mdW5jdGlvbigpe1VufHwoVW49c2V0SW50ZXJ2YWwoeC5meC50aWNrLHguZnguaW50ZXJ2YWwpKX0seC5meC5zdG9wPWZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbChVbiksVW49bnVsbH0seC5meC5zcGVlZHM9e3Nsb3c6NjAwLGZhc3Q6MjAwLF9kZWZhdWx0OjQwMH0seC5meC5zdGVwPXt9LHguZXhwciYmeC5leHByLmZpbHRlcnMmJih4LmV4cHIuZmlsdGVycy5hbmltYXRlZD1mdW5jdGlvbihlKXtyZXR1cm4geC5ncmVwKHgudGltZXJzLGZ1bmN0aW9uKHQpe3JldHVybiBlPT09dC5lbGVtfSkubGVuZ3RofSkseC5mbi5vZmZzZXQ9ZnVuY3Rpb24oZSl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZT09PXQ/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24odCl7eC5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsZSx0KX0pO3ZhciBuLHIsbz17dG9wOjAsbGVmdDowfSxhPXRoaXNbMF0scz1hJiZhLm93bmVyRG9jdW1lbnQ7aWYocylyZXR1cm4gbj1zLmRvY3VtZW50RWxlbWVudCx4LmNvbnRhaW5zKG4sYSk/KHR5cGVvZiBhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCE9PWkmJihvPWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLHI9b3Iocykse3RvcDpvLnRvcCsoci5wYWdlWU9mZnNldHx8bi5zY3JvbGxUb3ApLShuLmNsaWVudFRvcHx8MCksbGVmdDpvLmxlZnQrKHIucGFnZVhPZmZzZXR8fG4uc2Nyb2xsTGVmdCktKG4uY2xpZW50TGVmdHx8MCl9KTpvfSx4Lm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj14LmNzcyhlLCJwb3NpdGlvbiIpOyJzdGF0aWMiPT09ciYmKGUuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIik7dmFyIGk9eChlKSxvPWkub2Zmc2V0KCksYT14LmNzcyhlLCJ0b3AiKSxzPXguY3NzKGUsImxlZnQiKSxsPSgiYWJzb2x1dGUiPT09cnx8ImZpeGVkIj09PXIpJiZ4LmluQXJyYXkoImF1dG8iLFthLHNdKT4tMSx1PXt9LGM9e30scCxmO2w/KGM9aS5wb3NpdGlvbigpLHA9Yy50b3AsZj1jLmxlZnQpOihwPXBhcnNlRmxvYXQoYSl8fDAsZj1wYXJzZUZsb2F0KHMpfHwwKSx4LmlzRnVuY3Rpb24odCkmJih0PXQuY2FsbChlLG4sbykpLG51bGwhPXQudG9wJiYodS50b3A9dC50b3Atby50b3ArcCksbnVsbCE9dC5sZWZ0JiYodS5sZWZ0PXQubGVmdC1vLmxlZnQrZiksInVzaW5nImluIHQ/dC51c2luZy5jYWxsKGUsdSk6aS5jc3ModSl9fSx4LmZuLmV4dGVuZCh7cG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgZSx0LG49e3RvcDowLGxlZnQ6MH0scj10aGlzWzBdO3JldHVybiJmaXhlZCI9PT14LmNzcyhyLCJwb3NpdGlvbiIpP3Q9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTooZT10aGlzLm9mZnNldFBhcmVudCgpLHQ9dGhpcy5vZmZzZXQoKSx4Lm5vZGVOYW1lKGVbMF0sImh0bWwiKXx8KG49ZS5vZmZzZXQoKSksbi50b3ArPXguY3NzKGVbMF0sImJvcmRlclRvcFdpZHRoIiwhMCksbi5sZWZ0Kz14LmNzcyhlWzBdLCJib3JkZXJMZWZ0V2lkdGgiLCEwKSkse3RvcDp0LnRvcC1uLnRvcC14LmNzcyhyLCJtYXJnaW5Ub3AiLCEwKSxsZWZ0OnQubGVmdC1uLmxlZnQteC5jc3MociwibWFyZ2luTGVmdCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBlPXRoaXMub2Zmc2V0UGFyZW50fHxzO3doaWxlKGUmJiF4Lm5vZGVOYW1lKGUsImh0bWwiKSYmInN0YXRpYyI9PT14LmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGV8fHN9KX19KSx4LmVhY2goe3Njcm9sbExlZnQ6InBhZ2VYT2Zmc2V0IixzY3JvbGxUb3A6InBhZ2VZT2Zmc2V0In0sZnVuY3Rpb24oZSxuKXt2YXIgcj0vWS8udGVzdChuKTt4LmZuW2VdPWZ1bmN0aW9uKGkpe3JldHVybiB4LmFjY2Vzcyh0aGlzLGZ1bmN0aW9uKGUsaSxvKXt2YXIgYT1vcihlKTtyZXR1cm4gbz09PXQ/YT9uIGluIGE/YVtuXTphLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtpXTplW2ldOihhP2Euc2Nyb2xsVG8ocj94KGEpLnNjcm9sbExlZnQoKTpvLHI/bzp4KGEpLnNjcm9sbFRvcCgpKTplW2ldPW8sdCl9LGUsaSxhcmd1bWVudHMubGVuZ3RoLG51bGwpfX0pO2Z1bmN0aW9uIG9yKGUpe3JldHVybiB4LmlzV2luZG93KGUpP2U6OT09PWUubm9kZVR5cGU/ZS5kZWZhdWx0Vmlld3x8ZS5wYXJlbnRXaW5kb3c6ITF9eC5lYWNoKHtIZWlnaHQ6ImhlaWdodCIsV2lkdGg6IndpZHRoIn0sZnVuY3Rpb24oZSxuKXt4LmVhY2goe3BhZGRpbmc6ImlubmVyIitlLGNvbnRlbnQ6biwiIjoib3V0ZXIiK2V9LGZ1bmN0aW9uKHIsaSl7eC5mbltpXT1mdW5jdGlvbihpLG8pe3ZhciBhPWFyZ3VtZW50cy5sZW5ndGgmJihyfHwiYm9vbGVhbiIhPXR5cGVvZiBpKSxzPXJ8fChpPT09ITB8fG89PT0hMD8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuIHguYWNjZXNzKHRoaXMsZnVuY3Rpb24obixyLGkpe3ZhciBvO3JldHVybiB4LmlzV2luZG93KG4pP24uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2VdOjk9PT1uLm5vZGVUeXBlPyhvPW4uZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KG4uYm9keVsic2Nyb2xsIitlXSxvWyJzY3JvbGwiK2VdLG4uYm9keVsib2Zmc2V0IitlXSxvWyJvZmZzZXQiK2VdLG9bImNsaWVudCIrZV0pKTppPT09dD94LmNzcyhuLHIscyk6eC5zdHlsZShuLHIsaSxzKX0sbixhP2k6dCxhLG51bGwpfX0pfSkseC5mbi5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofSx4LmZuLmFuZFNlbGY9eC5mbi5hZGRCYWNrLCJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9eDooZS5qUXVlcnk9ZS4kPXgsImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSl9KSh3aW5kb3cpOwo=')
},
{
'name': '/app/bower_components/html5-boilerplate/js/vendor/modernizr-2.6.2.min.js', 'data': base64.b64decode('LyogTW9kZXJuaXpyIDIuNi4yIChDdXN0b20gQnVpbGQpIHwgTUlUICYgQlNECiAqIEJ1aWxkOiBodHRwOi8vbW9kZXJuaXpyLmNvbS9kb3dubG9hZC8jLWZvbnRmYWNlLWJhY2tncm91bmRzaXplLWJvcmRlcmltYWdlLWJvcmRlcnJhZGl1cy1ib3hzaGFkb3ctZmxleGJveC1oc2xhLW11bHRpcGxlYmdzLW9wYWNpdHktcmdiYS10ZXh0c2hhZG93LWNzc2FuaW1hdGlvbnMtY3NzY29sdW1ucy1nZW5lcmF0ZWRjb250ZW50LWNzc2dyYWRpZW50cy1jc3NyZWZsZWN0aW9ucy1jc3N0cmFuc2Zvcm1zLWNzc3RyYW5zZm9ybXMzZC1jc3N0cmFuc2l0aW9ucy1hcHBsaWNhdGlvbmNhY2hlLWNhbnZhcy1jYW52YXN0ZXh0LWRyYWdhbmRkcm9wLWhhc2hjaGFuZ2UtaGlzdG9yeS1hdWRpby12aWRlby1pbmRleGVkZGItaW5wdXQtaW5wdXR0eXBlcy1sb2NhbHN0b3JhZ2UtcG9zdG1lc3NhZ2Utc2Vzc2lvbnN0b3JhZ2Utd2Vic29ja2V0cy13ZWJzcWxkYXRhYmFzZS13ZWJ3b3JrZXJzLWdlb2xvY2F0aW9uLWlubGluZXN2Zy1zbWlsLXN2Zy1zdmdjbGlwcGF0aHMtdG91Y2gtd2ViZ2wtc2hpdi1tcS1jc3NjbGFzc2VzLWFkZHRlc3QtcHJlZml4ZWQtdGVzdHN0eWxlcy10ZXN0cHJvcC10ZXN0YWxscHJvcHMtaGFzZXZlbnQtcHJlZml4ZXMtZG9tcHJlZml4ZXMtbG9hZAogKi8KO3dpbmRvdy5Nb2Rlcm5penI9ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIEQoYSl7ai5jc3NUZXh0PWF9ZnVuY3Rpb24gRShhLGIpe3JldHVybiBEKG4uam9pbihhKyI7IikrKGJ8fCIiKSl9ZnVuY3Rpb24gRihhLGIpe3JldHVybiB0eXBlb2YgYT09PWJ9ZnVuY3Rpb24gRyhhLGIpe3JldHVybiEhfigiIithKS5pbmRleE9mKGIpfWZ1bmN0aW9uIEgoYSxiKXtmb3IodmFyIGQgaW4gYSl7dmFyIGU9YVtkXTtpZighRyhlLCItIikmJmpbZV0hPT1jKXJldHVybiBiPT0icGZ4Ij9lOiEwfXJldHVybiExfWZ1bmN0aW9uIEkoYSxiLGQpe2Zvcih2YXIgZSBpbiBhKXt2YXIgZj1iW2FbZV1dO2lmKGYhPT1jKXJldHVybiBkPT09ITE/YVtlXTpGKGYsImZ1bmN0aW9uIik/Zi5iaW5kKGR8fGIpOmZ9cmV0dXJuITF9ZnVuY3Rpb24gSihhLGIsYyl7dmFyIGQ9YS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnNsaWNlKDEpLGU9KGErIiAiK3Auam9pbihkKyIgIikrZCkuc3BsaXQoIiAiKTtyZXR1cm4gRihiLCJzdHJpbmciKXx8RihiLCJ1bmRlZmluZWQiKT9IKGUsYik6KGU9KGErIiAiK3Euam9pbihkKyIgIikrZCkuc3BsaXQoIiAiKSxJKGUsYixjKSl9ZnVuY3Rpb24gSygpe2UuaW5wdXQ9ZnVuY3Rpb24oYyl7Zm9yKHZhciBkPTAsZT1jLmxlbmd0aDtkPGU7ZCsrKXVbY1tkXV09Y1tkXWluIGs7cmV0dXJuIHUubGlzdCYmKHUubGlzdD0hIWIuY3JlYXRlRWxlbWVudCgiZGF0YWxpc3QiKSYmISFhLkhUTUxEYXRhTGlzdEVsZW1lbnQpLHV9KCJhdXRvY29tcGxldGUgYXV0b2ZvY3VzIGxpc3QgcGxhY2Vob2xkZXIgbWF4IG1pbiBtdWx0aXBsZSBwYXR0ZXJuIHJlcXVpcmVkIHN0ZXAiLnNwbGl0KCIgIikpLGUuaW5wdXR0eXBlcz1mdW5jdGlvbihhKXtmb3IodmFyIGQ9MCxlLGYsaCxpPWEubGVuZ3RoO2Q8aTtkKyspay5zZXRBdHRyaWJ1dGUoInR5cGUiLGY9YVtkXSksZT1rLnR5cGUhPT0idGV4dCIsZSYmKGsudmFsdWU9bCxrLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO3Zpc2liaWxpdHk6aGlkZGVuOyIsL15yYW5nZSQvLnRlc3QoZikmJmsuc3R5bGUuV2Via2l0QXBwZWFyYW5jZSE9PWM/KGcuYXBwZW5kQ2hpbGQoayksaD1iLmRlZmF1bHRWaWV3LGU9aC5nZXRDb21wdXRlZFN0eWxlJiZoLmdldENvbXB1dGVkU3R5bGUoayxudWxsKS5XZWJraXRBcHBlYXJhbmNlIT09InRleHRmaWVsZCImJmsub2Zmc2V0SGVpZ2h0IT09MCxnLnJlbW92ZUNoaWxkKGspKTovXihzZWFyY2h8dGVsKSQvLnRlc3QoZil8fCgvXih1cmx8ZW1haWwpJC8udGVzdChmKT9lPWsuY2hlY2tWYWxpZGl0eSYmay5jaGVja1ZhbGlkaXR5KCk9PT0hMTplPWsudmFsdWUhPWwpKSx0W2FbZF1dPSEhZTtyZXR1cm4gdH0oInNlYXJjaCB0ZWwgdXJsIGVtYWlsIGRhdGV0aW1lIGRhdGUgbW9udGggd2VlayB0aW1lIGRhdGV0aW1lLWxvY2FsIG51bWJlciByYW5nZSBjb2xvciIuc3BsaXQoIiAiKSl9dmFyIGQ9IjIuNi4yIixlPXt9LGY9ITAsZz1iLmRvY3VtZW50RWxlbWVudCxoPSJtb2Rlcm5penIiLGk9Yi5jcmVhdGVFbGVtZW50KGgpLGo9aS5zdHlsZSxrPWIuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxsPSI6KSIsbT17fS50b1N0cmluZyxuPSIgLXdlYmtpdC0gLW1vei0gLW8tIC1tcy0gIi5zcGxpdCgiICIpLG89IldlYmtpdCBNb3ogTyBtcyIscD1vLnNwbGl0KCIgIikscT1vLnRvTG93ZXJDYXNlKCkuc3BsaXQoIiAiKSxyPXtzdmc6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIn0scz17fSx0PXt9LHU9e30sdj1bXSx3PXYuc2xpY2UseCx5PWZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBmLGksaixrLGw9Yi5jcmVhdGVFbGVtZW50KCJkaXYiKSxtPWIuYm9keSxuPW18fGIuY3JlYXRlRWxlbWVudCgiYm9keSIpO2lmKHBhcnNlSW50KGQsMTApKXdoaWxlKGQtLSlqPWIuY3JlYXRlRWxlbWVudCgiZGl2Iiksai5pZD1lP2VbZF06aCsoZCsxKSxsLmFwcGVuZENoaWxkKGopO3JldHVybiBmPVsiJiMxNzM7IiwnPHN0eWxlIGlkPSJzJyxoLCciPicsYSwiPC9zdHlsZT4iXS5qb2luKCIiKSxsLmlkPWgsKG0/bDpuKS5pbm5lckhUTUwrPWYsbi5hcHBlbmRDaGlsZChsKSxtfHwobi5zdHlsZS5iYWNrZ3JvdW5kPSIiLG4uc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsaz1nLnN0eWxlLm92ZXJmbG93LGcuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsZy5hcHBlbmRDaGlsZChuKSksaT1jKGwsYSksbT9sLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobCk6KG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSxnLnN0eWxlLm92ZXJmbG93PWspLCEhaX0sej1mdW5jdGlvbihiKXt2YXIgYz1hLm1hdGNoTWVkaWF8fGEubXNNYXRjaE1lZGlhO2lmKGMpcmV0dXJuIGMoYikubWF0Y2hlczt2YXIgZDtyZXR1cm4geSgiQG1lZGlhICIrYisiIHsgIyIraCsiIHsgcG9zaXRpb246IGFic29sdXRlOyB9IH0iLGZ1bmN0aW9uKGIpe2Q9KGEuZ2V0Q29tcHV0ZWRTdHlsZT9nZXRDb21wdXRlZFN0eWxlKGIsbnVsbCk6Yi5jdXJyZW50U3R5bGUpWyJwb3NpdGlvbiJdPT0iYWJzb2x1dGUifSksZH0sQT1mdW5jdGlvbigpe2Z1bmN0aW9uIGQoZCxlKXtlPWV8fGIuY3JlYXRlRWxlbWVudChhW2RdfHwiZGl2IiksZD0ib24iK2Q7dmFyIGY9ZCBpbiBlO3JldHVybiBmfHwoZS5zZXRBdHRyaWJ1dGV8fChlPWIuY3JlYXRlRWxlbWVudCgiZGl2IikpLGUuc2V0QXR0cmlidXRlJiZlLnJlbW92ZUF0dHJpYnV0ZSYmKGUuc2V0QXR0cmlidXRlKGQsIiIpLGY9RihlW2RdLCJmdW5jdGlvbiIpLEYoZVtkXSwidW5kZWZpbmVkIil8fChlW2RdPWMpLGUucmVtb3ZlQXR0cmlidXRlKGQpKSksZT1udWxsLGZ9dmFyIGE9e3NlbGVjdDoiaW5wdXQiLGNoYW5nZToiaW5wdXQiLHN1Ym1pdDoiZm9ybSIscmVzZXQ6ImZvcm0iLGVycm9yOiJpbWciLGxvYWQ6ImltZyIsYWJvcnQ6ImltZyJ9O3JldHVybiBkfSgpLEI9e30uaGFzT3duUHJvcGVydHksQzshRihCLCJ1bmRlZmluZWQiKSYmIUYoQi5jYWxsLCJ1bmRlZmluZWQiKT9DPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEIuY2FsbChhLGIpfTpDPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIgaW4gYSYmRihhLmNvbnN0cnVjdG9yLnByb3RvdHlwZVtiXSwidW5kZWZpbmVkIil9LEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHwoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYil7dmFyIGM9dGhpcztpZih0eXBlb2YgYyE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgVHlwZUVycm9yO3ZhciBkPXcuY2FsbChhcmd1bWVudHMsMSksZT1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBlKXt2YXIgYT1mdW5jdGlvbigpe307YS5wcm90b3R5cGU9Yy5wcm90b3R5cGU7dmFyIGY9bmV3IGEsZz1jLmFwcGx5KGYsZC5jb25jYXQody5jYWxsKGFyZ3VtZW50cykpKTtyZXR1cm4gT2JqZWN0KGcpPT09Zz9nOmZ9cmV0dXJuIGMuYXBwbHkoYixkLmNvbmNhdCh3LmNhbGwoYXJndW1lbnRzKSkpfTtyZXR1cm4gZX0pLHMuZmxleGJveD1mdW5jdGlvbigpe3JldHVybiBKKCJmbGV4V3JhcCIpfSxzLmNhbnZhcz1mdW5jdGlvbigpe3ZhciBhPWIuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7cmV0dXJuISFhLmdldENvbnRleHQmJiEhYS5nZXRDb250ZXh0KCIyZCIpfSxzLmNhbnZhc3RleHQ9ZnVuY3Rpb24oKXtyZXR1cm4hIWUuY2FudmFzJiYhIUYoYi5jcmVhdGVFbGVtZW50KCJjYW52YXMiKS5nZXRDb250ZXh0KCIyZCIpLmZpbGxUZXh0LCJmdW5jdGlvbiIpfSxzLndlYmdsPWZ1bmN0aW9uKCl7cmV0dXJuISFhLldlYkdMUmVuZGVyaW5nQ29udGV4dH0scy50b3VjaD1mdW5jdGlvbigpe3ZhciBjO3JldHVybiJvbnRvdWNoc3RhcnQiaW4gYXx8YS5Eb2N1bWVudFRvdWNoJiZiIGluc3RhbmNlb2YgRG9jdW1lbnRUb3VjaD9jPSEwOnkoWyJAbWVkaWEgKCIsbi5qb2luKCJ0b3VjaC1lbmFibGVkKSwoIiksaCwiKSIsInsjbW9kZXJuaXpye3RvcDo5cHg7cG9zaXRpb246YWJzb2x1dGV9fSJdLmpvaW4oIiIpLGZ1bmN0aW9uKGEpe2M9YS5vZmZzZXRUb3A9PT05fSksY30scy5nZW9sb2NhdGlvbj1mdW5jdGlvbigpe3JldHVybiJnZW9sb2NhdGlvbiJpbiBuYXZpZ2F0b3J9LHMucG9zdG1lc3NhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4hIWEucG9zdE1lc3NhZ2V9LHMud2Vic3FsZGF0YWJhc2U9ZnVuY3Rpb24oKXtyZXR1cm4hIWEub3BlbkRhdGFiYXNlfSxzLmluZGV4ZWREQj1mdW5jdGlvbigpe3JldHVybiEhSigiaW5kZXhlZERCIixhKX0scy5oYXNoY2hhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIEEoImhhc2hjaGFuZ2UiLGEpJiYoYi5kb2N1bWVudE1vZGU9PT1jfHxiLmRvY3VtZW50TW9kZT43KX0scy5oaXN0b3J5PWZ1bmN0aW9uKCl7cmV0dXJuISFhLmhpc3RvcnkmJiEhaGlzdG9yeS5wdXNoU3RhdGV9LHMuZHJhZ2FuZGRyb3A9ZnVuY3Rpb24oKXt2YXIgYT1iLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiJkcmFnZ2FibGUiaW4gYXx8Im9uZHJhZ3N0YXJ0ImluIGEmJiJvbmRyb3AiaW4gYX0scy53ZWJzb2NrZXRzPWZ1bmN0aW9uKCl7cmV0dXJuIldlYlNvY2tldCJpbiBhfHwiTW96V2ViU29ja2V0ImluIGF9LHMucmdiYT1mdW5jdGlvbigpe3JldHVybiBEKCJiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMTUwLDI1NSwxNTAsLjUpIiksRyhqLmJhY2tncm91bmRDb2xvciwicmdiYSIpfSxzLmhzbGE9ZnVuY3Rpb24oKXtyZXR1cm4gRCgiYmFja2dyb3VuZC1jb2xvcjpoc2xhKDEyMCw0MCUsMTAwJSwuNSkiKSxHKGouYmFja2dyb3VuZENvbG9yLCJyZ2JhIil8fEcoai5iYWNrZ3JvdW5kQ29sb3IsImhzbGEiKX0scy5tdWx0aXBsZWJncz1mdW5jdGlvbigpe3JldHVybiBEKCJiYWNrZ3JvdW5kOnVybChodHRwczovLyksdXJsKGh0dHBzOi8vKSxyZWQgdXJsKGh0dHBzOi8vKSIpLC8odXJsXHMqXCguKj8pezN9Ly50ZXN0KGouYmFja2dyb3VuZCl9LHMuYmFja2dyb3VuZHNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gSigiYmFja2dyb3VuZFNpemUiKX0scy5ib3JkZXJpbWFnZT1mdW5jdGlvbigpe3JldHVybiBKKCJib3JkZXJJbWFnZSIpfSxzLmJvcmRlcnJhZGl1cz1mdW5jdGlvbigpe3JldHVybiBKKCJib3JkZXJSYWRpdXMiKX0scy5ib3hzaGFkb3c9ZnVuY3Rpb24oKXtyZXR1cm4gSigiYm94U2hhZG93Iil9LHMudGV4dHNoYWRvdz1mdW5jdGlvbigpe3JldHVybiBiLmNyZWF0ZUVsZW1lbnQoImRpdiIpLnN0eWxlLnRleHRTaGFkb3c9PT0iIn0scy5vcGFjaXR5PWZ1bmN0aW9uKCl7cmV0dXJuIEUoIm9wYWNpdHk6LjU1IiksL14wLjU1JC8udGVzdChqLm9wYWNpdHkpfSxzLmNzc2FuaW1hdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gSigiYW5pbWF0aW9uTmFtZSIpfSxzLmNzc2NvbHVtbnM9ZnVuY3Rpb24oKXtyZXR1cm4gSigiY29sdW1uQ291bnQiKX0scy5jc3NncmFkaWVudHM9ZnVuY3Rpb24oKXt2YXIgYT0iYmFja2dyb3VuZC1pbWFnZToiLGI9ImdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxyaWdodCBib3R0b20sZnJvbSgjOWY5KSx0byh3aGl0ZSkpOyIsYz0ibGluZWFyLWdyYWRpZW50KGxlZnQgdG9wLCM5ZjksIHdoaXRlKTsiO3JldHVybiBEKChhKyItd2Via2l0LSAiLnNwbGl0KCIgIikuam9pbihiK2EpK24uam9pbihjK2EpKS5zbGljZSgwLC1hLmxlbmd0aCkpLEcoai5iYWNrZ3JvdW5kSW1hZ2UsImdyYWRpZW50Iil9LHMuY3NzcmVmbGVjdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gSigiYm94UmVmbGVjdCIpfSxzLmNzc3RyYW5zZm9ybXM9ZnVuY3Rpb24oKXtyZXR1cm4hIUooInRyYW5zZm9ybSIpfSxzLmNzc3RyYW5zZm9ybXMzZD1mdW5jdGlvbigpe3ZhciBhPSEhSigicGVyc3BlY3RpdmUiKTtyZXR1cm4gYSYmIndlYmtpdFBlcnNwZWN0aXZlImluIGcuc3R5bGUmJnkoIkBtZWRpYSAodHJhbnNmb3JtLTNkKSwoLXdlYmtpdC10cmFuc2Zvcm0tM2QpeyNtb2Rlcm5penJ7bGVmdDo5cHg7cG9zaXRpb246YWJzb2x1dGU7aGVpZ2h0OjNweDt9fSIsZnVuY3Rpb24oYixjKXthPWIub2Zmc2V0TGVmdD09PTkmJmIub2Zmc2V0SGVpZ2h0PT09M30pLGF9LHMuY3NzdHJhbnNpdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gSigidHJhbnNpdGlvbiIpfSxzLmZvbnRmYWNlPWZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuIHkoJ0Bmb250LWZhY2Uge2ZvbnQtZmFtaWx5OiJmb250IjtzcmM6dXJsKCJodHRwczovLyIpfScsZnVuY3Rpb24oYyxkKXt2YXIgZT1iLmdldEVsZW1lbnRCeUlkKCJzbW9kZXJuaXpyIiksZj1lLnNoZWV0fHxlLnN0eWxlU2hlZXQsZz1mP2YuY3NzUnVsZXMmJmYuY3NzUnVsZXNbMF0/Zi5jc3NSdWxlc1swXS5jc3NUZXh0OmYuY3NzVGV4dHx8IiI6IiI7YT0vc3JjL2kudGVzdChnKSYmZy5pbmRleE9mKGQuc3BsaXQoIiAiKVswXSk9PT0wfSksYX0scy5nZW5lcmF0ZWRjb250ZW50PWZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuIHkoWyIjIixoLCJ7Zm9udDowLzAgYX0jIixoLCc6YWZ0ZXJ7Y29udGVudDoiJyxsLCciO3Zpc2liaWxpdHk6aGlkZGVuO2ZvbnQ6M3B4LzEgYX0nXS5qb2luKCIiKSxmdW5jdGlvbihiKXthPWIub2Zmc2V0SGVpZ2h0Pj0zfSksYX0scy52aWRlbz1mdW5jdGlvbigpe3ZhciBhPWIuY3JlYXRlRWxlbWVudCgidmlkZW8iKSxjPSExO3RyeXtpZihjPSEhYS5jYW5QbGF5VHlwZSljPW5ldyBCb29sZWFuKGMpLGMub2dnPWEuY2FuUGxheVR5cGUoJ3ZpZGVvL29nZzsgY29kZWNzPSJ0aGVvcmEiJykucmVwbGFjZSgvXm5vJC8sIiIpLGMuaDI2ND1hLmNhblBsYXlUeXBlKCd2aWRlby9tcDQ7IGNvZGVjcz0iYXZjMS40MkUwMUUiJykucmVwbGFjZSgvXm5vJC8sIiIpLGMud2VibT1hLmNhblBsYXlUeXBlKCd2aWRlby93ZWJtOyBjb2RlY3M9InZwOCwgdm9yYmlzIicpLnJlcGxhY2UoL15ubyQvLCIiKX1jYXRjaChkKXt9cmV0dXJuIGN9LHMuYXVkaW89ZnVuY3Rpb24oKXt2YXIgYT1iLmNyZWF0ZUVsZW1lbnQoImF1ZGlvIiksYz0hMTt0cnl7aWYoYz0hIWEuY2FuUGxheVR5cGUpYz1uZXcgQm9vbGVhbihjKSxjLm9nZz1hLmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz0idm9yYmlzIicpLnJlcGxhY2UoL15ubyQvLCIiKSxjLm1wMz1hLmNhblBsYXlUeXBlKCJhdWRpby9tcGVnOyIpLnJlcGxhY2UoL15ubyQvLCIiKSxjLndhdj1hLmNhblBsYXlUeXBlKCdhdWRpby93YXY7IGNvZGVjcz0iMSInKS5yZXBsYWNlKC9ebm8kLywiIiksYy5tNGE9KGEuY2FuUGxheVR5cGUoImF1ZGlvL3gtbTRhOyIpfHxhLmNhblBsYXlUeXBlKCJhdWRpby9hYWM7IikpLnJlcGxhY2UoL15ubyQvLCIiKX1jYXRjaChkKXt9cmV0dXJuIGN9LHMubG9jYWxzdG9yYWdlPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShoLGgpLGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGgpLCEwfWNhdGNoKGEpe3JldHVybiExfX0scy5zZXNzaW9uc3RvcmFnZT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShoLGgpLHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oaCksITB9Y2F0Y2goYSl7cmV0dXJuITF9fSxzLndlYndvcmtlcnM9ZnVuY3Rpb24oKXtyZXR1cm4hIWEuV29ya2VyfSxzLmFwcGxpY2F0aW9uY2FjaGU9ZnVuY3Rpb24oKXtyZXR1cm4hIWEuYXBwbGljYXRpb25DYWNoZX0scy5zdmc9ZnVuY3Rpb24oKXtyZXR1cm4hIWIuY3JlYXRlRWxlbWVudE5TJiYhIWIuY3JlYXRlRWxlbWVudE5TKHIuc3ZnLCJzdmciKS5jcmVhdGVTVkdSZWN0fSxzLmlubGluZXN2Zz1mdW5jdGlvbigpe3ZhciBhPWIuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGEuaW5uZXJIVE1MPSI8c3ZnLz4iLChhLmZpcnN0Q2hpbGQmJmEuZmlyc3RDaGlsZC5uYW1lc3BhY2VVUkkpPT1yLnN2Z30scy5zbWlsPWZ1bmN0aW9uKCl7cmV0dXJuISFiLmNyZWF0ZUVsZW1lbnROUyYmL1NWR0FuaW1hdGUvLnRlc3QobS5jYWxsKGIuY3JlYXRlRWxlbWVudE5TKHIuc3ZnLCJhbmltYXRlIikpKX0scy5zdmdjbGlwcGF0aHM9ZnVuY3Rpb24oKXtyZXR1cm4hIWIuY3JlYXRlRWxlbWVudE5TJiYvU1ZHQ2xpcFBhdGgvLnRlc3QobS5jYWxsKGIuY3JlYXRlRWxlbWVudE5TKHIuc3ZnLCJjbGlwUGF0aCIpKSl9O2Zvcih2YXIgTCBpbiBzKUMocyxMKSYmKHg9TC50b0xvd2VyQ2FzZSgpLGVbeF09c1tMXSgpLHYucHVzaCgoZVt4XT8iIjoibm8tIikreCkpO3JldHVybiBlLmlucHV0fHxLKCksZS5hZGRUZXN0PWZ1bmN0aW9uKGEsYil7aWYodHlwZW9mIGE9PSJvYmplY3QiKWZvcih2YXIgZCBpbiBhKUMoYSxkKSYmZS5hZGRUZXN0KGQsYVtkXSk7ZWxzZXthPWEudG9Mb3dlckNhc2UoKTtpZihlW2FdIT09YylyZXR1cm4gZTtiPXR5cGVvZiBiPT0iZnVuY3Rpb24iP2IoKTpiLHR5cGVvZiBmIT0idW5kZWZpbmVkIiYmZiYmKGcuY2xhc3NOYW1lKz0iICIrKGI/IiI6Im5vLSIpK2EpLGVbYV09Yn1yZXR1cm4gZX0sRCgiIiksaT1rPW51bGwsZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBrKGEsYil7dmFyIGM9YS5jcmVhdGVFbGVtZW50KCJwIiksZD1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF18fGEuZG9jdW1lbnRFbGVtZW50O3JldHVybiBjLmlubmVySFRNTD0ieDxzdHlsZT4iK2IrIjwvc3R5bGU+IixkLmluc2VydEJlZm9yZShjLmxhc3RDaGlsZCxkLmZpcnN0Q2hpbGQpfWZ1bmN0aW9uIGwoKXt2YXIgYT1yLmVsZW1lbnRzO3JldHVybiB0eXBlb2YgYT09InN0cmluZyI/YS5zcGxpdCgiICIpOmF9ZnVuY3Rpb24gbShhKXt2YXIgYj1pW2FbZ11dO3JldHVybiBifHwoYj17fSxoKyssYVtnXT1oLGlbaF09YiksYn1mdW5jdGlvbiBuKGEsYyxmKXtjfHwoYz1iKTtpZihqKXJldHVybiBjLmNyZWF0ZUVsZW1lbnQoYSk7Znx8KGY9bShjKSk7dmFyIGc7cmV0dXJuIGYuY2FjaGVbYV0/Zz1mLmNhY2hlW2FdLmNsb25lTm9kZSgpOmUudGVzdChhKT9nPShmLmNhY2hlW2FdPWYuY3JlYXRlRWxlbShhKSkuY2xvbmVOb2RlKCk6Zz1mLmNyZWF0ZUVsZW0oYSksZy5jYW5IYXZlQ2hpbGRyZW4mJiFkLnRlc3QoYSk/Zi5mcmFnLmFwcGVuZENoaWxkKGcpOmd9ZnVuY3Rpb24gbyhhLGMpe2F8fChhPWIpO2lmKGopcmV0dXJuIGEuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2M9Y3x8bShhKTt2YXIgZD1jLmZyYWcuY2xvbmVOb2RlKCksZT0wLGY9bCgpLGc9Zi5sZW5ndGg7Zm9yKDtlPGc7ZSsrKWQuY3JlYXRlRWxlbWVudChmW2VdKTtyZXR1cm4gZH1mdW5jdGlvbiBwKGEsYil7Yi5jYWNoZXx8KGIuY2FjaGU9e30sYi5jcmVhdGVFbGVtPWEuY3JlYXRlRWxlbWVudCxiLmNyZWF0ZUZyYWc9YS5jcmVhdGVEb2N1bWVudEZyYWdtZW50LGIuZnJhZz1iLmNyZWF0ZUZyYWcoKSksYS5jcmVhdGVFbGVtZW50PWZ1bmN0aW9uKGMpe3JldHVybiByLnNoaXZNZXRob2RzP24oYyxhLGIpOmIuY3JlYXRlRWxlbShjKX0sYS5jcmVhdGVEb2N1bWVudEZyYWdtZW50PUZ1bmN0aW9uKCJoLGYiLCJyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj1mLmNsb25lTm9kZSgpLGM9bi5jcmVhdGVFbGVtZW50O2guc2hpdk1ldGhvZHMmJigiK2woKS5qb2luKCkucmVwbGFjZSgvXHcrL2csZnVuY3Rpb24oYSl7cmV0dXJuIGIuY3JlYXRlRWxlbShhKSxiLmZyYWcuY3JlYXRlRWxlbWVudChhKSwnYygiJythKyciKSd9KSsiKTtyZXR1cm4gbn0iKShyLGIuZnJhZyl9ZnVuY3Rpb24gcShhKXthfHwoYT1iKTt2YXIgYz1tKGEpO3JldHVybiByLnNoaXZDU1MmJiFmJiYhYy5oYXNDU1MmJihjLmhhc0NTUz0hIWsoYSwiYXJ0aWNsZSxhc2lkZSxmaWdjYXB0aW9uLGZpZ3VyZSxmb290ZXIsaGVhZGVyLGhncm91cCxuYXYsc2VjdGlvbntkaXNwbGF5OmJsb2NrfW1hcmt7YmFja2dyb3VuZDojRkYwO2NvbG9yOiMwMDB9IikpLGp8fHAoYSxjKSxhfXZhciBjPWEuaHRtbDV8fHt9LGQ9L148fF4oPzpidXR0b258bWFwfHNlbGVjdHx0ZXh0YXJlYXxvYmplY3R8aWZyYW1lfG9wdGlvbnxvcHRncm91cCkkL2ksZT0vXig/OmF8Ynxjb2RlfGRpdnxmaWVsZHNldHxoMXxoMnxoM3xoNHxoNXxoNnxpfGxhYmVsfGxpfG9sfHB8cXxzcGFufHN0cm9uZ3xzdHlsZXx0YWJsZXx0Ym9keXx0ZHx0aHx0cnx1bCkkL2ksZixnPSJfaHRtbDVzaGl2IixoPTAsaT17fSxqOyhmdW5jdGlvbigpe3RyeXt2YXIgYT1iLmNyZWF0ZUVsZW1lbnQoImEiKTthLmlubmVySFRNTD0iPHh5ej48L3h5ej4iLGY9ImhpZGRlbiJpbiBhLGo9YS5jaGlsZE5vZGVzLmxlbmd0aD09MXx8ZnVuY3Rpb24oKXtiLmNyZWF0ZUVsZW1lbnQoImEiKTt2YXIgYT1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtyZXR1cm4gdHlwZW9mIGEuY2xvbmVOb2RlPT0idW5kZWZpbmVkInx8dHlwZW9mIGEuY3JlYXRlRG9jdW1lbnRGcmFnbWVudD09InVuZGVmaW5lZCJ8fHR5cGVvZiBhLmNyZWF0ZUVsZW1lbnQ9PSJ1bmRlZmluZWQifSgpfWNhdGNoKGMpe2Y9ITAsaj0hMH19KSgpO3ZhciByPXtlbGVtZW50czpjLmVsZW1lbnRzfHwiYWJiciBhcnRpY2xlIGFzaWRlIGF1ZGlvIGJkaSBjYW52YXMgZGF0YSBkYXRhbGlzdCBkZXRhaWxzIGZpZ2NhcHRpb24gZmlndXJlIGZvb3RlciBoZWFkZXIgaGdyb3VwIG1hcmsgbWV0ZXIgbmF2IG91dHB1dCBwcm9ncmVzcyBzZWN0aW9uIHN1bW1hcnkgdGltZSB2aWRlbyIsc2hpdkNTUzpjLnNoaXZDU1MhPT0hMSxzdXBwb3J0c1Vua25vd25FbGVtZW50czpqLHNoaXZNZXRob2RzOmMuc2hpdk1ldGhvZHMhPT0hMSx0eXBlOiJkZWZhdWx0IixzaGl2RG9jdW1lbnQ6cSxjcmVhdGVFbGVtZW50Om4sY3JlYXRlRG9jdW1lbnRGcmFnbWVudDpvfTthLmh0bWw1PXIscShiKX0odGhpcyxiKSxlLl92ZXJzaW9uPWQsZS5fcHJlZml4ZXM9bixlLl9kb21QcmVmaXhlcz1xLGUuX2Nzc29tUHJlZml4ZXM9cCxlLm1xPXosZS5oYXNFdmVudD1BLGUudGVzdFByb3A9ZnVuY3Rpb24oYSl7cmV0dXJuIEgoW2FdKX0sZS50ZXN0QWxsUHJvcHM9SixlLnRlc3RTdHlsZXM9eSxlLnByZWZpeGVkPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYj9KKGEsYixjKTpKKGEsInBmeCIpfSxnLmNsYXNzTmFtZT1nLmNsYXNzTmFtZS5yZXBsYWNlKC8oXnxccyluby1qcyhcc3wkKS8sIiQxJDIiKSsoZj8iIGpzICIrdi5qb2luKCIgIik6IiIpLGV9KHRoaXMsdGhpcy5kb2N1bWVudCksZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSl7cmV0dXJuIltvYmplY3QgRnVuY3Rpb25dIj09by5jYWxsKGEpfWZ1bmN0aW9uIGUoYSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhfWZ1bmN0aW9uIGYoKXt9ZnVuY3Rpb24gZyhhKXtyZXR1cm4hYXx8ImxvYWRlZCI9PWF8fCJjb21wbGV0ZSI9PWF8fCJ1bmluaXRpYWxpemVkIj09YX1mdW5jdGlvbiBoKCl7dmFyIGE9cC5zaGlmdCgpO3E9MSxhP2EudD9tKGZ1bmN0aW9uKCl7KCJjIj09YS50P0IuaW5qZWN0Q3NzOkIuaW5qZWN0SnMpKGEucywwLGEuYSxhLngsYS5lLDEpfSwwKTooYSgpLGgoKSk6cT0wfWZ1bmN0aW9uIGkoYSxjLGQsZSxmLGksail7ZnVuY3Rpb24gayhiKXtpZighbyYmZyhsLnJlYWR5U3RhdGUpJiYodS5yPW89MSwhcSYmaCgpLGwub25sb2FkPWwub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsYikpeyJpbWciIT1hJiZtKGZ1bmN0aW9uKCl7dC5yZW1vdmVDaGlsZChsKX0sNTApO2Zvcih2YXIgZCBpbiB5W2NdKXlbY10uaGFzT3duUHJvcGVydHkoZCkmJnlbY11bZF0ub25sb2FkKCl9fXZhciBqPWp8fEIuZXJyb3JUaW1lb3V0LGw9Yi5jcmVhdGVFbGVtZW50KGEpLG89MCxyPTAsdT17dDpkLHM6YyxlOmYsYTppLHg6an07MT09PXlbY10mJihyPTEseVtjXT1bXSksIm9iamVjdCI9PWE/bC5kYXRhPWM6KGwuc3JjPWMsbC50eXBlPWEpLGwud2lkdGg9bC5oZWlnaHQ9IjAiLGwub25lcnJvcj1sLm9ubG9hZD1sLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2suY2FsbCh0aGlzLHIpfSxwLnNwbGljZShlLDAsdSksImltZyIhPWEmJihyfHwyPT09eVtjXT8odC5pbnNlcnRCZWZvcmUobCxzP251bGw6biksbShrLGopKTp5W2NdLnB1c2gobCkpfWZ1bmN0aW9uIGooYSxiLGMsZCxmKXtyZXR1cm4gcT0wLGI9Ynx8ImoiLGUoYSk/aSgiYyI9PWI/djp1LGEsYix0aGlzLmkrKyxjLGQsZik6KHAuc3BsaWNlKHRoaXMuaSsrLDAsYSksMT09cC5sZW5ndGgmJmgoKSksdGhpc31mdW5jdGlvbiBrKCl7dmFyIGE9QjtyZXR1cm4gYS5sb2FkZXI9e2xvYWQ6aixpOjB9LGF9dmFyIGw9Yi5kb2N1bWVudEVsZW1lbnQsbT1hLnNldFRpbWVvdXQsbj1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKVswXSxvPXt9LnRvU3RyaW5nLHA9W10scT0wLHI9Ik1vekFwcGVhcmFuY2UiaW4gbC5zdHlsZSxzPXImJiEhYi5jcmVhdGVSYW5nZSgpLmNvbXBhcmVOb2RlLHQ9cz9sOm4ucGFyZW50Tm9kZSxsPWEub3BlcmEmJiJbb2JqZWN0IE9wZXJhXSI9PW8uY2FsbChhLm9wZXJhKSxsPSEhYi5hdHRhY2hFdmVudCYmIWwsdT1yPyJvYmplY3QiOmw/InNjcmlwdCI6ImltZyIsdj1sPyJzY3JpcHQiOnUsdz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT1vLmNhbGwoYSl9LHg9W10seT17fSx6PXt0aW1lb3V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGIubGVuZ3RoJiYoYS50aW1lb3V0PWJbMF0pLGF9fSxBLEI7Qj1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3ZhciBhPWEuc3BsaXQoIiEiKSxiPXgubGVuZ3RoLGM9YS5wb3AoKSxkPWEubGVuZ3RoLGM9e3VybDpjLG9yaWdVcmw6YyxwcmVmaXhlczphfSxlLGYsZztmb3IoZj0wO2Y8ZDtmKyspZz1hW2ZdLnNwbGl0KCI9IiksKGU9eltnLnNoaWZ0KCldKSYmKGM9ZShjLGcpKTtmb3IoZj0wO2Y8YjtmKyspYz14W2ZdKGMpO3JldHVybiBjfWZ1bmN0aW9uIGcoYSxlLGYsZyxoKXt2YXIgaT1iKGEpLGo9aS5hdXRvQ2FsbGJhY2s7aS51cmwuc3BsaXQoIi4iKS5wb3AoKS5zcGxpdCgiPyIpLnNoaWZ0KCksaS5ieXBhc3N8fChlJiYoZT1kKGUpP2U6ZVthXXx8ZVtnXXx8ZVthLnNwbGl0KCIvIikucG9wKCkuc3BsaXQoIj8iKVswXV0pLGkuaW5zdGVhZD9pLmluc3RlYWQoYSxlLGYsZyxoKTooeVtpLnVybF0/aS5ub2V4ZWM9ITA6eVtpLnVybF09MSxmLmxvYWQoaS51cmwsaS5mb3JjZUNTU3x8IWkuZm9yY2VKUyYmImNzcyI9PWkudXJsLnNwbGl0KCIuIikucG9wKCkuc3BsaXQoIj8iKS5zaGlmdCgpPyJjIjpjLGkubm9leGVjLGkuYXR0cnMsaS50aW1lb3V0KSwoZChlKXx8ZChqKSkmJmYubG9hZChmdW5jdGlvbigpe2soKSxlJiZlKGkub3JpZ1VybCxoLGcpLGomJmooaS5vcmlnVXJsLGgsZykseVtpLnVybF09Mn0pKSl9ZnVuY3Rpb24gaChhLGIpe2Z1bmN0aW9uIGMoYSxjKXtpZihhKXtpZihlKGEpKWN8fChqPWZ1bmN0aW9uKCl7dmFyIGE9W10uc2xpY2UuY2FsbChhcmd1bWVudHMpO2suYXBwbHkodGhpcyxhKSxsKCl9KSxnKGEsaixiLDAsaCk7ZWxzZSBpZihPYmplY3QoYSk9PT1hKWZvcihuIGluIG09ZnVuY3Rpb24oKXt2YXIgYj0wLGM7Zm9yKGMgaW4gYSlhLmhhc093blByb3BlcnR5KGMpJiZiKys7cmV0dXJuIGJ9KCksYSlhLmhhc093blByb3BlcnR5KG4pJiYoIWMmJiEtLW0mJihkKGopP2o9ZnVuY3Rpb24oKXt2YXIgYT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7ay5hcHBseSh0aGlzLGEpLGwoKX06altuXT1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7YSYmYS5hcHBseSh0aGlzLGIpLGwoKX19KGtbbl0pKSxnKGFbbl0saixiLG4saCkpfWVsc2UhYyYmbCgpfXZhciBoPSEhYS50ZXN0LGk9YS5sb2FkfHxhLmJvdGgsaj1hLmNhbGxiYWNrfHxmLGs9aixsPWEuY29tcGxldGV8fGYsbSxuO2MoaD9hLnllcDphLm5vcGUsISFpKSxpJiZjKGkpfXZhciBpLGosbD10aGlzLnllcG5vcGUubG9hZGVyO2lmKGUoYSkpZyhhLDAsbCwwKTtlbHNlIGlmKHcoYSkpZm9yKGk9MDtpPGEubGVuZ3RoO2krKylqPWFbaV0sZShqKT9nKGosMCxsLDApOncoaik/QihqKTpPYmplY3Qoaik9PT1qJiZoKGosbCk7ZWxzZSBPYmplY3QoYSk9PT1hJiZoKGEsbCl9LEIuYWRkUHJlZml4PWZ1bmN0aW9uKGEsYil7elthXT1ifSxCLmFkZEZpbHRlcj1mdW5jdGlvbihhKXt4LnB1c2goYSl9LEIuZXJyb3JUaW1lb3V0PTFlNCxudWxsPT1iLnJlYWR5U3RhdGUmJmIuYWRkRXZlbnRMaXN0ZW5lciYmKGIucmVhZHlTdGF0ZT0ibG9hZGluZyIsYi5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixBPWZ1bmN0aW9uKCl7Yi5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixBLDApLGIucmVhZHlTdGF0ZT0iY29tcGxldGUifSwwKSksYS55ZXBub3BlPWsoKSxhLnllcG5vcGUuZXhlY3V0ZVN0YWNrPWgsYS55ZXBub3BlLmluamVjdEpzPWZ1bmN0aW9uKGEsYyxkLGUsaSxqKXt2YXIgaz1iLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLGwsbyxlPWV8fEIuZXJyb3JUaW1lb3V0O2suc3JjPWE7Zm9yKG8gaW4gZClrLnNldEF0dHJpYnV0ZShvLGRbb10pO2M9aj9oOmN8fGYsay5vbnJlYWR5c3RhdGVjaGFuZ2U9ay5vbmxvYWQ9ZnVuY3Rpb24oKXshbCYmZyhrLnJlYWR5U3RhdGUpJiYobD0xLGMoKSxrLm9ubG9hZD1rLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsKX0sbShmdW5jdGlvbigpe2x8fChsPTEsYygxKSl9LGUpLGk/ay5vbmxvYWQoKTpuLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGssbil9LGEueWVwbm9wZS5pbmplY3RDc3M9ZnVuY3Rpb24oYSxjLGQsZSxnLGkpe3ZhciBlPWIuY3JlYXRlRWxlbWVudCgibGluayIpLGosYz1pP2g6Y3x8ZjtlLmhyZWY9YSxlLnJlbD0ic3R5bGVzaGVldCIsZS50eXBlPSJ0ZXh0L2NzcyI7Zm9yKGogaW4gZCllLnNldEF0dHJpYnV0ZShqLGRbal0pO2d8fChuLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsbiksbShjLDApKX19KHRoaXMsZG9jdW1lbnQpLE1vZGVybml6ci5sb2FkPWZ1bmN0aW9uKCl7eWVwbm9wZS5hcHBseSh3aW5kb3csW10uc2xpY2UuY2FsbChhcmd1bWVudHMsMCkpfTsK')
},
{
'name': '/app/bower_components/html5-boilerplate/img/.gitignore', 'data': base64.b64decode('')
},
{
'name': '/app/bower_components/html5-boilerplate/doc/faq.md', 'data': base64.b64decode('W0hUTUw1IEJvaWxlcnBsYXRlIGhvbWVwYWdlXShodHRwOi8vaHRtbDVib2lsZXJwbGF0ZS5jb20pIHwgW0RvY3VtZW50YXRpb24KdGFibGUgb2YgY29udGVudHNdKFRPQy5tZCkKCiMgRnJlcXVlbnRseSBhc2tlZCBxdWVzdGlvbnMKCiMjIyBXaHkgaXMgdGhlIFVSTCBmb3IgalF1ZXJ5IHdpdGhvdXQgImh0dHAiPwoKVGhpcyBpcyBhbiBpbnRlbnRpb25hbCB1c2Ugb2YgW3Byb3RvY29sLXJlbGF0aXZlClVSTHNdKGh0dHA6Ly9wYXVsaXJpc2guY29tLzIwMTAvdGhlLXByb3RvY29sLXJlbGF0aXZlLXVybC8pCgoqKk4uQi4qKiBVc2luZyBhIHByb3RvY29sLXJlbGF0aXZlIFVSTCBmb3IgZmlsZXMgdGhhdCBleGlzdCBvbiBhIENETiBpcwpwcm9ibGVtYXRpYyB3aGVuIHlvdSB0cnkgdG8gdmlldyB5b3VyIGxvY2FsIGZpbGVzIGRpcmVjdGx5IGluIHRoZSBicm93c2VyLiBUaGUKYnJvd3NlciB3aWxsIGF0dGVtcHQgdG8gZmV0Y2ggdGhlIGZpbGUgZnJvbSB5b3VyIGxvY2FsIGZpbGUgc3lzdGVtLiBXZQpyZWNvbW1lbmQgdGhhdCB5b3UgdXNlIGEgbG9jYWwgc2VydmVyIHRvIHRlc3QgeW91ciBwYWdlcyAob3IgRHJvcGJveCkuIFRoaXMgY2FuCmJlIGRvbmUgdXNpbmcgUHl0aG9uIDIueCBieSBydW5uaW5nIGBweXRob24gLW0gU2ltcGxlSFRUUFNlcnZlcmAgb3IgUHl0aG9uIDMueAp3aXRoIGBweXRob24gLW0gaHR0cC5zZXJ2ZXJgIGZyb20geW91ciBsb2NhbCBkaXJlY3RvcnksIHVzaW5nIFJ1YnkgYnkgaW5zdGFsbGluZwphbmQgcnVubmluZyBbYXNkZl0oaHR0cHM6Ly9ydWJ5Z2Vtcy5vcmcvZ2Vtcy9hc2RmKSwgYW5kIGJ5IGluc3RhbGxpbmcgYW55IG9uZSBvZgpYQU1QUCwgTUFNUCwgb3IgV0FNUC4KCiMjIyBXaHkgZG9uJ3QgeW91IGF1dG9tYXRpY2FsbHkgbG9hZCB0aGUgbGF0ZXN0IHZlcnNpb24gb2YgalF1ZXJ5IGZyb20gdGhlIEdvb2dsZSBDRE4/CgoxLiBUaGUgbGF0ZXN0IHZlcnNpb24gb2YgalF1ZXJ5IG1heSBub3QgYmUgY29tcGF0aWJsZSB3aXRoIHRoZSBleGlzdGluZwogICBwbHVnaW5zL2NvZGUgb24gdGhlIHNpdGUuIFZlcnNpb24gdXBkYXRpbmcgc2hvdWxkIGJlIGFuIGludGVudGlvbmFsCiAgIGRlY2lzaW9uLgoyLiBUaGUgbGF0ZXN0IHZlcnNpb24gaGFzIGEgdmVyeSBzaG9ydCBgbWF4LWFnZT0zNjAwYCBjb21wYXJlcyB0byB0aGUgc3BlY2lmaWMKICAgdmVyc2lvbiBvZiBgbWF4LWFnZT0zMTUzNjAwMGAsIHdoaWNoIG1lYW5zIHlvdSB3b24ndCBnZXQgdGhlIGJlbmVmaXRzIG9mCiAgIGxvbmctdGVybSBjYWNoaW5nLgoKCiMjIyBXaHkgaXMgdGhlIEdvb2dsZSBBbmFseXRpY3MgY29kZSBhdCB0aGUgYm90dG9tPyBHb29nbGUgcmVjb21tZW5kcyBpdCBiZSBwbGFjZWQgdGhlIGBoZWFkYC4KClRoZSBhZHZhbnRhZ2UgdG8gcGxhY2luZyBpdCBpbiB0aGUgYGhlYWRgIGlzIHRoYXQgeW91IHdpbGwgdHJhY2sgYSB1c2VyJ3MKcGFnZXZpZXcgZXZlbiBpZiB0aGV5IGxlYXZlIHRoZSBwYWdlIGJlZm9yZSBpdCBoYXMgYmVlbiBmdWxseSBsb2FkZWQuIEhvd2V2ZXIsCnB1dHRpbmcgdGhlIGNvZGUgYXQgdGhlIGJvdHRvbSBrZWVwcyBhbGwgdGhlIHNjcmlwdHMgdG9nZXRoZXIgYW5kIHJlaW5mb3JjZXMKdGhhdCBzY3JpcHRzIGF0IHRoZSBib3R0b20gYXJlIHRoZSByaWdodCBtb3ZlLgoKCiMjIyBIb3cgY2FuIEkgaW50ZWdyYXRlIFtUd2l0dGVyIEJvb3RzdHJhcF0oaHR0cDovL3R3aXR0ZXIuZ2l0aHViLmNvbS9ib290c3RyYXAvKSB3aXRoIEhUTUw1IEJvaWxlcnBsYXRlPwoKWW91IGNhbiB1c2UgW0luaXRpYWxpenJdKGh0dHA6Ly9pbml0aWFsaXpyLmNvbSkgdG8gY3JlYXRlIGEgY3VzdG9tIGJ1aWxkIHRoYXQKaW5jbHVkZXMgSFRNTDUgQm9pbGVycGxhdGUgd2l0aCBUd2l0dGVyIEJvb3RzdHJhcC4KClJlYWQgbW9yZSBhYm91dCBob3cgW0hUTUw1IEJvaWxlcnBsYXRlIGFuZCBUd2l0dGVyIEJvb3RzdHJhcCBjb21wbGVtZW50IGVhY2gKb3RoZXJdKGh0dHA6Ly93d3cucXVvcmEuY29tL0lzLUJvb3RzdHJhcC1hLWNvbXBsZW1lbnQtT1ItYW4tYWx0ZXJuYXRpdmUtdG8tSFRNTDUtQm9pbGVycGxhdGUtb3ItdmljZXZlcnNhL2Fuc3dlci9OaWNvbGFzLUdhbGxhZ2hlcikuCgoKIyMjIEhvdyBkbyBJIHByZXZlbnQgcGhvbmUgbnVtYmVycyBsb29raW5nIHR3aWNlIGFzIGxhcmdlIGFuZCBoYXZpbmcgYSBTa3lwZSBoaWdobGlnaHQ/CgpJZiB0aGlzIGlzIG9jY3VycmluZywgaXQgaXMgYmVjYXVzZSBhIHVzZXIgaGFzIHRoZSBTa3lwZSBicm93c2VyIGV4dGVuc2lvbgppbnN0YWxsZWQuCgpVc2UgdGhlIGZvbGxvd2luZyBDU1MgdG8gcHJldmVudCBTa3lwZSBmcm9tIGZvcm1hdHRpbmcgdGhlIG51bWJlcnMgb24geW91cgpwYWdlOgoKYGBgY3NzCnNwYW4uc2t5cGVfcG5oX2NvbnRhaW5lciB7CiAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7Cn0KCnNwYW4uc2t5cGVfcG5oX3ByaW50X2NvbnRhaW5lciB7CiAgICBkaXNwbGF5OiBpbmxpbmUgIWltcG9ydGFudDsKfQpgYGAKCgojIyMgRG8gSSBuZWVkIHRvIHVwZ3JhZGUgbXkgc2l0ZXMgZWFjaCB0aW1lIGEgbmV3IHZlcnNpb24gb2YgSFRNTDUgQm9pbGVycGxhdGUgaXMgcmVsZWFzZWQ/CgpOby4gWW91IGRvbid0IG5vcm1hbGx5IHJlcGxhY2UgdGhlIGZvdW5kYXRpb25zIG9mIGEgaG91c2Ugb25jZSBpdCBoYXMgYmVlbgpidWlsdC4gVGhlcmUgaXMgbm90aGluZyBzdG9wcGluZyB5b3UgZnJvbSB0cnlpbmcgdG8gd29yayBpbiB0aGUgbGF0ZXN0IGNoYW5nZXMKYnV0IHlvdSdsbCBoYXZlIHRvIGFzc2VzcyB0aGUgY29zdHMvYmVuZWZpdHMgb2YgZG9pbmcgc28uCgoKIyMjIFdoZXJlIGNhbiBJIGdldCBoZWxwIGZvciBzdXBwb3J0IHF1ZXN0aW9ucz8KClBsZWFzZSBhc2sgZm9yIGhlbHAgb24KW1N0YWNrT3ZlcmZsb3ddKGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvdGFnZ2VkL2h0bWw1Ym9pbGVycGxhdGUpLgo=')
},
{
'name': '/app/bower_components/html5-boilerplate/doc/css.md', 'data': base64.b64decode('W0hUTUw1IEJvaWxlcnBsYXRlIGhvbWVwYWdlXShodHRwOi8vaHRtbDVib2lsZXJwbGF0ZS5jb20pIHwgW0RvY3VtZW50YXRpb24KdGFibGUgb2YgY29udGVudHNdKFRPQy5tZCkKCiMgVGhlIENTUwoKVGhlIEhUTUw1IEJvaWxlcnBsYXRlIHN0YXJ0aW5nIENTUyBpbmNsdWRlczoKCiogW05vcm1hbGl6ZS5jc3NdKGh0dHBzOi8vZ2l0aHViLmNvbS9uZWNvbGFzL25vcm1hbGl6ZS5jc3MpLgoqIFVzZWZ1bCBIVE1MNSBCb2lsZXJwbGF0ZSBkZWZhdWx0cy4KKiBDb21tb24gaGVscGVycy4KKiBQbGFjZWhvbGRlciBtZWRpYSBxdWVyaWVzLgoqIFByaW50IHN0eWxlcy4KClRoaXMgc3RhcnRpbmcgQ1NTIGRvZXMgbm90IHJlbHkgb24gdGhlIHByZXNlbmNlIG9mIGNvbmRpdGlvbmFsIGNsYXNzbmFtZXMsCmNvbmRpdGlvbmFsIHN0eWxlIHNoZWV0cywgb3IgTW9kZXJuaXpyLiBJdCBpcyByZWFkeSB0byB1c2Ugd2hhdGV2ZXIgeW91cgpkZXZlbG9wbWVudCBwcmVmZXJlbmNlcyBoYXBwZW4gdG8gYmUuCgoKIyMgTm9ybWFsaXplLmNzcwoKTm9ybWFsaXplLmNzcyBpcyBhIG1vZGVybiwgSFRNTDUtcmVhZHkgYWx0ZXJuYXRpdmUgdG8gQ1NTIHJlc2V0cy4gSXQgY29udGFpbnMKZXh0ZW5zaXZlIGlubGluZSBkb2N1bWVudGF0aW9uLiBQbGVhc2UgcmVmZXIgdG8gdGhlIFtOb3JtYWxpemUuY3NzCnByb2plY3RdKGh0dHA6Ly9uZWNvbGFzLmdpdGh1Yi5jb20vbm9ybWFsaXplLmNzcy8pIGZvciBtb3JlIGluZm9ybWF0aW9uLgoKCiMjIEhUTUw1IEJvaWxlcnBsYXRlIGRlZmF1bHRzCgpUaGlzIHByb2plY3QgaW5jbHVkZXMgYSBoYW5kZnVsIG9mIGJhc2Ugc3R5bGVzIHRoYXQgYnVpbGQgdXBvbiBOb3JtYWxpemUuY3NzLgpUaGVzZSBpbmNsdWRlOgoKKiBCYXNpYyB0eXBvZ3JhcGh5IHNldHRpbmdzIHRvIHByb3ZpZGUgaW1wcm92ZWQgdGV4dCByZWFkYWJpbGl0eSBieSBkZWZhdWx0LgoqIFByb3RlY3Rpb24gYWdhaW5zdCB1bndhbnRlZCBgdGV4dC1zaGFkb3dgIGR1cmluZyB0ZXh0IGhpZ2hsaWdodGluZy4KKiBUd2Vha3MgdG8gZGVmYXVsdCBpbWFnZSBhbGlnbm1lbnQsIGZpZWxkc2V0cywgYW5kIHRleHRhcmVhcy4KKiBBIHByZXR0eSBDaHJvbWUgRnJhbWUgcHJvbXB0LgoKWW91IGFyZSBmcmVlIHRvIG1vZGlmeSBvciBhZGQgdG8gdGhlc2UgYmFzZSBzdHlsZXMgYXMgeW91ciBwcm9qZWN0IHJlcXVpcmVzLgoKCiMjIENvbW1vbiBoZWxwZXJzCgojIyMjIGAuaXJgCgpBZGQgdGhlIGAuaXJgIGNsYXNzIHRvIGFueSBlbGVtZW50IHlvdSBhcmUgYXBwbHlpbmcgaW1hZ2UtcmVwbGFjZW1lbnQgdG8uIFdoZW4KcmVwbGFjaW5nIGFuIGVsZW1lbnQncyBjb250ZW50IHdpdGggYW4gaW1hZ2UsIG1ha2Ugc3VyZSB0byBhbHNvIHNldCBhIHNwZWNpZmljCmBiYWNrZ3JvdW5kLWltYWdlOiB1cmwocGF0aHRvaW1hZ2UucG5nKTtgLCBgd2lkdGhgLCBhbmQgYGhlaWdodGAgc28gdGhhdCB5b3VyCnJlcGxhY2VtZW50IGltYWdlIGFwcGVhcnMuCgojIyMjIGAuaGlkZGVuYAoKQWRkIHRoZSBgLmhpZGRlbmAgY2xhc3MgdG8gYW55IGVsZW1lbnRzIHRoYXQgeW91IHdhbnQgdG8gaGlkZSBmcm9tIGFsbApwcmVzZW50YXRpb25zLCBpbmNsdWRpbmcgc2NyZWVuIHJlYWRlcnMuIEl0IGNvdWxkIGJlIGFuIGVsZW1lbnQgdGhhdCB3aWxsIGJlCnBvcHVsYXRlZCBsYXRlciB3aXRoIEphdmFTY3JpcHQgb3IgYW4gZWxlbWVudCB5b3Ugd2lsbCBoaWRlIHdpdGggSmF2YVNjcmlwdC4gRG8Kbm90IHVzZSB0aGlzIGZvciBTRU8ga2V5d29yZCBzdHVmZmluZy4gVGhhdCBpcyBqdXN0IG5vdCBjb29sLgoKIyMjIyBgLnZpc3VhbGx5aGlkZGVuYAoKQWRkIHRoZSBgLnZpc3VhbGx5aGlkZGVuYCBjbGFzcyB0byBoaWRlIHRleHQgZnJvbSBicm93c2VycyBidXQgbWFrZSBpdAphdmFpbGFibGUgZm9yIHNjcmVlbiByZWFkZXJzLiBZb3UgY2FuIHVzZSB0aGlzIHRvIGhpZGUgdGV4dCB0aGF0IGlzIHNwZWNpZmljIHRvCnNjcmVlbiByZWFkZXJzIGJ1dCB0aGF0IG90aGVyIHVzZXJzIHNob3VsZCBub3Qgc2VlLiBbQWJvdXQgaW52aXNpYmxlCmNvbnRlbnRdKGh0dHA6Ly93d3cud2ViYWltLm9yZy90ZWNobmlxdWVzL2Nzcy9pbnZpc2libGVjb250ZW50LyksIFtIaWRpbmcKY29udGVudCBmb3IKYWNjZXNzaWJpbGl0eV0oaHR0cDovL3Nub29rLmNhL2FyY2hpdmVzL2h0bWxfYW5kX2Nzcy9oaWRpbmctY29udGVudC1mb3ItYWNjZXNzaWJpbGl0eSksCltIVE1MNSBCb2lsZXJwbGF0ZQppc3N1ZS9yZXNlYXJjaF0oaHR0cHM6Ly9naXRodWIuY29tL2g1YnAvaHRtbDUtYm9pbGVycGxhdGUvaXNzdWVzLzE5NC8pLgoKIyMjIyBgLmludmlzaWJsZWAKCkFkZCB0aGUgYC5pbnZpc2libGVgIGNsYXNzIHRvIGFueSBlbGVtZW50IHlvdSB3YW50IHRvIGhpZGUgd2l0aG91dCBhZmZlY3RpbmcKbGF5b3V0LiBXaGVuIHlvdSB1c2UgYGRpc3BsYXk6IG5vbmVgIGFuIGVsZW1lbnQgaXMgZWZmZWN0aXZlbHkgcmVtb3ZlZCBmcm9tIHRoZQpsYXlvdXQuIEJ1dCBpbiBzb21lIGNhc2VzIHlvdSB3YW50IHRoZSBlbGVtZW50IHRvIHNpbXBseSBiZSBpbnZpc2libGUgd2hpbGUKcmVtYWluaW5nIGluIHRoZSBmbG93IGFuZCBub3QgYWZmZWN0aW5nIHRoZSBwb3NpdGlvbmluZyBvZiBzdXJyb3VuZGluZwpjb250ZW50LgoKIyMjIyBgLmNsZWFyZml4YAoKQWRkaW5nIGAuY2xlYXJmaXhgIHRvIGFuIGVsZW1lbnQgd2lsbCBlbnN1cmUgdGhhdCBpdCBhbHdheXMgZnVsbHkgY29udGFpbnMgaXRzCmZsb2F0ZWQgY2hpbGRyZW4uIFRoZXJlIGhhdmUgYmVlbiBtYW55IHZhcmlhbnRzIG9mIHRoZSBjbGVhcmZpeCBoYWNrIG92ZXIgdGhlCnllYXJzLCBhbmQgdGhlcmUgYXJlIG90aGVyIGhhY2tzIHRoYXQgY2FuIGFsc28gaGVscCB5b3UgdG8gY29udGFpbiBmbG9hdGVkCmNoaWxkcmVuLCBidXQgdGhlIEhUTUw1IEJvaWxlcnBsYXRlIGN1cnJlbnRseSB1c2VzIHRoZSBbbWljcm8KY2xlYXJmaXhdKGh0dHA6Ly9uaWNvbGFzZ2FsbGFnaGVyLmNvbS9taWNyby1jbGVhcmZpeC1oYWNrLykuCgoKIyMgTWVkaWEgUXVlcmllcwoKVGhlIGJvaWxlcnBsYXRlIG1ha2VzIGl0IGVhc3kgdG8gZ2V0IHN0YXJ0ZWQgd2l0aCBhICJNb2JpbGUgRmlyc3QiIGFuZApbUmVzcG9uc2l2ZSBXZWIKRGVzaWduXShodHRwOi8vd3d3LmFsaXN0YXBhcnQuY29tL2FydGljbGVzL3Jlc3BvbnNpdmUtd2ViLWRlc2lnbi8pIGFwcHJvYWNoIHRvCmRldmVsb3BtZW50LiBCdXQgaXQncyB3b3J0aCByZW1lbWJlcmluZyB0aGF0IHRoZXJlIGFyZSBbbm8gc2lsdmVyCmJ1bGxldHNdKGh0dHA6Ly93d3cuY2xvdWRmb3VyLmNvbS9jc3MtbWVkaWEtcXVlcnktZm9yLW1vYmlsZS1pcy1mb29scy1nb2xkLykuCgpXZSBpbmNsdWRlIGEgcGxhY2Vob2xkZXIgTWVkaWEgUXVlcmllcyB0byBidWlsZCB1cCB5b3VyIG1vYmlsZSBzdHlsZXMgZm9yIHdpZGVyCnZpZXdwb3J0cyBhbmQgaGlnaC1yZXNvbHV0aW9uIGRpc3BsYXlzLiBJdCdzIHJlY29tbWVuZGVkIHRoYXQgeW91IGFkYXB0IHRoZXNlCk1lZGlhIFF1ZXJpZXMgYmFzZWQgb24gdGhlIGNvbnRlbnQgb2YgeW91ciBzaXRlIHJhdGhlciB0aGFuIG1pcnJvcmluZyB0aGUgZml4ZWQKZGltZW5zaW9ucyBvZiBzcGVjaWZpYyBkZXZpY2VzLgoKSWYgeW91IGRvIG5vdCB3YW50IHRvIHRha2UgYSAiTW9iaWxlIEZpcnN0IiBhcHByb2FjaCwgeW91IGNhbiBzaW1wbHkgZWRpdCBvcgpyZW1vdmUgdGhlc2UgcGxhY2Vob2xkZXIgTWVkaWEgUXVlcmllcy4gT25lIHBvc3NpYmlsaXR5IHdvdWxkIGJlIHRvIHdvcmsgZnJvbQp3aWRlIHZpZXdwb3J0cyBkb3duIGFuZCB1c2UgYG1heC13aWR0aGAgTVFzIGluc3RlYWQsIGUuZy4sIGBAbWVkaWEgb25seSBzY3JlZW4KYW5kIChtYXgtd2lkdGg6IDQ4MHB4KWAuCgpUYWtlIGEgbG9vayBpbnRvIHRoZSBbTW9iaWxlCkJvaWxlcnBsYXRlXShodHRwczovL2dpdGh1Yi5jb20vaDVicC9tb2JpbGUtYm9pbGVycGxhdGUpIGZvciBmZWF0dXJlcyB0aGF0IGFyZQp1c2VmdWwgd2hlbiBkZXZlbG9waW5nIG1vYmlsZSB3ZXAgYXBwcy4KCgojIyBQcmludCBzdHlsZXMKCiogUHJpbnQgc3R5bGVzIGFyZSBpbmxpbmVkIHRvIFtyZWR1Y2UgdGhlIG51bWJlciBvZiBwYWdlCiAgcmVxdWVzdHNdKGh0dHA6Ly93d3cucGhwaWVkLmNvbS9kZWxheS1sb2FkaW5nLXlvdXItcHJpbnQtY3NzLykuCiogV2Ugc3RyaXAgYWxsIGJhY2tncm91bmQgY29sb3JzLCBjaGFuZ2UgdGhlIGZvbnQgY29sb3IgdG8gYmxhY2sgYW5kIHJlbW92ZQogIHRleHQtc2hhZG93LiBUaGlzIGlzIG1lYW50IHRvIFtoZWxwIHNhdmUgcHJpbnRlciBpbmsgYW5kIG1ha2UgdGhlIHByaW50aW5nCiAgcHJvY2VzcyBtdWNoIGZhc3Rlcl0oaHR0cDovL3d3dy5zYW5iZWlqaS5jb20vYXJjaGl2ZXMvOTUzKS4KKiBBbmNob3JzIGRvIG5vdCBuZWVkIGNvbG9ycyB0byBpbmRpY2F0ZSB0aGV5IGFyZSBsaW5rZWQuIFRoZXkgYXJlIHVuZGVybGluZWQKICB0byBpbmRpY2F0ZSBzby4KKiBBbmNob3JzIGFuZCBBYmJyZXZpYXRpb25zIGFyZSBleHBhbmRlZCB0byBpbmRpY2F0ZSB3aGVyZSB1c2VycyByZWFkaW5nIHRoZQogIHByaW50ZWQgcGFnZSBjYW4gcmVmZXIgdG8uCiogQnV0IHdlIGRvIG5vdCB3YW50IHRvIHNob3cgbGluayB0ZXh0IGZvciBpbWFnZSByZXBsYWNlZCBlbGVtZW50cyAoZ2l2ZW4gdGhhdAogIHRoZXkgYXJlIHByaW1hcmlseSBpbWFnZXMpLgoKIyMjIFBhZ2VkIG1lZGlhIHN0eWxlcwoKKiBQYWdlZCBtZWRpYSBpcyBzdXBwb3J0ZWQgb25seSBpbiBhIFtmZXcKICBicm93c2Vyc10oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21wYXJpc29uX29mX2xheW91dF9lbmdpbmVzXyUyOENhc2NhZGluZ19TdHlsZV9TaGVldHMlMjkjR3JhbW1hcl9hbmRfcnVsZXMpLgoqIFBhZ2VkIG1lZGlhIHN1cHBvcnQgbWVhbnMgYnJvd3NlcnMgd291bGQga25vdyBob3cgdG8gaW50ZXJwcmV0IGluc3RydWN0aW9ucwogIG9uIGJyZWFraW5nIGNvbnRlbnQgaW50byBwYWdlcyBhbmQgb24gb3JwaGFucy93aWRvd3MuCiogV2UgdXNlIGBwYWdlLWJyZWFrLWluc2lkZTogYXZvaWQ7YCB0byBwcmV2ZW50IGFuIGltYWdlIGFuZCB0YWJsZSByb3cgZnJvbQogIGJlaW5nIHNwbGl0IGludG8gdHdvIGRpZmZlcmVudCBwYWdlcywgc28gdXNlIHRoZSBzYW1lIGBwYWdlLWJyZWFrLWluc2lkZToKICBhdm9pZDtgIGZvciB0aGF0IGFzIHdlbGwuCiogSGVhZGluZ3Mgc2hvdWxkIGFsd2F5cyBhcHBlYXIgd2l0aCB0aGUgdGV4dCB0aGV5IGFyZSB0aXRsZXMgZm9yLiBTbywgd2UKICBlbnN1cmUgaGVhZGluZ3MgbmV2ZXIgYXBwZWFyIGluIGEgZGlmZmVyZW50IHBhZ2UgdGhhbiB0aGUgdGV4dCB0aGV5IGRlc2NyaWJlCiAgYnkgdXNpbmcgYHBhZ2UtYnJlYWstYWZ0ZXI6IGF2b2lkO2AuCiogV2UgYWxzbyBhcHBseSBhIGRlZmF1bHQgbWFyZ2luIGZvciB0aGUgcGFnZSBzcGVjaWZpZWQgaW4gYGNtYC4KKiBXZSBkbyBub3Qgd2FudCBbb3JwaGFucyBhbmQKICB3aWRvd3NdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvV2lkb3dzX2FuZF9vcnBoYW5zKSB0byBhcHBlYXIgb24gcGFnZXMKICB5b3UgcHJpbnQuIFNvLCBieSBkZWZpbmluZyBgb3JwaGFuczogM2AgYW5kIGB3aWRvd3M6IDNgIHlvdSBkZWZpbmUgdGhlIG1pbmltYWwKICBudW1iZXIgb2Ygd29yZHMgdGhhdCBldmVyeSBsaW5lIHNob3VsZCBjb250YWluLgo=')
},
{
'name': '/app/bower_components/html5-boilerplate/doc/js.md', 'data': base64.b64decode('W0hUTUw1IEJvaWxlcnBsYXRlIGhvbWVwYWdlXShodHRwOi8vaHRtbDVib2lsZXJwbGF0ZS5jb20pIHwgW0RvY3VtZW50YXRpb24KdGFibGUgb2YgY29udGVudHNdKFRPQy5tZCkKCiMgVGhlIEphdmFTY3JpcHQKCkluZm9ybWF0aW9uIGFib3V0IHRoZSBkZWZhdWx0IEphdmFTY3JpcHQgaW5jbHVkZWQgaW4gdGhlIHByb2plY3QuCgojIyBtYWluLmpzCgpUaGlzIGZpbGUgY2FuIGJlIHVzZWQgdG8gY29udGFpbiBvciByZWZlcmVuY2UgeW91ciBzaXRlL2FwcCBKYXZhU2NyaXB0IGNvZGUuCkZvciBsYXJnZXIgcHJvamVjdHMsIHlvdSBjYW4gbWFrZSB1c2Ugb2YgYSBKYXZhU2NyaXB0IG1vZHVsZSBsb2FkZXIsIGxpa2UKW1JlcXVpcmUuanNdKGh0dHA6Ly9yZXF1aXJlanMub3JnLyksIHRvIGxvYWQgYW55IG90aGVyIHNjcmlwdHMgeW91IG5lZWQgdG8KcnVuLgoKIyMgcGx1Z2lucy5qcwoKVGhpcyBmaWxlIGNhbiBiZSB1c2VkIHRvIGNvbnRhaW4gYWxsIHlvdXIgcGx1Z2lucywgc3VjaCBhcyBqUXVlcnkgcGx1Z2lucyBhbmQKb3RoZXIgM3JkIHBhcnR5IHNjcmlwdHMuCgpPbmUgYXBwcm9hY2ggaXMgdG8gcHV0IGpRdWVyeSBwbHVnaW5zIGluc2lkZSBvZiBhIGAoZnVuY3Rpb24oJCl7IC4uLgp9KShqUXVlcnkpO2AgY2xvc3VyZSB0byBtYWtlIHN1cmUgdGhleSdyZSBpbiB0aGUgalF1ZXJ5IG5hbWVzcGFjZSBzYWZldHkKYmxhbmtldC4gUmVhZCBtb3JlIGFib3V0IFtqUXVlcnkgcGx1Z2luCmF1dGhvcmluZ10oaHR0cDovL2RvY3MuanF1ZXJ5LmNvbS9QbHVnaW5zL0F1dGhvcmluZyNHZXR0aW5nX1N0YXJ0ZWQpCgojIyB2ZW5kb3IKClRoaXMgZGlyZWN0b3J5IGNhbiBiZSB1c2VkIHRvIGNvbnRhaW4gYWxsIDNyZCBwYXJ0eSBsaWJyYXJ5IGNvZGUuCgpNaW5pZmllZCB2ZXJzaW9ucyBvZiB0aGUgbGF0ZXN0IGpRdWVyeSBhbmQgTW9kZXJuaXpyIGxpYnJhcmllcyBhcmUgaW5jbHVkZWQgYnkKZGVmYXVsdC4gWW91IG1heSB3aXNoIHRvIGNyZWF0ZSB5b3VyIG93biBbY3VzdG9tIE1vZGVybml6cgpidWlsZF0oaHR0cDovL3d3dy5tb2Rlcm5penIuY29tL2Rvd25sb2FkLykuCg==')
},
{
'name': '/app/bower_components/html5-boilerplate/doc/TOC.md', 'data': base64.b64decode('W0hUTUw1IEJvaWxlcnBsYXRlIGhvbWVwYWdlXShodHRwOi8vaHRtbDVib2lsZXJwbGF0ZS5jb20pCgojIEhUTUw1IEJvaWxlcnBsYXRlIGRvY3VtZW50YXRpb246CgojIyBHZXR0aW5nIHN0YXJ0ZWQKCiogW1VzYWdlXSh1c2FnZS5tZCkg4oCUIE92ZXJ2aWV3IG9mIHRoZSBwcm9qZWN0IGNvbnRlbnRzLgoqIFtGQVFdKGZhcS5tZCkg4oCUIEZyZXF1ZW50bHkgYXNrZWQgcXVlc3Rpb25zLCBhbG9uZyB3aXRoIHRoZWlyIGFuc3dlcnMuCgojIyBUaGUgY29yZSBvZiBIVE1MNSBCb2lsZXJwbGF0ZQoKKiBbSFRNTF0oaHRtbC5tZCkg4oCUIEEgZ3VpZGUgdG8gdGhlIGRlZmF1bHQgSFRNTC4KKiBbQ1NTXShjc3MubWQpIOKAlCBBIGd1aWRlIHRvIHRoZSBkZWZhdWx0IENTUy4KKiBbSmF2YVNjcmlwdF0oanMubWQpIOKAlCBBIGd1aWRlIHRvIHRoZSBkZWZhdWx0IEphdmFTY3JpcHQuCiogWy5odGFjY2Vzc10oaHR0cHM6Ly9naXRodWIuY29tL2g1YnAvc2VydmVyLWNvbmZpZ3MtYXBhY2hlL3RyZWUvbWFzdGVyL2RvYykKICDigJQgQWxsIGFib3V0IHRoZSBBcGFjaGUgd2ViIHNlcnZlciBjb25maWdzIChhbHNvIHNlZSBvdXIgW2FsdGVybmF0aXZlIHNlcnZlcgogIGNvbmZpZ3NdKGh0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL3NlcnZlci1jb25maWdzL2Jsb2IvbWFzdGVyL1JFQURNRS5tZCkpLgoqIFtjcm9zc2RvbWFpbi54bWxdKGNyb3NzZG9tYWluLm1kKSDigJQgQW4gaW50cm9kdWN0aW9uIHRvIG1ha2luZyB1c2Ugb2YKICBjcm9zc2RvbWFpbiByZXF1ZXN0cy4KKiBbRXZlcnl0aGluZyBlbHNlXShtaXNjLm1kKS4KCiMjIERldmVsb3BtZW50CgoqIFtFeHRlbmRpbmcgYW5kIGN1c3RvbWl6aW5nIEhUTUw1IEJvaWxlcnBsYXRlXShleHRlbmQubWQpIOKAlCBHb2luZyBmdXJ0aGVyIHdpdGgKICB0aGUgYm9pbGVycGxhdGUuCgojIyBSZWxhdGVkIHByb2plY3RzCgpIVE1MNSBCb2lsZXJwbGF0ZSBoYXMgc2V2ZXJhbCByZWxhdGVkIHByb2plY3RzIHRvIGhlbHAgaW1wcm92ZSB0aGUgcGVyZm9ybWFuY2UKb2YgeW91ciBzaXRlL2FwcCBpbiB2YXJpb3VzIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzLgoKKiBbU2VydmVyIGNvbmZpZ3NdKGh0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL3NlcnZlci1jb25maWdzKSDigJQgQ29uZmlncyBmb3IKICBkaWZmZXJlbnQgc2VydmVycy4KKiBbTm9kZSBidWlsZCBzY3JpcHRdKGh0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL25vZGUtYnVpbGQtc2NyaXB0KSDigJQgQQogIGZlYXR1cmUtcmljaCBbZ3J1bnRdKGh0dHBzOi8vZ2l0aHViLmNvbS9ncnVudGpzL2dydW50KSBwbHVnaW4uCiogW0FudCBidWlsZCBzY3JpcHRdKGh0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL2FudC1idWlsZC1zY3JpcHQpIOKAlCBUaGUgb3JpZ2luYWwKICBIVE1MNSBCb2lsZXJwbGF0ZSBidWlsZCBzY3JpcHQuCg==')
},
{
'name': '/app/bower_components/html5-boilerplate/doc/html.md', 'data': base64.b64decode('W0hUTUw1IEJvaWxlcnBsYXRlIGhvbWVwYWdlXShodHRwOi8vaHRtbDVib2lsZXJwbGF0ZS5jb20pIHwgW0RvY3VtZW50YXRpb24KdGFibGUgb2YgY29udGVudHNdKFRPQy5tZCkKCiMgVGhlIEhUTUwKCiMjIENvbmRpdGlvbmFsIGBodG1sYCBjbGFzc2VzCgpBIHNlcmllcyBvZiBJRSBjb25kaXRpb25hbCBjb21tZW50cyBhcHBseSB0aGUgcmVsZXZhbnQgSUUtc3BlY2lmaWMgY2xhc3NlcyB0bwp0aGUgYGh0bWxgIHRhZy4gVGhpcyBwcm92aWRlcyBvbmUgbWV0aG9kIG9mIHNwZWNpZnlpbmcgQ1NTIGZpeGVzIGZvciBzcGVjaWZpYwpsZWdhY3kgdmVyc2lvbnMgb2YgSUUuIFdoaWxlIHlvdSBtYXkgb3IgbWF5IG5vdCBjaG9vc2UgdG8gdXNlIHRoaXMgdGVjaG5pcXVlIGluCnlvdXIgcHJvamVjdCBjb2RlLCBIVE1MNSBCb2lsZXJwbGF0ZSdzIGRlZmF1bHQgQ1NTIGRvZXMgbm90IHJlbHkgb24gaXQuCgpXaGVuIHVzaW5nIHRoZSBjb25kaXRpb25hbCBjbGFzc2VzIHRlY2huaXF1ZSwgYXBwbHlpbmcgY2xhc3NlcyB0byB0aGUgYGh0bWxgCmVsZW1lbnQgaGFzIHNldmVyYWwgYmVuZWZpdHM6CgoqIEl0IGF2b2lkcyBhIFtmaWxlIGJsb2NraW5nCiAgaXNzdWVdKGh0dHA6Ly93ZWJmb3JzY2hlci53b3JkcHJlc3MuY29tLzIwMTAvMDUvMjAvaWUtNi1zbG93aW5nLWRvd24taWUtOC8pCiAgZGlzY292ZXJlZCBieSBTdG95YW4gU3RlZmFub3YgYW5kIE1hcmt1cyBMZXB0aWVuLgoqIEl0IGF2b2lkcyB0aGUgbmVlZCBmb3IgYW4gZW1wdHkgY29tbWVudCB0aGF0IGFsc28gZml4ZXMgdGhlIGFib3ZlIGlzc3VlLgoqIENNU2VzIGxpa2UgV29yZFByZXNzIGFuZCBEcnVwYWwgdXNlIHRoZSBib2R5IGNsYXNzIG1vcmUgaGVhdmlseS4gVGhpcyBtYWtlcwogIGludGVncmF0aW5nIHRoZXJlIGEgdG91Y2ggc2ltcGxlci4KKiBJdCBzdGlsbCB2YWxpZGF0ZXMgYXMgSFRNTDUuCiogSXQgdXNlcyB0aGUgc2FtZSBlbGVtZW50IGFzIE1vZGVybml6ciAoYW5kIERvam8pLiBUaGF0IGZlZWxzIG5pY2UuCiogSXQgY2FuIGltcHJvdmUgdGhlIGNsYXJpdHkgb2YgY29kZSBpbiBtdWx0aS1kZXZlbG9wZXIgdGVhbXMuCgoKIyMgVGhlIGBuby1qc2AgY2xhc3MKCkFsbG93cyB5b3UgdG8gbW9yZSBlYXNpbHkgZXhwbGljaXRseSBhZGQgY3VzdG9tIHN0eWxlcyB3aGVuIEphdmFTY3JpcHQgaXMKZGlzYWJsZWQgKGBuby1qc2ApIG9yIGVuYWJsZWQgKGBqc2ApLiBNb3JlIGhlcmU6IFtBdm9pZGluZyB0aGUKRk9VQ10oaHR0cDovL3BhdWxpcmlzaC5jb20vMjAwOS9hdm9pZGluZy10aGUtZm91Yy12My8pLgoKCiMjIFRoZSBvcmRlciBvZiBtZXRhIHRhZ3MsIGFuZCBgPHRpdGxlPmAKCkFzIHJlY29tbWVuZGVkIGJ5IFt0aGUgSFRNTDUKc3BlY10oaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9jb21wbGV0ZS9zZW1hbnRpY3MuaHRtbCNjaGFyc2V0KQooNC4yLjUuNSBTcGVjaWZ5aW5nIHRoZSBkb2N1bWVudCdzIGNoYXJhY3RlciBlbmNvZGluZyksIGFkZCB5b3VyIGNoYXJzZXQKZGVjbGFyYXRpb24gZWFybHkgKGJlZm9yZSBhbnkgQVNDSUkgYXJ0IDspIHRvIGF2b2lkIGEgcG90ZW50aWFsCltlbmNvZGluZy1yZWxhdGVkIHNlY3VyaXR5Cmlzc3VlXShodHRwOi8vY29kZS5nb29nbGUuY29tL3AvZG9jdHlwZS1taXJyb3Ivd2lraS9BcnRpY2xlVXRmNykgaW4gSUUuIEl0CnNob3VsZCBjb21lIGluIHRoZSBmaXJzdCBbMTAyNApieXRlc10oaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2Uvc2VtYW50aWNzLmh0bWwjY2hhcnNldCkuCgpUaGUgY2hhcnNldCBzaG91bGQgYWxzbyBjb21lIGJlZm9yZSB0aGUgYDx0aXRsZT5gIHRhZywgZHVlIHRvIFtwb3RlbnRpYWwgWFNTCnZlY3RvcnNdKGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9kb2N0eXBlLW1pcnJvci93aWtpL0FydGljbGVVdGY3KS4KClRoZSBtZXRhIHRhZyBmb3IgY29tcGF0aWJpbGl0eSBtb2RlIFtuZWVkcyB0byBiZSBiZWZvcmUgYWxsIGVsZW1lbnRzIGV4Y2VwdAp0aXRsZSBhbmQgbWV0YV0oaHR0cDovL2g1YnAuY29tL2YgIkRlZmluaW5nIERvY3VtZW50IENvbXBhdGliaWxpdHkgLSBNU0ROIikuCkFuZCB0aGF0IHNhbWUgbWV0YSB0YWcgY2FuIG9ubHkgYmUgaW52b2tlZCBmb3IgR29vZ2xlIENocm9tZSBGcmFtZSBpZiBpdCBpcwp3aXRoaW4gdGhlIFtmaXJzdCAxMDI0CmJ5dGVzXShodHRwOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yMzAwMykuCgoKIyMgWC1VQS1Db21wYXRpYmxlCgpUaGlzIG1ha2VzIHN1cmUgdGhlIGxhdGVzdCB2ZXJzaW9uIG9mIElFIGlzIHVzZWQgaW4gdmVyc2lvbnMgb2YgSUUgdGhhdCBjb250YWluCm11bHRpcGxlIHJlbmRlcmluZyBlbmdpbmVzLiBFdmVuIGlmIGEgc2l0ZSB2aXNpdG9yIGlzIHVzaW5nIElFOCBvciBJRTksIGl0J3MKcG9zc2libGUgdGhhdCB0aGV5J3JlIG5vdCB1c2luZyB0aGUgbGF0ZXN0IHJlbmRlcmluZyBlbmdpbmUgdGhlaXIgYnJvd3Nlcgpjb250YWlucy4gVG8gZml4IHRoaXMsIHVzZToKCmBgYGh0bWwKPG1ldGEgaHR0cC1lcXVpdj0iWC1VQS1Db21wYXRpYmxlIiBjb250ZW50PSJJRT1lZGdlIj4KYGBgCgpUaGUgYG1ldGFgIHRhZyB0ZWxscyB0aGUgSUUgcmVuZGVyaW5nIGVuZ2luZSBpdCBzaG91bGQgdXNlIHRoZSBsYXRlc3QsIG9yIGVkZ2UsCnZlcnNpb24gb2YgdGhlIElFIHJlbmRlcmluZyBlbnZpcm9ubWVudC4KClRoaXMgYG1ldGFgIHRhZyBlbnN1cmVzIHRoYXQgYW55b25lIGJyb3dzaW5nIHlvdXIgc2l0ZSBpbiBJRSBpcyB0cmVhdGVkIHRvIHRoZQpiZXN0IHBvc3NpYmxlIHVzZXIgZXhwZXJpZW5jZSB0aGF0IHRoZWlyIGJyb3dzZXIgY2FuIG9mZmVyLgoKVGhpcyBsaW5lIGJyZWFrcyB2YWxpZGF0aW9uLiBUbyBhdm9pZCB0aGlzIGVkZ2UgY2FzZSBpc3N1ZSBpdCBpcyByZWNvbW1lbmRlZAp0aGF0IHlvdSAqKnJlbW92ZSB0aGlzIGxpbmUgYW5kIHVzZSB0aGUgYC5odGFjY2Vzc2AqKiAob3Igb3RoZXIgc2VydmVyIGNvbmZpZykKdG8gc2VuZCB0aGVzZSBoZWFkZXJzIGluc3RlYWQuIFlvdSBhbHNvIG1pZ2h0IHdhbnQgdG8gcmVhZCBbVmFsaWRhdGluZzoKWC1VQS1Db21wYXRpYmxlXShodHRwOi8vZ3JvdXBzLmdvb2dsZS5jb20vZ3JvdXAvaHRtbDVib2lsZXJwbGF0ZS9icm93c2VfdGhyZWFkL3RocmVhZC82ZDFiNmIxNTJhY2E4ZWQyKS4KCklmIHlvdSBhcmUgc2VydmluZyB5b3VyIHNpdGUgb24gYSBub24tc3RhbmRhcmQgcG9ydCwgeW91IHdpbGwgbmVlZCB0byBzZXQgdGhpcwpoZWFkZXIgb24gdGhlIHNlcnZlci1zaWRlLiBUaGlzIGlzIGJlY2F1c2UgdGhlIElFIHByZWZlcmVuY2Ugb3B0aW9uICdEaXNwbGF5CmludHJhbmV0IHNpdGVzIGluIENvbXBhdGliaWxpdHkgVmlldycgaXMgY2hlY2tlZCBieSBkZWZhdWx0LgoKCiMjIE1vYmlsZSB2aWV3cG9ydAoKVGhlcmUgYXJlIGEgZmV3IGRpZmZlcmVudCBvcHRpb25zIHRoYXQgeW91IGNhbiB1c2Ugd2l0aCB0aGUgW2B2aWV3cG9ydGAgbWV0YQp0YWddKGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL3ByZXNlbnQvdmlldz9pZD1ka3gzcXRtXzIyZHhzcmdjZjQgIlZpZXdwb3J0IGFuZApNZWRpYSBRdWVyaWVzIC0gVGhlIENvbXBsZXRlIElkaW90J3MgR3VpZGUiKS4gWW91IGNhbiBmaW5kIG91dCBtb3JlIGluIFt0aGUKQXBwbGUgZGV2ZWxvcGVyIGRvY3NdKGh0dHA6Ly9qLm1wL21vYmlsZXZpZXdwb3J0KS4gSFRNTDUgQm9pbGVycGxhdGUgY29tZXMgd2l0aAphIHNpbXBsZSBzZXR1cCB0aGF0IHN0cmlrZXMgYSBnb29kIGJhbGFuY2UgZm9yIGdlbmVyYWwgdXNlIGNhc2VzLgoKYGBgaHRtbAo8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEiPgpgYGAKCiMjIEZhdmljb25zIGFuZCBUb3VjaCBJY29uCgpUaGUgc2hvcnRjdXQgaWNvbnMgc2hvdWxkIGJlIHB1dCBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgeW91ciBzaXRlLiBIVE1MNQpCb2lsZXJwbGF0ZSBjb21lcyB3aXRoIGEgZGVmYXVsdCBzZXQgb2YgaWNvbnMgKGluY2x1ZGUgZmF2aWNvbiBhbmQgb25lIEFwcGxlClRvdWNoIEljb24pIHRoYXQgeW91IGNhbiB1c2UgYXMgYSBiYXNlbGluZSB0byBjcmVhdGUgeW91ciBvd24uCgpQbGVhc2UgcmVmZXIgdG8gdGhlIG1vcmUgZGV0YWlsZWQgZGVzY3JpcHRpb24gaW4gdGhlIFtFeHRlbmQgc2VjdGlvbl0oZXh0ZW5kLm1kKQpvZiB0aGVzZSBkb2NzLgoKIyMgTW9kZXJuaXpyCgpIVE1MNSBCb2lsZXJwbGF0ZSB1c2VzIGEgY3VzdG9tIGJ1aWxkIG9mIE1vZGVybml6ci4KCltNb2Rlcm5penJdKGh0dHA6Ly9tb2Rlcm5penIuY29tKSBpcyBhIEphdmFTY3JpcHQgbGlicmFyeSB3aGljaCBhZGRzIGNsYXNzZXMgdG8KdGhlIGBodG1sYCBlbGVtZW50IGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIGZlYXR1cmUgdGVzdCBhbmQgd2hpY2ggZW5zdXJlcyB0aGF0CmFsbCBicm93c2VycyBjYW4gbWFrZSB1c2Ugb2YgSFRNTDUgZWxlbWVudHMgKGFzIGl0IGluY2x1ZGVzIHRoZSBIVE1MNSBTaGl2KS4KVGhpcyBhbGxvd3MgeW91IHRvIHRhcmdldCBwYXJ0cyBvZiB5b3VyIENTUyBhbmQgSmF2YVNjcmlwdCBiYXNlZCBvbiB0aGUKZmVhdHVyZXMgc3VwcG9ydGVkIGJ5IGEgYnJvd3Nlci4KCkluIGdlbmVyYWwsIGluIG9yZGVyIHRvIGtlZXAgcGFnZSBsb2FkIHRpbWVzIHRvIGEgbWluaW11bSwgaXQncyBiZXN0IHRvIGNhbGwKYW55IEphdmFTY3JpcHQgYXQgdGhlIGVuZCBvZiB0aGUgcGFnZSBiZWNhdXNlIGlmIGEgc2NyaXB0IGlzIHNsb3cgdG8gbG9hZApmcm9tIGFuIGV4dGVybmFsIHNlcnZlciBpdCBtYXkgY2F1c2UgdGhlIHdob2xlIHBhZ2UgdG8gaGFuZy4gVGhhdCBzYWlkLCB0aGUKTW9kZXJuaXpyIHNjcmlwdCAqbmVlZHMqIHRvIHJ1biAqYmVmb3JlKiB0aGUgYnJvd3NlciBiZWdpbnMgcmVuZGVyaW5nIHRoZSBwYWdlLApzbyB0aGF0IGJyb3dzZXJzIGxhY2tpbmcgc3VwcG9ydCBmb3Igc29tZSBvZiB0aGUgbmV3IEhUTUw1IGVsZW1lbnRzIGFyZSBhYmxlIHRvCmhhbmRsZSB0aGVtIHByb3Blcmx5LiBUaGVyZWZvcmUgdGhlIE1vZGVybml6ciBzY3JpcHQgaXMgdGhlIG9ubHkgSmF2YVNjcmlwdApmaWxlIHN5bmNocm9ub3VzbHkgbG9hZGVkIGF0IHRoZSB0b3Agb2YgdGhlIGRvY3VtZW50LgoKCiMjIFRoZSBjb250ZW50IGFyZWEKClRoZSBjZW50cmFsIHBhcnQgb2YgdGhlIGJvaWxlcnBsYXRlIHRlbXBsYXRlIGlzIHByZXR0eSBtdWNoIGVtcHR5LiBUaGlzIGlzCmludGVudGlvbmFsLCBpbiBvcmRlciB0byBtYWtlIHRoZSBib2lsZXJwbGF0ZSBzdWl0YWJsZSBmb3IgYm90aCB3ZWIgcGFnZSBhbmQKd2ViIGFwcCBkZXZlbG9wbWVudC4KCiMjIyBHb29nbGUgQ2hyb21lIEZyYW1lCgpUaGUgbWFpbiBjb250ZW50IGFyZWEgb2YgdGhlIGJvaWxlcnBsYXRlIGluY2x1ZGVzIGEgcHJvbXB0IHRvIGluc3RhbGwgQ2hyb21lCkZyYW1lICh3aGljaCBubyBsb25nZXIgcmVxdWlyZXMgYWRtaW5pc3RyYXRpdmUgcmlnaHRzKSBmb3IgdXNlcnMgb2YgSUUgNi4gSWYKeW91IGludGVuZGVkIHRvIHN1cHBvcnQgSUUgNiwgdGhlbiB5b3Ugc2hvdWxkIHJlbW92ZSB0aGUgc25pcHBldCBvZiBjb2RlLgoKIyMjIEdvb2dsZSBDRE4gZm9yIGpRdWVyeQoKVGhlIEdvb2dsZSBDRE4gdmVyc2lvbiBvZiB0aGUgalF1ZXJ5IEphdmFTY3JpcHQgbGlicmFyeSBpcyByZWZlcmVuY2VkIHRvd2FyZHMKdGhlIGJvdHRvbSBvZiB0aGUgcGFnZSB1c2luZyBhIHByb3RvY29sLWluZGVwZW5kZW50IHBhdGggKHJlYWQgbW9yZSBhYm91dCB0aGlzCmluIHRoZSBbRkFRXShmYXEubWQpKS4gQSBsb2NhbCBmYWxsYmFjayBvZiBqUXVlcnkgaXMgaW5jbHVkZWQgZm9yIHJhcmUgaW5zdGFuY2VzCndoZW4gdGhlIENETiB2ZXJzaW9uIG1pZ2h0IG5vdCBiZSBhdmFpbGFibGUsIGFuZCB0byBmYWNpbGl0YXRlIG9mZmxpbmUKZGV2ZWxvcG1lbnQuCgpSZWdhcmRsZXNzIG9mIHdoaWNoIEphdmFTY3JpcHQgbGlicmFyeSB5b3UgY2hvb3NlIHRvIHVzZSwgaXQgaXMgd2VsbCB3b3J0aCB0aGUKdGltZSBhbmQgZWZmb3J0IHRvIGxvb2sgdXAgYW5kIHJlZmVyZW5jZSB0aGUgR29vZ2xlIENETiAoQ29udGVudCBEZWxpdmVyeQpOZXR3b3JrKSB2ZXJzaW9uLiBZb3VyIHVzZXJzIG1heSBhbHJlYWR5IGhhdmUgdGhpcyB2ZXJzaW9uIGNhY2hlZCBpbiB0aGVpcgpicm93c2VycywgYW5kIEdvb2dsZSdzIENETiBpcyBsaWtlbHkgdG8gZGVsaXZlciB0aGUgYXNzZXQgZmFzdGVyIHRoYW4geW91cgpzZXJ2ZXIuCgojIyMgR29vZ2xlIEFuYWx5dGljcyBUcmFja2luZyBDb2RlCgpGaW5hbGx5LCBhbiBvcHRpbWl6ZWQgdmVyc2lvbiBvZiB0aGUgbGF0ZXN0IEdvb2dsZSBBbmFseXRpY3MgdHJhY2tpbmcgY29kZSBpcwppbmNsdWRlZC4gR29vZ2xlIHJlY29tbWVuZHMgdGhhdCB0aGlzIHNjcmlwdCBiZSBwbGFjZWQgYXQgdGhlIHRvcCBvZiB0aGUgcGFnZS4KRmFjdG9ycyB0byBjb25zaWRlcjogaWYgeW91IHBsYWNlIHRoaXMgc2NyaXB0IGF0IHRoZSB0b3Agb2YgdGhlIHBhZ2UsIHlvdeKAmWxsIGJlCmFibGUgdG8gY291bnQgdXNlcnMgd2hvIGRvbuKAmXQgZnVsbHkgbG9hZCB0aGUgcGFnZSwgYW5kIHlvdeKAmWxsIGluY3VyIHRoZSBtYXgKbnVtYmVyIG9mIHNpbXVsdGFuZW91cyBjb25uZWN0aW9ucyBvZiB0aGUgYnJvd3Nlci4KCkZ1cnRoZXIgaW5mb3JtYXRpb246CgoqIFtPcHRpbWl6aW5nIHRoZSBhc3luY2hyb25vdXMgR29vZ2xlIEFuYWx5dGljcwogIHNuaXBwZXRdKGh0dHA6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2FzeW5jLWFuYWx5dGljcy1zbmlwcGV0KS4KKiBbVHJhY2tpbmcgU2l0ZSBBY3Rpdml0eSAtIEdvb2dsZQogIEFuYWx5dGljc10oaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9hcGlzL2FuYWx5dGljcy9kb2NzL3RyYWNraW5nL2FzeW5jVHJhY2tpbmcuaHRtbCkuCg==')
},
{
'name': '/app/bower_components/html5-boilerplate/doc/usage.md', 'data': base64.b64decode('W0hUTUw1IEJvaWxlcnBsYXRlIGhvbWVwYWdlXShodHRwOi8vaHRtbDVib2lsZXJwbGF0ZS5jb20pIHwgW0RvY3VtZW50YXRpb24KdGFibGUgb2YgY29udGVudHNdKFRPQy5tZCkKCiMgVXNhZ2UKCk9uY2UgeW91IGhhdmUgY2xvbmVkIG9yIGRvd25sb2FkZWQgSFRNTDUgQm9pbGVycGxhdGUsIGNyZWF0aW5nIGEgc2l0ZSBvciBhcHAKdXN1YWxseSBpbnZvbHZlcyB0aGUgZm9sbG93aW5nOgoKMS4gU2V0IHVwIHRoZSBiYXNpYyBzdHJ1Y3R1cmUgb2YgdGhlIHNpdGUuCjIuIEFkZCBzb21lIGNvbnRlbnQsIHN0eWxlLCBhbmQgZnVuY3Rpb25hbGl0eS4KMy4gUnVuIHlvdXIgc2l0ZSBsb2NhbGx5IHRvIHNlZSBob3cgaXQgbG9va3MuCjQuIChPcHRpb25hbGx5IHJ1biBhIGJ1aWxkIHNjcmlwdCB0byBhdXRvbWF0ZSB0aGUgb3B0aW1pemF0aW9uIG9mIHlvdXIgc2l0ZSAtCiAgIGUuZy4gW2FudCBidWlsZCBzY3JpcHRdKGh0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL2FudC1idWlsZC1zY3JpcHQpIG9yIFtub2RlCiAgIGJ1aWxkIHNjcmlwdF0oaHR0cHM6Ly9naXRodWIuY29tL2g1YnAvbm9kZS1idWlsZC1zY3JpcHQpKS4KNS4gRGVwbG95IHlvdXIgc2l0ZS4KCgojIyBCYXNpYyBzdHJ1Y3R1cmUKCkEgYmFzaWMgSFRNTDUgQm9pbGVycGxhdGUgc2l0ZSBpbml0aWFsbHkgbG9va3Mgc29tZXRoaW5nIGxpa2UgdGhpczoKCmBgYAouCuKUnOKUgOKUgCBjc3MK4pSCICAg4pSc4pSA4pSAIG1haW4uY3NzCuKUgiAgIOKUlOKUgOKUgCBub3JtYWxpemUuY3NzCuKUnOKUgOKUgCBkb2MK4pSc4pSA4pSAIGltZwrilJzilIDilIAganMK4pSCICAg4pSc4pSA4pSAIG1haW4uanMK4pSCICAg4pSc4pSA4pSAIHBsdWdpbnMuanMK4pSCICAg4pSU4pSA4pSAIHZlbmRvcgrilIIgICAgICAg4pSc4pSA4pSAIGpxdWVyeS5taW4uanMK4pSCICAgICAgIOKUlOKUgOKUgCBtb2Rlcm5penIubWluLmpzCuKUnOKUgOKUgCAuaHRhY2Nlc3MK4pSc4pSA4pSAIDQwNC5odG1sCuKUnOKUgOKUgCBhcHBsZS10b3VjaC1pY29uLXByZWNvbXBvc2VkLnBuZwrilJzilIDilIAgaW5kZXguaHRtbArilJzilIDilIAgaHVtYW5zLnR4dArilJzilIDilIAgcm9ib3RzLnR4dArilJzilIDilIAgY3Jvc3Nkb21haW4ueG1sCuKUlOKUgOKUgCBmYXZpY29uLmljbwpgYGAKCldoYXQgZm9sbG93cyBpcyBhIGdlbmVyYWwgb3ZlcnZpZXcgb2YgZWFjaCBtYWpvciBwYXJ0IGFuZCBob3cgdG8gdXNlIHRoZW0uCgojIyMgY3NzCgpUaGlzIGRpcmVjdG9yeSBzaG91bGQgY29udGFpbiBhbGwgeW91ciBwcm9qZWN0J3MgQ1NTIGZpbGVzLiBJdCBpbmNsdWRlcyBzb21lCmluaXRpYWwgQ1NTIHRvIGhlbHAgZ2V0IHlvdSBzdGFydGVkIGZyb20gYSBzb2xpZCBmb3VuZGF0aW9uLiBbQWJvdXQgdGhlCkNTU10oY3NzLm1kKS4KCiMjIyBkb2MKClRoaXMgZGlyZWN0b3J5IGNvbnRhaW5zIGFsbCB0aGUgSFRNTDUgQm9pbGVycGxhdGUgZG9jdW1lbnRhdGlvbi4gWW91IGNhbiB1c2UgaXQKYXMgdGhlIGxvY2F0aW9uIGFuZCBiYXNpcyBmb3IgeW91ciBvd24gcHJvamVjdCdzIGRvY3VtZW50YXRpb24uCgojIyMganMKClRoaXMgZGlyZWN0b3J5IHNob3VsZCBjb250YWluIGFsbCB5b3VyIHByb2plY3QncyBKUyBmaWxlcy4gTGlicmFyaWVzLCBwbHVnaW5zLAphbmQgY3VzdG9tIGNvZGUgY2FuIGFsbCBiZSBpbmNsdWRlZCBoZXJlLiBJdCBpbmNsdWRlcyBzb21lIGluaXRpYWwgSlMgdG8gaGVscApnZXQgeW91IHN0YXJ0ZWQuIFtBYm91dCB0aGUgSmF2YVNjcmlwdF0oanMubWQpLgoKIyMjIC5odGFjY2VzcwoKVGhlIGRlZmF1bHQgd2ViIHNlcnZlciBjb25maWdzIGFyZSBmb3IgQXBhY2hlLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgcGxlYXNlCnJlZmVyIHRvIHRoZSBbQXBhY2hlIFNlcnZlciBDb25maWdzCmRvY3VtZW50YXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL3NlcnZlci1jb25maWdzLWFwYWNoZS90cmVlL21hc3Rlci9kb2MpLgoKSG9zdCB5b3VyIHNpdGUgb24gYSBzZXJ2ZXIgb3RoZXIgdGhhbiBBcGFjaGU/IFlvdSdyZSBsaWtlbHkgdG8gZmluZCB0aGUKY29ycmVzcG9uZGluZyBzZXJ2ZXIgY29uZmlncyBwcm9qZWN0IGxpc3RlZCBpbiBvdXIgW1NlcnZlciBDb25maWdzCl0oaHR0cHM6Ly9naXRodWIuY29tL2g1YnAvc2VydmVyLWNvbmZpZ3MvYmxvYi9tYXN0ZXIvUkVBRE1FLm1kKSByZXBvc2l0b3J5LgoKIyMjIDQwNC5odG1sCgpBIGhlbHBmdWwgY3VzdG9tIDQwNCB0byBnZXQgeW91IHN0YXJ0ZWQuCgojIyMgaW5kZXguaHRtbAoKVGhpcyBpcyB0aGUgZGVmYXVsdCBIVE1MIHNrZWxldG9uIHRoYXQgc2hvdWxkIGZvcm0gdGhlIGJhc2lzIG9mIGFsbCBwYWdlcyBvbgp5b3VyIHNpdGUuIElmIHlvdSBhcmUgdXNpbmcgYSBzZXJ2ZXItc2lkZSB0ZW1wbGF0aW5nIGZyYW1ld29yaywgdGhlbiB5b3Ugd2lsbApuZWVkIHRvIGludGVncmF0ZSB0aGlzIHN0YXJ0aW5nIEhUTUwgd2l0aCB5b3VyIHNldHVwLgoKTWFrZSBzdXJlIHRoYXQgeW91IHVwZGF0ZSB0aGUgVVJMcyBmb3IgdGhlIHJlZmVyZW5jZWQgQ1NTIGFuZCBKYXZhU2NyaXB0IGlmIHlvdQptb2RpZnkgdGhlIGRpcmVjdG9yeSBzdHJ1Y3R1cmUgYXQgYWxsLgoKSWYgeW91IGFyZSB1c2luZyBHb29nbGUgQW5hbHl0aWNzLCBtYWtlIHN1cmUgdGhhdCB5b3UgZWRpdCB0aGUgY29ycmVzcG9uZGluZwpzbmlwcGV0IGF0IHRoZSBib3R0b20gdG8gaW5jbHVkZSB5b3VyIGFuYWx5dGljcyBJRC4KCiMjIyBodW1hbnMudHh0CgpFZGl0IHRoaXMgZmlsZSB0byBpbmNsdWRlIHRoZSB0ZWFtIHRoYXQgd29ya2VkIG9uIHlvdXIgc2l0ZS9hcHAsIGFuZCB0aGUKdGVjaG5vbG9neSBwb3dlcmluZyBpdC4KCiMjIyByb2JvdHMudHh0CgpFZGl0IHRoaXMgZmlsZSB0byBpbmNsdWRlIGFueSBwYWdlcyB5b3UgbmVlZCBoaWRkZW4gZnJvbSBzZWFyY2ggZW5naW5lcy4KCiMjIyBjcm9zc2RvbWFpbi54bWwKCkEgdGVtcGxhdGUgZm9yIHdvcmtpbmcgd2l0aCBjcm9zcy1kb21haW4gcmVxdWVzdHMuIFtBYm91dApjcm9zc2RvbWFpbi54bWxdKGNyb3NzZG9tYWluLm1kKS4KCiMjIyBJY29ucwoKUmVwbGFjZSB0aGUgZGVmYXVsdCBgZmF2aWNvbi5pY29gIGFuZCBBcHBsZSBUb3VjaCBJY29uIHdpdGggeW91ciBvd24uCgpJZiB5b3Ugd2FudCB0byB1c2UgZGlmZmVyZW50IEFwcGxlIFRvdWNoIEljb25zIGZvciBkaWZmZXJlbnQgcmVzb2x1dGlvbnMgcGxlYXNlCnJlZmVyIHRvIHRoZSBbYWNjb3JkaW5nIGRvY3VtZW50YXRpb25dKGV4dGVuZC5tZCNhcHBsZS10b3VjaC1pY29ucykuCgpZb3UgbWlnaHQgd2FudCB0byBjaGVjayBvdXQgSGFucycgaGFuZHkgW0hUTUw1IEJvaWxlcnBsYXRlIEZhdmljb24gYW5kIEFwcGxlClRvdWNoIEljb24KUFNELVRlbXBsYXRlXShodHRwOi8vZHJ1YmxpYy5kZS9ibG9nL2h0bWw1LWJvaWxlcnBsYXRlLWZhdmljb25zLXBzZC10ZW1wbGF0ZS8pLgo=')
},
{
'name': '/app/bower_components/html5-boilerplate/doc/misc.md', 'data': base64.b64decode('W0hUTUw1IEJvaWxlcnBsYXRlIGhvbWVwYWdlXShodHRwOi8vaHRtbDVib2lsZXJwbGF0ZS5jb20pIHwgW0RvY3VtZW50YXRpb24KdGFibGUgb2YgY29udGVudHNdKFRPQy5tZCkKCiMgTWlzY2VsbGFuZW91cwoKIyMgLmdpdGlnbm9yZQoKSFRNTDUgQm9pbGVycGxhdGUgaW5jbHVkZXMgYSBiYXNpYyBwcm9qZWN0LWxldmVsIGAuZ2l0aWdub3JlYC4gVGhpcyBzaG91bGQKcHJpbWFyaWx5IGJlIHVzZWQgdG8gYXZvaWQgY2VydGFpbiBwcm9qZWN0LWxldmVsIGZpbGVzIGFuZCBkaXJlY3RvcmllcyBmcm9tCmJlaW5nIGtlcHQgdW5kZXIgc291cmNlIGNvbnRyb2wuIERpZmZlcmVudCBkZXZlbG9wbWVudC1lbnZpcm9ubWVudHMgd2lsbApiZW5lZml0IGZyb20gZGlmZmVyZW50IGNvbGxlY3Rpb25zIG9mIGlnbm9yZXMuCgpPUy1zcGVjaWZpYyBhbmQgZWRpdG9yLXNwZWNpZmljIGZpbGVzIHNob3VsZCBiZSBpZ25vcmVkIHVzaW5nIGEgImdsb2JhbAppZ25vcmUiIHRoYXQgYXBwbGllcyB0byBhbGwgcmVwb3NpdG9yaWVzIG9uIHlvdXIgc3lzdGVtLgoKRm9yIGV4YW1wbGUsIGFkZCB0aGUgZm9sbG93aW5nIHRvIHlvdXIgYH4vLmdpdGNvbmZpZ2AsIHdoZXJlIHRoZSBgLmdpdGlnbm9yZWAKaW4geW91ciBIT01FIGRpcmVjdG9yeSBjb250YWlucyB0aGUgZmlsZXMgYW5kIGRpcmVjdG9yaWVzIHlvdSdkIGxpa2UgdG8KZ2xvYmFsbHkgaWdub3JlOgoKYGBgZ2l0aWdub3JlCltjb3JlXQogICAgZXhjbHVkZXNmaWxlID0gfi8uZ2l0aWdub3JlCmBgYAoKKiBNb3JlIG9uIGdsb2JhbCBpZ25vcmVzOiBodHRwOi8vaGVscC5naXRodWIuY29tL2lnbm9yZS1maWxlcy8KKiBDb21wcmVoZW5zaXZlIHNldCBvZiBpZ25vcmVzIG9uIEdpdEh1YjogaHR0cHM6Ly9naXRodWIuY29tL2dpdGh1Yi9naXRpZ25vcmUK')
},
{
'name': '/app/bower_components/html5-boilerplate/doc/extend.md', 'data': base64.b64decode('W0hUTUw1IEJvaWxlcnBsYXRlIGhvbWVwYWdlXShodHRwOi8vaHRtbDVib2lsZXJwbGF0ZS5jb20pIHwgW0RvY3VtZW50YXRpb24KdGFibGUgb2YgY29udGVudHNdKFRPQy5tZCkKCiMgRXh0ZW5kIGFuZCBjdXN0b21pc2UgSFRNTDUgQm9pbGVycGxhdGUKCkhlcmUgaXMgc29tZSB1c2VmdWwgYWR2aWNlIGZvciBob3cgeW91IGNhbiBtYWtlIHlvdXIgcHJvamVjdCB3aXRoIEhUTUw1CkJvaWxlcnBsYXRlIGV2ZW4gYmV0dGVyLiBXZSBkb24ndCB3YW50IHRvIGluY2x1ZGUgaXQgYWxsIGJ5IGRlZmF1bHQsIGFzIG5vdApldmVyeXRoaW5nIGZpdHMgd2l0aCBldmVyeW9uZSdzIG5lZWRzLgoKCiMjIEROUyBwcmVmZXRjaGluZwoKSW4gc2hvcnQsIEROUyBQcmVmZXRjaGluZyBpcyBhIG1ldGhvZCBvZiBpbmZvcm1pbmcgdGhlIGJyb3dzZXIgb2YgZG9tYWluIG5hbWVzCnJlZmVyZW5jZWQgb24gYSBzaXRlIHNvIHRoYXQgdGhlIGNsaWVudCBjYW4gcmVzb2x2ZSB0aGUgRE5TIGZvciB0aG9zZSBob3N0cywKY2FjaGUgdGhlbSwgYW5kIHdoZW4gaXQgY29tZXMgdGltZSB0byB1c2UgdGhlbSwgaGF2ZSBhIGZhc3RlciB0dXJuIGFyb3VuZCBvbgp0aGUgcmVxdWVzdC4KCiMjIyBJbXBsaWNpdCBwcmVmZXRjaGVzCgpUaGVyZSBpcyBhIGxvdCBvZiBwcmVmZXRjaGluZyBkb25lIGZvciB5b3UgYXV0b21hdGljYWxseSBieSB0aGUgYnJvd3Nlci4gV2hlbgp0aGUgYnJvd3NlciBlbmNvdW50ZXJzIGFuIGFuY2hvciBpbiB5b3VyIGh0bWwgdGhhdCBkb2VzIG5vdCBzaGFyZSB0aGUgc2FtZQpkb21haW4gbmFtZSBhcyB0aGUgY3VycmVudCBsb2NhdGlvbiB0aGUgYnJvd3NlciByZXF1ZXN0cywgZnJvbSB0aGUgY2xpZW50IE9TLAp0aGUgSVAgYWRkcmVzcyBmb3IgdGhpcyBuZXcgZG9tYWluLiBUaGUgY2xpZW50IGZpcnN0IGNoZWNrcyBpdHMgY2FjaGUgYW5kCnRoZW4sIGxhY2tpbmcgYSBjYWNoZWQgY29weSwgbWFrZXMgYSByZXF1ZXN0IGZyb20gYSBETlMgc2VydmVyLiBUaGVzZSByZXF1ZXN0cwpoYXBwZW4gaW4gdGhlIGJhY2tncm91bmQgYW5kIGFyZSBub3QgbWVhbnQgdG8gYmxvY2sgdGhlIHJlbmRlcmluZyBvZiB0aGUKcGFnZS4KClRoZSBnb2FsIG9mIHRoaXMgaXMgdGhhdCB3aGVuIHRoZSBmb3JlaWduIElQIGFkZHJlc3MgaXMgZmluYWxseSBuZWVkZWQgaXQgd2lsbAphbHJlYWR5IGJlIGluIHRoZSBjbGllbnQgY2FjaGUgYW5kIHdpbGwgbm90IGJsb2NrIHRoZSBsb2FkaW5nIG9mIHRoZSBmb3JlaWduCmNvbnRlbnQuIExlc3MgcmVxdWVzdHMgcmVzdWx0IGluIGZhc3RlciBwYWdlIGxvYWQgdGltZXMuIFRoZSBwZXJjZXB0aW9uIG9mIHRoaXMKaXMgaW5jcmVhc2VkIG9uIGEgbW9iaWxlIHBsYXRmb3JtIHdoZXJlIEROUyBsYXRlbmN5IGNhbiBiZSBncmVhdGVyLgoKIyMjIyBEaXNhYmxlIGltcGxpY2l0IHByZWZldGNoaW5nCgpgYGBodG1sCjxtZXRhIGh0dHAtZXF1aXY9IngtZG5zLXByZWZldGNoLWNvbnRyb2wiIGNvbnRlbnQ9Im9mZiI+CmBgYAoKRXZlbiB3aXRoIFgtRE5TLVByZWZldGNoLUNvbnRyb2wgbWV0YSB0YWcgKG9yIGh0dHAgaGVhZGVyKSBicm93c2VycyB3aWxsIHN0aWxsCnByZWZldGNoIGFueSBleHBsaWNpdCBkbnMtcHJlZmV0Y2ggbGlua3MuCgoqKl9XQVJOSU5HOl8qKiBUSElTIE1BWSBNQUtFIFlPVVIgU0lURSBTTE9XRVIgSUYgWU9VIFJFTFkgT04gUkVTT1VSQ0VTIEZST00KRk9SRUlHTiBET01BSU5TLgoKIyMjIEV4cGxpY2l0IHByZWZldGNoZXMKClR5cGljYWxseSB0aGUgYnJvd3NlciBvbmx5IHNjYW5zIHRoZSBIVE1MIGZvciBmb3JlaWduIGRvbWFpbnMuIElmIHlvdSBoYXZlCnJlc291cmNlcyB0aGF0IGFyZSBvdXRzaWRlIG9mIHlvdXIgSFRNTCAoYSBqYXZhc2NyaXB0IHJlcXVlc3QgdG8gYSByZW1vdGUKc2VydmVyIG9yIGEgQ0ROIHRoYXQgaG9zdHMgY29udGVudCB0aGF0IG1heSBub3QgYmUgcHJlc2VudCBvbiBldmVyeSBwYWdlIG9mCnlvdXIgc2l0ZSwgZm9yIGV4YW1wbGUpIHRoZW4geW91IGNhbiBxdWV1ZSB1cCBhIGRvbWFpbiBuYW1lIHRvIGJlIHByZWZldGNoZWQuCgpgYGBodG1sCjxsaW5rIHJlbD0iZG5zLXByZWZldGNoIiBocmVmPSIvL2V4YW1wbGUuY29tIj4KPGxpbmsgcmVsPSJkbnMtcHJlZmV0Y2giIGhyZWY9Ii8vYWpheC5nb29nbGVhcGlzLmNvbSI+CmBgYAoKWW91IGNhbiB1c2UgYXMgbWFueSBvZiB0aGVzZSBhcyB5b3UgbmVlZCwgYnV0IGl0J3MgYmVzdCBpZiB0aGV5IGFyZSBhbGwKaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIFtNZXRhCkNoYXJzZXRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL0hUTUwvRWxlbWVudC9tZXRhI2F0dHItY2hhcnNldCkKZWxlbWVudCAod2hpY2ggc2hvdWxkIGdvIHJpZ2h0IGF0IHRoZSB0b3Agb2YgdGhlIGBoZWFkYCksIHNvIHRoZSBicm93c2VyIGNhbgphY3Qgb24gdGhlbSBBU0FQLgoKIyMjIyBDb21tb24gUHJlZmV0Y2ggTGlua3MKCkFtYXpvbiBTMzoKCmBgYGh0bWwKPGxpbmsgcmVsPSJkbnMtcHJlZmV0Y2giIGhyZWY9Ii8vczMuYW1hem9uYXdzLmNvbSI+CmBgYAoKR29vZ2xlIEFQSXM6CgpgYGBodG1sCjxsaW5rIHJlbD0iZG5zLXByZWZldGNoIiBocmVmPSIvL2FqYXguZ29vZ2xlYXBpcy5jb20iPgpgYGAKCk1pY3Jvc29mdCBBamF4IENvbnRlbnQgRGVsaXZlcnkgTmV0d29yazoKCmBgYGh0bWwKPGxpbmsgcmVsPSJkbnMtcHJlZmV0Y2giIGhyZWY9Ii8vYWpheC5taWNyb3NvZnQuY29tIj4KPGxpbmsgcmVsPSJkbnMtcHJlZmV0Y2giIGhyZWY9Ii8vYWpheC5hc3BuZXRjZG4uY29tIj4KYGBgCgojIyMgQnJvd3NlciBzdXBwb3J0IGZvciBETlMgcHJlZmV0Y2hpbmcKCkNocm9tZSwgRmlyZWZveCAzLjUrLCBTYWZhcmkgNSssIE9wZXJhIChVbmtub3duKSwgSUUgOSAoY2FsbGVkICJQcmUtcmVzb2x1dGlvbiIKb24gYmxvZ3MubXNkbi5jb20pCgojIyMgRnVydGhlciByZWFkaW5nIGFib3V0IEROUyBwcmVmZXRjaGluZwoKKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9Fbi9Db250cm9sbGluZ19ETlNfcHJlZmV0Y2hpbmcKKiBodHRwOi8vZGV2LmNocm9taXVtLm9yZy9kZXZlbG9wZXJzL2Rlc2lnbi1kb2N1bWVudHMvZG5zLXByZWZldGNoaW5nCiogaHR0cDovL3d3dy5hcHBsZS5jb20vc2FmYXJpL3doYXRzLW5ldy5odG1sCiogaHR0cDovL2Jsb2dzLm1zZG4uY29tL2IvaWUvYXJjaGl2ZS8yMDExLzAzLzE3L2ludGVybmV0LWV4cGxvcmVyLTktbmV0d29yay1wZXJmb3JtYW5jZS1pbXByb3ZlbWVudHMuYXNweAoqIGh0dHA6Ly9kYXlvZmpzLmNvbS92aWRlb3MvMjIxNTg0NjIvd2ViLWJyb3dzZXJzX2FsZXgtcnVzc2VsCgoKIyMgU2VhcmNoCgojIyMgRGlyZWN0IHNlYXJjaCBzcGlkZXJzIHRvIHlvdXIgc2l0ZW1hcAoKW0xlYXJuIGhvdyB0byBtYWtlIGEgc2l0ZW1hcF0oaHR0cDovL3d3dy5zaXRlbWFwcy5vcmcvcHJvdG9jb2wucGhwKQoKYGBgaHRtbAo8bGluayByZWw9InNpdGVtYXAiIHR5cGU9ImFwcGxpY2F0aW9uL3htbCIgdGl0bGU9IlNpdGVtYXAiIGhyZWY9Ii9zaXRlbWFwLnhtbCI+CmBgYAoKIyMjIEhpZGUgcGFnZXMgZnJvbSBzZWFyY2ggZW5naW5lcwoKQWNjb3JkaW5nIHRvIEhlYXRoZXIgQ2hhbXAsIGZvcm1lciBjb21tdW5pdHkgbWFuYWdlciBhdCBGbGlja3IsIHlvdSBzaG91bGQgbm90CmFsbG93IHNlYXJjaCBlbmdpbmVzIHRvIGluZGV4IHlvdXIgIkNvbnRhY3QgVXMiIG9yICJDb21wbGFpbnRzIiBwYWdlIGlmIHlvdQp2YWx1ZSB5b3VyIHNhbml0eS4gVGhpcyBpcyBhbiBIVE1MLWNlbnRyaWMgd2F5IG9mIGFjaGlldmluZyB0aGF0LgoKYGBgaHRtbAo8bWV0YSBuYW1lPSJyb2JvdHMiIGNvbnRlbnQ9Im5vaW5kZXgiPgpgYGAKCioqX1dBUk5JTkc6XyoqIERPIE5PVCBJTkNMVURFIE9OIFBBR0VTIFRIQVQgU0hPVUxEIEFQUEVBUiBJTiBTRUFSQ0ggRU5HSU5FUy4KCiMjIyBGaXJlZm94IGFuZCBJRSBTZWFyY2ggUGx1Z2lucwoKU2l0ZXMgd2l0aCBpbi1zaXRlIHNlYXJjaCBmdW5jdGlvbmFsaXR5IHNob3VsZCBiZSBzdHJvbmdseSBjb25zaWRlcmVkIGZvciBhCmJyb3dzZXIgc2VhcmNoIHBsdWdpbi4gQSAic2VhcmNoIHBsdWdpbiIgaXMgYW4gWE1MIGZpbGUgd2hpY2ggZGVmaW5lcyBob3cgeW91cgpwbHVnaW4gYmVoYXZlcyBpbiB0aGUgYnJvd3Nlci4gW0hvdyB0byBtYWtlIGEgYnJvd3NlciBzZWFyY2gKcGx1Z2luXShodHRwOi8vd3d3Lmdvb2dsZS5jb20vc2VhcmNoP2llPVVURi04JnE9aG93K3RvK21ha2UrYnJvd3NlcitzZWFyY2grcGx1Z2luKS4KCmBgYGh0bWwKPGxpbmsgcmVsPSJzZWFyY2giIHRpdGxlPSIiIHR5cGU9ImFwcGxpY2F0aW9uL29wZW5zZWFyY2hkZXNjcmlwdGlvbit4bWwiIGhyZWY9IiI+CmBgYAoKCiMjIEludGVybmV0IEV4cGxvcmVyCgojIyMgUHJvbXB0IHVzZXJzIHRvIHN3aXRjaCB0byAiRGVza3RvcCBNb2RlIiBpbiBJRTEwIE1ldHJvCgpJRTEwIGRvZXMgbm90IHN1cHBvcnQgcGx1Z2lucywgc3VjaCBhcyBGbGFzaCwgaW4gTWV0cm8gbW9kZS4gSWYgeW91ciBzaXRlCnJlcXVpcmVzIHBsdWdpbnMsIHlvdSBjYW4gbGV0IHVzZXJzIGtub3cgdGhhdCB2aWEgdGhlIFgtVUEtQ29tcGF0aWJsZSBtZXRhCmVsZW1lbnQsIHdoaWNoIHdpbGwgcHJvbXB0IHRoZW0gdG8gc3dpdGNoIHRvIERlc2t0b3AgTW9kZS4KCmBgYGh0bWwKPG1ldGEgaHR0cC1lcXVpdj0iWC1VQS1Db21wYXRpYmxlIiBjb250ZW50PSJyZXF1aXJlc0FjdGl2ZVg9dHJ1ZSI+CmBgYAoKSGVyZSdzIHdoYXQgaXQgbG9va3MgbGlrZSBhbG9uZ3NpZGUgSDVCUCdzIGRlZmF1bHQgWC1VQS1Db21wYXRpYmxlIHZhbHVlczoKCmBgYGh0bWwKPG1ldGEgaHR0cC1lcXVpdj0iWC1VQS1Db21wYXRpYmxlIiBjb250ZW50PSJJRT1lZGdlLGNocm9tZT0xLHJlcXVpcmVzQWN0aXZlWD10cnVlIj4KYGBgCgpZb3UgY2FuIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBpbiBbTWljcm9zb2Z0J3MgSUVCbG9nIHBvc3QgYWJvdXQgcHJvbXB0aW5nIGZvcgpwbHVnaW4gdXNlIGluIElFMTAgTWV0cm8KTW9kZV0oaHR0cDovL2Jsb2dzLm1zZG4uY29tL2IvaWUvYXJjaGl2ZS8yMDEyLzAxLzMxL3dlYi1zaXRlcy1hbmQtYS1wbHVnLWluLWZyZWUtd2ViLmFzcHgpLgoKIyMjIElFIFBpbm5lZCBTaXRlcyAoSUU5KykKCkVuYWJsaW5nIHlvdXIgYXBwbGljYXRpb24gZm9yIHBpbm5pbmcgd2lsbCBhbGxvdyBJRTkgdXNlcnMgdG8gYWRkIGl0IHRvIHRoZWlyCldpbmRvd3MgVGFza2JhciBhbmQgU3RhcnQgTWVudS4gVGhpcyBjb21lcyB3aXRoIGEgcmFuZ2Ugb2YgbmV3IHRvb2xzIHRoYXQgeW91CmNhbiBlYXNpbHkgY29uZmlndXJlIHdpdGggdGhlIGVsZW1lbnRzIGJlbG93LiBTZWUgbW9yZSBbZG9jdW1lbnRhdGlvbiBvbiBJRTkKUGlubmVkIFNpdGVzXShodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvZ2cxMzEwMjkuYXNweCkuCgojIyMgTmFtZSB0aGUgUGlubmVkIFNpdGUgZm9yIFdpbmRvd3MKCldpdGhvdXQgdGhpcyBydWxlLCBXaW5kb3dzIHdpbGwgdXNlIHRoZSBwYWdlIHRpdGxlIGFzIHRoZSBuYW1lIGZvciB5b3VyCmFwcGxpY2F0aW9uLgoKYGBgaHRtbAo8bWV0YSBuYW1lPSJhcHBsaWNhdGlvbi1uYW1lIiBjb250ZW50PSJTYW1wbGUgVGl0bGUiPgpgYGAKCiMjIyBHaXZlIHlvdXIgUGlubmVkIFNpdGUgYSB0b29sdGlwCgpZb3Uga25vdyDigJQgYSB0b29sdGlwLiBBIGxpdHRsZSB0ZXh0Ym94IHRoYXQgYXBwZWFycyB3aGVuIHRoZSB1c2VyIGhvbGRzIHRoZWlyCm1vdXNlIG92ZXIgeW91ciBQaW5uZWQgU2l0ZSdzIGljb24uCgpgYGBodG1sCjxtZXRhIG5hbWU9Im1zYXBwbGljYXRpb24tdG9vbHRpcCIgY29udGVudD0iQSBkZXNjcmlwdGlvbiBvZiB3aGF0IHRoaXMgc2l0ZSBkb2VzLiI+CmBgYAoKIyMjIFNldCBhIGRlZmF1bHQgcGFnZSBmb3IgeW91ciBQaW5uZWQgU2l0ZQoKSWYgdGhlIHNpdGUgc2hvdWxkIGdvIHRvIGEgc3BlY2lmaWMgVVJMIHdoZW4gaXQgaXMgcGlubmVkIChzdWNoIGFzIHRoZQpob21lcGFnZSksIGVudGVyIGl0IGhlcmUuIE9uZSBpZGVhIGlzIHRvIHNlbmQgaXQgdG8gYSBzcGVjaWFsIFVSTCBzbyB5b3UgY2FuCnRyYWNrIHRoZSBudW1iZXIgb2YgcGlubmVkIHVzZXJzLCBsaWtlIHNvOgpgaHR0cDovL3d3dy5leGFtcGxlLmNvbS9pbmRleC5odG1sP3Bpbm5lZD10cnVlYAoKYGBgaHRtbAo8bWV0YSBuYW1lPSJtc2FwcGxpY2F0aW9uLXN0YXJ0dXJsIiBjb250ZW50PSJodHRwOi8vd3d3LmV4YW1wbGUuY29tL2luZGV4Lmh0bWw/cGlubmVkPXRydWUiPgpgYGAKCiMjIyBSZWNvbG9yIElFJ3MgY29udHJvbHMgbWFudWFsbHkgZm9yIGEgUGlubmVkIFNpdGUKCklFOSsgd2lsbCBhdXRvbWF0aWNhbGx5IHVzZSB0aGUgb3ZlcmFsbCBjb2xvciBvZiB5b3VyIFBpbm5lZCBTaXRlJ3MgZmF2aWNvbiB0bwpzaGFkZSBpdHMgYnJvd3NlciBidXR0b25zLiBVTkxFU1MgeW91IGdpdmUgaXQgYW5vdGhlciBjb2xvciBoZXJlLiBPbmx5IHVzZQpuYW1lZCBjb2xvcnMgKGByZWRgKSBvciBoZXggY29sb3JzIChgI2ZmMDAwMGApLgoKYGBgaHRtbAo8bWV0YSBuYW1lPSJtc2FwcGxpY2F0aW9uLW5hdmJ1dHRvbi1jb2xvciIgY29udGVudD0iI2ZmMDAwMCI+CmBgYAoKIyMjIE1hbnVhbGx5IHNldCB0aGUgd2luZG93IHNpemUgb2YgYSBQaW5uZWQgU2l0ZQoKSWYgdGhlIHNpdGUgc2hvdWxkIG9wZW4gYXQgYSBjZXJ0YWluIHdpbmRvdyBzaXplIG9uY2UgcGlubmVkLCB5b3UgY2FuIHNwZWNpZnkKdGhlIGRpbWVuc2lvbnMgaGVyZS4gSXQgb25seSBzdXBwb3J0cyBzdGF0aWMgcGl4ZWwgZGltZW5zaW9ucy4gODAweDYwMAptaW5pbXVtLgoKYGBgaHRtbAo8bWV0YSBuYW1lPSJtc2FwcGxpY2F0aW9uLXdpbmRvdyIgY29udGVudD0id2lkdGg9ODAwO2hlaWdodD02MDAiPgpgYGAKCiMjIyBKdW1wIExpc3QgIlRhc2tzIiBmb3IgUGlubmVkIFNpdGVzCgpBZGQgSnVtcCBMaXN0IFRhc2tzIHRoYXQgd2lsbCBhcHBlYXIgd2hlbiB0aGUgUGlubmVkIFNpdGUncyBpY29uIGdldHMgYQpyaWdodC1jbGljay4gRWFjaCBUYXNrIGdvZXMgdG8gdGhlIHNwZWNpZmllZCBVUkwsIGFuZCBnZXRzIGl0cyBvd24gbWluaSBpY29uCihlc3NlbnRpYWxseSBhIGZhdmljb24sIGEgMTZ4MTYgLklDTykuIFlvdSBjYW4gYWRkIGFzIG1hbnkgb2YgdGhlc2UgYXMgeW91Cm5lZWQuCgpgYGBodG1sCjxtZXRhIG5hbWU9Im1zYXBwbGljYXRpb24tdGFzayIgY29udGVudD0ibmFtZT1UYXNrIDE7YWN0aW9uLXVyaT1odHRwOi8vaG9zdC9QYWdlMS5odG1sO2ljb24tdXJpPWh0dHA6Ly9ob3N0L2ljb24xLmljbyI+CjxtZXRhIG5hbWU9Im1zYXBwbGljYXRpb24tdGFzayIgY29udGVudD0ibmFtZT1UYXNrIDI7YWN0aW9uLXVyaT1odHRwOi8vbWljcm9zb2Z0LmNvbS9QYWdlMi5odG1sO2ljb24tdXJpPWh0dHA6Ly9ob3N0L2ljb24yLmljbyI+CmBgYAoKIyMjIChXaW5kb3dzIDgpIEhpZ2ggcXVhbGl0eSB2aXN1YWxzIGZvciBQaW5uZWQgU2l0ZXMKCldpbmRvd3MgOCBhZGRzIHRoZSBhYmlsaXR5IGZvciB5b3UgdG8gcHJvdmlkZSBhIFBORyB0aWxlIGltYWdlIGFuZCBzcGVjaWZ5IHRoZQp0aWxlJ3MgYmFja2dyb3VuZCBjb2xvci4gW0Z1bGwgZGV0YWlscyBvbiB0aGUgSUUKYmxvZ10oaHR0cDovL2Jsb2dzLm1zZG4uY29tL2IvaWUvYXJjaGl2ZS8yMDEyLzA2LzA4L2hpZ2gtcXVhbGl0eS12aXN1YWxzLWZvci1waW5uZWQtc2l0ZXMtaW4td2luZG93cy04LmFzcHgpLgoKKiBDcmVhdGUgYSAxNDR4MTQ0IGltYWdlIG9mIHlvdXIgc2l0ZSBpY29uLCBmaWxsaW5nIGFsbCBvZiB0aGUgY2FudmFzLCBhbmQKICB1c2luZyBhIHRyYW5zcGFyZW50IGJhY2tncm91bmQuCiogU2F2ZSB0aGlzIGltYWdlIGFzIGEgMzItYml0IFBORyBhbmQgb3B0aW1pemUgaXQgd2l0aG91dCByZWR1Y2luZwogIGNvbG91ci1kZXB0aC4gSXQgY2FuIGJlIG5hbWVkIHdoYXRldmVyIHlvdSB3YW50IChlLmcuIGBtZXRyby10aWxlLnBuZ2ApLgoqIFRvIHJlZmVyZW5jZSB0aGUgdGlsZSBhbmQgaXRzIGNvbG9yLCBhZGQgdGhlIEhUTUwgYG1ldGFgIGVsZW1lbnRzIGRlc2NyaWJlZAogIGluIHRoZSBJRSBCbG9nIHBvc3QuCgojIyMgKFdpbmRvd3MgOCkgQmFkZ2VzIGZvciBQaW5uZWQgU2l0ZXMKCklFMTAgd2lsbCBwb2xsIGFuIFhNTCBkb2N1bWVudCBmb3IgYmFkZ2UgaW5mb3JtYXRpb24gdG8gZGlzcGxheSBvbiB5b3VyIGFwcCdzCnRpbGUgaW4gdGhlIFN0YXJ0IHNjcmVlbi4gVGhlIHVzZXIgd2lsbCBiZSBhYmxlIHRvIHJlY2VpdmUgdGhlc2UgYmFkZ2UgdXBkYXRlcwpldmVuIHdoZW4geW91ciBhcHAgaXNuJ3QgYWN0aXZlbHkgcnVubmluZy4gVGhlIGJhZGdlJ3MgdmFsdWUgY2FuIGJlIGEgbnVtYmVyLApvciBvbmUgb2YgYSBwcmVkZWZpbmVkIGxpc3Qgb2YgZ2x5cGhzLgoKKiBbVHV0b3JpYWwgb24gSUVCbG9nIHdpdGggbGluayB0byBiYWRnZSBYTUwgc2NoZW1hXShodHRwOi8vYmxvZ3MubXNkbi5jb20vYi9pZS9hcmNoaXZlLzIwMTIvMDQvMDMvcGlubmVkLXNpdGVzLWluLXdpbmRvd3MtOC5hc3B4KQoqIFtBdmFpbGFibGUgYmFkZ2UgdmFsdWVzXShodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvYnIyMTI4NDkuYXNweCkKCmBgYGh0bWwKPG1ldGEgbmFtZT0ibXNhcHBsaWNhdGlvbi1iYWRnZSIgdmFsdWU9ImZyZXF1ZW5jeT1OVU1CRVJfSU5fTUlOVVRFUztwb2xsaW5nLXVyaT1odHRwOi8vd3d3LmV4YW1wbGUuY29tL3BhdGgvdG8vZmlsZS54bWwiPgpgYGAKCiMjIyBEaXNhYmxlIGxpbmsgaGlnaGxpZ2h0aW5nIHVwb24gdGFwIGluIElFMTAKClNpbWlsYXIgdG8gWy13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcl0oaHR0cDovL2Rhdmlkd2Fsc2gubmFtZS9tb2JpbGUtaGlnaGxpZ2h0LWNvbG9yKQppbiBpT1MgU2FmYXJpLiBVbmxpa2UgdGhhdCBDU1MgcHJvcGVydHksIHRoaXMgaXMgYW4gSFRNTCBtZXRhIGVsZW1lbnQsIGFuZCBpdCdzCnZhbHVlIGlzIGJvb2xlYW4gcmF0aGVyIHRoYW4gYSBjb2xvci4gSXQncyBhbGwgb3Igbm90aGluZy4KCmBgYGh0bWwKPG1ldGEgbmFtZT0ibXNhcHBsaWNhdGlvbi10YXAtaGlnaGxpZ2h0IiBjb250ZW50PSJubyIgLz4KYGBgCgpZb3UgY2FuIHJlYWQgYWJvdXQgdGhpcyB1c2VmdWwgZWxlbWVudCBhbmQgbW9yZSB0ZWNobmlxdWVzIGluCltNaWNyb3NvZnQncyBkb2N1bWVudGF0aW9uIG9uIGFkYXB0aW5nIFdlYktpdC1vcmllbnRlZCBhcHBzIGZvciBJRTEwXShodHRwOi8vYmxvZ3Mud2luZG93cy5jb20vd2luZG93c19waG9uZS9iL3dwZGV2L2FyY2hpdmUvMjAxMi8xMS8xNS9hZGFwdGluZy15b3VyLXdlYmtpdC1vcHRpbWl6ZWQtc2l0ZS1mb3ItaW50ZXJuZXQtZXhwbG9yZXItMTAuYXNweCkuCgojIyMgU3VwcHJlc3MgSUU2IGltYWdlIHRvb2xiYXIKCktpbGwgSUU2J3MgcG9wLXVwLW9uLW1vdXNlb3ZlciB0b29sYmFyIGZvciBpbWFnZXMgdGhhdCBjYW4gaW50ZXJmZXJlIHdpdGgKY2VydGFpbiBkZXNpZ25zIGFuZCBiZSBwcmV0dHkgZGlzdHJhY3RpbmcgaW4gZ2VuZXJhbC4KCmBgYGh0bWwKPG1ldGEgaHR0cC1lcXVpdj0iaW1hZ2V0b29sYmFyIiBjb250ZW50PSJmYWxzZSI+CmBgYAoKCiMjIFNvY2lhbCBOZXR3b3JrcwoKIyMjIEZhY2Vib29rIE9wZW4gR3JhcGggZGF0YQoKWW91IGNhbiBjb250cm9sIHRoZSBpbmZvcm1hdGlvbiB0aGF0IEZhY2Vib29rIGFuZCBvdGhlcnMgZGlzcGxheSB3aGVuIHVzZXJzCnNoYXJlIHlvdXIgc2l0ZS4gQmVsb3cgYXJlIGp1c3QgdGhlIG1vc3QgYmFzaWMgZGF0YSBwb2ludHMgeW91IG1pZ2h0IG5lZWQuIEZvcgpzcGVjaWZpYyBjb250ZW50IHR5cGVzIChpbmNsdWRpbmcgIndlYnNpdGUiKSwgc2VlIFtGYWNlYm9vaydzIGJ1aWx0LWluIE9wZW4KR3JhcGggY29udGVudAp0ZW1wbGF0ZXNdKGh0dHBzOi8vZGV2ZWxvcGVycy5mYWNlYm9vay5jb20vZG9jcy9vcGVuZ3JhcGgvb2JqZWN0cy9idWlsdGluLykuClRha2UgZnVsbCBhZHZhbnRhZ2Ugb2YgRmFjZWJvb2sncyBzdXBwb3J0IGZvciBjb21wbGV4IGRhdGEgYW5kIGFjdGl2aXR5IGJ5CmZvbGxvd2luZyB0aGUgW09wZW4gR3JhcGgKdHV0b3JpYWxdKGh0dHBzOi8vZGV2ZWxvcGVycy5mYWNlYm9vay5jb20vZG9jcy9vcGVuZ3JhcGgvdHV0b3JpYWwvKS4KCmBgYGh0bWwKPG1ldGEgcHJvcGVydHk9Im9nOnRpdGxlIiBjb250ZW50PSIiPgo8bWV0YSBwcm9wZXJ0eT0ib2c6ZGVzY3JpcHRpb24iIGNvbnRlbnQ9IiI+CjxtZXRhIHByb3BlcnR5PSJvZzppbWFnZSIgY29udGVudD0iIj4KYGBgCgojIyMgVHdpdHRlciBDYXJkcwoKVHdpdHRlciBwcm92aWRlcyBhIHNuaXBwZXQgc3BlY2lmaWNhdGlvbiB0aGF0IHNlcnZlcyBhIHNpbWlsYXIgcHVycG9zZSB0byBPcGVuCkdyYXBoLiBJbiBmYWN0LCBUd2l0dGVyIHdpbGwgdXNlIE9wZW4gR3JhcGggd2hlbiBDYXJkcyBpcyBub3QgYXZhaWxhYmxlLiBOb3RlCnRoYXQsIGFzIG9mIHRoaXMgd3JpdGluZywgVHdpdHRlciByZXF1aXJlcyB0aGF0IGFwcCBkZXZlbG9wZXJzIGFjdGl2YXRlIENhcmRzCm9uIGEgcGVyLWRvbWFpbiBiYXNpcy4gWW91IGNhbiByZWFkIG1vcmUgYWJvdXQgdGhlIHZhcmlvdXMgc25pcHBldCBmb3JtYXRzCmFuZCBhcHBsaWNhdGlvbiBwcm9jZXNzIGluIHRoZSBbb2ZmaWNpYWwgVHdpdHRlciBDYXJkcwpkb2N1bWVudGF0aW9uXShodHRwczovL2Rldi50d2l0dGVyLmNvbS9kb2NzL2NhcmRzKS4KCmBgYGh0bWwKPG1ldGEgbmFtZT0idHdpdHRlcjpjYXJkIiBjb250ZW50PSJzdW1tYXJ5Ij4KPG1ldGEgbmFtZT0idHdpdHRlcjpzaXRlIiBjb250ZW50PSJAc2l0ZV9hY2NvdW50Ij4KPG1ldGEgbmFtZT0idHdpdHRlcjpjcmVhdG9yIiBjb250ZW50PSJAaW5kaXZpZHVhbF9hY2NvdW50Ij4KPG1ldGEgbmFtZT0idHdpdHRlcjp1cmwiIGNvbnRlbnQ9Imh0dHA6Ly93d3cuZXhhbXBsZS5jb20vcGF0aC90by9wYWdlLmh0bWwiPgo8bWV0YSBuYW1lPSJ0d2l0dGVyOnRpdGxlIiBjb250ZW50PSIiPgo8bWV0YSBuYW1lPSJ0d2l0dGVyOmRlc2NyaXB0aW9uIiBjb250ZW50PSIiPgo8bWV0YSBuYW1lPSJ0d2l0dGVyOmltYWdlIiBjb250ZW50PSJodHRwOi8vd3d3LmV4YW1wbGUuY29tL3BhdGgvdG8vaW1hZ2UuanBnIj4KYGBgCgoKIyMgVVJMcwoKIyMjIENhbm9uaWNhbCBVUkwKClNpZ25hbCB0byBzZWFyY2ggZW5naW5lcyBhbmQgb3RoZXJzICJVc2UgdGhpcyBVUkwgZm9yIHRoaXMgcGFnZSEiIFVzZWZ1bCB3aGVuCnBhcmFtZXRlcnMgYWZ0ZXIgYSBgI2Agb3IgYD9gIGlzIHVzZWQgdG8gY29udHJvbCB0aGUgZGlzcGxheSBzdGF0ZSBvZiBhIHBhZ2UuCmBodHRwOi8vd3d3LmV4YW1wbGUuY29tL2NhcnQuaHRtbD9zaG9wcGluZy1jYXJ0LW9wZW49dHJ1ZWAgY2FuIGJlIGluZGV4ZWQgYXMKdGhlIGNsZWFuZXIsIG1vcmUgYWNjdXJhdGUgYGh0dHA6Ly93d3cuZXhhbXBsZS5jb20vY2FydC5odG1sYC4KCmBgYGh0bWwKPGxpbmsgcmVsPSJjYW5vbmljYWwiIGhyZWY9IiI+CmBgYAoKIyMjIE9mZmljaWFsIHNob3J0bGluawoKU2lnbmFsIHRvIHRoZSB3b3JsZCAiVGhpcyBpcyB0aGUgc2hvcnRlbmVkIFVSTCB0byB1c2UgdGhpcyBwYWdlISIgUG9vcmx5CnN1cHBvcnRlZCBhdCB0aGlzIHRpbWUuIExlYXJuIG1vcmUgYnkgcmVhZGluZyB0aGUgW2FydGljbGUgYWJvdXQgc2hvcnRsaW5rcyBvbgp0aGUgTWljcm9mb3JtYXRzIHdpa2ldKGh0dHA6Ly9taWNyb2Zvcm1hdHMub3JnL3dpa2kvcmVsLXNob3J0bGluaykuCgpgYGBodG1sCjxsaW5rIHJlbD0ic2hvcnRsaW5rIiBocmVmPSJoNWJwLmNvbSI+CmBgYAoKCiMjIE5ld3MgRmVlZHMKCiMjIyBSU1MKCkhhdmUgYW4gUlNTIGZlZWQ/IExpbmsgdG8gaXQgaGVyZS4gV2FudCB0byBbbGVhcm4gaG93IHRvIHdyaXRlIGFuIFJTUyBmZWVkIGZyb20Kc2NyYXRjaF0oaHR0cDovL3d3dy5yc3Nib2FyZC5vcmcvcnNzLXNwZWNpZmljYXRpb24pPwoKYGBgaHRtbAo8bGluayByZWw9ImFsdGVybmF0ZSIgdHlwZT0iYXBwbGljYXRpb24vcnNzK3htbCIgdGl0bGU9IlJTUyIgaHJlZj0iL3Jzcy54bWwiPgpgYGAKCiMjIyBBdG9tCgpBdG9tIGlzIHNpbWlsYXIgdG8gUlNTLCBhbmQgeW91IG1pZ2h0IHByZWZlciB0byB1c2UgaXQgaW5zdGVhZCBvZiBvciBpbgphZGRpdGlvbiB0byBpdC4gW1NlZSB3aGF0IEF0b20ncyBhbGwKYWJvdXRdKGh0dHA6Ly93d3cuYXRvbWVuYWJsZWQub3JnL2RldmVsb3BlcnMvc3luZGljYXRpb24vKS4KCmBgYGh0bWwKPGxpbmsgcmVsPSJhbHRlcm5hdGUiIHR5cGU9ImFwcGxpY2F0aW9uL2F0b20reG1sIiB0aXRsZT0iQXRvbSIgaHJlZj0iL2F0b20ueG1sIj4KYGBgCgojIyMgUGluZ2JhY2tzCgpZb3VyIHNlcnZlciBtYXkgYmUgbm90aWZpZWQgd2hlbiBhbm90aGVyIHNpdGUgbGlua3MgdG8geW91cnMuIFRoZSBocmVmCmF0dHJpYnV0ZSBzaG91bGQgY29udGFpbiB0aGUgbG9jYXRpb24gb2YgeW91ciBwaW5nYmFjayBzZXJ2aWNlLgoKYGBgaHRtbAo8bGluayByZWw9InBpbmdiYWNrIiBocmVmPSIiPgpgYGAKCiogSGlnaC1sZXZlbCBleHBsYW5hdGlvbjogaHR0cDovL2NvZGV4LndvcmRwcmVzcy5vcmcvSW50cm9kdWN0aW9uX3RvX0Jsb2dnaW5nI1BpbmdiYWNrcwoqIFN0ZXAtYnktc3RlcCBleGFtcGxlIGNhc2U6IGh0dHA6Ly93d3cuaGl4aWUuY2gvc3BlY3MvcGluZ2JhY2svcGluZ2JhY2stMS4wI1RPQzUKKiBQSFAgcGluZ2JhY2sgc2VydmljZTogaHR0cDovL2Jsb2cucGVycGxleGVkbGFicy5jb20vMjAwOS8wNy8xNS94bWxycGMtcGluZ2JhY2tzLXVzaW5nLXBocC8KCgojIyBBcHAgU3RvcmVzCgojIyMgSW5zdGFsbCBhIENocm9tZSBXZWIgU3RvcmUgYXBwCgpVc2VycyBjYW4gaW5zdGFsbCBhIENocm9tZSBhcHAgZGlyZWN0bHkgZnJvbSB5b3VyIHdlYnNpdGUsIGFzIGxvbmcgYXMgdGhlIGFwcAphbmQgc2l0ZSBoYXZlIGJlZW4gYXNzb2NpYXRlZCB2aWEgR29vZ2xlJ3MgV2VibWFzdGVyIFRvb2xzLiBSZWFkIG1vcmUgb24KW0Nocm9tZSBXZWIgU3RvcmUncyBJbmxpbmUgSW5zdGFsbGF0aW9uCmRvY3NdKGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2Nocm9tZS93ZWItc3RvcmUvZG9jcy9pbmxpbmVfaW5zdGFsbGF0aW9uKS4KCmBgYGh0bWwKPGxpbmsgcmVsPSJjaHJvbWUtd2Vic3RvcmUtaXRlbSIgaHJlZj0iaHR0cHM6Ly9jaHJvbWUuZ29vZ2xlLmNvbS93ZWJzdG9yZS9kZXRhaWwvQVBQX0lEIj4KYGBgCgojIyMgU21hcnQgQXBwIEJhbm5lcnMgaW4gaU9TIDYgU2FmYXJpCgpTdG9wIGJvdGhlcmluZyBldmVyeW9uZSB3aXRoIGdyb3NzIG1vZGFscyBhZHZlcnRpc2luZyB5b3VyIGVudHJ5IGluIHRoZSBBcHAgU3RvcmUuClRoaXMgYml0IG9mIGNvZGUgd2lsbCB1bmludHJ1c2l2ZWx5IGFsbG93IHRoZSB1c2VyIHRoZSBvcHRpb24gdG8gZG93bmxvYWQgeW91ciBpT1MKYXBwLCBvciBvcGVuIGl0IHdpdGggc29tZSBkYXRhIGFib3V0IHRoZSB1c2VyJ3MgY3VycmVudCBzdGF0ZSBvbiB0aGUgd2Vic2l0ZS4KCmBgYGh0bWwKPG1ldGEgbmFtZT0iYXBwbGUtaXR1bmVzLWFwcCIgY29udGVudD0iYXBwLWlkPUFQUF9JRCxhcHAtYXJndW1lbnQ9U09NRV9URVhUIj4KYGBgCgojIyBHb29nbGUgQW5hbHl0aWNzIGF1Z21lbnRzCgojIyMgTW9yZSB0cmFja2luZyBzZXR0aW5ncwoKVGhlIFtvcHRpbWl6ZWQgR29vZ2xlIEFuYWx5dGljcwpzbmlwcGV0XShodHRwOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9hc3luYy1hbmFseXRpY3Mtc25pcHBldCkgaW5jbHVkZWQgd2l0aApIVE1MNSBCb2lsZXJwbGF0ZSBpbmNsdWRlcyBzb21ldGhpbmcgbGlrZSB0aGlzOgoKYGBganMKdmFyIF9nYXEgPSBbWydfc2V0QWNjb3VudCcsICdVQS1YWFhYWC1YJ10sIFsnX3RyYWNrUGFnZXZpZXcnXV07CmBgYAoKSW4gY2FzZSB5b3UgbmVlZCBtb3JlIHNldHRpbmdzLCBqdXN0IGV4dGVuZCB0aGUgYXJyYXkgbGl0ZXJhbCBpbnN0ZWFkIG9mCltgLnB1c2goKWBpbmcgdG8gdGhlCmFycmF5XShodHRwOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9hc3luYy1hbmFseXRpY3Mtc25pcHBldCNkb250LXB1c2gtaXQpCmFmdGVyd2FyZHM6CgpgYGBqcwp2YXIgX2dhcSA9IFtbJ19zZXRBY2NvdW50JywgJ1VBLVhYWFhYLVgnXSwgWydfdHJhY2tQYWdldmlldyddLCBbJ19zZXRBbGxvd0FuY2hvcicsIHRydWVdXTsKYGBgCgojIyMgQW5vbnltaXplIElQIGFkZHJlc3NlcwoKSW4gc29tZSBjb3VudHJpZXMsIG5vIHBlcnNvbmFsIGRhdGEgbWF5IGJlIHRyYW5zZmVycmVkIG91dHNpZGUganVyaXNkaWN0aW9ucwp0aGF0IGRvIG5vdCBoYXZlIHNpbWlsYXJseSBzdHJpY3QgbGF3cyAoaS5lLiBmcm9tIEdlcm1hbnkgdG8gb3V0c2lkZSB0aGUgRVUpLgpUaHVzIGEgd2VibWFzdGVyIHVzaW5nIHRoZSBHb29nbGUgQW5hbHl0aWNzIHNjcmlwdCBtYXkgaGF2ZSB0byBlbnN1cmUgdGhhdCBubwpwZXJzb25hbCAodHJhY2thYmxlKSBkYXRhIGlzIHRyYW5zZmVycmVkIHRvIHRoZSBVUy4gWW91IGNhbiBkbyB0aGF0IHdpdGggW3RoZQpgX2dhdC5hbm9ueW1pemVJcGAKb3B0aW9uXShodHRwOi8vY29kZS5nb29nbGUuY29tL2FwaXMvYW5hbHl0aWNzL2RvY3MvZ2FKUy9nYUpTQXBpX2dhdC5odG1sI19nYXQuX2Fub255bWl6ZUlwKS4KSW4gdXNlIGl0IGxvb2tzIGxpa2UgdGhpczoKCmBgYGpzCnZhciBfZ2FxID0gW1snX3NldEFjY291bnQnLCAnVUEtWFhYWFgtWCddLCBbJ19nYXQuX2Fub255bWl6ZUlwJ10sIFsnX3RyYWNrUGFnZXZpZXcnXV07CmBgYAoKIyMjIFRyYWNrIGpRdWVyeSBBSkFYIHJlcXVlc3RzIGluIEdvb2dsZSBBbmFseXRpY3MKCkFuIGFydGljbGUgYnkgQEphbmdvU3RldmUgZXhwbGFpbnMgaG93IHRvIFt0cmFjayBqUXVlcnkgQUpBWCByZXF1ZXN0cyBpbiBHb29nbGUKQW5hbHl0aWNzXShodHRwOi8vd3d3LmFsZmFqYW5nby5jb20vYmxvZy90cmFjay1qcXVlcnktYWpheC1yZXF1ZXN0cy1pbi1nb29nbGUtYW5hbHl0aWNzLykuCgpBZGQgdGhpcyB0byBgcGx1Z2lucy5qc2A6CgpgYGBqcwovKgogKiBMb2cgYWxsIGpRdWVyeSBBSkFYIHJlcXVlc3RzIHRvIEdvb2dsZSBBbmFseXRpY3MKICogU2VlOiBodHRwOi8vd3d3LmFsZmFqYW5nby5jb20vYmxvZy90cmFjay1qcXVlcnktYWpheC1yZXF1ZXN0cy1pbi1nb29nbGUtYW5hbHl0aWNzLwogKi8KaWYgKHR5cGVvZiBfZ2FxICE9PSAidW5kZWZpbmVkIiAmJiBfZ2FxICE9PSBudWxsKSB7CiAgICAkKGRvY3VtZW50KS5hamF4U2VuZChmdW5jdGlvbihldmVudCwgeGhyLCBzZXR0aW5ncyl7CiAgICAgICAgX2dhcS5wdXNoKFsnX3RyYWNrUGFnZXZpZXcnLCBzZXR0aW5ncy51cmxdKTsKICAgIH0pOwp9CmBgYAoKIyMjIFRyYWNrIEphdmFTY3JpcHQgZXJyb3JzIGluIEdvb2dsZSBBbmFseXRpY3MKCkFkZCB0aGlzIGZ1bmN0aW9uIGFmdGVyIGBfZ2FxYCBpcyBkZWZpbmVkOgoKYGBganMKKGZ1bmN0aW9uKHdpbmRvdyl7CiAgICB2YXIgdW5kZWZpbmVkLAogICAgICAgIGxpbmsgPSBmdW5jdGlvbiAoaHJlZikgewogICAgICAgICAgICB2YXIgYSA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgICAgIGEuaHJlZiA9IGhyZWY7CiAgICAgICAgICAgIHJldHVybiBhOwogICAgICAgIH07CiAgICB3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uIChtZXNzYWdlLCBmaWxlLCBsaW5lLCBjb2x1bW4pIHsKICAgICAgICB2YXIgaG9zdCA9IGxpbmsoZmlsZSkuaG9zdG5hbWU7CiAgICAgICAgX2dhcS5wdXNoKFsKICAgICAgICAgICAgJ190cmFja0V2ZW50JywKICAgICAgICAgICAgKGhvc3QgPT0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lIHx8IGhvc3QgPT0gdW5kZWZpbmVkIHx8IGhvc3QgPT0gJycgPyAnJyA6ICdleHRlcm5hbCAnKSArICdlcnJvcicsCiAgICAgICAgICAgIG1lc3NhZ2UsIGZpbGUgKyAnIExJTkU6ICcgKyBsaW5lICsgKGNvbHVtbiA/ICcgQ09MVU1OOiAnICsgY29sdW1uIDogJycpLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdHJ1ZQogICAgICAgIF0pOwogICAgfTsKfSh3aW5kb3cpKTsKYGBgCgojIyMgVHJhY2sgcGFnZSBzY3JvbGwKCkFkZCB0aGlzIGZ1bmN0aW9uIGFmdGVyIGBfZ2FxYCBpcyBkZWZpbmVkOgoKYGBganMKJChmdW5jdGlvbigpewogICAgdmFyIGlzRHVwbGljYXRlU2Nyb2xsRXZlbnQsCiAgICAgICAgc2Nyb2xsVGltZVN0YXJ0ID0gbmV3IERhdGUsCiAgICAgICAgJHdpbmRvdyA9ICQod2luZG93KSwKICAgICAgICAkZG9jdW1lbnQgPSAkKGRvY3VtZW50KSwKICAgICAgICBzY3JvbGxQZXJjZW50OwoKICAgICR3aW5kb3cuc2Nyb2xsKGZ1bmN0aW9uKCkgewogICAgICAgIHNjcm9sbFBlcmNlbnQgPSBNYXRoLnJvdW5kKDEwMCAqICgkd2luZG93LmhlaWdodCgpICsgJHdpbmRvdy5zY3JvbGxUb3AoKSkvJGRvY3VtZW50LmhlaWdodCgpKTsKICAgICAgICBpZiAoc2Nyb2xsUGVyY2VudCA+IDkwICYmICFpc0R1cGxpY2F0ZVNjcm9sbEV2ZW50KSB7IC8vcGFnZSBzY3JvbGxlZCB0byA5MCUKICAgICAgICAgICAgaXNEdXBsaWNhdGVTY3JvbGxFdmVudCA9IDE7CiAgICAgICAgICAgIF9nYXEucHVzaChbJ190cmFja0V2ZW50JywgJ3Njcm9sbCcsCiAgICAgICAgICAgICAgICAnV2luZG93OiAnICsgJHdpbmRvdy5oZWlnaHQoKSArICdweDsgRG9jdW1lbnQ6ICcgKyAkZG9jdW1lbnQuaGVpZ2h0KCkgKyAncHg7IFRpbWU6ICcgKyBNYXRoLnJvdW5kKChuZXcgRGF0ZSAtIHNjcm9sbFRpbWVTdGFydCApLzEwMDAsMSkgKyAncycsCiAgICAgICAgICAgICAgICB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdHJ1ZQogICAgICAgICAgICBdKTsKICAgICAgICB9CiAgICB9KTsKfSk7CmBgYAoKIyMgaU9TIFdlYiBBcHBzCgpUaGVyZSBhcmUgYSBjb3VwbGUgb2YgbWV0YSB0YWdzIHRoYXQgcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCBhIHdlYiBhcHAgd2hlbgphZGRlZCB0byB0aGUgSG9tZSBTY3JlZW4gb24gaU9TLgoKQWRkaW5nIGBhcHBsZS1tb2JpbGUtd2ViLWFwcC1jYXBhYmxlYCB3aWxsIG1ha2UgeW91ciB3ZWIgYXBwIGNocm9tZS1sZXNzIGFuZApwcm92aWRlIHRoZSBkZWZhdWx0IGlPUyBhcHAgdmlldy4gWW91IGNhbiBjb250cm9sIHRoZSBjb2xvciBzY2hlbWUgb2YgdGhlCmRlZmF1bHQgdmlldyBieSBhZGRpbmcgYGFwcGxlLW1vYmlsZS13ZWItYXBwLXN0YXR1cy1iYXItc3R5bGVgLgoKYGBgaHRtbAo8bWV0YSBuYW1lPSJhcHBsZS1tb2JpbGUtd2ViLWFwcC1jYXBhYmxlIiBjb250ZW50PSJ5ZXMiPgo8bWV0YSBuYW1lPSJhcHBsZS1tb2JpbGUtd2ViLWFwcC1zdGF0dXMtYmFyLXN0eWxlIiBjb250ZW50PSJibGFjayI+CmBgYAoKWW91IGNhbiB1c2UgYGFwcGxlLW1vYmlsZS13ZWItYXBwLXRpdGxlYCB0byBhZGQgYSBzcGVjaWZpYyBzaXRlcyBuYW1lIGZvciB0aGUKSG9tZSBTY3JlZW4gaWNvbi4gVGhpcyB3b3JrcyBzaW5jZSBpT1MgNi4KCmBgYGh0bWwKPG1ldGEgbmFtZT0iYXBwbGUtbW9iaWxlLXdlYi1hcHAtdGl0bGUiIGNvbnRlbnQ9IiI+CmBgYAoKRm9yIGZ1cnRoZXIgaW5mb3JtYXRpb24gcGxlYXNlIHJlYWQgdGhlIFtvZmZpY2lhbCBkb2N1bWVudGF0aW9uXShodHRwOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L3NhZmFyaS8jZG9jdW1lbnRhdGlvbi9BcHBsZUFwcGxpY2F0aW9ucy9SZWZlcmVuY2UvU2FmYXJpSFRNTFJlZi9BcnRpY2xlcy9NZXRhVGFncy5odG1sKQpvbiBBcHBsZSdzIHNpdGUuCgojIyMgQXBwbGUgVG91Y2ggSWNvbnMKClRvdWNoIEljb25zIGNhbiBiZSBzZWVuIGFzIHRoZSBmYXZpY29ucyBvZiBtb2JpbGUgZGV2aWNlcyBhbmQgdGFibGV0cy4KCklmIHlvdXIgc2l0ZSBvciBpY29ucyBhcmUgaW4gYSBzdWItZGlyZWN0b3J5LCB5b3Ugd2lsbCBuZWVkIHRvIHJlZmVyZW5jZSB0aGUKaWNvbnMgdXNpbmcgYGxpbmtgIGVsZW1lbnRzIHBsYWNlZCBpbiB0aGUgSFRNTCBgaGVhZGAgb2YgeW91ciBkb2N1bWVudC4KCmBgYGh0bWwKPGxpbmsgcmVsPSJhcHBsZS10b3VjaC1pY29uLXByZWNvbXBvc2VkIiBocmVmPSJhcHBsZS10b3VjaC1pY29uLXByZWNvbXBvc2VkLnBuZyI+CmBgYAoKVGhlIG1haW4gc2l6ZXMgb2YgdGhlIGljb25zIG9uIGlPUyBhcmU6CgoqIGlQYWQsIGhpZ2gtcmVzb2x1dGlvbiBkaXNwbGF5LCBpT1MgNzogMTUyeDE1MgoqIGlQYWQsIGhpZ2gtcmVzb2x1dGlvbiBkaXNwbGF5LCBpT1Mg4omkIDY6IDE0NHgxNDQKKiBpUGhvbmUsIGhpZ2gtcmVzb2x1dGlvbiBkaXNwbGF5LCBpT1MgNzogMTIweDEyMAoqIGlQaG9uZSwgaGlnaC1yZXNvbHV0aW9uIGRpc3BsYXksIGlPUyDiiaQgNjogMTE0eDExNAoqIGlQYWQsIG5vbi1SZXRpbmEsIGlPUyDiiaQgNjogNzJ4NzIKCkZvciBub24tUmV0aW5hIGlQaG9uZSwgaVBvZCBUb3VjaCwgYW5kIEFuZHJvaWQgMi4xKyBkZXZpY2VzIHlvdSBjYW4gdXNlIHRoZQpleGFtcGxlIGZyb20gYWJvdmUgb3IgcmVwbGFjZSB0aGUgYGFwcGxlLXRvdWNoLWljb24tcHJlY29tcG9zZWQucG5nYCB3aXRoaW4gdGhpcwpwcm9qZWN0J3Mgcm9vdCBmb2xkZXIuCgpQbGVhc2UgcmVmZXIgdG8gTWF0aGlhcycgW2FydGljbGUgb24gVG91Y2gKSWNvbnNdKGh0dHA6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL3RvdWNoLWljb25zKSBmb3IgYSBjb21wcmVoZW5zaXZlIG92ZXJ2aWV3LgoKIyMjIEFwcGxlIFRvdWNoIFN0YXJ0dXAgSW1hZ2UKCkFwYXJ0IGZyb20gdGhhdCBpdCBpcyBwb3NzaWJsZSB0byBhZGQgc3RhcnQtdXAgc2NyZWVucyBmb3Igd2ViIGFwcHMgb24gaU9TLiBUaGlzCmJhc2ljYWxseSB3b3JrcyBieSBkZWZpbmluZyBgYXBwbGUtdG91Y2gtc3RhcnR1cC1pbWFnZWAgd2l0aCBhbiBhY2NvcmRpbmcgbGluawp0byB0aGUgaW1hZ2UuIFNpbmNlIGlPUyBkZXZpY2VzIGhhdmUgZGlmZmVyZW50IHNjcmVlbiByZXNvbHV0aW9ucyBpdCBpcwpuZWNlc3NhcnkgdG8gYWRkIG1lZGlhIHF1ZXJpZXMgdG8gZGV0ZWN0IHdoaWNoIGltYWdlIHRvIGxvYWQuIEhlcmUgaXMgYW4KZXhhbXBsZSBmb3IgYSByZXRpbmEgaVBob25lOgoKYGBgaHRtbAo8bGluayByZWw9ImFwcGxlLXRvdWNoLXN0YXJ0dXAtaW1hZ2UiIG1lZGlhPSIobWF4LWRldmljZS13aWR0aDogNDgwcHgpIGFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAyKSIgaHJlZj0iaW1nL3N0YXJ0dXAtcmV0aW5hLnBuZyI+CmBgYAoKSG93ZXZlciwgaXQgaXMgcG9zc2libGUgdG8gZGV0ZWN0IHdoaWNoIHN0YXJ0LXVwIGltYWdlIHRvIHVzZSB3aXRoIEphdmFTY3JpcHQuClRoZSBNb2JpbGUgQm9pbGVycGxhdGUgcHJvdmlkZXMgYSB1c2VmdWwgZnVuY3Rpb24gZm9yIHRoaXMuIFBsZWFzZSBzZWUKW2hlbHBlcnMuanNdKGh0dHBzOi8vZ2l0aHViLmNvbS9oNWJwL21vYmlsZS1ib2lsZXJwbGF0ZS9ibG9iL21hc3Rlci9qcy9oZWxwZXIuanMjTDM1NCkKZm9yIHRoZSBpbXBsZW1lbnRhdGlvbi4KCiMjIE1pc2NlbGxhbmVvdXMKCiogVXNlIFtIVE1MNQogIHBvbHlmaWxsc10oaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvd2lraS9IVE1MNS1Dcm9zcy1icm93c2VyLVBvbHlmaWxscykuCgoqIFVzZSBbTWljcm9mb3JtYXRzXShodHRwOi8vbWljcm9mb3JtYXRzLm9yZy93aWtpL01haW5fUGFnZSkgKHZpYQogIFttaWNyb2RhdGFdKGh0dHA6Ly9taWNyb2Zvcm1hdHMub3JnL3dpa2kvbWljcm9kYXRhKSkgZm9yIG9wdGltdW0gc2VhcmNoCiAgcmVzdWx0cwogIFt2aXNpYmlsaXR5XShodHRwOi8vZ29vZ2xld2VibWFzdGVyY2VudHJhbC5ibG9nc3BvdC5jb20vMjAwOS8wNS9pbnRyb2R1Y2luZy1yaWNoLXNuaXBwZXRzLmh0bWwpLgoKKiBJZiB5b3UncmUgYnVpbGRpbmcgYSB3ZWIgYXBwIHlvdSBtYXkgd2FudCBbbmF0aXZlIHN0eWxlIG1vbWVudHVtIHNjcm9sbGluZyBpbgogIGlPUzVdKGh0dHA6Ly9qb2hhbmJyb29rLmNvbS9icm93c2Vycy9uYXRpdmUtbW9tZW50dW0tc2Nyb2xsaW5nLWlvcy01LykgdXNpbmcKICBgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6IHRvdWNoYC4KCiogQXZvaWQgZGV2ZWxvcG1lbnQvc3RhZ2Ugd2Vic2l0ZXMgImxlYWtpbmciIGludG8gU0VSUHMgKHNlYXJjaCBlbmdpbmUgcmVzdWx0cwogIHBhZ2UpIGJ5IFtpbXBsZW1lbnRpbmcgWC1Sb2JvdHMtdGFnCiAgaGVhZGVyc10oaHR0cHM6Ly9naXRodWIuY29tL2g1YnAvaHRtbDUtYm9pbGVycGxhdGUvaXNzdWVzLzgwNCkuCgoqIFNjcmVlbiByZWFkZXJzIGN1cnJlbnRseSBoYXZlIGxlc3MtdGhhbi1zdGVsbGFyIHN1cHBvcnQgZm9yIEhUTUw1IGJ1dCB0aGUgSlMKICBzY3JpcHQgW2FjY2Vzc2lmeWh0bWw1LmpzXShodHRwczovL2dpdGh1Yi5jb20veWF0aWwvYWNjZXNzaWZ5aHRtbDUuanMpIGNhbgogIGhlbHAgaW5jcmVhc2UgYWNjZXNzaWJpbGl0eSBieSBhZGRpbmcgQVJJQSByb2xlcyB0byBIVE1MNSBlbGVtZW50cy4KCgoqTWFueSB0aGFua3MgdG8gW0JyaWFuIEJsYWtlbHldKGh0dHBzOi8vZ2l0aHViLmNvbS9icmlhbmJsYWtlbHkpIGZvcgpjb250cmlidXRpbmcgbXVjaCBvZiB0aGlzIGluZm9ybWF0aW9uLioK')
},
{
'name': '/app/bower_components/html5-boilerplate/doc/crossdomain.md', 'data': base64.b64decode('W0hUTUw1IEJvaWxlcnBsYXRlIGhvbWVwYWdlXShodHRwOi8vaHRtbDVib2lsZXJwbGF0ZS5jb20pIHwgW0RvY3VtZW50YXRpb24KdGFibGUgb2YgY29udGVudHNdKFRPQy5tZCkKCiMgY3Jvc3Nkb21haW4ueG1sCgpBIGNyb3NzLWRvbWFpbiBwb2xpY3kgZmlsZSBpcyBhbiBYTUwgZG9jdW1lbnQgdGhhdCBncmFudHMgYSB3ZWIgY2xpZW504oCUc3VjaCBhcwpBZG9iZSBGbGFzaCBQbGF5ZXIsIEFkb2JlIFJlYWRlciwgZXRjLiwgcGVybWlzc2lvbiB0byBoYW5kbGUgZGF0YSBhY3Jvc3MKbXVsdGlwbGUgZG9tYWlucy4gV2hlbiBhIGNsaWVudCBob3N0cyBjb250ZW50IGZyb20gYSBwYXJ0aWN1bGFyIHNvdXJjZSBkb21haW4KYW5kIHRoYXQgY29udGVudCBtYWtlcyByZXF1ZXN0cyBkaXJlY3RlZCB0b3dhcmRzIGEgZG9tYWluIG90aGVyIHRoYW4gaXRzIG93biwKdGhlIHJlbW90ZSBkb21haW4gd291bGQgbmVlZCB0byBob3N0IGEgY3Jvc3MtZG9tYWluIHBvbGljeSBmaWxlIHRoYXQgZ3JhbnRzCmFjY2VzcyB0byB0aGUgc291cmNlIGRvbWFpbiwgYWxsb3dpbmcgdGhlIGNsaWVudCB0byBjb250aW51ZSB3aXRoIHRoZQp0cmFuc2FjdGlvbi4gUG9saWN5IGZpbGVzIGdyYW50IHJlYWQgYWNjZXNzIHRvIGRhdGEsIHBlcm1pdCBhIGNsaWVudCB0byBpbmNsdWRlCmN1c3RvbSBoZWFkZXJzIGluIGNyb3NzLWRvbWFpbiByZXF1ZXN0cywgYW5kIGFyZSBhbHNvIHVzZWQgd2l0aCBzb2NrZXRzIHRvCmdyYW50IHBlcm1pc3Npb25zIGZvciBzb2NrZXQtYmFzZWQgY29ubmVjdGlvbnMuCgpGb3IgZnVsbCBkZXRhaWxzLCBjaGVjayBvdXQgQWRvYmUncyBhcnRpY2xlIGFib3V0IHRoZSBbY3Jvc3MtZG9tYWluIHBvbGljeSBmaWxlCnNwZWNpZmljYXRpb25dKGh0dHA6Ly93d3cuYWRvYmUuY29tL2Rldm5ldC9hcnRpY2xlcy9jcm9zc2RvbWFpbl9wb2xpY3lfZmlsZV9zcGVjLmh0bWwpLgo=')
},
{
'name': '/app/bower_components/html5-boilerplate/css/main.css', 'data': base64.b64decode('LyohIEhUTUw1IEJvaWxlcnBsYXRlIHY0LjMuMCB8IE1JVCBMaWNlbnNlIHwgaHR0cDovL2g1YnAuY29tLyAqLwoKLyoKICogV2hhdCBmb2xsb3dzIGlzIHRoZSByZXN1bHQgb2YgbXVjaCByZXNlYXJjaCBvbiBjcm9zcy1icm93c2VyIHN0eWxpbmcuCiAqIENyZWRpdCBsZWZ0IGlubGluZSBhbmQgYmlnIHRoYW5rcyB0byBOaWNvbGFzIEdhbGxhZ2hlciwgSm9uYXRoYW4gTmVhbCwKICogS3JvYyBDYW1lbiwgYW5kIHRoZSBINUJQIGRldiBjb21tdW5pdHkgYW5kIHRlYW0uCiAqLwoKLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgQmFzZSBzdHlsZXM6IG9waW5pb25hdGVkIGRlZmF1bHRzCiAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCgpodG1sLApidXR0b24sCmlucHV0LApzZWxlY3QsCnRleHRhcmVhIHsKICAgIGNvbG9yOiAjMjIyOwp9CgpodG1sIHsKICAgIGZvbnQtc2l6ZTogMWVtOwogICAgbGluZS1oZWlnaHQ6IDEuNDsKfQoKLyoKICogUmVtb3ZlIHRleHQtc2hhZG93IGluIHNlbGVjdGlvbiBoaWdobGlnaHQ6IGg1YnAuY29tL2kKICogVGhlc2Ugc2VsZWN0aW9uIHJ1bGUgc2V0cyBoYXZlIHRvIGJlIHNlcGFyYXRlLgogKiBDdXN0b21pemUgdGhlIGJhY2tncm91bmQgY29sb3IgdG8gbWF0Y2ggeW91ciBkZXNpZ24uCiAqLwoKOjotbW96LXNlbGVjdGlvbiB7CiAgICBiYWNrZ3JvdW5kOiAjYjNkNGZjOwogICAgdGV4dC1zaGFkb3c6IG5vbmU7Cn0KCjo6c2VsZWN0aW9uIHsKICAgIGJhY2tncm91bmQ6ICNiM2Q0ZmM7CiAgICB0ZXh0LXNoYWRvdzogbm9uZTsKfQoKLyoKICogQSBiZXR0ZXIgbG9va2luZyBkZWZhdWx0IGhvcml6b250YWwgcnVsZQogKi8KCmhyIHsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgaGVpZ2h0OiAxcHg7CiAgICBib3JkZXI6IDA7CiAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2NjYzsKICAgIG1hcmdpbjogMWVtIDA7CiAgICBwYWRkaW5nOiAwOwp9CgovKgogKiBSZW1vdmUgdGhlIGdhcCBiZXR3ZWVuIGltYWdlcywgdmlkZW9zLCBhdWRpbyBhbmQgY2FudmFzIGFuZCB0aGUgYm90dG9tIG9mCiAqIHRoZWlyIGNvbnRhaW5lcnM6IGg1YnAuY29tL2kvNDQwCiAqLwoKYXVkaW8sCmNhbnZhcywKaW1nLAp2aWRlbyB7CiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwp9CgovKgogKiBSZW1vdmUgZGVmYXVsdCBmaWVsZHNldCBzdHlsZXMuCiAqLwoKZmllbGRzZXQgewogICAgYm9yZGVyOiAwOwogICAgbWFyZ2luOiAwOwogICAgcGFkZGluZzogMDsKfQoKLyoKICogQWxsb3cgb25seSB2ZXJ0aWNhbCByZXNpemluZyBvZiB0ZXh0YXJlYXMuCiAqLwoKdGV4dGFyZWEgewogICAgcmVzaXplOiB2ZXJ0aWNhbDsKfQoKLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgQnJvd3NlIEhhcHB5IHByb21wdAogICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLwoKLmJyb3dzZWhhcHB5IHsKICAgIG1hcmdpbjogMC4yZW0gMDsKICAgIGJhY2tncm91bmQ6ICNjY2M7CiAgICBjb2xvcjogIzAwMDsKICAgIHBhZGRpbmc6IDAuMmVtIDA7Cn0KCi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgIEF1dGhvcidzIGN1c3RvbSBzdHlsZXMKICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8KCgoKCgoKCgoKCgoKCgoKCgovKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICBIZWxwZXIgY2xhc3NlcwogICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLwoKLyoKICogSW1hZ2UgcmVwbGFjZW1lbnQKICovCgouaXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICBib3JkZXI6IDA7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgLyogSUUgNi83IGZhbGxiYWNrICovCiAgICAqdGV4dC1pbmRlbnQ6IC05OTk5cHg7Cn0KCi5pcjpiZWZvcmUgewogICAgY29udGVudDogIiI7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHdpZHRoOiAwOwogICAgaGVpZ2h0OiAxNTAlOwp9CgovKgogKiBIaWRlIGZyb20gYm90aCBzY3JlZW5yZWFkZXJzIGFuZCBicm93c2VyczogaDVicC5jb20vdQogKi8KCi5oaWRkZW4gewogICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OwogICAgdmlzaWJpbGl0eTogaGlkZGVuOwp9CgovKgogKiBIaWRlIG9ubHkgdmlzdWFsbHksIGJ1dCBoYXZlIGl0IGF2YWlsYWJsZSBmb3Igc2NyZWVucmVhZGVyczogaDVicC5jb20vdgogKi8KCi52aXN1YWxseWhpZGRlbiB7CiAgICBib3JkZXI6IDA7CiAgICBjbGlwOiByZWN0KDAgMCAwIDApOwogICAgaGVpZ2h0OiAxcHg7CiAgICBtYXJnaW46IC0xcHg7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgcGFkZGluZzogMDsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHdpZHRoOiAxcHg7Cn0KCi8qCiAqIEV4dGVuZHMgdGhlIC52aXN1YWxseWhpZGRlbiBjbGFzcyB0byBhbGxvdyB0aGUgZWxlbWVudCB0byBiZSBmb2N1c2FibGUKICogd2hlbiBuYXZpZ2F0ZWQgdG8gdmlhIHRoZSBrZXlib2FyZDogaDVicC5jb20vcAogKi8KCi52aXN1YWxseWhpZGRlbi5mb2N1c2FibGU6YWN0aXZlLAoudmlzdWFsbHloaWRkZW4uZm9jdXNhYmxlOmZvY3VzIHsKICAgIGNsaXA6IGF1dG87CiAgICBoZWlnaHQ6IGF1dG87CiAgICBtYXJnaW46IDA7CiAgICBvdmVyZmxvdzogdmlzaWJsZTsKICAgIHBvc2l0aW9uOiBzdGF0aWM7CiAgICB3aWR0aDogYXV0bzsKfQoKLyoKICogSGlkZSB2aXN1YWxseSBhbmQgZnJvbSBzY3JlZW5yZWFkZXJzLCBidXQgbWFpbnRhaW4gbGF5b3V0CiAqLwoKLmludmlzaWJsZSB7CiAgICB2aXNpYmlsaXR5OiBoaWRkZW47Cn0KCi8qCiAqIENsZWFyZml4OiBjb250YWluIGZsb2F0cwogKgogKiBGb3IgbW9kZXJuIGJyb3dzZXJzCiAqIDEuIFRoZSBzcGFjZSBjb250ZW50IGlzIG9uZSB3YXkgdG8gYXZvaWQgYW4gT3BlcmEgYnVnIHdoZW4gdGhlCiAqICAgIGBjb250ZW50ZWRpdGFibGVgIGF0dHJpYnV0ZSBpcyBpbmNsdWRlZCBhbnl3aGVyZSBlbHNlIGluIHRoZSBkb2N1bWVudC4KICogICAgT3RoZXJ3aXNlIGl0IGNhdXNlcyBzcGFjZSB0byBhcHBlYXIgYXQgdGhlIHRvcCBhbmQgYm90dG9tIG9mIGVsZW1lbnRzCiAqICAgIHRoYXQgcmVjZWl2ZSB0aGUgYGNsZWFyZml4YCBjbGFzcy4KICogMi4gVGhlIHVzZSBvZiBgdGFibGVgIHJhdGhlciB0aGFuIGBibG9ja2AgaXMgb25seSBuZWNlc3NhcnkgaWYgdXNpbmcKICogICAgYDpiZWZvcmVgIHRvIGNvbnRhaW4gdGhlIHRvcC1tYXJnaW5zIG9mIGNoaWxkIGVsZW1lbnRzLgogKi8KCi5jbGVhcmZpeDpiZWZvcmUsCi5jbGVhcmZpeDphZnRlciB7CiAgICBjb250ZW50OiAiICI7IC8qIDEgKi8KICAgIGRpc3BsYXk6IHRhYmxlOyAvKiAyICovCn0KCi5jbGVhcmZpeDphZnRlciB7CiAgICBjbGVhcjogYm90aDsKfQoKLyoKICogRm9yIElFIDYvNyBvbmx5CiAqIEluY2x1ZGUgdGhpcyBydWxlIHRvIHRyaWdnZXIgaGFzTGF5b3V0IGFuZCBjb250YWluIGZsb2F0cy4KICovCgouY2xlYXJmaXggewogICAgKnpvb206IDE7Cn0KCi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgIEVYQU1QTEUgTWVkaWEgUXVlcmllcyBmb3IgUmVzcG9uc2l2ZSBEZXNpZ24uCiAgIFRoZXNlIGV4YW1wbGVzIG92ZXJyaWRlIHRoZSBwcmltYXJ5ICgnbW9iaWxlIGZpcnN0Jykgc3R5bGVzLgogICBNb2RpZnkgYXMgY29udGVudCByZXF1aXJlcy4KICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8KCkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMzVlbSkgewogICAgLyogU3R5bGUgYWRqdXN0bWVudHMgZm9yIHZpZXdwb3J0cyB0aGF0IG1lZXQgdGhlIGNvbmRpdGlvbiAqLwp9CgpAbWVkaWEgcHJpbnQsCiAgICAgICAoLW8tbWluLWRldmljZS1waXhlbC1yYXRpbzogNS80KSwKICAgICAgICgtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDEuMjUpLAogICAgICAgKG1pbi1yZXNvbHV0aW9uOiAxMjBkcGkpIHsKICAgIC8qIFN0eWxlIGFkanVzdG1lbnRzIGZvciBoaWdoIHJlc29sdXRpb24gZGV2aWNlcyAqLwp9CgovKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICBQcmludCBzdHlsZXMuCiAgIElubGluZWQgdG8gYXZvaWQgcmVxdWlyZWQgSFRUUCBjb25uZWN0aW9uOiBoNWJwLmNvbS9yCiAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCgpAbWVkaWEgcHJpbnQgewogICAgKiB7CiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgIWltcG9ydGFudDsKICAgICAgICBjb2xvcjogIzAwMCAhaW1wb3J0YW50OyAvKiBCbGFjayBwcmludHMgZmFzdGVyOiBoNWJwLmNvbS9zICovCiAgICAgICAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50OwogICAgICAgIHRleHQtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7CiAgICB9CgogICAgYSwKICAgIGE6dmlzaXRlZCB7CiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7CiAgICB9CgogICAgYVtocmVmXTphZnRlciB7CiAgICAgICAgY29udGVudDogIiAoIiBhdHRyKGhyZWYpICIpIjsKICAgIH0KCiAgICBhYmJyW3RpdGxlXTphZnRlciB7CiAgICAgICAgY29udGVudDogIiAoIiBhdHRyKHRpdGxlKSAiKSI7CiAgICB9CgogICAgLyoKICAgICAqIERvbid0IHNob3cgbGlua3MgZm9yIGltYWdlcywgb3IgamF2YXNjcmlwdC9pbnRlcm5hbCBsaW5rcwogICAgICovCgogICAgLmlyIGE6YWZ0ZXIsCiAgICBhW2hyZWZePSJqYXZhc2NyaXB0OiJdOmFmdGVyLAogICAgYVtocmVmXj0iIyJdOmFmdGVyIHsKICAgICAgICBjb250ZW50OiAiIjsKICAgIH0KCiAgICBwcmUsCiAgICBibG9ja3F1b3RlIHsKICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjOTk5OwogICAgICAgIHBhZ2UtYnJlYWstaW5zaWRlOiBhdm9pZDsKICAgIH0KCiAgICB0aGVhZCB7CiAgICAgICAgZGlzcGxheTogdGFibGUtaGVhZGVyLWdyb3VwOyAvKiBoNWJwLmNvbS90ICovCiAgICB9CgogICAgdHIsCiAgICBpbWcgewogICAgICAgIHBhZ2UtYnJlYWstaW5zaWRlOiBhdm9pZDsKICAgIH0KCiAgICBpbWcgewogICAgICAgIG1heC13aWR0aDogMTAwJSAhaW1wb3J0YW50OwogICAgfQoKICAgIEBwYWdlIHsKICAgICAgICBtYXJnaW46IDAuNWNtOwogICAgfQoKICAgIHAsCiAgICBoMiwKICAgIGgzIHsKICAgICAgICBvcnBoYW5zOiAzOwogICAgICAgIHdpZG93czogMzsKICAgIH0KCiAgICBoMiwKICAgIGgzIHsKICAgICAgICBwYWdlLWJyZWFrLWFmdGVyOiBhdm9pZDsKICAgIH0KfQo=')
},
{
'name': '/app/bower_components/html5-boilerplate/css/normalize.css', 'data': base64.b64decode('LyohIG5vcm1hbGl6ZS5jc3MgdjEuMS4zIHwgTUlUIExpY2Vuc2UgfCBnaXQuaW8vbm9ybWFsaXplICovCgovKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICBIVE1MNSBkaXNwbGF5IGRlZmluaXRpb25zCiAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCgovKioKICogQ29ycmVjdCBgYmxvY2tgIGRpc3BsYXkgbm90IGRlZmluZWQgaW4gSUUgNi83LzgvOSBhbmQgRmlyZWZveCAzLgogKi8KCmFydGljbGUsCmFzaWRlLApkZXRhaWxzLApmaWdjYXB0aW9uLApmaWd1cmUsCmZvb3RlciwKaGVhZGVyLApoZ3JvdXAsCm1haW4sCm5hdiwKc2VjdGlvbiwKc3VtbWFyeSB7CiAgICBkaXNwbGF5OiBibG9jazsKfQoKLyoqCiAqIENvcnJlY3QgYGlubGluZS1ibG9ja2AgZGlzcGxheSBub3QgZGVmaW5lZCBpbiBJRSA2LzcvOC85IGFuZCBGaXJlZm94IDMuCiAqLwoKYXVkaW8sCmNhbnZhcywKdmlkZW8gewogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgKmRpc3BsYXk6IGlubGluZTsKICAgICp6b29tOiAxOwp9CgovKioKICogUHJldmVudCBtb2Rlcm4gYnJvd3NlcnMgZnJvbSBkaXNwbGF5aW5nIGBhdWRpb2Agd2l0aG91dCBjb250cm9scy4KICogUmVtb3ZlIGV4Y2VzcyBoZWlnaHQgaW4gaU9TIDUgZGV2aWNlcy4KICovCgphdWRpbzpub3QoW2NvbnRyb2xzXSkgewogICAgZGlzcGxheTogbm9uZTsKICAgIGhlaWdodDogMDsKfQoKLyoqCiAqIEFkZHJlc3Mgc3R5bGluZyBub3QgcHJlc2VudCBpbiBJRSA3LzgvOSwgRmlyZWZveCAzLCBhbmQgU2FmYXJpIDQuCiAqIEtub3duIGlzc3VlOiBubyBJRSA2IHN1cHBvcnQuCiAqLwoKW2hpZGRlbl0gewogICAgZGlzcGxheTogbm9uZTsKfQoKLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgQmFzZQogICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLwoKLyoqCiAqIDEuIENvcnJlY3QgdGV4dCByZXNpemluZyBvZGRseSBpbiBJRSA2Lzcgd2hlbiBib2R5IGBmb250LXNpemVgIGlzIHNldCB1c2luZwogKiAgICBgZW1gIHVuaXRzLgogKiAyLiBQcmV2ZW50IGlPUyB0ZXh0IHNpemUgYWRqdXN0IGFmdGVyIG9yaWVudGF0aW9uIGNoYW5nZSwgd2l0aG91dCBkaXNhYmxpbmcKICogICAgdXNlciB6b29tLgogKi8KCmh0bWwgewogICAgZm9udC1zaXplOiAxMDAlOyAvKiAxICovCiAgICAtbXMtdGV4dC1zaXplLWFkanVzdDogMTAwJTsgLyogMiAqLwogICAgLXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OiAxMDAlOyAvKiAyICovCn0KCi8qKgogKiBBZGRyZXNzIGBmb250LWZhbWlseWAgaW5jb25zaXN0ZW5jeSBiZXR3ZWVuIGB0ZXh0YXJlYWAgYW5kIG90aGVyIGZvcm0KICogZWxlbWVudHMuCiAqLwoKaHRtbCwKYnV0dG9uLAppbnB1dCwKc2VsZWN0LAp0ZXh0YXJlYSB7CiAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjsKfQoKLyoqCiAqIEFkZHJlc3MgbWFyZ2lucyBoYW5kbGVkIGluY29ycmVjdGx5IGluIElFIDYvNy4KICovCgpib2R5IHsKICAgIG1hcmdpbjogMDsKfQoKLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgTGlua3MKICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8KCi8qKgogKiBBZGRyZXNzIGBvdXRsaW5lYCBpbmNvbnNpc3RlbmN5IGJldHdlZW4gQ2hyb21lIGFuZCBvdGhlciBicm93c2Vycy4KICovCgphOmZvY3VzIHsKICAgIG91dGxpbmU6IHRoaW4gZG90dGVkOwp9CgovKioKICogSW1wcm92ZSByZWFkYWJpbGl0eSB3aGVuIGZvY3VzZWQgYW5kIGFsc28gbW91c2UgaG92ZXJlZCBpbiBhbGwgYnJvd3NlcnMuCiAqLwoKYTphY3RpdmUsCmE6aG92ZXIgewogICAgb3V0bGluZTogMDsKfQoKLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgVHlwb2dyYXBoeQogICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLwoKLyoqCiAqIEFkZHJlc3MgZm9udCBzaXplcyBhbmQgbWFyZ2lucyBzZXQgZGlmZmVyZW50bHkgaW4gSUUgNi83LgogKiBBZGRyZXNzIGZvbnQgc2l6ZXMgd2l0aGluIGBzZWN0aW9uYCBhbmQgYGFydGljbGVgIGluIEZpcmVmb3ggNCssIFNhZmFyaSA1LAogKiBhbmQgQ2hyb21lLgogKi8KCmgxIHsKICAgIGZvbnQtc2l6ZTogMmVtOwogICAgbWFyZ2luOiAwLjY3ZW0gMDsKfQoKaDIgewogICAgZm9udC1zaXplOiAxLjVlbTsKICAgIG1hcmdpbjogMC44M2VtIDA7Cn0KCmgzIHsKICAgIGZvbnQtc2l6ZTogMS4xN2VtOwogICAgbWFyZ2luOiAxZW0gMDsKfQoKaDQgewogICAgZm9udC1zaXplOiAxZW07CiAgICBtYXJnaW46IDEuMzNlbSAwOwp9CgpoNSB7CiAgICBmb250LXNpemU6IDAuODNlbTsKICAgIG1hcmdpbjogMS42N2VtIDA7Cn0KCmg2IHsKICAgIGZvbnQtc2l6ZTogMC42N2VtOwogICAgbWFyZ2luOiAyLjMzZW0gMDsKfQoKLyoqCiAqIEFkZHJlc3Mgc3R5bGluZyBub3QgcHJlc2VudCBpbiBJRSA3LzgvOSwgU2FmYXJpIDUsIGFuZCBDaHJvbWUuCiAqLwoKYWJiclt0aXRsZV0gewogICAgYm9yZGVyLWJvdHRvbTogMXB4IGRvdHRlZDsKfQoKLyoqCiAqIEFkZHJlc3Mgc3R5bGUgc2V0IHRvIGBib2xkZXJgIGluIEZpcmVmb3ggMyssIFNhZmFyaSA0LzUsIGFuZCBDaHJvbWUuCiAqLwoKYiwKc3Ryb25nIHsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwp9CgpibG9ja3F1b3RlIHsKICAgIG1hcmdpbjogMWVtIDQwcHg7Cn0KCi8qKgogKiBBZGRyZXNzIHN0eWxpbmcgbm90IHByZXNlbnQgaW4gU2FmYXJpIDUgYW5kIENocm9tZS4KICovCgpkZm4gewogICAgZm9udC1zdHlsZTogaXRhbGljOwp9CgovKioKICogQWRkcmVzcyBkaWZmZXJlbmNlcyBiZXR3ZWVuIEZpcmVmb3ggYW5kIG90aGVyIGJyb3dzZXJzLgogKiBLbm93biBpc3N1ZTogbm8gSUUgNi83IG5vcm1hbGl6YXRpb24uCiAqLwoKaHIgewogICAgLW1vei1ib3gtc2l6aW5nOiBjb250ZW50LWJveDsKICAgIGJveC1zaXppbmc6IGNvbnRlbnQtYm94OwogICAgaGVpZ2h0OiAwOwp9CgovKioKICogQWRkcmVzcyBzdHlsaW5nIG5vdCBwcmVzZW50IGluIElFIDYvNy84LzkuCiAqLwoKbWFyayB7CiAgICBiYWNrZ3JvdW5kOiAjZmYwOwogICAgY29sb3I6ICMwMDA7Cn0KCi8qKgogKiBBZGRyZXNzIG1hcmdpbnMgc2V0IGRpZmZlcmVudGx5IGluIElFIDYvNy4KICovCgpwLApwcmUgewogICAgbWFyZ2luOiAxZW0gMDsKfQoKLyoqCiAqIENvcnJlY3QgZm9udCBmYW1pbHkgc2V0IG9kZGx5IGluIElFIDYsIFNhZmFyaSA0LzUsIGFuZCBDaHJvbWUuCiAqLwoKY29kZSwKa2JkLApwcmUsCnNhbXAgewogICAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZSwgc2VyaWY7CiAgICBfZm9udC1mYW1pbHk6ICdjb3VyaWVyIG5ldycsIG1vbm9zcGFjZTsKICAgIGZvbnQtc2l6ZTogMWVtOwp9CgovKioKICogSW1wcm92ZSByZWFkYWJpbGl0eSBvZiBwcmUtZm9ybWF0dGVkIHRleHQgaW4gYWxsIGJyb3dzZXJzLgogKi8KCnByZSB7CiAgICB3aGl0ZS1zcGFjZTogcHJlOwogICAgd2hpdGUtc3BhY2U6IHByZS13cmFwOwogICAgd29yZC13cmFwOiBicmVhay13b3JkOwp9CgovKioKICogQWRkcmVzcyBDU1MgcXVvdGVzIG5vdCBzdXBwb3J0ZWQgaW4gSUUgNi83LgogKi8KCnEgewogICAgcXVvdGVzOiBub25lOwp9CgovKioKICogQWRkcmVzcyBgcXVvdGVzYCBwcm9wZXJ0eSBub3Qgc3VwcG9ydGVkIGluIFNhZmFyaSA0LgogKi8KCnE6YmVmb3JlLApxOmFmdGVyIHsKICAgIGNvbnRlbnQ6ICcnOwogICAgY29udGVudDogbm9uZTsKfQoKLyoqCiAqIEFkZHJlc3MgaW5jb25zaXN0ZW50IGFuZCB2YXJpYWJsZSBmb250IHNpemUgaW4gYWxsIGJyb3dzZXJzLgogKi8KCnNtYWxsIHsKICAgIGZvbnQtc2l6ZTogODAlOwp9CgovKioKICogUHJldmVudCBgc3ViYCBhbmQgYHN1cGAgYWZmZWN0aW5nIGBsaW5lLWhlaWdodGAgaW4gYWxsIGJyb3dzZXJzLgogKi8KCnN1YiwKc3VwIHsKICAgIGZvbnQtc2l6ZTogNzUlOwogICAgbGluZS1oZWlnaHQ6IDA7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7Cn0KCnN1cCB7CiAgICB0b3A6IC0wLjVlbTsKfQoKc3ViIHsKICAgIGJvdHRvbTogLTAuMjVlbTsKfQoKLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgTGlzdHMKICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8KCi8qKgogKiBBZGRyZXNzIG1hcmdpbnMgc2V0IGRpZmZlcmVudGx5IGluIElFIDYvNy4KICovCgpkbCwKbWVudSwKb2wsCnVsIHsKICAgIG1hcmdpbjogMWVtIDA7Cn0KCmRkIHsKICAgIG1hcmdpbjogMCAwIDAgNDBweDsKfQoKLyoqCiAqIEFkZHJlc3MgcGFkZGluZ3Mgc2V0IGRpZmZlcmVudGx5IGluIElFIDYvNy4KICovCgptZW51LApvbCwKdWwgewogICAgcGFkZGluZzogMCAwIDAgNDBweDsKfQoKLyoqCiAqIENvcnJlY3QgbGlzdCBpbWFnZXMgaGFuZGxlZCBpbmNvcnJlY3RseSBpbiBJRSA3LgogKi8KCm5hdiB1bCwKbmF2IG9sIHsKICAgIGxpc3Qtc3R5bGU6IG5vbmU7CiAgICBsaXN0LXN0eWxlLWltYWdlOiBub25lOwp9CgovKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICBFbWJlZGRlZCBjb250ZW50CiAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCgovKioKICogMS4gUmVtb3ZlIGJvcmRlciB3aGVuIGluc2lkZSBgYWAgZWxlbWVudCBpbiBJRSA2LzcvOC85IGFuZCBGaXJlZm94IDMuCiAqIDIuIEltcHJvdmUgaW1hZ2UgcXVhbGl0eSB3aGVuIHNjYWxlZCBpbiBJRSA3LgogKi8KCmltZyB7CiAgICBib3JkZXI6IDA7IC8qIDEgKi8KICAgIC1tcy1pbnRlcnBvbGF0aW9uLW1vZGU6IGJpY3ViaWM7IC8qIDIgKi8KfQoKLyoqCiAqIENvcnJlY3Qgb3ZlcmZsb3cgZGlzcGxheWVkIG9kZGx5IGluIElFIDkuCiAqLwoKc3ZnOm5vdCg6cm9vdCkgewogICAgb3ZlcmZsb3c6IGhpZGRlbjsKfQoKLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgRmlndXJlcwogICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLwoKLyoqCiAqIEFkZHJlc3MgbWFyZ2luIG5vdCBwcmVzZW50IGluIElFIDYvNy84LzksIFNhZmFyaSA1LCBhbmQgT3BlcmEgMTEuCiAqLwoKZmlndXJlIHsKICAgIG1hcmdpbjogMDsKfQoKLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgRm9ybXMKICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8KCi8qKgogKiBDb3JyZWN0IG1hcmdpbiBkaXNwbGF5ZWQgb2RkbHkgaW4gSUUgNi83LgogKi8KCmZvcm0gewogICAgbWFyZ2luOiAwOwp9CgovKioKICogRGVmaW5lIGNvbnNpc3RlbnQgYm9yZGVyLCBtYXJnaW4sIGFuZCBwYWRkaW5nLgogKi8KCmZpZWxkc2V0IHsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNjMGMwYzA7CiAgICBtYXJnaW46IDAgMnB4OwogICAgcGFkZGluZzogMC4zNWVtIDAuNjI1ZW0gMC43NWVtOwp9CgovKioKICogMS4gQ29ycmVjdCBjb2xvciBub3QgYmVpbmcgaW5oZXJpdGVkIGluIElFIDYvNy84LzkuCiAqIDIuIENvcnJlY3QgdGV4dCBub3Qgd3JhcHBpbmcgaW4gRmlyZWZveCAzLgogKiAzLiBDb3JyZWN0IGFsaWdubWVudCBkaXNwbGF5ZWQgb2RkbHkgaW4gSUUgNi83LgogKi8KCmxlZ2VuZCB7CiAgICBib3JkZXI6IDA7IC8qIDEgKi8KICAgIHBhZGRpbmc6IDA7CiAgICB3aGl0ZS1zcGFjZTogbm9ybWFsOyAvKiAyICovCiAgICAqbWFyZ2luLWxlZnQ6IC03cHg7IC8qIDMgKi8KfQoKLyoqCiAqIDEuIENvcnJlY3QgZm9udCBzaXplIG5vdCBiZWluZyBpbmhlcml0ZWQgaW4gYWxsIGJyb3dzZXJzLgogKiAyLiBBZGRyZXNzIG1hcmdpbnMgc2V0IGRpZmZlcmVudGx5IGluIElFIDYvNywgRmlyZWZveCAzKywgU2FmYXJpIDUsCiAqICAgIGFuZCBDaHJvbWUuCiAqIDMuIEltcHJvdmUgYXBwZWFyYW5jZSBhbmQgY29uc2lzdGVuY3kgaW4gYWxsIGJyb3dzZXJzLgogKi8KCmJ1dHRvbiwKaW5wdXQsCnNlbGVjdCwKdGV4dGFyZWEgewogICAgZm9udC1zaXplOiAxMDAlOyAvKiAxICovCiAgICBtYXJnaW46IDA7IC8qIDIgKi8KICAgIHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTsgLyogMyAqLwogICAgKnZlcnRpY2FsLWFsaWduOiBtaWRkbGU7IC8qIDMgKi8KfQoKLyoqCiAqIEFkZHJlc3MgRmlyZWZveCAzKyBzZXR0aW5nIGBsaW5lLWhlaWdodGAgb24gYGlucHV0YCB1c2luZyBgIWltcG9ydGFudGAgaW4KICogdGhlIFVBIHN0eWxlc2hlZXQuCiAqLwoKYnV0dG9uLAppbnB1dCB7CiAgICBsaW5lLWhlaWdodDogbm9ybWFsOwp9CgovKioKICogQWRkcmVzcyBpbmNvbnNpc3RlbnQgYHRleHQtdHJhbnNmb3JtYCBpbmhlcml0YW5jZSBmb3IgYGJ1dHRvbmAgYW5kIGBzZWxlY3RgLgogKiBBbGwgb3RoZXIgZm9ybSBjb250cm9sIGVsZW1lbnRzIGRvIG5vdCBpbmhlcml0IGB0ZXh0LXRyYW5zZm9ybWAgdmFsdWVzLgogKiBDb3JyZWN0IGBidXR0b25gIHN0eWxlIGluaGVyaXRhbmNlIGluIENocm9tZSwgU2FmYXJpIDUrLCBhbmQgSUUgNisuCiAqIENvcnJlY3QgYHNlbGVjdGAgc3R5bGUgaW5oZXJpdGFuY2UgaW4gRmlyZWZveCA0KyBhbmQgT3BlcmEuCiAqLwoKYnV0dG9uLApzZWxlY3QgewogICAgdGV4dC10cmFuc2Zvcm06IG5vbmU7Cn0KCi8qKgogKiAxLiBBdm9pZCB0aGUgV2ViS2l0IGJ1ZyBpbiBBbmRyb2lkIDQuMC4qIHdoZXJlICgyKSBkZXN0cm95cyBuYXRpdmUgYGF1ZGlvYAogKiAgICBhbmQgYHZpZGVvYCBjb250cm9scy4KICogMi4gQ29ycmVjdCBpbmFiaWxpdHkgdG8gc3R5bGUgY2xpY2thYmxlIGBpbnB1dGAgdHlwZXMgaW4gaU9TLgogKiAzLiBJbXByb3ZlIHVzYWJpbGl0eSBhbmQgY29uc2lzdGVuY3kgb2YgY3Vyc29yIHN0eWxlIGJldHdlZW4gaW1hZ2UtdHlwZQogKiAgICBgaW5wdXRgIGFuZCBvdGhlcnMuCiAqIDQuIFJlbW92ZSBpbm5lciBzcGFjaW5nIGluIElFIDcgd2l0aG91dCBhZmZlY3Rpbmcgbm9ybWFsIHRleHQgaW5wdXRzLgogKiAgICBLbm93biBpc3N1ZTogaW5uZXIgc3BhY2luZyByZW1haW5zIGluIElFIDYuCiAqLwoKYnV0dG9uLApodG1sIGlucHV0W3R5cGU9ImJ1dHRvbiJdLCAvKiAxICovCmlucHV0W3R5cGU9InJlc2V0Il0sCmlucHV0W3R5cGU9InN1Ym1pdCJdIHsKICAgIC13ZWJraXQtYXBwZWFyYW5jZTogYnV0dG9uOyAvKiAyICovCiAgICBjdXJzb3I6IHBvaW50ZXI7IC8qIDMgKi8KICAgICpvdmVyZmxvdzogdmlzaWJsZTsgIC8qIDQgKi8KfQoKLyoqCiAqIFJlLXNldCBkZWZhdWx0IGN1cnNvciBmb3IgZGlzYWJsZWQgZWxlbWVudHMuCiAqLwoKYnV0dG9uW2Rpc2FibGVkXSwKaHRtbCBpbnB1dFtkaXNhYmxlZF0gewogICAgY3Vyc29yOiBkZWZhdWx0Owp9CgovKioKICogMS4gQWRkcmVzcyBib3ggc2l6aW5nIHNldCB0byBjb250ZW50LWJveCBpbiBJRSA4LzkuCiAqIDIuIFJlbW92ZSBleGNlc3MgcGFkZGluZyBpbiBJRSA4LzkuCiAqIDMuIFJlbW92ZSBleGNlc3MgcGFkZGluZyBpbiBJRSA3LgogKiAgICBLbm93biBpc3N1ZTogZXhjZXNzIHBhZGRpbmcgcmVtYWlucyBpbiBJRSA2LgogKi8KCmlucHV0W3R5cGU9ImNoZWNrYm94Il0sCmlucHV0W3R5cGU9InJhZGlvIl0gewogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsgLyogMSAqLwogICAgcGFkZGluZzogMDsgLyogMiAqLwogICAgKmhlaWdodDogMTNweDsgLyogMyAqLwogICAgKndpZHRoOiAxM3B4OyAvKiAzICovCn0KCi8qKgogKiAxLiBBZGRyZXNzIGBhcHBlYXJhbmNlYCBzZXQgdG8gYHNlYXJjaGZpZWxkYCBpbiBTYWZhcmkgNSBhbmQgQ2hyb21lLgogKiAyLiBBZGRyZXNzIGBib3gtc2l6aW5nYCBzZXQgdG8gYGJvcmRlci1ib3hgIGluIFNhZmFyaSA1IGFuZCBDaHJvbWUKICogICAgKGluY2x1ZGUgYC1tb3pgIHRvIGZ1dHVyZS1wcm9vZikuCiAqLwoKaW5wdXRbdHlwZT0ic2VhcmNoIl0gewogICAgLXdlYmtpdC1hcHBlYXJhbmNlOiB0ZXh0ZmllbGQ7IC8qIDEgKi8KICAgIC1tb3otYm94LXNpemluZzogY29udGVudC1ib3g7CiAgICAtd2Via2l0LWJveC1zaXppbmc6IGNvbnRlbnQtYm94OyAvKiAyICovCiAgICBib3gtc2l6aW5nOiBjb250ZW50LWJveDsKfQoKLyoqCiAqIFJlbW92ZSBpbm5lciBwYWRkaW5nIGFuZCBzZWFyY2ggY2FuY2VsIGJ1dHRvbiBpbiBTYWZhcmkgNSBhbmQgQ2hyb21lCiAqIG9uIE9TIFguCiAqLwoKaW5wdXRbdHlwZT0ic2VhcmNoIl06Oi13ZWJraXQtc2VhcmNoLWNhbmNlbC1idXR0b24sCmlucHV0W3R5cGU9InNlYXJjaCJdOjotd2Via2l0LXNlYXJjaC1kZWNvcmF0aW9uIHsKICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTsKfQoKLyoqCiAqIFJlbW92ZSBpbm5lciBwYWRkaW5nIGFuZCBib3JkZXIgaW4gRmlyZWZveCAzKy4KICovCgpidXR0b246Oi1tb3otZm9jdXMtaW5uZXIsCmlucHV0OjotbW96LWZvY3VzLWlubmVyIHsKICAgIGJvcmRlcjogMDsKICAgIHBhZGRpbmc6IDA7Cn0KCi8qKgogKiAxLiBSZW1vdmUgZGVmYXVsdCB2ZXJ0aWNhbCBzY3JvbGxiYXIgaW4gSUUgNi83LzgvOS4KICogMi4gSW1wcm92ZSByZWFkYWJpbGl0eSBhbmQgYWxpZ25tZW50IGluIGFsbCBicm93c2Vycy4KICovCgp0ZXh0YXJlYSB7CiAgICBvdmVyZmxvdzogYXV0bzsgLyogMSAqLwogICAgdmVydGljYWwtYWxpZ246IHRvcDsgLyogMiAqLwp9CgovKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICBUYWJsZXMKICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8KCi8qKgogKiBSZW1vdmUgbW9zdCBzcGFjaW5nIGJldHdlZW4gdGFibGUgY2VsbHMuCiAqLwoKdGFibGUgewogICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsKICAgIGJvcmRlci1zcGFjaW5nOiAwOwp9Cg==')
},
{
'name': '/app/bower_components/angular-loader/angular-loader.min.js.map', 'data': base64.b64decode('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SGhCLENBS0lDLEVBQVNSLENBQUEsQ0FBWSxXQUFaLENBQXlCLFFBQXpCLENBTGIsQ0FRSU0sRUFBaUIsY0FFTEYsQ0FGSyxZQUdQRyxDQUhPLFVBY1RYLENBZFMsTUF1QmJELENBdkJhLFVBb0NUSyxDQUFBLENBQVksVUFBWixDQUF3QixVQUF4QixDQXBDUyxTQStDVkEsQ0FBQSxDQUFZLFVBQVosQ0FBd0IsU0FBeEIsQ0EvQ1UsU0EwRFZBLENBQUEsQ0FBWSxVQUFaO0FBQXdCLFNBQXhCLENBMURVLE9BcUVaQSxDQUFBLENBQVksVUFBWixDQUF3QixPQUF4QixDQXJFWSxVQWlGVEEsQ0FBQSxDQUFZLFVBQVosQ0FBd0IsVUFBeEIsQ0FBb0MsU0FBcEMsQ0FqRlMsV0FtSFJBLENBQUEsQ0FBWSxrQkFBWixDQUFnQyxVQUFoQyxDQW5IUSxRQThIWEEsQ0FBQSxDQUFZLGlCQUFaLENBQStCLFVBQS9CLENBOUhXLFlBMElQQSxDQUFBLENBQVkscUJBQVosQ0FBbUMsVUFBbkMsQ0ExSU8sV0F1SlJBLENBQUEsQ0FBWSxrQkFBWixDQUFnQyxXQUFoQyxDQXZKUSxRQW9LWFEsQ0FwS1csS0FnTGRDLFFBQVEsQ0FBQ0MsQ0FBRCxDQUFRLENBQ25CSCxDQUFBSSxLQUFBLENBQWVELENBQWYsQ0FDQSxPQUFPLEtBRlksQ0FoTEYsQ0FzTGpCYixFQUFKLEVBQ0VXLENBQUEsQ0FBT1gsQ0FBUCxDQUdGLE9BQVFTLEVBMU04QixDQTFFVCxFQTBFL0IsQ0FYK0MsQ0F2RFAsQ0FSVCxFQVFuQyxDQWRpQyxDQUFuQ3BCLENBOFNBLENBQWtCQyxNQUFsQixDQW5ZWSxDQUFYLENBQUEsQ0FvWUVBLE1BcFlGOyIsCiJzb3VyY2VzIjpbImFuZ3VsYXItbG9hZGVyLmpzIl0sCiJuYW1lcyI6WyJtaW5FcnIiLCJzZXR1cE1vZHVsZUxvYWRlciIsIndpbmRvdyIsIiRpbmplY3Rvck1pbkVyciIsIm5nTWluRXJyIiwiYW5ndWxhciIsIiQkbWluRXJyIiwiZmFjdG9yeSIsIm1vZHVsZXMiLCJtb2R1bGUiLCJuYW1lIiwicmVxdWlyZXMiLCJjb25maWdGbiIsImNvbnRleHQiLCJoYXNPd25Qcm9wZXJ0eSIsImludm9rZUxhdGVyIiwicHJvdmlkZXIiLCJtZXRob2QiLCJpbnNlcnRNZXRob2QiLCJpbnZva2VRdWV1ZSIsImFyZ3VtZW50cyIsIm1vZHVsZUluc3RhbmNlIiwicnVuQmxvY2tzIiwiY29uZmlnIiwicnVuIiwiYmxvY2siLCJwdXNoIl0KfQo=')
},
{
'name': '/app/bower_components/angular-loader/README.md', 'data': base64.b64decode('IyBib3dlci1hbmd1bGFyLWxvYWRlcgoKVGhpcyByZXBvIGlzIGZvciBkaXN0cmlidXRpb24gb24gYGJvd2VyYC4gVGhlIHNvdXJjZSBmb3IgYGFuZ3VsYXItbG9hZGVyYCBpcyBpbiB0aGUKW21haW4gQW5ndWxhckpTIHJlcG9dKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvYmxvYi9tYXN0ZXIvc3JjL2xvYWRlci5qcykuClBsZWFzZSBmaWxlIGlzc3VlcyBhbmQgcHVsbCByZXF1ZXN0cyBhZ2FpbnN0IHRoYXQgcmVwby4KCiMjIEluc3RhbGwKCkluc3RhbGwgd2l0aCBgYm93ZXJgOgoKYGBgc2hlbGwKYm93ZXIgaW5zdGFsbCBhbmd1bGFyLWxvYWRlcgpgYGAKCkFkZCBhIGA8c2NyaXB0PmAgdG8geW91ciBgaW5kZXguaHRtbGA6CgpgYGBodG1sCjxzY3JpcHQgc3JjPSIvYm93ZXJfY29tcG9uZW50cy9hbmd1bGFyLWxvYWRlci9hbmd1bGFyLWxvYWRlci5qcyI+PC9zY3JpcHQ+CmBgYAoKIyMgRG9jdW1lbnRhdGlvbgoKRG9jdW1lbnRhdGlvbiBpcyBhdmFpbGFibGUgb24gdGhlCltBbmd1bGFySlMgZG9jcyBzaXRlXShodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2d1aWRlL2Jvb3RzdHJhcCkuCgojIyBMaWNlbnNlCgpUaGUgTUlUIExpY2Vuc2UKCkNvcHlyaWdodCAoYykgMjAxMC0yMDEyIEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZwoKUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weQpvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbAppbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzCnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwKY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzCmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CgpUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbgphbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KClRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLApGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgpMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLApPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOClRIRSBTT0ZUV0FSRS4K')
},
{
'name': '/app/bower_components/angular-loader/bower.json', 'data': base64.b64decode('ewogICJuYW1lIjogImFuZ3VsYXItbG9hZGVyIiwKICAidmVyc2lvbiI6ICIxLjIuMTkiLAogICJtYWluIjogIi4vYW5ndWxhci1sb2FkZXIuanMiLAogICJkZXBlbmRlbmNpZXMiOiB7CiAgICAiYW5ndWxhciI6ICIxLjIuMTkiCiAgfQp9Cg==')
},
{
'name': '/app/bower_components/angular-loader/angular-loader.js', 'data': base64.b64decode('LyoqCiAqIEBsaWNlbnNlIEFuZ3VsYXJKUyB2MS4yLjE5CiAqIChjKSAyMDEwLTIwMTQgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnCiAqIExpY2Vuc2U6IE1JVAogKi8KCihmdW5jdGlvbigpIHsndXNlIHN0cmljdCc7CgovKioKICogQGRlc2NyaXB0aW9uCiAqCiAqIFRoaXMgb2JqZWN0IHByb3ZpZGVzIGEgdXRpbGl0eSBmb3IgcHJvZHVjaW5nIHJpY2ggRXJyb3IgbWVzc2FnZXMgd2l0aGluCiAqIEFuZ3VsYXIuIEl0IGNhbiBiZSBjYWxsZWQgYXMgZm9sbG93czoKICoKICogdmFyIGV4YW1wbGVNaW5FcnIgPSBtaW5FcnIoJ2V4YW1wbGUnKTsKICogdGhyb3cgZXhhbXBsZU1pbkVycignb25lJywgJ1RoaXMgezB9IGlzIHsxfScsIGZvbywgYmFyKTsKICoKICogVGhlIGFib3ZlIGNyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgbWluRXJyIGluIHRoZSBleGFtcGxlIG5hbWVzcGFjZS4gVGhlCiAqIHJlc3VsdGluZyBlcnJvciB3aWxsIGhhdmUgYSBuYW1lc3BhY2VkIGVycm9yIGNvZGUgb2YgZXhhbXBsZS5vbmUuICBUaGUKICogcmVzdWx0aW5nIGVycm9yIHdpbGwgcmVwbGFjZSB7MH0gd2l0aCB0aGUgdmFsdWUgb2YgZm9vLCBhbmQgezF9IHdpdGggdGhlCiAqIHZhbHVlIG9mIGJhci4gVGhlIG9iamVjdCBpcyBub3QgcmVzdHJpY3RlZCBpbiB0aGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBpdCBjYW4KICogdGFrZS4KICoKICogSWYgZmV3ZXIgYXJndW1lbnRzIGFyZSBzcGVjaWZpZWQgdGhhbiBuZWNlc3NhcnkgZm9yIGludGVycG9sYXRpb24sIHRoZSBleHRyYQogKiBpbnRlcnBvbGF0aW9uIG1hcmtlcnMgd2lsbCBiZSBwcmVzZXJ2ZWQgaW4gdGhlIGZpbmFsIHN0cmluZy4KICoKICogU2luY2UgZGF0YSB3aWxsIGJlIHBhcnNlZCBzdGF0aWNhbGx5IGR1cmluZyBhIGJ1aWxkIHN0ZXAsIHNvbWUgcmVzdHJpY3Rpb25zCiAqIGFyZSBhcHBsaWVkIHdpdGggcmVzcGVjdCB0byBob3cgbWluRXJyIGluc3RhbmNlcyBhcmUgY3JlYXRlZCBhbmQgY2FsbGVkLgogKiBJbnN0YW5jZXMgc2hvdWxkIGhhdmUgbmFtZXMgb2YgdGhlIGZvcm0gbmFtZXNwYWNlTWluRXJyIGZvciBhIG1pbkVyciBjcmVhdGVkCiAqIHVzaW5nIG1pbkVycignbmFtZXNwYWNlJykgLiBFcnJvciBjb2RlcywgbmFtZXNwYWNlcyBhbmQgdGVtcGxhdGUgc3RyaW5ncwogKiBzaG91bGQgYWxsIGJlIHN0YXRpYyBzdHJpbmdzLCBub3QgdmFyaWFibGVzIG9yIGdlbmVyYWwgZXhwcmVzc2lvbnMuCiAqCiAqIEBwYXJhbSB7c3RyaW5nfSBtb2R1bGUgVGhlIG5hbWVzcGFjZSB0byB1c2UgZm9yIHRoZSBuZXcgbWluRXJyIGluc3RhbmNlLgogKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29kZTpzdHJpbmcsIHRlbXBsYXRlOnN0cmluZywgLi4udGVtcGxhdGVBcmdzKTogRXJyb3J9IG1pbkVyciBpbnN0YW5jZQogKi8KCmZ1bmN0aW9uIG1pbkVycihtb2R1bGUpIHsKICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgdmFyIGNvZGUgPSBhcmd1bWVudHNbMF0sCiAgICAgIHByZWZpeCA9ICdbJyArIChtb2R1bGUgPyBtb2R1bGUgKyAnOicgOiAnJykgKyBjb2RlICsgJ10gJywKICAgICAgdGVtcGxhdGUgPSBhcmd1bWVudHNbMV0sCiAgICAgIHRlbXBsYXRlQXJncyA9IGFyZ3VtZW50cywKICAgICAgc3RyaW5naWZ5ID0gZnVuY3Rpb24gKG9iaikgewogICAgICAgIGlmICh0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICByZXR1cm4gb2JqLnRvU3RyaW5nKCkucmVwbGFjZSgvIFx7W1xzXFNdKiQvLCAnJyk7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykgewogICAgICAgICAgcmV0dXJuICd1bmRlZmluZWQnOwogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiAhPT0gJ3N0cmluZycpIHsKICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmopOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb2JqOwogICAgICB9LAogICAgICBtZXNzYWdlLCBpOwoKICAgIG1lc3NhZ2UgPSBwcmVmaXggKyB0ZW1wbGF0ZS5yZXBsYWNlKC9ce1xkK1x9L2csIGZ1bmN0aW9uIChtYXRjaCkgewogICAgICB2YXIgaW5kZXggPSArbWF0Y2guc2xpY2UoMSwgLTEpLCBhcmc7CgogICAgICBpZiAoaW5kZXggKyAyIDwgdGVtcGxhdGVBcmdzLmxlbmd0aCkgewogICAgICAgIGFyZyA9IHRlbXBsYXRlQXJnc1tpbmRleCArIDJdOwogICAgICAgIGlmICh0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICByZXR1cm4gYXJnLnRvU3RyaW5nKCkucmVwbGFjZSgvID9ce1tcc1xTXSokLywgJycpOwogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgIHJldHVybiAndW5kZWZpbmVkJzsKICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhcmcgIT09ICdzdHJpbmcnKSB7CiAgICAgICAgICByZXR1cm4gdG9Kc29uKGFyZyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBhcmc7CiAgICAgIH0KICAgICAgcmV0dXJuIG1hdGNoOwogICAgfSk7CgogICAgbWVzc2FnZSA9IG1lc3NhZ2UgKyAnXG5odHRwOi8vZXJyb3JzLmFuZ3VsYXJqcy5vcmcvMS4yLjE5LycgKwogICAgICAobW9kdWxlID8gbW9kdWxlICsgJy8nIDogJycpICsgY29kZTsKICAgIGZvciAoaSA9IDI7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgbWVzc2FnZSA9IG1lc3NhZ2UgKyAoaSA9PSAyID8gJz8nIDogJyYnKSArICdwJyArIChpLTIpICsgJz0nICsKICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5KGFyZ3VtZW50c1tpXSkpOwogICAgfQoKICAgIHJldHVybiBuZXcgRXJyb3IobWVzc2FnZSk7CiAgfTsKfQoKLyoqCiAqIEBuZ2RvYyB0eXBlCiAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlCiAqIEBtb2R1bGUgbmcKICogQGRlc2NyaXB0aW9uCiAqCiAqIEludGVyZmFjZSBmb3IgY29uZmlndXJpbmcgYW5ndWxhciB7QGxpbmsgYW5ndWxhci5tb2R1bGUgbW9kdWxlc30uCiAqLwoKZnVuY3Rpb24gc2V0dXBNb2R1bGVMb2FkZXIod2luZG93KSB7CgogIHZhciAkaW5qZWN0b3JNaW5FcnIgPSBtaW5FcnIoJyRpbmplY3RvcicpOwogIHZhciBuZ01pbkVyciA9IG1pbkVycignbmcnKTsKCiAgZnVuY3Rpb24gZW5zdXJlKG9iaiwgbmFtZSwgZmFjdG9yeSkgewogICAgcmV0dXJuIG9ialtuYW1lXSB8fCAob2JqW25hbWVdID0gZmFjdG9yeSgpKTsKICB9CgogIHZhciBhbmd1bGFyID0gZW5zdXJlKHdpbmRvdywgJ2FuZ3VsYXInLCBPYmplY3QpOwoKICAvLyBXZSBuZWVkIHRvIGV4cG9zZSBgYW5ndWxhci4kJG1pbkVycmAgdG8gbW9kdWxlcyBzdWNoIGFzIGBuZ1Jlc291cmNlYCB0aGF0IHJlZmVyZW5jZSBpdCBkdXJpbmcgYm9vdHN0cmFwCiAgYW5ndWxhci4kJG1pbkVyciA9IGFuZ3VsYXIuJCRtaW5FcnIgfHwgbWluRXJyOwoKICByZXR1cm4gZW5zdXJlKGFuZ3VsYXIsICdtb2R1bGUnLCBmdW5jdGlvbigpIHsKICAgIC8qKiBAdHlwZSB7T2JqZWN0LjxzdHJpbmcsIGFuZ3VsYXIuTW9kdWxlPn0gKi8KICAgIHZhciBtb2R1bGVzID0ge307CgogICAgLyoqCiAgICAgKiBAbmdkb2MgZnVuY3Rpb24KICAgICAqIEBuYW1lIGFuZ3VsYXIubW9kdWxlCiAgICAgKiBAbW9kdWxlIG5nCiAgICAgKiBAZGVzY3JpcHRpb24KICAgICAqCiAgICAgKiBUaGUgYGFuZ3VsYXIubW9kdWxlYCBpcyBhIGdsb2JhbCBwbGFjZSBmb3IgY3JlYXRpbmcsIHJlZ2lzdGVyaW5nIGFuZCByZXRyaWV2aW5nIEFuZ3VsYXIKICAgICAqIG1vZHVsZXMuCiAgICAgKiBBbGwgbW9kdWxlcyAoYW5ndWxhciBjb3JlIG9yIDNyZCBwYXJ0eSkgdGhhdCBzaG91bGQgYmUgYXZhaWxhYmxlIHRvIGFuIGFwcGxpY2F0aW9uIG11c3QgYmUKICAgICAqIHJlZ2lzdGVyZWQgdXNpbmcgdGhpcyBtZWNoYW5pc20uCiAgICAgKgogICAgICogV2hlbiBwYXNzZWQgdHdvIG9yIG1vcmUgYXJndW1lbnRzLCBhIG5ldyBtb2R1bGUgaXMgY3JlYXRlZC4gIElmIHBhc3NlZCBvbmx5IG9uZSBhcmd1bWVudCwgYW4KICAgICAqIGV4aXN0aW5nIG1vZHVsZSAodGhlIG5hbWUgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byBgbW9kdWxlYCkgaXMgcmV0cmlldmVkLgogICAgICoKICAgICAqCiAgICAgKiAjIE1vZHVsZQogICAgICoKICAgICAqIEEgbW9kdWxlIGlzIGEgY29sbGVjdGlvbiBvZiBzZXJ2aWNlcywgZGlyZWN0aXZlcywgY29udHJvbGxlcnMsIGZpbHRlcnMsIGFuZCBjb25maWd1cmF0aW9uIGluZm9ybWF0aW9uLgogICAgICogYGFuZ3VsYXIubW9kdWxlYCBpcyB1c2VkIHRvIGNvbmZpZ3VyZSB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uCiAgICAgKgogICAgICogYGBganMKICAgICAqIC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUKICAgICAqIHZhciBteU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdteU1vZHVsZScsIFtdKTsKICAgICAqCiAgICAgKiAvLyByZWdpc3RlciBhIG5ldyBzZXJ2aWNlCiAgICAgKiBteU1vZHVsZS52YWx1ZSgnYXBwTmFtZScsICdNeUNvb2xBcHAnKTsKICAgICAqCiAgICAgKiAvLyBjb25maWd1cmUgZXhpc3Rpbmcgc2VydmljZXMgaW5zaWRlIGluaXRpYWxpemF0aW9uIGJsb2Nrcy4KICAgICAqIG15TW9kdWxlLmNvbmZpZyhbJyRsb2NhdGlvblByb3ZpZGVyJywgZnVuY3Rpb24oJGxvY2F0aW9uUHJvdmlkZXIpIHsKICAgICAqICAgLy8gQ29uZmlndXJlIGV4aXN0aW5nIHByb3ZpZGVycwogICAgICogICAkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCchJyk7CiAgICAgKiB9XSk7CiAgICAgKiBgYGAKICAgICAqCiAgICAgKiBUaGVuIHlvdSBjYW4gY3JlYXRlIGFuIGluamVjdG9yIGFuZCBsb2FkIHlvdXIgbW9kdWxlcyBsaWtlIHRoaXM6CiAgICAgKgogICAgICogYGBganMKICAgICAqIHZhciBpbmplY3RvciA9IGFuZ3VsYXIuaW5qZWN0b3IoWyduZycsICdteU1vZHVsZSddKQogICAgICogYGBgCiAgICAgKgogICAgICogSG93ZXZlciBpdCdzIG1vcmUgbGlrZWx5IHRoYXQgeW91J2xsIGp1c3QgdXNlCiAgICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQXBwIG5nQXBwfSBvcgogICAgICoge0BsaW5rIGFuZ3VsYXIuYm9vdHN0cmFwfSB0byBzaW1wbGlmeSB0aGlzIHByb2Nlc3MgZm9yIHlvdS4KICAgICAqCiAgICAgKiBAcGFyYW0geyFzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIG1vZHVsZSB0byBjcmVhdGUgb3IgcmV0cmlldmUuCiAgICAgKiBAcGFyYW0geyFBcnJheS48c3RyaW5nPj19IHJlcXVpcmVzIElmIHNwZWNpZmllZCB0aGVuIG5ldyBtb2R1bGUgaXMgYmVpbmcgY3JlYXRlZC4gSWYKICAgICAqICAgICAgICB1bnNwZWNpZmllZCB0aGVuIHRoZSBtb2R1bGUgaXMgYmVpbmcgcmV0cmlldmVkIGZvciBmdXJ0aGVyIGNvbmZpZ3VyYXRpb24uCiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gY29uZmlnRm4gT3B0aW9uYWwgY29uZmlndXJhdGlvbiBmdW5jdGlvbiBmb3IgdGhlIG1vZHVsZS4gU2FtZSBhcwogICAgICogICAgICAgIHtAbGluayBhbmd1bGFyLk1vZHVsZSNjb25maWcgTW9kdWxlI2NvbmZpZygpfS4KICAgICAqIEByZXR1cm5zIHttb2R1bGV9IG5ldyBtb2R1bGUgd2l0aCB0aGUge0BsaW5rIGFuZ3VsYXIuTW9kdWxlfSBhcGkuCiAgICAgKi8KICAgIHJldHVybiBmdW5jdGlvbiBtb2R1bGUobmFtZSwgcmVxdWlyZXMsIGNvbmZpZ0ZuKSB7CiAgICAgIHZhciBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eSA9IGZ1bmN0aW9uKG5hbWUsIGNvbnRleHQpIHsKICAgICAgICBpZiAobmFtZSA9PT0gJ2hhc093blByb3BlcnR5JykgewogICAgICAgICAgdGhyb3cgbmdNaW5FcnIoJ2JhZG5hbWUnLCAnaGFzT3duUHJvcGVydHkgaXMgbm90IGEgdmFsaWQgezB9IG5hbWUnLCBjb250ZXh0KTsKICAgICAgICB9CiAgICAgIH07CgogICAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCAnbW9kdWxlJyk7CiAgICAgIGlmIChyZXF1aXJlcyAmJiBtb2R1bGVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7CiAgICAgICAgbW9kdWxlc1tuYW1lXSA9IG51bGw7CiAgICAgIH0KICAgICAgcmV0dXJuIGVuc3VyZShtb2R1bGVzLCBuYW1lLCBmdW5jdGlvbigpIHsKICAgICAgICBpZiAoIXJlcXVpcmVzKSB7CiAgICAgICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ25vbW9kJywgIk1vZHVsZSAnezB9JyBpcyBub3QgYXZhaWxhYmxlISBZb3UgZWl0aGVyIG1pc3NwZWxsZWQgIiArCiAgICAgICAgICAgICAidGhlIG1vZHVsZSBuYW1lIG9yIGZvcmdvdCB0byBsb2FkIGl0LiBJZiByZWdpc3RlcmluZyBhIG1vZHVsZSBlbnN1cmUgdGhhdCB5b3UgIiArCiAgICAgICAgICAgICAic3BlY2lmeSB0aGUgZGVwZW5kZW5jaWVzIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQuIiwgbmFtZSk7CiAgICAgICAgfQoKICAgICAgICAvKiogQHR5cGUgeyFBcnJheS48QXJyYXkuPCo+Pn0gKi8KICAgICAgICB2YXIgaW52b2tlUXVldWUgPSBbXTsKCiAgICAgICAgLyoqIEB0eXBlIHshQXJyYXkuPEZ1bmN0aW9uPn0gKi8KICAgICAgICB2YXIgcnVuQmxvY2tzID0gW107CgogICAgICAgIHZhciBjb25maWcgPSBpbnZva2VMYXRlcignJGluamVjdG9yJywgJ2ludm9rZScpOwoKICAgICAgICAvKiogQHR5cGUge2FuZ3VsYXIuTW9kdWxlfSAqLwogICAgICAgIHZhciBtb2R1bGVJbnN0YW5jZSA9IHsKICAgICAgICAgIC8vIFByaXZhdGUgc3RhdGUKICAgICAgICAgIF9pbnZva2VRdWV1ZTogaW52b2tlUXVldWUsCiAgICAgICAgICBfcnVuQmxvY2tzOiBydW5CbG9ja3MsCgogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBAbmdkb2MgcHJvcGVydHkKICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI3JlcXVpcmVzCiAgICAgICAgICAgKiBAbW9kdWxlIG5nCiAgICAgICAgICAgKiBAcmV0dXJucyB7QXJyYXkuPHN0cmluZz59IExpc3Qgb2YgbW9kdWxlIG5hbWVzIHdoaWNoIG11c3QgYmUgbG9hZGVkIGJlZm9yZSB0aGlzIG1vZHVsZS4KICAgICAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgICAgICogSG9sZHMgdGhlIGxpc3Qgb2YgbW9kdWxlcyB3aGljaCB0aGUgaW5qZWN0b3Igd2lsbCBsb2FkIGJlZm9yZSB0aGUgY3VycmVudCBtb2R1bGUgaXMKICAgICAgICAgICAqIGxvYWRlZC4KICAgICAgICAgICAqLwogICAgICAgICAgcmVxdWlyZXM6IHJlcXVpcmVzLAoKICAgICAgICAgIC8qKgogICAgICAgICAgICogQG5nZG9jIHByb3BlcnR5CiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNuYW1lCiAgICAgICAgICAgKiBAbW9kdWxlIG5nCiAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBOYW1lIG9mIHRoZSBtb2R1bGUuCiAgICAgICAgICAgKiBAZGVzY3JpcHRpb24KICAgICAgICAgICAqLwogICAgICAgICAgbmFtZTogbmFtZSwKCgogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNwcm92aWRlcgogICAgICAgICAgICogQG1vZHVsZSBuZwogICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgc2VydmljZSBuYW1lCiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm92aWRlclR5cGUgQ29uc3RydWN0aW9uIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2YgdGhlCiAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZS4KICAgICAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI3Byb3ZpZGVyICRwcm92aWRlLnByb3ZpZGVyKCl9LgogICAgICAgICAgICovCiAgICAgICAgICBwcm92aWRlcjogaW52b2tlTGF0ZXIoJyRwcm92aWRlJywgJ3Byb3ZpZGVyJyksCgogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNmYWN0b3J5CiAgICAgICAgICAgKiBAbW9kdWxlIG5nCiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBzZXJ2aWNlIG5hbWUKICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3ZpZGVyRnVuY3Rpb24gRnVuY3Rpb24gZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZSBvZiB0aGUgc2VydmljZS4KICAgICAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI2ZhY3RvcnkgJHByb3ZpZGUuZmFjdG9yeSgpfS4KICAgICAgICAgICAqLwogICAgICAgICAgZmFjdG9yeTogaW52b2tlTGF0ZXIoJyRwcm92aWRlJywgJ2ZhY3RvcnknKSwKCiAgICAgICAgICAvKioKICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI3NlcnZpY2UKICAgICAgICAgICAqIEBtb2R1bGUgbmcKICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZQogICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29uc3RydWN0b3IgQSBjb25zdHJ1Y3RvciBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgaW5zdGFudGlhdGVkLgogICAgICAgICAgICogQGRlc2NyaXB0aW9uCiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSAkcHJvdmlkZS5zZXJ2aWNlKCl9LgogICAgICAgICAgICovCiAgICAgICAgICBzZXJ2aWNlOiBpbnZva2VMYXRlcignJHByb3ZpZGUnLCAnc2VydmljZScpLAoKICAgICAgICAgIC8qKgogICAgICAgICAgICogQG5nZG9jIG1ldGhvZAogICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjdmFsdWUKICAgICAgICAgICAqIEBtb2R1bGUgbmcKICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZQogICAgICAgICAgICogQHBhcmFtIHsqfSBvYmplY3QgU2VydmljZSBpbnN0YW5jZSBvYmplY3QuCiAgICAgICAgICAgKiBAZGVzY3JpcHRpb24KICAgICAgICAgICAqIFNlZSB7QGxpbmsgYXV0by4kcHJvdmlkZSN2YWx1ZSAkcHJvdmlkZS52YWx1ZSgpfS4KICAgICAgICAgICAqLwogICAgICAgICAgdmFsdWU6IGludm9rZUxhdGVyKCckcHJvdmlkZScsICd2YWx1ZScpLAoKICAgICAgICAgIC8qKgogICAgICAgICAgICogQG5nZG9jIG1ldGhvZAogICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjY29uc3RhbnQKICAgICAgICAgICAqIEBtb2R1bGUgbmcKICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIGNvbnN0YW50IG5hbWUKICAgICAgICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IENvbnN0YW50IHZhbHVlLgogICAgICAgICAgICogQGRlc2NyaXB0aW9uCiAgICAgICAgICAgKiBCZWNhdXNlIHRoZSBjb25zdGFudCBhcmUgZml4ZWQsIHRoZXkgZ2V0IGFwcGxpZWQgYmVmb3JlIG90aGVyIHByb3ZpZGUgbWV0aG9kcy4KICAgICAgICAgICAqIFNlZSB7QGxpbmsgYXV0by4kcHJvdmlkZSNjb25zdGFudCAkcHJvdmlkZS5jb25zdGFudCgpfS4KICAgICAgICAgICAqLwogICAgICAgICAgY29uc3RhbnQ6IGludm9rZUxhdGVyKCckcHJvdmlkZScsICdjb25zdGFudCcsICd1bnNoaWZ0JyksCgogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNhbmltYXRpb24KICAgICAgICAgICAqIEBtb2R1bGUgbmcKICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIGFuaW1hdGlvbiBuYW1lCiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhbmltYXRpb25GYWN0b3J5IEZhY3RvcnkgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZSBvZiBhbgogICAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uCiAgICAgICAgICAgKiBAZGVzY3JpcHRpb24KICAgICAgICAgICAqCiAgICAgICAgICAgKiAqKk5PVEUqKjogYW5pbWF0aW9ucyB0YWtlIGVmZmVjdCBvbmx5IGlmIHRoZSAqKm5nQW5pbWF0ZSoqIG1vZHVsZSBpcyBsb2FkZWQuCiAgICAgICAgICAgKgogICAgICAgICAgICoKICAgICAgICAgICAqIERlZmluZXMgYW4gYW5pbWF0aW9uIGhvb2sgdGhhdCBjYW4gYmUgbGF0ZXIgdXNlZCB3aXRoCiAgICAgICAgICAgKiB7QGxpbmsgbmdBbmltYXRlLiRhbmltYXRlICRhbmltYXRlfSBzZXJ2aWNlIGFuZCBkaXJlY3RpdmVzIHRoYXQgdXNlIHRoaXMgc2VydmljZS4KICAgICAgICAgICAqCiAgICAgICAgICAgKiBgYGBqcwogICAgICAgICAgICogbW9kdWxlLmFuaW1hdGlvbignLmFuaW1hdGlvbi1uYW1lJywgZnVuY3Rpb24oJGluamVjdDEsICRpbmplY3QyKSB7CiAgICAgICAgICAgKiAgIHJldHVybiB7CiAgICAgICAgICAgKiAgICAgZXZlbnROYW1lIDogZnVuY3Rpb24oZWxlbWVudCwgZG9uZSkgewogICAgICAgICAgICogICAgICAgLy9jb2RlIHRvIHJ1biB0aGUgYW5pbWF0aW9uCiAgICAgICAgICAgKiAgICAgICAvL29uY2UgY29tcGxldGUsIHRoZW4gcnVuIGRvbmUoKQogICAgICAgICAgICogICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNhbmNlbGxhdGlvbkZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICAgICAqICAgICAgICAgLy9jb2RlIHRvIGNhbmNlbCB0aGUgYW5pbWF0aW9uCiAgICAgICAgICAgKiAgICAgICB9CiAgICAgICAgICAgKiAgICAgfQogICAgICAgICAgICogICB9CiAgICAgICAgICAgKiB9KQogICAgICAgICAgICogYGBgCiAgICAgICAgICAgKgogICAgICAgICAgICogU2VlIHtAbGluayBuZ0FuaW1hdGUuJGFuaW1hdGVQcm92aWRlciNyZWdpc3RlciAkYW5pbWF0ZVByb3ZpZGVyLnJlZ2lzdGVyKCl9IGFuZAogICAgICAgICAgICoge0BsaW5rIG5nQW5pbWF0ZSBuZ0FuaW1hdGUgbW9kdWxlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi4KICAgICAgICAgICAqLwogICAgICAgICAgYW5pbWF0aW9uOiBpbnZva2VMYXRlcignJGFuaW1hdGVQcm92aWRlcicsICdyZWdpc3RlcicpLAoKICAgICAgICAgIC8qKgogICAgICAgICAgICogQG5nZG9jIG1ldGhvZAogICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjZmlsdGVyCiAgICAgICAgICAgKiBAbW9kdWxlIG5nCiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBGaWx0ZXIgbmFtZS4KICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbHRlckZhY3RvcnkgRmFjdG9yeSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIGZpbHRlci4KICAgICAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgICAgICogU2VlIHtAbGluayBuZy4kZmlsdGVyUHJvdmlkZXIjcmVnaXN0ZXIgJGZpbHRlclByb3ZpZGVyLnJlZ2lzdGVyKCl9LgogICAgICAgICAgICovCiAgICAgICAgICBmaWx0ZXI6IGludm9rZUxhdGVyKCckZmlsdGVyUHJvdmlkZXInLCAncmVnaXN0ZXInKSwKCiAgICAgICAgICAvKioKICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2NvbnRyb2xsZXIKICAgICAgICAgICAqIEBtb2R1bGUgbmcKICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBDb250cm9sbGVyIG5hbWUsIG9yIGFuIG9iamVjdCBtYXAgb2YgY29udHJvbGxlcnMgd2hlcmUgdGhlCiAgICAgICAgICAgKiAgICBrZXlzIGFyZSB0aGUgbmFtZXMgYW5kIHRoZSB2YWx1ZXMgYXJlIHRoZSBjb25zdHJ1Y3RvcnMuCiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciBDb250cm9sbGVyIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLgogICAgICAgICAgICogQGRlc2NyaXB0aW9uCiAgICAgICAgICAgKiBTZWUge0BsaW5rIG5nLiRjb250cm9sbGVyUHJvdmlkZXIjcmVnaXN0ZXIgJGNvbnRyb2xsZXJQcm92aWRlci5yZWdpc3RlcigpfS4KICAgICAgICAgICAqLwogICAgICAgICAgY29udHJvbGxlcjogaW52b2tlTGF0ZXIoJyRjb250cm9sbGVyUHJvdmlkZXInLCAncmVnaXN0ZXInKSwKCiAgICAgICAgICAvKioKICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2RpcmVjdGl2ZQogICAgICAgICAgICogQG1vZHVsZSBuZwogICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBuYW1lIERpcmVjdGl2ZSBuYW1lLCBvciBhbiBvYmplY3QgbWFwIG9mIGRpcmVjdGl2ZXMgd2hlcmUgdGhlCiAgICAgICAgICAgKiAgICBrZXlzIGFyZSB0aGUgbmFtZXMgYW5kIHRoZSB2YWx1ZXMgYXJlIHRoZSBmYWN0b3JpZXMuCiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkaXJlY3RpdmVGYWN0b3J5IEZhY3RvcnkgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZSBvZgogICAgICAgICAgICogZGlyZWN0aXZlcy4KICAgICAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgICAgICogU2VlIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZSAkY29tcGlsZVByb3ZpZGVyLmRpcmVjdGl2ZSgpfS4KICAgICAgICAgICAqLwogICAgICAgICAgZGlyZWN0aXZlOiBpbnZva2VMYXRlcignJGNvbXBpbGVQcm92aWRlcicsICdkaXJlY3RpdmUnKSwKCiAgICAgICAgICAvKioKICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2NvbmZpZwogICAgICAgICAgICogQG1vZHVsZSBuZwogICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29uZmlnRm4gRXhlY3V0ZSB0aGlzIGZ1bmN0aW9uIG9uIG1vZHVsZSBsb2FkLiBVc2VmdWwgZm9yIHNlcnZpY2UKICAgICAgICAgICAqICAgIGNvbmZpZ3VyYXRpb24uCiAgICAgICAgICAgKiBAZGVzY3JpcHRpb24KICAgICAgICAgICAqIFVzZSB0aGlzIG1ldGhvZCB0byByZWdpc3RlciB3b3JrIHdoaWNoIG5lZWRzIHRvIGJlIHBlcmZvcm1lZCBvbiBtb2R1bGUgbG9hZGluZy4KICAgICAgICAgICAqIEZvciBtb3JlIGFib3V0IGhvdyB0byBjb25maWd1cmUgc2VydmljZXMsIHNlZQogICAgICAgICAgICoge0BsaW5rIHByb3ZpZGVycyNwcm92aWRlcnNfcHJvdmlkZXItcmVjaXBlIFByb3ZpZGVyIFJlY2lwZX0uCiAgICAgICAgICAgKi8KICAgICAgICAgIGNvbmZpZzogY29uZmlnLAoKICAgICAgICAgIC8qKgogICAgICAgICAgICogQG5nZG9jIG1ldGhvZAogICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjcnVuCiAgICAgICAgICAgKiBAbW9kdWxlIG5nCiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbml0aWFsaXphdGlvbkZuIEV4ZWN1dGUgdGhpcyBmdW5jdGlvbiBhZnRlciBpbmplY3RvciBjcmVhdGlvbi4KICAgICAgICAgICAqICAgIFVzZWZ1bCBmb3IgYXBwbGljYXRpb24gaW5pdGlhbGl6YXRpb24uCiAgICAgICAgICAgKiBAZGVzY3JpcHRpb24KICAgICAgICAgICAqIFVzZSB0aGlzIG1ldGhvZCB0byByZWdpc3RlciB3b3JrIHdoaWNoIHNob3VsZCBiZSBwZXJmb3JtZWQgd2hlbiB0aGUgaW5qZWN0b3IgaXMgZG9uZQogICAgICAgICAgICogbG9hZGluZyBhbGwgbW9kdWxlcy4KICAgICAgICAgICAqLwogICAgICAgICAgcnVuOiBmdW5jdGlvbihibG9jaykgewogICAgICAgICAgICBydW5CbG9ja3MucHVzaChibG9jayk7CiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIGlmIChjb25maWdGbikgewogICAgICAgICAgY29uZmlnKGNvbmZpZ0ZuKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAgbW9kdWxlSW5zdGFuY2U7CgogICAgICAgIC8qKgogICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm92aWRlcgogICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2QKICAgICAgICAgKiBAcGFyYW0ge1N0cmluZz19IGluc2VydE1ldGhvZAogICAgICAgICAqIEByZXR1cm5zIHthbmd1bGFyLk1vZHVsZX0KICAgICAgICAgKi8KICAgICAgICBmdW5jdGlvbiBpbnZva2VMYXRlcihwcm92aWRlciwgbWV0aG9kLCBpbnNlcnRNZXRob2QpIHsKICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgaW52b2tlUXVldWVbaW5zZXJ0TWV0aG9kIHx8ICdwdXNoJ10oW3Byb3ZpZGVyLCBtZXRob2QsIGFyZ3VtZW50c10pOwogICAgICAgICAgICByZXR1cm4gbW9kdWxlSW5zdGFuY2U7CiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwogIH0pOwoKfQoKc2V0dXBNb2R1bGVMb2FkZXIod2luZG93KTsKfSkod2luZG93KTsKCi8qKgogKiBDbG9zdXJlIGNvbXBpbGVyIHR5cGUgaW5mb3JtYXRpb24KICoKICogQHR5cGVkZWYgeyB7CiAqICAgcmVxdWlyZXM6ICFBcnJheS48c3RyaW5nPiwKICogICBpbnZva2VRdWV1ZTogIUFycmF5LjxBcnJheS48Kj4+LAogKgogKiAgIHNlcnZpY2U6IGZ1bmN0aW9uKHN0cmluZywgRnVuY3Rpb24pOmFuZ3VsYXIuTW9kdWxlLAogKiAgIGZhY3Rvcnk6IGZ1bmN0aW9uKHN0cmluZywgRnVuY3Rpb24pOmFuZ3VsYXIuTW9kdWxlLAogKiAgIHZhbHVlOiBmdW5jdGlvbihzdHJpbmcsICopOmFuZ3VsYXIuTW9kdWxlLAogKgogKiAgIGZpbHRlcjogZnVuY3Rpb24oc3RyaW5nLCBGdW5jdGlvbik6YW5ndWxhci5Nb2R1bGUsCiAqCiAqICAgaW5pdDogZnVuY3Rpb24oRnVuY3Rpb24pOmFuZ3VsYXIuTW9kdWxlCiAqIH0gfQogKi8KYW5ndWxhci5Nb2R1bGU7Cgo=')
},
{
'name': '/app/bower_components/angular-loader/angular-loader.min.js', 'data': base64.b64decode('LyoKIEFuZ3VsYXJKUyB2MS4yLjE5CiAoYykgMjAxMC0yMDE0IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZwogTGljZW5zZTogTUlUCiovCihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztmdW5jdGlvbiBkKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjPWFyZ3VtZW50c1swXSxiLGM9IlsiKyhhP2ErIjoiOiIiKStjKyJdIGh0dHA6Ly9lcnJvcnMuYW5ndWxhcmpzLm9yZy8xLjIuMTkvIisoYT9hKyIvIjoiIikrYztmb3IoYj0xO2I8YXJndW1lbnRzLmxlbmd0aDtiKyspYz1jKygxPT1iPyI/IjoiJiIpKyJwIisoYi0xKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KCJmdW5jdGlvbiI9PXR5cGVvZiBhcmd1bWVudHNbYl0/YXJndW1lbnRzW2JdLnRvU3RyaW5nKCkucmVwbGFjZSgvIFx7W1xzXFNdKiQvLCIiKToidW5kZWZpbmVkIj09dHlwZW9mIGFyZ3VtZW50c1tiXT8idW5kZWZpbmVkIjoic3RyaW5nIiE9dHlwZW9mIGFyZ3VtZW50c1tiXT9KU09OLnN0cmluZ2lmeShhcmd1bWVudHNbYl0pOmFyZ3VtZW50c1tiXSk7cmV0dXJuIEVycm9yKGMpfX0oZnVuY3Rpb24oYSl7dmFyIGM9ZCgiJGluamVjdG9yIiksYj1kKCJuZyIpO2E9YS5hbmd1bGFyfHwKKGEuYW5ndWxhcj17fSk7YS4kJG1pbkVycj1hLiQkbWluRXJyfHxkO3JldHVybiBhLm1vZHVsZXx8KGEubW9kdWxlPWZ1bmN0aW9uKCl7dmFyIGE9e307cmV0dXJuIGZ1bmN0aW9uKGUsZCxmKXtpZigiaGFzT3duUHJvcGVydHkiPT09ZSl0aHJvdyBiKCJiYWRuYW1lIiwibW9kdWxlIik7ZCYmYS5oYXNPd25Qcm9wZXJ0eShlKSYmKGFbZV09bnVsbCk7cmV0dXJuIGFbZV18fChhW2VdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShjLGQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7YltlfHwicHVzaCJdKFtjLGQsYXJndW1lbnRzXSk7cmV0dXJuIGd9fWlmKCFkKXRocm93IGMoIm5vbW9kIixlKTt2YXIgYj1bXSxoPVtdLGs9YSgiJGluamVjdG9yIiwiaW52b2tlIiksZz17X2ludm9rZVF1ZXVlOmIsX3J1bkJsb2NrczpoLHJlcXVpcmVzOmQsbmFtZTplLHByb3ZpZGVyOmEoIiRwcm92aWRlIiwicHJvdmlkZXIiKSxmYWN0b3J5OmEoIiRwcm92aWRlIiwiZmFjdG9yeSIpLHNlcnZpY2U6YSgiJHByb3ZpZGUiLAoic2VydmljZSIpLHZhbHVlOmEoIiRwcm92aWRlIiwidmFsdWUiKSxjb25zdGFudDphKCIkcHJvdmlkZSIsImNvbnN0YW50IiwidW5zaGlmdCIpLGFuaW1hdGlvbjphKCIkYW5pbWF0ZVByb3ZpZGVyIiwicmVnaXN0ZXIiKSxmaWx0ZXI6YSgiJGZpbHRlclByb3ZpZGVyIiwicmVnaXN0ZXIiKSxjb250cm9sbGVyOmEoIiRjb250cm9sbGVyUHJvdmlkZXIiLCJyZWdpc3RlciIpLGRpcmVjdGl2ZTphKCIkY29tcGlsZVByb3ZpZGVyIiwiZGlyZWN0aXZlIiksY29uZmlnOmsscnVuOmZ1bmN0aW9uKGEpe2gucHVzaChhKTtyZXR1cm4gdGhpc319O2YmJmsoZik7cmV0dXJuIGd9KCkpfX0oKSl9KSh3aW5kb3cpfSkod2luZG93KTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5ndWxhci1sb2FkZXIubWluLmpzLm1hcAo=')
},
{
'name': '/app/bower_components/angular-loader/.bower.json', 'data': base64.b64decode('ewogICJuYW1lIjogImFuZ3VsYXItbG9hZGVyIiwKICAidmVyc2lvbiI6ICIxLjIuMTkiLAogICJtYWluIjogIi4vYW5ndWxhci1sb2FkZXIuanMiLAogICJkZXBlbmRlbmNpZXMiOiB7CiAgICAiYW5ndWxhciI6ICIxLjIuMTkiCiAgfSwKICAiaG9tZXBhZ2UiOiAiaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYm93ZXItYW5ndWxhci1sb2FkZXIiLAogICJfcmVsZWFzZSI6ICIxLjIuMTkiLAogICJfcmVzb2x1dGlvbiI6IHsKICAgICJ0eXBlIjogInZlcnNpb24iLAogICAgInRhZyI6ICJ2MS4yLjE5IiwKICAgICJjb21taXQiOiAiYTg5YzFlZjJlODdhZTk0NDYyZWRiNzExOThiNjRhNzlmOWY1MDViOSIKICB9LAogICJfc291cmNlIjogImdpdDovL2dpdGh1Yi5jb20vYW5ndWxhci9ib3dlci1hbmd1bGFyLWxvYWRlci5naXQiLAogICJfdGFyZ2V0IjogIjEuMi54IiwKICAiX29yaWdpbmFsU291cmNlIjogImFuZ3VsYXItbG9hZGVyIgp9')
},
{
'name': '/app/bower_components/angular/angular.min.js.gzip', 'data': base64.b64decode('H4sIAMhKq1MAA6Ra+3PbNrb+3X+FxOurJStaltNuOwXNav1K4tax0/iRdmU1A4LQI6FJhaT8iK3//X4H4AOU5c7O3fGMDIDAwcHBwXcewPZ3G629eLKIePrreet2p/eqt/PzVrCYRWHv1Y8/dbMp7/3wvfjp+3/yjZYtnNar/k5/Cz8/tN4kySSSbus4Fr3WNM/nbHuba1Kfs16STjZaJzMh40yy1rvji43vtjfs8SIW+SyJ7Qv3ys2cx38sMtnK8nQm8n945cfWrR04j6nMF2ncqkY4j7c8bXGfp5PFjYzzbNgfucLlvjW0unYwCLoWw5/ldHnXGpUMyTRN0qzX4Gv771a5XRLbLoh54yS1hb/jid1q6l4k40k+9US364Cjrr3j+2JgDTCkgzHWHETE1g5KvtWVsUhCefnh+CC5mScxxttWuSrL9/OHuUzGrXpZYjQwK708OYeA4ont9FI5j7iQ9nbr+nF4nV2fj77b3HbBJrMWcSjHs1iGL5A0OjArUwSt9tqev56fnfZ0j9n4wTa/OaxR84o9OiIh29xZLqstDAPaw9nYjhdR5PsbwdPTEUeTo4e0dzy9m0EpyoIUBIm2GAK7AGudDh+0++wBA5+eTtRvHx3405MVL24CmWKx1Ro6nf4ufvjWTmsWt4Kal6924HJXaAUKPTAVOPg5I3Zoc0PV37HmaZInRA1Uw6cn29Ks6ZoV85viQ9Cb8uzsLn6fJnOZ5g+dTnu1yQ4d8Mp7gkeRLdxgGI7c0PFkBHWn+XuY94iLaadTFdu+/9WpajYxXPVX0tS8+n0v3K2kFpICrp3FWNga5iCm1VHFBhhy+6j2UO/TEGdNn4QXaApFc77IpiiWxHgvS9LcdpYbFdELUe4GUVM74quJXImlyd2wXJpcWdpQjsAnfivqYc3qH8E6yFDTBBjeUE0Z2PXkgf+ZFzO63As89N/a8jhah8GoJ6Y8PYAu7uV23yHF+edP0L5Ch1uqj2/tWS5ofE5msY2TSL1+7lOv4nPf0hvSGKRPdG+cJjcHxRw27+44JqUlyos4m87GAIy+VS3b7FIt6s+AxOo88kHQ29zE3kx/kw8+Z6GMZC5bRmM95qjeXuO797U+8m4tSpCGhgadDj67KxIGFvh86Swdr2CjVqZ64/9t7NCcp5k8BhAG7k7fWMW/i1WUuGLH8q5lH9mGEVi6j9U5ZcHScWhzKwJ71KOqvebGnIZib663L1XHuudh3bOBsCXoGET313Ztr+t6acxP+NgmuVpJ8FmKfD3xB4N4Ad7r+xnn4DlEGh1PDdFYQz1165DnckT974qDFxiiPTMGGOZrDe1xsIb2Bzk5up8r6hvryB819opwMUyE0kIqR4ng1I3KPALgUCGTOXRIprc8MmQrajptuw2707a1QTkFgBN4Q33mik6epwp/ZzHQuqZwJRr2AtDnkQWpFCVwJ+7YeQw12NUQpZrpEDyHpzOu9VpBP6aT92fjEkWqBpwxr4QlASwUNcyTn4GxnIwjGd5iqCim2tqpp3pfTKWpFBN7/V1fKJHNI7hk4Hanxuh67BuuVw5zQKyqLYHEaOCmhJT3sodYkdm847mYOvk0Te5av3PbEvO7TGNfsUqy0o3vM3zeEL54eoI8QzKj+I+edBY0t5K4hRwVma0dnBxZLpRg3xNa4Pheit5ZoudJaRqJxsQv0RwCnNQCnECA0qf1DScjl86cWqV7qRpguuySOlXdYgJJ6FIWFYorRseYpAGXpm5AbQrM5dippd7SiTaa/08O0OBLglZMBENGfEAVAhpDix9wRdYlEw2KTB1tNBJ20omGyk1kfjG7kbbjMHU48VWfR3zLkkUqpMNoI0CxIAacJWLOOjX5UmuzEv4jJ48M2/k32kvCgBdIIimdmsty45RLoWhg1sBpfwsKeIAw4XhtEmYIZYuVHQZUNpt20MtWEwSmVwp6BijdG0fQr414u+9VTqoPsChKvPZTaYC2fGQAjXF6pSX8ucqxFKY7WiO6cCpZodA+geo2JsC4UlqOX6mw9lK0xyeUq0eDaSHksnH8GFRKtrR+0DSnhr9NeM8dOrqVKtA8VYWYUJrR6eBfxR3AqY4+aEBdU3J5CRng+pI3aH7a4NW3AleOiCVy601hCP9x6Rm+K2bBbkPwoakA7TMlg0KcL0hEoOpDIBU1ruQn1nnDa+YgamjL1GwvCbtsMXyLoPYkrmCixCKd5Q/vE+AuAoXVlt4s28O4Wximq97XhUwfzgEeIk9gmWC9VtpsaxhPtkQGM0pCeP415DnfqrqYflFgWoVXzyLZwUNhx2rX75XDcKSLBZ6preKQYpbzWJCCawAZcCZKGs9dqWfTQAv4fB490NnuiSSGVbefT90H7jCjp7Nk/wHtekD1iaiUnoYR1whTGNxb41GVGBPUGjEQfsaUzqJkbX48Pj08+2gxKPoVAYZqPDw7uHx3dHqhmu3mASj1X0E9+p4fnL0/qr16UfOXctMLXu93DjK2EqcH7kcEOgOr1bIYoZix+9zwiZQrqWN85YWjxgyY/KDcsLUO3iDAaWIQTZ/gsJQ60PQYoUgXARy+29bYUjiKgEX/H3PAkaUzAFacFK1x8X9IDiFQimHsTh01VOxMFDuBf49/PRElMWFVnj48Bj15M8fhdZaChEpux1Lv571t7Yaz218sh/RBxiENneY3UTGymOR75Uv1R1WuYXCMwBXKfKPobf9l7w7/+mXU/cXZdoY7ozr18teuPby+u94adZ1tMxCqXd5dq3tMGlfyFlaypykMRQzUvhhMhfJZqigwV1gPFaIO3rSthiNik0ixbvLyEDN2LMfwTCBGpXlB+dnH59AHDwJicNx9BYTYzn007IycgfqCAmv3FbQOTjQMDui39MUYVfwh/brBSNcC0wvmRgi430gorHrVEJNyZ5rN8C70XN+4HbrtvtO125QDCgaWxSi99o1OS5sgY0nH/T/uW+coKvzQYXWH0mmWoYNmbqGkUOvD/776cXsyc2mY0fj9oWr0G42v9lVj1wzcvzUOe2tNsjAwSfzQVyT+1ZxsTzWy5mQ/bE9coFij7UB1dJuNIEnAgQJINJj7o0DKWu1UIqDTqT3wIkYKRq6kAMgfWvGE4eBZ7gZKW6pk3W9VxdJEUW3kfvG3r7N4MmQ4T2ix2XX2nTpe4SecL2/gDK6zbSjKuJGJGA85WXZP2FfkwhxFktB+/+E4JF/CgytZLQ8rcq3ra4jGC5rmci+KoO5QtmfNttWzutyB3XFf/tzVVF/uNFSdRqoLqdtXqKS5CPJFpD4Ngf+lJ++lsK0WBgHneJZRtNpFHXwPbOlzd+LDy3k10ie82r3rrEvbjB11GCIRFdTOgkUus8YZaks4dkPEwaA6wrI1waAH87SQhFRgkLKtNjZxgHgDpt9Qg7BhMA1TrIHZK8Laz9oNccqOG4SvOH5XA6uM5S2mEN2rI8MghwmbhxalO5dlIFEnvobWJuL121korWYySrMO5zBNklIDLIDwEgGAkTeDWXfgVEpSXESQs/g2+SKJKg07F3ABIbsmDWtT4OzNIvWlXBWVeTyDcWgwgqgf0OtKYmhTux+meHqk7bZJJQQXEACdHMVqZf0Bxdt/nb75dHj0+ujDp/2zs4vziw9779vbJN0LeHthD5ua2xdqDysHXcCq6SZf/6tUI6R7Ae+cjkIG2e9jiZA0n/umXryAtWS8wKdpq6ZlglFl3z9ZlbGuJvxTmGi+UVk9O4STSFcpFEycJHcyPeDwO0gAFfWDoMy50LEIjMwBT+VXy6U5B9AR/EN9MUvhDa1LWV/wkg48rhMd0Qaw86W7sgV75mEySmahHxySvMWrHKDbmqBOF0Bm8Fb7P+SxQoYL2kolbLBzpruxspezjq29Ovi0mtGHcjKN5QY8VBcNlLQxMmrCFE+VgA4U1BXmvGfV6SNopB+4dTIEuNz3xrsTb4wgMvT5cAxrrUQDJAgcsuqlpw+5kXAGiBik2/QNDw3zTUfbW5GsV6SoNoKSwXs6dRoMANlemJD69GJ5n5/PggiOq6fXE6SSfykTPDgad1McP1slnCtx3pPvVGeKDf/n1jxhgFtqUOce/JU3f09PdlWGw0TWYHPzZhYfpalfF5+ebmu9vknCRSTVQF00kU/DNmLV1TSy1NnB9Tsti50WxkZbmjjYnVAAvRKcSqXBQznylU9fcYcW4ow+GFzVniWgScHS8yy3GJLakqStkT2kblW4VOPRfEmptfak4BeKGSfg0wLJcj9HLqVG3cgPGgC3YWmMxUbM/cdPuvL7Qi4kE+6ndBHvR4n4krHQLQ5yxiYuSYJJt0D6lBHJCvatspncWU6zPKx0KFrxPZPp7UzIle9FK74ro7HyVbWR3iQquM1XPpfNKBZWBX21KYBAVefCMLwv+XQBUpNZlmuWZ1FeLEkX13fDNHmaRFHRta6u7x5CcipxUPRWBsvoWn3XpMezCYtcSJ+ZRrTy4sptz6ezbLn0xp1OZI8NZYBNX6qfOs2hzt8RZQqD0rKwULgbMKkP7A13ccYRe7EjF7uMEJDdo0lbWHbvFpec7KtbKg6Two2TZM723GCGcXuBmye/ZhBwyl26JlNlLlysL85n+QN7zd1ZdlnGxuwQtcOivI+yzlOxBxRfF0yzM1Q0XrNLFE/V/Qh7CFAurD+7xAzZXpryB3bi3so0o3E8JOLYYXbK3YgsmIAFY8fuAgGmLr8FOvMoCjjp9qNIFnQxwfpLt4QWdouiyOZsMwD6XHIfCHahI9JLOl6TkwQEsF11uNdod+GR9cqTgC2PiuYgdJa6I7rU3Ufuy55TReVxczOD7uazb/IynTERLsl3MiapHKGJcHqVStmPnIUQSTxf5Gwq3Bx7DTPNqbyBrb1hMnQzkc7mORujpLxiNkEpf4gkm4ZuMlf7MQvdeLJP2/25LL1FoM6+lLULBPkRyT2ilgPyi9lNVTy6lTGLq+pZGLJE1xL+hc1VsT5VX6n+mrhLqfQWS2QZlY7HLFf/YxEt0LjQlVnObql0msTECg/A+h01vI8WKY8gM3ZP1Q9yLnnOHqh8Pk3u2DdVUkvdU8W7GTaU7dflj1MwflDXobd8EeXskJrOlGwydkSVi5THmWbrNdXfITiM2BsqngAK2Fu1yCkMG9SxgtSQzYTizKxdKej7FXts7mS97N+aX44Cs/ZZNDTjEZAnpkl6Lki47CR0N0oQZO9CdzOA0QDoslOUBQ66fF3g9hk11HvyHtUyNGC/oyLvhVTrf8vjkHp8QGOBoF+ECzuD0jxROnEeFnUAOLtART35uSwK+ziJBEBXqJe3h+yjqkzYH/ivsl/sT5SqUID9G7WvbBO/GYwIl+r/IfR3QhMGVI9n4zGYESjnhXYe0ApZSC2zG5ngUEiU76A00IYxipvp3ms2oQKnXOBBARRsKlUQYFw9Ni5BK896Jpshh2nZ5QCBQXJJQKTdakb7WI78LF3rXfJtc8eM6l8H9TVf/Sqi9KekuikcDMkW9LTo8QkRITWM3BtEjlM3cudu7KbuRq48uFBfnLThrpEL6sny6kdVp77s6XDMgbvQh18wLb9Hu3Mvgk9K3WIEk9NhNHLcm0HcA3xPJjIt9ABYFCL6SRMYeXbjt2/cFIRi3879uCfgLYaphHPjVK+JdmMvpTs/beH2uZ0P01Htm0+KXDGtyUgXL/Ud4j7vjWNKaUz8SW8zASezmEdPTxMsrKr6E6/s50sjgVq8ewoaufLaY38ogxKurmeU+BQbzf6Khu5r7VptMxFd+GRvAnLKAK51IEQ3fjT/shhbOevwhK+036Yvqb5InW/gjhP4cOEF0DuXhQ3UWb9Rfd8ZIpaQIBEW/Q6LE/s65RM1QN3s6uvct4EOU0H5MST3W6VgD2iH7HBlHjgptxZEIH07qhhC/G/Bf7FGKuvaCBjRMeTK8Q1571OoQdMLEdTHUJSLdye+zvx2/mfnx763u62ywF0JOt06IXSDE7G7ufPL7vbmq18QlMrhKwQm+HyT3MqSz/EszXJV0TEV9yXFO3xry0P4FPZgbvRnBGB91UOqyyO0nAKhq/eBfFd63S53isjG7IJ4yPFIQvVcHoX49znZLIjHtyx9VVoPVtK7QJdT9V7IoSimOcILTGmg6ovlcaDVHKHUvX314h5W6XLq7Oip66G1gv8aNDBKJeUVP+2++c7rWEFZRG5i8dRPCypQqlxKQWd76qtijjNLI0k69ZQ3ovEugTLVxiFIxmOcYHp+oOEromDbkrd0otGoq1OFI3RtZh/SFc5XW668YvpI/eipmFfc30t1f6+yakWI3TIT6nClDhGSDuyPOucgiWe3GosKe89tKtAi6RLL9J+jRkotGM4Ciqf+oFtsL6S7o0FBSTWpPBIoMWiBXgm6hD29xl4JjZSW1V/tx6VrIKZLAnQq5hRJV83pZw2mquxJcexrtoDwRYS/j0U7oQo+iUDod7uxdDd0rxHF1m5I+VnRePaGNVFrPVe88spGbxOt06KngDQL4JfylvsQtTv2ER23LylWwdzjpyejPzikiB68ScecGg0TpTDVW5uCC+/IDunZWIPBmrXfmq/Q1J35XplXHWzt7Ko8rd1sty2VtrUclaBVmds6Szu8jq/zESVqqbl876OyvaonM2+QP5eZtuKNUzWFenv3ki42u5bcuLAy/yW3VSaduKXrT+qtPlFa2zjxX4IqyfWM9VLR/ztevL9ZP/cVc97Wjnoa8lzGdPnV9XVZ5X9ekhel6+vdODZW5ej0VfWWrA3VLN9qFO8ZBnRK+cpLGG6+hAmKoJueqhjzJKKhdBFNa21CWOqxsxHIkIjMmnF8qyRqkZf/eeWKUydD1YM326IrUbK+2r7RK4wBZ3Q4KjA2n+gSHXqhayQVPbm7MVHPdMsXLCrbTRbacejlRP1MjfgJ6b4ZeEW4//S0Q9sUGpwBupIsNyUyVymGkgXYD1c0bAfshlixG0JZVeWCNgyrEzQMvPnNkN/XBibfwAg1/Y9Rla3vdFIxrF8Vjjod4/o+kWtvSwQ57bDlqULtIuQDjK42mfk80dMzqtjNB0jQHUaWJ3PKD/KJCmoUiZW2Jg1BXmW0vwgQwtKDGCKCgB1nUI3VRZyZLBWFa/b0dKXwFAauV/hZ7zWTMiy8yom/scq59/dLWSVEN3iT4vWks/TWddhZ4iRnh6vtzx+DPB/8f7RdbXPbRpL+zl9BoVwMEI5kaXOXTQCNuY5s2ZEsWbHkjTaSsoU3EiySIEKQpi2R//366ZkBBiTtq62r22yJeBkMBjM9/fp0m3an4gTWDK4DBd8bMZWuVvTtRHssn72tIGNYg9Boxn56Ia9722ulcHxb068v7xg6e3FJjCtJvNmfqK5v9Fjf2O6T5w6+NdLzt8EkZw08qIVWszEeiKvUYLVORxlziJtvJaq4iWxZaHGvl9jgcZifkkFTbuO6BBtLIw8IxMQaJ3J2upbo/Vdoc1vDQdkURdTg43DH4ne78XqNQBY3KxZzoTTYqtOyjhWIONiRexP1XIbAK2ckownh2jaMUMMmduThFCmCbMSXDGzkrxThYBhQWk7N0g0MRvVsmTZgo9BtdfQtgVwlda0akQw9n6ERFk5w/0gg2AVNzunncEkD2cHo3kNEnH0OheEW4Ao7UJypYq8VRsgNt6MFkQ45MVQTU9y6ZXRgQ7UL1R6xsCkKDfOSurR874FOuVGJPGR3FgfK4p0PGaSqTGH6ZmJGWrv/I3Sdgk4dK6VgfBd2Rw/SCkslNviGX/6EPpAcYH2toadIKpysGIhRE7urY/IZlBO2XzMQE7XA/MFPy1Z1qDGr8iNmTLA5o3BsqQtmo2IaZE3pq/FBHfQA3obOrZgIidNDMZJV0svgeMRYZY0zToAVntBMYUh9wHSCyV2fqOtB+y8mok/2q9ZkAdLrafWiMKFuGq//7ms3bniJTABKe57H3pOa/ncMGaW90CLbwwqgivHBJC3LcACFYkysKoxHnQ4UL31SaV9VQw8djWV13nXuc6erm3sCC61GMZvRYgt9g7R88wAdesF6vd4VXR0oArDoT9mJ4Y6kLL4OO0XKvkVlcZIWZEeQcni8TxrjREOB+MzCQNODawuuNalwBonHECnZVz8R9rCazdTMpnkrqToGH56QShWs+/Amjb88TYyTbL1B2yI1IvcOiJkyZoNITEQWTLRVTTLNkNDkuB9MQEKZHN1N2GSr8/0Mx8usbx/OR8QkMo+EscKcdzrp5sxlXq+V3mUPfkyH3rqiDESSLSSVAWAOPI2MfVLE5iNaUO11KwYloh2okjXNCiSjzvKRrlJObRr0Q69uEMSMdY/hH4ItL+qg8Uea/9XqPf3tpX68FuALZOPn+XSOgZSxoA/1bQZt2MzmDETdEWf0bV6m1VqrzUrjHkmnjsFNsFwZD43EGh0THxFj+WTCMv5TFe+E0VHFNkNQkwlkhm5zsoy1Smd3dtjV5mLVcjT5KzzNJgL6jW6RHIWGVTi00bZVMfYqLuoFYxjdUZDzD+z/NJ7OQkT1dq204mbExRU7BK8O1M9mgD2UM8OtElFnFVYXI5VH8fQsMS56ZKHR/0RBrKaaHTlwx8Lquib9RV5goTZ2O31BjtWcybzRSb5hcNYfsjWykL8HPgYolpj95gpV7VarlxYWcVbv/HdJhTLY0xpQMiwRhXq5IE2EAy+0p5toLFKYVVOeTSIQFYQAeMnEQAzcSWOfbB/YRjygEpiY5KC1KSuBNQ3BUn51a5sYulMkQ+8rfNr0yBj8zCUCALqNdLpNGB+RYC85KPkrf83n038O06ULvVmmrt24/OULXov2Ox9wSI1miA3w1+ruzZQUpENARRvna5PZY+JRQQSjVGG2bVBXZXGoT1jblJVYiG93YM3CYG25vrKUidBaJgSIsDA6fuTYmqHtiCoXRTGdkc7f27HfoZmtd/EyKGiHYu+ItoY1inm6MwoUKkCy4eW8wVrbEP0j+A214CIJM9/fF0DazlX856xyIaCvs4NiWrhehdWOYA1yYr5in5uCvJrtdhS6wKgtmxsP0LFgQUI2CnmHuZae16cHHhXFnu+RUFzMxi5E1bk5JvU8Czf607fYQwsyGEn2ek9IvB2Chdf5h4C7HNA9MGpiMuxEulGLRjwD3vA0nJkLABoFpAyVF6T8SZ3yPieF7wzBkhFZR4ivQxd4v5iDlyZDFbRNy7lMucEwj7fvnQBdYG/8ebeLF5FQG/a/ILh8Od1+qpT2R++eVF7CHh37ZxUWK2hh2EsIswW9JEySK9o1p3mju1fugmZ54B4dHorCC5abwJJQmd7nMjvIZmlfXNFGU26oKCyBUdFrxishbaZEeoxKN6gyQF17QUj48G29JqxlVmdWQiIRQwWbO5ehSEybXtwbG5vsGkqBInkHNodPCiw+ZPO6uGKcrevgW5zmGVJX3Ed6Q9zLKluPulIfToMQo4bf+XG1UrdsRPbf4fD8jjRynrWMrdFLUNDoYJp/nI1VxL+xAjBdLvmn+jSPsybotkP7r5wr6CrPScLMK+Ze6lb1NW7X4mFaKw5I0CUcSFm4Y31HB1jKt/jILTHenKHqoV5opVW4iNqXvXvf690/v39+9+f984fvdXELR03EBac6hJIW4UTW73M9enk8nY6GqU3kRuNIGJk+UrSA3L+yN9HNZVrGYZGyU1sGRTjPpNM96TpB+rmAGSdvsoVoHx61z8K8ffTz3w/bh4c+/7/95uLG8XUwN5Huzh6drj6L6Kzq3gSpu0fivw5//vE46XTig2U4oxU44T7a37HP+rt2MS3LYTT+0gZMlThNezprTz+lsz4wSEk7SuMQ9VOG8/YyLNvz6bQ9hi+v7TpdmDIv2ui/HX2Zk0G652izHSRiRktbJw6VPRtKcxGxnLjyswdwtPPEDzilNmmm1LKFOpJp7XBHWsnh8YjNg0WuJyAl0RUpK4Sk7cijLqEsKk8RH+5sOuqSnKntr4s1yCxJ++lsxzrHAfFBsgUKW1prW2uGuBpWZS1Ib4E/BOmipFhVDjPTsfaWyh0Cdkbj7LlVj+GDwF2Rui896PYI4lgJ9smmkLd1sQF+NJYEhxU+viH5lXC2gvsssxP28dui/H3zXbsBodG2oA/3ZEHzn/dyKcNOp+XmCG94fo7sAGh1yH72cEhMncQd/Rwo56a3JbRDLmLgqrw3koyeAhhT+9BjQEKkUjCV8g3Irg0McjyyQ4cJAPzaRwu3yGvEMRPxNEzgzCF5TKeZRBCPVqkI4+H8y2qlUHwHFy9v//3Pl+8+voaJBQOA2bUabW2/Rw/yCai1JvXQ6LLjzX6MuTLmCK7LNs7TKP0CG4NIKeaP2ntl5dgiPbI9Wa363a6YsC0k+i+yTodXRsUf3PyAuqC5UaboBgP/2iAiHoTyj+mXBWzRGT8EIqtCveH/0meLuCMIAopNAfi0hLiFXkNydoDFFHxDbwF0sNbHGELQ3983w3g5Hts5mxNO6yUGgsUJaHF4XWhxVYjabjqWIzlRy1Y5SiL6vGHen+5IA2UaGYmnEoC8/tqY48iKYzBEf7oTtr1RxSRFFZP0QYb8hNuwXwIOVzbSJix6WtcNLbfNlobfIHaxo6/IdQyerHQau3vQCEthR0jnVQXvFal8/ud9+X2F1bvXOVTJ/fLfnKV4X3bdg++9Z8+Jgz937Ttuz7/33bs/Azr2ekHPey5aferOnZIpv//40F0BzRnyMOh5Y4XqF1Uz0p6oGVR+AQt5HMBd2nNPkEpQX6+2vNhKxQb8h4N4yv2uPSJkYidNb4ezBRRsMM7EINk4yRD91XdjMVAWjmIzkbHEYy94TwpOry+fNOrVf0bna3+vf6AvdDr9A7K5Idqqa5Ia8UVEUg+K2XCK5G5ZH5K0oRssHeWAjjhVp6+zR8Kgb1zGsjoiBnJQYyTxUjTmlqpSmqwPyQZ/SdqKUsf6xsCakNyjP5a3NF0/kMzFTFR1JQBsEbcRtSNVz8Z/q2UOoVldK3Qwa9q/Z8N5OibNctdO+IWjE+E3noILhOMy/jdbefr1w8ngehb/x+//xmP2AL7VzNtwodhUZ8FPdxOhw9hTNuVtcCguMN5UZZdVwXuxkYdWqwEOkKeNpDOnAdbeSEIzeMy5OBNLsRDn4soS9o+NRDULaNj6zLGuzxzT2S5k8kOzFps65kiqyZK+v+4+Z08w1Ck2JJazsHCd47II8xfHz/nH8XTo3/UQwlgrET+QlzysUA8syJh95IP9kqejot1mlAyfwNlijmmmNnLcOw8VGE27KmidN3IuOUhgUvKcbtTAUShfXaL96ehzQvvMlFk7nnD9DWYamewjAdrMS4BKNSTlf8YP9m5Kb/XMa9QgAaCLSc13+1BwBrCUSTeg/9L6K+1cu1ANVjtikoTx7XUqeNxIBb+sVxe8zXKFmKlV0QOG7c6IUFq5mAcDWYEnlH3PSQ/uQMEnCpqH4ngQFPTRy7viQcb0J5jLQs9PTtaCfro4zqF4e5lc3s0fRCwnd/QUsLP6YAxcLzEfhM95OnruDBV0cnjoxHhjpmbEmeg2PRUfzCv0+/v8JquSNHoX+DLrLn2iv0cX9JZrNO500l7qA0cW8XOR56vovDugychofsb0Rl6SUGQWvESU1O26JgY48/UE5jQLeY3qyfnroZ+/izBuoAvyB8EPwKOS9xIfnQl3IMcm2/ytOxbcLOPF4zHd8UMDNUL4U9R8dTpEEJ+5U8/eIKQLY9z03bOJAijvYWapmfUZJFH3ZlX5DXTsX7ozMei5g6/NLz0x2D2ZPKb6KZ9Y6kQJFKIuWAjFajVYrTJafFvvLnp9/qSaZi8UzW5HnDURqz29dwSwH5nXFbX0ZXLw7Fk9AoBIgAuO1IMIEjDeL2WHRoWA3PDR6su2mpfa8euw2lF9NZQJ4hRwYYgsKDllQ/u8wQC8J2QAtY/8CI7WSei+Q2S4CR2idXvtcH8VezGk1MjZhndwCa07N8Q1P17y9uJxnNGUiHPMy1jmtNtYfb9erX46ltcIlpZFGg/7wzRB9G+s9IaZbIWhO9ap3vQgjTDjaSrk7wqsTTsgk1mEWC6b3u6PNN59zVoXclx7adzreTibr17niacKjwaolrToOnzdIUlwJjMBN5/u6VAYrP/+f3tdJ83Jxst23v7RM4PbmLpgcjd+kBmPmEhzS2mk0cdoMRN/Ifg/ZqQfLoA0PvBSzuhqwMszFqjXSAtBgvKcNCQA+qp8+0BH+Dsdx+FaT+zMpl1mwOmBp0aImLsw/Z2ohTVvDXH/B6hbnJyrvjNTGmA3AxxPIwYDnfUK4vnB/wQlvxawjbs/+Rp+gEwKNRSrpRnTkTWmC0e0tgZFgzYS5BESJFLVOV/titWcmA1qauBxeU5V84mDoBYqtXnOeQfJVGcqK3N/iFgbsSmyARzuNjiSMrRxiVt9EN8mM3rjMoqMpvv7VgW4YCOhWKcOHx6nGhSxleP42bUxf2++yYiITDLvKZUnLvD/auRVUKVuYfGOt0bo8q0JdrglkpeGsRiEU6wqrunoG3KsjDlwao7oWmU6gUhlHmIdLmjfna5WpwgSlKyRshbphbK1YAyMfdVn1N/ELpsXqZdH9PJIvzza8fLoP3p5JBcwVne8u6gKC1jQtHo22FwjqaEB3cz6qyQW3oXOn47kbHUrEYaLAkiZBh5gOHqrHRHvQltQFXU4zLOU7LA0eaWg5X3Zrx5LtZuB9ju/l75qwMUxEjLsIVaAEbwbPOxQFxVaid6x17doPJ5ztQIuuajIT9cggCkqNostaLOtngYEoGqBVOPRYV4zPW3RkvF8/u1Fa7MelkoyIiZUesFJyBi2uN4FunaFinctxG/iUVyJN+IE7vWntcijYCFjzAfpLiPQulJvSA0ZoDghC0Ma7G9yQTSgE3uZMrSPJVReCffuH7Lz4Ln3vZ6H0/vl9/h99jzoS3QVnBBHY9kOZr33drV6S4z3otPhH+raZFtVDo9epcHbRHY5Namijjjx/J1tcAdGRp91KH2nMjb+ci+UtrWRFqL4X6gNnogTlKDcJsTjiTqInpiYEuKuIqGfowfa9WyOBSf19kAGKXEnVM2WSXdglIhE6w7OPxyfJnIaAfaRkjJlO/FOdHndAFOtm8xKIks65RHLVhos6JzWmNtGLs48GPm2FHGk40M5Iprl++rWWM5U8yCHcko7ZRaOe5/DDRep4XqIpcOBNz4gmTkc5GTw2F4+fv8Y1TLrTZFPc9XWEXiRuFAVTIJ1YLc/2RFqV448vo1hoDEcRDieeL3CTYm6+aKv5qii7gnNl1Kpq09qTkXH8esP54d3+PvHeIG31g9qgLFff9iwjMnUV5+jMofWa2+dR9DflsEl0jUuGyupvY9q1XzM5QUgRU0m2jvxU2G2lP+b4K1W+gthqb1+Hq1FKw7eQHupmFJAZCTlGyKDN3JxF6piP6h+M3ffwO6MQ3NRxsQSVqvfamNY3WhaxJzzW3f/smSHvhr9XfMO9Qhluq/Nw8faPOwfP3LVEWgwV2QS9h/ElXt1sPXFv4mFuDJip9M5ozYNyVPfpKbEyIhFGWXm1Hsau6diELq/AZVAjP0CUaXKhKmqetaXPs5YTexLYgkoVUlMYdC0/XJPA+uKCnWGKrp9OLn1xxT/Hx/zCz7mF/Mx61zmKItaWQ0L2drfinhciUukwVbrUTHLUlzQDWKvv1ojrO6Kt3TTzEh9lXg3PTPNb8ZRnX5e334FG+Q1/pygIeln2jjc1fgT22uamCVKuIhTkYfiVtzIVHwQ12TvTMM6peT6eBoG1zB3TsmQvX5gC+R3CUWjhIUh/sXHZEYEv9P6fSLNLBa/i38Rp7uVJQTQ4sVp5XvVLI6u3tJjTLfelbwixUWc2qRAPOVX4lPp8rleyaStvREXNNxPKNJ7C3K5kKf0ojykzti02mv00umcNvy2/NL6Aq3RJVe4pVd953RzjvDavsDLuzx8UO/jQ3qZGXq9871XsrV3KDAJ83GkBm7ulgzvikLVBy3jKalCeu6JMdz2XFoxengh6ykSt9UUbi2WyRU9mU5Uvm5bDdun3wQj5FwqLrgD7XgakeD6XJXzvEUZT5RHu5GPdJLSlugbZ7Z4+ip9kRW9BoTilgZwFiEZi+cQig3Z/59M2UfTq8qgrtcBuUiv8ZG/1vEUR7xVU/JWntL3vreb9+pj9xOqJ9fn1PQPWndxasxfUr7kKdGZyXG+9XqfXbKsbj0ulRrLWyQJ0wCO9uStpujVCu7BuHYW1OJjXozJZMZugB3Ns/cJPJf2wxMzfZ9sNHpdjKrYpHO0prqY0iLVVZ/IIr/uHokKF4szmhDifvOYRsW2kYah31aAdNiWv5BCh96srafU1U+qUubtxqyCXX5zVqs5YqZKdHcuX7r1IOshXtMaMvj+Vadzw/bR0y6+5V+Kr3Et/0Js8Sz/rfg2QTWYjEkOPTVBHObnH2R1DkoQN554737weksF/PnAe8T/QKLd/YC0HUF/p+WcL2ve/Qy8+xl49yfi3aeVYw74s+pE7cCLcJ6RTvnZXQiLX3nrc8Wm5BVpafAdXqnzoHX+NW+dfBWc7/bWydeB/ZS8Cf4Xdi1PQqNBnVtAQS76WP+DGcjDq+YyOo6DiOt7Rw/yj8jFr3hqajRsAVpVT+Gj0KYzfGBsC6f0rZkJpLNVlinjDPUKtotiKV0qD1JVxNpNu0ntWVNOtHTTg4ZFzmUKJzXRqJQl6a4v8nrykcKwRxLNxNYqSMsAvH/GkXD6whyfx8LInwkWRX6hsnXYmsvhls0NRZyBIs5Ijusvy+x/L8LCREfavciuTj5Kuci8saya6Fv26XPJ6tSuWM3lwDod/EUxawCTuhLg/y/jlKuP9ZzA8cGzu2iD2vbPSkyeQLFUEXPiJgOWm//aAb1LZcfCHHSzkAvDifBOX32Qbn3cqw8hHVTdP8+vBkEdpBoMpi6J5imAUlxMmJgHLkhXH/T0b5e/QfeKGs2Degp24PMHqjb8AGAMYJUk7PlG6cGXdvhEOXwqhz98tHOV+7oEz9VFTM4UMmUpniwGqcIKto6Oc80W1ckOc9ZfrsEs37vLBrPtNU6ReBV7fuNaUFVADhQOfcHV3GeLktSXD6mq6o9nzz1isVyhJl97B+UijtOyrK2sQm8lsSCr7g86xY5b1iKvqMRdocVdocRdTvpvJe6KhrjLvyHulkoBOKdh22JuCg9+BK0bo3mE0Msh9Gg8H2k4SndjufYIufZopFkIYRZTMyW/cjmnjcgyrLDrgJ7BtwzfXE4rTeRLa6fWejNEGAPYz7CXRP2DAipgCdYyk5cup1NbdkIKr1qVLl3IKocnWFjH+KSr+ly8sY4fVSlFaK5Iz1GrcSIXlle6lX2bbf8PbVfa1TaStb/7V4BeDiO1hYF03jl9pKh9CCEQEgLNMr2AJ0erYbzGxmH1f3/vc2uXTU9Pvz18wFKpVFWqulV16y7PpS1JjRcR+2NCbNMwYI7ihPixGdXBco976rpwN5hDoP+yZm0c2k/D/SDaj/s+VBWPNEVmwVzY5hApCQtuRw3NsjxnyEdp4YUFrHrhV7Gg0rX10nRuG7T9gRIUKs1Srq8KfQXfNf/Fr2CZ6hEE4a6OMAjxIaLC1HHyf+euxWpL2Ej1pWo5sM/zdh6J8zKbHuOiLe7fyLuN7WgbZgbYQDZkgBcLUsCRAmfWHBnM+rc3QkgupkkjF78pmArIaE0p32z5FIJcQYJW6CBcT6rlEa3s0qBlURaRas283tBZ22jSWViWCfHVEp28bkNJTK5+p0sbkxQt6FcZ6qWrRjJeyED7TEwHGt5e3DoVcn4NQDlX0AbCO164/lgL+7k27vOmk7wY5Qw1Lz9g1gJEjsSyZIUdO8rdw5QH1ikSn/798emRcIn2hBmUTP9wtE+7LwToKFuB2sOoRODZ61pO986OL053975cnH6yQaJc1TzrL1dFiDEBWSJIYSw27gZNce9s79Pe7jluubkW1UzLPuf2QCSw5MjrJACz/AUiUHIuymalolmwH6IlypI20rri3CvAlUpsDaXdHBqS0UDD7+CL6PMGxFyAyThnU7EgwH3SxeT2C4Flih/ac+m8tybsbMAou7Wurzu39IISgT4/54Gikm7N5EMzL1AJwEy1TaXMxgVOtmxXwUYBA8ULMTIzU5IF6ZC56jCJhqF8sSEOttAtoPgR1uZCgrQFTxIjDxuwPIz9UKsO8Wm09F1SCoRyg6RqlhvbmpO9ThrWi9cxW5bSy4M3121+O70cdCJtJlkBOVsetBKUw/KPORsJyA1CAGBg7aFd9GUwqDh1kbuIpi7vW+X9OB0Wo05SWDdxkWxLCCwTlvBNyfYyNPJwcoWkXxnAgrOzi+5qWCJkjRkyPNcYJImFizPLHVH03hKnLMdryYJ1C/Eiqzo+ZTXLcWHrpaUeqTT+AmOCSQ3e5FNmOaM+rQ1hE8n4j4M0XFPWOc7iKmJRakXMR2PD41YHYgvXJDTJslIabjFWzqUlWVS91PXym+hCOmZ8y2VgMMbIkOYhv1tBEURbjNmiM7/0UcSqfoRj1PKHVBC1dFq6RtiWGjD5mtdewmxLGaC+9oBjualPYqXDzVT4ohZtM45IKeA76CThYFDLAxuIlC0foPyjZdatTWwRO3IlEc4sMhop9gOZLPYDjn4mG5OcsLmaSo9XWSSE86QOOyXcUmofJy2pcTqizm/UnvKpiXhmaqufy08za2MA7YNr+ao8+xw7MsZemWNE5KtL6Ybd4dhZ19kS8vqWEEJ1morVnI14A2WbmgXxoe0cac3dUi341A0Cwce2vhaeP7uMboFD99nDIBvBj2+EJFpGdMJviff0RF0MzYY3n9PVKG2/T50ppdcJE0Dh6eppsxvuphbo1HxOKSPMqJ+TzX8OuxiCy52N3zqbql2PtoH2wEbtBISnLukb44NYPMk3x5bbA3SZisfCoRyCsNSI7jKhAb8b+goowWvuN1ooUyk/nK2490YLPnpim6mILi97nQBytpvhjDaKOG8m/pZGT2qrg3qlxBQWfsxJYZnNh1Dr+ldnzcCnxqVTmJZf3cF4XFmHK4hqe5UtLJdxoz8Hllt7j7sjynj6/Y7hrfKdsdmURZsNYzoW9mgLlujpVaLMVeF8l1SsoqWf78UWXhMY9IJ2Rr0VVbnflbouKmwVwgVKKsQ1oFdkMpReueNpj1ZgpRgIp7yuwdbR8ZZVybY3jNU3DOwJ3WKj9/xcihPAAPgMUvc26CR6qCrHqfenF72OlhhN3/smyKbjcXC6UAp7LC0pwj0HZOJMuCQOl9PIu4XYRWHpOKKswHJXxym6GtbiGJWJiZmJoDdxDh90zDttVQYWkxgTO7Fk2XiujJVTjrNN/5q+F0KhEUSFE7ZIN/feai6AcNpZNF04B0FuwLbU/HEmrgdVgaBPHaGDjFKLqXywgzocQ9OhIWyysJFCNGFF1GBUN7F6LHWuvzDzVFheXF0+Xz1d/vPqqRNsYt5eXs2vOh02vghz5AmuOlfzv4Xtq+EmEBQ9iSK6AbkNdSsG8UY42W7+azoaxhCz0badzG6rjR+8OU0e4Q8i9OK0/vNhGx4jp+V0PELc90sjsgyeRKQ9H/ipan3MGT5JypdEVGp9CbNPILmYzizmndCqg72arSrM8n4hbPhU6Nn3dOzpwKBPxZ11nr7tj7La0/YkZftxqu+6TAva3ADpPhiMhtHTTg6b/8XuCVeAxLpJ33VD199tfkc9BP0AW88EIZzO5BWWInE9D++nk0o4fULSE3m/nJ2+3zg//rj3mSY/Hh5w/fLhhvUY/pjCUwJbJ9o0oj34kvb7RC7EYgw+uI/dJdYCysYqK2G72UnB8VequSl8dSPjLEhzXKO3iZ+6kSnUKYqFqGn4BEFA9ACjRlzB5k90urLxtknKIv5XW1tvsFneprczOhp+v7X1o7prF9GYegANRDdLz6lBeXs9KiKPEaUWCKls1ZPCRYIuF1sEfyybBhe/NK+7VtBkOBZ2YTkdjYNQwK3lHFgtaeSRBRCEw6hofqm7RfWcSghYlpmLVIRVBKWG+SWAOcQ3B8SIQZcaA5hIMhMck5bFnR+U1X+FpAI8wwe/CphZtZgGLT6f6/kIsckex1ePc9WapKBrUW1ykPrqWjl9OPMV6g75mhTFGDK4zxlVaWFUgvidzMI8bt3Bw5Pa4g1stWC4P3BPyy6FYd9clHB3c3u9Oyk5nETaB8O8+s4vlyQv5k0Ws+kIGtKUs3V7XWKoidcOp5iU49YdUnLR01/9mcOY+8Lwkz7v+bmhr/ewm7LNvZJj60dhLVPMjwRFQg2irk0RMlq1ehDW88zBYGhRdpp0HfH1wNzDhFJ8Hsyw5pXSKbizQOSwt23sxTyymZylkNSrmW7N62oeV4KRWFYiH+3/ZLH6yug24Q8IK3/jeyNXsTJ4giWVWGTk6tLeZ0S4+/ASeWinz4lf7wTRvhJu3MM8RHpul7BSXlsbE39JI1Ko8GDWYcAC88+ShtYIZ+EWDSdXnImKs/YMgzXq0/FsJte1wBfrZhqKr44yvVeJmSOjvuTyOWDDo9KWj95qC7vj1J+0IJKx0EJgicBBuOnjFx4qxX4abksLUqJvdp8HwEoyw7l8cENEth8ehPfJIa0CswkQMcfpJB1gtiyUKGX98VcxzLT44lzb4n0ITDBfYDaK07O4p218fw8yUb3KsPHbhXoxaMuL6MJXRbTlRXTHXPo+lruDZJ91aPcIg3kgUOIOuCGKJzswzQoP4k+UqT30D3CUOIB0grbzA3YKOIDpf0SPQhpARNH2jj96UjmlqOcrFqADNJUqbhxloncCji/GIBZ+cJm3XNYAXeCmdCJenCqZ1TAKKqtJ6SQHtJLqpTi8D+EMVmF/lVA1eX1BC3O9PLAeT0+jrzX7bRWxTXPuKjxUfJ7bemTOqqJrPz+/E76+n8RPmjB4eh1i6kLBzE0cuTZCZgp4jUdOn7PW2pxn8QodcDfYx0AfFNpe0KZ/EQJ1NnMT69Ni+YUjXO5LL84gnAkPYtced6ZXY3ZvHkq8yGhoISvO63iyRpbCLzWWvRXP1LwCXtOT6v9lAozcl/sJ6gqdhfyl7JIdYsUXL4v1KYhv9e2Xv1p4T06hOK27nqIKIcMnboCN3BSzlYZE2kBvELX6gvnyxHZMF1iz6AccNHX4n6zfkgWgBcWyFoS8WuamIWDOEVxsBgS7iTnGlAaMzT6zljKuB4CAsQplJlAwgJRR2jM+5pkKfBaf9yzCHE2Dtc0buOGdt345+nRAlKU4GW3vUt6tnLdEIPBfRIAq3zu6ySej6ai65bfOz0+omQ3EgqyX4hTiPouNfMFm9VnAcH8NKYwVe2bh0G8dBwx2yUtIJUaqAPK9K2kX5g0B4n4Rdq+lA2SFHHHY7t57DUaG3dBAH9hqFygVawFERJAp9upgY6EuAzonHh/F/pV+S2UGejCdINR3t8UReID8Ujncxc8pzXJPqKurIBa3zITwfdnKRsWDAyJOPLP0chSQYRvb4W3izYa94ehu6MGq2BflYQ/ldhEXQOwndwPwqWlde0JyJOuZB1SAyAkgSZGYqJfbjddbryPaVFiGkfs92onm8Thzmi1uTbMlsXZboyF1XPHAIFB5DTwKJ3Poh+g5A13RkruJEqmNCp9sUxzLa7mWlysYNF9+GjdNLNCyD13lj+HJhBxzY3tBtFIC6dR4uFvkcUhtnyVVfLK+fkJ86uP6+mMrzeDTZrE5dyIUomDzPgNrSSD8+J+D+CSRuGOs2WCZQ9mmPo686oZVr9PUH0ik0XzUb2MIaABSf/vVKwQQLyjz60iWzuELOK7ky7Bu/o7klzjfy+hu9DWDZPD8nAlkOp74cpHEiUYZwH1MvC9eE6FhRMC5ZjMwMNXf/5040MuPrmsDEphdTlJ+KKkRqF7STKXrD0zMB8SJ/7K78+nT253djzT9F6Zyy2t+DMKPtZ3uDs7Noa4LqGmZbMzOXHBDT8LOJ4Vzx2NrRDTBAw0l+Fd/XCvvLTMCj1AqyV4SzI0Shz3+GwKn3iPieJ0kjzYFS+6XCVaiXMIGp2KW45FjVPT76pgvKoQNcpZ4asP16Lz82H7UrFJkLsFvBzE6Yvb8/KiPJtQt6gY5mGbmdDKhOh8XjpkNaRJwy7aLjw5HltxKJc5U2AuAOBjgV8qUp/Ec/TUs/Gshe2Svv603wwBf/Zm4nENYWwmrKfgbg79Vv2yyqGfQmREtQsMSpgnUK0KSZOlklrnQpG12QhO4G5kU8GulzTIkD4HFrpA6aioBjaGxDHmDATMcOwZ3K2EABKMz4eUk2aI197ITHibq7BvewbWBGb/Jm8M4wBnIH9NjxUhmgCgQtqL+0EpPw3GzCoK2P2FUrVvpF2+hmcHWldZ48WBCI3CX2I/pdRoRytGYQLme3AGAttlDg7aCCMUeLi+WXpkkh8Q8HSa3JhyJL7NCwnqYbDMh9dfXt9/oPIJQHnNwA8KczpOqi1WimTtjxCJ18YeheyIHUbpmwYdhpS2CmSpVdhM+oEpu4VwpFFOVCO3TpzOZMV4EWG8QlcJh/Rje/KE4N1RBhZhWTLLSgU7qUyrlRyeBriPb12vI7jJehJebVc2bq8LZogrmM9gva6XKTB4PNCZ6DxIR9BRLW4ncumHPCggQhIg8PydOnEeuS79EqsRM3oaTuQIakvTVM7YgXWf6NKwFy4BPdZdNFzO/tFDDQZg9X+DlHPmt4ea+LrJxupACsjUo0hTsSYr194OMuBj22XO+TCc6ZZzkWggwTMZaCCBm2VvaSdfXVwdxjy57QbsXbcVDS6bD/4qA0tZ0WMcPReI4BI4lxqmPnS5mlMHJjwkAmcZKQELTIez7biFWWC73QSeIb7HJatkM83r1TMlYe83OhYXC0zwufgcoEB5lThGQq5ZtBANzS1aHMk+UhaDmYcPpVD996UtqRSkEQktZYpncvwgQqGDaC+JChxuzqRd+vjh6u3f6BZZvO+dn0dO7vd0PRzufvpztnUReywv3T48vTsRd6IUnO+fne6efz6LLp8HNkFodbYd08X6S5tFWOEjv+ep7qEJOJsQPerg6m1W4GpZdTtvgS5nYPYNlzfdhX17gIFcv+JUu+JUu+Gq2tZW+Xla8rx6pSoIltXTC3YvT073Pu79+Ofv1CJbl8/Ddzvne+YejPdMXR8efzw8i7zAdztLJw8r7MpvwxVE6ya9XdsaTmz5dP6wczoYl/es/rOzMurSorZzRblViGVo5zm9H+P1MBwlOeFfmfOHZka0aZwfHp+emOlSFWlCHqgEVoHwUjmJRJEpzCnq382vknc2GBb1zNOKfc+Kf8PtzWQzF1fn1bMIX7yc3+Dkj9mRCF05J3CJVHMpCQSgEr+NNvOa8sXN0ckSE4e0cEaWcHHmdcFAWN7NB5B0dHa0U4crDynU0GETT6UqKKN3XxLl79HCz2HwQj5Be0brAsZe9PfoLV47Uy17YHw274pGVKOrQyTKVC5eJXL7KCLDmyLPawTlNKiXNwzGH/N1Nb5fBayPMUNb2RkNoTUe0oNFRzka1/swBEzNt6OFtesZXJTVGcxxdki0hGt1MhEA0wejFfrRph/va0frjDOeUTPjrrq2p00qS6YMLpyO+Fuwd6Ie9FzkvfWvym0856YKYhofy0rwlldaWy0otZh+1hy2gtQMGhy7MkN7MgB/pNAvwt4gMUJQXpx926YhEPUYnHaAvbDJGewtZ0DRTYNtKNBzPNvGSOl2UPi0xBZM8h8Kfr0U6MI2X1cp2H9emZdyI1UTdOm41uvX4LnVjDcTYBC3aSmyZowUNqqwQ1GjbodRTY1/QsCwb/kebW7Mks51FloFDahVw7Ebk1Hm4YI5V+kGVSQTU3LZe3ZX2SNJ8DI4T/wvhSMpWbZ4U5nIFMdObiiQqX2CG3NkCxQY5ToVWELzkgzEPPsmIgxrfXo8n1b3HlBQTTZWLpcKTxLfuEp40MgHH6xGggea1lEXg6beZKkUSBZ3e1LfS+Lepk5tdnYdJgrYOVSywyD9ndjuCpp9CitxMhQ+Syplm0wvKnDfNmwaPRDdzUt4BisQ0U5k88vne526DdtiJnlckZSgeseU0HrXzpk/31CchIi6UNB2aRayLyOtF5M1SxP1NiiY6Ult5WYZDmW2Y9ocHvLAGHC1/fpb1h2VCfZvYDmpt+QmRTWxt8ARLyeR6KskEzhoumShLTh4SqVfe/OfVJtvoRf7VZuu7YJNlOqU1FxmGpdSyjYxN82KJ7cSRKwoAzMgE6sI2QgdHhUOWSfEfU2G+hApLhwobf4IMcybDnMmwrJFh1vTNq+3UIkpkf5kcxRrGy0aSrLFuRZ8zLOuwbPma8VO2PKi2s4j825kAjxiuvNCVM2kbylYLXTPVZF2n6//3iPzlA2IPgtWXX7NlxnQ6hU2Is87cirL6zo0TatuHiYCNuoPky7H8TRBkaIF4Yyuz1a6fLZEPBD6r2+JN9AQx1dXN/bJzz1uG+10U+DCJHNEW/DvQrS/KfJyTq6WSsNDTkUXqBOoSoDoiJkKPoJS0yGlf9E1cHBFS4UyYMnh0uhdDB38FGRQEYuiksKIO0BG4kEFFxnHa9oGKY8Pc981eTiu1fYdt+FVAREPbHAg3HMC8Rwak2M2j0yyIqLgGTYM+Hv5EM6fHCJMDfxyCOJGglmO/Z2YU0PDiLqMf5v2bvOdGhmJMtlZ+O+l/LB/oMM72QSlfvwLzc3d9Q3NBC3VKIMPK+KBBrKL9lMrvigP+xJDkIAlgUfQDEEoss8oXjCFfJb64kISUwmpfBYO48CvbHO/sH/s7AvK2ENKVDnjDyhK2sEkvcZZVC9i4/0j7AcfPEDa3lPc0UwKL0gk7Ab24uGcvr0jWD67tx2vLoBSjI8RT3NEhc6cA7guqZNysmgZAgHc46wkNBBYDPxCjKnPq7uwn6rl1EhBoiOZ2mDQALqpgERlclI7dq1TPEAhPXqvFlQ477b6IqxPhRqu+RcQSH2lsm4x29a3jwxytMOQCQEqoM1XXiMFGtOQ+08diuFE/EDyxG7kUs2FVTQd6boizD5xvJWAJz5U28NKrqo2///D61dYPG25RHiM3Mnq1mYWrSR+w/yjemprs8miHRHH0x/bbDID2ggOCWOdMbmtmsWHb760XDHvJ7kULEWjbVifAQYUbT0eCCMzInHtFWQfRZXHThX6INWUccQcgs/mLoFhq4cnkaDJPEw/X19PE+hKAZTWb4Usf/kc+zVkIF7/R7ipEp68NEOKeSRON2Goo9hMtUtN7UM8WWf1ixz+jHQh7ggSgL7NZd2+IUGjFf7ILvWgR7wo9Uxcie4WNKpjiOSZlG0AiOvwlRxtPa1Ev9fOg7QmTDAQhd0Nfynci61d47J9+QiAOqxKdXz3nmLkpQOfLYJm9uhW5Dcagw+moX7JFRJlk7JyD6End5+edWOzr8AlKVrECYI4aCHklDE/bC9THVjFLjDMyE8NWRBHUaIbGJ8COUcbKPZiRCQF/1va8KNNoGU/UzKiEFr1LCyPHfyghga9GdIuAObjFL92yzhv3QvkNOSlRSbTA+FEOfrLElTl4yqAdFg1NHecF33VgKM2BX4RBnMzYEhpCDHmEecf4cGVe9Qs7eq1lsJ+awPLCsoQDyaqy4PW7UNbQk2dq47cBVHYTGos48H454URLVF8rRtG/KorhDCZQ/vmZFdye5UBjLpN2BvwiYFdQK6wYDbik+eIHTjLbpoPBNJ/mjEkkt7uWJQfrhsCO2zag2vCRfeomJXzRleGpNCLuER13O3GPVrceHEhwl/Qgb+rFmdRjlq3ZEFD0J0IHAei6Wza/99bWvkFtm1nIhRzte9Feldarb4hnOcfynfGdCFgkruHvlnGQ62/BfLGlqkPYatr0yl5uekXYJDA1dYMYBeC3UaYcpQIJhfxlnyJFsLVPM9OzMrqaAXylF2KVtgdRFTKmjphwGnHnOvaJD4Fibn39WnYhOqxrOgwSmX5yTXwsPn4KcAWnx6gTxSPgdzFXg46JBQywrmax6qmoOv3vVJ3/garz/07VxR+ourCrbvx1dZd/oO7yr/9sjXJkFt7u/5F2pe1t28r6u36FzePjkBEt2+lyWtK0nixNmzZbm6S9p7LaCy6iVa2W5CSNpf9+5x2sXJykz33aWCQIAiCWwcxg5h2NoX6ZMPxbc06OorJ1RsoJ+TkTSM6fzxlvOdyfMzxydMz+1VcZ+utI9l106YjLHwpJy9XG0IKS4cTx4oIEFeRzJKtmh3TySAQs9ltdf6E174VSqTO1yJpVseW6+aDMflCWtEZ2TjkyMqqLKw3MqIFwxnUa8dh1WHvV8Jy02u5XKYpTUAkOtYd7sIFMYISEGimT8EEM4td8dM8+ytbLoEy+Pi/6RE5zGGAz8K4E4YVjZz74csiQrM6BjY0rcBJO4nxB+wi/DeyF8GM/KIdfD0taCthlJMj46KxweNfYWDWR4MgGJjExblV8IXb90SM46iYefc16L0m4zwMdEvKa+Ejaa4ucClgnXrfj531v7UV3fH9yeDip97t3p5t275DM2p9E6+BO0L0zUElDKuBOt9GV/Tvj0R7Ve3i4t5ZG7ns3F/O95TsUlTlg/wPvYnVBciSiUV5cHJySSEv1UKF7KGDfZ2qBs+11oIpI1ni6BDXYSyofQolVEvKWXuGMyVsgA13Md5RpnUA79ZZv7rCyUsd3GXU9M5VJKmFlyGNdFvVO6E1gzfuO7R6tbQbiM8FQs9EHVR5UjyLbm27Ao6oonWVCS8/OsExZTJXJB5VMKV51QPhMjCgqr4LE7tulXUn/rTlV39CEjmB2VGkjUjrE/Kr734jTBYY04PSkRFPN/rG4SLWc+/tG21Z7pEpu1vqx0lty2/KbD2vy2Gg83TRUelWHYw0RhYVPJIT+xhuRVJm1Zj2Hh/vfN7AD+Rzg+wxDQ3JloQJvDqQQO9xTReyNFjR5MbVp0u4V75crEsYwcv/LQPD/29tDFO4Zsd3ZnuzAJdW4R+KiMnpZ4937UtXhvE/J6728oNsMGq4ewAEaJNyeClWtnPK6lROz77XvcxTk2L8KXiiv4YtI1z5uUoRjA03jsEwkueetU5iPcuGQaIlcoSyqjFVXZDT02p5KJdzfVQSmg4/bI300mJsj2FfVO6mr1QBYg6iYlD9Qe7JJyFwLHSdWn5MMXYUy8alJjiMV/0d3xTS50R5ZNQXrSIuao3iUgI8opRZJK+hSVwNjzABCGNDlNiZTetbJJbBmgrkaXiqPO4ZCASUScDfasc0Z2xBFVd5MW0NNpIeINJv6WFM/3j7auKh9hW2fRvhJqXn5kESwe0NfIieFagVEN2hxZf8NJ7LCaVIwiqI746GGsM32X0hH+yzAhFY6iUJ+GFtMFXBoKlDduwodaBRTBv0yygNWR1jUE11Mxn5RKOa6pRhlbEalsL1a5pYC2Cb4Fu/iUX8kdR4Djr02RKxnaUSLW7N4ptoebhd6XITX5qnDi8QaxXUwrz0VaL36gjXucoHgcKST9XPTA8QB5db1xxiHmbY4y8AJvMS20GzemfgC2Fq+YwipyYs/4ZjyeukcHr7wpY8msfS1vd55CbXswpYvx2egvCBSmRo90vJSjpdO2gvMdYGwxiHWrd1Q74UvVKNFfcZWOrWyLGz/Zsrbq9GxVGXVw0Ru91xUc0BSOzkmidsApQmrNqwMO2rpTpptw7BN3BWAoJZYAZmZu2nAObgNgFrlsCyWlXW+QaXdsFlnVBhaE76rNGgiHTQUlCivbgCn1leULIyadBn0L+VysqtJDwmUNCNeWS6FqJcwDfpTuaztqjYlZCghaycOpoRl0F/W26BWdKU/S5rzLfOPBGRGqJubri456pf0EqWlHwT1adl85UfMnma2uaY87+TssmMzt/OkI9wQu+4ECzPeS+Bb2R8Mo9Zot1m3G9sGu8U0JFJpGsHRccOjowyaQd3+vN741ped+c7fwphjUCjaYprrwJE7y0Y0XWvArBxY6xyDRvJUPvLyRJGePl4p3ea7Ip2MtTNJ8/Fs8aH1GeM1SWPd28p8eMtTKvK2R+6L7dUWxLJngNXsd5pDnvktKgeEgMWyrlgsym6B/Hn6de/rr0EeW14U2kMKSwhG6tdLmAcWufWNrFib/26lmVMc1cDd0PJ3mI5yP5HRg3HM9XpTtZtuj13kxmC+FRmqzRPEuIkYcwHLaWitq2n9xEyuMX1g6ltzH5zNKasQeZqtTUT4TA5QF+reiT9mLJNWxdtaEuvZ4UZUSXgtxlPbPwMPf72hyoJelCdfGv1NhS6Ex9apMTIBB/zzdXFdWICXAzikPuLOrj9BlNtiLhHb6mnsfOak18IXJW7c0Zk6t5jrvlJHAzgZmNMyJgHOPorNZeIcEVy6jtHMJ7+G7ju1+Ek271T7guaLPVFv8iAbHpHMKc0vm88M/kfbQ6XNwcGEGmfXtpNmx27i4j86hzTRJETsqipoI2xZIGZNAK9uBlBeIskdrsYAhqJl6DrtQxpEvjuReLUx5KI1naw9cIWaz5/KnzNv/9m0qi20eitlaPj2h85IsIIhlJ3dnjmIhVlQIhaVZaxMpdtXKT4urn9+v/H59YRa/4no0z1oAi6IXSgHwz0d7TixzLFWPM7hBWFZJ0XEbN6M5lEawtw3WoZEKYldK94vI9rur6L9/XwXZyaiwv4LDqwnOUjiB7fb+6GnBwuncr3RvIKTinU34f2A4ZSl/kH7dIGNLuThpZhvtIiHMtoLmkqcLWkmKIMqvhR8ULDblTR5Gx/HQJIWBGfUtmmpEtRH7nRvPgSkHuf5CLBlCMjeSXJ6Zpy0LomDmjJFCjkQwBx6uiWYt6vkxLWZazHQyBPsnLES69Hdb8Ao0W8O+CUGBQZy+IwNUmdUokZspEovSaYm1s7qya8kBItPD0KT74o2R2gM4vRMsJagGKSI+YAfonXyBj/bLZISfSNLQYqKcAiVNdoy57bwV16pVsRCBfNKJSpUy0kFA22gWS1nCrYNuvGm2si/cu+5Nj62ujqXkMlcI78TtJR9eLjf3paroyPrHkX1SA1uoXRZRZLL7zKHVG5U4CXM9/ZPQwBx5zQjIYXC/U0GFJ4EjVEk0VhGzNYj5fp0nMTCInVSFwUjBrjEcQq3CTlhZEKiNvV4HnxI5ZLIIfAzqIvKrtTNoyRnjFbJPdWtGnLG/yIZrGU/MUSqtnmEV+GHEGra5+EzTPD34cPw+3iGmMmcydMrKc4XNx/AbKDNzyXpvLQ4URCpvocFmw5tIEM1SNWc/33Pqj61mPVDcGN5AVZyFJS2U+tWRDJ07CR57hAAnhVXyUTXewVXGRUTN08mg6shBsYHDDdgVZ6z+buPYNEgh5gxNEzFVf+9JBKR9gk1FKw8PGykjQ4Px+vn4jnHf5FXI5LWPoAKZDSZZOEJF/w9CuZDnKikByM+96Rlt+yXJCw/D8KvzmE48D758mgdPhu8x1rEDyhb+DDpvED73pNI6hER32OXfrpl5E9gR+Ha8TaNOCV82E28GLgfv4opXlrhCLdLSYtpbpNGAVcoVVQPg8BYL+YQwwI5uOwUCytvE4SuMUYP2IF8X42M2dK22+fwOqdpcXj4vLoBSlIX2+f6ZTdPHDxHmtyZVfTe57DmwIB+2G71XMMgrhF6j3nMWuuY5RzRzEXsVfrmZ4iUIMtyi5Ch6yuvxlMzl6XOT01ko/B6CwOlt9AlaN7bXX7okTpnro2kXMlBMROutZ2OTR608fYn/IIizFd+GzsV3k+ljnAqj1o4nI/Daqg+90UbA+KOgH2POZLGey6r4zBMQdhMswDdTmI7V1lpQTPNluQktnNsLW2qimv/b/HMEcZkkJ8mxxvWWZambHaLYNYh6isfqfFXGSUd1pjlMEpL7quMi3ni8B4tbuH3WRHPNLg9jis4G8mAAaDQnqNURBmzUqCRcj/FBPsZKX9vpwWtOYErYSxcd0FTcFUBK2RgVG6X3TgiwXuf03GVVrZ3qwl1Hcq+q75i9IB72PE4g6fnDm9cwlGVwnp3p1TwNbLIOnL304wuUpIpRCwPsxjK4IMqB9qpsKDuZIIlS2ZFODc9yZgTzgykulRP855MUnHeEG4lFHtLcnLCUZwb6d2ukoaB0qul4VgKIFxNk/HOBi+kzD5UBNUvwtNQyAk4G29a+W6a87kSYjjYN3HfN9jsSFqRFugycFwZrjcLnE0vRSmqTDwYsP0TnDa5tuPu80nDWplfqCfCaZ5Yp8FkqGNK6QiW1sD1FLGDwhl4oTwpa6Oy3WbxpJddr9BZ3O6kjKeKeZ4ZTj6ens3iqYRkzwfTIe83uHBjVnQu9RyaY+LNTRB7BQw3paaEU+JzZ8QB8QmehLMo0arKHlo6pimh3Xhqo6FZVgPxzz9l62Dwo9u7u/wH3T1KEL76o91N7CxxoHmMgit9m8UyEEF1CAbDeKK6/NJ2+eTMoODngMCXXT6pdPlI9/gUPT6t9/gEPT6hHr+UPU6cZKV6vXJgOlxhizLD9mStbFHmsEV50qlnioMM9agxNWpXidI0lxoma0PvaGOzOhA4kN/W/e1os9zOaDfbLLabYroFwFUQMTJ4PZd8tGXAvPFMlMXFsUL3F3B8eiXm4834A6/H3y7HVBh1xT8xxB/PECjpE8V8poNYc+9zjUa07iTviyiVJmf7r7bbb86SVwEHJlrjsIjdh0IPRg/Ed+yXCtmv0JYU3vV8LUZF5HVLq5d0FKEPNTYgIjGNpBW41lyjSjaNw/MjaBiMo9Hdu3c9bU59DQ72XSZWuYetIU6T1LXDOvKDi8HF8GbX7d/tHVz8sQ2jf53tX1y4pllOSIv3J9/IdLpwHlDCXfrfC73e3VoypQ3+iI57/cN4eNfaxv9SlN+9X/reH2z1cuCxCDBKHVM/N4dyUeCMsfNdM8kTVdAGf3BA9WntPmAJvhp40vgScP+2Y/On5mjo1cPv/nz44vnr7/7n9atkJGFI02Qgh2QYCqMAX9nYiO2zt/Uw4gc+6K0fSDhlPaC+nDSmcEtZIvmhEiKgMp07g1Zg9YaHivy6FjZIGiMpJCUZGK25REjOY3xCN64RCIrA2bRJ0gBMLQXcWhm8od0ijBnePyrDkXV3tstrdjlCM1mYY3KFYobFbPFFXN1a0pfCk47fGWsG3GSNSJ4zpDVirA9GgsPCDROGJuT7h69eubdvfqk8/bHy0A32hnTzhh5s4jzpO++3B2fqNIyjiXxCExQZtW3mkgsGOn+vvM+sDbMJJwQAhwYt0rrbfaPmSN0yGTTdsWDGrMBs3YUWnyuqUlhbMW16uVNxbv23ZUc3vi/D92X2+4j65q7rVWlKuGWiaPfvWt9rvFCi7nkFpYtBJKHv0OzZ0sKvTM+Wmj2zdJzYs/6zlAY4wqVEBiiluymJOpDTZYg1dAJv61RwuLQIX22FCluoaCu0o/UxslTTic4wzdcF8URTRNZ0Pi/e2e7ANNav8gF721oJ1QpvDZFUGYi+uGUEENHE5T5E4bjtabi/pqteK43d37/9yNcc6To2ouuseFRMi5KDkTsrykTWBOs1W4+Lw8NvzuWVjnQHZ3R33hdX1+PVBPEKJZWZCH8Ei8neeN3wNHTR2RAPglc08ZzqKnax7KRCUt3ElqTm+gohL31bSqfycqvonu5CW85jbiR3zn3XRNcahLHXv1lGU9rwVoJdafV5TT93qZE1o6lA8qUAuINaXDGgZWJqDeHRbbOSJGc+BxjYohUEG0EZ4mLwK/U9F/OnWP/pdbNg2MYAMgow7QQyP1X150bWdfsro8ornP2jVUxkfsdhscJSf8QApR0PWX8ntPvJ775/LOb5ajHO9/yLvBscyzX/xIfDnXg7phm8WG23nZtd0LteF6v7JcRujpgaDE6H8Js4frB4XxTHYwnEW32v+hpJb4L98G8gZ5XGUxBTHmh+iOD1bPFhK41Oti+2s3Xg9xPGTgmOSRIuGacXISMYr5ejbodTCOk4IQHJdSAC5nxUA/o2TWbys+ZExSbJFFGNJ8nEwhGdYl9/syTS/1AAeqI7sRA5iuBJlz7vN27ai6XIaENid6TDQ0+210Mg5/19jKmYr8fob+WvNOl6r6tpCDGNrELb0tic9ytJQbxPexetiiW7PQEO2X66ss6xZQfUD61ZTKGBNl68uZSYDtE+AMPVzXZrr5nBZTRaGv4vz3OA+YQA2ZAYtpG3mNs7dluEs/5ou/3P2Ygzfgepum7XC/uL643HB4ffJiTryNbIwXskY+xpKl3WMbXz8Vsc/kBJRLV7XT6nSk1kOJxhhXBXOEDkGqo9X6wkIkg0Ce2grKNpaPp9HS1DtQCiPAQdjl6FdXIcVSOZFY01dxsQyNWnTcjllmDL5uBtxlfSolZOk0uDWrl0EStFU9EJXcKlMWErfGNdSWNwaS3eJDKoVh+q48lyAFsBZbv2JB/uaOJ1XBjKCU1zN0cyicvBZJhcGmvinSTDN9iD6kiUzmYBMzunHIxl2ffLQSW1FYfSNLWaNVRdoW3EKk+DCgRlhYauRcUyLwYu+W/wUkZwxXF6vSkUTkcIlWnym8L0uC2LZqhxH8nMocato3uD2G0vrXwcHRwD+wkYkQDDw+v0E0okoOg3hR/X1xf2xT8u+vZNWpZ4E2hB8sfJ969KBaxL+80A74UwpkMb6SfsaBi7SILg/dYGgmcTkatrbx0lxDOFMsin7+hsYlkrVpUSEzBJnmTmDpODUQE5FVe2vFF1/R34rx2rqAlL75bp83Pldchn5Ddmatac34i5KDn2HuuLd45nlGnoSIYc8/MuHBlV6CvvsXQRqoWYFFUWsS0gWVMrZNeGYIkw7cKqZRgTmyDVjNnfXvgjMAuJFDJn+ZO80W5Kjwq+Zbzt8Dt5Mx3PaIdYeOFjdb94V6zgK+OF38sUdbgcPpWFLVZ5sXpANXWeyYRr7IvyjR8Kp6cfFS2aLeuFuf/U0cWk+jxACnbUgVB6YCIV2aTCfjuozXFqA4amUlLZh/WEBf8yWB3wO7O+P8qsgkYnXSymhZh7EkM/a3eteyV6xGSLqQy3XceAgFcnzUba5lWozMQ1LmomOqprpmmCJawDbpSL3agNK+CAi6gJQjqr5EPzcdqah+hWmvgekJWITXmKAZRsisFgPMNTUXvq4MvttEKh8WkNgyn60I63L0EvTWt1i5jdtaxREFe9wIT2AtPdHlVhrqsuYnrb5rYo9y3Vm1G13FSXqx9XXzWA2Z/T7aXqaNvLOzOXZCUCtjMel5bTJMwt8EMuJ2GzCDNQNWczGrnd/6uPRHJzAK1y9fNNbF35oRVoCM94ttqYroJNndTBY9OFg6QY6iigevSzCBE8YPkk2EwJ4WhGigVueNiZk8wacLmRBnMschVoPh4ZEzYJoKHhMkaGDvgTRMOThU4CG8rPCevkqGbTXhUOunH+xwaKj0zAzp6Lomzo+3N2HO9prGh2X+sZHGm6djCmw3uuJvv65OT+l8clYobbBj79xw28pR0nH2tHpcrnmYtlYlReJLzvj9ePx3NAaaUksL2x5Fihp5bJyXkad9KE47uJdK3PbUdJ2vXgyUx/2MbwUklXHHVtZM8JoKo0NpUq6JA/uMgvesNuUPhH/UAKlcQyEqk8ojk2HdyjqTgdfDE8L7qnfSCZnXiwFwwiEq9GqOmEVfmXwckZoqrjYOLw8PSczehovhCNezx+T3J/oeyF4Ag2Up78LzIIpRy5Qs+1RzLSciE/cjae+yaanegp1O5wBEsTBdwd4IijK3Ot4Grrd/3U0WV16au7VHk96ajAi4pMm+bE1JcQN1P6kS2LZX8pXRyDfIdzuuQrPjhVTT9Pll2tudNpR0vYf8aXZ9MYBoMwKvenR5fBv+eHhyc0NtBWTboJ8an0d6TpnjIvukzorTNdlCmgY2pEQcvPKCjWK/msiIO0iyGMEfDuBNS2kG/m3WrM491MhYfoi56CPxc9iZAexDO96ONqLmCicy66MEt2ZiMgmEXwJq3BP3sxzW1e+MBwT5OjVDYdoJHd1H6AoA9A+yktY01fWodDPnIOV+ijHE95K75lSbbdnjQWuMQWGnBgsS7xLRLR74zyFudHWVBQ/0ooWKB13WPPI5qop/dMfW/gbyiq632d3oKyac8UM6fKsESoU9H3GCSd0iLrwoCwqYOiguH5U5191ic6Ev1UqFVOq+RGmrcDuBzw2oqghAxhQZP9m2GfgzK8ef3wMRGk/5K8EnGCviPKUsn1w+J6tZZZ+DJOB9/CQLcECDhddmkBnQxxHmLvT4cM3qb4KKRDJYXfe8Pg6JSvvkAeWciXtABPgqMylmV8JW9HJETj9mu+jRU5lEv/9Lsv7rIW8PF0IUgIPel5RA0G/+GsAaarqluauaZm1xJKPkBM+vzmy11w1KeLi9z8+v3otbmK+m2XFz2mnkEf//m/b/1B92gYyMc6Gx4dHLdDrcghIRrOHuIIO89IV56FoffiDiKW16MJ0JygKRrjFITZ6CeF1O1lQf93+hNBcRvEf6f6uZkHmTSW3n8u3JjhkmYQqfBnyY+FBjUOQPxHdUuLGVtYFPSAASRpV1AezAVS2Yy1Fr4QGr2fCpgmld1k0p9AgGt8EdAe7KH1H3e2dw74fNo9m75zByl3vIr056BjtYo7NroflAjYuxxQmlsEJCseHR7u/12RkkTyZD7Cnv03kQWzLT9n3hBiT99cRr/7EiXNLUD0ERK2TzSMDUSAxR7pG3Duytg06hj8dLZ2KmJxrh/2Lex/JM6OUvd02NwhwIno+9LxntEVzUtdATC/ilmr8cjX1mEQchxzBasoyNogh5sqMld4+0UwUFNFkrfetizPOYfyZcXDQnHHoZFLjVoCeOR9RzjK+PtFVcBiiLVKCnx+gBV4Ql2X9o9Oo9Mgys5yvtrJQUdQUQsFJeIseYp1lUVw98qSXzNqdN2PMoOGOwfu/WMhh1xIqw2vC02qFW9ocR9VU4IsqSfBh0NUQhbENHxqNuU1Z5kRzqCN1sxvlZ8hD40gu45IYkBg492n8udS+wjTCRkI2Ug0TKmIw5lYqQtWUooICFhKWbC5NeLp1SsxUiDLbpkru5ntMR/6+mT6hKGbjFpQXcA6LHDX8luOhKBCo6fJDcP0pjvpMY+OzDaJvaRxuP/Q0w09YCtNXdLLrFXty8wL8RF9Gq7uJZHWkC4Y2TvXsR3hN0bv0ma+SaPrNOhmgJgVee48uU6jDT9RSlhlxpga0GOM72YF16OV7yF2OdCHO29T9HqIUNoHMr71DVseElHtHUCdRzNGWvzTb/mYXsODfLwiQkWiASz8VuP1hsROnK3S7VsxHefqejxXd6fxqHeA9somwDghte1/hgNDH7i5pZuroh26DyRDblCoThKC+NKIoeoRmIaBuh4SeYKj8IHqw5YyzVvOS3w+YdTMOpl2nlldadg7IIblV3zfGGYD4f6JjPv3UviXoarbydHwOJNTdaZA4tIAiquX0FpmMIPV1sw+zPxwBMV4vU7/hpX+DUIUBGqBjgwRwazaPkBShGWgRScqsYMSeeUrO7B9xNxmPyM5faXRIZeb8+qE85O/f9pe+inQIHMTMtu29LQyE052umMe8RxyfdRq0x3TojLL36WBM/lOqpOPp5gu1jfd/1Jn+EhFKLdSEWr+yCy/ogGuzSOnJp/RPcwCvxJ21af1XrPH4Fk/j9ZO6IvMOZkIOdiAdEPLgMBsSWSXFjy7zQjaRaQSsalDtEoKwA91jMrgjZSQcVpyKdbPBUL9cuNwhLvGHEt70shhta6pkEqFDitpBlu7/oxoGIi2sc9Xlg0s48Z3MwSKQxrfO7CsFvFFSFD2Z8QBTvj8uMcM2+VimheQIjji2YGcZ1QuH1kmI4k12VNne/o8jUZRSAR6jjIgzwMlmrQ7lNBC7IJmVkQodl3zuMApD7XSgjiiHwcr1Fy4gF2EFABfkaSsT0ETn0jqLOAwuoeH9Y+jrWkSNL/ZuEn9gsDp8/L1ajyjHec1m5NRVfC1Yh4a2rTWQQ079ODtmN2zruGFWCrDqPLwsAhS7UjQz+WI6YxsbKSPAisrqZ4Nc59DY/T0QbA++Q0C2avyLpwGFpwQBlCu3yORO0S3bBxvoh+X0icPGGWyvEnxd47oxtUlSf1ODx4u8iL+9lSGd/dPvzoj4n767TndfPGfM1D6L0/OEzBmc3YBqbV7KdabwrSb7/YytH0e7NQMkWfg+JgcO82cBsn9Ejn49Gi8/m62BBKa0/sBkKUrCdKOZZVgbF+KzaZYzTkKq18kKxPa++LY790N6O+gHM+Gd4ODYw7wmSirV8SHCQuIwWHVMFGtxivQ+A59DRcPay3TOHTESgp8gkNMBJFTRKa5KIVx5q8UrCuteCkmBiayt2m+DOu9Ksri/dILV1jdwjVa5da0Nibj2AhK+gSviIdgWzjv2siGeY1EFVISRRc+G8+VNMItR1CxanJ8ew95M52r0UXCqOk2vM83WxC3NnWnmyXeu8260s0yyR9tls51a7POkqvbmtVpb5elw78qFVOa0BDybgj9mGzAwDuQxhPF7UbAVWcauBxHSg6sHKU4wTz4QAWWj1N7SqCMEwtp6xiAbx3PrwvITKbNTSyOwjfytRKS/naDBTlBAKX7uzDmJhI5vmKtR0tXKQWVmiJz3nftvtOdVfyo438tC0QQBUKWF+y+CW2R02czt89GHJja9w4y9Dw7cazBpLPBVqORMrbbWbrdsu0MG8ewGQ00VF1iMZGQJF3K00nt+QrzqK01ha5RntS07rmq1kvlUbB/Iukps3V58f7f93Bv4psAuQEeYcg5lamrZEYs0ymHWzBs1kp5tSDfezBJ00AvCA7QsSIB9DK8ApJz7l+Fl7hAMUeneDbzVygQTVlpBUZW4etG9EqE55f2ual8FK5IQIfK0dxTdg5EwshjvKmD75NIChOGBODQHvQJi5RW1dsC0WywQqoMhF8q8jjhkMLU2WYpSQxWU6gnu68KKap5n+yQz11G8BnPD08D273V8mN4dAto1GQXh24Xj4Ig6qhHR/JZpYc4oAnbyqLwZwUwgiUv5YVP2kx32JCjpvogYTj8kCYv+IjSMbOv2lWHP4iPFujY4KHAV+H78IEI/4aLhFRjhc9hOcBzOHwnmtXpQ5nwZwZ7miM8wyuRmNgutP+ba4bJfyPCpyL8i2rAQZT6N4xfsWkkDMFqdpHGuLHVHDKWzvivwInJIqg1CJqOwG/x3upt9E9KC+L7PWU7goX/WLh3GKunLaa/L3wGf+iN1/wb9DuV+5YwoSbAEWfgoEbvlDo25QgToRAtFcmOdvue+ND+R0aXHvOwtkUqVXkce6b1xfrucVVDy2nKQipFw+KnIvn2/FWlUlBrHSoCgSlx+mZseNiL9zlL+x7s0GkxOon9H4Tv3HI0E1sYeF993foNbr3mkhtg3+Nh+2+WyICAx2Uo8uQGcWQj77R3r3f67VF6PZ7mvXtf/6e7vhS9L7/I/vPFV8ILZ+KvxUoGGqbfe2G+2ESn34aZrsZbz8VyfbnYeLvwf0TyC41fdlkkHdo1xindEudFstACO7rX9bXGPmDz6PEM2kySak/DZUprRdvlglAyE/xUeRS6elYZ3rWRhdW1EOyilrybDTVKsdVswMkc3W/CrVOSpk9V25LrYzXnRVvN8S+9P7EDtpEktt/iPhykA+ksIHtwyPbLciDHRYLz7uji6OLPYdfvBThU+IsS/5gtPvjabvn7FKTor6unY8gR4QTPz/yLd92ApvPFcf/c70dnF8cXp+dbYuPDH9Lk+Gx7+K8+5YiPwyllP6NK3kVDIhzhjG/7+2JViG262maL6RZBmvPt5Wo7npVbFqy24De2iKC2Je5PzAJflzD443wIueH8uByTGCiSmwUbp0aD0/DO2boAJNHe7Hq6GS+pZk9feed3Qu/sWD4/94ALUIgcL3lnG3ghnHt4ri6HIWwdB/fMwzO6L1eL66XMZu6cNzarygsb2DCrQvnSzUoVf1HPerZZqeyr85Z3/tTWKYMToh/0/5B4YxLflhtuSSKvqSOQym8jaTMCsgJd6BbzteCM/By9wG9c8q30J/oJ68/BZaOhyquE1zlgDW7gUp+xngWWulrhH7PiARpIEORfe1wIKzf6a7lmF9cbDm3FsxNy6KMXz6DgxJpYiLzg8D7hL/7rgJ9OKQ0ptOI6epus4/UoLlhqjR1+JpVcI1uZGa7XG4A8ShYxJB6x6w2J+BRXbbTx5CxJ+++5YMZZUpfcdHVwBHujUJ08nYSoL3pehNDxR9j9YZIqHZ/5lq924SyVxpxmou7JKVrke2xTRL/5eM1uMnvowRfz6d97K/apoRQi9PNKXHC35bN0AF+QIeLsSIk8U3XxElMV7clZswd/N6zJvfR6s4GRKglYeyA74+n61ipW2QBbTjCU+qYr/4Y9m+dZOJ5fFoiClz9CwjQNJf5ES8++RyRlxcevJazldjtNfa3yf047xHabhjBDlZCJylK9o/Oj391Hn6qlUgxVdtuz54vXBc1giIo45zHnDtEC3yctYtvqQuNDx2g2AJA4yD2MrSvE3e4E1g4bwBrEdDJvG/1EAtB63dgQRPKrUAdeD3BSnUpnCcaxsPqoPP7mPHnFRiSpcfRHPhgnu/f0XugpG1NYnIjrzQJOnDn8Dm3ZtjiZub+OLLxsvtuFov599oDgiWrujJW7ut1Zn4OxSx1txRodRiNEGlJ1HNDsJnocd1jy0tyLhOSQMbU4zxrMAZiL/MmmmLF24T5Mm4psPBoXOVTVRhWpu7HahsxCOqUozDwzJ95JNZ3euReE2luUOihl0PZlo1dMlXbM3A/ZhViPFUgOTXFT30EuFAPJqb0mOj2ULig2SgGxcYim43kxfpN8Z3zCwXP6wLpPiBYQ6/FaOrsOvqAEFMd6PA9OlJRFJqM9ijh70ITnb2GkZNQHcFhxEXG0mcAjc9T76run3z18jYnzVPAxZNrTNM9qW4iEpGofW9cOJzRdPDzsKP2JkL560BmhdY46g2GQtbyM0YgyawfPL+3UbyJotW1mt7XcvMTdBI47trgeJxKyGLgUIFLrOLPIdFm3GzwRfo4IWLHzOuoroOyKltmu5tfm7LmYFY4iR483zHQSZ8/hIzeSrZc437+XJNbaAak/pfJ3kfUFrVT4DytPAowJYyUmJ3FxNooLqaqCb/M8C2T4ZZoy8FY2oHqlNNa1D4n3H5T2OBvJO1ar5m9JnC9QXd8YLY5IqI9G3HklVVpSpaVjRSsLLYdsLAYzn37RnUQTcxC/k63t2OY6jXRCwnEj5E4kCYbcfrIwL8R0kUVPROgg3bCFhTqr4QVZatCI71Ow2WJVar/VUTJFZo+hVtbgglXCJTtFAdiTdi03Czu+BwilV8lILy4K2EgEaGXeurPm+tRlhDgj0CzJBnqzBYnZwHoBll4OUygkTAvxFkxWrm1Zf5UOdNixxHi+3m5Nwgx7qnYNe6lOhVyvAkOwv2W8X01b+sIIOMqbDeCnMCvJnG3a4C7AJnC73d9HWKxTjhWvC8L2YRrWt5d+AROnWxpIS/7WZzj8O/06qLo9SAKbKTSYpNLGQHlyi5YjxhgdDjKEEbuxnRvJjmY0dDsGOvUtDccOCuCm3QustsBA5K8Z7YdtNFE55ilNDMmoZlCZTHiZ75Q2cZnyzJzQpFAtkpNhVxrVMbEJi9EommU0o4vKx4NcCMSXVieA1iBnr+TTHHqPlXSxvsSBl86bM7vCGovfxpvLqGVywGjK7dInzIxcsVT+C4cIcBTreb/owat+tXlQ0Hhg7uc9F44nKrSG5CFIqY/4OQAiwhd2dATNBhy/2i2EQ38r/X9amb88T43e2GjdmanDam110++pp3rKYaOxtUHLRSzPkljwupv3LT0B43O3SafVBBQvi1P9wGO8pL5p1kBzuPqBxie9Nxqv1hsu4bYREY3xkNFlAEFQqyejaZQhznisi3eGnWPsNYcuq3yFMNxvpY/llNGLxCmUSYpS75oCOmKE9dZGp0R9MrZ9NOIHVj9a1CYhTTjGwtNK52iSho6SOforDTeLspyq2/pyy4Cwk7US80wT8zx+xHintAHu/yQjywSxX/YnKZUe8D0POH9Ky4RkAz77oUFjAtEuL/G95xXeUbIzgj9XEW/91WamN5/xVo0anV6KUTwH/K5WHAf1jOYwKURk23YUBHYSVJWuH/z9WpSsemxPhtluBwsum4Lc/UjDsRqXJTFV0im5OSKJP0UcR7NjszM/jBRZqlEK6CIZ3NRw1+43gPHu70BpssqQ2mDGhT5bywO5jKof6zJ1mcPUZZLtMIaDymrQZe5gOPgIMWb8USIkuzNByES8GD6gB4AzpgUK6NzoSUo8Vj2XIXUPZKgaZo9ip0m9lIbHVfbQHlB5fj1v5hiNiIb+V7gaouX1pjbI3JAfMQL8SZgcb8Z5gIC9jKDeQnBve4XWfwsFsdh6A5G0vBUr8zeZY2iJvlR9XkGLqcu7WN8d/HHhD+9e+ABso+sASsbgeEZEIDkOj8N1ocDc/oRP0KtuP7g4lcr8JXSo/sUxTkgOgi2u7g4u1hevhnf7F3cvjgMqpQx/l7E7rE4gfFFwij6MDsJnOaOxrBZvx3lRPY5TgE5SBFo4cQCMw26rG0XXO7IADWxOcHjo9bx9BC83BraS4X1RwMJhk1EVfIJar3GQWbfJYVIQs6DdiWEtpVrDB4lYrdKpOGnsx01oGg0IW3vThcjpSJMQRd0qrH7zzRq2jYlh4ylI1IdiOk1FNqmg2hg3thvJ11VoiTzp7o96vAexwpJ9DIED4uO0W1umBqHe+dg0ZEK7I9wAQ8lB1o7l1RaHkGLIh2OE2gwPJQN4o4B+NuqAAGnONlVtKsje39IcW1pl2wNwqAHqJ++TVO06MUytiETsKnve/6vsv5pl62Pqlv5tbVmH5iEXM0Ixpj8V6BGR5d1wNwzHcmVBPBizIFZm9pjRWU80AzRA2ZvV+KVMXnlyH3iL5e2/56OQP4eMz6iug+Nx+CFTi5cGYbmQCsHwJb9CpKL/L6IV/kWfrnFF5PpfMG2CX0v4N9FGwD9G35yEDAMZffnlF+GIEu6d7sKXfLByoIPMU9t/cXHjfnZvHmYuvT04gNLiK4QxPThQLBhuRLp+s5pGVykCyMobaur1atrkH139hgaMW00Vn/dSubmAEx+cDg8POQewEfy8wJndm1+ePIRd4RxTP5eHvT6CBG+3fKfekDAPPgIHs1ejXJ2AdKC0rzjNsdfg7SnsGLAJ+Rn6lj6EMSVkKi4phQEfVD66RAo1MnqUcYqAgVFzp2E8CMejgEgLwB+IAdRIFdXeUh7QdfKlPKFPomovyiKkt/FppA14Kg+TjLtW6xbfNDMI+VAS55f0feP1Cu0tvbq38iO2MVMqx6zv7HqmNADd1RNoH9YUlO1DrTu+GgZG4ZD9iEsvfCwCLRi6iklVinqS7J9UdTE8oR7JNSqRxoLwe0Zv2lDfpsmNh6Z7bonqfcnLdgAxVbQ8BwKuNxLUS20PaXUZR3Ji6byuVyetBcKJ5ErJmxQVM+YHxMz1H5CU3c+7RZRHfFlE1Cve0T8pyOeC8ugkOPJVGYio6N1tK0Qr0rmAu7Icynv8ybzHJu+/P5n33ybvH5/M+4fJm3joQ5pfn3wHyh791v5n5N938teyd9rLd4r/jNJN7rNPZj4zec8/mffclvvpVpzZVpx/Ove5zU3c2qdyHx6a3ERMP5V7u7Vlf7poW/JH8spMMlnKtBia+gtmXco8JCX9TLvYPPIuYPFMPyMvXNHPygs7G/olju0t/bz14NAY0b/wjncnon+78HULOKs6MSARPn6d3hZR7HVKrNj7JsA9zg404A2bsiUKXZHI8FrF7BZQqdDYeSwWy9cWk2K+Nti3/OaZKdAJ46KKso/UvmNf45Mxebv2vQv4cAaKvRe5ctJXxdhNQ+VXDpX68XZryul5eheu5loWxYS4VVuDetgo+gkMv0zJNr9Mb2T3PQR0Gwx7YRz19RfIXlIxCPhjI/vd8pBLVUCbb8c+6nbrxTOi8HoJQyrTpJvKC9rCllWoNypKSHbZdb5aa5yctHsBgkMrG5nscgi1No7gwhK/2TAu+/7nfgpxs/Oo3Kl4B7JdyRdBVHx+EQJFFLUi7gVR/vlFqC9BQXmtoNNAPmW+4js4vfjeGxKZl9LkAMLzHqYnyXbFas8L3aJtMafBzl0WegBdNkg2E+fyLZL+kVQfaRgOPZy02b8Tn5tf1g19GQ1iNUwgrHpPK2KibLZoLM/+RxZlVzDiWqgXT0u7vBOP3S+8b4mwC2S1k7Qt+54nTY5B5/TVxlzNzdVbc3V9ciJO+A6l88JrK1iodnxAO+C8qe5/V/d/6gIPTFkkUb9YFitRsWGwJR7pN7rqokpIoJS1c6hB7FnFZrsyzhIcdve99Z7XhVbC6zr97O0NvG7HjoT17EVZMMqJqOe6GqX3EUDASDhZrTz2tTIvAnXXkrPK2bmJHgZxI3Ea9nHSrU0XPka6mXYTrU3sJ+tOyoNAdJPcGmSoQDWKFI0ZgIaNLtR7zpjAAcS87FBBNwuQgYo6iYdemIs18o32WTg6rRW531om8QjNMmkiFMRwtZYpxRElrtRoyxPpMLlHFIZFRU9RDkWyd+Ju0lHBVlsIW6ZJosLWjRAeTLl343o0bxEbBIzBQ7NPtc8Dee6G6ZA700EGsA0nn5gWk0/u5TwfkomZEHLHnAT1GTIJApWVkVOcUsKsm6hOlf1b6Ta4lQTyLN2ZzOVnNraUbfS5YgR7Mbq94ign4s4nphb75igPXOaotAjazZ2ZPqjUW7fMlidqMHO1RbJfXZY2AcsDBHdLOrzphgZPGbZB1qkf4qVZTrPkMdAGXA7QpQZc3Heud709e5gp1vZGrNfj0plGLmu7QpxCKNKlfUmoLSzX7G/QmLQ5q7pu3aUL+f003npPbsvUPVWWP3ANDC3/d4vqu0HGqPMtgABN7yIRxMjogMYfpXSjj05rKqnosldqGXjXmDojnEu0kW2XU3DZhq/gcK38/wYXuTgaDW++3B2P4cB/K+W4no+hb9or1plYFnuDi4trrzvCrlDlbL4M826iTPpHq8XsIX0B/CZ9Vjo8oeU3CmEnQJxUQsvm5wJoDyTel1HeHcku0nTRu7jg7wtKM93gwyLdgypd/QnCVYSyR2ju/xMKlluw7B191KhKMlv4Nyp6Np7DzGDv6noBz7ZMo4mnrrQkN2fJPmEHNTCfEoAzyeKKNJXv4jTt/f7dLy/cZWRNYmn5ON8CLIlbZa80DXkcbpG+OsLtysS2EH/ZjkGmrWE+zCo42j9PVJQfPQD6TKHRQeP1npjTRDJsLr/guYtwcDKEAYShOfvmOhYO8dm3N84R53I1nolVJXgh7zJGqpMVg+LSDizbLHucJumYssuWoOTrWUGZvJpspd8f2PcZ5PFR8X+0XWt320aS/c5fIWE0MhC2XklmzoYIhpFlx7ITxzlWHpuhmQkIgI/wGVGURIuc3751q7qBbgCUndldn2ORaALo6ld1VXf1vcmEbHXJs/6Rh+IROSTjWweWtQ7R9wahH5Pi78/MNGXX4Wx+sxfv6ZLuFQxyvHxrV1xSX3FJfrHN9RPNM41S/Sgqo4LnGgYyPyXcQcBRJNWmq/jCII/S/C3coPSgdTviApxiv8TowTJrSybcmhv7o2ySnicJFYxvrKqk19+/ubp6+fTb5wWNT7zTDjYcKrBXl+vZTXxPdaUnEvri6EdOrbWAcytTHJ0f0FtLLJmnUd04CIrcV9k88+yZseqoUf+veFIWJOPplzUZPBQILcVbGBcfuYRGZW42+EjkI5WPBqLDfPqJkhmYPQdZyMFMt0p6xc6VJ9Ml2Jo2vwWul2yoc7Urp0dYVQnpDhjX9XzSHoXqUHvyjdoGXkuMeUhZRn2AZWcaIV/PWrV2h6VHbUuDUZ7FIMk1qjVi4Gxl1zXvtQA4rTdzYEH+Zly1E/5opfxh51IMUsTdFN9TJ/fe6D/KnHMV/L8dWTbcfAr9Xm+2d7ohx+/V9cfDw/2iIbwtqZGA/of0v4uFME14VVW+gdp3lFDo5b1RQqwMrhj17hI/T37+W0lMa346PA9t7UeIkWW7MIsk6C4ogloRHZNLsttRsZiefXBe6hBGR+pNoedNY6GNSJsrq8i+4Si243MmN7u8ZWd2MI6zNhZ8HXQtZ7pZJPcB8tph0he1bpdCx+4/lImnaBSM4bN0xt3cjp1S3U6LyOop1e1YW9ydKYCwsiLOpQjLGRf8VlXTJQNtqEWDWr1DJll2Dpi7AXvu+VVlpjdmMI9RVJVKzQ5Q6lZK5EFHxfrVdepmupiMMrJY8txwIgfKpm5+gG8kMwRpor2EzBxM1L1MP862jodpMimLaOkhS1toueD38A8cGdqKc/2zo+ST+WCUxJM3b3XZy1YIloMfyiKEDYb8qfQZZ3Yyas+3lnr089ortSsvt/BaKPS21NVzKR/p7fqe8++e7R5qHxpr9jsq4634cUddMpQ78IWQfzX3w8M/lXuRsXnvjmw5TplSgfJTm3EUebznJvuAsrv3uCRFSWw5GkVOO0SJ03QEvJ8dgnzpYYeOd954Q+1xIexy2WKYTB7pC/p4yiiJc2lKojQ9RrkLH5Wg/BpbCve3R2RZGc1SFgH8kicetn4/IMbKjJoi91XtkHbMw6KkgSyWaxfAD1plfX8E1ebmr91HFUOKhiNG5fH9/PGVkb4ie8sVAbNXbrPvWCFRroYJxNbOsHSU7lw6qpo1Ohgr3/Qcbzaxns6ri0iZBDUVy0iwwsY0VVK6dgESZy1JWU7Kh8uRz6Kh6zd2vTrJbSQyvlDjSOxANeWzJX2jcZchAk17fp8DSKUqOMYUx4RnsA+1zMdCV/e90Pkscc806iPC6hZESv3Nxp8C0Sxaqik/69tlkp8a8TYAGHIfVwUmZm1tDhB9JieFIHkBpR1L1fYDIy6IfAZco7anWBs43uGTNWQkmmWE3L/SnSR4YOLvXQaMcEE7XZhMTr0u6PjyxdJ/xSLhkpmhPgbc0DRKyFpHemugsdJz02domz7DLt8VhENqVyxbT3G+MaQqmapM92O6GOYX42go1lFbf9KN46AFWBjy28YA3Bp3PsWfz/Dn865dzWPzGhzzLK09VNU4lQMHwrmCu49W8IMxFcRspy6s9xMamnCl0ufjfLW18B3kAPpZsP24RqkfKI5J/xFArjL87Z5bt8iXFMP78Xra/pl62ub15FaTWOrgRhQDkdxr8cbdCmg5vbK2fh/G2bqVCo0l9qPD7D+t7e2HaztDPJjY+Y3YNvQ1XFBMhn6YdYYAw+tSN2ap5OBKbtHvrn5ZCb3CSXu1kki0ZYI4tH4cPeBQZstDNKWnLq6uWl4CLKQf31Ii04Da5Kctz2Il9tQruvv3pbdVP0c/laneYnr9ywQ0qT8cm/hOodJi9KXaENVu+MpJx3MTJH9bn4xSvUki79hT31ANrulf6xffMwD1nvo8UOWkT9UpJFCl5LNAvaZ/rWXP917PZzdDjxOsa36KUn7JEz7lp6yEMySkKVIYnB1Hoa0r+vHyEpcMj8+/2pcN+n04tH9XR2d0j510JknTKec6muGQN7/ITaA3kT1AKVcZdYRUbnET+JalPDWZ0Cym0z8L1HP6xwV/Fq89vsyvuBLi+qWds0//wUdXWFQf8dHnr79/DSaUlvl61t2qf5ZiFY7OPokNiM37+Sx70+8vs5siGDOOfMZERwSj5wVN/8cec3t0gGDu9Sfz+TX9kGSjiUe+8MnfScBPg6a+idHX479KIlT3Kz6s0G51fl2/Ti+H02X8z+dPus1gQ2lPOP1Jd/PkSfDJE0563tysm5vXzU3a3Fw2N8PmZtrcLJubePPPIECQ84l6yQcjjtrv0ubBSfjN7p76IosO/JfU5vi8jIPwdXFvI6eh1QfNUrrHQqB77ikd312qe41IkPDQ2mwSDfKcMKCnobSjalPmaJ1vRurFfCoj9eXzvf7oHnB4wgPNrzo8pC/3AKG5NFd4c1Cev3N7YhDlKFRXP70QuspM7905iFSJoMGKaGTxepxLiy9bkhomgspJbsHYDV9OGNzAHzBOontuSfB6t9RfNaLItFc6icQHiA0czr6BukujKTjUBkcgcA2fA56hipX1QCb3/BrO49npaQkLMBbzLDZ4cP3ySVgBNAa09H4sQsoJ7Y63vE4A40EfdAO1E5e+7hhtLmLMIiaPivjFFyUJXTRegPCGkpXAZH9kw2VuwzGbj5d3EQ9A1mgcWKB2m5KJK8dWBgXinouQD4hGQXkmKysOFHXoPrNdIbu+AjlloOtNZu1bamELYLx1rlx0cCRYQMX6khGl9XcD8tw634bfO0M2kwkMxyVQmqWQQWtmUHNWSQbp26QG39M+c2Ofl9ONJESLDNuOhQA9vkmRPT+/8PQ4z2FWvk+qo95qbkcXaCeBz8ofx5xqXAanrkujpl0dRsy0gSwYBCPCqfBFz89gI3vLVW86opKNYQ5hjB6kKMN87aAqJ/Zm6c9x5dkt5uAzA7o8Fb7nXeD2zBosWm1goOuHh4dwKtVQAR2SYVWCR+SZltDjwYhWvGKJV5Bhpm57ZnTSNJWl0duETMlr/sS095bPu/RvFhscZOE/y6CFc2+AAms9nKqz7bu7T74K2jgfF/itzunRFzS10OXJBji/7+7+st86bjejw79+tf/u6N1JV87INK7w5k589J4e2P/LwV8Pn3zSfHcStX/9128Pm+2/j4+6za/0z/TVf3dcXASfHJyM1A/mcN67o807zpHmK/pDCcf0l1S7HNW7SqIH3pi/76lZOajPwHajG933nGtq7B0A4rmGymwUW1602mx+yAwKcY7I4iKI59SVqF/G1Ik1Wkk7blm0PcxEvuPJs9xSWJJ6+Bb8u/mPP2YMRUOuWwlenN9XhtCtDuY9p1TAefb4lAx5XtPRjClFqjVhyc232SDJGQMSeypzMX8b8T8iHB0H/bpb0aQOayTF8boUfGcfJUJ8XxYBW7ElEeIv/7QEH1eFkqVpkVKu656BqN5WDmnt7o3xDlxlyoddllImb/NuyIDKtaWp9HCuimk8+j+QiV9TkeqqkKrx58S6jtPRvGZb+Bk1NhtpWKliO8nDJeUMXLodRhVpa+Bbaqw1bBNW4eGzEjx8Kv4ns0tCwipguv3OSN8OFJQCJJ2BrXMEXr6Bq0jeBbgxPN2b39cUVMMJMHL+SrCayMrA9dc4DsUJ4ZqtRGANkL9JxcFFH177zor4mKLbBfvY8rvFLrpB1KjpMjHA/Gt7Q93NQPzfPq6eza3tAWLqtmo4StNsRnaQ4NzhuD9PzPSF7JEMn31YHOdbUp9kEfXi9CVD/XfVMIGFZNGjL2ejft8hRLccQtd90ZB9La89G4CSfVKG1M5HFvaKr5LOS7IJEUcVdGms6NVNc5NiVUXztFoxxPkRK3dP3ciVZinx1OuYrw3ph6fu5AZmBPHUTyhfYd1Ved4tG9CyC8VRU3U46o6KMKl7Yz+2yYEaDjtQ30G7zlx2oH4BdZ257ECyFT1FTYqdJgl5R4skwvb4u/g7HeOme0h+YMfqYEUanr9gNgSDymr9aJOnSEpOraKfNqRBcmnxBkkCExGJkgrF9BtAZ0mHYGBwvf8aCveGRUQgfYZpCGZyD5DzdTrYCDKzH2qG47mRQo+2mkHxjDWxpyP89RFS+oZBGG810SeAUywsR7IxUXEXuaEKZI3bnlpEp2qmW8EwMNHAdNiRGmOmR5KbdpAKUUeZdeIuSbDPYEltH5eHh4ujIwVGDX6Fcutblesb20t041lQ/uXUffJMLZrNQM0YZTBRYwawUZMKvw0/FRiYg12EPLV9wu405b4Oxh6ni7+O7TxytVtkYsI3rY6eljLKQRUMwZAqC3KmyoK8Zi4kSxCSTFeDJiIKNKpqPo4cFzaNYh/zQVgelsJk3vArwzVVQ4nfM6+tGXkuBMb1+iH2g23CiwwAeEGOTKAi2Py8v1KsQrhL7Uk01Xb5dUm8fD/o2tYICuPUsD3Pr92ngNd4dBQGSZR2si5ooq5dNhp0XDuJTMtrMy79wGJ9CEiFv0hrFjPMdNHJh77yfm2zR9i1XeSfsspqjGMkZBKSlzF3722vyl9GFbbTb+yX/Ubhxdmql3p5Tk9pO2a04gRvVtu8pbmaDZBMiGZmA7mX8wvUKHmkinbOqHYAYyZ0WQKbi6Go8fWsDsbkgeYWrL9Y5mpQdr/MfeKA2SEej9yJteNa02bgmDCrmYQtMhFZYSMWL7LqYuBnDvMO++/q8rEutbu5nJ5DjtWJ4ejRcP9oF7QeFr80TQ8AQgNsMskvNJkocLI+Yo9hZnuWs5YwilsM8CzDbDIIyotjBrmNGXds9Lbtx/pgoFJpxxbSc2spz+6eG/dpGtw3W1FcqT/z+gfACDaMOrABEcLBiXpVV9nOemn90rWW7WfDDkRVqPmUnCYZGI6+3Esww2SQP1ECP8QzuSLM73KqtfxK03N+T6Pb2H+oSow35vMDbEjAQoFbtNgAtca9gCIYTGVzK/k3s8FTuggKPW2S3OmEzV3qgdESiw6xWdqeMEKSDcNSA+7hMEpDjgSTkziEmazR6jwNunPg8OY5hasUIeF+kw9K90VebSlY+q4ap2JtZ5YNXdsjyuvW2cfKNtDluryZTgxqaeK7qWnNBKkjFft8+A+EFQUz/NZZxM2OsU/qy37V9Yr0OL+Vn8QyDijNuazTNPqp53ui8+Zy8SYl1UWXM7kElwFvwy12dTn2GXQ/BffMPCZ/dYm+YxsvqJKEf+Op4g+q5epwFPBx2Rc2U6f3lafyYfq301PI/btBSGfveC/tTeQL43yCnk2+rRZ7OfLnnkEGlS8QbK+ACN0rMET3NMMbPukF9Jc33ffE/dzrz5PVcq83WZFSnC/WYGjbE+a2WlTB2q2R3xNsjXSq3asAuKpUs7U1kvoDhiuuGUfozfQNKN6lDanqmgHCnBsPB7yq3gKoolYuXb19ccMDocZ5zIW8uY5ny2SySmm2yh3PvK3+TipVn3jivX6LqMpTBwc3kx5S3cnNckt5U0BN1TBMbCX00uLkphp5CxLC9hSRTBHdN8vuEDNr06eid3YMyHSz2Y0qO4t7ZPDt4c2tPa8peTSZuGscPQiMYQL2P8H2Aiqq2QZgQE5yYQCQNsyRwsg/5J0kNUW81bEx2eiHqf4Bp0iH0bOePz7m92Pbk/uezfQJ1kfhHlRjeU7ap6tW3DBY2IeKutFK7QIcIuLuJ8P59VWC8eO4/1qrVQy/IrDYXgu5OLfa8vNSW9a2vDVorwA6OV9Up1QOuBOfeoyanvFLNpvx8fI6oZobU/cFgQQjTk3oEhj3Sy5Lpb/Tu9Qf6ka9kjfekWe7Ukt1r97bM/2SKntZNM5Sb/OtKHllN85K/4DF6kw3x73dHEvTHMvoXt3L3VtY6mYC59F8vnxbxJ7408DprVJw6537T/0JaBQOD/f72lzAdQqN/kfUbN4B1YL1uD9QD0wTg1CZ4+VKzj+VLLY/sA9a8LvJcAhvjk0fieIwjl5h3NsPvsdZsxy6jnciaODBhFuRC3VPD1FFZVPoNprUucFc+g94xyI8SM2CY15XsFUNy3V4+B6b3yDzrX3ZWzJ8M8xVHsbUexy3KwSX2hb9pL7hAWCQ5Oo0065+fISObFnYuv+Vbex8WKQykw5yQWha08DYcroxACQgZLqV6bEYMX+rMSh37YoKFLTlVr2cjW5kJ1ndyYvt0VdYrc8/ozvuUyuIQ+00vIqQysbJw/bEgL/adXVerggnprNP5V7NbkiN9bV9dsfxpgMx2uxEKME+EEjJKthsSMtjdZlLNxWGwQWCvGY4vw5W3Kv1tDdHQDvISEkb59c3ZMvjfT5ihpZB2z+GLU8zf79UsBvD3Umjd9J56Sc5m5eH5z2H4IsjkJYSEx50I1d+TK0BBz5M7DzIQF2AnSHx4/w9qZo1xwyTMWxeB3qVfce6hrXXZapiLKEsQuWWExh7XpgAwn/C4Xvx8YJMjXhyAVLIo2ERx7ggObl59k9t6499BsuepZ65Ti1To7FjOdh0DV7EfJstaILMXYYPzPPUCZ25YcfUrjEbSLHoYMH+scmJusewIJwFsCvjsgK8ddkczehPkeK3W3RNEiVj+uytnR+DNm8gk7GqZuqapoaluiPF/nAwSluv4q0miZTl2tT3RkwTOwSr4YQcZJrvJ51Pu6E/oc/PutTbFuSS0Hw9q5zNvsPs0bkD63u46ixBDbLS/JRRmjcRlXmFczn+dWnlVN/wKmZA0Zu6NV9s306i/Bz+r1RuKufBuztEgb3z8+9UYCVVpq8DUPRWSjpKuayNfhAuuXQ06aDId1JktMhTWQmWDnyBeVxkGlesWTTjJBpgzWqB6t2qC/VCXapbtVbn6pkO2U6xaRqso5gG+2yzETrpB/5+E65xE1bsLoWuIi7jTFwCH+XA248uC/zHw8O1rB1cBuGamZpoQrmI1nngb/RMfy3SkEc/Og37X47DvtBnXEbYkFq3+611p0+aO4o7l/hY+ChCP1DnsX+rvN+4k+311r/tjWhOUk/LIt4GwXn0tHPbVRrMkb+v6E9EtUCvjs5zVIJVzcPSOn/4z8orKbFwA1Ife9qJj0cpuhnpeWrHdLVA4ORQ3QYh5/BAPft2G3Km4F43Nfo0qIiLGm34kPgSa41kfp4b8zPR9k4f67x9V5zjg4PvXvzr7fPXb356/oz5o9S5yGdZTxhCp1zXY6vqdZU/uBUeSoWH5xFKgGIcAbmURp18FaE69kWOYiNErzr/4OFFpL+Gi2gSpvO9RbRw8M0l8nlxeLhwigHCS8nltLsfLbB2xeahXSdsB93T8Mc4NLefl+WRs2svML2JsfUC2uA2hIJ4AQVBXfWF0Qx9fGXc/wiHwfkS+FgRzlpfHJ3hejpK00kW7fvm1s1G38Uvmqep/Aa3jd/i98HXGuqK2Gym/gu3ATux5fw0dnk/oonhAQ3F+Ulci9DURGxyil6YSoSBSDWDfnpOc87TaKVnnvcf8iCra0C2q3c1nN+5hAgdMNEHbc9aWPBanll28bqgrCYne4gobb3EsfzfyXBJr6qXIc+15YhTJ8M5m3A19p7kA4OP+b1KWNcIc5CNmT/8tPRbcpyQ+Z8qXsoJefU1YTyELRsEpK3cctfs4ZcMP8sqvmIcXcehKzagyxtpwM8F0DmVc4cRbZ3T4IMz9GcI9e82NucJEvb5rMKwQ9M5jXBRMLNoahTM4stZ2Gwugmln0S2Auhf5DfkTw/ITmid6TA+GQzxdqLIQb4uuQ+OSX7shekII6C8UBwaOi5yGxVeGVBhIzXS8fa+ZdhEVqK/bXjdItAmYYXLDBoqrdwtoeKNWhhbZe2GO+W7flGfSY22jhfoMUhKEjWL5oohiVBIaowfrhfYzHrX1/st2n34tekrtFoUsilq1kDfzz2SSd6NHfmPih0d+12dfLGEHSksrR0kC9ez/tzzUipF94UpMCR8h4tci4s7MhFHKii74IX8ZQgzm1wvqPB6iCkBRMnBWA0h986YYtb0Fdy/59lk3lBaOHlcQnmPiVxxbVmjMPXdCus+8GaB5HBwjsA6I8hulioOO9Bk16nf/nYnT8UbOLOIkB29bWvmRyAPX5d+xMi8+TMmHEI8hXpY8BUlmstV6R6JJugOJueEtfz/hExeagMJJd01xK/UdR7b+SU/m4EQBQN6OL0AY+GNBSx1PeCCofvLN1q5quGrcihAqAsYlfKg8Q8lyFZ9qHcLKJy9eLcIpb2j05qtZGuWhLZQ6mo1uKo4SDIYFEKqm2B2RNo5snXWO47lPPM1uKvtcT0jfYYV8/zSc2NvzvGHPbIJgDVrkigzmnVH/AbKSi3JuBkUGdvFCp4DnTIx3gK0rN7tYg1RJRMCPs/FsfjfLH9U5VX5yipdEXptsKvb0yK5qe+FCyx9ySDuPywUudOpCH18wNIq8N4OccqnrvMVh2dhHgAoN/N1BA/Win3OoQ9lx1257Hig2LDah07qwQjk0mVp1SZrRrvW2v7Yab12sziZcDbGJsj48vKurjqD1jJvuri33g6c929FKWxNHyfPsBwMp6+XCdpwbX8n5BjJ75vUysQdOFj5SN6C++gUriVZQALiLjkHD5OvRUGKnSnJqzeipXhNOdIQrpKiNqblHZG/DyWaz8bNoXMpbpXbcS/Dn6izH/PnoAuQwP0keolup4rhUuQvuiAMnXtHk/T99HWtv2kjwe34F4aLWqyy0ke4Redn4GsJFqL1KJOm1kusPgCmmmEewMWDKf7+Z2YcNhEhIrMezD+9jdmZ2dmZbrboUdAo2CaB4IV2XSHkuUmDDShZBIpdr8pKqw0rdyan3tefkzM35Pe/wpuigEiRBszB83+JtskVCrQFIdJ+clJE7z8QMoB8w3gSOr9mwThqbIPF2/EkgU78J4gfteytoe4dxhGgrFFsCiHVYIhZyb9UXvNm4p4K2kWxiC6aYuoPsdAWZvANHpdhAxqO26PjAV0U7qv8s9yOMojWnyvFARTh4RTdESxCdopvN5qI2EwsP55Y9LVl5quHuM/2hWn6FrthgKwjpC3koVxRYCPX7CscNZQpPKgdPZPLrV8hES8YEgMSt02JeC01KI+OLMXRtTVMPv9Jt8rjbG8Rui5spgy6ydwtoeGYtIFOvi8NtDXGwIDw1opyQsFnPkx1zoSEvoHsv4gPHwWAqKPHhzoaoFZ3GnejgsISy73cCoTpRGI1HQ3Y8J5Vbw+Zp+dhh2sydaiI3P6pOEBnwf8dz6acB18qtnGz8FMeWGl6ejkTkBirlqcxR85aqzOfkl9ig7Vd0pnEkjm2LzlBEU3/VfSEUmcmWyAinLAxw7jcvr1AB2iqkCXT1qiqUiUq9edNSqmb9xsCRmoxCwhuFiKRONUYhAfCt6WnCKYhC64jYF6glROwL2h9U+ZnXlpnrtOXSdDejGqmyoxJLxajG20bnejqa0WvrUdIIHKYLFllMk6IovM7ptXTkqTZzS+OhxrENCLKtl/rlpch13980BYN6oYnMZjGbDinz7Ny66Qi2UZjIPx8hk06d1L6wtGHgJ9r+0qgZvw2MvjtFgQEdUii74b4TUTigCE3EQDqP/N/p6c+Ag+Ds/xHwOeHoyED8WefwMIM7YXxNgL8g8wrwrwMPH68DRmHA+Eb6vu3SH3ax7QKgwMjNORkDisyzI2MRHWPeviEloxVqfpzaoAanNijet7SfEwmLUIvN59AfS54pMq8UmH5AVtLLQpM5bywFWiCrWIsbfw48kryClWidIMSNVMRIGaAcoq2xHSMaLzvpgI5HinkQeDMrJIJNWs0VFZ/B+swahuIQBlDaPmqWFak9R/QMqlIbiX4NlF5L+8+04+MtctI94zmLqg53Dg+WTcTGsgioTgsJQUQdDPSltlClZH550CLMvx0TyQ911CNVedE4XvpWblGvGhvsG/Op+ABzStEO/HQDsDQAb2MOD/iEsbrfMrTM1rg4hYN3eOkSZzZNgqmcYIzUiUSQtkce2/DmMJ5ok6AFUZ6hBTYeH62dI7cRhr9h/MOJ1yRYIsKmoEtirIkv1pzjeaqOmusgecjtMUajRT5MzOjk/jjQfNJ2JTNAHDzDp+menpLg5Ux4xs82sIUro5PXLSbflxwmojW4p5irCXMXXmySkUrwqT51H71u1aeOObdWyqOLOoUYdkp2fd0C09gF3zkDw+pqu1dkYIl+M/LUMUTN4Z6tpHltzbjLClRjPxvJkjUPnkJqWz014/YvT0TF9d+TWAI2xbiQj73wWHy5Yi4QXTH0CtPPAy3G4NDoU3SVsXq8J9iitBgXUjUxzO5ZGWL6TISnLx0flDko7szRoEfHHh72FDPiqQ4keBl3F/XebJYCWnfuoVeXWTxAF3dO9euHh8/tz/du5WkxIj+HFbTvqehclclsgfEIutPKbNof1EGSc5zbrnyq/+wsB4sNiGG36F8MPsBz1vK2y1sOAbg2FvyoD8v4KKFJ+Wig5eeyJvtjt3R7m5tAn5RDp/neRRr1pgRAxV3P0Up/lEfpd6WgtD/hKKufAiqvNRqG4utaPvDHrtkg5Jpf9J1HkHqBlDAK3bO3fX3rO//xEGM0ws9ZgYA1W3ET5p2Js3MFsgNxcdFP5ijAHsB1dY7NqoW1CCqsMquNeNtI8DCiQt7BlU4Pfe3c/I3yBkzMSvXL0z+166rwp8Pv310y6gy4b+w7IYnzv1Z6Xpce6ibJ6wWYoHhisg1HyTzubtwpEMzK+WiCwQLRi/eO6kIbcovSi2f9sdhhVn3MUSNQjVSuFHQ+2RZp931S6cZxqczaatAbj9Laazg707IaLKsaOizIBra1NTUH9ltUztx4R1158xZG6d273yrKMOxfYFBG0+GXh0/SDA0sqPrPBJi2+dn/+u9IfI+eAQA=')
},
{
'name': '/app/bower_components/angular/angular.js', 'data': base64.b64decode('LyoqCiAqIEBsaWNlbnNlIEFuZ3VsYXJKUyB2MS4yLjE5CiAqIChjKSAyMDEwLTIwMTQgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnCiAqIExpY2Vuc2U6IE1JVAogKi8KKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkgeyd1c2Ugc3RyaWN0JzsKCi8qKgogKiBAZGVzY3JpcHRpb24KICoKICogVGhpcyBvYmplY3QgcHJvdmlkZXMgYSB1dGlsaXR5IGZvciBwcm9kdWNpbmcgcmljaCBFcnJvciBtZXNzYWdlcyB3aXRoaW4KICogQW5ndWxhci4gSXQgY2FuIGJlIGNhbGxlZCBhcyBmb2xsb3dzOgogKgogKiB2YXIgZXhhbXBsZU1pbkVyciA9IG1pbkVycignZXhhbXBsZScpOwogKiB0aHJvdyBleGFtcGxlTWluRXJyKCdvbmUnLCAnVGhpcyB7MH0gaXMgezF9JywgZm9vLCBiYXIpOwogKgogKiBUaGUgYWJvdmUgY3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBtaW5FcnIgaW4gdGhlIGV4YW1wbGUgbmFtZXNwYWNlLiBUaGUKICogcmVzdWx0aW5nIGVycm9yIHdpbGwgaGF2ZSBhIG5hbWVzcGFjZWQgZXJyb3IgY29kZSBvZiBleGFtcGxlLm9uZS4gIFRoZQogKiByZXN1bHRpbmcgZXJyb3Igd2lsbCByZXBsYWNlIHswfSB3aXRoIHRoZSB2YWx1ZSBvZiBmb28sIGFuZCB7MX0gd2l0aCB0aGUKICogdmFsdWUgb2YgYmFyLiBUaGUgb2JqZWN0IGlzIG5vdCByZXN0cmljdGVkIGluIHRoZSBudW1iZXIgb2YgYXJndW1lbnRzIGl0IGNhbgogKiB0YWtlLgogKgogKiBJZiBmZXdlciBhcmd1bWVudHMgYXJlIHNwZWNpZmllZCB0aGFuIG5lY2Vzc2FyeSBmb3IgaW50ZXJwb2xhdGlvbiwgdGhlIGV4dHJhCiAqIGludGVycG9sYXRpb24gbWFya2VycyB3aWxsIGJlIHByZXNlcnZlZCBpbiB0aGUgZmluYWwgc3RyaW5nLgogKgogKiBTaW5jZSBkYXRhIHdpbGwgYmUgcGFyc2VkIHN0YXRpY2FsbHkgZHVyaW5nIGEgYnVpbGQgc3RlcCwgc29tZSByZXN0cmljdGlvbnMKICogYXJlIGFwcGxpZWQgd2l0aCByZXNwZWN0IHRvIGhvdyBtaW5FcnIgaW5zdGFuY2VzIGFyZSBjcmVhdGVkIGFuZCBjYWxsZWQuCiAqIEluc3RhbmNlcyBzaG91bGQgaGF2ZSBuYW1lcyBvZiB0aGUgZm9ybSBuYW1lc3BhY2VNaW5FcnIgZm9yIGEgbWluRXJyIGNyZWF0ZWQKICogdXNpbmcgbWluRXJyKCduYW1lc3BhY2UnKSAuIEVycm9yIGNvZGVzLCBuYW1lc3BhY2VzIGFuZCB0ZW1wbGF0ZSBzdHJpbmdzCiAqIHNob3VsZCBhbGwgYmUgc3RhdGljIHN0cmluZ3MsIG5vdCB2YXJpYWJsZXMgb3IgZ2VuZXJhbCBleHByZXNzaW9ucy4KICoKICogQHBhcmFtIHtzdHJpbmd9IG1vZHVsZSBUaGUgbmFtZXNwYWNlIHRvIHVzZSBmb3IgdGhlIG5ldyBtaW5FcnIgaW5zdGFuY2UuCiAqIEByZXR1cm5zIHtmdW5jdGlvbihjb2RlOnN0cmluZywgdGVtcGxhdGU6c3RyaW5nLCAuLi50ZW1wbGF0ZUFyZ3MpOiBFcnJvcn0gbWluRXJyIGluc3RhbmNlCiAqLwoKZnVuY3Rpb24gbWluRXJyKG1vZHVsZSkgewogIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgY29kZSA9IGFyZ3VtZW50c1swXSwKICAgICAgcHJlZml4ID0gJ1snICsgKG1vZHVsZSA/IG1vZHVsZSArICc6JyA6ICcnKSArIGNvZGUgKyAnXSAnLAogICAgICB0ZW1wbGF0ZSA9IGFyZ3VtZW50c1sxXSwKICAgICAgdGVtcGxhdGVBcmdzID0gYXJndW1lbnRzLAogICAgICBzdHJpbmdpZnkgPSBmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgaWYgKHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgIHJldHVybiBvYmoudG9TdHJpbmcoKS5yZXBsYWNlKC8gXHtbXHNcU10qJC8sICcnKTsKICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICByZXR1cm4gJ3VuZGVmaW5lZCc7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqICE9PSAnc3RyaW5nJykgewogICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaik7CiAgICAgICAgfQogICAgICAgIHJldHVybiBvYmo7CiAgICAgIH0sCiAgICAgIG1lc3NhZ2UsIGk7CgogICAgbWVzc2FnZSA9IHByZWZpeCArIHRlbXBsYXRlLnJlcGxhY2UoL1x7XGQrXH0vZywgZnVuY3Rpb24gKG1hdGNoKSB7CiAgICAgIHZhciBpbmRleCA9ICttYXRjaC5zbGljZSgxLCAtMSksIGFyZzsKCiAgICAgIGlmIChpbmRleCArIDIgPCB0ZW1wbGF0ZUFyZ3MubGVuZ3RoKSB7CiAgICAgICAgYXJnID0gdGVtcGxhdGVBcmdzW2luZGV4ICsgMl07CiAgICAgICAgaWYgKHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgIHJldHVybiBhcmcudG9TdHJpbmcoKS5yZXBsYWNlKC8gP1x7W1xzXFNdKiQvLCAnJyk7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXJnID09PSAndW5kZWZpbmVkJykgewogICAgICAgICAgcmV0dXJuICd1bmRlZmluZWQnOwogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZyAhPT0gJ3N0cmluZycpIHsKICAgICAgICAgIHJldHVybiB0b0pzb24oYXJnKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFyZzsKICAgICAgfQogICAgICByZXR1cm4gbWF0Y2g7CiAgICB9KTsKCiAgICBtZXNzYWdlID0gbWVzc2FnZSArICdcbmh0dHA6Ly9lcnJvcnMuYW5ndWxhcmpzLm9yZy8xLjIuMTkvJyArCiAgICAgIChtb2R1bGUgPyBtb2R1bGUgKyAnLycgOiAnJykgKyBjb2RlOwogICAgZm9yIChpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgICBtZXNzYWdlID0gbWVzc2FnZSArIChpID09IDIgPyAnPycgOiAnJicpICsgJ3AnICsgKGktMikgKyAnPScgKwogICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnkoYXJndW1lbnRzW2ldKSk7CiAgICB9CgogICAgcmV0dXJuIG5ldyBFcnJvcihtZXNzYWdlKTsKICB9Owp9CgovKiBXZSBuZWVkIHRvIHRlbGwganNoaW50IHdoYXQgdmFyaWFibGVzIGFyZSBiZWluZyBleHBvcnRlZCAqLwovKiBnbG9iYWwKICAgIC1hbmd1bGFyLAogICAgLW1zaWUsCiAgICAtanFMaXRlLAogICAgLWpRdWVyeSwKICAgIC1zbGljZSwKICAgIC1wdXNoLAogICAgLXRvU3RyaW5nLAogICAgLW5nTWluRXJyLAogICAgLWFuZ3VsYXJNb2R1bGUsCiAgICAtbm9kZU5hbWVfLAogICAgLXVpZCwKICAgIC1WQUxJRElUWV9TVEFURV9QUk9QRVJUWSwKCiAgICAtbG93ZXJjYXNlLAogICAgLXVwcGVyY2FzZSwKICAgIC1tYW51YWxMb3dlcmNhc2UsCiAgICAtbWFudWFsVXBwZXJjYXNlLAogICAgLW5vZGVOYW1lXywKICAgIC1pc0FycmF5TGlrZSwKICAgIC1mb3JFYWNoLAogICAgLXNvcnRlZEtleXMsCiAgICAtZm9yRWFjaFNvcnRlZCwKICAgIC1yZXZlcnNlUGFyYW1zLAogICAgLW5leHRVaWQsCiAgICAtc2V0SGFzaEtleSwKICAgIC1leHRlbmQsCiAgICAtaW50LAogICAgLWluaGVyaXQsCiAgICAtbm9vcCwKICAgIC1pZGVudGl0eSwKICAgIC12YWx1ZUZuLAogICAgLWlzVW5kZWZpbmVkLAogICAgLWlzRGVmaW5lZCwKICAgIC1pc09iamVjdCwKICAgIC1pc1N0cmluZywKICAgIC1pc051bWJlciwKICAgIC1pc0RhdGUsCiAgICAtaXNBcnJheSwKICAgIC1pc0Z1bmN0aW9uLAogICAgLWlzUmVnRXhwLAogICAgLWlzV2luZG93LAogICAgLWlzU2NvcGUsCiAgICAtaXNGaWxlLAogICAgLWlzQmxvYiwKICAgIC1pc0Jvb2xlYW4sCiAgICAtdHJpbSwKICAgIC1pc0VsZW1lbnQsCiAgICAtbWFrZU1hcCwKICAgIC1tYXAsCiAgICAtc2l6ZSwKICAgIC1pbmNsdWRlcywKICAgIC1pbmRleE9mLAogICAgLWFycmF5UmVtb3ZlLAogICAgLWlzTGVhZk5vZGUsCiAgICAtY29weSwKICAgIC1zaGFsbG93Q29weSwKICAgIC1lcXVhbHMsCiAgICAtY3NwLAogICAgLWNvbmNhdCwKICAgIC1zbGljZUFyZ3MsCiAgICAtYmluZCwKICAgIC10b0pzb25SZXBsYWNlciwKICAgIC10b0pzb24sCiAgICAtZnJvbUpzb24sCiAgICAtdG9Cb29sZWFuLAogICAgLXN0YXJ0aW5nVGFnLAogICAgLXRyeURlY29kZVVSSUNvbXBvbmVudCwKICAgIC1wYXJzZUtleVZhbHVlLAogICAgLXRvS2V5VmFsdWUsCiAgICAtZW5jb2RlVXJpU2VnbWVudCwKICAgIC1lbmNvZGVVcmlRdWVyeSwKICAgIC1hbmd1bGFySW5pdCwKICAgIC1ib290c3RyYXAsCiAgICAtc25ha2VfY2FzZSwKICAgIC1iaW5kSlF1ZXJ5LAogICAgLWFzc2VydEFyZywKICAgIC1hc3NlcnRBcmdGbiwKICAgIC1hc3NlcnROb3RIYXNPd25Qcm9wZXJ0eSwKICAgIC1nZXR0ZXIsCiAgICAtZ2V0QmxvY2tFbGVtZW50cywKICAgIC1oYXNPd25Qcm9wZXJ0eSwKCiovCgovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCi8qKgogKiBAbmdkb2MgbW9kdWxlCiAqIEBuYW1lIG5nCiAqIEBtb2R1bGUgbmcKICogQGRlc2NyaXB0aW9uCiAqCiAqICMgbmcgKGNvcmUgbW9kdWxlKQogKiBUaGUgbmcgbW9kdWxlIGlzIGxvYWRlZCBieSBkZWZhdWx0IHdoZW4gYW4gQW5ndWxhckpTIGFwcGxpY2F0aW9uIGlzIHN0YXJ0ZWQuIFRoZSBtb2R1bGUgaXRzZWxmCiAqIGNvbnRhaW5zIHRoZSBlc3NlbnRpYWwgY29tcG9uZW50cyBmb3IgYW4gQW5ndWxhckpTIGFwcGxpY2F0aW9uIHRvIGZ1bmN0aW9uLiBUaGUgdGFibGUgYmVsb3cKICogbGlzdHMgYSBoaWdoIGxldmVsIGJyZWFrZG93biBvZiBlYWNoIG9mIHRoZSBzZXJ2aWNlcy9mYWN0b3JpZXMsIGZpbHRlcnMsIGRpcmVjdGl2ZXMgYW5kIHRlc3RpbmcKICogY29tcG9uZW50cyBhdmFpbGFibGUgd2l0aGluIHRoaXMgY29yZSBtb2R1bGUuCiAqCiAqIDxkaXYgZG9jLW1vZHVsZS1jb21wb25lbnRzPSJuZyI+PC9kaXY+CiAqLwoKLy8gVGhlIG5hbWUgb2YgYSBmb3JtIGNvbnRyb2wncyBWYWxpZGl0eVN0YXRlIHByb3BlcnR5LgovLyBUaGlzIGlzIHVzZWQgc28gdGhhdCBpdCdzIHBvc3NpYmxlIGZvciBpbnRlcm5hbCB0ZXN0cyB0byBjcmVhdGUgbW9jayBWYWxpZGl0eVN0YXRlcy4KdmFyIFZBTElESVRZX1NUQVRFX1BST1BFUlRZID0gJ3ZhbGlkaXR5JzsKCi8qKgogKiBAbmdkb2MgZnVuY3Rpb24KICogQG5hbWUgYW5ndWxhci5sb3dlcmNhc2UKICogQG1vZHVsZSBuZwogKiBAa2luZCBmdW5jdGlvbgogKgogKiBAZGVzY3JpcHRpb24gQ29udmVydHMgdGhlIHNwZWNpZmllZCBzdHJpbmcgdG8gbG93ZXJjYXNlLgogKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFN0cmluZyB0byBiZSBjb252ZXJ0ZWQgdG8gbG93ZXJjYXNlLgogKiBAcmV0dXJucyB7c3RyaW5nfSBMb3dlcmNhc2VkIHN0cmluZy4KICovCnZhciBsb3dlcmNhc2UgPSBmdW5jdGlvbihzdHJpbmcpe3JldHVybiBpc1N0cmluZyhzdHJpbmcpID8gc3RyaW5nLnRvTG93ZXJDYXNlKCkgOiBzdHJpbmc7fTsKdmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTsKCi8qKgogKiBAbmdkb2MgZnVuY3Rpb24KICogQG5hbWUgYW5ndWxhci51cHBlcmNhc2UKICogQG1vZHVsZSBuZwogKiBAa2luZCBmdW5jdGlvbgogKgogKiBAZGVzY3JpcHRpb24gQ29udmVydHMgdGhlIHNwZWNpZmllZCBzdHJpbmcgdG8gdXBwZXJjYXNlLgogKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFN0cmluZyB0byBiZSBjb252ZXJ0ZWQgdG8gdXBwZXJjYXNlLgogKiBAcmV0dXJucyB7c3RyaW5nfSBVcHBlcmNhc2VkIHN0cmluZy4KICovCnZhciB1cHBlcmNhc2UgPSBmdW5jdGlvbihzdHJpbmcpe3JldHVybiBpc1N0cmluZyhzdHJpbmcpID8gc3RyaW5nLnRvVXBwZXJDYXNlKCkgOiBzdHJpbmc7fTsKCgp2YXIgbWFudWFsTG93ZXJjYXNlID0gZnVuY3Rpb24ocykgewogIC8qIGpzaGludCBiaXR3aXNlOiBmYWxzZSAqLwogIHJldHVybiBpc1N0cmluZyhzKQogICAgICA/IHMucmVwbGFjZSgvW0EtWl0vZywgZnVuY3Rpb24oY2gpIHtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjaC5jaGFyQ29kZUF0KDApIHwgMzIpO30pCiAgICAgIDogczsKfTsKdmFyIG1hbnVhbFVwcGVyY2FzZSA9IGZ1bmN0aW9uKHMpIHsKICAvKiBqc2hpbnQgYml0d2lzZTogZmFsc2UgKi8KICByZXR1cm4gaXNTdHJpbmcocykKICAgICAgPyBzLnJlcGxhY2UoL1thLXpdL2csIGZ1bmN0aW9uKGNoKSB7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2guY2hhckNvZGVBdCgwKSAmIH4zMik7fSkKICAgICAgOiBzOwp9OwoKCi8vIFN0cmluZyN0b0xvd2VyQ2FzZSBhbmQgU3RyaW5nI3RvVXBwZXJDYXNlIGRvbid0IHByb2R1Y2UgY29ycmVjdCByZXN1bHRzIGluIGJyb3dzZXJzIHdpdGggVHVya2lzaAovLyBsb2NhbGUsIGZvciB0aGlzIHJlYXNvbiB3ZSBuZWVkIHRvIGRldGVjdCB0aGlzIGNhc2UgYW5kIHJlZGVmaW5lIGxvd2VyY2FzZS91cHBlcmNhc2UgbWV0aG9kcwovLyB3aXRoIGNvcnJlY3QgYnV0IHNsb3dlciBhbHRlcm5hdGl2ZXMuCmlmICgnaScgIT09ICdJJy50b0xvd2VyQ2FzZSgpKSB7CiAgbG93ZXJjYXNlID0gbWFudWFsTG93ZXJjYXNlOwogIHVwcGVyY2FzZSA9IG1hbnVhbFVwcGVyY2FzZTsKfQoKCnZhciAvKiogaG9sZHMgbWFqb3IgdmVyc2lvbiBudW1iZXIgZm9yIElFIG9yIE5hTiBmb3IgcmVhbCBicm93c2VycyAqLwogICAgbXNpZSwKICAgIGpxTGl0ZSwgICAgICAgICAgIC8vIGRlbGF5IGJpbmRpbmcgc2luY2UgalF1ZXJ5IGNvdWxkIGJlIGxvYWRlZCBhZnRlciB1cy4KICAgIGpRdWVyeSwgICAgICAgICAgIC8vIGRlbGF5IGJpbmRpbmcKICAgIHNsaWNlICAgICAgICAgICAgID0gW10uc2xpY2UsCiAgICBwdXNoICAgICAgICAgICAgICA9IFtdLnB1c2gsCiAgICB0b1N0cmluZyAgICAgICAgICA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsCiAgICBuZ01pbkVyciAgICAgICAgICA9IG1pbkVycignbmcnKSwKCiAgICAvKiogQG5hbWUgYW5ndWxhciAqLwogICAgYW5ndWxhciAgICAgICAgICAgPSB3aW5kb3cuYW5ndWxhciB8fCAod2luZG93LmFuZ3VsYXIgPSB7fSksCiAgICBhbmd1bGFyTW9kdWxlLAogICAgbm9kZU5hbWVfLAogICAgdWlkICAgICAgICAgICAgICAgPSBbJzAnLCAnMCcsICcwJ107CgovKioKICogSUUgMTEgY2hhbmdlZCB0aGUgZm9ybWF0IG9mIHRoZSBVc2VyQWdlbnQgc3RyaW5nLgogKiBTZWUgaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21zNTM3NTAzLmFzcHgKICovCm1zaWUgPSBpbnQoKC9tc2llIChcZCspLy5leGVjKGxvd2VyY2FzZShuYXZpZ2F0b3IudXNlckFnZW50KSkgfHwgW10pWzFdKTsKaWYgKGlzTmFOKG1zaWUpKSB7CiAgbXNpZSA9IGludCgoL3RyaWRlbnRcLy4qOyBydjooXGQrKS8uZXhlYyhsb3dlcmNhc2UobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHx8IFtdKVsxXSk7Cn0KCgovKioKICogQHByaXZhdGUKICogQHBhcmFtIHsqfSBvYmoKICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIGBvYmpgIGlzIGFuIGFycmF5IG9yIGFycmF5LWxpa2Ugb2JqZWN0IChOb2RlTGlzdCwgQXJndW1lbnRzLAogKiAgICAgICAgICAgICAgICAgICBTdHJpbmcgLi4uKQogKi8KZnVuY3Rpb24gaXNBcnJheUxpa2Uob2JqKSB7CiAgaWYgKG9iaiA9PSBudWxsIHx8IGlzV2luZG93KG9iaikpIHsKICAgIHJldHVybiBmYWxzZTsKICB9CgogIHZhciBsZW5ndGggPSBvYmoubGVuZ3RoOwoKICBpZiAob2JqLm5vZGVUeXBlID09PSAxICYmIGxlbmd0aCkgewogICAgcmV0dXJuIHRydWU7CiAgfQoKICByZXR1cm4gaXNTdHJpbmcob2JqKSB8fCBpc0FycmF5KG9iaikgfHwgbGVuZ3RoID09PSAwIHx8CiAgICAgICAgIHR5cGVvZiBsZW5ndGggPT09ICdudW1iZXInICYmIGxlbmd0aCA+IDAgJiYgKGxlbmd0aCAtIDEpIGluIG9iajsKfQoKLyoqCiAqIEBuZ2RvYyBmdW5jdGlvbgogKiBAbmFtZSBhbmd1bGFyLmZvckVhY2gKICogQG1vZHVsZSBuZwogKiBAa2luZCBmdW5jdGlvbgogKgogKiBAZGVzY3JpcHRpb24KICogSW52b2tlcyB0aGUgYGl0ZXJhdG9yYCBmdW5jdGlvbiBvbmNlIGZvciBlYWNoIGl0ZW0gaW4gYG9iamAgY29sbGVjdGlvbiwgd2hpY2ggY2FuIGJlIGVpdGhlciBhbgogKiBvYmplY3Qgb3IgYW4gYXJyYXkuIFRoZSBgaXRlcmF0b3JgIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCBgaXRlcmF0b3IodmFsdWUsIGtleSlgLCB3aGVyZSBgdmFsdWVgCiAqIGlzIHRoZSB2YWx1ZSBvZiBhbiBvYmplY3QgcHJvcGVydHkgb3IgYW4gYXJyYXkgZWxlbWVudCBhbmQgYGtleWAgaXMgdGhlIG9iamVjdCBwcm9wZXJ0eSBrZXkgb3IKICogYXJyYXkgZWxlbWVudCBpbmRleC4gU3BlY2lmeWluZyBhIGBjb250ZXh0YCBmb3IgdGhlIGZ1bmN0aW9uIGlzIG9wdGlvbmFsLgogKgogKiBJdCBpcyB3b3J0aCBub3RpbmcgdGhhdCBgLmZvckVhY2hgIGRvZXMgbm90IGl0ZXJhdGUgb3ZlciBpbmhlcml0ZWQgcHJvcGVydGllcyBiZWNhdXNlIGl0IGZpbHRlcnMKICogdXNpbmcgdGhlIGBoYXNPd25Qcm9wZXJ0eWAgbWV0aG9kLgogKgogICBgYGBqcwogICAgIHZhciB2YWx1ZXMgPSB7bmFtZTogJ21pc2tvJywgZ2VuZGVyOiAnbWFsZSd9OwogICAgIHZhciBsb2cgPSBbXTsKICAgICBhbmd1bGFyLmZvckVhY2godmFsdWVzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7CiAgICAgICB0aGlzLnB1c2goa2V5ICsgJzogJyArIHZhbHVlKTsKICAgICB9LCBsb2cpOwogICAgIGV4cGVjdChsb2cpLnRvRXF1YWwoWyduYW1lOiBtaXNrbycsICdnZW5kZXI6IG1hbGUnXSk7CiAgIGBgYAogKgogKiBAcGFyYW0ge09iamVjdHxBcnJheX0gb2JqIE9iamVjdCB0byBpdGVyYXRlIG92ZXIuCiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdG9yIEl0ZXJhdG9yIGZ1bmN0aW9uLgogKiBAcGFyYW0ge09iamVjdD19IGNvbnRleHQgT2JqZWN0IHRvIGJlY29tZSBjb250ZXh0IChgdGhpc2ApIGZvciB0aGUgaXRlcmF0b3IgZnVuY3Rpb24uCiAqIEByZXR1cm5zIHtPYmplY3R8QXJyYXl9IFJlZmVyZW5jZSB0byBgb2JqYC4KICovCmZ1bmN0aW9uIGZvckVhY2gob2JqLCBpdGVyYXRvciwgY29udGV4dCkgewogIHZhciBrZXk7CiAgaWYgKG9iaikgewogICAgaWYgKGlzRnVuY3Rpb24ob2JqKSkgewogICAgICBmb3IgKGtleSBpbiBvYmopIHsKICAgICAgICAvLyBOZWVkIHRvIGNoZWNrIGlmIGhhc093blByb3BlcnR5IGV4aXN0cywKICAgICAgICAvLyBhcyBvbiBJRTggdGhlIHJlc3VsdCBvZiBxdWVyeVNlbGVjdG9yQWxsIGlzIGFuIG9iamVjdCB3aXRob3V0IGEgaGFzT3duUHJvcGVydHkgZnVuY3Rpb24KICAgICAgICBpZiAoa2V5ICE9ICdwcm90b3R5cGUnICYmIGtleSAhPSAnbGVuZ3RoJyAmJiBrZXkgIT0gJ25hbWUnICYmICghb2JqLmhhc093blByb3BlcnR5IHx8IG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSkgewogICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBpZiAob2JqLmZvckVhY2ggJiYgb2JqLmZvckVhY2ggIT09IGZvckVhY2gpIHsKICAgICAgb2JqLmZvckVhY2goaXRlcmF0b3IsIGNvbnRleHQpOwogICAgfSBlbHNlIGlmIChpc0FycmF5TGlrZShvYmopKSB7CiAgICAgIGZvciAoa2V5ID0gMDsga2V5IDwgb2JqLmxlbmd0aDsga2V5KyspCiAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5KTsKICAgIH0gZWxzZSB7CiAgICAgIGZvciAoa2V5IGluIG9iaikgewogICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkgewogICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CiAgcmV0dXJuIG9iajsKfQoKZnVuY3Rpb24gc29ydGVkS2V5cyhvYmopIHsKICB2YXIga2V5cyA9IFtdOwogIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkgewogICAgICBrZXlzLnB1c2goa2V5KTsKICAgIH0KICB9CiAgcmV0dXJuIGtleXMuc29ydCgpOwp9CgpmdW5jdGlvbiBmb3JFYWNoU29ydGVkKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHsKICB2YXIga2V5cyA9IHNvcnRlZEtleXMob2JqKTsKICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7CiAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXlzW2ldXSwga2V5c1tpXSk7CiAgfQogIHJldHVybiBrZXlzOwp9CgoKLyoqCiAqIHdoZW4gdXNpbmcgZm9yRWFjaCB0aGUgcGFyYW1zIGFyZSB2YWx1ZSwga2V5LCBidXQgaXQgaXMgb2Z0ZW4gdXNlZnVsIHRvIGhhdmUga2V5LCB2YWx1ZS4KICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcsICopfSBpdGVyYXRvckZuCiAqIEByZXR1cm5zIHtmdW5jdGlvbigqLCBzdHJpbmcpfQogKi8KZnVuY3Rpb24gcmV2ZXJzZVBhcmFtcyhpdGVyYXRvckZuKSB7CiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHsgaXRlcmF0b3JGbihrZXksIHZhbHVlKTsgfTsKfQoKLyoqCiAqIEEgY29uc2lzdGVudCB3YXkgb2YgY3JlYXRpbmcgdW5pcXVlIElEcyBpbiBhbmd1bGFyLiBUaGUgSUQgaXMgYSBzZXF1ZW5jZSBvZiBhbHBoYSBudW1lcmljCiAqIGNoYXJhY3RlcnMgc3VjaCBhcyAnMDEyQUJDJy4gVGhlIHJlYXNvbiB3aHkgd2UgYXJlIG5vdCB1c2luZyBzaW1wbHkgYSBudW1iZXIgY291bnRlciBpcyB0aGF0CiAqIHRoZSBudW1iZXIgc3RyaW5nIGdldHMgbG9uZ2VyIG92ZXIgdGltZSwgYW5kIGl0IGNhbiBhbHNvIG92ZXJmbG93LCB3aGVyZSBhcyB0aGUgbmV4dElkCiAqIHdpbGwgZ3JvdyBtdWNoIHNsb3dlciwgaXQgaXMgYSBzdHJpbmcsIGFuZCBpdCB3aWxsIG5ldmVyIG92ZXJmbG93LgogKgogKiBAcmV0dXJucyB7c3RyaW5nfSBhbiB1bmlxdWUgYWxwaGEtbnVtZXJpYyBzdHJpbmcKICovCmZ1bmN0aW9uIG5leHRVaWQoKSB7CiAgdmFyIGluZGV4ID0gdWlkLmxlbmd0aDsKICB2YXIgZGlnaXQ7CgogIHdoaWxlKGluZGV4KSB7CiAgICBpbmRleC0tOwogICAgZGlnaXQgPSB1aWRbaW5kZXhdLmNoYXJDb2RlQXQoMCk7CiAgICBpZiAoZGlnaXQgPT0gNTcgLyonOScqLykgewogICAgICB1aWRbaW5kZXhdID0gJ0EnOwogICAgICByZXR1cm4gdWlkLmpvaW4oJycpOwogICAgfQogICAgaWYgKGRpZ2l0ID09IDkwICAvKidaJyovKSB7CiAgICAgIHVpZFtpbmRleF0gPSAnMCc7CiAgICB9IGVsc2UgewogICAgICB1aWRbaW5kZXhdID0gU3RyaW5nLmZyb21DaGFyQ29kZShkaWdpdCArIDEpOwogICAgICByZXR1cm4gdWlkLmpvaW4oJycpOwogICAgfQogIH0KICB1aWQudW5zaGlmdCgnMCcpOwogIHJldHVybiB1aWQuam9pbignJyk7Cn0KCgovKioKICogU2V0IG9yIGNsZWFyIHRoZSBoYXNoa2V5IGZvciBhbiBvYmplY3QuCiAqIEBwYXJhbSBvYmogb2JqZWN0CiAqIEBwYXJhbSBoIHRoZSBoYXNoa2V5ICghdHJ1dGh5IHRvIGRlbGV0ZSB0aGUgaGFzaGtleSkKICovCmZ1bmN0aW9uIHNldEhhc2hLZXkob2JqLCBoKSB7CiAgaWYgKGgpIHsKICAgIG9iai4kJGhhc2hLZXkgPSBoOwogIH0KICBlbHNlIHsKICAgIGRlbGV0ZSBvYmouJCRoYXNoS2V5OwogIH0KfQoKLyoqCiAqIEBuZ2RvYyBmdW5jdGlvbgogKiBAbmFtZSBhbmd1bGFyLmV4dGVuZAogKiBAbW9kdWxlIG5nCiAqIEBraW5kIGZ1bmN0aW9uCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBFeHRlbmRzIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgYGRzdGAgYnkgY29weWluZyBhbGwgb2YgdGhlIHByb3BlcnRpZXMgZnJvbSB0aGUgYHNyY2Agb2JqZWN0KHMpCiAqIHRvIGBkc3RgLiBZb3UgY2FuIHNwZWNpZnkgbXVsdGlwbGUgYHNyY2Agb2JqZWN0cy4KICoKICogQHBhcmFtIHtPYmplY3R9IGRzdCBEZXN0aW5hdGlvbiBvYmplY3QuCiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzcmMgU291cmNlIG9iamVjdChzKS4KICogQHJldHVybnMge09iamVjdH0gUmVmZXJlbmNlIHRvIGBkc3RgLgogKi8KZnVuY3Rpb24gZXh0ZW5kKGRzdCkgewogIHZhciBoID0gZHN0LiQkaGFzaEtleTsKICBmb3JFYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24ob2JqKSB7CiAgICBpZiAob2JqICE9PSBkc3QpIHsKICAgICAgZm9yRWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHsKICAgICAgICBkc3Rba2V5XSA9IHZhbHVlOwogICAgICB9KTsKICAgIH0KICB9KTsKCiAgc2V0SGFzaEtleShkc3QsaCk7CiAgcmV0dXJuIGRzdDsKfQoKZnVuY3Rpb24gaW50KHN0cikgewogIHJldHVybiBwYXJzZUludChzdHIsIDEwKTsKfQoKCmZ1bmN0aW9uIGluaGVyaXQocGFyZW50LCBleHRyYSkgewogIHJldHVybiBleHRlbmQobmV3IChleHRlbmQoZnVuY3Rpb24oKSB7fSwge3Byb3RvdHlwZTpwYXJlbnR9KSkoKSwgZXh0cmEpOwp9CgovKioKICogQG5nZG9jIGZ1bmN0aW9uCiAqIEBuYW1lIGFuZ3VsYXIubm9vcAogKiBAbW9kdWxlIG5nCiAqIEBraW5kIGZ1bmN0aW9uCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBBIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgbm8gb3BlcmF0aW9ucy4gVGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZnVsIHdoZW4gd3JpdGluZyBjb2RlIGluIHRoZQogKiBmdW5jdGlvbmFsIHN0eWxlLgogICBgYGBqcwogICAgIGZ1bmN0aW9uIGZvbyhjYWxsYmFjaykgewogICAgICAgdmFyIHJlc3VsdCA9IGNhbGN1bGF0ZVJlc3VsdCgpOwogICAgICAgKGNhbGxiYWNrIHx8IGFuZ3VsYXIubm9vcCkocmVzdWx0KTsKICAgICB9CiAgIGBgYAogKi8KZnVuY3Rpb24gbm9vcCgpIHt9Cm5vb3AuJGluamVjdCA9IFtdOwoKCi8qKgogKiBAbmdkb2MgZnVuY3Rpb24KICogQG5hbWUgYW5ndWxhci5pZGVudGl0eQogKiBAbW9kdWxlIG5nCiAqIEBraW5kIGZ1bmN0aW9uCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBpdHMgZmlyc3QgYXJndW1lbnQuIFRoaXMgZnVuY3Rpb24gaXMgdXNlZnVsIHdoZW4gd3JpdGluZyBjb2RlIGluIHRoZQogKiBmdW5jdGlvbmFsIHN0eWxlLgogKgogICBgYGBqcwogICAgIGZ1bmN0aW9uIHRyYW5zZm9ybWVyKHRyYW5zZm9ybWF0aW9uRm4sIHZhbHVlKSB7CiAgICAgICByZXR1cm4gKHRyYW5zZm9ybWF0aW9uRm4gfHwgYW5ndWxhci5pZGVudGl0eSkodmFsdWUpOwogICAgIH07CiAgIGBgYAogKi8KZnVuY3Rpb24gaWRlbnRpdHkoJCkge3JldHVybiAkO30KaWRlbnRpdHkuJGluamVjdCA9IFtdOwoKCmZ1bmN0aW9uIHZhbHVlRm4odmFsdWUpIHtyZXR1cm4gZnVuY3Rpb24oKSB7cmV0dXJuIHZhbHVlO307fQoKLyoqCiAqIEBuZ2RvYyBmdW5jdGlvbgogKiBAbmFtZSBhbmd1bGFyLmlzVW5kZWZpbmVkCiAqIEBtb2R1bGUgbmcKICogQGtpbmQgZnVuY3Rpb24KICoKICogQGRlc2NyaXB0aW9uCiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgdW5kZWZpbmVkLgogKgogKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay4KICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyB1bmRlZmluZWQuCiAqLwpmdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSl7cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCc7fQoKCi8qKgogKiBAbmdkb2MgZnVuY3Rpb24KICogQG5hbWUgYW5ndWxhci5pc0RlZmluZWQKICogQG1vZHVsZSBuZwogKiBAa2luZCBmdW5jdGlvbgogKgogKiBAZGVzY3JpcHRpb24KICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBkZWZpbmVkLgogKgogKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay4KICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBkZWZpbmVkLgogKi8KZnVuY3Rpb24gaXNEZWZpbmVkKHZhbHVlKXtyZXR1cm4gdHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJzt9CgoKLyoqCiAqIEBuZ2RvYyBmdW5jdGlvbgogKiBAbmFtZSBhbmd1bGFyLmlzT2JqZWN0CiAqIEBtb2R1bGUgbmcKICogQGtpbmQgZnVuY3Rpb24KICoKICogQGRlc2NyaXB0aW9uCiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYW4gYE9iamVjdGAuIFVubGlrZSBgdHlwZW9mYCBpbiBKYXZhU2NyaXB0LCBgbnVsbGBzIGFyZSBub3QKICogY29uc2lkZXJlZCB0byBiZSBvYmplY3RzLiBOb3RlIHRoYXQgSmF2YVNjcmlwdCBhcnJheXMgYXJlIG9iamVjdHMuCiAqCiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLgogKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGFuIGBPYmplY3RgIGJ1dCBub3QgYG51bGxgLgogKi8KZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpe3JldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCc7fQoKCi8qKgogKiBAbmdkb2MgZnVuY3Rpb24KICogQG5hbWUgYW5ndWxhci5pc1N0cmluZwogKiBAbW9kdWxlIG5nCiAqIEBraW5kIGZ1bmN0aW9uCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGEgYFN0cmluZ2AuCiAqCiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLgogKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGEgYFN0cmluZ2AuCiAqLwpmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSl7cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZyc7fQoKCi8qKgogKiBAbmdkb2MgZnVuY3Rpb24KICogQG5hbWUgYW5ndWxhci5pc051bWJlcgogKiBAbW9kdWxlIG5nCiAqIEBraW5kIGZ1bmN0aW9uCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGEgYE51bWJlcmAuCiAqCiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLgogKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGEgYE51bWJlcmAuCiAqLwpmdW5jdGlvbiBpc051bWJlcih2YWx1ZSl7cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcic7fQoKCi8qKgogKiBAbmdkb2MgZnVuY3Rpb24KICogQG5hbWUgYW5ndWxhci5pc0RhdGUKICogQG1vZHVsZSBuZwogKiBAa2luZCBmdW5jdGlvbgogKgogKiBAZGVzY3JpcHRpb24KICogRGV0ZXJtaW5lcyBpZiBhIHZhbHVlIGlzIGEgZGF0ZS4KICoKICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suCiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYSBgRGF0ZWAuCiAqLwpmdW5jdGlvbiBpc0RhdGUodmFsdWUpIHsKICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IERhdGVdJzsKfQoKCi8qKgogKiBAbmdkb2MgZnVuY3Rpb24KICogQG5hbWUgYW5ndWxhci5pc0FycmF5CiAqIEBtb2R1bGUgbmcKICogQGtpbmQgZnVuY3Rpb24KICoKICogQGRlc2NyaXB0aW9uCiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYW4gYEFycmF5YC4KICoKICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suCiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYW4gYEFycmF5YC4KICovCnZhciBpc0FycmF5ID0gKGZ1bmN0aW9uKCkgewogIGlmICghaXNGdW5jdGlvbihBcnJheS5pc0FycmF5KSkgewogICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgQXJyYXldJzsKICAgIH07CiAgfQogIHJldHVybiBBcnJheS5pc0FycmF5Owp9KSgpOwoKLyoqCiAqIEBuZ2RvYyBmdW5jdGlvbgogKiBAbmFtZSBhbmd1bGFyLmlzRnVuY3Rpb24KICogQG1vZHVsZSBuZwogKiBAa2luZCBmdW5jdGlvbgogKgogKiBAZGVzY3JpcHRpb24KICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhIGBGdW5jdGlvbmAuCiAqCiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLgogKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGEgYEZ1bmN0aW9uYC4KICovCmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpe3JldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7fQoKCi8qKgogKiBEZXRlcm1pbmVzIGlmIGEgdmFsdWUgaXMgYSByZWd1bGFyIGV4cHJlc3Npb24gb2JqZWN0LgogKgogKiBAcHJpdmF0ZQogKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay4KICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBSZWdFeHBgLgogKi8KZnVuY3Rpb24gaXNSZWdFeHAodmFsdWUpIHsKICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nOwp9CgoKLyoqCiAqIENoZWNrcyBpZiBgb2JqYCBpcyBhIHdpbmRvdyBvYmplY3QuCiAqCiAqIEBwcml2YXRlCiAqIEBwYXJhbSB7Kn0gb2JqIE9iamVjdCB0byBjaGVjawogKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgb2JqYCBpcyBhIHdpbmRvdyBvYmouCiAqLwpmdW5jdGlvbiBpc1dpbmRvdyhvYmopIHsKICByZXR1cm4gb2JqICYmIG9iai5kb2N1bWVudCAmJiBvYmoubG9jYXRpb24gJiYgb2JqLmFsZXJ0ICYmIG9iai5zZXRJbnRlcnZhbDsKfQoKCmZ1bmN0aW9uIGlzU2NvcGUob2JqKSB7CiAgcmV0dXJuIG9iaiAmJiBvYmouJGV2YWxBc3luYyAmJiBvYmouJHdhdGNoOwp9CgoKZnVuY3Rpb24gaXNGaWxlKG9iaikgewogIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEZpbGVdJzsKfQoKCmZ1bmN0aW9uIGlzQmxvYihvYmopIHsKICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBCbG9iXSc7Cn0KCgpmdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHsKICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbic7Cn0KCgp2YXIgdHJpbSA9IChmdW5jdGlvbigpIHsKICAvLyBuYXRpdmUgdHJpbSBpcyB3YXkgZmFzdGVyOiBodHRwOi8vanNwZXJmLmNvbS9hbmd1bGFyLXRyaW0tdGVzdAogIC8vIGJ1dCBJRSBkb2Vzbid0IGhhdmUgaXQuLi4gOi0oCiAgLy8gVE9ETzogd2Ugc2hvdWxkIG1vdmUgdGhpcyBpbnRvIElFL0VTNSBwb2x5ZmlsbAogIGlmICghU3RyaW5nLnByb3RvdHlwZS50cmltKSB7CiAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgcmV0dXJuIGlzU3RyaW5nKHZhbHVlKSA/IHZhbHVlLnJlcGxhY2UoL15cc1xzKi8sICcnKS5yZXBsYWNlKC9cc1xzKiQvLCAnJykgOiB2YWx1ZTsKICAgIH07CiAgfQogIHJldHVybiBmdW5jdGlvbih2YWx1ZSkgewogICAgcmV0dXJuIGlzU3RyaW5nKHZhbHVlKSA/IHZhbHVlLnRyaW0oKSA6IHZhbHVlOwogIH07Cn0pKCk7CgoKLyoqCiAqIEBuZ2RvYyBmdW5jdGlvbgogKiBAbmFtZSBhbmd1bGFyLmlzRWxlbWVudAogKiBAbW9kdWxlIG5nCiAqIEBraW5kIGZ1bmN0aW9uCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGEgRE9NIGVsZW1lbnQgKG9yIHdyYXBwZWQgalF1ZXJ5IGVsZW1lbnQpLgogKgogKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay4KICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIERPTSBlbGVtZW50IChvciB3cmFwcGVkIGpRdWVyeSBlbGVtZW50KS4KICovCmZ1bmN0aW9uIGlzRWxlbWVudChub2RlKSB7CiAgcmV0dXJuICEhKG5vZGUgJiYKICAgIChub2RlLm5vZGVOYW1lICAvLyB3ZSBhcmUgYSBkaXJlY3QgZWxlbWVudAogICAgfHwgKG5vZGUucHJvcCAmJiBub2RlLmF0dHIgJiYgbm9kZS5maW5kKSkpOyAgLy8gd2UgaGF2ZSBhbiBvbiBhbmQgZmluZCBtZXRob2QgcGFydCBvZiBqUXVlcnkgQVBJCn0KCi8qKgogKiBAcGFyYW0gc3RyICdrZXkxLGtleTIsLi4uJwogKiBAcmV0dXJucyB7b2JqZWN0fSBpbiB0aGUgZm9ybSBvZiB7a2V5MTp0cnVlLCBrZXkyOnRydWUsIC4uLn0KICovCmZ1bmN0aW9uIG1ha2VNYXAoc3RyKSB7CiAgdmFyIG9iaiA9IHt9LCBpdGVtcyA9IHN0ci5zcGxpdCgiLCIpLCBpOwogIGZvciAoIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKysgKQogICAgb2JqWyBpdGVtc1tpXSBdID0gdHJ1ZTsKICByZXR1cm4gb2JqOwp9CgoKaWYgKG1zaWUgPCA5KSB7CiAgbm9kZU5hbWVfID0gZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVudCA9IGVsZW1lbnQubm9kZU5hbWUgPyBlbGVtZW50IDogZWxlbWVudFswXTsKICAgIHJldHVybiAoZWxlbWVudC5zY29wZU5hbWUgJiYgZWxlbWVudC5zY29wZU5hbWUgIT0gJ0hUTUwnKQogICAgICA/IHVwcGVyY2FzZShlbGVtZW50LnNjb3BlTmFtZSArICc6JyArIGVsZW1lbnQubm9kZU5hbWUpIDogZWxlbWVudC5ub2RlTmFtZTsKICB9Owp9IGVsc2UgewogIG5vZGVOYW1lXyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHJldHVybiBlbGVtZW50Lm5vZGVOYW1lID8gZWxlbWVudC5ub2RlTmFtZSA6IGVsZW1lbnRbMF0ubm9kZU5hbWU7CiAgfTsKfQoKCmZ1bmN0aW9uIG1hcChvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgdmFyIHJlc3VsdHMgPSBbXTsKICBmb3JFYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7CiAgICByZXN1bHRzLnB1c2goaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGxpc3QpKTsKICB9KTsKICByZXR1cm4gcmVzdWx0czsKfQoKCi8qKgogKiBAZGVzY3JpcHRpb24KICogRGV0ZXJtaW5lcyB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGFuIGFycmF5LCB0aGUgbnVtYmVyIG9mIHByb3BlcnRpZXMgYW4gb2JqZWN0IGhhcywgb3IKICogdGhlIGxlbmd0aCBvZiBhIHN0cmluZy4KICoKICogTm90ZTogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGF1Z21lbnQgdGhlIE9iamVjdCB0eXBlIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMuIFNlZQogKiB7QGxpbmsgYW5ndWxhci5PYmplY3R9IGZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IEFuZ3VsYXIgYXJyYXlzLgogKgogKiBAcGFyYW0ge09iamVjdHxBcnJheXxzdHJpbmd9IG9iaiBPYmplY3QsIGFycmF5LCBvciBzdHJpbmcgdG8gaW5zcGVjdC4KICogQHBhcmFtIHtib29sZWFufSBbb3duUHJvcHNPbmx5PWZhbHNlXSBDb3VudCBvbmx5ICJvd24iIHByb3BlcnRpZXMgaW4gYW4gb2JqZWN0CiAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBzaXplIG9mIGBvYmpgIG9yIGAwYCBpZiBgb2JqYCBpcyBuZWl0aGVyIGFuIG9iamVjdCBub3IgYW4gYXJyYXkuCiAqLwpmdW5jdGlvbiBzaXplKG9iaiwgb3duUHJvcHNPbmx5KSB7CiAgdmFyIGNvdW50ID0gMCwga2V5OwoKICBpZiAoaXNBcnJheShvYmopIHx8IGlzU3RyaW5nKG9iaikpIHsKICAgIHJldHVybiBvYmoubGVuZ3RoOwogIH0gZWxzZSBpZiAoaXNPYmplY3Qob2JqKSkgewogICAgZm9yIChrZXkgaW4gb2JqKQogICAgICBpZiAoIW93blByb3BzT25seSB8fCBvYmouaGFzT3duUHJvcGVydHkoa2V5KSkKICAgICAgICBjb3VudCsrOwogIH0KCiAgcmV0dXJuIGNvdW50Owp9CgoKZnVuY3Rpb24gaW5jbHVkZXMoYXJyYXksIG9iaikgewogIHJldHVybiBpbmRleE9mKGFycmF5LCBvYmopICE9IC0xOwp9CgpmdW5jdGlvbiBpbmRleE9mKGFycmF5LCBvYmopIHsKICBpZiAoYXJyYXkuaW5kZXhPZikgcmV0dXJuIGFycmF5LmluZGV4T2Yob2JqKTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykgewogICAgaWYgKG9iaiA9PT0gYXJyYXlbaV0pIHJldHVybiBpOwogIH0KICByZXR1cm4gLTE7Cn0KCmZ1bmN0aW9uIGFycmF5UmVtb3ZlKGFycmF5LCB2YWx1ZSkgewogIHZhciBpbmRleCA9IGluZGV4T2YoYXJyYXksIHZhbHVlKTsKICBpZiAoaW5kZXggPj0wKQogICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTsKICByZXR1cm4gdmFsdWU7Cn0KCmZ1bmN0aW9uIGlzTGVhZk5vZGUgKG5vZGUpIHsKICBpZiAobm9kZSkgewogICAgc3dpdGNoIChub2RlLm5vZGVOYW1lKSB7CiAgICBjYXNlICJPUFRJT04iOgogICAgY2FzZSAiUFJFIjoKICAgIGNhc2UgIlRJVExFIjoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfQogIHJldHVybiBmYWxzZTsKfQoKLyoqCiAqIEBuZ2RvYyBmdW5jdGlvbgogKiBAbmFtZSBhbmd1bGFyLmNvcHkKICogQG1vZHVsZSBuZwogKiBAa2luZCBmdW5jdGlvbgogKgogKiBAZGVzY3JpcHRpb24KICogQ3JlYXRlcyBhIGRlZXAgY29weSBvZiBgc291cmNlYCwgd2hpY2ggc2hvdWxkIGJlIGFuIG9iamVjdCBvciBhbiBhcnJheS4KICoKICogKiBJZiBubyBkZXN0aW5hdGlvbiBpcyBzdXBwbGllZCwgYSBjb3B5IG9mIHRoZSBvYmplY3Qgb3IgYXJyYXkgaXMgY3JlYXRlZC4KICogKiBJZiBhIGRlc3RpbmF0aW9uIGlzIHByb3ZpZGVkLCBhbGwgb2YgaXRzIGVsZW1lbnRzIChmb3IgYXJyYXkpIG9yIHByb3BlcnRpZXMgKGZvciBvYmplY3RzKQogKiAgIGFyZSBkZWxldGVkIGFuZCB0aGVuIGFsbCBlbGVtZW50cy9wcm9wZXJ0aWVzIGZyb20gdGhlIHNvdXJjZSBhcmUgY29waWVkIHRvIGl0LgogKiAqIElmIGBzb3VyY2VgIGlzIG5vdCBhbiBvYmplY3Qgb3IgYXJyYXkgKGluYy4gYG51bGxgIGFuZCBgdW5kZWZpbmVkYCksIGBzb3VyY2VgIGlzIHJldHVybmVkLgogKiAqIElmIGBzb3VyY2VgIGlzIGlkZW50aWNhbCB0byAnZGVzdGluYXRpb24nIGFuIGV4Y2VwdGlvbiB3aWxsIGJlIHRocm93bi4KICoKICogQHBhcmFtIHsqfSBzb3VyY2UgVGhlIHNvdXJjZSB0aGF0IHdpbGwgYmUgdXNlZCB0byBtYWtlIGEgY29weS4KICogICAgICAgICAgICAgICAgICAgQ2FuIGJlIGFueSB0eXBlLCBpbmNsdWRpbmcgcHJpbWl0aXZlcywgYG51bGxgLCBhbmQgYHVuZGVmaW5lZGAuCiAqIEBwYXJhbSB7KE9iamVjdHxBcnJheSk9fSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbiBpbnRvIHdoaWNoIHRoZSBzb3VyY2UgaXMgY29waWVkLiBJZgogKiAgICAgcHJvdmlkZWQsIG11c3QgYmUgb2YgdGhlIHNhbWUgdHlwZSBhcyBgc291cmNlYC4KICogQHJldHVybnMgeyp9IFRoZSBjb3B5IG9yIHVwZGF0ZWQgYGRlc3RpbmF0aW9uYCwgaWYgYGRlc3RpbmF0aW9uYCB3YXMgc3BlY2lmaWVkLgogKgogKiBAZXhhbXBsZQogPGV4YW1wbGU+CiA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KIDxkaXYgbmctY29udHJvbGxlcj0iQ29udHJvbGxlciI+CiA8Zm9ybSBub3ZhbGlkYXRlIGNsYXNzPSJzaW1wbGUtZm9ybSI+CiBOYW1lOiA8aW5wdXQgdHlwZT0idGV4dCIgbmctbW9kZWw9InVzZXIubmFtZSIgLz48YnIgLz4KIEUtbWFpbDogPGlucHV0IHR5cGU9ImVtYWlsIiBuZy1tb2RlbD0idXNlci5lbWFpbCIgLz48YnIgLz4KIEdlbmRlcjogPGlucHV0IHR5cGU9InJhZGlvIiBuZy1tb2RlbD0idXNlci5nZW5kZXIiIHZhbHVlPSJtYWxlIiAvPm1hbGUKIDxpbnB1dCB0eXBlPSJyYWRpbyIgbmctbW9kZWw9InVzZXIuZ2VuZGVyIiB2YWx1ZT0iZmVtYWxlIiAvPmZlbWFsZTxiciAvPgogPGJ1dHRvbiBuZy1jbGljaz0icmVzZXQoKSI+UkVTRVQ8L2J1dHRvbj4KIDxidXR0b24gbmctY2xpY2s9InVwZGF0ZSh1c2VyKSI+U0FWRTwvYnV0dG9uPgogPC9mb3JtPgogPHByZT5mb3JtID0ge3t1c2VyIHwganNvbn19PC9wcmU+CiA8cHJlPm1hc3RlciA9IHt7bWFzdGVyIHwganNvbn19PC9wcmU+CiA8L2Rpdj4KCiA8c2NyaXB0PgogZnVuY3Rpb24gQ29udHJvbGxlcigkc2NvcGUpIHsKICAgICRzY29wZS5tYXN0ZXI9IHt9OwoKICAgICRzY29wZS51cGRhdGUgPSBmdW5jdGlvbih1c2VyKSB7CiAgICAgIC8vIEV4YW1wbGUgd2l0aCAxIGFyZ3VtZW50CiAgICAgICRzY29wZS5tYXN0ZXI9IGFuZ3VsYXIuY29weSh1c2VyKTsKICAgIH07CgogICAgJHNjb3BlLnJlc2V0ID0gZnVuY3Rpb24oKSB7CiAgICAgIC8vIEV4YW1wbGUgd2l0aCAyIGFyZ3VtZW50cwogICAgICBhbmd1bGFyLmNvcHkoJHNjb3BlLm1hc3RlciwgJHNjb3BlLnVzZXIpOwogICAgfTsKCiAgICAkc2NvcGUucmVzZXQoKTsKICB9CiA8L3NjcmlwdD4KIDwvZmlsZT4KIDwvZXhhbXBsZT4KICovCmZ1bmN0aW9uIGNvcHkoc291cmNlLCBkZXN0aW5hdGlvbiwgc3RhY2tTb3VyY2UsIHN0YWNrRGVzdCkgewogIGlmIChpc1dpbmRvdyhzb3VyY2UpIHx8IGlzU2NvcGUoc291cmNlKSkgewogICAgdGhyb3cgbmdNaW5FcnIoJ2Nwd3MnLAogICAgICAiQ2FuJ3QgY29weSEgTWFraW5nIGNvcGllcyBvZiBXaW5kb3cgb3IgU2NvcGUgaW5zdGFuY2VzIGlzIG5vdCBzdXBwb3J0ZWQuIik7CiAgfQoKICBpZiAoIWRlc3RpbmF0aW9uKSB7CiAgICBkZXN0aW5hdGlvbiA9IHNvdXJjZTsKICAgIGlmIChzb3VyY2UpIHsKICAgICAgaWYgKGlzQXJyYXkoc291cmNlKSkgewogICAgICAgIGRlc3RpbmF0aW9uID0gY29weShzb3VyY2UsIFtdLCBzdGFja1NvdXJjZSwgc3RhY2tEZXN0KTsKICAgICAgfSBlbHNlIGlmIChpc0RhdGUoc291cmNlKSkgewogICAgICAgIGRlc3RpbmF0aW9uID0gbmV3IERhdGUoc291cmNlLmdldFRpbWUoKSk7CiAgICAgIH0gZWxzZSBpZiAoaXNSZWdFeHAoc291cmNlKSkgewogICAgICAgIGRlc3RpbmF0aW9uID0gbmV3IFJlZ0V4cChzb3VyY2Uuc291cmNlKTsKICAgICAgfSBlbHNlIGlmIChpc09iamVjdChzb3VyY2UpKSB7CiAgICAgICAgZGVzdGluYXRpb24gPSBjb3B5KHNvdXJjZSwge30sIHN0YWNrU291cmNlLCBzdGFja0Rlc3QpOwogICAgICB9CiAgICB9CiAgfSBlbHNlIHsKICAgIGlmIChzb3VyY2UgPT09IGRlc3RpbmF0aW9uKSB0aHJvdyBuZ01pbkVycignY3BpJywKICAgICAgIkNhbid0IGNvcHkhIFNvdXJjZSBhbmQgZGVzdGluYXRpb24gYXJlIGlkZW50aWNhbC4iKTsKCiAgICBzdGFja1NvdXJjZSA9IHN0YWNrU291cmNlIHx8IFtdOwogICAgc3RhY2tEZXN0ID0gc3RhY2tEZXN0IHx8IFtdOwoKICAgIGlmIChpc09iamVjdChzb3VyY2UpKSB7CiAgICAgIHZhciBpbmRleCA9IGluZGV4T2Yoc3RhY2tTb3VyY2UsIHNvdXJjZSk7CiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHJldHVybiBzdGFja0Rlc3RbaW5kZXhdOwoKICAgICAgc3RhY2tTb3VyY2UucHVzaChzb3VyY2UpOwogICAgICBzdGFja0Rlc3QucHVzaChkZXN0aW5hdGlvbik7CiAgICB9CgogICAgdmFyIHJlc3VsdDsKICAgIGlmIChpc0FycmF5KHNvdXJjZSkpIHsKICAgICAgZGVzdGluYXRpb24ubGVuZ3RoID0gMDsKICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgcmVzdWx0ID0gY29weShzb3VyY2VbaV0sIG51bGwsIHN0YWNrU291cmNlLCBzdGFja0Rlc3QpOwogICAgICAgIGlmIChpc09iamVjdChzb3VyY2VbaV0pKSB7CiAgICAgICAgICBzdGFja1NvdXJjZS5wdXNoKHNvdXJjZVtpXSk7CiAgICAgICAgICBzdGFja0Rlc3QucHVzaChyZXN1bHQpOwogICAgICAgIH0KICAgICAgICBkZXN0aW5hdGlvbi5wdXNoKHJlc3VsdCk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHZhciBoID0gZGVzdGluYXRpb24uJCRoYXNoS2V5OwogICAgICBmb3JFYWNoKGRlc3RpbmF0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7CiAgICAgICAgZGVsZXRlIGRlc3RpbmF0aW9uW2tleV07CiAgICAgIH0pOwogICAgICBmb3IgKCB2YXIga2V5IGluIHNvdXJjZSkgewogICAgICAgIHJlc3VsdCA9IGNvcHkoc291cmNlW2tleV0sIG51bGwsIHN0YWNrU291cmNlLCBzdGFja0Rlc3QpOwogICAgICAgIGlmIChpc09iamVjdChzb3VyY2Vba2V5XSkpIHsKICAgICAgICAgIHN0YWNrU291cmNlLnB1c2goc291cmNlW2tleV0pOwogICAgICAgICAgc3RhY2tEZXN0LnB1c2gocmVzdWx0KTsKICAgICAgICB9CiAgICAgICAgZGVzdGluYXRpb25ba2V5XSA9IHJlc3VsdDsKICAgICAgfQogICAgICBzZXRIYXNoS2V5KGRlc3RpbmF0aW9uLGgpOwogICAgfQoKICB9CiAgcmV0dXJuIGRlc3RpbmF0aW9uOwp9CgovKioKICogQ3JlYXRlcyBhIHNoYWxsb3cgY29weSBvZiBhbiBvYmplY3QsIGFuIGFycmF5IG9yIGEgcHJpbWl0aXZlCiAqLwpmdW5jdGlvbiBzaGFsbG93Q29weShzcmMsIGRzdCkgewogIGlmIChpc0FycmF5KHNyYykpIHsKICAgIGRzdCA9IGRzdCB8fCBbXTsKCiAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBzcmMubGVuZ3RoOyBpKyspIHsKICAgICAgZHN0W2ldID0gc3JjW2ldOwogICAgfQogIH0gZWxzZSBpZiAoaXNPYmplY3Qoc3JjKSkgewogICAgZHN0ID0gZHN0IHx8IHt9OwoKICAgIGZvciAodmFyIGtleSBpbiBzcmMpIHsKICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc3JjLCBrZXkpICYmICEoa2V5LmNoYXJBdCgwKSA9PT0gJyQnICYmIGtleS5jaGFyQXQoMSkgPT09ICckJykpIHsKICAgICAgICBkc3Rba2V5XSA9IHNyY1trZXldOwogICAgICB9CiAgICB9CiAgfQoKICByZXR1cm4gZHN0IHx8IHNyYzsKfQoKCi8qKgogKiBAbmdkb2MgZnVuY3Rpb24KICogQG5hbWUgYW5ndWxhci5lcXVhbHMKICogQG1vZHVsZSBuZwogKiBAa2luZCBmdW5jdGlvbgogKgogKiBAZGVzY3JpcHRpb24KICogRGV0ZXJtaW5lcyBpZiB0d28gb2JqZWN0cyBvciB0d28gdmFsdWVzIGFyZSBlcXVpdmFsZW50LiBTdXBwb3J0cyB2YWx1ZSB0eXBlcywgcmVndWxhcgogKiBleHByZXNzaW9ucywgYXJyYXlzIGFuZCBvYmplY3RzLgogKgogKiBUd28gb2JqZWN0cyBvciB2YWx1ZXMgYXJlIGNvbnNpZGVyZWQgZXF1aXZhbGVudCBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlIGZvbGxvd2luZyBpcyB0cnVlOgogKgogKiAqIEJvdGggb2JqZWN0cyBvciB2YWx1ZXMgcGFzcyBgPT09YCBjb21wYXJpc29uLgogKiAqIEJvdGggb2JqZWN0cyBvciB2YWx1ZXMgYXJlIG9mIHRoZSBzYW1lIHR5cGUgYW5kIGFsbCBvZiB0aGVpciBwcm9wZXJ0aWVzIGFyZSBlcXVhbCBieQogKiAgIGNvbXBhcmluZyB0aGVtIHdpdGggYGFuZ3VsYXIuZXF1YWxzYC4KICogKiBCb3RoIHZhbHVlcyBhcmUgTmFOLiAoSW4gSmF2YVNjcmlwdCwgTmFOID09IE5hTiA9PiBmYWxzZS4gQnV0IHdlIGNvbnNpZGVyIHR3byBOYU4gYXMgZXF1YWwpCiAqICogQm90aCB2YWx1ZXMgcmVwcmVzZW50IHRoZSBzYW1lIHJlZ3VsYXIgZXhwcmVzc2lvbiAoSW4gSmF2YVNjcmlwdCwKICogICAvYWJjLyA9PSAvYWJjLyA9PiBmYWxzZS4gQnV0IHdlIGNvbnNpZGVyIHR3byByZWd1bGFyIGV4cHJlc3Npb25zIGFzIGVxdWFsIHdoZW4gdGhlaXIgdGV4dHVhbAogKiAgIHJlcHJlc2VudGF0aW9uIG1hdGNoZXMpLgogKgogKiBEdXJpbmcgYSBwcm9wZXJ0eSBjb21wYXJpc29uLCBwcm9wZXJ0aWVzIG9mIGBmdW5jdGlvbmAgdHlwZSBhbmQgcHJvcGVydGllcyB3aXRoIG5hbWVzCiAqIHRoYXQgYmVnaW4gd2l0aCBgJGAgYXJlIGlnbm9yZWQuCiAqCiAqIFNjb3BlIGFuZCBET01XaW5kb3cgb2JqZWN0cyBhcmUgYmVpbmcgY29tcGFyZWQgb25seSBieSBpZGVudGlmeSAoYD09PWApLgogKgogKiBAcGFyYW0geyp9IG8xIE9iamVjdCBvciB2YWx1ZSB0byBjb21wYXJlLgogKiBAcGFyYW0geyp9IG8yIE9iamVjdCBvciB2YWx1ZSB0byBjb21wYXJlLgogKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBhcmd1bWVudHMgYXJlIGVxdWFsLgogKi8KZnVuY3Rpb24gZXF1YWxzKG8xLCBvMikgewogIGlmIChvMSA9PT0gbzIpIHJldHVybiB0cnVlOwogIGlmIChvMSA9PT0gbnVsbCB8fCBvMiA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlOwogIGlmIChvMSAhPT0gbzEgJiYgbzIgIT09IG8yKSByZXR1cm4gdHJ1ZTsgLy8gTmFOID09PSBOYU4KICB2YXIgdDEgPSB0eXBlb2YgbzEsIHQyID0gdHlwZW9mIG8yLCBsZW5ndGgsIGtleSwga2V5U2V0OwogIGlmICh0MSA9PSB0MikgewogICAgaWYgKHQxID09ICdvYmplY3QnKSB7CiAgICAgIGlmIChpc0FycmF5KG8xKSkgewogICAgICAgIGlmICghaXNBcnJheShvMikpIHJldHVybiBmYWxzZTsKICAgICAgICBpZiAoKGxlbmd0aCA9IG8xLmxlbmd0aCkgPT0gbzIubGVuZ3RoKSB7CiAgICAgICAgICBmb3Ioa2V5PTA7IGtleTxsZW5ndGg7IGtleSsrKSB7CiAgICAgICAgICAgIGlmICghZXF1YWxzKG8xW2tleV0sIG8yW2tleV0pKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoaXNEYXRlKG8xKSkgewogICAgICAgIHJldHVybiBpc0RhdGUobzIpICYmIG8xLmdldFRpbWUoKSA9PSBvMi5nZXRUaW1lKCk7CiAgICAgIH0gZWxzZSBpZiAoaXNSZWdFeHAobzEpICYmIGlzUmVnRXhwKG8yKSkgewogICAgICAgIHJldHVybiBvMS50b1N0cmluZygpID09IG8yLnRvU3RyaW5nKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGlzU2NvcGUobzEpIHx8IGlzU2NvcGUobzIpIHx8IGlzV2luZG93KG8xKSB8fCBpc1dpbmRvdyhvMikgfHwgaXNBcnJheShvMikpIHJldHVybiBmYWxzZTsKICAgICAgICBrZXlTZXQgPSB7fTsKICAgICAgICBmb3Ioa2V5IGluIG8xKSB7CiAgICAgICAgICBpZiAoa2V5LmNoYXJBdCgwKSA9PT0gJyQnIHx8IGlzRnVuY3Rpb24obzFba2V5XSkpIGNvbnRpbnVlOwogICAgICAgICAgaWYgKCFlcXVhbHMobzFba2V5XSwgbzJba2V5XSkpIHJldHVybiBmYWxzZTsKICAgICAgICAgIGtleVNldFtrZXldID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgZm9yKGtleSBpbiBvMikgewogICAgICAgICAgaWYgKCFrZXlTZXQuaGFzT3duUHJvcGVydHkoa2V5KSAmJgogICAgICAgICAgICAgIGtleS5jaGFyQXQoMCkgIT09ICckJyAmJgogICAgICAgICAgICAgIG8yW2tleV0gIT09IHVuZGVmaW5lZCAmJgogICAgICAgICAgICAgICFpc0Z1bmN0aW9uKG8yW2tleV0pKSByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9CiAgfQogIHJldHVybiBmYWxzZTsKfQoKCmZ1bmN0aW9uIGNzcCgpIHsKICByZXR1cm4gKGRvY3VtZW50LnNlY3VyaXR5UG9saWN5ICYmIGRvY3VtZW50LnNlY3VyaXR5UG9saWN5LmlzQWN0aXZlKSB8fAogICAgICAoZG9jdW1lbnQucXVlcnlTZWxlY3RvciAmJgogICAgICAhIShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmctY3NwXScpIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW5nLWNzcF0nKSkpOwp9CgoKZnVuY3Rpb24gY29uY2F0KGFycmF5MSwgYXJyYXkyLCBpbmRleCkgewogIHJldHVybiBhcnJheTEuY29uY2F0KHNsaWNlLmNhbGwoYXJyYXkyLCBpbmRleCkpOwp9CgpmdW5jdGlvbiBzbGljZUFyZ3MoYXJncywgc3RhcnRJbmRleCkgewogIHJldHVybiBzbGljZS5jYWxsKGFyZ3MsIHN0YXJ0SW5kZXggfHwgMCk7Cn0KCgovKiBqc2hpbnQgLVcxMDEgKi8KLyoqCiAqIEBuZ2RvYyBmdW5jdGlvbgogKiBAbmFtZSBhbmd1bGFyLmJpbmQKICogQG1vZHVsZSBuZwogKiBAa2luZCBmdW5jdGlvbgogKgogKiBAZGVzY3JpcHRpb24KICogUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbGxzIGZ1bmN0aW9uIGBmbmAgYm91bmQgdG8gYHNlbGZgIChgc2VsZmAgYmVjb21lcyB0aGUgYHRoaXNgIGZvcgogKiBgZm5gKS4gWW91IGNhbiBzdXBwbHkgb3B0aW9uYWwgYGFyZ3NgIHRoYXQgYXJlIHByZWJvdW5kIHRvIHRoZSBmdW5jdGlvbi4gVGhpcyBmZWF0dXJlIGlzIGFsc28KICoga25vd24gYXMgW3BhcnRpYWwgYXBwbGljYXRpb25dKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUGFydGlhbF9hcHBsaWNhdGlvbiksIGFzCiAqIGRpc3Rpbmd1aXNoZWQgZnJvbSBbZnVuY3Rpb24gY3VycnlpbmddKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ3VycnlpbmcjQ29udHJhc3Rfd2l0aF9wYXJ0aWFsX2Z1bmN0aW9uX2FwcGxpY2F0aW9uKS4KICoKICogQHBhcmFtIHtPYmplY3R9IHNlbGYgQ29udGV4dCB3aGljaCBgZm5gIHNob3VsZCBiZSBldmFsdWF0ZWQgaW4uCiAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gZm4gRnVuY3Rpb24gdG8gYmUgYm91bmQuCiAqIEBwYXJhbSB7Li4uKn0gYXJncyBPcHRpb25hbCBhcmd1bWVudHMgdG8gYmUgcHJlYm91bmQgdG8gdGhlIGBmbmAgZnVuY3Rpb24gY2FsbC4KICogQHJldHVybnMge2Z1bmN0aW9uKCl9IEZ1bmN0aW9uIHRoYXQgd3JhcHMgdGhlIGBmbmAgd2l0aCBhbGwgdGhlIHNwZWNpZmllZCBiaW5kaW5ncy4KICovCi8qIGpzaGludCArVzEwMSAqLwpmdW5jdGlvbiBiaW5kKHNlbGYsIGZuKSB7CiAgdmFyIGN1cnJ5QXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gc2xpY2VBcmdzKGFyZ3VtZW50cywgMikgOiBbXTsKICBpZiAoaXNGdW5jdGlvbihmbikgJiYgIShmbiBpbnN0YW5jZW9mIFJlZ0V4cCkpIHsKICAgIHJldHVybiBjdXJyeUFyZ3MubGVuZ3RoCiAgICAgID8gZnVuY3Rpb24oKSB7CiAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aAogICAgICAgICAgICA/IGZuLmFwcGx5KHNlbGYsIGN1cnJ5QXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMsIDApKSkKICAgICAgICAgICAgOiBmbi5hcHBseShzZWxmLCBjdXJyeUFyZ3MpOwogICAgICAgIH0KICAgICAgOiBmdW5jdGlvbigpIHsKICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoCiAgICAgICAgICAgID8gZm4uYXBwbHkoc2VsZiwgYXJndW1lbnRzKQogICAgICAgICAgICA6IGZuLmNhbGwoc2VsZik7CiAgICAgICAgfTsKICB9IGVsc2UgewogICAgLy8gaW4gSUUsIG5hdGl2ZSBtZXRob2RzIGFyZSBub3QgZnVuY3Rpb25zIHNvIHRoZXkgY2Fubm90IGJlIGJvdW5kIChub3RlOiB0aGV5IGRvbid0IG5lZWQgdG8gYmUpCiAgICByZXR1cm4gZm47CiAgfQp9CgoKZnVuY3Rpb24gdG9Kc29uUmVwbGFjZXIoa2V5LCB2YWx1ZSkgewogIHZhciB2YWwgPSB2YWx1ZTsKCiAgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnICYmIGtleS5jaGFyQXQoMCkgPT09ICckJykgewogICAgdmFsID0gdW5kZWZpbmVkOwogIH0gZWxzZSBpZiAoaXNXaW5kb3codmFsdWUpKSB7CiAgICB2YWwgPSAnJFdJTkRPVyc7CiAgfSBlbHNlIGlmICh2YWx1ZSAmJiAgZG9jdW1lbnQgPT09IHZhbHVlKSB7CiAgICB2YWwgPSAnJERPQ1VNRU5UJzsKICB9IGVsc2UgaWYgKGlzU2NvcGUodmFsdWUpKSB7CiAgICB2YWwgPSAnJFNDT1BFJzsKICB9CgogIHJldHVybiB2YWw7Cn0KCgovKioKICogQG5nZG9jIGZ1bmN0aW9uCiAqIEBuYW1lIGFuZ3VsYXIudG9Kc29uCiAqIEBtb2R1bGUgbmcKICogQGtpbmQgZnVuY3Rpb24KICoKICogQGRlc2NyaXB0aW9uCiAqIFNlcmlhbGl6ZXMgaW5wdXQgaW50byBhIEpTT04tZm9ybWF0dGVkIHN0cmluZy4gUHJvcGVydGllcyB3aXRoIGxlYWRpbmcgJCBjaGFyYWN0ZXJzIHdpbGwgYmUKICogc3RyaXBwZWQgc2luY2UgYW5ndWxhciB1c2VzIHRoaXMgbm90YXRpb24gaW50ZXJuYWxseS4KICoKICogQHBhcmFtIHtPYmplY3R8QXJyYXl8RGF0ZXxzdHJpbmd8bnVtYmVyfSBvYmogSW5wdXQgdG8gYmUgc2VyaWFsaXplZCBpbnRvIEpTT04uCiAqIEBwYXJhbSB7Ym9vbGVhbj19IHByZXR0eSBJZiBzZXQgdG8gdHJ1ZSwgdGhlIEpTT04gb3V0cHV0IHdpbGwgY29udGFpbiBuZXdsaW5lcyBhbmQgd2hpdGVzcGFjZS4KICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IEpTT04taWZpZWQgc3RyaW5nIHJlcHJlc2VudGluZyBgb2JqYC4KICovCmZ1bmN0aW9uIHRvSnNvbihvYmosIHByZXR0eSkgewogIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykgcmV0dXJuIHVuZGVmaW5lZDsKICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqLCB0b0pzb25SZXBsYWNlciwgcHJldHR5ID8gJyAgJyA6IG51bGwpOwp9CgoKLyoqCiAqIEBuZ2RvYyBmdW5jdGlvbgogKiBAbmFtZSBhbmd1bGFyLmZyb21Kc29uCiAqIEBtb2R1bGUgbmcKICogQGtpbmQgZnVuY3Rpb24KICoKICogQGRlc2NyaXB0aW9uCiAqIERlc2VyaWFsaXplcyBhIEpTT04gc3RyaW5nLgogKgogKiBAcGFyYW0ge3N0cmluZ30ganNvbiBKU09OIHN0cmluZyB0byBkZXNlcmlhbGl6ZS4KICogQHJldHVybnMge09iamVjdHxBcnJheXxzdHJpbmd8bnVtYmVyfSBEZXNlcmlhbGl6ZWQgdGhpbmd5LgogKi8KZnVuY3Rpb24gZnJvbUpzb24oanNvbikgewogIHJldHVybiBpc1N0cmluZyhqc29uKQogICAgICA/IEpTT04ucGFyc2UoanNvbikKICAgICAgOiBqc29uOwp9CgoKZnVuY3Rpb24gdG9Cb29sZWFuKHZhbHVlKSB7CiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykgewogICAgdmFsdWUgPSB0cnVlOwogIH0gZWxzZSBpZiAodmFsdWUgJiYgdmFsdWUubGVuZ3RoICE9PSAwKSB7CiAgICB2YXIgdiA9IGxvd2VyY2FzZSgiIiArIHZhbHVlKTsKICAgIHZhbHVlID0gISh2ID09ICdmJyB8fCB2ID09ICcwJyB8fCB2ID09ICdmYWxzZScgfHwgdiA9PSAnbm8nIHx8IHYgPT0gJ24nIHx8IHYgPT0gJ1tdJyk7CiAgfSBlbHNlIHsKICAgIHZhbHVlID0gZmFsc2U7CiAgfQogIHJldHVybiB2YWx1ZTsKfQoKLyoqCiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZWxlbWVudC4KICovCmZ1bmN0aW9uIHN0YXJ0aW5nVGFnKGVsZW1lbnQpIHsKICBlbGVtZW50ID0ganFMaXRlKGVsZW1lbnQpLmNsb25lKCk7CiAgdHJ5IHsKICAgIC8vIHR1cm5zIG91dCBJRSBkb2VzIG5vdCBsZXQgeW91IHNldCAuaHRtbCgpIG9uIGVsZW1lbnRzIHdoaWNoCiAgICAvLyBhcmUgbm90IGFsbG93ZWQgdG8gaGF2ZSBjaGlsZHJlbi4gU28gd2UganVzdCBpZ25vcmUgaXQuCiAgICBlbGVtZW50LmVtcHR5KCk7CiAgfSBjYXRjaChlKSB7fQogIC8vIEFzIFBlciBET00gU3RhbmRhcmRzCiAgdmFyIFRFWFRfTk9ERSA9IDM7CiAgdmFyIGVsZW1IdG1sID0ganFMaXRlKCc8ZGl2PicpLmFwcGVuZChlbGVtZW50KS5odG1sKCk7CiAgdHJ5IHsKICAgIHJldHVybiBlbGVtZW50WzBdLm5vZGVUeXBlID09PSBURVhUX05PREUgPyBsb3dlcmNhc2UoZWxlbUh0bWwpIDoKICAgICAgICBlbGVtSHRtbC4KICAgICAgICAgIG1hdGNoKC9eKDxbXj5dKz4pLylbMV0uCiAgICAgICAgICByZXBsYWNlKC9ePChbXHdcLV0rKS8sIGZ1bmN0aW9uKG1hdGNoLCBub2RlTmFtZSkgeyByZXR1cm4gJzwnICsgbG93ZXJjYXNlKG5vZGVOYW1lKTsgfSk7CiAgfSBjYXRjaChlKSB7CiAgICByZXR1cm4gbG93ZXJjYXNlKGVsZW1IdG1sKTsKICB9Cgp9CgoKLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKLyoqCiAqIFRyaWVzIHRvIGRlY29kZSB0aGUgVVJJIGNvbXBvbmVudCB3aXRob3V0IHRocm93aW5nIGFuIGV4Y2VwdGlvbi4KICoKICogQHByaXZhdGUKICogQHBhcmFtIHN0ciB2YWx1ZSBwb3RlbnRpYWwgVVJJIGNvbXBvbmVudCB0byBjaGVjay4KICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBjYW4gYmUgZGVjb2RlZAogKiB3aXRoIHRoZSBkZWNvZGVVUklDb21wb25lbnQgZnVuY3Rpb24uCiAqLwpmdW5jdGlvbiB0cnlEZWNvZGVVUklDb21wb25lbnQodmFsdWUpIHsKICB0cnkgewogICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7CiAgfSBjYXRjaChlKSB7CiAgICAvLyBJZ25vcmUgYW55IGludmFsaWQgdXJpIGNvbXBvbmVudAogIH0KfQoKCi8qKgogKiBQYXJzZXMgYW4gZXNjYXBlZCB1cmwgcXVlcnkgc3RyaW5nIGludG8ga2V5LXZhbHVlIHBhaXJzLgogKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsYm9vbGVhbnxBcnJheT59CiAqLwpmdW5jdGlvbiBwYXJzZUtleVZhbHVlKC8qKnN0cmluZyova2V5VmFsdWUpIHsKICB2YXIgb2JqID0ge30sIGtleV92YWx1ZSwga2V5OwogIGZvckVhY2goKGtleVZhbHVlIHx8ICIiKS5zcGxpdCgnJicpLCBmdW5jdGlvbihrZXlWYWx1ZSkgewogICAgaWYgKCBrZXlWYWx1ZSApIHsKICAgICAga2V5X3ZhbHVlID0ga2V5VmFsdWUuc3BsaXQoJz0nKTsKICAgICAga2V5ID0gdHJ5RGVjb2RlVVJJQ29tcG9uZW50KGtleV92YWx1ZVswXSk7CiAgICAgIGlmICggaXNEZWZpbmVkKGtleSkgKSB7CiAgICAgICAgdmFyIHZhbCA9IGlzRGVmaW5lZChrZXlfdmFsdWVbMV0pID8gdHJ5RGVjb2RlVVJJQ29tcG9uZW50KGtleV92YWx1ZVsxXSkgOiB0cnVlOwogICAgICAgIGlmICghb2JqW2tleV0pIHsKICAgICAgICAgIG9ialtrZXldID0gdmFsOwogICAgICAgIH0gZWxzZSBpZihpc0FycmF5KG9ialtrZXldKSkgewogICAgICAgICAgb2JqW2tleV0ucHVzaCh2YWwpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBvYmpba2V5XSA9IFtvYmpba2V5XSx2YWxdOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0pOwogIHJldHVybiBvYmo7Cn0KCmZ1bmN0aW9uIHRvS2V5VmFsdWUob2JqKSB7CiAgdmFyIHBhcnRzID0gW107CiAgZm9yRWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHsKICAgIGlmIChpc0FycmF5KHZhbHVlKSkgewogICAgICBmb3JFYWNoKHZhbHVlLCBmdW5jdGlvbihhcnJheVZhbHVlKSB7CiAgICAgICAgcGFydHMucHVzaChlbmNvZGVVcmlRdWVyeShrZXksIHRydWUpICsKICAgICAgICAgICAgICAgICAgIChhcnJheVZhbHVlID09PSB0cnVlID8gJycgOiAnPScgKyBlbmNvZGVVcmlRdWVyeShhcnJheVZhbHVlLCB0cnVlKSkpOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICBwYXJ0cy5wdXNoKGVuY29kZVVyaVF1ZXJ5KGtleSwgdHJ1ZSkgKwogICAgICAgICAgICAgICAodmFsdWUgPT09IHRydWUgPyAnJyA6ICc9JyArIGVuY29kZVVyaVF1ZXJ5KHZhbHVlLCB0cnVlKSkpOwogICAgfQogIH0pOwogIHJldHVybiBwYXJ0cy5sZW5ndGggPyBwYXJ0cy5qb2luKCcmJykgOiAnJzsKfQoKCi8qKgogKiBXZSBuZWVkIG91ciBjdXN0b20gbWV0aG9kIGJlY2F1c2UgZW5jb2RlVVJJQ29tcG9uZW50IGlzIHRvbyBhZ2dyZXNzaXZlIGFuZCBkb2Vzbid0IGZvbGxvdwogKiBodHRwOi8vd3d3LmlldGYub3JnL3JmYy9yZmMzOTg2LnR4dCB3aXRoIHJlZ2FyZHMgdG8gdGhlIGNoYXJhY3RlciBzZXQgKHBjaGFyKSBhbGxvd2VkIGluIHBhdGgKICogc2VnbWVudHM6CiAqICAgIHNlZ21lbnQgICAgICAgPSAqcGNoYXIKICogICAgcGNoYXIgICAgICAgICA9IHVucmVzZXJ2ZWQgLyBwY3QtZW5jb2RlZCAvIHN1Yi1kZWxpbXMgLyAiOiIgLyAiQCIKICogICAgcGN0LWVuY29kZWQgICA9ICIlIiBIRVhESUcgSEVYRElHCiAqICAgIHVucmVzZXJ2ZWQgICAgPSBBTFBIQSAvIERJR0lUIC8gIi0iIC8gIi4iIC8gIl8iIC8gIn4iCiAqICAgIHN1Yi1kZWxpbXMgICAgPSAiISIgLyAiJCIgLyAiJiIgLyAiJyIgLyAiKCIgLyAiKSIKICogICAgICAgICAgICAgICAgICAgICAvICIqIiAvICIrIiAvICIsIiAvICI7IiAvICI9IgogKi8KZnVuY3Rpb24gZW5jb2RlVXJpU2VnbWVudCh2YWwpIHsKICByZXR1cm4gZW5jb2RlVXJpUXVlcnkodmFsLCB0cnVlKS4KICAgICAgICAgICAgIHJlcGxhY2UoLyUyNi9naSwgJyYnKS4KICAgICAgICAgICAgIHJlcGxhY2UoLyUzRC9naSwgJz0nKS4KICAgICAgICAgICAgIHJlcGxhY2UoLyUyQi9naSwgJysnKTsKfQoKCi8qKgogKiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZW5jb2RpbmcgKmtleSogb3IgKnZhbHVlKiBwYXJ0cyBvZiBxdWVyeSBjb21wb25lbnQuIFdlIG5lZWQgYSBjdXN0b20KICogbWV0aG9kIGJlY2F1c2UgZW5jb2RlVVJJQ29tcG9uZW50IGlzIHRvbyBhZ2dyZXNzaXZlIGFuZCBlbmNvZGVzIHN0dWZmIHRoYXQgZG9lc24ndCBoYXZlIHRvIGJlCiAqIGVuY29kZWQgcGVyIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODY6CiAqICAgIHF1ZXJ5ICAgICAgID0gKiggcGNoYXIgLyAiLyIgLyAiPyIgKQogKiAgICBwY2hhciAgICAgICAgID0gdW5yZXNlcnZlZCAvIHBjdC1lbmNvZGVkIC8gc3ViLWRlbGltcyAvICI6IiAvICJAIgogKiAgICB1bnJlc2VydmVkICAgID0gQUxQSEEgLyBESUdJVCAvICItIiAvICIuIiAvICJfIiAvICJ+IgogKiAgICBwY3QtZW5jb2RlZCAgID0gIiUiIEhFWERJRyBIRVhESUcKICogICAgc3ViLWRlbGltcyAgICA9ICIhIiAvICIkIiAvICImIiAvICInIiAvICIoIiAvICIpIgogKiAgICAgICAgICAgICAgICAgICAgIC8gIioiIC8gIisiIC8gIiwiIC8gIjsiIC8gIj0iCiAqLwpmdW5jdGlvbiBlbmNvZGVVcmlRdWVyeSh2YWwsIHBjdEVuY29kZVNwYWNlcykgewogIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKS4KICAgICAgICAgICAgIHJlcGxhY2UoLyU0MC9naSwgJ0AnKS4KICAgICAgICAgICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS4KICAgICAgICAgICAgIHJlcGxhY2UoLyUyNC9nLCAnJCcpLgogICAgICAgICAgICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLgogICAgICAgICAgICAgcmVwbGFjZSgvJTIwL2csIChwY3RFbmNvZGVTcGFjZXMgPyAnJTIwJyA6ICcrJykpOwp9CgoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgbmdBcHAKICogQG1vZHVsZSBuZwogKgogKiBAZWxlbWVudCBBTlkKICogQHBhcmFtIHthbmd1bGFyLk1vZHVsZX0gbmdBcHAgYW4gb3B0aW9uYWwgYXBwbGljYXRpb24KICogICB7QGxpbmsgYW5ndWxhci5tb2R1bGUgbW9kdWxlfSBuYW1lIHRvIGxvYWQuCiAqCiAqIEBkZXNjcmlwdGlvbgogKgogKiBVc2UgdGhpcyBkaXJlY3RpdmUgdG8gKiphdXRvLWJvb3RzdHJhcCoqIGFuIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbi4gVGhlIGBuZ0FwcGAgZGlyZWN0aXZlCiAqIGRlc2lnbmF0ZXMgdGhlICoqcm9vdCBlbGVtZW50Kiogb2YgdGhlIGFwcGxpY2F0aW9uIGFuZCBpcyB0eXBpY2FsbHkgcGxhY2VkIG5lYXIgdGhlIHJvb3QgZWxlbWVudAogKiBvZiB0aGUgcGFnZSAtIGUuZy4gb24gdGhlIGA8Ym9keT5gIG9yIGA8aHRtbD5gIHRhZ3MuCiAqCiAqIE9ubHkgb25lIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbiBjYW4gYmUgYXV0by1ib290c3RyYXBwZWQgcGVyIEhUTUwgZG9jdW1lbnQuIFRoZSBmaXJzdCBgbmdBcHBgCiAqIGZvdW5kIGluIHRoZSBkb2N1bWVudCB3aWxsIGJlIHVzZWQgdG8gZGVmaW5lIHRoZSByb290IGVsZW1lbnQgdG8gYXV0by1ib290c3RyYXAgYXMgYW4KICogYXBwbGljYXRpb24uIFRvIHJ1biBtdWx0aXBsZSBhcHBsaWNhdGlvbnMgaW4gYW4gSFRNTCBkb2N1bWVudCB5b3UgbXVzdCBtYW51YWxseSBib290c3RyYXAgdGhlbSB1c2luZwogKiB7QGxpbmsgYW5ndWxhci5ib290c3RyYXB9IGluc3RlYWQuIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbnMgY2Fubm90IGJlIG5lc3RlZCB3aXRoaW4gZWFjaCBvdGhlci4KICoKICogWW91IGNhbiBzcGVjaWZ5IGFuICoqQW5ndWxhckpTIG1vZHVsZSoqIHRvIGJlIHVzZWQgYXMgdGhlIHJvb3QgbW9kdWxlIGZvciB0aGUgYXBwbGljYXRpb24uICBUaGlzCiAqIG1vZHVsZSB3aWxsIGJlIGxvYWRlZCBpbnRvIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3J9IHdoZW4gdGhlIGFwcGxpY2F0aW9uIGlzIGJvb3RzdHJhcHBlZCBhbmQKICogc2hvdWxkIGNvbnRhaW4gdGhlIGFwcGxpY2F0aW9uIGNvZGUgbmVlZGVkIG9yIGhhdmUgZGVwZW5kZW5jaWVzIG9uIG90aGVyIG1vZHVsZXMgdGhhdCB3aWxsCiAqIGNvbnRhaW4gdGhlIGNvZGUuIFNlZSB7QGxpbmsgYW5ndWxhci5tb2R1bGV9IGZvciBtb3JlIGluZm9ybWF0aW9uLgogKgogKiBJbiB0aGUgZXhhbXBsZSBiZWxvdyBpZiB0aGUgYG5nQXBwYCBkaXJlY3RpdmUgd2VyZSBub3QgcGxhY2VkIG9uIHRoZSBgaHRtbGAgZWxlbWVudCB0aGVuIHRoZQogKiBkb2N1bWVudCB3b3VsZCBub3QgYmUgY29tcGlsZWQsIHRoZSBgQXBwQ29udHJvbGxlcmAgd291bGQgbm90IGJlIGluc3RhbnRpYXRlZCBhbmQgdGhlIGB7eyBhK2IgfX1gCiAqIHdvdWxkIG5vdCBiZSByZXNvbHZlZCB0byBgM2AuCiAqCiAqIGBuZ0FwcGAgaXMgdGhlIGVhc2llc3QsIGFuZCBtb3N0IGNvbW1vbiwgd2F5IHRvIGJvb3RzdHJhcCBhbiBhcHBsaWNhdGlvbi4KICoKIDxleGFtcGxlIG1vZHVsZT0ibmdBcHBEZW1vIj4KICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgIDxkaXYgbmctY29udHJvbGxlcj0ibmdBcHBEZW1vQ29udHJvbGxlciI+CiAgICAgSSBjYW4gYWRkOiB7e2F9fSArIHt7Yn19ID0gIHt7IGErYiB9fQogICA8L2Rpdj4KICAgPC9maWxlPgogICA8ZmlsZSBuYW1lPSJzY3JpcHQuanMiPgogICBhbmd1bGFyLm1vZHVsZSgnbmdBcHBEZW1vJywgW10pLmNvbnRyb2xsZXIoJ25nQXBwRGVtb0NvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUpIHsKICAgICAkc2NvcGUuYSA9IDE7CiAgICAgJHNjb3BlLmIgPSAyOwogICB9KTsKICAgPC9maWxlPgogPC9leGFtcGxlPgogKgogKi8KZnVuY3Rpb24gYW5ndWxhckluaXQoZWxlbWVudCwgYm9vdHN0cmFwKSB7CiAgdmFyIGVsZW1lbnRzID0gW2VsZW1lbnRdLAogICAgICBhcHBFbGVtZW50LAogICAgICBtb2R1bGUsCiAgICAgIG5hbWVzID0gWyduZzphcHAnLCAnbmctYXBwJywgJ3gtbmctYXBwJywgJ2RhdGEtbmctYXBwJ10sCiAgICAgIE5HX0FQUF9DTEFTU19SRUdFWFAgPSAvXHNuZ1s6XC1dYXBwKDpccyooW1x3XGRfXSspOz8pP1xzLzsKCiAgZnVuY3Rpb24gYXBwZW5kKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgJiYgZWxlbWVudHMucHVzaChlbGVtZW50KTsKICB9CgogIGZvckVhY2gobmFtZXMsIGZ1bmN0aW9uKG5hbWUpIHsKICAgIG5hbWVzW25hbWVdID0gdHJ1ZTsKICAgIGFwcGVuZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChuYW1lKSk7CiAgICBuYW1lID0gbmFtZS5yZXBsYWNlKCc6JywgJ1xcOicpOwogICAgaWYgKGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCkgewogICAgICBmb3JFYWNoKGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLicgKyBuYW1lKSwgYXBwZW5kKTsKICAgICAgZm9yRWFjaChlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgbmFtZSArICdcXDonKSwgYXBwZW5kKTsKICAgICAgZm9yRWFjaChlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1snICsgbmFtZSArICddJyksIGFwcGVuZCk7CiAgICB9CiAgfSk7CgogIGZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIGlmICghYXBwRWxlbWVudCkgewogICAgICB2YXIgY2xhc3NOYW1lID0gJyAnICsgZWxlbWVudC5jbGFzc05hbWUgKyAnICc7CiAgICAgIHZhciBtYXRjaCA9IE5HX0FQUF9DTEFTU19SRUdFWFAuZXhlYyhjbGFzc05hbWUpOwogICAgICBpZiAobWF0Y2gpIHsKICAgICAgICBhcHBFbGVtZW50ID0gZWxlbWVudDsKICAgICAgICBtb2R1bGUgPSAobWF0Y2hbMl0gfHwgJycpLnJlcGxhY2UoL1xzKy9nLCAnLCcpOwogICAgICB9IGVsc2UgewogICAgICAgIGZvckVhY2goZWxlbWVudC5hdHRyaWJ1dGVzLCBmdW5jdGlvbihhdHRyKSB7CiAgICAgICAgICBpZiAoIWFwcEVsZW1lbnQgJiYgbmFtZXNbYXR0ci5uYW1lXSkgewogICAgICAgICAgICBhcHBFbGVtZW50ID0gZWxlbWVudDsKICAgICAgICAgICAgbW9kdWxlID0gYXR0ci52YWx1ZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0pOwogIGlmIChhcHBFbGVtZW50KSB7CiAgICBib290c3RyYXAoYXBwRWxlbWVudCwgbW9kdWxlID8gW21vZHVsZV0gOiBbXSk7CiAgfQp9CgovKioKICogQG5nZG9jIGZ1bmN0aW9uCiAqIEBuYW1lIGFuZ3VsYXIuYm9vdHN0cmFwCiAqIEBtb2R1bGUgbmcKICogQGRlc2NyaXB0aW9uCiAqIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIG1hbnVhbGx5IHN0YXJ0IHVwIGFuZ3VsYXIgYXBwbGljYXRpb24uCiAqCiAqIFNlZToge0BsaW5rIGd1aWRlL2Jvb3RzdHJhcCBCb290c3RyYXB9CiAqCiAqIE5vdGUgdGhhdCBuZ1NjZW5hcmlvLWJhc2VkIGVuZC10by1lbmQgdGVzdHMgY2Fubm90IHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGJvb3RzdHJhcCBtYW51YWxseS4KICogVGhleSBtdXN0IHVzZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQXBwIG5nQXBwfS4KICoKICogQW5ndWxhciB3aWxsIGRldGVjdCBpZiBpdCBoYXMgYmVlbiBsb2FkZWQgaW50byB0aGUgYnJvd3NlciBtb3JlIHRoYW4gb25jZSBhbmQgb25seSBhbGxvdyB0aGUKICogZmlyc3QgbG9hZGVkIHNjcmlwdCB0byBiZSBib290c3RyYXBwZWQgYW5kIHdpbGwgcmVwb3J0IGEgd2FybmluZyB0byB0aGUgYnJvd3NlciBjb25zb2xlIGZvcgogKiBlYWNoIG9mIHRoZSBzdWJzZXF1ZW50IHNjcmlwdHMuIFRoaXMgcHJldmVudHMgc3RyYW5nZSByZXN1bHRzIGluIGFwcGxpY2F0aW9ucywgd2hlcmUgb3RoZXJ3aXNlCiAqIG11bHRpcGxlIGluc3RhbmNlcyBvZiBBbmd1bGFyIHRyeSB0byB3b3JrIG9uIHRoZSBET00uCiAqCiAqIDxleGFtcGxlIG5hbWU9Im11bHRpLWJvb3RzdHJhcCIgbW9kdWxlPSJtdWx0aS1ib290c3RyYXAiPgogKiA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICogPHNjcmlwdCBzcmM9Ii4uLy4uLy4uL2FuZ3VsYXIuanMiPjwvc2NyaXB0PgogKiA8ZGl2IG5nLWNvbnRyb2xsZXI9IkJyb2tlblRhYmxlIj4KICogICA8dGFibGU+CiAqICAgPHRyPgogKiAgICAgPHRoIG5nLXJlcGVhdD0iaGVhZGluZyBpbiBoZWFkaW5ncyI+e3toZWFkaW5nfX08L3RoPgogKiAgIDwvdHI+CiAqICAgPHRyIG5nLXJlcGVhdD0iZmlsbGluZyBpbiBmaWxsaW5ncyI+CiAqICAgICA8dGQgbmctcmVwZWF0PSJmaWxsIGluIGZpbGxpbmciPnt7ZmlsbH19PC90ZD4KICogICA8L3RyPgogKiA8L3RhYmxlPgogKiA8L2Rpdj4KICogPC9maWxlPgogKiA8ZmlsZSBuYW1lPSJjb250cm9sbGVyLmpzIj4KICogdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdtdWx0aS1ib290c3RyYXAnLCBbXSkKICoKICogLmNvbnRyb2xsZXIoJ0Jyb2tlblRhYmxlJywgZnVuY3Rpb24oJHNjb3BlKSB7CiAqICAgICAkc2NvcGUuaGVhZGluZ3MgPSBbJ09uZScsICdUd28nLCAnVGhyZWUnXTsKICogICAgICRzY29wZS5maWxsaW5ncyA9IFtbMSwgMiwgM10sIFsnQScsICdCJywgJ0MnXSwgWzcsIDgsIDldXTsKICogfSk7CiAqIDwvZmlsZT4KICogPGZpbGUgbmFtZT0icHJvdHJhY3Rvci5qcyIgdHlwZT0icHJvdHJhY3RvciI+CiAqIGl0KCdzaG91bGQgb25seSBpbnNlcnQgb25lIHRhYmxlIGNlbGwgZm9yIGVhY2ggaXRlbSBpbiAkc2NvcGUuZmlsbGluZ3MnLCBmdW5jdGlvbigpIHsKICogIGV4cGVjdChlbGVtZW50LmFsbChieS5jc3MoJ3RkJykpLmNvdW50KCkpCiAqICAgICAgLnRvQmUoOSk7CiAqIH0pOwogKiA8L2ZpbGU+CiAqIDwvZXhhbXBsZT4KICoKICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IERPTSBlbGVtZW50IHdoaWNoIGlzIHRoZSByb290IG9mIGFuZ3VsYXIgYXBwbGljYXRpb24uCiAqIEBwYXJhbSB7QXJyYXk8U3RyaW5nfEZ1bmN0aW9ufEFycmF5Pj19IG1vZHVsZXMgYW4gYXJyYXkgb2YgbW9kdWxlcyB0byBsb2FkIGludG8gdGhlIGFwcGxpY2F0aW9uLgogKiAgICAgRWFjaCBpdGVtIGluIHRoZSBhcnJheSBzaG91bGQgYmUgdGhlIG5hbWUgb2YgYSBwcmVkZWZpbmVkIG1vZHVsZSBvciBhIChESSBhbm5vdGF0ZWQpCiAqICAgICBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgaW52b2tlZCBieSB0aGUgaW5qZWN0b3IgYXMgYSBydW4gYmxvY2suCiAqICAgICBTZWU6IHtAbGluayBhbmd1bGFyLm1vZHVsZSBtb2R1bGVzfQogKiBAcmV0dXJucyB7YXV0by4kaW5qZWN0b3J9IFJldHVybnMgdGhlIG5ld2x5IGNyZWF0ZWQgaW5qZWN0b3IgZm9yIHRoaXMgYXBwLgogKi8KZnVuY3Rpb24gYm9vdHN0cmFwKGVsZW1lbnQsIG1vZHVsZXMpIHsKICB2YXIgZG9Cb290c3RyYXAgPSBmdW5jdGlvbigpIHsKICAgIGVsZW1lbnQgPSBqcUxpdGUoZWxlbWVudCk7CgogICAgaWYgKGVsZW1lbnQuaW5qZWN0b3IoKSkgewogICAgICB2YXIgdGFnID0gKGVsZW1lbnRbMF0gPT09IGRvY3VtZW50KSA/ICdkb2N1bWVudCcgOiBzdGFydGluZ1RhZyhlbGVtZW50KTsKICAgICAgdGhyb3cgbmdNaW5FcnIoJ2J0c3RycGQnLCAiQXBwIEFscmVhZHkgQm9vdHN0cmFwcGVkIHdpdGggdGhpcyBFbGVtZW50ICd7MH0nIiwgdGFnKTsKICAgIH0KCiAgICBtb2R1bGVzID0gbW9kdWxlcyB8fCBbXTsKICAgIG1vZHVsZXMudW5zaGlmdChbJyRwcm92aWRlJywgZnVuY3Rpb24oJHByb3ZpZGUpIHsKICAgICAgJHByb3ZpZGUudmFsdWUoJyRyb290RWxlbWVudCcsIGVsZW1lbnQpOwogICAgfV0pOwogICAgbW9kdWxlcy51bnNoaWZ0KCduZycpOwogICAgdmFyIGluamVjdG9yID0gY3JlYXRlSW5qZWN0b3IobW9kdWxlcyk7CiAgICBpbmplY3Rvci5pbnZva2UoWyckcm9vdFNjb3BlJywgJyRyb290RWxlbWVudCcsICckY29tcGlsZScsICckaW5qZWN0b3InLCAnJGFuaW1hdGUnLAogICAgICAgZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGNvbXBpbGUsIGluamVjdG9yLCBhbmltYXRlKSB7CiAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkgewogICAgICAgICAgZWxlbWVudC5kYXRhKCckaW5qZWN0b3InLCBpbmplY3Rvcik7CiAgICAgICAgICBjb21waWxlKGVsZW1lbnQpKHNjb3BlKTsKICAgICAgICB9KTsKICAgICAgfV0KICAgICk7CiAgICByZXR1cm4gaW5qZWN0b3I7CiAgfTsKCiAgdmFyIE5HX0RFRkVSX0JPT1RTVFJBUCA9IC9eTkdfREVGRVJfQk9PVFNUUkFQIS87CgogIGlmICh3aW5kb3cgJiYgIU5HX0RFRkVSX0JPT1RTVFJBUC50ZXN0KHdpbmRvdy5uYW1lKSkgewogICAgcmV0dXJuIGRvQm9vdHN0cmFwKCk7CiAgfQoKICB3aW5kb3cubmFtZSA9IHdpbmRvdy5uYW1lLnJlcGxhY2UoTkdfREVGRVJfQk9PVFNUUkFQLCAnJyk7CiAgYW5ndWxhci5yZXN1bWVCb290c3RyYXAgPSBmdW5jdGlvbihleHRyYU1vZHVsZXMpIHsKICAgIGZvckVhY2goZXh0cmFNb2R1bGVzLCBmdW5jdGlvbihtb2R1bGUpIHsKICAgICAgbW9kdWxlcy5wdXNoKG1vZHVsZSk7CiAgICB9KTsKICAgIGRvQm9vdHN0cmFwKCk7CiAgfTsKfQoKdmFyIFNOQUtFX0NBU0VfUkVHRVhQID0gL1tBLVpdL2c7CmZ1bmN0aW9uIHNuYWtlX2Nhc2UobmFtZSwgc2VwYXJhdG9yKSB7CiAgc2VwYXJhdG9yID0gc2VwYXJhdG9yIHx8ICdfJzsKICByZXR1cm4gbmFtZS5yZXBsYWNlKFNOQUtFX0NBU0VfUkVHRVhQLCBmdW5jdGlvbihsZXR0ZXIsIHBvcykgewogICAgcmV0dXJuIChwb3MgPyBzZXBhcmF0b3IgOiAnJykgKyBsZXR0ZXIudG9Mb3dlckNhc2UoKTsKICB9KTsKfQoKZnVuY3Rpb24gYmluZEpRdWVyeSgpIHsKICAvLyBiaW5kIHRvIGpRdWVyeSBpZiBwcmVzZW50OwogIGpRdWVyeSA9IHdpbmRvdy5qUXVlcnk7CiAgLy8gVXNlIGpRdWVyeSBpZiBpdCBleGlzdHMgd2l0aCBwcm9wZXIgZnVuY3Rpb25hbGl0eSwgb3RoZXJ3aXNlIGRlZmF1bHQgdG8gdXMuCiAgLy8gQW5ndWxhciAxLjIrIHJlcXVpcmVzIGpRdWVyeSAxLjcuMSsgZm9yIG9uKCkvb2ZmKCkgc3VwcG9ydC4KICBpZiAoalF1ZXJ5ICYmIGpRdWVyeS5mbi5vbikgewogICAganFMaXRlID0galF1ZXJ5OwogICAgZXh0ZW5kKGpRdWVyeS5mbiwgewogICAgICBzY29wZTogSlFMaXRlUHJvdG90eXBlLnNjb3BlLAogICAgICBpc29sYXRlU2NvcGU6IEpRTGl0ZVByb3RvdHlwZS5pc29sYXRlU2NvcGUsCiAgICAgIGNvbnRyb2xsZXI6IEpRTGl0ZVByb3RvdHlwZS5jb250cm9sbGVyLAogICAgICBpbmplY3RvcjogSlFMaXRlUHJvdG90eXBlLmluamVjdG9yLAogICAgICBpbmhlcml0ZWREYXRhOiBKUUxpdGVQcm90b3R5cGUuaW5oZXJpdGVkRGF0YQogICAgfSk7CiAgICAvLyBNZXRob2Qgc2lnbmF0dXJlOgogICAgLy8gICAgIGpxTGl0ZVBhdGNoSlF1ZXJ5UmVtb3ZlKG5hbWUsIGRpc3BhdGNoVGhpcywgZmlsdGVyRWxlbXMsIGdldHRlcklmTm9Bcmd1bWVudHMpCiAgICBqcUxpdGVQYXRjaEpRdWVyeVJlbW92ZSgncmVtb3ZlJywgdHJ1ZSwgdHJ1ZSwgZmFsc2UpOwogICAganFMaXRlUGF0Y2hKUXVlcnlSZW1vdmUoJ2VtcHR5JywgZmFsc2UsIGZhbHNlLCBmYWxzZSk7CiAgICBqcUxpdGVQYXRjaEpRdWVyeVJlbW92ZSgnaHRtbCcsIGZhbHNlLCBmYWxzZSwgdHJ1ZSk7CiAgfSBlbHNlIHsKICAgIGpxTGl0ZSA9IEpRTGl0ZTsKICB9CiAgYW5ndWxhci5lbGVtZW50ID0ganFMaXRlOwp9CgovKioKICogdGhyb3cgZXJyb3IgaWYgdGhlIGFyZ3VtZW50IGlzIGZhbHN5LgogKi8KZnVuY3Rpb24gYXNzZXJ0QXJnKGFyZywgbmFtZSwgcmVhc29uKSB7CiAgaWYgKCFhcmcpIHsKICAgIHRocm93IG5nTWluRXJyKCdhcmVxJywgIkFyZ3VtZW50ICd7MH0nIGlzIHsxfSIsIChuYW1lIHx8ICc/JyksIChyZWFzb24gfHwgInJlcXVpcmVkIikpOwogIH0KICByZXR1cm4gYXJnOwp9CgpmdW5jdGlvbiBhc3NlcnRBcmdGbihhcmcsIG5hbWUsIGFjY2VwdEFycmF5QW5ub3RhdGlvbikgewogIGlmIChhY2NlcHRBcnJheUFubm90YXRpb24gJiYgaXNBcnJheShhcmcpKSB7CiAgICAgIGFyZyA9IGFyZ1thcmcubGVuZ3RoIC0gMV07CiAgfQoKICBhc3NlcnRBcmcoaXNGdW5jdGlvbihhcmcpLCBuYW1lLCAnbm90IGEgZnVuY3Rpb24sIGdvdCAnICsKICAgICAgKGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyA/IGFyZy5jb25zdHJ1Y3Rvci5uYW1lIHx8ICdPYmplY3QnIDogdHlwZW9mIGFyZykpOwogIHJldHVybiBhcmc7Cn0KCi8qKgogKiB0aHJvdyBlcnJvciBpZiB0aGUgbmFtZSBnaXZlbiBpcyBoYXNPd25Qcm9wZXJ0eQogKiBAcGFyYW0gIHtTdHJpbmd9IG5hbWUgICAgdGhlIG5hbWUgdG8gdGVzdAogKiBAcGFyYW0gIHtTdHJpbmd9IGNvbnRleHQgdGhlIGNvbnRleHQgaW4gd2hpY2ggdGhlIG5hbWUgaXMgdXNlZCwgc3VjaCBhcyBtb2R1bGUgb3IgZGlyZWN0aXZlCiAqLwpmdW5jdGlvbiBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCBjb250ZXh0KSB7CiAgaWYgKG5hbWUgPT09ICdoYXNPd25Qcm9wZXJ0eScpIHsKICAgIHRocm93IG5nTWluRXJyKCdiYWRuYW1lJywgImhhc093blByb3BlcnR5IGlzIG5vdCBhIHZhbGlkIHswfSBuYW1lIiwgY29udGV4dCk7CiAgfQp9CgovKioKICogUmV0dXJuIHRoZSB2YWx1ZSBhY2Nlc3NpYmxlIGZyb20gdGhlIG9iamVjdCBieSBwYXRoLiBBbnkgdW5kZWZpbmVkIHRyYXZlcnNhbHMgYXJlIGlnbm9yZWQKICogQHBhcmFtIHtPYmplY3R9IG9iaiBzdGFydGluZyBvYmplY3QKICogQHBhcmFtIHtTdHJpbmd9IHBhdGggcGF0aCB0byB0cmF2ZXJzZQogKiBAcGFyYW0ge2Jvb2xlYW59IFtiaW5kRm5Ub1Njb3BlPXRydWVdCiAqIEByZXR1cm5zIHtPYmplY3R9IHZhbHVlIGFzIGFjY2Vzc2libGUgYnkgcGF0aAogKi8KLy9UT0RPKG1pc2tvKTogdGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSByZW1vdmVkCmZ1bmN0aW9uIGdldHRlcihvYmosIHBhdGgsIGJpbmRGblRvU2NvcGUpIHsKICBpZiAoIXBhdGgpIHJldHVybiBvYmo7CiAgdmFyIGtleXMgPSBwYXRoLnNwbGl0KCcuJyk7CiAgdmFyIGtleTsKICB2YXIgbGFzdEluc3RhbmNlID0gb2JqOwogIHZhciBsZW4gPSBrZXlzLmxlbmd0aDsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAga2V5ID0ga2V5c1tpXTsKICAgIGlmIChvYmopIHsKICAgICAgb2JqID0gKGxhc3RJbnN0YW5jZSA9IG9iailba2V5XTsKICAgIH0KICB9CiAgaWYgKCFiaW5kRm5Ub1Njb3BlICYmIGlzRnVuY3Rpb24ob2JqKSkgewogICAgcmV0dXJuIGJpbmQobGFzdEluc3RhbmNlLCBvYmopOwogIH0KICByZXR1cm4gb2JqOwp9CgovKioKICogUmV0dXJuIHRoZSBET00gc2libGluZ3MgYmV0d2VlbiB0aGUgZmlyc3QgYW5kIGxhc3Qgbm9kZSBpbiB0aGUgZ2l2ZW4gYXJyYXkuCiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IGxpa2Ugb2JqZWN0CiAqIEByZXR1cm5zIHtET01FbGVtZW50fSBvYmplY3QgY29udGFpbmluZyB0aGUgZWxlbWVudHMKICovCmZ1bmN0aW9uIGdldEJsb2NrRWxlbWVudHMobm9kZXMpIHsKICB2YXIgc3RhcnROb2RlID0gbm9kZXNbMF0sCiAgICAgIGVuZE5vZGUgPSBub2Rlc1tub2Rlcy5sZW5ndGggLSAxXTsKICBpZiAoc3RhcnROb2RlID09PSBlbmROb2RlKSB7CiAgICByZXR1cm4ganFMaXRlKHN0YXJ0Tm9kZSk7CiAgfQoKICB2YXIgZWxlbWVudCA9IHN0YXJ0Tm9kZTsKICB2YXIgZWxlbWVudHMgPSBbZWxlbWVudF07CgogIGRvIHsKICAgIGVsZW1lbnQgPSBlbGVtZW50Lm5leHRTaWJsaW5nOwogICAgaWYgKCFlbGVtZW50KSBicmVhazsKICAgIGVsZW1lbnRzLnB1c2goZWxlbWVudCk7CiAgfSB3aGlsZSAoZWxlbWVudCAhPT0gZW5kTm9kZSk7CgogIHJldHVybiBqcUxpdGUoZWxlbWVudHMpOwp9CgovKioKICogQG5nZG9jIHR5cGUKICogQG5hbWUgYW5ndWxhci5Nb2R1bGUKICogQG1vZHVsZSBuZwogKiBAZGVzY3JpcHRpb24KICoKICogSW50ZXJmYWNlIGZvciBjb25maWd1cmluZyBhbmd1bGFyIHtAbGluayBhbmd1bGFyLm1vZHVsZSBtb2R1bGVzfS4KICovCgpmdW5jdGlvbiBzZXR1cE1vZHVsZUxvYWRlcih3aW5kb3cpIHsKCiAgdmFyICRpbmplY3Rvck1pbkVyciA9IG1pbkVycignJGluamVjdG9yJyk7CiAgdmFyIG5nTWluRXJyID0gbWluRXJyKCduZycpOwoKICBmdW5jdGlvbiBlbnN1cmUob2JqLCBuYW1lLCBmYWN0b3J5KSB7CiAgICByZXR1cm4gb2JqW25hbWVdIHx8IChvYmpbbmFtZV0gPSBmYWN0b3J5KCkpOwogIH0KCiAgdmFyIGFuZ3VsYXIgPSBlbnN1cmUod2luZG93LCAnYW5ndWxhcicsIE9iamVjdCk7CgogIC8vIFdlIG5lZWQgdG8gZXhwb3NlIGBhbmd1bGFyLiQkbWluRXJyYCB0byBtb2R1bGVzIHN1Y2ggYXMgYG5nUmVzb3VyY2VgIHRoYXQgcmVmZXJlbmNlIGl0IGR1cmluZyBib290c3RyYXAKICBhbmd1bGFyLiQkbWluRXJyID0gYW5ndWxhci4kJG1pbkVyciB8fCBtaW5FcnI7CgogIHJldHVybiBlbnN1cmUoYW5ndWxhciwgJ21vZHVsZScsIGZ1bmN0aW9uKCkgewogICAgLyoqIEB0eXBlIHtPYmplY3QuPHN0cmluZywgYW5ndWxhci5Nb2R1bGU+fSAqLwogICAgdmFyIG1vZHVsZXMgPSB7fTsKCiAgICAvKioKICAgICAqIEBuZ2RvYyBmdW5jdGlvbgogICAgICogQG5hbWUgYW5ndWxhci5tb2R1bGUKICAgICAqIEBtb2R1bGUgbmcKICAgICAqIEBkZXNjcmlwdGlvbgogICAgICoKICAgICAqIFRoZSBgYW5ndWxhci5tb2R1bGVgIGlzIGEgZ2xvYmFsIHBsYWNlIGZvciBjcmVhdGluZywgcmVnaXN0ZXJpbmcgYW5kIHJldHJpZXZpbmcgQW5ndWxhcgogICAgICogbW9kdWxlcy4KICAgICAqIEFsbCBtb2R1bGVzIChhbmd1bGFyIGNvcmUgb3IgM3JkIHBhcnR5KSB0aGF0IHNob3VsZCBiZSBhdmFpbGFibGUgdG8gYW4gYXBwbGljYXRpb24gbXVzdCBiZQogICAgICogcmVnaXN0ZXJlZCB1c2luZyB0aGlzIG1lY2hhbmlzbS4KICAgICAqCiAgICAgKiBXaGVuIHBhc3NlZCB0d28gb3IgbW9yZSBhcmd1bWVudHMsIGEgbmV3IG1vZHVsZSBpcyBjcmVhdGVkLiAgSWYgcGFzc2VkIG9ubHkgb25lIGFyZ3VtZW50LCBhbgogICAgICogZXhpc3RpbmcgbW9kdWxlICh0aGUgbmFtZSBwYXNzZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIGBtb2R1bGVgKSBpcyByZXRyaWV2ZWQuCiAgICAgKgogICAgICoKICAgICAqICMgTW9kdWxlCiAgICAgKgogICAgICogQSBtb2R1bGUgaXMgYSBjb2xsZWN0aW9uIG9mIHNlcnZpY2VzLCBkaXJlY3RpdmVzLCBjb250cm9sbGVycywgZmlsdGVycywgYW5kIGNvbmZpZ3VyYXRpb24gaW5mb3JtYXRpb24uCiAgICAgKiBgYW5ndWxhci5tb2R1bGVgIGlzIHVzZWQgdG8gY29uZmlndXJlIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS4KICAgICAqCiAgICAgKiBgYGBqcwogICAgICogLy8gQ3JlYXRlIGEgbmV3IG1vZHVsZQogICAgICogdmFyIG15TW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ215TW9kdWxlJywgW10pOwogICAgICoKICAgICAqIC8vIHJlZ2lzdGVyIGEgbmV3IHNlcnZpY2UKICAgICAqIG15TW9kdWxlLnZhbHVlKCdhcHBOYW1lJywgJ015Q29vbEFwcCcpOwogICAgICoKICAgICAqIC8vIGNvbmZpZ3VyZSBleGlzdGluZyBzZXJ2aWNlcyBpbnNpZGUgaW5pdGlhbGl6YXRpb24gYmxvY2tzLgogICAgICogbXlNb2R1bGUuY29uZmlnKFsnJGxvY2F0aW9uUHJvdmlkZXInLCBmdW5jdGlvbigkbG9jYXRpb25Qcm92aWRlcikgewogICAgICogICAvLyBDb25maWd1cmUgZXhpc3RpbmcgcHJvdmlkZXJzCiAgICAgKiAgICRsb2NhdGlvblByb3ZpZGVyLmhhc2hQcmVmaXgoJyEnKTsKICAgICAqIH1dKTsKICAgICAqIGBgYAogICAgICoKICAgICAqIFRoZW4geW91IGNhbiBjcmVhdGUgYW4gaW5qZWN0b3IgYW5kIGxvYWQgeW91ciBtb2R1bGVzIGxpa2UgdGhpczoKICAgICAqCiAgICAgKiBgYGBqcwogICAgICogdmFyIGluamVjdG9yID0gYW5ndWxhci5pbmplY3RvcihbJ25nJywgJ215TW9kdWxlJ10pCiAgICAgKiBgYGAKICAgICAqCiAgICAgKiBIb3dldmVyIGl0J3MgbW9yZSBsaWtlbHkgdGhhdCB5b3UnbGwganVzdCB1c2UKICAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdBcHAgbmdBcHB9IG9yCiAgICAgKiB7QGxpbmsgYW5ndWxhci5ib290c3RyYXB9IHRvIHNpbXBsaWZ5IHRoaXMgcHJvY2VzcyBmb3IgeW91LgogICAgICoKICAgICAqIEBwYXJhbSB7IXN0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgbW9kdWxlIHRvIGNyZWF0ZSBvciByZXRyaWV2ZS4KICAgICAqIEBwYXJhbSB7IUFycmF5LjxzdHJpbmc+PX0gcmVxdWlyZXMgSWYgc3BlY2lmaWVkIHRoZW4gbmV3IG1vZHVsZSBpcyBiZWluZyBjcmVhdGVkLiBJZgogICAgICogICAgICAgIHVuc3BlY2lmaWVkIHRoZW4gdGhlIG1vZHVsZSBpcyBiZWluZyByZXRyaWV2ZWQgZm9yIGZ1cnRoZXIgY29uZmlndXJhdGlvbi4KICAgICAqIEBwYXJhbSB7RnVuY3Rpb249fSBjb25maWdGbiBPcHRpb25hbCBjb25maWd1cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGUgbW9kdWxlLiBTYW1lIGFzCiAgICAgKiAgICAgICAge0BsaW5rIGFuZ3VsYXIuTW9kdWxlI2NvbmZpZyBNb2R1bGUjY29uZmlnKCl9LgogICAgICogQHJldHVybnMge21vZHVsZX0gbmV3IG1vZHVsZSB3aXRoIHRoZSB7QGxpbmsgYW5ndWxhci5Nb2R1bGV9IGFwaS4KICAgICAqLwogICAgcmV0dXJuIGZ1bmN0aW9uIG1vZHVsZShuYW1lLCByZXF1aXJlcywgY29uZmlnRm4pIHsKICAgICAgdmFyIGFzc2VydE5vdEhhc093blByb3BlcnR5ID0gZnVuY3Rpb24obmFtZSwgY29udGV4dCkgewogICAgICAgIGlmIChuYW1lID09PSAnaGFzT3duUHJvcGVydHknKSB7CiAgICAgICAgICB0aHJvdyBuZ01pbkVycignYmFkbmFtZScsICdoYXNPd25Qcm9wZXJ0eSBpcyBub3QgYSB2YWxpZCB7MH0gbmFtZScsIGNvbnRleHQpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsICdtb2R1bGUnKTsKICAgICAgaWYgKHJlcXVpcmVzICYmIG1vZHVsZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHsKICAgICAgICBtb2R1bGVzW25hbWVdID0gbnVsbDsKICAgICAgfQogICAgICByZXR1cm4gZW5zdXJlKG1vZHVsZXMsIG5hbWUsIGZ1bmN0aW9uKCkgewogICAgICAgIGlmICghcmVxdWlyZXMpIHsKICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycignbm9tb2QnLCAiTW9kdWxlICd7MH0nIGlzIG5vdCBhdmFpbGFibGUhIFlvdSBlaXRoZXIgbWlzc3BlbGxlZCAiICsKICAgICAgICAgICAgICJ0aGUgbW9kdWxlIG5hbWUgb3IgZm9yZ290IHRvIGxvYWQgaXQuIElmIHJlZ2lzdGVyaW5nIGEgbW9kdWxlIGVuc3VyZSB0aGF0IHlvdSAiICsKICAgICAgICAgICAgICJzcGVjaWZ5IHRoZSBkZXBlbmRlbmNpZXMgYXMgdGhlIHNlY29uZCBhcmd1bWVudC4iLCBuYW1lKTsKICAgICAgICB9CgogICAgICAgIC8qKiBAdHlwZSB7IUFycmF5LjxBcnJheS48Kj4+fSAqLwogICAgICAgIHZhciBpbnZva2VRdWV1ZSA9IFtdOwoKICAgICAgICAvKiogQHR5cGUgeyFBcnJheS48RnVuY3Rpb24+fSAqLwogICAgICAgIHZhciBydW5CbG9ja3MgPSBbXTsKCiAgICAgICAgdmFyIGNvbmZpZyA9IGludm9rZUxhdGVyKCckaW5qZWN0b3InLCAnaW52b2tlJyk7CgogICAgICAgIC8qKiBAdHlwZSB7YW5ndWxhci5Nb2R1bGV9ICovCiAgICAgICAgdmFyIG1vZHVsZUluc3RhbmNlID0gewogICAgICAgICAgLy8gUHJpdmF0ZSBzdGF0ZQogICAgICAgICAgX2ludm9rZVF1ZXVlOiBpbnZva2VRdWV1ZSwKICAgICAgICAgIF9ydW5CbG9ja3M6IHJ1bkJsb2NrcywKCiAgICAgICAgICAvKioKICAgICAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eQogICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjcmVxdWlyZXMKICAgICAgICAgICAqIEBtb2R1bGUgbmcKICAgICAgICAgICAqIEByZXR1cm5zIHtBcnJheS48c3RyaW5nPn0gTGlzdCBvZiBtb2R1bGUgbmFtZXMgd2hpY2ggbXVzdCBiZSBsb2FkZWQgYmVmb3JlIHRoaXMgbW9kdWxlLgogICAgICAgICAgICogQGRlc2NyaXB0aW9uCiAgICAgICAgICAgKiBIb2xkcyB0aGUgbGlzdCBvZiBtb2R1bGVzIHdoaWNoIHRoZSBpbmplY3RvciB3aWxsIGxvYWQgYmVmb3JlIHRoZSBjdXJyZW50IG1vZHVsZSBpcwogICAgICAgICAgICogbG9hZGVkLgogICAgICAgICAgICovCiAgICAgICAgICByZXF1aXJlczogcmVxdWlyZXMsCgogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBAbmdkb2MgcHJvcGVydHkKICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI25hbWUKICAgICAgICAgICAqIEBtb2R1bGUgbmcKICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IE5hbWUgb2YgdGhlIG1vZHVsZS4KICAgICAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgICAgICovCiAgICAgICAgICBuYW1lOiBuYW1lLAoKCiAgICAgICAgICAvKioKICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI3Byb3ZpZGVyCiAgICAgICAgICAgKiBAbW9kdWxlIG5nCiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBzZXJ2aWNlIG5hbWUKICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3ZpZGVyVHlwZSBDb25zdHJ1Y3Rpb24gZnVuY3Rpb24gZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZSBvZiB0aGUKICAgICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlLgogICAgICAgICAgICogQGRlc2NyaXB0aW9uCiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjcHJvdmlkZXIgJHByb3ZpZGUucHJvdmlkZXIoKX0uCiAgICAgICAgICAgKi8KICAgICAgICAgIHByb3ZpZGVyOiBpbnZva2VMYXRlcignJHByb3ZpZGUnLCAncHJvdmlkZXInKSwKCiAgICAgICAgICAvKioKICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2ZhY3RvcnkKICAgICAgICAgICAqIEBtb2R1bGUgbmcKICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZQogICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvdmlkZXJGdW5jdGlvbiBGdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIHRoZSBzZXJ2aWNlLgogICAgICAgICAgICogQGRlc2NyaXB0aW9uCiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjZmFjdG9yeSAkcHJvdmlkZS5mYWN0b3J5KCl9LgogICAgICAgICAgICovCiAgICAgICAgICBmYWN0b3J5OiBpbnZva2VMYXRlcignJHByb3ZpZGUnLCAnZmFjdG9yeScpLAoKICAgICAgICAgIC8qKgogICAgICAgICAgICogQG5nZG9jIG1ldGhvZAogICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjc2VydmljZQogICAgICAgICAgICogQG1vZHVsZSBuZwogICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgc2VydmljZSBuYW1lCiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciBBIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBpbnN0YW50aWF0ZWQuCiAgICAgICAgICAgKiBAZGVzY3JpcHRpb24KICAgICAgICAgICAqIFNlZSB7QGxpbmsgYXV0by4kcHJvdmlkZSNzZXJ2aWNlICRwcm92aWRlLnNlcnZpY2UoKX0uCiAgICAgICAgICAgKi8KICAgICAgICAgIHNlcnZpY2U6IGludm9rZUxhdGVyKCckcHJvdmlkZScsICdzZXJ2aWNlJyksCgogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSN2YWx1ZQogICAgICAgICAgICogQG1vZHVsZSBuZwogICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgc2VydmljZSBuYW1lCiAgICAgICAgICAgKiBAcGFyYW0geyp9IG9iamVjdCBTZXJ2aWNlIGluc3RhbmNlIG9iamVjdC4KICAgICAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI3ZhbHVlICRwcm92aWRlLnZhbHVlKCl9LgogICAgICAgICAgICovCiAgICAgICAgICB2YWx1ZTogaW52b2tlTGF0ZXIoJyRwcm92aWRlJywgJ3ZhbHVlJyksCgogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNjb25zdGFudAogICAgICAgICAgICogQG1vZHVsZSBuZwogICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgY29uc3RhbnQgbmFtZQogICAgICAgICAgICogQHBhcmFtIHsqfSBvYmplY3QgQ29uc3RhbnQgdmFsdWUuCiAgICAgICAgICAgKiBAZGVzY3JpcHRpb24KICAgICAgICAgICAqIEJlY2F1c2UgdGhlIGNvbnN0YW50IGFyZSBmaXhlZCwgdGhleSBnZXQgYXBwbGllZCBiZWZvcmUgb3RoZXIgcHJvdmlkZSBtZXRob2RzLgogICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI2NvbnN0YW50ICRwcm92aWRlLmNvbnN0YW50KCl9LgogICAgICAgICAgICovCiAgICAgICAgICBjb25zdGFudDogaW52b2tlTGF0ZXIoJyRwcm92aWRlJywgJ2NvbnN0YW50JywgJ3Vuc2hpZnQnKSwKCiAgICAgICAgICAvKioKICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2FuaW1hdGlvbgogICAgICAgICAgICogQG1vZHVsZSBuZwogICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgYW5pbWF0aW9uIG5hbWUKICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFuaW1hdGlvbkZhY3RvcnkgRmFjdG9yeSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIGFuCiAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi4KICAgICAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgICAgICoKICAgICAgICAgICAqICoqTk9URSoqOiBhbmltYXRpb25zIHRha2UgZWZmZWN0IG9ubHkgaWYgdGhlICoqbmdBbmltYXRlKiogbW9kdWxlIGlzIGxvYWRlZC4KICAgICAgICAgICAqCiAgICAgICAgICAgKgogICAgICAgICAgICogRGVmaW5lcyBhbiBhbmltYXRpb24gaG9vayB0aGF0IGNhbiBiZSBsYXRlciB1c2VkIHdpdGgKICAgICAgICAgICAqIHtAbGluayBuZ0FuaW1hdGUuJGFuaW1hdGUgJGFuaW1hdGV9IHNlcnZpY2UgYW5kIGRpcmVjdGl2ZXMgdGhhdCB1c2UgdGhpcyBzZXJ2aWNlLgogICAgICAgICAgICoKICAgICAgICAgICAqIGBgYGpzCiAgICAgICAgICAgKiBtb2R1bGUuYW5pbWF0aW9uKCcuYW5pbWF0aW9uLW5hbWUnLCBmdW5jdGlvbigkaW5qZWN0MSwgJGluamVjdDIpIHsKICAgICAgICAgICAqICAgcmV0dXJuIHsKICAgICAgICAgICAqICAgICBldmVudE5hbWUgOiBmdW5jdGlvbihlbGVtZW50LCBkb25lKSB7CiAgICAgICAgICAgKiAgICAgICAvL2NvZGUgdG8gcnVuIHRoZSBhbmltYXRpb24KICAgICAgICAgICAqICAgICAgIC8vb25jZSBjb21wbGV0ZSwgdGhlbiBydW4gZG9uZSgpCiAgICAgICAgICAgKiAgICAgICByZXR1cm4gZnVuY3Rpb24gY2FuY2VsbGF0aW9uRnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgICAgICogICAgICAgICAvL2NvZGUgdG8gY2FuY2VsIHRoZSBhbmltYXRpb24KICAgICAgICAgICAqICAgICAgIH0KICAgICAgICAgICAqICAgICB9CiAgICAgICAgICAgKiAgIH0KICAgICAgICAgICAqIH0pCiAgICAgICAgICAgKiBgYGAKICAgICAgICAgICAqCiAgICAgICAgICAgKiBTZWUge0BsaW5rIG5nQW5pbWF0ZS4kYW5pbWF0ZVByb3ZpZGVyI3JlZ2lzdGVyICRhbmltYXRlUHJvdmlkZXIucmVnaXN0ZXIoKX0gYW5kCiAgICAgICAgICAgKiB7QGxpbmsgbmdBbmltYXRlIG5nQW5pbWF0ZSBtb2R1bGV9IGZvciBtb3JlIGluZm9ybWF0aW9uLgogICAgICAgICAgICovCiAgICAgICAgICBhbmltYXRpb246IGludm9rZUxhdGVyKCckYW5pbWF0ZVByb3ZpZGVyJywgJ3JlZ2lzdGVyJyksCgogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNmaWx0ZXIKICAgICAgICAgICAqIEBtb2R1bGUgbmcKICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEZpbHRlciBuYW1lLgogICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmlsdGVyRmFjdG9yeSBGYWN0b3J5IGZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2YgZmlsdGVyLgogICAgICAgICAgICogQGRlc2NyaXB0aW9uCiAgICAgICAgICAgKiBTZWUge0BsaW5rIG5nLiRmaWx0ZXJQcm92aWRlciNyZWdpc3RlciAkZmlsdGVyUHJvdmlkZXIucmVnaXN0ZXIoKX0uCiAgICAgICAgICAgKi8KICAgICAgICAgIGZpbHRlcjogaW52b2tlTGF0ZXIoJyRmaWx0ZXJQcm92aWRlcicsICdyZWdpc3RlcicpLAoKICAgICAgICAgIC8qKgogICAgICAgICAgICogQG5nZG9jIG1ldGhvZAogICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjY29udHJvbGxlcgogICAgICAgICAgICogQG1vZHVsZSBuZwogICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBuYW1lIENvbnRyb2xsZXIgbmFtZSwgb3IgYW4gb2JqZWN0IG1hcCBvZiBjb250cm9sbGVycyB3aGVyZSB0aGUKICAgICAgICAgICAqICAgIGtleXMgYXJlIHRoZSBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGNvbnN0cnVjdG9ycy4KICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbnN0cnVjdG9yIENvbnRyb2xsZXIgY29uc3RydWN0b3IgZnVuY3Rpb24uCiAgICAgICAgICAgKiBAZGVzY3JpcHRpb24KICAgICAgICAgICAqIFNlZSB7QGxpbmsgbmcuJGNvbnRyb2xsZXJQcm92aWRlciNyZWdpc3RlciAkY29udHJvbGxlclByb3ZpZGVyLnJlZ2lzdGVyKCl9LgogICAgICAgICAgICovCiAgICAgICAgICBjb250cm9sbGVyOiBpbnZva2VMYXRlcignJGNvbnRyb2xsZXJQcm92aWRlcicsICdyZWdpc3RlcicpLAoKICAgICAgICAgIC8qKgogICAgICAgICAgICogQG5nZG9jIG1ldGhvZAogICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjZGlyZWN0aXZlCiAgICAgICAgICAgKiBAbW9kdWxlIG5nCiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG5hbWUgRGlyZWN0aXZlIG5hbWUsIG9yIGFuIG9iamVjdCBtYXAgb2YgZGlyZWN0aXZlcyB3aGVyZSB0aGUKICAgICAgICAgICAqICAgIGtleXMgYXJlIHRoZSBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGZhY3Rvcmllcy4KICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGRpcmVjdGl2ZUZhY3RvcnkgRmFjdG9yeSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mCiAgICAgICAgICAgKiBkaXJlY3RpdmVzLgogICAgICAgICAgICogQGRlc2NyaXB0aW9uCiAgICAgICAgICAgKiBTZWUge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIjZGlyZWN0aXZlICRjb21waWxlUHJvdmlkZXIuZGlyZWN0aXZlKCl9LgogICAgICAgICAgICovCiAgICAgICAgICBkaXJlY3RpdmU6IGludm9rZUxhdGVyKCckY29tcGlsZVByb3ZpZGVyJywgJ2RpcmVjdGl2ZScpLAoKICAgICAgICAgIC8qKgogICAgICAgICAgICogQG5nZG9jIG1ldGhvZAogICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjY29uZmlnCiAgICAgICAgICAgKiBAbW9kdWxlIG5nCiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25maWdGbiBFeGVjdXRlIHRoaXMgZnVuY3Rpb24gb24gbW9kdWxlIGxvYWQuIFVzZWZ1bCBmb3Igc2VydmljZQogICAgICAgICAgICogICAgY29uZmlndXJhdGlvbi4KICAgICAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgICAgICogVXNlIHRoaXMgbWV0aG9kIHRvIHJlZ2lzdGVyIHdvcmsgd2hpY2ggbmVlZHMgdG8gYmUgcGVyZm9ybWVkIG9uIG1vZHVsZSBsb2FkaW5nLgogICAgICAgICAgICogRm9yIG1vcmUgYWJvdXQgaG93IHRvIGNvbmZpZ3VyZSBzZXJ2aWNlcywgc2VlCiAgICAgICAgICAgKiB7QGxpbmsgcHJvdmlkZXJzI3Byb3ZpZGVyc19wcm92aWRlci1yZWNpcGUgUHJvdmlkZXIgUmVjaXBlfS4KICAgICAgICAgICAqLwogICAgICAgICAgY29uZmlnOiBjb25maWcsCgogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNydW4KICAgICAgICAgICAqIEBtb2R1bGUgbmcKICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGluaXRpYWxpemF0aW9uRm4gRXhlY3V0ZSB0aGlzIGZ1bmN0aW9uIGFmdGVyIGluamVjdG9yIGNyZWF0aW9uLgogICAgICAgICAgICogICAgVXNlZnVsIGZvciBhcHBsaWNhdGlvbiBpbml0aWFsaXphdGlvbi4KICAgICAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgICAgICogVXNlIHRoaXMgbWV0aG9kIHRvIHJlZ2lzdGVyIHdvcmsgd2hpY2ggc2hvdWxkIGJlIHBlcmZvcm1lZCB3aGVuIHRoZSBpbmplY3RvciBpcyBkb25lCiAgICAgICAgICAgKiBsb2FkaW5nIGFsbCBtb2R1bGVzLgogICAgICAgICAgICovCiAgICAgICAgICBydW46IGZ1bmN0aW9uKGJsb2NrKSB7CiAgICAgICAgICAgIHJ1bkJsb2Nrcy5wdXNoKGJsb2NrKTsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgaWYgKGNvbmZpZ0ZuKSB7CiAgICAgICAgICBjb25maWcoY29uZmlnRm4pOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICBtb2R1bGVJbnN0YW5jZTsKCiAgICAgICAgLyoqCiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3ZpZGVyCiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZAogICAgICAgICAqIEBwYXJhbSB7U3RyaW5nPX0gaW5zZXJ0TWV0aG9kCiAgICAgICAgICogQHJldHVybnMge2FuZ3VsYXIuTW9kdWxlfQogICAgICAgICAqLwogICAgICAgIGZ1bmN0aW9uIGludm9rZUxhdGVyKHByb3ZpZGVyLCBtZXRob2QsIGluc2VydE1ldGhvZCkgewogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpbnZva2VRdWV1ZVtpbnNlcnRNZXRob2QgfHwgJ3B1c2gnXShbcHJvdmlkZXIsIG1ldGhvZCwgYXJndW1lbnRzXSk7CiAgICAgICAgICAgIHJldHVybiBtb2R1bGVJbnN0YW5jZTsKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CiAgfSk7Cgp9CgovKiBnbG9iYWwKICAgIGFuZ3VsYXJNb2R1bGU6IHRydWUsCiAgICB2ZXJzaW9uOiB0cnVlLAoKICAgICRMb2NhbGVQcm92aWRlciwKICAgICRDb21waWxlUHJvdmlkZXIsCgogICAgaHRtbEFuY2hvckRpcmVjdGl2ZSwKICAgIGlucHV0RGlyZWN0aXZlLAogICAgaW5wdXREaXJlY3RpdmUsCiAgICBmb3JtRGlyZWN0aXZlLAogICAgc2NyaXB0RGlyZWN0aXZlLAogICAgc2VsZWN0RGlyZWN0aXZlLAogICAgc3R5bGVEaXJlY3RpdmUsCiAgICBvcHRpb25EaXJlY3RpdmUsCiAgICBuZ0JpbmREaXJlY3RpdmUsCiAgICBuZ0JpbmRIdG1sRGlyZWN0aXZlLAogICAgbmdCaW5kVGVtcGxhdGVEaXJlY3RpdmUsCiAgICBuZ0NsYXNzRGlyZWN0aXZlLAogICAgbmdDbGFzc0V2ZW5EaXJlY3RpdmUsCiAgICBuZ0NsYXNzT2RkRGlyZWN0aXZlLAogICAgbmdDc3BEaXJlY3RpdmUsCiAgICBuZ0Nsb2FrRGlyZWN0aXZlLAogICAgbmdDb250cm9sbGVyRGlyZWN0aXZlLAogICAgbmdGb3JtRGlyZWN0aXZlLAogICAgbmdIaWRlRGlyZWN0aXZlLAogICAgbmdJZkRpcmVjdGl2ZSwKICAgIG5nSW5jbHVkZURpcmVjdGl2ZSwKICAgIG5nSW5jbHVkZUZpbGxDb250ZW50RGlyZWN0aXZlLAogICAgbmdJbml0RGlyZWN0aXZlLAogICAgbmdOb25CaW5kYWJsZURpcmVjdGl2ZSwKICAgIG5nUGx1cmFsaXplRGlyZWN0aXZlLAogICAgbmdSZXBlYXREaXJlY3RpdmUsCiAgICBuZ1Nob3dEaXJlY3RpdmUsCiAgICBuZ1N0eWxlRGlyZWN0aXZlLAogICAgbmdTd2l0Y2hEaXJlY3RpdmUsCiAgICBuZ1N3aXRjaFdoZW5EaXJlY3RpdmUsCiAgICBuZ1N3aXRjaERlZmF1bHREaXJlY3RpdmUsCiAgICBuZ09wdGlvbnNEaXJlY3RpdmUsCiAgICBuZ1RyYW5zY2x1ZGVEaXJlY3RpdmUsCiAgICBuZ01vZGVsRGlyZWN0aXZlLAogICAgbmdMaXN0RGlyZWN0aXZlLAogICAgbmdDaGFuZ2VEaXJlY3RpdmUsCiAgICByZXF1aXJlZERpcmVjdGl2ZSwKICAgIHJlcXVpcmVkRGlyZWN0aXZlLAogICAgbmdWYWx1ZURpcmVjdGl2ZSwKICAgIG5nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzLAogICAgbmdFdmVudERpcmVjdGl2ZXMsCgogICAgJEFuY2hvclNjcm9sbFByb3ZpZGVyLAogICAgJEFuaW1hdGVQcm92aWRlciwKICAgICRCcm93c2VyUHJvdmlkZXIsCiAgICAkQ2FjaGVGYWN0b3J5UHJvdmlkZXIsCiAgICAkQ29udHJvbGxlclByb3ZpZGVyLAogICAgJERvY3VtZW50UHJvdmlkZXIsCiAgICAkRXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyLAogICAgJEZpbHRlclByb3ZpZGVyLAogICAgJEludGVycG9sYXRlUHJvdmlkZXIsCiAgICAkSW50ZXJ2YWxQcm92aWRlciwKICAgICRIdHRwUHJvdmlkZXIsCiAgICAkSHR0cEJhY2tlbmRQcm92aWRlciwKICAgICRMb2NhdGlvblByb3ZpZGVyLAogICAgJExvZ1Byb3ZpZGVyLAogICAgJFBhcnNlUHJvdmlkZXIsCiAgICAkUm9vdFNjb3BlUHJvdmlkZXIsCiAgICAkUVByb3ZpZGVyLAogICAgJCRTYW5pdGl6ZVVyaVByb3ZpZGVyLAogICAgJFNjZVByb3ZpZGVyLAogICAgJFNjZURlbGVnYXRlUHJvdmlkZXIsCiAgICAkU25pZmZlclByb3ZpZGVyLAogICAgJFRlbXBsYXRlQ2FjaGVQcm92aWRlciwKICAgICRUaW1lb3V0UHJvdmlkZXIsCiAgICAkJFJBRlByb3ZpZGVyLAogICAgJCRBc3luY0NhbGxiYWNrUHJvdmlkZXIsCiAgICAkV2luZG93UHJvdmlkZXIKKi8KCgovKioKICogQG5nZG9jIG9iamVjdAogKiBAbmFtZSBhbmd1bGFyLnZlcnNpb24KICogQG1vZHVsZSBuZwogKiBAZGVzY3JpcHRpb24KICogQW4gb2JqZWN0IHRoYXQgY29udGFpbnMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGN1cnJlbnQgQW5ndWxhckpTIHZlcnNpb24uIFRoaXMgb2JqZWN0IGhhcyB0aGUKICogZm9sbG93aW5nIHByb3BlcnRpZXM6CiAqCiAqIC0gYGZ1bGxgIOKAkyBge3N0cmluZ31gIOKAkyBGdWxsIHZlcnNpb24gc3RyaW5nLCBzdWNoIGFzICIwLjkuMTgiLgogKiAtIGBtYWpvcmAg4oCTIGB7bnVtYmVyfWAg4oCTIE1ham9yIHZlcnNpb24gbnVtYmVyLCBzdWNoIGFzICIwIi4KICogLSBgbWlub3JgIOKAkyBge251bWJlcn1gIOKAkyBNaW5vciB2ZXJzaW9uIG51bWJlciwgc3VjaCBhcyAiOSIuCiAqIC0gYGRvdGAg4oCTIGB7bnVtYmVyfWAg4oCTIERvdCB2ZXJzaW9uIG51bWJlciwgc3VjaCBhcyAiMTgiLgogKiAtIGBjb2RlTmFtZWAg4oCTIGB7c3RyaW5nfWAg4oCTIENvZGUgbmFtZSBvZiB0aGUgcmVsZWFzZSwgc3VjaCBhcyAiamlnZ2xpbmctYXJtZmF0Ii4KICovCnZhciB2ZXJzaW9uID0gewogIGZ1bGw6ICcxLjIuMTknLCAgICAvLyBhbGwgb2YgdGhlc2UgcGxhY2Vob2xkZXIgc3RyaW5ncyB3aWxsIGJlIHJlcGxhY2VkIGJ5IGdydW50J3MKICBtYWpvcjogMSwgICAgLy8gcGFja2FnZSB0YXNrCiAgbWlub3I6IDIsCiAgZG90OiAxOSwKICBjb2RlTmFtZTogJ3ByZWNvZ25pdGl2ZS1mbGFzaGJhY2tzJwp9OwoKCmZ1bmN0aW9uIHB1Ymxpc2hFeHRlcm5hbEFQSShhbmd1bGFyKXsKICBleHRlbmQoYW5ndWxhciwgewogICAgJ2Jvb3RzdHJhcCc6IGJvb3RzdHJhcCwKICAgICdjb3B5JzogY29weSwKICAgICdleHRlbmQnOiBleHRlbmQsCiAgICAnZXF1YWxzJzogZXF1YWxzLAogICAgJ2VsZW1lbnQnOiBqcUxpdGUsCiAgICAnZm9yRWFjaCc6IGZvckVhY2gsCiAgICAnaW5qZWN0b3InOiBjcmVhdGVJbmplY3RvciwKICAgICdub29wJzpub29wLAogICAgJ2JpbmQnOmJpbmQsCiAgICAndG9Kc29uJzogdG9Kc29uLAogICAgJ2Zyb21Kc29uJzogZnJvbUpzb24sCiAgICAnaWRlbnRpdHknOmlkZW50aXR5LAogICAgJ2lzVW5kZWZpbmVkJzogaXNVbmRlZmluZWQsCiAgICAnaXNEZWZpbmVkJzogaXNEZWZpbmVkLAogICAgJ2lzU3RyaW5nJzogaXNTdHJpbmcsCiAgICAnaXNGdW5jdGlvbic6IGlzRnVuY3Rpb24sCiAgICAnaXNPYmplY3QnOiBpc09iamVjdCwKICAgICdpc051bWJlcic6IGlzTnVtYmVyLAogICAgJ2lzRWxlbWVudCc6IGlzRWxlbWVudCwKICAgICdpc0FycmF5JzogaXNBcnJheSwKICAgICd2ZXJzaW9uJzogdmVyc2lvbiwKICAgICdpc0RhdGUnOiBpc0RhdGUsCiAgICAnbG93ZXJjYXNlJzogbG93ZXJjYXNlLAogICAgJ3VwcGVyY2FzZSc6IHVwcGVyY2FzZSwKICAgICdjYWxsYmFja3MnOiB7Y291bnRlcjogMH0sCiAgICAnJCRtaW5FcnInOiBtaW5FcnIsCiAgICAnJCRjc3AnOiBjc3AKICB9KTsKCiAgYW5ndWxhck1vZHVsZSA9IHNldHVwTW9kdWxlTG9hZGVyKHdpbmRvdyk7CiAgdHJ5IHsKICAgIGFuZ3VsYXJNb2R1bGUoJ25nTG9jYWxlJyk7CiAgfSBjYXRjaCAoZSkgewogICAgYW5ndWxhck1vZHVsZSgnbmdMb2NhbGUnLCBbXSkucHJvdmlkZXIoJyRsb2NhbGUnLCAkTG9jYWxlUHJvdmlkZXIpOwogIH0KCiAgYW5ndWxhck1vZHVsZSgnbmcnLCBbJ25nTG9jYWxlJ10sIFsnJHByb3ZpZGUnLAogICAgZnVuY3Rpb24gbmdNb2R1bGUoJHByb3ZpZGUpIHsKICAgICAgLy8gJCRzYW5pdGl6ZVVyaVByb3ZpZGVyIG5lZWRzIHRvIGJlIGJlZm9yZSAkY29tcGlsZVByb3ZpZGVyIGFzIGl0IGlzIHVzZWQgYnkgaXQuCiAgICAgICRwcm92aWRlLnByb3ZpZGVyKHsKICAgICAgICAkJHNhbml0aXplVXJpOiAkJFNhbml0aXplVXJpUHJvdmlkZXIKICAgICAgfSk7CiAgICAgICRwcm92aWRlLnByb3ZpZGVyKCckY29tcGlsZScsICRDb21waWxlUHJvdmlkZXIpLgogICAgICAgIGRpcmVjdGl2ZSh7CiAgICAgICAgICAgIGE6IGh0bWxBbmNob3JEaXJlY3RpdmUsCiAgICAgICAgICAgIGlucHV0OiBpbnB1dERpcmVjdGl2ZSwKICAgICAgICAgICAgdGV4dGFyZWE6IGlucHV0RGlyZWN0aXZlLAogICAgICAgICAgICBmb3JtOiBmb3JtRGlyZWN0aXZlLAogICAgICAgICAgICBzY3JpcHQ6IHNjcmlwdERpcmVjdGl2ZSwKICAgICAgICAgICAgc2VsZWN0OiBzZWxlY3REaXJlY3RpdmUsCiAgICAgICAgICAgIHN0eWxlOiBzdHlsZURpcmVjdGl2ZSwKICAgICAgICAgICAgb3B0aW9uOiBvcHRpb25EaXJlY3RpdmUsCiAgICAgICAgICAgIG5nQmluZDogbmdCaW5kRGlyZWN0aXZlLAogICAgICAgICAgICBuZ0JpbmRIdG1sOiBuZ0JpbmRIdG1sRGlyZWN0aXZlLAogICAgICAgICAgICBuZ0JpbmRUZW1wbGF0ZTogbmdCaW5kVGVtcGxhdGVEaXJlY3RpdmUsCiAgICAgICAgICAgIG5nQ2xhc3M6IG5nQ2xhc3NEaXJlY3RpdmUsCiAgICAgICAgICAgIG5nQ2xhc3NFdmVuOiBuZ0NsYXNzRXZlbkRpcmVjdGl2ZSwKICAgICAgICAgICAgbmdDbGFzc09kZDogbmdDbGFzc09kZERpcmVjdGl2ZSwKICAgICAgICAgICAgbmdDbG9hazogbmdDbG9ha0RpcmVjdGl2ZSwKICAgICAgICAgICAgbmdDb250cm9sbGVyOiBuZ0NvbnRyb2xsZXJEaXJlY3RpdmUsCiAgICAgICAgICAgIG5nRm9ybTogbmdGb3JtRGlyZWN0aXZlLAogICAgICAgICAgICBuZ0hpZGU6IG5nSGlkZURpcmVjdGl2ZSwKICAgICAgICAgICAgbmdJZjogbmdJZkRpcmVjdGl2ZSwKICAgICAgICAgICAgbmdJbmNsdWRlOiBuZ0luY2x1ZGVEaXJlY3RpdmUsCiAgICAgICAgICAgIG5nSW5pdDogbmdJbml0RGlyZWN0aXZlLAogICAgICAgICAgICBuZ05vbkJpbmRhYmxlOiBuZ05vbkJpbmRhYmxlRGlyZWN0aXZlLAogICAgICAgICAgICBuZ1BsdXJhbGl6ZTogbmdQbHVyYWxpemVEaXJlY3RpdmUsCiAgICAgICAgICAgIG5nUmVwZWF0OiBuZ1JlcGVhdERpcmVjdGl2ZSwKICAgICAgICAgICAgbmdTaG93OiBuZ1Nob3dEaXJlY3RpdmUsCiAgICAgICAgICAgIG5nU3R5bGU6IG5nU3R5bGVEaXJlY3RpdmUsCiAgICAgICAgICAgIG5nU3dpdGNoOiBuZ1N3aXRjaERpcmVjdGl2ZSwKICAgICAgICAgICAgbmdTd2l0Y2hXaGVuOiBuZ1N3aXRjaFdoZW5EaXJlY3RpdmUsCiAgICAgICAgICAgIG5nU3dpdGNoRGVmYXVsdDogbmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlLAogICAgICAgICAgICBuZ09wdGlvbnM6IG5nT3B0aW9uc0RpcmVjdGl2ZSwKICAgICAgICAgICAgbmdUcmFuc2NsdWRlOiBuZ1RyYW5zY2x1ZGVEaXJlY3RpdmUsCiAgICAgICAgICAgIG5nTW9kZWw6IG5nTW9kZWxEaXJlY3RpdmUsCiAgICAgICAgICAgIG5nTGlzdDogbmdMaXN0RGlyZWN0aXZlLAogICAgICAgICAgICBuZ0NoYW5nZTogbmdDaGFuZ2VEaXJlY3RpdmUsCiAgICAgICAgICAgIHJlcXVpcmVkOiByZXF1aXJlZERpcmVjdGl2ZSwKICAgICAgICAgICAgbmdSZXF1aXJlZDogcmVxdWlyZWREaXJlY3RpdmUsCiAgICAgICAgICAgIG5nVmFsdWU6IG5nVmFsdWVEaXJlY3RpdmUKICAgICAgICB9KS4KICAgICAgICBkaXJlY3RpdmUoewogICAgICAgICAgbmdJbmNsdWRlOiBuZ0luY2x1ZGVGaWxsQ29udGVudERpcmVjdGl2ZQogICAgICAgIH0pLgogICAgICAgIGRpcmVjdGl2ZShuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcykuCiAgICAgICAgZGlyZWN0aXZlKG5nRXZlbnREaXJlY3RpdmVzKTsKICAgICAgJHByb3ZpZGUucHJvdmlkZXIoewogICAgICAgICRhbmNob3JTY3JvbGw6ICRBbmNob3JTY3JvbGxQcm92aWRlciwKICAgICAgICAkYW5pbWF0ZTogJEFuaW1hdGVQcm92aWRlciwKICAgICAgICAkYnJvd3NlcjogJEJyb3dzZXJQcm92aWRlciwKICAgICAgICAkY2FjaGVGYWN0b3J5OiAkQ2FjaGVGYWN0b3J5UHJvdmlkZXIsCiAgICAgICAgJGNvbnRyb2xsZXI6ICRDb250cm9sbGVyUHJvdmlkZXIsCiAgICAgICAgJGRvY3VtZW50OiAkRG9jdW1lbnRQcm92aWRlciwKICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcjogJEV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlciwKICAgICAgICAkZmlsdGVyOiAkRmlsdGVyUHJvdmlkZXIsCiAgICAgICAgJGludGVycG9sYXRlOiAkSW50ZXJwb2xhdGVQcm92aWRlciwKICAgICAgICAkaW50ZXJ2YWw6ICRJbnRlcnZhbFByb3ZpZGVyLAogICAgICAgICRodHRwOiAkSHR0cFByb3ZpZGVyLAogICAgICAgICRodHRwQmFja2VuZDogJEh0dHBCYWNrZW5kUHJvdmlkZXIsCiAgICAgICAgJGxvY2F0aW9uOiAkTG9jYXRpb25Qcm92aWRlciwKICAgICAgICAkbG9nOiAkTG9nUHJvdmlkZXIsCiAgICAgICAgJHBhcnNlOiAkUGFyc2VQcm92aWRlciwKICAgICAgICAkcm9vdFNjb3BlOiAkUm9vdFNjb3BlUHJvdmlkZXIsCiAgICAgICAgJHE6ICRRUHJvdmlkZXIsCiAgICAgICAgJHNjZTogJFNjZVByb3ZpZGVyLAogICAgICAgICRzY2VEZWxlZ2F0ZTogJFNjZURlbGVnYXRlUHJvdmlkZXIsCiAgICAgICAgJHNuaWZmZXI6ICRTbmlmZmVyUHJvdmlkZXIsCiAgICAgICAgJHRlbXBsYXRlQ2FjaGU6ICRUZW1wbGF0ZUNhY2hlUHJvdmlkZXIsCiAgICAgICAgJHRpbWVvdXQ6ICRUaW1lb3V0UHJvdmlkZXIsCiAgICAgICAgJHdpbmRvdzogJFdpbmRvd1Byb3ZpZGVyLAogICAgICAgICQkckFGOiAkJFJBRlByb3ZpZGVyLAogICAgICAgICQkYXN5bmNDYWxsYmFjayA6ICQkQXN5bmNDYWxsYmFja1Byb3ZpZGVyCiAgICAgIH0pOwogICAgfQogIF0pOwp9CgovKiBnbG9iYWwKCiAgLUpRTGl0ZVByb3RvdHlwZSwKICAtYWRkRXZlbnRMaXN0ZW5lckZuLAogIC1yZW1vdmVFdmVudExpc3RlbmVyRm4sCiAgLUJPT0xFQU5fQVRUUgoqLwoKLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwovL0pRTGl0ZQovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgovKioKICogQG5nZG9jIGZ1bmN0aW9uCiAqIEBuYW1lIGFuZ3VsYXIuZWxlbWVudAogKiBAbW9kdWxlIG5nCiAqIEBraW5kIGZ1bmN0aW9uCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBXcmFwcyBhIHJhdyBET00gZWxlbWVudCBvciBIVE1MIHN0cmluZyBhcyBhIFtqUXVlcnldKGh0dHA6Ly9qcXVlcnkuY29tKSBlbGVtZW50LgogKgogKiBJZiBqUXVlcnkgaXMgYXZhaWxhYmxlLCBgYW5ndWxhci5lbGVtZW50YCBpcyBhbiBhbGlhcyBmb3IgdGhlCiAqIFtqUXVlcnldKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9qUXVlcnkvKSBmdW5jdGlvbi4gSWYgalF1ZXJ5IGlzIG5vdCBhdmFpbGFibGUsIGBhbmd1bGFyLmVsZW1lbnRgCiAqIGRlbGVnYXRlcyB0byBBbmd1bGFyJ3MgYnVpbHQtaW4gc3Vic2V0IG9mIGpRdWVyeSwgY2FsbGVkICJqUXVlcnkgbGl0ZSIgb3IgImpxTGl0ZS4iCiAqCiAqIDxkaXYgY2xhc3M9ImFsZXJ0IGFsZXJ0LXN1Y2Nlc3MiPmpxTGl0ZSBpcyBhIHRpbnksIEFQSS1jb21wYXRpYmxlIHN1YnNldCBvZiBqUXVlcnkgdGhhdCBhbGxvd3MKICogQW5ndWxhciB0byBtYW5pcHVsYXRlIHRoZSBET00gaW4gYSBjcm9zcy1icm93c2VyIGNvbXBhdGlibGUgd2F5LiAqKmpxTGl0ZSoqIGltcGxlbWVudHMgb25seSB0aGUgbW9zdAogKiBjb21tb25seSBuZWVkZWQgZnVuY3Rpb25hbGl0eSB3aXRoIHRoZSBnb2FsIG9mIGhhdmluZyBhIHZlcnkgc21hbGwgZm9vdHByaW50LjwvZGl2PgogKgogKiBUbyB1c2UgalF1ZXJ5LCBzaW1wbHkgbG9hZCBpdCBiZWZvcmUgYERPTUNvbnRlbnRMb2FkZWRgIGV2ZW50IGZpcmVkLgogKgogKiA8ZGl2IGNsYXNzPSJhbGVydCI+KipOb3RlOioqIGFsbCBlbGVtZW50IHJlZmVyZW5jZXMgaW4gQW5ndWxhciBhcmUgYWx3YXlzIHdyYXBwZWQgd2l0aCBqUXVlcnkgb3IKICoganFMaXRlOyB0aGV5IGFyZSBuZXZlciByYXcgRE9NIHJlZmVyZW5jZXMuPC9kaXY+CiAqCiAqICMjIEFuZ3VsYXIncyBqcUxpdGUKICoganFMaXRlIHByb3ZpZGVzIG9ubHkgdGhlIGZvbGxvd2luZyBqUXVlcnkgbWV0aG9kczoKICoKICogLSBbYGFkZENsYXNzKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vYWRkQ2xhc3MvKQogKiAtIFtgYWZ0ZXIoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hZnRlci8pCiAqIC0gW2BhcHBlbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hcHBlbmQvKQogKiAtIFtgYXR0cigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2F0dHIvKQogKiAtIFtgYmluZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2JpbmQvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcywgc2VsZWN0b3JzIG9yIGV2ZW50RGF0YQogKiAtIFtgY2hpbGRyZW4oKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jaGlsZHJlbi8pIC0gRG9lcyBub3Qgc3VwcG9ydCBzZWxlY3RvcnMKICogLSBbYGNsb25lKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vY2xvbmUvKQogKiAtIFtgY29udGVudHMoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jb250ZW50cy8pCiAqIC0gW2Bjc3MoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jc3MvKQogKiAtIFtgZGF0YSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2RhdGEvKQogKiAtIFtgZW1wdHkoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9lbXB0eS8pCiAqIC0gW2BlcSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2VxLykKICogLSBbYGZpbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9maW5kLykgLSBMaW1pdGVkIHRvIGxvb2t1cHMgYnkgdGFnIG5hbWUKICogLSBbYGhhc0NsYXNzKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vaGFzQ2xhc3MvKQogKiAtIFtgaHRtbCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2h0bWwvKQogKiAtIFtgbmV4dCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL25leHQvKSAtIERvZXMgbm90IHN1cHBvcnQgc2VsZWN0b3JzCiAqIC0gW2BvbigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL29uLykgLSBEb2VzIG5vdCBzdXBwb3J0IG5hbWVzcGFjZXMsIHNlbGVjdG9ycyBvciBldmVudERhdGEKICogLSBbYG9mZigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL29mZi8pIC0gRG9lcyBub3Qgc3VwcG9ydCBuYW1lc3BhY2VzIG9yIHNlbGVjdG9ycwogKiAtIFtgb25lKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vb25lLykgLSBEb2VzIG5vdCBzdXBwb3J0IG5hbWVzcGFjZXMgb3Igc2VsZWN0b3JzCiAqIC0gW2BwYXJlbnQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9wYXJlbnQvKSAtIERvZXMgbm90IHN1cHBvcnQgc2VsZWN0b3JzCiAqIC0gW2BwcmVwZW5kKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcHJlcGVuZC8pCiAqIC0gW2Bwcm9wKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcHJvcC8pCiAqIC0gW2ByZWFkeSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlYWR5LykKICogLSBbYHJlbW92ZSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlbW92ZS8pCiAqIC0gW2ByZW1vdmVBdHRyKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcmVtb3ZlQXR0ci8pCiAqIC0gW2ByZW1vdmVDbGFzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlbW92ZUNsYXNzLykKICogLSBbYHJlbW92ZURhdGEoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZW1vdmVEYXRhLykKICogLSBbYHJlcGxhY2VXaXRoKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcmVwbGFjZVdpdGgvKQogKiAtIFtgdGV4dCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3RleHQvKQogKiAtIFtgdG9nZ2xlQ2xhc3MoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS90b2dnbGVDbGFzcy8pCiAqIC0gW2B0cmlnZ2VySGFuZGxlcigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3RyaWdnZXJIYW5kbGVyLykgLSBQYXNzZXMgYSBkdW1teSBldmVudCBvYmplY3QgdG8gaGFuZGxlcnMuCiAqIC0gW2B1bmJpbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS91bmJpbmQvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcwogKiAtIFtgdmFsKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vdmFsLykKICogLSBbYHdyYXAoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS93cmFwLykKICoKICogIyMgalF1ZXJ5L2pxTGl0ZSBFeHRyYXMKICogQW5ndWxhciBhbHNvIHByb3ZpZGVzIHRoZSBmb2xsb3dpbmcgYWRkaXRpb25hbCBtZXRob2RzIGFuZCBldmVudHMgdG8gYm90aCBqUXVlcnkgYW5kIGpxTGl0ZToKICoKICogIyMjIEV2ZW50cwogKiAtIGAkZGVzdHJveWAgLSBBbmd1bGFySlMgaW50ZXJjZXB0cyBhbGwganFMaXRlL2pRdWVyeSdzIERPTSBkZXN0cnVjdGlvbiBhcGlzIGFuZCBmaXJlcyB0aGlzIGV2ZW50CiAqICAgIG9uIGFsbCBET00gbm9kZXMgYmVpbmcgcmVtb3ZlZC4gIFRoaXMgY2FuIGJlIHVzZWQgdG8gY2xlYW4gdXAgYW55IDNyZCBwYXJ0eSBiaW5kaW5ncyB0byB0aGUgRE9NCiAqICAgIGVsZW1lbnQgYmVmb3JlIGl0IGlzIHJlbW92ZWQuCiAqCiAqICMjIyBNZXRob2RzCiAqIC0gYGNvbnRyb2xsZXIobmFtZSlgIC0gcmV0cmlldmVzIHRoZSBjb250cm9sbGVyIG9mIHRoZSBjdXJyZW50IGVsZW1lbnQgb3IgaXRzIHBhcmVudC4gQnkgZGVmYXVsdAogKiAgIHJldHJpZXZlcyBjb250cm9sbGVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgYG5nQ29udHJvbGxlcmAgZGlyZWN0aXZlLiBJZiBgbmFtZWAgaXMgcHJvdmlkZWQgYXMKICogICBjYW1lbENhc2UgZGlyZWN0aXZlIG5hbWUsIHRoZW4gdGhlIGNvbnRyb2xsZXIgZm9yIHRoaXMgZGlyZWN0aXZlIHdpbGwgYmUgcmV0cmlldmVkIChlLmcuCiAqICAgYCduZ01vZGVsJ2ApLgogKiAtIGBpbmplY3RvcigpYCAtIHJldHJpZXZlcyB0aGUgaW5qZWN0b3Igb2YgdGhlIGN1cnJlbnQgZWxlbWVudCBvciBpdHMgcGFyZW50LgogKiAtIGBzY29wZSgpYCAtIHJldHJpZXZlcyB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgc2NvcGV9IG9mIHRoZSBjdXJyZW50CiAqICAgZWxlbWVudCBvciBpdHMgcGFyZW50LgogKiAtIGBpc29sYXRlU2NvcGUoKWAgLSByZXRyaWV2ZXMgYW4gaXNvbGF0ZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBzY29wZX0gaWYgb25lIGlzIGF0dGFjaGVkIGRpcmVjdGx5IHRvIHRoZQogKiAgIGN1cnJlbnQgZWxlbWVudC4gVGhpcyBnZXR0ZXIgc2hvdWxkIGJlIHVzZWQgb25seSBvbiBlbGVtZW50cyB0aGF0IGNvbnRhaW4gYSBkaXJlY3RpdmUgd2hpY2ggc3RhcnRzIGEgbmV3IGlzb2xhdGUKICogICBzY29wZS4gQ2FsbGluZyBgc2NvcGUoKWAgb24gdGhpcyBlbGVtZW50IGFsd2F5cyByZXR1cm5zIHRoZSBvcmlnaW5hbCBub24taXNvbGF0ZSBzY29wZS4KICogLSBgaW5oZXJpdGVkRGF0YSgpYCAtIHNhbWUgYXMgYGRhdGEoKWAsIGJ1dCB3YWxrcyB1cCB0aGUgRE9NIHVudGlsIGEgdmFsdWUgaXMgZm91bmQgb3IgdGhlIHRvcAogKiAgIHBhcmVudCBlbGVtZW50IGlzIHJlYWNoZWQuCiAqCiAqIEBwYXJhbSB7c3RyaW5nfERPTUVsZW1lbnR9IGVsZW1lbnQgSFRNTCBzdHJpbmcgb3IgRE9NRWxlbWVudCB0byBiZSB3cmFwcGVkIGludG8galF1ZXJ5LgogKiBAcmV0dXJucyB7T2JqZWN0fSBqUXVlcnkgb2JqZWN0LgogKi8KCkpRTGl0ZS5leHBhbmRvID0gJ25nMzM5JzsKCnZhciBqcUNhY2hlID0gSlFMaXRlLmNhY2hlID0ge30sCiAgICBqcUlkID0gMSwKICAgIGFkZEV2ZW50TGlzdGVuZXJGbiA9ICh3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcgogICAgICA/IGZ1bmN0aW9uKGVsZW1lbnQsIHR5cGUsIGZuKSB7ZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZuLCBmYWxzZSk7fQogICAgICA6IGZ1bmN0aW9uKGVsZW1lbnQsIHR5cGUsIGZuKSB7ZWxlbWVudC5hdHRhY2hFdmVudCgnb24nICsgdHlwZSwgZm4pO30pLAogICAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuID0gKHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyCiAgICAgID8gZnVuY3Rpb24oZWxlbWVudCwgdHlwZSwgZm4pIHtlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgZm4sIGZhbHNlKTsgfQogICAgICA6IGZ1bmN0aW9uKGVsZW1lbnQsIHR5cGUsIGZuKSB7ZWxlbWVudC5kZXRhY2hFdmVudCgnb24nICsgdHlwZSwgZm4pOyB9KTsKCi8qCiAqICEhISBUaGlzIGlzIGFuIHVuZG9jdW1lbnRlZCAicHJpdmF0ZSIgZnVuY3Rpb24gISEhCiAqLwp2YXIganFEYXRhID0gSlFMaXRlLl9kYXRhID0gZnVuY3Rpb24obm9kZSkgewogIC8valF1ZXJ5IGFsd2F5cyByZXR1cm5zIGFuIG9iamVjdCBvbiBjYWNoZSBtaXNzCiAgcmV0dXJuIHRoaXMuY2FjaGVbbm9kZVt0aGlzLmV4cGFuZG9dXSB8fCB7fTsKfTsKCmZ1bmN0aW9uIGpxTmV4dElkKCkgeyByZXR1cm4gKytqcUlkOyB9CgoKdmFyIFNQRUNJQUxfQ0hBUlNfUkVHRVhQID0gLyhbXDpcLVxfXSsoLikpL2c7CnZhciBNT1pfSEFDS19SRUdFWFAgPSAvXm1veihbQS1aXSkvOwp2YXIganFMaXRlTWluRXJyID0gbWluRXJyKCdqcUxpdGUnKTsKCi8qKgogKiBDb252ZXJ0cyBzbmFrZV9jYXNlIHRvIGNhbWVsQ2FzZS4KICogQWxzbyB0aGVyZSBpcyBzcGVjaWFsIGNhc2UgZm9yIE1veiBwcmVmaXggc3RhcnRpbmcgd2l0aCB1cHBlciBjYXNlIGxldHRlci4KICogQHBhcmFtIG5hbWUgTmFtZSB0byBub3JtYWxpemUKICovCmZ1bmN0aW9uIGNhbWVsQ2FzZShuYW1lKSB7CiAgcmV0dXJuIG5hbWUuCiAgICByZXBsYWNlKFNQRUNJQUxfQ0hBUlNfUkVHRVhQLCBmdW5jdGlvbihfLCBzZXBhcmF0b3IsIGxldHRlciwgb2Zmc2V0KSB7CiAgICAgIHJldHVybiBvZmZzZXQgPyBsZXR0ZXIudG9VcHBlckNhc2UoKSA6IGxldHRlcjsKICAgIH0pLgogICAgcmVwbGFjZShNT1pfSEFDS19SRUdFWFAsICdNb3okMScpOwp9CgovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KLy8galF1ZXJ5IG11dGF0aW9uIHBhdGNoCi8vCi8vIEluIGNvbmp1bmN0aW9uIHdpdGggYmluZEpRdWVyeSBpbnRlcmNlcHRzIGFsbCBqUXVlcnkncyBET00gZGVzdHJ1Y3Rpb24gYXBpcyBhbmQgZmlyZXMgYQovLyAkZGVzdHJveSBldmVudCBvbiBhbGwgRE9NIG5vZGVzIGJlaW5nIHJlbW92ZWQuCi8vCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKZnVuY3Rpb24ganFMaXRlUGF0Y2hKUXVlcnlSZW1vdmUobmFtZSwgZGlzcGF0Y2hUaGlzLCBmaWx0ZXJFbGVtcywgZ2V0dGVySWZOb0FyZ3VtZW50cykgewogIHZhciBvcmlnaW5hbEpxRm4gPSBqUXVlcnkuZm5bbmFtZV07CiAgb3JpZ2luYWxKcUZuID0gb3JpZ2luYWxKcUZuLiRvcmlnaW5hbCB8fCBvcmlnaW5hbEpxRm47CiAgcmVtb3ZlUGF0Y2guJG9yaWdpbmFsID0gb3JpZ2luYWxKcUZuOwogIGpRdWVyeS5mbltuYW1lXSA9IHJlbW92ZVBhdGNoOwoKICBmdW5jdGlvbiByZW1vdmVQYXRjaChwYXJhbSkgewogICAgLy8ganNoaW50IC1XMDQwCiAgICB2YXIgbGlzdCA9IGZpbHRlckVsZW1zICYmIHBhcmFtID8gW3RoaXMuZmlsdGVyKHBhcmFtKV0gOiBbdGhpc10sCiAgICAgICAgZmlyZUV2ZW50ID0gZGlzcGF0Y2hUaGlzLAogICAgICAgIHNldCwgc2V0SW5kZXgsIHNldExlbmd0aCwKICAgICAgICBlbGVtZW50LCBjaGlsZEluZGV4LCBjaGlsZExlbmd0aCwgY2hpbGRyZW47CgogICAgaWYgKCFnZXR0ZXJJZk5vQXJndW1lbnRzIHx8IHBhcmFtICE9IG51bGwpIHsKICAgICAgd2hpbGUobGlzdC5sZW5ndGgpIHsKICAgICAgICBzZXQgPSBsaXN0LnNoaWZ0KCk7CiAgICAgICAgZm9yKHNldEluZGV4ID0gMCwgc2V0TGVuZ3RoID0gc2V0Lmxlbmd0aDsgc2V0SW5kZXggPCBzZXRMZW5ndGg7IHNldEluZGV4KyspIHsKICAgICAgICAgIGVsZW1lbnQgPSBqcUxpdGUoc2V0W3NldEluZGV4XSk7CiAgICAgICAgICBpZiAoZmlyZUV2ZW50KSB7CiAgICAgICAgICAgIGVsZW1lbnQudHJpZ2dlckhhbmRsZXIoJyRkZXN0cm95Jyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBmaXJlRXZlbnQgPSAhZmlyZUV2ZW50OwogICAgICAgICAgfQogICAgICAgICAgZm9yKGNoaWxkSW5kZXggPSAwLCBjaGlsZExlbmd0aCA9IChjaGlsZHJlbiA9IGVsZW1lbnQuY2hpbGRyZW4oKSkubGVuZ3RoOwogICAgICAgICAgICAgIGNoaWxkSW5kZXggPCBjaGlsZExlbmd0aDsKICAgICAgICAgICAgICBjaGlsZEluZGV4KyspIHsKICAgICAgICAgICAgbGlzdC5wdXNoKGpRdWVyeShjaGlsZHJlbltjaGlsZEluZGV4XSkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG9yaWdpbmFsSnFGbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KfQoKdmFyIFNJTkdMRV9UQUdfUkVHRVhQID0gL148KFx3KylccypcLz8+KD86PFwvXDE+fCkkLzsKdmFyIEhUTUxfUkVHRVhQID0gLzx8JiM/XHcrOy87CnZhciBUQUdfTkFNRV9SRUdFWFAgPSAvPChbXHc6XSspLzsKdmFyIFhIVE1MX1RBR19SRUdFWFAgPSAvPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXHc6XSspW14+XSopXC8+L2dpOwoKdmFyIHdyYXBNYXAgPSB7CiAgJ29wdGlvbic6IFsxLCAnPHNlbGVjdCBtdWx0aXBsZT0ibXVsdGlwbGUiPicsICc8L3NlbGVjdD4nXSwKCiAgJ3RoZWFkJzogWzEsICc8dGFibGU+JywgJzwvdGFibGU+J10sCiAgJ2NvbCc6IFsyLCAnPHRhYmxlPjxjb2xncm91cD4nLCAnPC9jb2xncm91cD48L3RhYmxlPiddLAogICd0cic6IFsyLCAnPHRhYmxlPjx0Ym9keT4nLCAnPC90Ym9keT48L3RhYmxlPiddLAogICd0ZCc6IFszLCAnPHRhYmxlPjx0Ym9keT48dHI+JywgJzwvdHI+PC90Ym9keT48L3RhYmxlPiddLAogICdfZGVmYXVsdCc6IFswLCAiIiwgIiJdCn07Cgp3cmFwTWFwLm9wdGdyb3VwID0gd3JhcE1hcC5vcHRpb247CndyYXBNYXAudGJvZHkgPSB3cmFwTWFwLnRmb290ID0gd3JhcE1hcC5jb2xncm91cCA9IHdyYXBNYXAuY2FwdGlvbiA9IHdyYXBNYXAudGhlYWQ7CndyYXBNYXAudGggPSB3cmFwTWFwLnRkOwoKZnVuY3Rpb24ganFMaXRlSXNUZXh0Tm9kZShodG1sKSB7CiAgcmV0dXJuICFIVE1MX1JFR0VYUC50ZXN0KGh0bWwpOwp9CgpmdW5jdGlvbiBqcUxpdGVCdWlsZEZyYWdtZW50KGh0bWwsIGNvbnRleHQpIHsKICB2YXIgZWxlbSwgdG1wLCB0YWcsIHdyYXAsCiAgICAgIGZyYWdtZW50ID0gY29udGV4dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksCiAgICAgIG5vZGVzID0gW10sIGksIGosIGpqOwoKICBpZiAoanFMaXRlSXNUZXh0Tm9kZShodG1sKSkgewogICAgLy8gQ29udmVydCBub24taHRtbCBpbnRvIGEgdGV4dCBub2RlCiAgICBub2Rlcy5wdXNoKGNvbnRleHQuY3JlYXRlVGV4dE5vZGUoaHRtbCkpOwogIH0gZWxzZSB7CiAgICB0bXAgPSBmcmFnbWVudC5hcHBlbmRDaGlsZChjb250ZXh0LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKTsKICAgIC8vIENvbnZlcnQgaHRtbCBpbnRvIERPTSBub2RlcwogICAgdGFnID0gKFRBR19OQU1FX1JFR0VYUC5leGVjKGh0bWwpIHx8IFsiIiwgIiJdKVsxXS50b0xvd2VyQ2FzZSgpOwogICAgd3JhcCA9IHdyYXBNYXBbdGFnXSB8fCB3cmFwTWFwLl9kZWZhdWx0OwogICAgdG1wLmlubmVySFRNTCA9ICc8ZGl2PiYjMTYwOzwvZGl2PicgKwogICAgICB3cmFwWzFdICsgaHRtbC5yZXBsYWNlKFhIVE1MX1RBR19SRUdFWFAsICI8JDE+PC8kMj4iKSArIHdyYXBbMl07CiAgICB0bXAucmVtb3ZlQ2hpbGQodG1wLmZpcnN0Q2hpbGQpOwoKICAgIC8vIERlc2NlbmQgdGhyb3VnaCB3cmFwcGVycyB0byB0aGUgcmlnaHQgY29udGVudAogICAgaSA9IHdyYXBbMF07CiAgICB3aGlsZSAoaS0tKSB7CiAgICAgIHRtcCA9IHRtcC5sYXN0Q2hpbGQ7CiAgICB9CgogICAgZm9yIChqPTAsIGpqPXRtcC5jaGlsZE5vZGVzLmxlbmd0aDsgajxqajsgKytqKSBub2Rlcy5wdXNoKHRtcC5jaGlsZE5vZGVzW2pdKTsKCiAgICB0bXAgPSBmcmFnbWVudC5maXJzdENoaWxkOwogICAgdG1wLnRleHRDb250ZW50ID0gIiI7CiAgfQoKICAvLyBSZW1vdmUgd3JhcHBlciBmcm9tIGZyYWdtZW50CiAgZnJhZ21lbnQudGV4dENvbnRlbnQgPSAiIjsKICBmcmFnbWVudC5pbm5lckhUTUwgPSAiIjsgLy8gQ2xlYXIgaW5uZXIgSFRNTAogIHJldHVybiBub2RlczsKfQoKZnVuY3Rpb24ganFMaXRlUGFyc2VIVE1MKGh0bWwsIGNvbnRleHQpIHsKICBjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDsKICB2YXIgcGFyc2VkOwoKICBpZiAoKHBhcnNlZCA9IFNJTkdMRV9UQUdfUkVHRVhQLmV4ZWMoaHRtbCkpKSB7CiAgICByZXR1cm4gW2NvbnRleHQuY3JlYXRlRWxlbWVudChwYXJzZWRbMV0pXTsKICB9CgogIHJldHVybiBqcUxpdGVCdWlsZEZyYWdtZW50KGh0bWwsIGNvbnRleHQpOwp9CgovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KZnVuY3Rpb24gSlFMaXRlKGVsZW1lbnQpIHsKICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEpRTGl0ZSkgewogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfQogIGlmIChpc1N0cmluZyhlbGVtZW50KSkgewogICAgZWxlbWVudCA9IHRyaW0oZWxlbWVudCk7CiAgfQogIGlmICghKHRoaXMgaW5zdGFuY2VvZiBKUUxpdGUpKSB7CiAgICBpZiAoaXNTdHJpbmcoZWxlbWVudCkgJiYgZWxlbWVudC5jaGFyQXQoMCkgIT0gJzwnKSB7CiAgICAgIHRocm93IGpxTGl0ZU1pbkVycignbm9zZWwnLCAnTG9va2luZyB1cCBlbGVtZW50cyB2aWEgc2VsZWN0b3JzIGlzIG5vdCBzdXBwb3J0ZWQgYnkganFMaXRlISBTZWU6IGh0dHA6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL2FuZ3VsYXIuZWxlbWVudCcpOwogICAgfQogICAgcmV0dXJuIG5ldyBKUUxpdGUoZWxlbWVudCk7CiAgfQoKICBpZiAoaXNTdHJpbmcoZWxlbWVudCkpIHsKICAgIGpxTGl0ZUFkZE5vZGVzKHRoaXMsIGpxTGl0ZVBhcnNlSFRNTChlbGVtZW50KSk7CiAgICB2YXIgZnJhZ21lbnQgPSBqcUxpdGUoZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTsKICAgIGZyYWdtZW50LmFwcGVuZCh0aGlzKTsKICB9IGVsc2UgewogICAganFMaXRlQWRkTm9kZXModGhpcywgZWxlbWVudCk7CiAgfQp9CgpmdW5jdGlvbiBqcUxpdGVDbG9uZShlbGVtZW50KSB7CiAgcmV0dXJuIGVsZW1lbnQuY2xvbmVOb2RlKHRydWUpOwp9CgpmdW5jdGlvbiBqcUxpdGVEZWFsb2MoZWxlbWVudCl7CiAganFMaXRlUmVtb3ZlRGF0YShlbGVtZW50KTsKICBmb3IgKCB2YXIgaSA9IDAsIGNoaWxkcmVuID0gZWxlbWVudC5jaGlsZE5vZGVzIHx8IFtdOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKICAgIGpxTGl0ZURlYWxvYyhjaGlsZHJlbltpXSk7CiAgfQp9CgpmdW5jdGlvbiBqcUxpdGVPZmYoZWxlbWVudCwgdHlwZSwgZm4sIHVuc3VwcG9ydGVkKSB7CiAgaWYgKGlzRGVmaW5lZCh1bnN1cHBvcnRlZCkpIHRocm93IGpxTGl0ZU1pbkVycignb2ZmYXJncycsICdqcUxpdGUjb2ZmKCkgZG9lcyBub3Qgc3VwcG9ydCB0aGUgYHNlbGVjdG9yYCBhcmd1bWVudCcpOwoKICB2YXIgZXZlbnRzID0ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsICdldmVudHMnKSwKICAgICAgaGFuZGxlID0ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsICdoYW5kbGUnKTsKCiAgaWYgKCFoYW5kbGUpIHJldHVybjsgLy9ubyBsaXN0ZW5lcnMgcmVnaXN0ZXJlZAoKICBpZiAoaXNVbmRlZmluZWQodHlwZSkpIHsKICAgIGZvckVhY2goZXZlbnRzLCBmdW5jdGlvbihldmVudEhhbmRsZXIsIHR5cGUpIHsKICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuKGVsZW1lbnQsIHR5cGUsIGV2ZW50SGFuZGxlcik7CiAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07CiAgICB9KTsKICB9IGVsc2UgewogICAgZm9yRWFjaCh0eXBlLnNwbGl0KCcgJyksIGZ1bmN0aW9uKHR5cGUpIHsKICAgICAgaWYgKGlzVW5kZWZpbmVkKGZuKSkgewogICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJGbihlbGVtZW50LCB0eXBlLCBldmVudHNbdHlwZV0pOwogICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYXJyYXlSZW1vdmUoZXZlbnRzW3R5cGVdIHx8IFtdLCBmbik7CiAgICAgIH0KICAgIH0pOwogIH0KfQoKZnVuY3Rpb24ganFMaXRlUmVtb3ZlRGF0YShlbGVtZW50LCBuYW1lKSB7CiAgdmFyIGV4cGFuZG9JZCA9IGVsZW1lbnQubmczMzksCiAgICAgIGV4cGFuZG9TdG9yZSA9IGpxQ2FjaGVbZXhwYW5kb0lkXTsKCiAgaWYgKGV4cGFuZG9TdG9yZSkgewogICAgaWYgKG5hbWUpIHsKICAgICAgZGVsZXRlIGpxQ2FjaGVbZXhwYW5kb0lkXS5kYXRhW25hbWVdOwogICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKGV4cGFuZG9TdG9yZS5oYW5kbGUpIHsKICAgICAgZXhwYW5kb1N0b3JlLmV2ZW50cy4kZGVzdHJveSAmJiBleHBhbmRvU3RvcmUuaGFuZGxlKHt9LCAnJGRlc3Ryb3knKTsKICAgICAganFMaXRlT2ZmKGVsZW1lbnQpOwogICAgfQogICAgZGVsZXRlIGpxQ2FjaGVbZXhwYW5kb0lkXTsKICAgIGVsZW1lbnQubmczMzkgPSB1bmRlZmluZWQ7IC8vIGRvbid0IGRlbGV0ZSBET00gZXhwYW5kb3MuIElFIGFuZCBDaHJvbWUgZG9uJ3QgbGlrZSBpdAogIH0KfQoKZnVuY3Rpb24ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsIGtleSwgdmFsdWUpIHsKICB2YXIgZXhwYW5kb0lkID0gZWxlbWVudC5uZzMzOSwKICAgICAgZXhwYW5kb1N0b3JlID0ganFDYWNoZVtleHBhbmRvSWQgfHwgLTFdOwoKICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkgewogICAgaWYgKCFleHBhbmRvU3RvcmUpIHsKICAgICAgZWxlbWVudC5uZzMzOSA9IGV4cGFuZG9JZCA9IGpxTmV4dElkKCk7CiAgICAgIGV4cGFuZG9TdG9yZSA9IGpxQ2FjaGVbZXhwYW5kb0lkXSA9IHt9OwogICAgfQogICAgZXhwYW5kb1N0b3JlW2tleV0gPSB2YWx1ZTsKICB9IGVsc2UgewogICAgcmV0dXJuIGV4cGFuZG9TdG9yZSAmJiBleHBhbmRvU3RvcmVba2V5XTsKICB9Cn0KCmZ1bmN0aW9uIGpxTGl0ZURhdGEoZWxlbWVudCwga2V5LCB2YWx1ZSkgewogIHZhciBkYXRhID0ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsICdkYXRhJyksCiAgICAgIGlzU2V0dGVyID0gaXNEZWZpbmVkKHZhbHVlKSwKICAgICAga2V5RGVmaW5lZCA9ICFpc1NldHRlciAmJiBpc0RlZmluZWQoa2V5KSwKICAgICAgaXNTaW1wbGVHZXR0ZXIgPSBrZXlEZWZpbmVkICYmICFpc09iamVjdChrZXkpOwoKICBpZiAoIWRhdGEgJiYgIWlzU2ltcGxlR2V0dGVyKSB7CiAgICBqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwgJ2RhdGEnLCBkYXRhID0ge30pOwogIH0KCiAgaWYgKGlzU2V0dGVyKSB7CiAgICBkYXRhW2tleV0gPSB2YWx1ZTsKICB9IGVsc2UgewogICAgaWYgKGtleURlZmluZWQpIHsKICAgICAgaWYgKGlzU2ltcGxlR2V0dGVyKSB7CiAgICAgICAgLy8gZG9uJ3QgY3JlYXRlIGRhdGEgaW4gdGhpcyBjYXNlLgogICAgICAgIHJldHVybiBkYXRhICYmIGRhdGFba2V5XTsKICAgICAgfSBlbHNlIHsKICAgICAgICBleHRlbmQoZGF0YSwga2V5KTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGRhdGE7CiAgICB9CiAgfQp9CgpmdW5jdGlvbiBqcUxpdGVIYXNDbGFzcyhlbGVtZW50LCBzZWxlY3RvcikgewogIGlmICghZWxlbWVudC5nZXRBdHRyaWJ1dGUpIHJldHVybiBmYWxzZTsKICByZXR1cm4gKCgiICIgKyAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJycpICsgIiAiKS5yZXBsYWNlKC9bXG5cdF0vZywgIiAiKS4KICAgICAgaW5kZXhPZiggIiAiICsgc2VsZWN0b3IgKyAiICIgKSA+IC0xKTsKfQoKZnVuY3Rpb24ganFMaXRlUmVtb3ZlQ2xhc3MoZWxlbWVudCwgY3NzQ2xhc3NlcykgewogIGlmIChjc3NDbGFzc2VzICYmIGVsZW1lbnQuc2V0QXR0cmlidXRlKSB7CiAgICBmb3JFYWNoKGNzc0NsYXNzZXMuc3BsaXQoJyAnKSwgZnVuY3Rpb24oY3NzQ2xhc3MpIHsKICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgdHJpbSgKICAgICAgICAgICgiICIgKyAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJycpICsgIiAiKQogICAgICAgICAgLnJlcGxhY2UoL1tcblx0XS9nLCAiICIpCiAgICAgICAgICAucmVwbGFjZSgiICIgKyB0cmltKGNzc0NsYXNzKSArICIgIiwgIiAiKSkKICAgICAgKTsKICAgIH0pOwogIH0KfQoKZnVuY3Rpb24ganFMaXRlQWRkQ2xhc3MoZWxlbWVudCwgY3NzQ2xhc3NlcykgewogIGlmIChjc3NDbGFzc2VzICYmIGVsZW1lbnQuc2V0QXR0cmlidXRlKSB7CiAgICB2YXIgZXhpc3RpbmdDbGFzc2VzID0gKCcgJyArIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykgKyAnICcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvW1xuXHRdL2csICIgIik7CgogICAgZm9yRWFjaChjc3NDbGFzc2VzLnNwbGl0KCcgJyksIGZ1bmN0aW9uKGNzc0NsYXNzKSB7CiAgICAgIGNzc0NsYXNzID0gdHJpbShjc3NDbGFzcyk7CiAgICAgIGlmIChleGlzdGluZ0NsYXNzZXMuaW5kZXhPZignICcgKyBjc3NDbGFzcyArICcgJykgPT09IC0xKSB7CiAgICAgICAgZXhpc3RpbmdDbGFzc2VzICs9IGNzc0NsYXNzICsgJyAnOwogICAgICB9CiAgICB9KTsKCiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCB0cmltKGV4aXN0aW5nQ2xhc3NlcykpOwogIH0KfQoKZnVuY3Rpb24ganFMaXRlQWRkTm9kZXMocm9vdCwgZWxlbWVudHMpIHsKICBpZiAoZWxlbWVudHMpIHsKICAgIGVsZW1lbnRzID0gKCFlbGVtZW50cy5ub2RlTmFtZSAmJiBpc0RlZmluZWQoZWxlbWVudHMubGVuZ3RoKSAmJiAhaXNXaW5kb3coZWxlbWVudHMpKQogICAgICA/IGVsZW1lbnRzCiAgICAgIDogWyBlbGVtZW50cyBdOwogICAgZm9yKHZhciBpPTA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICByb290LnB1c2goZWxlbWVudHNbaV0pOwogICAgfQogIH0KfQoKZnVuY3Rpb24ganFMaXRlQ29udHJvbGxlcihlbGVtZW50LCBuYW1lKSB7CiAgcmV0dXJuIGpxTGl0ZUluaGVyaXRlZERhdGEoZWxlbWVudCwgJyQnICsgKG5hbWUgfHwgJ25nQ29udHJvbGxlcicgKSArICdDb250cm9sbGVyJyk7Cn0KCmZ1bmN0aW9uIGpxTGl0ZUluaGVyaXRlZERhdGEoZWxlbWVudCwgbmFtZSwgdmFsdWUpIHsKICBlbGVtZW50ID0ganFMaXRlKGVsZW1lbnQpOwoKICAvLyBpZiBlbGVtZW50IGlzIHRoZSBkb2N1bWVudCBvYmplY3Qgd29yayB3aXRoIHRoZSBodG1sIGVsZW1lbnQgaW5zdGVhZAogIC8vIHRoaXMgbWFrZXMgJChkb2N1bWVudCkuc2NvcGUoKSBwb3NzaWJsZQogIGlmKGVsZW1lbnRbMF0ubm9kZVR5cGUgPT0gOSkgewogICAgZWxlbWVudCA9IGVsZW1lbnQuZmluZCgnaHRtbCcpOwogIH0KICB2YXIgbmFtZXMgPSBpc0FycmF5KG5hbWUpID8gbmFtZSA6IFtuYW1lXTsKCiAgd2hpbGUgKGVsZW1lbnQubGVuZ3RoKSB7CiAgICB2YXIgbm9kZSA9IGVsZW1lbnRbMF07CiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBuYW1lcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7CiAgICAgIGlmICgodmFsdWUgPSBlbGVtZW50LmRhdGEobmFtZXNbaV0pKSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gdmFsdWU7CiAgICB9CgogICAgLy8gSWYgZGVhbGluZyB3aXRoIGEgZG9jdW1lbnQgZnJhZ21lbnQgbm9kZSB3aXRoIGEgaG9zdCBlbGVtZW50LCBhbmQgbm8gcGFyZW50LCB1c2UgdGhlIGhvc3QKICAgIC8vIGVsZW1lbnQgYXMgdGhlIHBhcmVudC4gVGhpcyBlbmFibGVzIGRpcmVjdGl2ZXMgd2l0aGluIGEgU2hhZG93IERPTSBvciBwb2x5ZmlsbGVkIFNoYWRvdyBET00KICAgIC8vIHRvIGxvb2t1cCBwYXJlbnQgY29udHJvbGxlcnMuCiAgICBlbGVtZW50ID0ganFMaXRlKG5vZGUucGFyZW50Tm9kZSB8fCAobm9kZS5ub2RlVHlwZSA9PT0gMTEgJiYgbm9kZS5ob3N0KSk7CiAgfQp9CgpmdW5jdGlvbiBqcUxpdGVFbXB0eShlbGVtZW50KSB7CiAgZm9yICh2YXIgaSA9IDAsIGNoaWxkTm9kZXMgPSBlbGVtZW50LmNoaWxkTm9kZXM7IGkgPCBjaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICBqcUxpdGVEZWFsb2MoY2hpbGROb2Rlc1tpXSk7CiAgfQogIHdoaWxlIChlbGVtZW50LmZpcnN0Q2hpbGQpIHsKICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudC5maXJzdENoaWxkKTsKICB9Cn0KCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwovLyBGdW5jdGlvbnMgd2hpY2ggYXJlIGRlY2xhcmVkIGRpcmVjdGx5LgovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KdmFyIEpRTGl0ZVByb3RvdHlwZSA9IEpRTGl0ZS5wcm90b3R5cGUgPSB7CiAgcmVhZHk6IGZ1bmN0aW9uKGZuKSB7CiAgICB2YXIgZmlyZWQgPSBmYWxzZTsKCiAgICBmdW5jdGlvbiB0cmlnZ2VyKCkgewogICAgICBpZiAoZmlyZWQpIHJldHVybjsKICAgICAgZmlyZWQgPSB0cnVlOwogICAgICBmbigpOwogICAgfQoKICAgIC8vIGNoZWNrIGlmIGRvY3VtZW50IGFscmVhZHkgaXMgbG9hZGVkCiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJyl7CiAgICAgIHNldFRpbWVvdXQodHJpZ2dlcik7CiAgICB9IGVsc2UgewogICAgICB0aGlzLm9uKCdET01Db250ZW50TG9hZGVkJywgdHJpZ2dlcik7IC8vIHdvcmtzIGZvciBtb2Rlcm4gYnJvd3NlcnMgYW5kIElFOQogICAgICAvLyB3ZSBjYW4gbm90IHVzZSBqcUxpdGUgc2luY2Ugd2UgYXJlIG5vdCBkb25lIGxvYWRpbmcgYW5kIGpRdWVyeSBjb3VsZCBiZSBsb2FkZWQgbGF0ZXIuCiAgICAgIC8vIGpzaGludCAtVzA2NAogICAgICBKUUxpdGUod2luZG93KS5vbignbG9hZCcsIHRyaWdnZXIpOyAvLyBmYWxsYmFjayB0byB3aW5kb3cub25sb2FkIGZvciBvdGhlcnMKICAgICAgLy8ganNoaW50ICtXMDY0CiAgICB9CiAgfSwKICB0b1N0cmluZzogZnVuY3Rpb24oKSB7CiAgICB2YXIgdmFsdWUgPSBbXTsKICAgIGZvckVhY2godGhpcywgZnVuY3Rpb24oZSl7IHZhbHVlLnB1c2goJycgKyBlKTt9KTsKICAgIHJldHVybiAnWycgKyB2YWx1ZS5qb2luKCcsICcpICsgJ10nOwogIH0sCgogIGVxOiBmdW5jdGlvbihpbmRleCkgewogICAgICByZXR1cm4gKGluZGV4ID49IDApID8ganFMaXRlKHRoaXNbaW5kZXhdKSA6IGpxTGl0ZSh0aGlzW3RoaXMubGVuZ3RoICsgaW5kZXhdKTsKICB9LAoKICBsZW5ndGg6IDAsCiAgcHVzaDogcHVzaCwKICBzb3J0OiBbXS5zb3J0LAogIHNwbGljZTogW10uc3BsaWNlCn07CgovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KLy8gRnVuY3Rpb25zIGl0ZXJhdGluZyBnZXR0ZXIvc2V0dGVycy4KLy8gdGhlc2UgZnVuY3Rpb25zIHJldHVybiBzZWxmIG9uIHNldHRlciBhbmQKLy8gdmFsdWUgb24gZ2V0LgovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KdmFyIEJPT0xFQU5fQVRUUiA9IHt9Owpmb3JFYWNoKCdtdWx0aXBsZSxzZWxlY3RlZCxjaGVja2VkLGRpc2FibGVkLHJlYWRPbmx5LHJlcXVpcmVkLG9wZW4nLnNwbGl0KCcsJyksIGZ1bmN0aW9uKHZhbHVlKSB7CiAgQk9PTEVBTl9BVFRSW2xvd2VyY2FzZSh2YWx1ZSldID0gdmFsdWU7Cn0pOwp2YXIgQk9PTEVBTl9FTEVNRU5UUyA9IHt9Owpmb3JFYWNoKCdpbnB1dCxzZWxlY3Qsb3B0aW9uLHRleHRhcmVhLGJ1dHRvbixmb3JtLGRldGFpbHMnLnNwbGl0KCcsJyksIGZ1bmN0aW9uKHZhbHVlKSB7CiAgQk9PTEVBTl9FTEVNRU5UU1t1cHBlcmNhc2UodmFsdWUpXSA9IHRydWU7Cn0pOwoKZnVuY3Rpb24gZ2V0Qm9vbGVhbkF0dHJOYW1lKGVsZW1lbnQsIG5hbWUpIHsKICAvLyBjaGVjayBkb20gbGFzdCBzaW5jZSB3ZSB3aWxsIG1vc3QgbGlrZWx5IGZhaWwgb24gbmFtZQogIHZhciBib29sZWFuQXR0ciA9IEJPT0xFQU5fQVRUUltuYW1lLnRvTG93ZXJDYXNlKCldOwoKICAvLyBib29sZWFuQXR0ciBpcyBoZXJlIHR3aWNlIHRvIG1pbmltaXplIERPTSBhY2Nlc3MKICByZXR1cm4gYm9vbGVhbkF0dHIgJiYgQk9PTEVBTl9FTEVNRU5UU1tlbGVtZW50Lm5vZGVOYW1lXSAmJiBib29sZWFuQXR0cjsKfQoKZm9yRWFjaCh7CiAgZGF0YToganFMaXRlRGF0YSwKICBpbmhlcml0ZWREYXRhOiBqcUxpdGVJbmhlcml0ZWREYXRhLAoKICBzY29wZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgLy8gQ2FuJ3QgdXNlIGpxTGl0ZURhdGEgaGVyZSBkaXJlY3RseSBzbyB3ZSBzdGF5IGNvbXBhdGlibGUgd2l0aCBqUXVlcnkhCiAgICByZXR1cm4ganFMaXRlKGVsZW1lbnQpLmRhdGEoJyRzY29wZScpIHx8IGpxTGl0ZUluaGVyaXRlZERhdGEoZWxlbWVudC5wYXJlbnROb2RlIHx8IGVsZW1lbnQsIFsnJGlzb2xhdGVTY29wZScsICckc2NvcGUnXSk7CiAgfSwKCiAgaXNvbGF0ZVNjb3BlOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAvLyBDYW4ndCB1c2UganFMaXRlRGF0YSBoZXJlIGRpcmVjdGx5IHNvIHdlIHN0YXkgY29tcGF0aWJsZSB3aXRoIGpRdWVyeSEKICAgIHJldHVybiBqcUxpdGUoZWxlbWVudCkuZGF0YSgnJGlzb2xhdGVTY29wZScpIHx8IGpxTGl0ZShlbGVtZW50KS5kYXRhKCckaXNvbGF0ZVNjb3BlTm9UZW1wbGF0ZScpOwogIH0sCgogIGNvbnRyb2xsZXI6IGpxTGl0ZUNvbnRyb2xsZXIsCgogIGluamVjdG9yOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICByZXR1cm4ganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LCAnJGluamVjdG9yJyk7CiAgfSwKCiAgcmVtb3ZlQXR0cjogZnVuY3Rpb24oZWxlbWVudCxuYW1lKSB7CiAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShuYW1lKTsKICB9LAoKICBoYXNDbGFzczoganFMaXRlSGFzQ2xhc3MsCgogIGNzczogZnVuY3Rpb24oZWxlbWVudCwgbmFtZSwgdmFsdWUpIHsKICAgIG5hbWUgPSBjYW1lbENhc2UobmFtZSk7CgogICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHsKICAgICAgZWxlbWVudC5zdHlsZVtuYW1lXSA9IHZhbHVlOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHZhbDsKCiAgICAgIGlmIChtc2llIDw9IDgpIHsKICAgICAgICAvLyB0aGlzIGlzIHNvbWUgSUUgc3BlY2lmaWMgd2VpcmRuZXNzIHRoYXQgalF1ZXJ5IDEuNi40IGRvZXMgbm90IHN1cmUgd2h5CiAgICAgICAgdmFsID0gZWxlbWVudC5jdXJyZW50U3R5bGUgJiYgZWxlbWVudC5jdXJyZW50U3R5bGVbbmFtZV07CiAgICAgICAgaWYgKHZhbCA9PT0gJycpIHZhbCA9ICdhdXRvJzsKICAgICAgfQoKICAgICAgdmFsID0gdmFsIHx8IGVsZW1lbnQuc3R5bGVbbmFtZV07CgogICAgICBpZiAobXNpZSA8PSA4KSB7CiAgICAgICAgLy8ganF1ZXJ5IHdlaXJkbmVzcyA6LS8KICAgICAgICB2YWwgPSAodmFsID09PSAnJykgPyB1bmRlZmluZWQgOiB2YWw7CiAgICAgIH0KCiAgICAgIHJldHVybiAgdmFsOwogICAgfQogIH0sCgogIGF0dHI6IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWUsIHZhbHVlKXsKICAgIHZhciBsb3dlcmNhc2VkTmFtZSA9IGxvd2VyY2FzZShuYW1lKTsKICAgIGlmIChCT09MRUFOX0FUVFJbbG93ZXJjYXNlZE5hbWVdKSB7CiAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7CiAgICAgICAgaWYgKCEhdmFsdWUpIHsKICAgICAgICAgIGVsZW1lbnRbbmFtZV0gPSB0cnVlOwogICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgbG93ZXJjYXNlZE5hbWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBlbGVtZW50W25hbWVdID0gZmFsc2U7CiAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShsb3dlcmNhc2VkTmFtZSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAoZWxlbWVudFtuYW1lXSB8fAogICAgICAgICAgICAgICAgIChlbGVtZW50LmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKG5hbWUpfHwgbm9vcCkuc3BlY2lmaWVkKQogICAgICAgICAgICAgICA/IGxvd2VyY2FzZWROYW1lCiAgICAgICAgICAgICAgIDogdW5kZWZpbmVkOwogICAgICB9CiAgICB9IGVsc2UgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHsKICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpOwogICAgfSBlbHNlIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSkgewogICAgICAvLyB0aGUgZXh0cmEgYXJndW1lbnQgIjIiIGlzIHRvIGdldCB0aGUgcmlnaHQgdGhpbmcgZm9yIGEuaHJlZiBpbiBJRSwgc2VlIGpRdWVyeSBjb2RlCiAgICAgIC8vIHNvbWUgZWxlbWVudHMgKGUuZy4gRG9jdW1lbnQpIGRvbid0IGhhdmUgZ2V0IGF0dHJpYnV0ZSwgc28gcmV0dXJuIHVuZGVmaW5lZAogICAgICB2YXIgcmV0ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSwgMik7CiAgICAgIC8vIG5vcm1hbGl6ZSBub24tZXhpc3RpbmcgYXR0cmlidXRlcyB0byB1bmRlZmluZWQgKGFzIGpRdWVyeSkKICAgICAgcmV0dXJuIHJldCA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IHJldDsKICAgIH0KICB9LAoKICBwcm9wOiBmdW5jdGlvbihlbGVtZW50LCBuYW1lLCB2YWx1ZSkgewogICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHsKICAgICAgZWxlbWVudFtuYW1lXSA9IHZhbHVlOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGVsZW1lbnRbbmFtZV07CiAgICB9CiAgfSwKCiAgdGV4dDogKGZ1bmN0aW9uKCkgewogICAgdmFyIE5PREVfVFlQRV9URVhUX1BST1BFUlRZID0gW107CiAgICBpZiAobXNpZSA8IDkpIHsKICAgICAgTk9ERV9UWVBFX1RFWFRfUFJPUEVSVFlbMV0gPSAnaW5uZXJUZXh0JzsgICAgLyoqIEVsZW1lbnQgKiovCiAgICAgIE5PREVfVFlQRV9URVhUX1BST1BFUlRZWzNdID0gJ25vZGVWYWx1ZSc7ICAgIC8qKiBUZXh0ICoqLwogICAgfSBlbHNlIHsKICAgICAgTk9ERV9UWVBFX1RFWFRfUFJPUEVSVFlbMV0gPSAgICAgICAgICAgICAgICAgLyoqIEVsZW1lbnQgKiovCiAgICAgIE5PREVfVFlQRV9URVhUX1BST1BFUlRZWzNdID0gJ3RleHRDb250ZW50JzsgIC8qKiBUZXh0ICoqLwogICAgfQogICAgZ2V0VGV4dC4kZHYgPSAnJzsKICAgIHJldHVybiBnZXRUZXh0OwoKICAgIGZ1bmN0aW9uIGdldFRleHQoZWxlbWVudCwgdmFsdWUpIHsKICAgICAgdmFyIHRleHRQcm9wID0gTk9ERV9UWVBFX1RFWFRfUFJPUEVSVFlbZWxlbWVudC5ub2RlVHlwZV07CiAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHsKICAgICAgICByZXR1cm4gdGV4dFByb3AgPyBlbGVtZW50W3RleHRQcm9wXSA6ICcnOwogICAgICB9CiAgICAgIGVsZW1lbnRbdGV4dFByb3BdID0gdmFsdWU7CiAgICB9CiAgfSkoKSwKCiAgdmFsOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZSkgewogICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkgewogICAgICBpZiAobm9kZU5hbWVfKGVsZW1lbnQpID09PSAnU0VMRUNUJyAmJiBlbGVtZW50Lm11bHRpcGxlKSB7CiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICAgIGZvckVhY2goZWxlbWVudC5vcHRpb25zLCBmdW5jdGlvbiAob3B0aW9uKSB7CiAgICAgICAgICBpZiAob3B0aW9uLnNlbGVjdGVkKSB7CiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9wdGlvbi52YWx1ZSB8fCBvcHRpb24udGV4dCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHJlc3VsdC5sZW5ndGggPT09IDAgPyBudWxsIDogcmVzdWx0OwogICAgICB9CiAgICAgIHJldHVybiBlbGVtZW50LnZhbHVlOwogICAgfQogICAgZWxlbWVudC52YWx1ZSA9IHZhbHVlOwogIH0sCgogIGh0bWw6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlKSB7CiAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7CiAgICAgIHJldHVybiBlbGVtZW50LmlubmVySFRNTDsKICAgIH0KICAgIGZvciAodmFyIGkgPSAwLCBjaGlsZE5vZGVzID0gZWxlbWVudC5jaGlsZE5vZGVzOyBpIDwgY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykgewogICAgICBqcUxpdGVEZWFsb2MoY2hpbGROb2Rlc1tpXSk7CiAgICB9CiAgICBlbGVtZW50LmlubmVySFRNTCA9IHZhbHVlOwogIH0sCgogIGVtcHR5OiBqcUxpdGVFbXB0eQp9LCBmdW5jdGlvbihmbiwgbmFtZSl7CiAgLyoqCiAgICogUHJvcGVydGllczogd3JpdGVzIHJldHVybiBzZWxlY3Rpb24sIHJlYWRzIHJldHVybiBmaXJzdCB2YWx1ZQogICAqLwogIEpRTGl0ZS5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbihhcmcxLCBhcmcyKSB7CiAgICB2YXIgaSwga2V5OwogICAgdmFyIG5vZGVDb3VudCA9IHRoaXMubGVuZ3RoOwoKICAgIC8vIGpxTGl0ZUhhc0NsYXNzIGhhcyBvbmx5IHR3byBhcmd1bWVudHMsIGJ1dCBpcyBhIGdldHRlci1vbmx5IGZuLCBzbyB3ZSBuZWVkIHRvIHNwZWNpYWwtY2FzZSBpdAogICAgLy8gaW4gYSB3YXkgdGhhdCBzdXJ2aXZlcyBtaW5pZmljYXRpb24uCiAgICAvLyBqcUxpdGVFbXB0eSB0YWtlcyBubyBhcmd1bWVudHMgYnV0IGlzIGEgc2V0dGVyLgogICAgaWYgKGZuICE9PSBqcUxpdGVFbXB0eSAmJgogICAgICAgICgoKGZuLmxlbmd0aCA9PSAyICYmIChmbiAhPT0ganFMaXRlSGFzQ2xhc3MgJiYgZm4gIT09IGpxTGl0ZUNvbnRyb2xsZXIpKSA/IGFyZzEgOiBhcmcyKSA9PT0gdW5kZWZpbmVkKSkgewogICAgICBpZiAoaXNPYmplY3QoYXJnMSkpIHsKCiAgICAgICAgLy8gd2UgYXJlIGEgd3JpdGUsIGJ1dCB0aGUgb2JqZWN0IHByb3BlcnRpZXMgYXJlIHRoZSBrZXkvdmFsdWVzCiAgICAgICAgZm9yIChpID0gMDsgaSA8IG5vZGVDb3VudDsgaSsrKSB7CiAgICAgICAgICBpZiAoZm4gPT09IGpxTGl0ZURhdGEpIHsKICAgICAgICAgICAgLy8gZGF0YSgpIHRha2VzIHRoZSB3aG9sZSBvYmplY3QgaW4galF1ZXJ5CiAgICAgICAgICAgIGZuKHRoaXNbaV0sIGFyZzEpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yIChrZXkgaW4gYXJnMSkgewogICAgICAgICAgICAgIGZuKHRoaXNbaV0sIGtleSwgYXJnMVtrZXldKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvLyByZXR1cm4gc2VsZiBmb3IgY2hhaW5pbmcKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyB3ZSBhcmUgYSByZWFkLCBzbyByZWFkIHRoZSBmaXJzdCBjaGlsZC4KICAgICAgICAvLyBUT0RPOiBkbyB3ZSBzdGlsbCBuZWVkIHRoaXM/CiAgICAgICAgdmFyIHZhbHVlID0gZm4uJGR2OwogICAgICAgIC8vIE9ubHkgaWYgd2UgaGF2ZSAkZHYgZG8gd2UgaXRlcmF0ZSBvdmVyIGFsbCwgb3RoZXJ3aXNlIGl0IGlzIGp1c3QgdGhlIGZpcnN0IGVsZW1lbnQuCiAgICAgICAgdmFyIGpqID0gKHZhbHVlID09PSB1bmRlZmluZWQpID8gTWF0aC5taW4obm9kZUNvdW50LCAxKSA6IG5vZGVDb3VudDsKICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGpqOyBqKyspIHsKICAgICAgICAgIHZhciBub2RlVmFsdWUgPSBmbih0aGlzW2pdLCBhcmcxLCBhcmcyKTsKICAgICAgICAgIHZhbHVlID0gdmFsdWUgPyB2YWx1ZSArIG5vZGVWYWx1ZSA6IG5vZGVWYWx1ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICAvLyB3ZSBhcmUgYSB3cml0ZSwgc28gYXBwbHkgdG8gYWxsIGNoaWxkcmVuCiAgICAgIGZvciAoaSA9IDA7IGkgPCBub2RlQ291bnQ7IGkrKykgewogICAgICAgIGZuKHRoaXNbaV0sIGFyZzEsIGFyZzIpOwogICAgICB9CiAgICAgIC8vIHJldHVybiBzZWxmIGZvciBjaGFpbmluZwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9Owp9KTsKCmZ1bmN0aW9uIGNyZWF0ZUV2ZW50SGFuZGxlcihlbGVtZW50LCBldmVudHMpIHsKICB2YXIgZXZlbnRIYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50LCB0eXBlKSB7CiAgICBpZiAoIWV2ZW50LnByZXZlbnREZWZhdWx0KSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTsgLy9pZQogICAgICB9OwogICAgfQoKICAgIGlmICghZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSB7CiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKCkgewogICAgICAgIGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7IC8vaWUKICAgICAgfTsKICAgIH0KCiAgICBpZiAoIWV2ZW50LnRhcmdldCkgewogICAgICBldmVudC50YXJnZXQgPSBldmVudC5zcmNFbGVtZW50IHx8IGRvY3VtZW50OwogICAgfQoKICAgIGlmIChpc1VuZGVmaW5lZChldmVudC5kZWZhdWx0UHJldmVudGVkKSkgewogICAgICB2YXIgcHJldmVudCA9IGV2ZW50LnByZXZlbnREZWZhdWx0OwogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkgewogICAgICAgIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlOwogICAgICAgIHByZXZlbnQuY2FsbChldmVudCk7CiAgICAgIH07CiAgICAgIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTsKICAgIH0KCiAgICBldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgfHwgZXZlbnQucmV0dXJuVmFsdWUgPT09IGZhbHNlOwogICAgfTsKCiAgICAvLyBDb3B5IGV2ZW50IGhhbmRsZXJzIGluIGNhc2UgZXZlbnQgaGFuZGxlcnMgYXJyYXkgaXMgbW9kaWZpZWQgZHVyaW5nIGV4ZWN1dGlvbi4KICAgIHZhciBldmVudEhhbmRsZXJzQ29weSA9IHNoYWxsb3dDb3B5KGV2ZW50c1t0eXBlIHx8IGV2ZW50LnR5cGVdIHx8IFtdKTsKCiAgICBmb3JFYWNoKGV2ZW50SGFuZGxlcnNDb3B5LCBmdW5jdGlvbihmbikgewogICAgICBmbi5jYWxsKGVsZW1lbnQsIGV2ZW50KTsKICAgIH0pOwoKICAgIC8vIFJlbW92ZSBtb25rZXktcGF0Y2hlZCBtZXRob2RzIChJRSksCiAgICAvLyBhcyB0aGV5IHdvdWxkIGNhdXNlIG1lbW9yeSBsZWFrcyBpbiBJRTguCiAgICBpZiAobXNpZSA8PSA4KSB7CiAgICAgIC8vIElFNy84IGRvZXMgbm90IGFsbG93IHRvIGRlbGV0ZSBwcm9wZXJ0eSBvbiBuYXRpdmUgb2JqZWN0CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0ID0gbnVsbDsKICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uID0gbnVsbDsKICAgICAgZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkID0gbnVsbDsKICAgIH0gZWxzZSB7CiAgICAgIC8vIEl0IHNob3VsZG4ndCBhZmZlY3Qgbm9ybWFsIGJyb3dzZXJzIChuYXRpdmUgbWV0aG9kcyBhcmUgZGVmaW5lZCBvbiBwcm90b3R5cGUpLgogICAgICBkZWxldGUgZXZlbnQucHJldmVudERlZmF1bHQ7CiAgICAgIGRlbGV0ZSBldmVudC5zdG9wUHJvcGFnYXRpb247CiAgICAgIGRlbGV0ZSBldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQ7CiAgICB9CiAgfTsKICBldmVudEhhbmRsZXIuZWxlbSA9IGVsZW1lbnQ7CiAgcmV0dXJuIGV2ZW50SGFuZGxlcjsKfQoKLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCi8vIEZ1bmN0aW9ucyBpdGVyYXRpbmcgdHJhdmVyc2FsLgovLyBUaGVzZSBmdW5jdGlvbnMgY2hhaW4gcmVzdWx0cyBpbnRvIGEgc2luZ2xlCi8vIHNlbGVjdG9yLgovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KZm9yRWFjaCh7CiAgcmVtb3ZlRGF0YToganFMaXRlUmVtb3ZlRGF0YSwKCiAgZGVhbG9jOiBqcUxpdGVEZWFsb2MsCgogIG9uOiBmdW5jdGlvbiBvbkZuKGVsZW1lbnQsIHR5cGUsIGZuLCB1bnN1cHBvcnRlZCl7CiAgICBpZiAoaXNEZWZpbmVkKHVuc3VwcG9ydGVkKSkgdGhyb3cganFMaXRlTWluRXJyKCdvbmFyZ3MnLCAnanFMaXRlI29uKCkgZG9lcyBub3Qgc3VwcG9ydCB0aGUgYHNlbGVjdG9yYCBvciBgZXZlbnREYXRhYCBwYXJhbWV0ZXJzJyk7CgogICAgdmFyIGV2ZW50cyA9IGpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50LCAnZXZlbnRzJyksCiAgICAgICAgaGFuZGxlID0ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsICdoYW5kbGUnKTsKCiAgICBpZiAoIWV2ZW50cykganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsICdldmVudHMnLCBldmVudHMgPSB7fSk7CiAgICBpZiAoIWhhbmRsZSkganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsICdoYW5kbGUnLCBoYW5kbGUgPSBjcmVhdGVFdmVudEhhbmRsZXIoZWxlbWVudCwgZXZlbnRzKSk7CgogICAgZm9yRWFjaCh0eXBlLnNwbGl0KCcgJyksIGZ1bmN0aW9uKHR5cGUpewogICAgICB2YXIgZXZlbnRGbnMgPSBldmVudHNbdHlwZV07CgogICAgICBpZiAoIWV2ZW50Rm5zKSB7CiAgICAgICAgaWYgKHR5cGUgPT0gJ21vdXNlZW50ZXInIHx8IHR5cGUgPT0gJ21vdXNlbGVhdmUnKSB7CiAgICAgICAgICB2YXIgY29udGFpbnMgPSBkb2N1bWVudC5ib2R5LmNvbnRhaW5zIHx8IGRvY3VtZW50LmJvZHkuY29tcGFyZURvY3VtZW50UG9zaXRpb24gPwogICAgICAgICAgZnVuY3Rpb24oIGEsIGIgKSB7CiAgICAgICAgICAgIC8vIGpzaGludCBiaXR3aXNlOiBmYWxzZQogICAgICAgICAgICB2YXIgYWRvd24gPSBhLm5vZGVUeXBlID09PSA5ID8gYS5kb2N1bWVudEVsZW1lbnQgOiBhLAogICAgICAgICAgICBidXAgPSBiICYmIGIucGFyZW50Tm9kZTsKICAgICAgICAgICAgcmV0dXJuIGEgPT09IGJ1cCB8fCAhISggYnVwICYmIGJ1cC5ub2RlVHlwZSA9PT0gMSAmJiAoCiAgICAgICAgICAgICAgYWRvd24uY29udGFpbnMgPwogICAgICAgICAgICAgIGFkb3duLmNvbnRhaW5zKCBidXAgKSA6CiAgICAgICAgICAgICAgYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAmJiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBidXAgKSAmIDE2CiAgICAgICAgICAgICAgKSk7CiAgICAgICAgICAgIH0gOgogICAgICAgICAgICBmdW5jdGlvbiggYSwgYiApIHsKICAgICAgICAgICAgICBpZiAoIGIgKSB7CiAgICAgICAgICAgICAgICB3aGlsZSAoIChiID0gYi5wYXJlbnROb2RlKSApIHsKICAgICAgICAgICAgICAgICAgaWYgKCBiID09PSBhICkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICBldmVudHNbdHlwZV0gPSBbXTsKCiAgICAgICAgICAvLyBSZWZlciB0byBqUXVlcnkncyBpbXBsZW1lbnRhdGlvbiBvZiBtb3VzZWVudGVyICYgbW91c2VsZWF2ZQogICAgICAgICAgLy8gUmVhZCBhYm91dCBtb3VzZWVudGVyIGFuZCBtb3VzZWxlYXZlOgogICAgICAgICAgLy8gaHR0cDovL3d3dy5xdWlya3Ntb2RlLm9yZy9qcy9ldmVudHNfbW91c2UuaHRtbCNsaW5rOAogICAgICAgICAgdmFyIGV2ZW50bWFwID0geyBtb3VzZWxlYXZlIDogIm1vdXNlb3V0IiwgbW91c2VlbnRlciA6ICJtb3VzZW92ZXIifTsKCiAgICAgICAgICBvbkZuKGVsZW1lbnQsIGV2ZW50bWFwW3R5cGVdLCBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcywgcmVsYXRlZCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQ7CiAgICAgICAgICAgIC8vIEZvciBtb3VzZW50ZXIvbGVhdmUgY2FsbCB0aGUgaGFuZGxlciBpZiByZWxhdGVkIGlzIG91dHNpZGUgdGhlIHRhcmdldC4KICAgICAgICAgICAgLy8gTkI6IE5vIHJlbGF0ZWRUYXJnZXQgaWYgdGhlIG1vdXNlIGxlZnQvZW50ZXJlZCB0aGUgYnJvd3NlciB3aW5kb3cKICAgICAgICAgICAgaWYgKCAhcmVsYXRlZCB8fCAocmVsYXRlZCAhPT0gdGFyZ2V0ICYmICFjb250YWlucyh0YXJnZXQsIHJlbGF0ZWQpKSApewogICAgICAgICAgICAgIGhhbmRsZShldmVudCwgdHlwZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwoKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lckZuKGVsZW1lbnQsIHR5cGUsIGhhbmRsZSk7CiAgICAgICAgICBldmVudHNbdHlwZV0gPSBbXTsKICAgICAgICB9CiAgICAgICAgZXZlbnRGbnMgPSBldmVudHNbdHlwZV07CiAgICAgIH0KICAgICAgZXZlbnRGbnMucHVzaChmbik7CiAgICB9KTsKICB9LAoKICBvZmY6IGpxTGl0ZU9mZiwKCiAgb25lOiBmdW5jdGlvbihlbGVtZW50LCB0eXBlLCBmbikgewogICAgZWxlbWVudCA9IGpxTGl0ZShlbGVtZW50KTsKCiAgICAvL2FkZCB0aGUgbGlzdGVuZXIgdHdpY2Ugc28gdGhhdCB3aGVuIGl0IGlzIGNhbGxlZAogICAgLy95b3UgY2FuIHJlbW92ZSB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gYW5kIHN0aWxsIGJlCiAgICAvL2FibGUgdG8gY2FsbCBlbGVtZW50Lm9mZihldiwgZm4pIG5vcm1hbGx5CiAgICBlbGVtZW50Lm9uKHR5cGUsIGZ1bmN0aW9uIG9uRm4oKSB7CiAgICAgIGVsZW1lbnQub2ZmKHR5cGUsIGZuKTsKICAgICAgZWxlbWVudC5vZmYodHlwZSwgb25Gbik7CiAgICB9KTsKICAgIGVsZW1lbnQub24odHlwZSwgZm4pOwogIH0sCgogIHJlcGxhY2VXaXRoOiBmdW5jdGlvbihlbGVtZW50LCByZXBsYWNlTm9kZSkgewogICAgdmFyIGluZGV4LCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7CiAgICBqcUxpdGVEZWFsb2MoZWxlbWVudCk7CiAgICBmb3JFYWNoKG5ldyBKUUxpdGUocmVwbGFjZU5vZGUpLCBmdW5jdGlvbihub2RlKXsKICAgICAgaWYgKGluZGV4KSB7CiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShub2RlLCBpbmRleC5uZXh0U2libGluZyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChub2RlLCBlbGVtZW50KTsKICAgICAgfQogICAgICBpbmRleCA9IG5vZGU7CiAgICB9KTsKICB9LAoKICBjaGlsZHJlbjogZnVuY3Rpb24oZWxlbWVudCkgewogICAgdmFyIGNoaWxkcmVuID0gW107CiAgICBmb3JFYWNoKGVsZW1lbnQuY2hpbGROb2RlcywgZnVuY3Rpb24oZWxlbWVudCl7CiAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSAxKQogICAgICAgIGNoaWxkcmVuLnB1c2goZWxlbWVudCk7CiAgICB9KTsKICAgIHJldHVybiBjaGlsZHJlbjsKICB9LAoKICBjb250ZW50czogZnVuY3Rpb24oZWxlbWVudCkgewogICAgcmV0dXJuIGVsZW1lbnQuY29udGVudERvY3VtZW50IHx8IGVsZW1lbnQuY2hpbGROb2RlcyB8fCBbXTsKICB9LAoKICBhcHBlbmQ6IGZ1bmN0aW9uKGVsZW1lbnQsIG5vZGUpIHsKICAgIGZvckVhY2gobmV3IEpRTGl0ZShub2RlKSwgZnVuY3Rpb24oY2hpbGQpewogICAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gMSB8fCBlbGVtZW50Lm5vZGVUeXBlID09PSAxMSkgewogICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQpOwogICAgICB9CiAgICB9KTsKICB9LAoKICBwcmVwZW5kOiBmdW5jdGlvbihlbGVtZW50LCBub2RlKSB7CiAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gMSkgewogICAgICB2YXIgaW5kZXggPSBlbGVtZW50LmZpcnN0Q2hpbGQ7CiAgICAgIGZvckVhY2gobmV3IEpRTGl0ZShub2RlKSwgZnVuY3Rpb24oY2hpbGQpewogICAgICAgIGVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBpbmRleCk7CiAgICAgIH0pOwogICAgfQogIH0sCgogIHdyYXA6IGZ1bmN0aW9uKGVsZW1lbnQsIHdyYXBOb2RlKSB7CiAgICB3cmFwTm9kZSA9IGpxTGl0ZSh3cmFwTm9kZSlbMF07CiAgICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlOwogICAgaWYgKHBhcmVudCkgewogICAgICBwYXJlbnQucmVwbGFjZUNoaWxkKHdyYXBOb2RlLCBlbGVtZW50KTsKICAgIH0KICAgIHdyYXBOb2RlLmFwcGVuZENoaWxkKGVsZW1lbnQpOwogIH0sCgogIHJlbW92ZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAganFMaXRlRGVhbG9jKGVsZW1lbnQpOwogICAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTsKICAgIGlmIChwYXJlbnQpIHBhcmVudC5yZW1vdmVDaGlsZChlbGVtZW50KTsKICB9LAoKICBhZnRlcjogZnVuY3Rpb24oZWxlbWVudCwgbmV3RWxlbWVudCkgewogICAgdmFyIGluZGV4ID0gZWxlbWVudCwgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlOwogICAgZm9yRWFjaChuZXcgSlFMaXRlKG5ld0VsZW1lbnQpLCBmdW5jdGlvbihub2RlKXsKICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShub2RlLCBpbmRleC5uZXh0U2libGluZyk7CiAgICAgIGluZGV4ID0gbm9kZTsKICAgIH0pOwogIH0sCgogIGFkZENsYXNzOiBqcUxpdGVBZGRDbGFzcywKICByZW1vdmVDbGFzczoganFMaXRlUmVtb3ZlQ2xhc3MsCgogIHRvZ2dsZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBzZWxlY3RvciwgY29uZGl0aW9uKSB7CiAgICBpZiAoc2VsZWN0b3IpIHsKICAgICAgZm9yRWFjaChzZWxlY3Rvci5zcGxpdCgnICcpLCBmdW5jdGlvbihjbGFzc05hbWUpewogICAgICAgIHZhciBjbGFzc0NvbmRpdGlvbiA9IGNvbmRpdGlvbjsKICAgICAgICBpZiAoaXNVbmRlZmluZWQoY2xhc3NDb25kaXRpb24pKSB7CiAgICAgICAgICBjbGFzc0NvbmRpdGlvbiA9ICFqcUxpdGVIYXNDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpOwogICAgICAgIH0KICAgICAgICAoY2xhc3NDb25kaXRpb24gPyBqcUxpdGVBZGRDbGFzcyA6IGpxTGl0ZVJlbW92ZUNsYXNzKShlbGVtZW50LCBjbGFzc05hbWUpOwogICAgICB9KTsKICAgIH0KICB9LAoKICBwYXJlbnQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7CiAgICByZXR1cm4gcGFyZW50ICYmIHBhcmVudC5ub2RlVHlwZSAhPT0gMTEgPyBwYXJlbnQgOiBudWxsOwogIH0sCgogIG5leHQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIGlmIChlbGVtZW50Lm5leHRFbGVtZW50U2libGluZykgewogICAgICByZXR1cm4gZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmc7CiAgICB9CgogICAgLy8gSUU4IGRvZXNuJ3QgaGF2ZSBuZXh0RWxlbWVudFNpYmxpbmcKICAgIHZhciBlbG0gPSBlbGVtZW50Lm5leHRTaWJsaW5nOwogICAgd2hpbGUgKGVsbSAhPSBudWxsICYmIGVsbS5ub2RlVHlwZSAhPT0gMSkgewogICAgICBlbG0gPSBlbG0ubmV4dFNpYmxpbmc7CiAgICB9CiAgICByZXR1cm4gZWxtOwogIH0sCgogIGZpbmQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHNlbGVjdG9yKSB7CiAgICBpZiAoZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSkgewogICAgICByZXR1cm4gZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShzZWxlY3Rvcik7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gW107CiAgICB9CiAgfSwKCiAgY2xvbmU6IGpxTGl0ZUNsb25lLAoKICB0cmlnZ2VySGFuZGxlcjogZnVuY3Rpb24oZWxlbWVudCwgZXZlbnROYW1lLCBldmVudERhdGEpIHsKICAgIHZhciBldmVudEZucyA9IChqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwgJ2V2ZW50cycpIHx8IHt9KVtldmVudE5hbWVdOwoKICAgIGV2ZW50RGF0YSA9IGV2ZW50RGF0YSB8fCBbXTsKCiAgICB2YXIgZXZlbnQgPSBbewogICAgICBwcmV2ZW50RGVmYXVsdDogbm9vcCwKICAgICAgc3RvcFByb3BhZ2F0aW9uOiBub29wCiAgICB9XTsKCiAgICBmb3JFYWNoKGV2ZW50Rm5zLCBmdW5jdGlvbihmbikgewogICAgICBmbi5hcHBseShlbGVtZW50LCBldmVudC5jb25jYXQoZXZlbnREYXRhKSk7CiAgICB9KTsKICB9Cn0sIGZ1bmN0aW9uKGZuLCBuYW1lKXsKICAvKioKICAgKiBjaGFpbmluZyBmdW5jdGlvbnMKICAgKi8KICBKUUxpdGUucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oYXJnMSwgYXJnMiwgYXJnMykgewogICAgdmFyIHZhbHVlOwogICAgZm9yKHZhciBpPTA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHsKICAgICAgICB2YWx1ZSA9IGZuKHRoaXNbaV0sIGFyZzEsIGFyZzIsIGFyZzMpOwogICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7CiAgICAgICAgICAvLyBhbnkgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhIHZhbHVlIG5lZWRzIHRvIGJlIHdyYXBwZWQKICAgICAgICAgIHZhbHVlID0ganFMaXRlKHZhbHVlKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAganFMaXRlQWRkTm9kZXModmFsdWUsIGZuKHRoaXNbaV0sIGFyZzEsIGFyZzIsIGFyZzMpKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIGlzRGVmaW5lZCh2YWx1ZSkgPyB2YWx1ZSA6IHRoaXM7CiAgfTsKCiAgLy8gYmluZCBsZWdhY3kgYmluZC91bmJpbmQgdG8gb24vb2ZmCiAgSlFMaXRlLnByb3RvdHlwZS5iaW5kID0gSlFMaXRlLnByb3RvdHlwZS5vbjsKICBKUUxpdGUucHJvdG90eXBlLnVuYmluZCA9IEpRTGl0ZS5wcm90b3R5cGUub2ZmOwp9KTsKCi8qKgogKiBDb21wdXRlcyBhIGhhc2ggb2YgYW4gJ29iaicuCiAqIEhhc2ggb2YgYToKICogIHN0cmluZyBpcyBzdHJpbmcKICogIG51bWJlciBpcyBudW1iZXIgYXMgc3RyaW5nCiAqICBvYmplY3QgaXMgZWl0aGVyIHJlc3VsdCBvZiBjYWxsaW5nICQkaGFzaEtleSBmdW5jdGlvbiBvbiB0aGUgb2JqZWN0IG9yIHVuaXF1ZWx5IGdlbmVyYXRlZCBpZCwKICogICAgICAgICB0aGF0IGlzIGFsc28gYXNzaWduZWQgdG8gdGhlICQkaGFzaEtleSBwcm9wZXJ0eSBvZiB0aGUgb2JqZWN0LgogKgogKiBAcGFyYW0gb2JqCiAqIEByZXR1cm5zIHtzdHJpbmd9IGhhc2ggc3RyaW5nIHN1Y2ggdGhhdCB0aGUgc2FtZSBpbnB1dCB3aWxsIGhhdmUgdGhlIHNhbWUgaGFzaCBzdHJpbmcuCiAqICAgICAgICAgVGhlIHJlc3VsdGluZyBzdHJpbmcga2V5IGlzIGluICd0eXBlOmhhc2hLZXknIGZvcm1hdC4KICovCmZ1bmN0aW9uIGhhc2hLZXkob2JqLCBuZXh0VWlkRm4pIHsKICB2YXIgb2JqVHlwZSA9IHR5cGVvZiBvYmosCiAgICAgIGtleTsKCiAgaWYgKG9ialR5cGUgPT0gJ2Z1bmN0aW9uJyB8fCAob2JqVHlwZSA9PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGwpKSB7CiAgICBpZiAodHlwZW9mIChrZXkgPSBvYmouJCRoYXNoS2V5KSA9PSAnZnVuY3Rpb24nKSB7CiAgICAgIC8vIG11c3QgaW52b2tlIG9uIG9iamVjdCB0byBrZWVwIHRoZSByaWdodCB0aGlzCiAgICAgIGtleSA9IG9iai4kJGhhc2hLZXkoKTsKICAgIH0gZWxzZSBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHsKICAgICAga2V5ID0gb2JqLiQkaGFzaEtleSA9IChuZXh0VWlkRm4gfHwgbmV4dFVpZCkoKTsKICAgIH0KICB9IGVsc2UgewogICAga2V5ID0gb2JqOwogIH0KCiAgcmV0dXJuIG9ialR5cGUgKyAnOicgKyBrZXk7Cn0KCi8qKgogKiBIYXNoTWFwIHdoaWNoIGNhbiB1c2Ugb2JqZWN0cyBhcyBrZXlzCiAqLwpmdW5jdGlvbiBIYXNoTWFwKGFycmF5LCBpc29sYXRlZFVpZCkgewogIGlmIChpc29sYXRlZFVpZCkgewogICAgdmFyIHVpZCA9IDA7CiAgICB0aGlzLm5leHRVaWQgPSBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuICsrdWlkOwogICAgfTsKICB9CiAgZm9yRWFjaChhcnJheSwgdGhpcy5wdXQsIHRoaXMpOwp9Ckhhc2hNYXAucHJvdG90eXBlID0gewogIC8qKgogICAqIFN0b3JlIGtleSB2YWx1ZSBwYWlyCiAgICogQHBhcmFtIGtleSBrZXkgdG8gc3RvcmUgY2FuIGJlIGFueSB0eXBlCiAgICogQHBhcmFtIHZhbHVlIHZhbHVlIHRvIHN0b3JlIGNhbiBiZSBhbnkgdHlwZQogICAqLwogIHB1dDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkgewogICAgdGhpc1toYXNoS2V5KGtleSwgdGhpcy5uZXh0VWlkKV0gPSB2YWx1ZTsKICB9LAoKICAvKioKICAgKiBAcGFyYW0ga2V5CiAgICogQHJldHVybnMge09iamVjdH0gdGhlIHZhbHVlIGZvciB0aGUga2V5CiAgICovCiAgZ2V0OiBmdW5jdGlvbihrZXkpIHsKICAgIHJldHVybiB0aGlzW2hhc2hLZXkoa2V5LCB0aGlzLm5leHRVaWQpXTsKICB9LAoKICAvKioKICAgKiBSZW1vdmUgdGhlIGtleS92YWx1ZSBwYWlyCiAgICogQHBhcmFtIGtleQogICAqLwogIHJlbW92ZTogZnVuY3Rpb24oa2V5KSB7CiAgICB2YXIgdmFsdWUgPSB0aGlzW2tleSA9IGhhc2hLZXkoa2V5LCB0aGlzLm5leHRVaWQpXTsKICAgIGRlbGV0ZSB0aGlzW2tleV07CiAgICByZXR1cm4gdmFsdWU7CiAgfQp9OwoKLyoqCiAqIEBuZ2RvYyBmdW5jdGlvbgogKiBAbW9kdWxlIG5nCiAqIEBuYW1lIGFuZ3VsYXIuaW5qZWN0b3IKICogQGtpbmQgZnVuY3Rpb24KICoKICogQGRlc2NyaXB0aW9uCiAqIENyZWF0ZXMgYW4gaW5qZWN0b3IgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCBmb3IgcmV0cmlldmluZyBzZXJ2aWNlcyBhcyB3ZWxsIGFzIGZvcgogKiBkZXBlbmRlbmN5IGluamVjdGlvbiAoc2VlIHtAbGluayBndWlkZS9kaSBkZXBlbmRlbmN5IGluamVjdGlvbn0pLgogKgoKICogQHBhcmFtIHtBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gbW9kdWxlcyBBIGxpc3Qgb2YgbW9kdWxlIGZ1bmN0aW9ucyBvciB0aGVpciBhbGlhc2VzLiBTZWUKICogICAgICAgIHtAbGluayBhbmd1bGFyLm1vZHVsZX0uIFRoZSBgbmdgIG1vZHVsZSBtdXN0IGJlIGV4cGxpY2l0bHkgYWRkZWQuCiAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBJbmplY3RvciBmdW5jdGlvbi4gU2VlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LgogKgogKiBAZXhhbXBsZQogKiBUeXBpY2FsIHVzYWdlCiAqIGBgYGpzCiAqICAgLy8gY3JlYXRlIGFuIGluamVjdG9yCiAqICAgdmFyICRpbmplY3RvciA9IGFuZ3VsYXIuaW5qZWN0b3IoWyduZyddKTsKICoKICogICAvLyB1c2UgdGhlIGluamVjdG9yIHRvIGtpY2sgb2ZmIHlvdXIgYXBwbGljYXRpb24KICogICAvLyB1c2UgdGhlIHR5cGUgaW5mZXJlbmNlIHRvIGF1dG8gaW5qZWN0IGFyZ3VtZW50cywgb3IgdXNlIGltcGxpY2l0IGluamVjdGlvbgogKiAgICRpbmplY3Rvci5pbnZva2UoZnVuY3Rpb24oJHJvb3RTY29wZSwgJGNvbXBpbGUsICRkb2N1bWVudCl7CiAqICAgICAkY29tcGlsZSgkZG9jdW1lbnQpKCRyb290U2NvcGUpOwogKiAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7CiAqICAgfSk7CiAqIGBgYAogKgogKiBTb21ldGltZXMgeW91IHdhbnQgdG8gZ2V0IGFjY2VzcyB0byB0aGUgaW5qZWN0b3Igb2YgYSBjdXJyZW50bHkgcnVubmluZyBBbmd1bGFyIGFwcAogKiBmcm9tIG91dHNpZGUgQW5ndWxhci4gUGVyaGFwcywgeW91IHdhbnQgdG8gaW5qZWN0IGFuZCBjb21waWxlIHNvbWUgbWFya3VwIGFmdGVyIHRoZQogKiBhcHBsaWNhdGlvbiBoYXMgYmVlbiBib290c3RyYXBwZWQuIFlvdSBjYW4gZG8gdGhpcyB1c2luZyB0aGUgZXh0cmEgYGluamVjdG9yKClgIGFkZGVkCiAqIHRvIEpRdWVyeS9qcUxpdGUgZWxlbWVudHMuIFNlZSB7QGxpbmsgYW5ndWxhci5lbGVtZW50fS4KICoKICogKlRoaXMgaXMgZmFpcmx5IHJhcmUgYnV0IGNvdWxkIGJlIHRoZSBjYXNlIGlmIGEgdGhpcmQgcGFydHkgbGlicmFyeSBpcyBpbmplY3RpbmcgdGhlCiAqIG1hcmt1cC4qCiAqCiAqIEluIHRoZSBmb2xsb3dpbmcgZXhhbXBsZSBhIG5ldyBibG9jayBvZiBIVE1MIGNvbnRhaW5pbmcgYSBgbmctY29udHJvbGxlcmAKICogZGlyZWN0aXZlIGlzIGFkZGVkIHRvIHRoZSBlbmQgb2YgdGhlIGRvY3VtZW50IGJvZHkgYnkgSlF1ZXJ5LiBXZSB0aGVuIGNvbXBpbGUgYW5kIGxpbmsKICogaXQgaW50byB0aGUgY3VycmVudCBBbmd1bGFySlMgc2NvcGUuCiAqCiAqIGBgYGpzCiAqIHZhciAkZGl2ID0gJCgnPGRpdiBuZy1jb250cm9sbGVyPSJNeUN0cmwiPnt7Y29udGVudC5sYWJlbH19PC9kaXY+Jyk7CiAqICQoZG9jdW1lbnQuYm9keSkuYXBwZW5kKCRkaXYpOwogKgogKiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLmluamVjdG9yKCkuaW52b2tlKGZ1bmN0aW9uKCRjb21waWxlKSB7CiAqICAgdmFyIHNjb3BlID0gYW5ndWxhci5lbGVtZW50KCRkaXYpLnNjb3BlKCk7CiAqICAgJGNvbXBpbGUoJGRpdikoc2NvcGUpOwogKiB9KTsKICogYGBgCiAqLwoKCi8qKgogKiBAbmdkb2MgbW9kdWxlCiAqIEBuYW1lIGF1dG8KICogQGRlc2NyaXB0aW9uCiAqCiAqIEltcGxpY2l0IG1vZHVsZSB3aGljaCBnZXRzIGF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gZWFjaCB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS4KICovCgp2YXIgRk5fQVJHUyA9IC9eZnVuY3Rpb25ccypbXlwoXSpcKFxzKihbXlwpXSopXCkvbTsKdmFyIEZOX0FSR19TUExJVCA9IC8sLzsKdmFyIEZOX0FSRyA9IC9eXHMqKF8/KShcUys/KVwxXHMqJC87CnZhciBTVFJJUF9DT01NRU5UUyA9IC8oKFwvXC8uKiQpfChcL1wqW1xzXFNdKj9cKlwvKSkvbWc7CnZhciAkaW5qZWN0b3JNaW5FcnIgPSBtaW5FcnIoJyRpbmplY3RvcicpOwpmdW5jdGlvbiBhbm5vdGF0ZShmbikgewogIHZhciAkaW5qZWN0LAogICAgICBmblRleHQsCiAgICAgIGFyZ0RlY2wsCiAgICAgIGxhc3Q7CgogIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHsKICAgIGlmICghKCRpbmplY3QgPSBmbi4kaW5qZWN0KSkgewogICAgICAkaW5qZWN0ID0gW107CiAgICAgIGlmIChmbi5sZW5ndGgpIHsKICAgICAgICBmblRleHQgPSBmbi50b1N0cmluZygpLnJlcGxhY2UoU1RSSVBfQ09NTUVOVFMsICcnKTsKICAgICAgICBhcmdEZWNsID0gZm5UZXh0Lm1hdGNoKEZOX0FSR1MpOwogICAgICAgIGZvckVhY2goYXJnRGVjbFsxXS5zcGxpdChGTl9BUkdfU1BMSVQpLCBmdW5jdGlvbihhcmcpewogICAgICAgICAgYXJnLnJlcGxhY2UoRk5fQVJHLCBmdW5jdGlvbihhbGwsIHVuZGVyc2NvcmUsIG5hbWUpewogICAgICAgICAgICAkaW5qZWN0LnB1c2gobmFtZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgICBmbi4kaW5qZWN0ID0gJGluamVjdDsKICAgIH0KICB9IGVsc2UgaWYgKGlzQXJyYXkoZm4pKSB7CiAgICBsYXN0ID0gZm4ubGVuZ3RoIC0gMTsKICAgIGFzc2VydEFyZ0ZuKGZuW2xhc3RdLCAnZm4nKTsKICAgICRpbmplY3QgPSBmbi5zbGljZSgwLCBsYXN0KTsKICB9IGVsc2UgewogICAgYXNzZXJ0QXJnRm4oZm4sICdmbicsIHRydWUpOwogIH0KICByZXR1cm4gJGluamVjdDsKfQoKLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgovKioKICogQG5nZG9jIHNlcnZpY2UKICogQG5hbWUgJGluamVjdG9yCiAqIEBraW5kIGZ1bmN0aW9uCiAqCiAqIEBkZXNjcmlwdGlvbgogKgogKiBgJGluamVjdG9yYCBpcyB1c2VkIHRvIHJldHJpZXZlIG9iamVjdCBpbnN0YW5jZXMgYXMgZGVmaW5lZCBieQogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSBwcm92aWRlcn0sIGluc3RhbnRpYXRlIHR5cGVzLCBpbnZva2UgbWV0aG9kcywKICogYW5kIGxvYWQgbW9kdWxlcy4KICoKICogVGhlIGZvbGxvd2luZyBhbHdheXMgaG9sZHMgdHJ1ZToKICoKICogYGBganMKICogICB2YXIgJGluamVjdG9yID0gYW5ndWxhci5pbmplY3RvcigpOwogKiAgIGV4cGVjdCgkaW5qZWN0b3IuZ2V0KCckaW5qZWN0b3InKSkudG9CZSgkaW5qZWN0b3IpOwogKiAgIGV4cGVjdCgkaW5qZWN0b3IuaW52b2tlKGZ1bmN0aW9uKCRpbmplY3Rvcil7CiAqICAgICByZXR1cm4gJGluamVjdG9yOwogKiAgIH0pLnRvQmUoJGluamVjdG9yKTsKICogYGBgCiAqCiAqICMgSW5qZWN0aW9uIEZ1bmN0aW9uIEFubm90YXRpb24KICoKICogSmF2YVNjcmlwdCBkb2VzIG5vdCBoYXZlIGFubm90YXRpb25zLCBhbmQgYW5ub3RhdGlvbnMgYXJlIG5lZWRlZCBmb3IgZGVwZW5kZW5jeSBpbmplY3Rpb24uIFRoZQogKiBmb2xsb3dpbmcgYXJlIGFsbCB2YWxpZCB3YXlzIG9mIGFubm90YXRpbmcgZnVuY3Rpb24gd2l0aCBpbmplY3Rpb24gYXJndW1lbnRzIGFuZCBhcmUgZXF1aXZhbGVudC4KICoKICogYGBganMKICogICAvLyBpbmZlcnJlZCAob25seSB3b3JrcyBpZiBjb2RlIG5vdCBtaW5pZmllZC9vYmZ1c2NhdGVkKQogKiAgICRpbmplY3Rvci5pbnZva2UoZnVuY3Rpb24oc2VydmljZUEpe30pOwogKgogKiAgIC8vIGFubm90YXRlZAogKiAgIGZ1bmN0aW9uIGV4cGxpY2l0KHNlcnZpY2VBKSB7fTsKICogICBleHBsaWNpdC4kaW5qZWN0ID0gWydzZXJ2aWNlQSddOwogKiAgICRpbmplY3Rvci5pbnZva2UoZXhwbGljaXQpOwogKgogKiAgIC8vIGlubGluZQogKiAgICRpbmplY3Rvci5pbnZva2UoWydzZXJ2aWNlQScsIGZ1bmN0aW9uKHNlcnZpY2VBKXt9XSk7CiAqIGBgYAogKgogKiAjIyBJbmZlcmVuY2UKICoKICogSW4gSmF2YVNjcmlwdCBjYWxsaW5nIGB0b1N0cmluZygpYCBvbiBhIGZ1bmN0aW9uIHJldHVybnMgdGhlIGZ1bmN0aW9uIGRlZmluaXRpb24uIFRoZSBkZWZpbml0aW9uCiAqIGNhbiB0aGVuIGJlIHBhcnNlZCBhbmQgdGhlIGZ1bmN0aW9uIGFyZ3VtZW50cyBjYW4gYmUgZXh0cmFjdGVkLiAqTk9URToqIFRoaXMgZG9lcyBub3Qgd29yayB3aXRoCiAqIG1pbmlmaWNhdGlvbiwgYW5kIG9iZnVzY2F0aW9uIHRvb2xzIHNpbmNlIHRoZXNlIHRvb2xzIGNoYW5nZSB0aGUgYXJndW1lbnQgbmFtZXMuCiAqCiAqICMjIGAkaW5qZWN0YCBBbm5vdGF0aW9uCiAqIEJ5IGFkZGluZyBhbiBgJGluamVjdGAgcHJvcGVydHkgb250byBhIGZ1bmN0aW9uIHRoZSBpbmplY3Rpb24gcGFyYW1ldGVycyBjYW4gYmUgc3BlY2lmaWVkLgogKgogKiAjIyBJbmxpbmUKICogQXMgYW4gYXJyYXkgb2YgaW5qZWN0aW9uIG5hbWVzLCB3aGVyZSB0aGUgbGFzdCBpdGVtIGluIHRoZSBhcnJheSBpcyB0aGUgZnVuY3Rpb24gdG8gY2FsbC4KICovCgovKioKICogQG5nZG9jIG1ldGhvZAogKiBAbmFtZSAkaW5qZWN0b3IjZ2V0CiAqCiAqIEBkZXNjcmlwdGlvbgogKiBSZXR1cm4gYW4gaW5zdGFuY2Ugb2YgdGhlIHNlcnZpY2UuCiAqCiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZSB0byByZXRyaWV2ZS4KICogQHJldHVybiB7Kn0gVGhlIGluc3RhbmNlLgogKi8KCi8qKgogKiBAbmdkb2MgbWV0aG9kCiAqIEBuYW1lICRpbmplY3RvciNpbnZva2UKICoKICogQGRlc2NyaXB0aW9uCiAqIEludm9rZSB0aGUgbWV0aG9kIGFuZCBzdXBwbHkgdGhlIG1ldGhvZCBhcmd1bWVudHMgZnJvbSB0aGUgYCRpbmplY3RvcmAuCiAqCiAqIEBwYXJhbSB7IUZ1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLiBGdW5jdGlvbiBwYXJhbWV0ZXJzIGFyZSBpbmplY3RlZCBhY2NvcmRpbmcgdG8gdGhlCiAqICAge0BsaW5rIGd1aWRlL2RpICRpbmplY3QgQW5ub3RhdGlvbn0gcnVsZXMuCiAqIEBwYXJhbSB7T2JqZWN0PX0gc2VsZiBUaGUgYHRoaXNgIGZvciB0aGUgaW52b2tlZCBtZXRob2QuCiAqIEBwYXJhbSB7T2JqZWN0PX0gbG9jYWxzIE9wdGlvbmFsIG9iamVjdC4gSWYgcHJlc2V0IHRoZW4gYW55IGFyZ3VtZW50IG5hbWVzIGFyZSByZWFkIGZyb20gdGhpcwogKiAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QgZmlyc3QsIGJlZm9yZSB0aGUgYCRpbmplY3RvcmAgaXMgY29uc3VsdGVkLgogKiBAcmV0dXJucyB7Kn0gdGhlIHZhbHVlIHJldHVybmVkIGJ5IHRoZSBpbnZva2VkIGBmbmAgZnVuY3Rpb24uCiAqLwoKLyoqCiAqIEBuZ2RvYyBtZXRob2QKICogQG5hbWUgJGluamVjdG9yI2hhcwogKgogKiBAZGVzY3JpcHRpb24KICogQWxsb3dzIHRoZSB1c2VyIHRvIHF1ZXJ5IGlmIHRoZSBwYXJ0aWN1bGFyIHNlcnZpY2UgZXhpc3RzLgogKgogKiBAcGFyYW0ge3N0cmluZ30gTmFtZSBvZiB0aGUgc2VydmljZSB0byBxdWVyeS4KICogQHJldHVybnMge2Jvb2xlYW59IHJldHVybnMgdHJ1ZSBpZiBpbmplY3RvciBoYXMgZ2l2ZW4gc2VydmljZS4KICovCgovKioKICogQG5nZG9jIG1ldGhvZAogKiBAbmFtZSAkaW5qZWN0b3IjaW5zdGFudGlhdGUKICogQGRlc2NyaXB0aW9uCiAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBKUyB0eXBlLiBUaGUgbWV0aG9kIHRha2VzIGEgY29uc3RydWN0b3IgZnVuY3Rpb24sIGludm9rZXMgdGhlIG5ldwogKiBvcGVyYXRvciwgYW5kIHN1cHBsaWVzIGFsbCBvZiB0aGUgYXJndW1lbnRzIHRvIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBhcyBzcGVjaWZpZWQgYnkgdGhlCiAqIGNvbnN0cnVjdG9yIGFubm90YXRpb24uCiAqCiAqIEBwYXJhbSB7RnVuY3Rpb259IFR5cGUgQW5ub3RhdGVkIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLgogKiBAcGFyYW0ge09iamVjdD19IGxvY2FscyBPcHRpb25hbCBvYmplY3QuIElmIHByZXNldCB0aGVuIGFueSBhcmd1bWVudCBuYW1lcyBhcmUgcmVhZCBmcm9tIHRoaXMKICogb2JqZWN0IGZpcnN0LCBiZWZvcmUgdGhlIGAkaW5qZWN0b3JgIGlzIGNvbnN1bHRlZC4KICogQHJldHVybnMge09iamVjdH0gbmV3IGluc3RhbmNlIG9mIGBUeXBlYC4KICovCgovKioKICogQG5nZG9jIG1ldGhvZAogKiBAbmFtZSAkaW5qZWN0b3IjYW5ub3RhdGUKICoKICogQGRlc2NyaXB0aW9uCiAqIFJldHVybnMgYW4gYXJyYXkgb2Ygc2VydmljZSBuYW1lcyB3aGljaCB0aGUgZnVuY3Rpb24gaXMgcmVxdWVzdGluZyBmb3IgaW5qZWN0aW9uLiBUaGlzIEFQSSBpcwogKiB1c2VkIGJ5IHRoZSBpbmplY3RvciB0byBkZXRlcm1pbmUgd2hpY2ggc2VydmljZXMgbmVlZCB0byBiZSBpbmplY3RlZCBpbnRvIHRoZSBmdW5jdGlvbiB3aGVuIHRoZQogKiBmdW5jdGlvbiBpcyBpbnZva2VkLiBUaGVyZSBhcmUgdGhyZWUgd2F5cyBpbiB3aGljaCB0aGUgZnVuY3Rpb24gY2FuIGJlIGFubm90YXRlZCB3aXRoIHRoZSBuZWVkZWQKICogZGVwZW5kZW5jaWVzLgogKgogKiAjIEFyZ3VtZW50IG5hbWVzCiAqCiAqIFRoZSBzaW1wbGVzdCBmb3JtIGlzIHRvIGV4dHJhY3QgdGhlIGRlcGVuZGVuY2llcyBmcm9tIHRoZSBhcmd1bWVudHMgb2YgdGhlIGZ1bmN0aW9uLiBUaGlzIGlzIGRvbmUKICogYnkgY29udmVydGluZyB0aGUgZnVuY3Rpb24gaW50byBhIHN0cmluZyB1c2luZyBgdG9TdHJpbmcoKWAgbWV0aG9kIGFuZCBleHRyYWN0aW5nIHRoZSBhcmd1bWVudAogKiBuYW1lcy4KICogYGBganMKICogICAvLyBHaXZlbgogKiAgIGZ1bmN0aW9uIE15Q29udHJvbGxlcigkc2NvcGUsICRyb3V0ZSkgewogKiAgICAgLy8gLi4uCiAqICAgfQogKgogKiAgIC8vIFRoZW4KICogICBleHBlY3QoaW5qZWN0b3IuYW5ub3RhdGUoTXlDb250cm9sbGVyKSkudG9FcXVhbChbJyRzY29wZScsICckcm91dGUnXSk7CiAqIGBgYAogKgogKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB3b3JrIHdpdGggY29kZSBtaW5pZmljYXRpb24gLyBvYmZ1c2NhdGlvbi4gRm9yIHRoaXMgcmVhc29uIHRoZSBmb2xsb3dpbmcKICogYW5ub3RhdGlvbiBzdHJhdGVnaWVzIGFyZSBzdXBwb3J0ZWQuCiAqCiAqICMgVGhlIGAkaW5qZWN0YCBwcm9wZXJ0eQogKgogKiBJZiBhIGZ1bmN0aW9uIGhhcyBhbiBgJGluamVjdGAgcHJvcGVydHkgYW5kIGl0cyB2YWx1ZSBpcyBhbiBhcnJheSBvZiBzdHJpbmdzLCB0aGVuIHRoZSBzdHJpbmdzCiAqIHJlcHJlc2VudCBuYW1lcyBvZiBzZXJ2aWNlcyB0byBiZSBpbmplY3RlZCBpbnRvIHRoZSBmdW5jdGlvbi4KICogYGBganMKICogICAvLyBHaXZlbgogKiAgIHZhciBNeUNvbnRyb2xsZXIgPSBmdW5jdGlvbihvYmZ1c2NhdGVkU2NvcGUsIG9iZnVzY2F0ZWRSb3V0ZSkgewogKiAgICAgLy8gLi4uCiAqICAgfQogKiAgIC8vIERlZmluZSBmdW5jdGlvbiBkZXBlbmRlbmNpZXMKICogICBNeUNvbnRyb2xsZXJbJyRpbmplY3QnXSA9IFsnJHNjb3BlJywgJyRyb3V0ZSddOwogKgogKiAgIC8vIFRoZW4KICogICBleHBlY3QoaW5qZWN0b3IuYW5ub3RhdGUoTXlDb250cm9sbGVyKSkudG9FcXVhbChbJyRzY29wZScsICckcm91dGUnXSk7CiAqIGBgYAogKgogKiAjIFRoZSBhcnJheSBub3RhdGlvbgogKgogKiBJdCBpcyBvZnRlbiBkZXNpcmFibGUgdG8gaW5saW5lIEluamVjdGVkIGZ1bmN0aW9ucyBhbmQgdGhhdCdzIHdoZW4gc2V0dGluZyB0aGUgYCRpbmplY3RgIHByb3BlcnR5CiAqIGlzIHZlcnkgaW5jb252ZW5pZW50LiBJbiB0aGVzZSBzaXR1YXRpb25zIHVzaW5nIHRoZSBhcnJheSBub3RhdGlvbiB0byBzcGVjaWZ5IHRoZSBkZXBlbmRlbmNpZXMgaW4KICogYSB3YXkgdGhhdCBzdXJ2aXZlcyBtaW5pZmljYXRpb24gaXMgYSBiZXR0ZXIgY2hvaWNlOgogKgogKiBgYGBqcwogKiAgIC8vIFdlIHdpc2ggdG8gd3JpdGUgdGhpcyAobm90IG1pbmlmaWNhdGlvbiAvIG9iZnVzY2F0aW9uIHNhZmUpCiAqICAgaW5qZWN0b3IuaW52b2tlKGZ1bmN0aW9uKCRjb21waWxlLCAkcm9vdFNjb3BlKSB7CiAqICAgICAvLyAuLi4KICogICB9KTsKICoKICogICAvLyBXZSBhcmUgZm9yY2VkIHRvIHdyaXRlIGJyZWFrIGlubGluaW5nCiAqICAgdmFyIHRtcEZuID0gZnVuY3Rpb24ob2JmdXNjYXRlZENvbXBpbGUsIG9iZnVzY2F0ZWRSb290U2NvcGUpIHsKICogICAgIC8vIC4uLgogKiAgIH07CiAqICAgdG1wRm4uJGluamVjdCA9IFsnJGNvbXBpbGUnLCAnJHJvb3RTY29wZSddOwogKiAgIGluamVjdG9yLmludm9rZSh0bXBGbik7CiAqCiAqICAgLy8gVG8gYmV0dGVyIHN1cHBvcnQgaW5saW5lIGZ1bmN0aW9uIHRoZSBpbmxpbmUgYW5ub3RhdGlvbiBpcyBzdXBwb3J0ZWQKICogICBpbmplY3Rvci5pbnZva2UoWyckY29tcGlsZScsICckcm9vdFNjb3BlJywgZnVuY3Rpb24ob2JmQ29tcGlsZSwgb2JmUm9vdFNjb3BlKSB7CiAqICAgICAvLyAuLi4KICogICB9XSk7CiAqCiAqICAgLy8gVGhlcmVmb3JlCiAqICAgZXhwZWN0KGluamVjdG9yLmFubm90YXRlKAogKiAgICAgIFsnJGNvbXBpbGUnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uKG9iZnVzXyRjb21waWxlLCBvYmZ1c18kcm9vdFNjb3BlKSB7fV0pCiAqICAgICkudG9FcXVhbChbJyRjb21waWxlJywgJyRyb290U2NvcGUnXSk7CiAqIGBgYAogKgogKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5LjxzdHJpbmd8RnVuY3Rpb24+fSBmbiBGdW5jdGlvbiBmb3Igd2hpY2ggZGVwZW5kZW50IHNlcnZpY2UgbmFtZXMgbmVlZCB0bwogKiBiZSByZXRyaWV2ZWQgYXMgZGVzY3JpYmVkIGFib3ZlLgogKgogKiBAcmV0dXJucyB7QXJyYXkuPHN0cmluZz59IFRoZSBuYW1lcyBvZiB0aGUgc2VydmljZXMgd2hpY2ggdGhlIGZ1bmN0aW9uIHJlcXVpcmVzLgogKi8KCgoKCi8qKgogKiBAbmdkb2Mgc2VydmljZQogKiBAbmFtZSAkcHJvdmlkZQogKgogKiBAZGVzY3JpcHRpb24KICoKICogVGhlIHtAbGluayBhdXRvLiRwcm92aWRlICRwcm92aWRlfSBzZXJ2aWNlIGhhcyBhIG51bWJlciBvZiBtZXRob2RzIGZvciByZWdpc3RlcmluZyBjb21wb25lbnRzCiAqIHdpdGggdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LiBNYW55IG9mIHRoZXNlIGZ1bmN0aW9ucyBhcmUgYWxzbyBleHBvc2VkIG9uCiAqIHtAbGluayBhbmd1bGFyLk1vZHVsZX0uCiAqCiAqIEFuIEFuZ3VsYXIgKipzZXJ2aWNlKiogaXMgYSBzaW5nbGV0b24gb2JqZWN0IGNyZWF0ZWQgYnkgYSAqKnNlcnZpY2UgZmFjdG9yeSoqLiAgVGhlc2UgKipzZXJ2aWNlCiAqIGZhY3RvcmllcyoqIGFyZSBmdW5jdGlvbnMgd2hpY2gsIGluIHR1cm4sIGFyZSBjcmVhdGVkIGJ5IGEgKipzZXJ2aWNlIHByb3ZpZGVyKiouCiAqIFRoZSAqKnNlcnZpY2UgcHJvdmlkZXJzKiogYXJlIGNvbnN0cnVjdG9yIGZ1bmN0aW9ucy4gV2hlbiBpbnN0YW50aWF0ZWQgdGhleSBtdXN0IGNvbnRhaW4gYQogKiBwcm9wZXJ0eSBjYWxsZWQgYCRnZXRgLCB3aGljaCBob2xkcyB0aGUgKipzZXJ2aWNlIGZhY3RvcnkqKiBmdW5jdGlvbi4KICoKICogV2hlbiB5b3UgcmVxdWVzdCBhIHNlcnZpY2UsIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfSBpcyByZXNwb25zaWJsZSBmb3IgZmluZGluZyB0aGUKICogY29ycmVjdCAqKnNlcnZpY2UgcHJvdmlkZXIqKiwgaW5zdGFudGlhdGluZyBpdCBhbmQgdGhlbiBjYWxsaW5nIGl0cyBgJGdldGAgKipzZXJ2aWNlIGZhY3RvcnkqKgogKiBmdW5jdGlvbiB0byBnZXQgdGhlIGluc3RhbmNlIG9mIHRoZSAqKnNlcnZpY2UqKi4KICoKICogT2Z0ZW4gc2VydmljZXMgaGF2ZSBubyBjb25maWd1cmF0aW9uIG9wdGlvbnMgYW5kIHRoZXJlIGlzIG5vIG5lZWQgdG8gYWRkIG1ldGhvZHMgdG8gdGhlIHNlcnZpY2UKICogcHJvdmlkZXIuICBUaGUgcHJvdmlkZXIgd2lsbCBiZSBubyBtb3JlIHRoYW4gYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiB3aXRoIGEgYCRnZXRgIHByb3BlcnR5LiBGb3IKICogdGhlc2UgY2FzZXMgdGhlIHtAbGluayBhdXRvLiRwcm92aWRlICRwcm92aWRlfSBzZXJ2aWNlIGhhcyBhZGRpdGlvbmFsIGhlbHBlciBtZXRob2RzIHRvIHJlZ2lzdGVyCiAqIHNlcnZpY2VzIHdpdGhvdXQgc3BlY2lmeWluZyBhIHByb3ZpZGVyLgogKgogKiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3Byb3ZpZGVyIHByb3ZpZGVyKHByb3ZpZGVyKX0gLSByZWdpc3RlcnMgYSAqKnNlcnZpY2UgcHJvdmlkZXIqKiB3aXRoIHRoZQogKiAgICAge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0KICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNjb25zdGFudCBjb25zdGFudChvYmopfSAtIHJlZ2lzdGVycyBhIHZhbHVlL29iamVjdCB0aGF0IGNhbiBiZSBhY2Nlc3NlZCBieQogKiAgICAgcHJvdmlkZXJzIGFuZCBzZXJ2aWNlcy4KICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSN2YWx1ZSB2YWx1ZShvYmopfSAtIHJlZ2lzdGVycyBhIHZhbHVlL29iamVjdCB0aGF0IGNhbiBvbmx5IGJlIGFjY2Vzc2VkIGJ5CiAqICAgICBzZXJ2aWNlcywgbm90IHByb3ZpZGVycy4KICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNmYWN0b3J5IGZhY3RvcnkoZm4pfSAtIHJlZ2lzdGVycyBhIHNlcnZpY2UgKipmYWN0b3J5IGZ1bmN0aW9uKiosIGBmbmAsCiAqICAgICB0aGF0IHdpbGwgYmUgd3JhcHBlZCBpbiBhICoqc2VydmljZSBwcm92aWRlcioqIG9iamVjdCwgd2hvc2UgYCRnZXRgIHByb3BlcnR5IHdpbGwgY29udGFpbiB0aGUKICogICAgIGdpdmVuIGZhY3RvcnkgZnVuY3Rpb24uCiAqICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSBzZXJ2aWNlKGNsYXNzKX0gLSByZWdpc3RlcnMgYSAqKmNvbnN0cnVjdG9yIGZ1bmN0aW9uKiosIGBjbGFzc2AKICogICAgIHRoYXQgd2lsbCBiZSB3cmFwcGVkIGluIGEgKipzZXJ2aWNlIHByb3ZpZGVyKiogb2JqZWN0LCB3aG9zZSBgJGdldGAgcHJvcGVydHkgd2lsbCBpbnN0YW50aWF0ZQogKiAgICAgIGEgbmV3IG9iamVjdCB1c2luZyB0aGUgZ2l2ZW4gY29uc3RydWN0b3IgZnVuY3Rpb24uCiAqCiAqIFNlZSB0aGUgaW5kaXZpZHVhbCBtZXRob2RzIGZvciBtb3JlIGluZm9ybWF0aW9uIGFuZCBleGFtcGxlcy4KICovCgovKioKICogQG5nZG9jIG1ldGhvZAogKiBAbmFtZSAkcHJvdmlkZSNwcm92aWRlcgogKiBAZGVzY3JpcHRpb24KICoKICogUmVnaXN0ZXIgYSAqKnByb3ZpZGVyIGZ1bmN0aW9uKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIFByb3ZpZGVyIGZ1bmN0aW9ucwogKiBhcmUgY29uc3RydWN0b3IgZnVuY3Rpb25zLCB3aG9zZSBpbnN0YW5jZXMgYXJlIHJlc3BvbnNpYmxlIGZvciAicHJvdmlkaW5nIiBhIGZhY3RvcnkgZm9yIGEKICogc2VydmljZS4KICoKICogU2VydmljZSBwcm92aWRlciBuYW1lcyBzdGFydCB3aXRoIHRoZSBuYW1lIG9mIHRoZSBzZXJ2aWNlIHRoZXkgcHJvdmlkZSBmb2xsb3dlZCBieSBgUHJvdmlkZXJgLgogKiBGb3IgZXhhbXBsZSwgdGhlIHtAbGluayBuZy4kbG9nICRsb2d9IHNlcnZpY2UgaGFzIGEgcHJvdmlkZXIgY2FsbGVkCiAqIHtAbGluayBuZy4kbG9nUHJvdmlkZXIgJGxvZ1Byb3ZpZGVyfS4KICoKICogU2VydmljZSBwcm92aWRlciBvYmplY3RzIGNhbiBoYXZlIGFkZGl0aW9uYWwgbWV0aG9kcyB3aGljaCBhbGxvdyBjb25maWd1cmF0aW9uIG9mIHRoZSBwcm92aWRlcgogKiBhbmQgaXRzIHNlcnZpY2UuIEltcG9ydGFudGx5LCB5b3UgY2FuIGNvbmZpZ3VyZSB3aGF0IGtpbmQgb2Ygc2VydmljZSBpcyBjcmVhdGVkIGJ5IHRoZSBgJGdldGAKICogbWV0aG9kLCBvciBob3cgdGhhdCBzZXJ2aWNlIHdpbGwgYWN0LiBGb3IgZXhhbXBsZSwgdGhlIHtAbGluayBuZy4kbG9nUHJvdmlkZXIgJGxvZ1Byb3ZpZGVyfSBoYXMgYQogKiBtZXRob2Qge0BsaW5rIG5nLiRsb2dQcm92aWRlciNkZWJ1Z0VuYWJsZWQgZGVidWdFbmFibGVkfQogKiB3aGljaCBsZXRzIHlvdSBzcGVjaWZ5IHdoZXRoZXIgdGhlIHtAbGluayBuZy4kbG9nICRsb2d9IHNlcnZpY2Ugd2lsbCBsb2cgZGVidWcgbWVzc2FnZXMgdG8gdGhlCiAqIGNvbnNvbGUgb3Igbm90LgogKgogKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgaW5zdGFuY2UuIE5PVEU6IHRoZSBwcm92aWRlciB3aWxsIGJlIGF2YWlsYWJsZSB1bmRlciBgbmFtZSArCiAgICAgICAgICAgICAgICAgICAgICAgICdQcm92aWRlcidgIGtleS4KICogQHBhcmFtIHsoT2JqZWN0fGZ1bmN0aW9uKCkpfSBwcm92aWRlciBJZiB0aGUgcHJvdmlkZXIgaXM6CiAqCiAqICAgLSBgT2JqZWN0YDogdGhlbiBpdCBzaG91bGQgaGF2ZSBhIGAkZ2V0YCBtZXRob2QuIFRoZSBgJGdldGAgbWV0aG9kIHdpbGwgYmUgaW52b2tlZCB1c2luZwogKiAgICAge0BsaW5rIGF1dG8uJGluamVjdG9yI2ludm9rZSAkaW5qZWN0b3IuaW52b2tlKCl9IHdoZW4gYW4gaW5zdGFuY2UgbmVlZHMgdG8gYmUgY3JlYXRlZC4KICogICAtIGBDb25zdHJ1Y3RvcmA6IGEgbmV3IGluc3RhbmNlIG9mIHRoZSBwcm92aWRlciB3aWxsIGJlIGNyZWF0ZWQgdXNpbmcKICogICAgIHtAbGluayBhdXRvLiRpbmplY3RvciNpbnN0YW50aWF0ZSAkaW5qZWN0b3IuaW5zdGFudGlhdGUoKX0sIHRoZW4gdHJlYXRlZCBhcyBgb2JqZWN0YC4KICoKICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBwcm92aWRlciBpbnN0YW5jZQoKICogQGV4YW1wbGUKICoKICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byBjcmVhdGUgYSBzaW1wbGUgZXZlbnQgdHJhY2tpbmcgc2VydmljZSBhbmQgcmVnaXN0ZXIgaXQgdXNpbmcKICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjcHJvdmlkZXIgJHByb3ZpZGUucHJvdmlkZXIoKX0uCiAqCiAqIGBgYGpzCiAqICAvLyBEZWZpbmUgdGhlIGV2ZW50VHJhY2tlciBwcm92aWRlcgogKiAgZnVuY3Rpb24gRXZlbnRUcmFja2VyUHJvdmlkZXIoKSB7CiAqICAgIHZhciB0cmFja2luZ1VybCA9ICcvdHJhY2snOwogKgogKiAgICAvLyBBIHByb3ZpZGVyIG1ldGhvZCBmb3IgY29uZmlndXJpbmcgd2hlcmUgdGhlIHRyYWNrZWQgZXZlbnRzIHNob3VsZCBiZWVuIHNhdmVkCiAqICAgIHRoaXMuc2V0VHJhY2tpbmdVcmwgPSBmdW5jdGlvbih1cmwpIHsKICogICAgICB0cmFja2luZ1VybCA9IHVybDsKICogICAgfTsKICoKICogICAgLy8gVGhlIHNlcnZpY2UgZmFjdG9yeSBmdW5jdGlvbgogKiAgICB0aGlzLiRnZXQgPSBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHsKICogICAgICB2YXIgdHJhY2tlZEV2ZW50cyA9IHt9OwogKiAgICAgIHJldHVybiB7CiAqICAgICAgICAvLyBDYWxsIHRoaXMgdG8gdHJhY2sgYW4gZXZlbnQKICogICAgICAgIGV2ZW50OiBmdW5jdGlvbihldmVudCkgewogKiAgICAgICAgICB2YXIgY291bnQgPSB0cmFja2VkRXZlbnRzW2V2ZW50XSB8fCAwOwogKiAgICAgICAgICBjb3VudCArPSAxOwogKiAgICAgICAgICB0cmFja2VkRXZlbnRzW2V2ZW50XSA9IGNvdW50OwogKiAgICAgICAgICByZXR1cm4gY291bnQ7CiAqICAgICAgICB9LAogKiAgICAgICAgLy8gQ2FsbCB0aGlzIHRvIHNhdmUgdGhlIHRyYWNrZWQgZXZlbnRzIHRvIHRoZSB0cmFja2luZ1VybAogKiAgICAgICAgc2F2ZTogZnVuY3Rpb24oKSB7CiAqICAgICAgICAgICRodHRwLnBvc3QodHJhY2tpbmdVcmwsIHRyYWNrZWRFdmVudHMpOwogKiAgICAgICAgfQogKiAgICAgIH07CiAqICAgIH1dOwogKiAgfQogKgogKiAgZGVzY3JpYmUoJ2V2ZW50VHJhY2tlcicsIGZ1bmN0aW9uKCkgewogKiAgICB2YXIgcG9zdFNweTsKICoKICogICAgYmVmb3JlRWFjaChtb2R1bGUoZnVuY3Rpb24oJHByb3ZpZGUpIHsKICogICAgICAvLyBSZWdpc3RlciB0aGUgZXZlbnRUcmFja2VyIHByb3ZpZGVyCiAqICAgICAgJHByb3ZpZGUucHJvdmlkZXIoJ2V2ZW50VHJhY2tlcicsIEV2ZW50VHJhY2tlclByb3ZpZGVyKTsKICogICAgfSkpOwogKgogKiAgICBiZWZvcmVFYWNoKG1vZHVsZShmdW5jdGlvbihldmVudFRyYWNrZXJQcm92aWRlcikgewogKiAgICAgIC8vIENvbmZpZ3VyZSBldmVudFRyYWNrZXIgcHJvdmlkZXIKICogICAgICBldmVudFRyYWNrZXJQcm92aWRlci5zZXRUcmFja2luZ1VybCgnL2N1c3RvbS10cmFjaycpOwogKiAgICB9KSk7CiAqCiAqICAgIGl0KCd0cmFja3MgZXZlbnRzJywgaW5qZWN0KGZ1bmN0aW9uKGV2ZW50VHJhY2tlcikgewogKiAgICAgIGV4cGVjdChldmVudFRyYWNrZXIuZXZlbnQoJ2xvZ2luJykpLnRvRXF1YWwoMSk7CiAqICAgICAgZXhwZWN0KGV2ZW50VHJhY2tlci5ldmVudCgnbG9naW4nKSkudG9FcXVhbCgyKTsKICogICAgfSkpOwogKgogKiAgICBpdCgnc2F2ZXMgdG8gdGhlIHRyYWNraW5nIHVybCcsIGluamVjdChmdW5jdGlvbihldmVudFRyYWNrZXIsICRodHRwKSB7CiAqICAgICAgcG9zdFNweSA9IHNweU9uKCRodHRwLCAncG9zdCcpOwogKiAgICAgIGV2ZW50VHJhY2tlci5ldmVudCgnbG9naW4nKTsKICogICAgICBldmVudFRyYWNrZXIuc2F2ZSgpOwogKiAgICAgIGV4cGVjdChwb3N0U3B5KS50b0hhdmVCZWVuQ2FsbGVkKCk7CiAqICAgICAgZXhwZWN0KHBvc3RTcHkubW9zdFJlY2VudENhbGwuYXJnc1swXSkubm90LnRvRXF1YWwoJy90cmFjaycpOwogKiAgICAgIGV4cGVjdChwb3N0U3B5Lm1vc3RSZWNlbnRDYWxsLmFyZ3NbMF0pLnRvRXF1YWwoJy9jdXN0b20tdHJhY2snKTsKICogICAgICBleHBlY3QocG9zdFNweS5tb3N0UmVjZW50Q2FsbC5hcmdzWzFdKS50b0VxdWFsKHsgJ2xvZ2luJzogMSB9KTsKICogICAgfSkpOwogKiAgfSk7CiAqIGBgYAogKi8KCi8qKgogKiBAbmdkb2MgbWV0aG9kCiAqIEBuYW1lICRwcm92aWRlI2ZhY3RvcnkKICogQGRlc2NyaXB0aW9uCiAqCiAqIFJlZ2lzdGVyIGEgKipzZXJ2aWNlIGZhY3RvcnkqKiwgd2hpY2ggd2lsbCBiZSBjYWxsZWQgdG8gcmV0dXJuIHRoZSBzZXJ2aWNlIGluc3RhbmNlLgogKiBUaGlzIGlzIHNob3J0IGZvciByZWdpc3RlcmluZyBhIHNlcnZpY2Ugd2hlcmUgaXRzIHByb3ZpZGVyIGNvbnNpc3RzIG9mIG9ubHkgYSBgJGdldGAgcHJvcGVydHksCiAqIHdoaWNoIGlzIHRoZSBnaXZlbiBzZXJ2aWNlIGZhY3RvcnkgZnVuY3Rpb24uCiAqIFlvdSBzaG91bGQgdXNlIHtAbGluayBhdXRvLiRwcm92aWRlI2ZhY3RvcnkgJHByb3ZpZGUuZmFjdG9yeShnZXRGbil9IGlmIHlvdSBkbyBub3QgbmVlZCB0bwogKiBjb25maWd1cmUgeW91ciBzZXJ2aWNlIGluIGEgcHJvdmlkZXIuCiAqCiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZS4KICogQHBhcmFtIHtmdW5jdGlvbigpfSAkZ2V0Rm4gVGhlICRnZXRGbiBmb3IgdGhlIGluc3RhbmNlIGNyZWF0aW9uLiBJbnRlcm5hbGx5IHRoaXMgaXMgYSBzaG9ydCBoYW5kCiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBgJHByb3ZpZGUucHJvdmlkZXIobmFtZSwgeyRnZXQ6ICRnZXRGbn0pYC4KICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBwcm92aWRlciBpbnN0YW5jZQogKgogKiBAZXhhbXBsZQogKiBIZXJlIGlzIGFuIGV4YW1wbGUgb2YgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlCiAqIGBgYGpzCiAqICAgJHByb3ZpZGUuZmFjdG9yeSgncGluZycsIFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkgewogKiAgICAgcmV0dXJuIGZ1bmN0aW9uIHBpbmcoKSB7CiAqICAgICAgIHJldHVybiAkaHR0cC5zZW5kKCcvcGluZycpOwogKiAgICAgfTsKICogICB9XSk7CiAqIGBgYAogKiBZb3Ugd291bGQgdGhlbiBpbmplY3QgYW5kIHVzZSB0aGlzIHNlcnZpY2UgbGlrZSB0aGlzOgogKiBgYGBqcwogKiAgIHNvbWVNb2R1bGUuY29udHJvbGxlcignQ3RybCcsIFsncGluZycsIGZ1bmN0aW9uKHBpbmcpIHsKICogICAgIHBpbmcoKTsKICogICB9XSk7CiAqIGBgYAogKi8KCgovKioKICogQG5nZG9jIG1ldGhvZAogKiBAbmFtZSAkcHJvdmlkZSNzZXJ2aWNlCiAqIEBkZXNjcmlwdGlvbgogKgogKiBSZWdpc3RlciBhICoqc2VydmljZSBjb25zdHJ1Y3RvcioqLCB3aGljaCB3aWxsIGJlIGludm9rZWQgd2l0aCBgbmV3YCB0byBjcmVhdGUgdGhlIHNlcnZpY2UKICogaW5zdGFuY2UuCiAqIFRoaXMgaXMgc2hvcnQgZm9yIHJlZ2lzdGVyaW5nIGEgc2VydmljZSB3aGVyZSBpdHMgcHJvdmlkZXIncyBgJGdldGAgcHJvcGVydHkgaXMgdGhlIHNlcnZpY2UKICogY29uc3RydWN0b3IgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIHVzZWQgdG8gaW5zdGFudGlhdGUgdGhlIHNlcnZpY2UgaW5zdGFuY2UuCiAqCiAqIFlvdSBzaG91bGQgdXNlIHtAbGluayBhdXRvLiRwcm92aWRlI3NlcnZpY2UgJHByb3ZpZGUuc2VydmljZShjbGFzcyl9IGlmIHlvdSBkZWZpbmUgeW91ciBzZXJ2aWNlCiAqIGFzIGEgdHlwZS9jbGFzcy4KICoKICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGluc3RhbmNlLgogKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciBBIGNsYXNzIChjb25zdHJ1Y3RvciBmdW5jdGlvbikgdGhhdCB3aWxsIGJlIGluc3RhbnRpYXRlZC4KICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBwcm92aWRlciBpbnN0YW5jZQogKgogKiBAZXhhbXBsZQogKiBIZXJlIGlzIGFuIGV4YW1wbGUgb2YgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlIHVzaW5nCiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3NlcnZpY2UgJHByb3ZpZGUuc2VydmljZShjbGFzcyl9LgogKiBgYGBqcwogKiAgIHZhciBQaW5nID0gZnVuY3Rpb24oJGh0dHApIHsKICogICAgIHRoaXMuJGh0dHAgPSAkaHR0cDsKICogICB9OwogKgogKiAgIFBpbmcuJGluamVjdCA9IFsnJGh0dHAnXTsKICoKICogICBQaW5nLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24oKSB7CiAqICAgICByZXR1cm4gdGhpcy4kaHR0cC5nZXQoJy9waW5nJyk7CiAqICAgfTsKICogICAkcHJvdmlkZS5zZXJ2aWNlKCdwaW5nJywgUGluZyk7CiAqIGBgYAogKiBZb3Ugd291bGQgdGhlbiBpbmplY3QgYW5kIHVzZSB0aGlzIHNlcnZpY2UgbGlrZSB0aGlzOgogKiBgYGBqcwogKiAgIHNvbWVNb2R1bGUuY29udHJvbGxlcignQ3RybCcsIFsncGluZycsIGZ1bmN0aW9uKHBpbmcpIHsKICogICAgIHBpbmcuc2VuZCgpOwogKiAgIH1dKTsKICogYGBgCiAqLwoKCi8qKgogKiBAbmdkb2MgbWV0aG9kCiAqIEBuYW1lICRwcm92aWRlI3ZhbHVlCiAqIEBkZXNjcmlwdGlvbgogKgogKiBSZWdpc3RlciBhICoqdmFsdWUgc2VydmljZSoqIHdpdGggdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LCBzdWNoIGFzIGEgc3RyaW5nLCBhCiAqIG51bWJlciwgYW4gYXJyYXksIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLiAgVGhpcyBpcyBzaG9ydCBmb3IgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlIHdoZXJlIGl0cwogKiBwcm92aWRlcidzIGAkZ2V0YCBwcm9wZXJ0eSBpcyBhIGZhY3RvcnkgZnVuY3Rpb24gdGhhdCB0YWtlcyBubyBhcmd1bWVudHMgYW5kIHJldHVybnMgdGhlICoqdmFsdWUKICogc2VydmljZSoqLgogKgogKiBWYWx1ZSBzZXJ2aWNlcyBhcmUgc2ltaWxhciB0byBjb25zdGFudCBzZXJ2aWNlcywgZXhjZXB0IHRoYXQgdGhleSBjYW5ub3QgYmUgaW5qZWN0ZWQgaW50byBhCiAqIG1vZHVsZSBjb25maWd1cmF0aW9uIGZ1bmN0aW9uIChzZWUge0BsaW5rIGFuZ3VsYXIuTW9kdWxlI2NvbmZpZ30pIGJ1dCB0aGV5IGNhbiBiZSBvdmVycmlkZGVuIGJ5CiAqIGFuIEFuZ3VsYXIKICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjZGVjb3JhdG9yIGRlY29yYXRvcn0uCiAqCiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZS4KICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUuCiAqIEByZXR1cm5zIHtPYmplY3R9IHJlZ2lzdGVyZWQgcHJvdmlkZXIgaW5zdGFuY2UKICoKICogQGV4YW1wbGUKICogSGVyZSBhcmUgc29tZSBleGFtcGxlcyBvZiBjcmVhdGluZyB2YWx1ZSBzZXJ2aWNlcy4KICogYGBganMKICogICAkcHJvdmlkZS52YWx1ZSgnQURNSU5fVVNFUicsICdhZG1pbicpOwogKgogKiAgICRwcm92aWRlLnZhbHVlKCdSb2xlTG9va3VwJywgeyBhZG1pbjogMCwgd3JpdGVyOiAxLCByZWFkZXI6IDIgfSk7CiAqCiAqICAgJHByb3ZpZGUudmFsdWUoJ2hhbGZPZicsIGZ1bmN0aW9uKHZhbHVlKSB7CiAqICAgICByZXR1cm4gdmFsdWUgLyAyOwogKiAgIH0pOwogKiBgYGAKICovCgoKLyoqCiAqIEBuZ2RvYyBtZXRob2QKICogQG5hbWUgJHByb3ZpZGUjY29uc3RhbnQKICogQGRlc2NyaXB0aW9uCiAqCiAqIFJlZ2lzdGVyIGEgKipjb25zdGFudCBzZXJ2aWNlKiosIHN1Y2ggYXMgYSBzdHJpbmcsIGEgbnVtYmVyLCBhbiBhcnJheSwgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24sCiAqIHdpdGggdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LiBVbmxpa2Uge0BsaW5rIGF1dG8uJHByb3ZpZGUjdmFsdWUgdmFsdWV9IGl0IGNhbiBiZQogKiBpbmplY3RlZCBpbnRvIGEgbW9kdWxlIGNvbmZpZ3VyYXRpb24gZnVuY3Rpb24gKHNlZSB7QGxpbmsgYW5ndWxhci5Nb2R1bGUjY29uZmlnfSkgYW5kIGl0IGNhbm5vdAogKiBiZSBvdmVycmlkZGVuIGJ5IGFuIEFuZ3VsYXIge0BsaW5rIGF1dG8uJHByb3ZpZGUjZGVjb3JhdG9yIGRlY29yYXRvcn0uCiAqCiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBjb25zdGFudC4KICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgY29uc3RhbnQgdmFsdWUuCiAqIEByZXR1cm5zIHtPYmplY3R9IHJlZ2lzdGVyZWQgaW5zdGFuY2UKICoKICogQGV4YW1wbGUKICogSGVyZSBhIHNvbWUgZXhhbXBsZXMgb2YgY3JlYXRpbmcgY29uc3RhbnRzOgogKiBgYGBqcwogKiAgICRwcm92aWRlLmNvbnN0YW50KCdTSEFSRF9IRUlHSFQnLCAzMDYpOwogKgogKiAgICRwcm92aWRlLmNvbnN0YW50KCdNWV9DT0xPVVJTJywgWydyZWQnLCAnYmx1ZScsICdncmV5J10pOwogKgogKiAgICRwcm92aWRlLmNvbnN0YW50KCdkb3VibGUnLCBmdW5jdGlvbih2YWx1ZSkgewogKiAgICAgcmV0dXJuIHZhbHVlICogMjsKICogICB9KTsKICogYGBgCiAqLwoKCi8qKgogKiBAbmdkb2MgbWV0aG9kCiAqIEBuYW1lICRwcm92aWRlI2RlY29yYXRvcgogKiBAZGVzY3JpcHRpb24KICoKICogUmVnaXN0ZXIgYSAqKnNlcnZpY2UgZGVjb3JhdG9yKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIEEgc2VydmljZSBkZWNvcmF0b3IKICogaW50ZXJjZXB0cyB0aGUgY3JlYXRpb24gb2YgYSBzZXJ2aWNlLCBhbGxvd2luZyBpdCB0byBvdmVycmlkZSBvciBtb2RpZnkgdGhlIGJlaGF2aW91ciBvZiB0aGUKICogc2VydmljZS4gVGhlIG9iamVjdCByZXR1cm5lZCBieSB0aGUgZGVjb3JhdG9yIG1heSBiZSB0aGUgb3JpZ2luYWwgc2VydmljZSwgb3IgYSBuZXcgc2VydmljZQogKiBvYmplY3Qgd2hpY2ggcmVwbGFjZXMgb3Igd3JhcHMgYW5kIGRlbGVnYXRlcyB0byB0aGUgb3JpZ2luYWwgc2VydmljZS4KICoKICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIHNlcnZpY2UgdG8gZGVjb3JhdGUuCiAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gZGVjb3JhdG9yIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBpbnZva2VkIHdoZW4gdGhlIHNlcnZpY2UgbmVlZHMgdG8gYmUKICogICAgaW5zdGFudGlhdGVkIGFuZCBzaG91bGQgcmV0dXJuIHRoZSBkZWNvcmF0ZWQgc2VydmljZSBpbnN0YW5jZS4gVGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCB1c2luZwogKiAgICB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yI2ludm9rZSBpbmplY3Rvci5pbnZva2V9IG1ldGhvZCBhbmQgaXMgdGhlcmVmb3JlIGZ1bGx5IGluamVjdGFibGUuCiAqICAgIExvY2FsIGluamVjdGlvbiBhcmd1bWVudHM6CiAqCiAqICAgICogYCRkZWxlZ2F0ZWAgLSBUaGUgb3JpZ2luYWwgc2VydmljZSBpbnN0YW5jZSwgd2hpY2ggY2FuIGJlIG1vbmtleSBwYXRjaGVkLCBjb25maWd1cmVkLAogKiAgICAgIGRlY29yYXRlZCBvciBkZWxlZ2F0ZWQgdG8uCiAqCiAqIEBleGFtcGxlCiAqIEhlcmUgd2UgZGVjb3JhdGUgdGhlIHtAbGluayBuZy4kbG9nICRsb2d9IHNlcnZpY2UgdG8gY29udmVydCB3YXJuaW5ncyB0byBlcnJvcnMgYnkgaW50ZXJjZXB0aW5nCiAqIGNhbGxzIHRvIHtAbGluayBuZy4kbG9nI2Vycm9yICRsb2cud2FybigpfS4KICogYGBganMKICogICAkcHJvdmlkZS5kZWNvcmF0b3IoJyRsb2cnLCBbJyRkZWxlZ2F0ZScsIGZ1bmN0aW9uKCRkZWxlZ2F0ZSkgewogKiAgICAgJGRlbGVnYXRlLndhcm4gPSAkZGVsZWdhdGUuZXJyb3I7CiAqICAgICByZXR1cm4gJGRlbGVnYXRlOwogKiAgIH1dKTsKICogYGBgCiAqLwoKCmZ1bmN0aW9uIGNyZWF0ZUluamVjdG9yKG1vZHVsZXNUb0xvYWQpIHsKICB2YXIgSU5TVEFOVElBVElORyA9IHt9LAogICAgICBwcm92aWRlclN1ZmZpeCA9ICdQcm92aWRlcicsCiAgICAgIHBhdGggPSBbXSwKICAgICAgbG9hZGVkTW9kdWxlcyA9IG5ldyBIYXNoTWFwKFtdLCB0cnVlKSwKICAgICAgcHJvdmlkZXJDYWNoZSA9IHsKICAgICAgICAkcHJvdmlkZTogewogICAgICAgICAgICBwcm92aWRlcjogc3VwcG9ydE9iamVjdChwcm92aWRlciksCiAgICAgICAgICAgIGZhY3Rvcnk6IHN1cHBvcnRPYmplY3QoZmFjdG9yeSksCiAgICAgICAgICAgIHNlcnZpY2U6IHN1cHBvcnRPYmplY3Qoc2VydmljZSksCiAgICAgICAgICAgIHZhbHVlOiBzdXBwb3J0T2JqZWN0KHZhbHVlKSwKICAgICAgICAgICAgY29uc3RhbnQ6IHN1cHBvcnRPYmplY3QoY29uc3RhbnQpLAogICAgICAgICAgICBkZWNvcmF0b3I6IGRlY29yYXRvcgogICAgICAgICAgfQogICAgICB9LAogICAgICBwcm92aWRlckluamVjdG9yID0gKHByb3ZpZGVyQ2FjaGUuJGluamVjdG9yID0KICAgICAgICAgIGNyZWF0ZUludGVybmFsSW5qZWN0b3IocHJvdmlkZXJDYWNoZSwgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycigndW5wcicsICJVbmtub3duIHByb3ZpZGVyOiB7MH0iLCBwYXRoLmpvaW4oJyA8LSAnKSk7CiAgICAgICAgICB9KSksCiAgICAgIGluc3RhbmNlQ2FjaGUgPSB7fSwKICAgICAgaW5zdGFuY2VJbmplY3RvciA9IChpbnN0YW5jZUNhY2hlLiRpbmplY3RvciA9CiAgICAgICAgICBjcmVhdGVJbnRlcm5hbEluamVjdG9yKGluc3RhbmNlQ2FjaGUsIGZ1bmN0aW9uKHNlcnZpY2VuYW1lKSB7CiAgICAgICAgICAgIHZhciBwcm92aWRlciA9IHByb3ZpZGVySW5qZWN0b3IuZ2V0KHNlcnZpY2VuYW1lICsgcHJvdmlkZXJTdWZmaXgpOwogICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VJbmplY3Rvci5pbnZva2UocHJvdmlkZXIuJGdldCwgcHJvdmlkZXIpOwogICAgICAgICAgfSkpOwoKCiAgZm9yRWFjaChsb2FkTW9kdWxlcyhtb2R1bGVzVG9Mb2FkKSwgZnVuY3Rpb24oZm4pIHsgaW5zdGFuY2VJbmplY3Rvci5pbnZva2UoZm4gfHwgbm9vcCk7IH0pOwoKICByZXR1cm4gaW5zdGFuY2VJbmplY3RvcjsKCiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgLy8gJHByb3ZpZGVyCiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogIGZ1bmN0aW9uIHN1cHBvcnRPYmplY3QoZGVsZWdhdGUpIHsKICAgIHJldHVybiBmdW5jdGlvbihrZXksIHZhbHVlKSB7CiAgICAgIGlmIChpc09iamVjdChrZXkpKSB7CiAgICAgICAgZm9yRWFjaChrZXksIHJldmVyc2VQYXJhbXMoZGVsZWdhdGUpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZGVsZWdhdGUoa2V5LCB2YWx1ZSk7CiAgICAgIH0KICAgIH07CiAgfQoKICBmdW5jdGlvbiBwcm92aWRlcihuYW1lLCBwcm92aWRlcl8pIHsKICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsICdzZXJ2aWNlJyk7CiAgICBpZiAoaXNGdW5jdGlvbihwcm92aWRlcl8pIHx8IGlzQXJyYXkocHJvdmlkZXJfKSkgewogICAgICBwcm92aWRlcl8gPSBwcm92aWRlckluamVjdG9yLmluc3RhbnRpYXRlKHByb3ZpZGVyXyk7CiAgICB9CiAgICBpZiAoIXByb3ZpZGVyXy4kZ2V0KSB7CiAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycigncGdldCcsICJQcm92aWRlciAnezB9JyBtdXN0IGRlZmluZSAkZ2V0IGZhY3RvcnkgbWV0aG9kLiIsIG5hbWUpOwogICAgfQogICAgcmV0dXJuIHByb3ZpZGVyQ2FjaGVbbmFtZSArIHByb3ZpZGVyU3VmZml4XSA9IHByb3ZpZGVyXzsKICB9CgogIGZ1bmN0aW9uIGZhY3RvcnkobmFtZSwgZmFjdG9yeUZuKSB7IHJldHVybiBwcm92aWRlcihuYW1lLCB7ICRnZXQ6IGZhY3RvcnlGbiB9KTsgfQoKICBmdW5jdGlvbiBzZXJ2aWNlKG5hbWUsIGNvbnN0cnVjdG9yKSB7CiAgICByZXR1cm4gZmFjdG9yeShuYW1lLCBbJyRpbmplY3RvcicsIGZ1bmN0aW9uKCRpbmplY3RvcikgewogICAgICByZXR1cm4gJGluamVjdG9yLmluc3RhbnRpYXRlKGNvbnN0cnVjdG9yKTsKICAgIH1dKTsKICB9CgogIGZ1bmN0aW9uIHZhbHVlKG5hbWUsIHZhbCkgeyByZXR1cm4gZmFjdG9yeShuYW1lLCB2YWx1ZUZuKHZhbCkpOyB9CgogIGZ1bmN0aW9uIGNvbnN0YW50KG5hbWUsIHZhbHVlKSB7CiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCAnY29uc3RhbnQnKTsKICAgIHByb3ZpZGVyQ2FjaGVbbmFtZV0gPSB2YWx1ZTsKICAgIGluc3RhbmNlQ2FjaGVbbmFtZV0gPSB2YWx1ZTsKICB9CgogIGZ1bmN0aW9uIGRlY29yYXRvcihzZXJ2aWNlTmFtZSwgZGVjb3JGbikgewogICAgdmFyIG9yaWdQcm92aWRlciA9IHByb3ZpZGVySW5qZWN0b3IuZ2V0KHNlcnZpY2VOYW1lICsgcHJvdmlkZXJTdWZmaXgpLAogICAgICAgIG9yaWckZ2V0ID0gb3JpZ1Byb3ZpZGVyLiRnZXQ7CgogICAgb3JpZ1Byb3ZpZGVyLiRnZXQgPSBmdW5jdGlvbigpIHsKICAgICAgdmFyIG9yaWdJbnN0YW5jZSA9IGluc3RhbmNlSW5qZWN0b3IuaW52b2tlKG9yaWckZ2V0LCBvcmlnUHJvdmlkZXIpOwogICAgICByZXR1cm4gaW5zdGFuY2VJbmplY3Rvci5pbnZva2UoZGVjb3JGbiwgbnVsbCwgeyRkZWxlZ2F0ZTogb3JpZ0luc3RhbmNlfSk7CiAgICB9OwogIH0KCiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgLy8gTW9kdWxlIExvYWRpbmcKICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICBmdW5jdGlvbiBsb2FkTW9kdWxlcyhtb2R1bGVzVG9Mb2FkKXsKICAgIHZhciBydW5CbG9ja3MgPSBbXSwgbW9kdWxlRm4sIGludm9rZVF1ZXVlLCBpLCBpaTsKICAgIGZvckVhY2gobW9kdWxlc1RvTG9hZCwgZnVuY3Rpb24obW9kdWxlKSB7CiAgICAgIGlmIChsb2FkZWRNb2R1bGVzLmdldChtb2R1bGUpKSByZXR1cm47CiAgICAgIGxvYWRlZE1vZHVsZXMucHV0KG1vZHVsZSwgdHJ1ZSk7CgogICAgICB0cnkgewogICAgICAgIGlmIChpc1N0cmluZyhtb2R1bGUpKSB7CiAgICAgICAgICBtb2R1bGVGbiA9IGFuZ3VsYXJNb2R1bGUobW9kdWxlKTsKICAgICAgICAgIHJ1bkJsb2NrcyA9IHJ1bkJsb2Nrcy5jb25jYXQobG9hZE1vZHVsZXMobW9kdWxlRm4ucmVxdWlyZXMpKS5jb25jYXQobW9kdWxlRm4uX3J1bkJsb2Nrcyk7CgogICAgICAgICAgZm9yKGludm9rZVF1ZXVlID0gbW9kdWxlRm4uX2ludm9rZVF1ZXVlLCBpID0gMCwgaWkgPSBpbnZva2VRdWV1ZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7CiAgICAgICAgICAgIHZhciBpbnZva2VBcmdzID0gaW52b2tlUXVldWVbaV0sCiAgICAgICAgICAgICAgICBwcm92aWRlciA9IHByb3ZpZGVySW5qZWN0b3IuZ2V0KGludm9rZUFyZ3NbMF0pOwoKICAgICAgICAgICAgcHJvdmlkZXJbaW52b2tlQXJnc1sxXV0uYXBwbHkocHJvdmlkZXIsIGludm9rZUFyZ3NbMl0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihtb2R1bGUpKSB7CiAgICAgICAgICAgIHJ1bkJsb2Nrcy5wdXNoKHByb3ZpZGVySW5qZWN0b3IuaW52b2tlKG1vZHVsZSkpOwogICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShtb2R1bGUpKSB7CiAgICAgICAgICAgIHJ1bkJsb2Nrcy5wdXNoKHByb3ZpZGVySW5qZWN0b3IuaW52b2tlKG1vZHVsZSkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhc3NlcnRBcmdGbihtb2R1bGUsICdtb2R1bGUnKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBpZiAoaXNBcnJheShtb2R1bGUpKSB7CiAgICAgICAgICBtb2R1bGUgPSBtb2R1bGVbbW9kdWxlLmxlbmd0aCAtIDFdOwogICAgICAgIH0KICAgICAgICBpZiAoZS5tZXNzYWdlICYmIGUuc3RhY2sgJiYgZS5zdGFjay5pbmRleE9mKGUubWVzc2FnZSkgPT0gLTEpIHsKICAgICAgICAgIC8vIFNhZmFyaSAmIEZGJ3Mgc3RhY2sgdHJhY2VzIGRvbid0IGNvbnRhaW4gZXJyb3IubWVzc2FnZSBjb250ZW50CiAgICAgICAgICAvLyB1bmxpa2UgdGhvc2Ugb2YgQ2hyb21lIGFuZCBJRQogICAgICAgICAgLy8gU28gaWYgc3RhY2sgZG9lc24ndCBjb250YWluIG1lc3NhZ2UsIHdlIGNyZWF0ZSBhIG5ldyBzdHJpbmcgdGhhdCBjb250YWlucyBib3RoLgogICAgICAgICAgLy8gU2luY2UgZXJyb3Iuc3RhY2sgaXMgcmVhZC1vbmx5IGluIFNhZmFyaSwgSSdtIG92ZXJyaWRpbmcgZSBhbmQgbm90IGUuc3RhY2sgaGVyZS4KICAgICAgICAgIC8qIGpzaGludCAtVzAyMiAqLwogICAgICAgICAgZSA9IGUubWVzc2FnZSArICdcbicgKyBlLnN0YWNrOwogICAgICAgIH0KICAgICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ21vZHVsZXJyJywgIkZhaWxlZCB0byBpbnN0YW50aWF0ZSBtb2R1bGUgezB9IGR1ZSB0bzpcbnsxfSIsCiAgICAgICAgICAgICAgICAgIG1vZHVsZSwgZS5zdGFjayB8fCBlLm1lc3NhZ2UgfHwgZSk7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIHJ1bkJsb2NrczsKICB9CgogIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogIC8vIGludGVybmFsIEluamVjdG9yCiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogIGZ1bmN0aW9uIGNyZWF0ZUludGVybmFsSW5qZWN0b3IoY2FjaGUsIGZhY3RvcnkpIHsKCiAgICBmdW5jdGlvbiBnZXRTZXJ2aWNlKHNlcnZpY2VOYW1lKSB7CiAgICAgIGlmIChjYWNoZS5oYXNPd25Qcm9wZXJ0eShzZXJ2aWNlTmFtZSkpIHsKICAgICAgICBpZiAoY2FjaGVbc2VydmljZU5hbWVdID09PSBJTlNUQU5USUFUSU5HKSB7CiAgICAgICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ2NkZXAnLCAnQ2lyY3VsYXIgZGVwZW5kZW5jeSBmb3VuZDogezB9JywKICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlTmFtZSArICcgPC0gJyArIHBhdGguam9pbignIDwtICcpKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGNhY2hlW3NlcnZpY2VOYW1lXTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0cnkgewogICAgICAgICAgcGF0aC51bnNoaWZ0KHNlcnZpY2VOYW1lKTsKICAgICAgICAgIGNhY2hlW3NlcnZpY2VOYW1lXSA9IElOU1RBTlRJQVRJTkc7CiAgICAgICAgICByZXR1cm4gY2FjaGVbc2VydmljZU5hbWVdID0gZmFjdG9yeShzZXJ2aWNlTmFtZSk7CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBpZiAoY2FjaGVbc2VydmljZU5hbWVdID09PSBJTlNUQU5USUFUSU5HKSB7CiAgICAgICAgICAgIGRlbGV0ZSBjYWNoZVtzZXJ2aWNlTmFtZV07CiAgICAgICAgICB9CiAgICAgICAgICB0aHJvdyBlcnI7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIHBhdGguc2hpZnQoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBpbnZva2UoZm4sIHNlbGYsIGxvY2Fscyl7CiAgICAgIHZhciBhcmdzID0gW10sCiAgICAgICAgICAkaW5qZWN0ID0gYW5ub3RhdGUoZm4pLAogICAgICAgICAgbGVuZ3RoLCBpLAogICAgICAgICAga2V5OwoKICAgICAgZm9yKGkgPSAwLCBsZW5ndGggPSAkaW5qZWN0Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAga2V5ID0gJGluamVjdFtpXTsKICAgICAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHsKICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycignaXRrbicsCiAgICAgICAgICAgICAgICAgICdJbmNvcnJlY3QgaW5qZWN0aW9uIHRva2VuISBFeHBlY3RlZCBzZXJ2aWNlIG5hbWUgYXMgc3RyaW5nLCBnb3QgezB9Jywga2V5KTsKICAgICAgICB9CiAgICAgICAgYXJncy5wdXNoKAogICAgICAgICAgbG9jYWxzICYmIGxvY2Fscy5oYXNPd25Qcm9wZXJ0eShrZXkpCiAgICAgICAgICA/IGxvY2Fsc1trZXldCiAgICAgICAgICA6IGdldFNlcnZpY2Uoa2V5KQogICAgICAgICk7CiAgICAgIH0KICAgICAgaWYgKGlzQXJyYXkoZm4pKSB7CiAgICAgICAgZm4gPSBmbltsZW5ndGhdOwogICAgICB9CgogICAgICAvLyBodHRwOi8vanNwZXJmLmNvbS9hbmd1bGFyanMtaW52b2tlLWFwcGx5LXZzLXN3aXRjaAogICAgICAvLyAjNTM4OAogICAgICByZXR1cm4gZm4uYXBwbHkoc2VsZiwgYXJncyk7CiAgICB9CgogICAgZnVuY3Rpb24gaW5zdGFudGlhdGUoVHlwZSwgbG9jYWxzKSB7CiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge30sCiAgICAgICAgICBpbnN0YW5jZSwgcmV0dXJuZWRWYWx1ZTsKCiAgICAgIC8vIENoZWNrIGlmIFR5cGUgaXMgYW5ub3RhdGVkIGFuZCB1c2UganVzdCB0aGUgZ2l2ZW4gZnVuY3Rpb24gYXQgbi0xIGFzIHBhcmFtZXRlcgogICAgICAvLyBlLmcuIHNvbWVNb2R1bGUuZmFjdG9yeSgnZ3JlZXRlcicsIFsnJHdpbmRvdycsIGZ1bmN0aW9uKHJlbmFtZWQkd2luZG93KSB7fV0pOwogICAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSAoaXNBcnJheShUeXBlKSA/IFR5cGVbVHlwZS5sZW5ndGggLSAxXSA6IFR5cGUpLnByb3RvdHlwZTsKICAgICAgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTsKICAgICAgcmV0dXJuZWRWYWx1ZSA9IGludm9rZShUeXBlLCBpbnN0YW5jZSwgbG9jYWxzKTsKCiAgICAgIHJldHVybiBpc09iamVjdChyZXR1cm5lZFZhbHVlKSB8fCBpc0Z1bmN0aW9uKHJldHVybmVkVmFsdWUpID8gcmV0dXJuZWRWYWx1ZSA6IGluc3RhbmNlOwogICAgfQoKICAgIHJldHVybiB7CiAgICAgIGludm9rZTogaW52b2tlLAogICAgICBpbnN0YW50aWF0ZTogaW5zdGFudGlhdGUsCiAgICAgIGdldDogZ2V0U2VydmljZSwKICAgICAgYW5ub3RhdGU6IGFubm90YXRlLAogICAgICBoYXM6IGZ1bmN0aW9uKG5hbWUpIHsKICAgICAgICByZXR1cm4gcHJvdmlkZXJDYWNoZS5oYXNPd25Qcm9wZXJ0eShuYW1lICsgcHJvdmlkZXJTdWZmaXgpIHx8IGNhY2hlLmhhc093blByb3BlcnR5KG5hbWUpOwogICAgICB9CiAgICB9OwogIH0KfQoKLyoqCiAqIEBuZ2RvYyBzZXJ2aWNlCiAqIEBuYW1lICRhbmNob3JTY3JvbGwKICogQGtpbmQgZnVuY3Rpb24KICogQHJlcXVpcmVzICR3aW5kb3cKICogQHJlcXVpcmVzICRsb2NhdGlvbgogKiBAcmVxdWlyZXMgJHJvb3RTY29wZQogKgogKiBAZGVzY3JpcHRpb24KICogV2hlbiBjYWxsZWQsIGl0IGNoZWNrcyBjdXJyZW50IHZhbHVlIG9mIGAkbG9jYXRpb24uaGFzaCgpYCBhbmQgc2Nyb2xscyB0byB0aGUgcmVsYXRlZCBlbGVtZW50LAogKiBhY2NvcmRpbmcgdG8gcnVsZXMgc3BlY2lmaWVkIGluCiAqIFtIdG1sNSBzcGVjXShodHRwOi8vZGV2LnczLm9yZy9odG1sNS9zcGVjL092ZXJ2aWV3Lmh0bWwjdGhlLWluZGljYXRlZC1wYXJ0LW9mLXRoZS1kb2N1bWVudCkuCiAqCiAqIEl0IGFsc28gd2F0Y2hlcyB0aGUgYCRsb2NhdGlvbi5oYXNoKClgIGFuZCBzY3JvbGxzIHdoZW5ldmVyIGl0IGNoYW5nZXMgdG8gbWF0Y2ggYW55IGFuY2hvci4KICogVGhpcyBjYW4gYmUgZGlzYWJsZWQgYnkgY2FsbGluZyBgJGFuY2hvclNjcm9sbFByb3ZpZGVyLmRpc2FibGVBdXRvU2Nyb2xsaW5nKClgLgogKgogKiBAZXhhbXBsZQogICA8ZXhhbXBsZT4KICAgICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgICAgIDxkaXYgaWQ9InNjcm9sbEFyZWEiIG5nLWNvbnRyb2xsZXI9IlNjcm9sbEN0cmwiPgogICAgICAgICA8YSBuZy1jbGljaz0iZ290b0JvdHRvbSgpIj5HbyB0byBib3R0b208L2E+CiAgICAgICAgIDxhIGlkPSJib3R0b20iPjwvYT4gWW91J3JlIGF0IHRoZSBib3R0b20hCiAgICAgICA8L2Rpdj4KICAgICA8L2ZpbGU+CiAgICAgPGZpbGUgbmFtZT0ic2NyaXB0LmpzIj4KICAgICAgIGZ1bmN0aW9uIFNjcm9sbEN0cmwoJHNjb3BlLCAkbG9jYXRpb24sICRhbmNob3JTY3JvbGwpIHsKICAgICAgICAgJHNjb3BlLmdvdG9Cb3R0b20gPSBmdW5jdGlvbiAoKXsKICAgICAgICAgICAvLyBzZXQgdGhlIGxvY2F0aW9uLmhhc2ggdG8gdGhlIGlkIG9mCiAgICAgICAgICAgLy8gdGhlIGVsZW1lbnQgeW91IHdpc2ggdG8gc2Nyb2xsIHRvLgogICAgICAgICAgICRsb2NhdGlvbi5oYXNoKCdib3R0b20nKTsKCiAgICAgICAgICAgLy8gY2FsbCAkYW5jaG9yU2Nyb2xsKCkKICAgICAgICAgICAkYW5jaG9yU2Nyb2xsKCk7CiAgICAgICAgIH07CiAgICAgICB9CiAgICAgPC9maWxlPgogICAgIDxmaWxlIG5hbWU9InN0eWxlLmNzcyI+CiAgICAgICAjc2Nyb2xsQXJlYSB7CiAgICAgICAgIGhlaWdodDogMzUwcHg7CiAgICAgICAgIG92ZXJmbG93OiBhdXRvOwogICAgICAgfQoKICAgICAgICNib3R0b20gewogICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgbWFyZ2luLXRvcDogMjAwMHB4OwogICAgICAgfQogICAgIDwvZmlsZT4KICAgPC9leGFtcGxlPgogKi8KZnVuY3Rpb24gJEFuY2hvclNjcm9sbFByb3ZpZGVyKCkgewoKICB2YXIgYXV0b1Njcm9sbGluZ0VuYWJsZWQgPSB0cnVlOwoKICB0aGlzLmRpc2FibGVBdXRvU2Nyb2xsaW5nID0gZnVuY3Rpb24oKSB7CiAgICBhdXRvU2Nyb2xsaW5nRW5hYmxlZCA9IGZhbHNlOwogIH07CgogIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckbG9jYXRpb24nLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uKCR3aW5kb3csICRsb2NhdGlvbiwgJHJvb3RTY29wZSkgewogICAgdmFyIGRvY3VtZW50ID0gJHdpbmRvdy5kb2N1bWVudDsKCiAgICAvLyBoZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGZpcnN0IGFuY2hvciBmcm9tIGEgTm9kZUxpc3QKICAgIC8vIGNhbid0IHVzZSBmaWx0ZXIuZmlsdGVyLCBhcyBpdCBhY2NlcHRzIG9ubHkgaW5zdGFuY2VzIG9mIEFycmF5CiAgICAvLyBhbmQgSUUgY2FuJ3QgY29udmVydCBOb2RlTGlzdCB0byBhbiBhcnJheSB1c2luZyBbXS5zbGljZQogICAgLy8gVE9ETyh2b2p0YSk6IHVzZSBmaWx0ZXIgaWYgd2UgY2hhbmdlIGl0IHRvIGFjY2VwdCBsaXN0cyBhcyB3ZWxsCiAgICBmdW5jdGlvbiBnZXRGaXJzdEFuY2hvcihsaXN0KSB7CiAgICAgIHZhciByZXN1bHQgPSBudWxsOwogICAgICBmb3JFYWNoKGxpc3QsIGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICBpZiAoIXJlc3VsdCAmJiBsb3dlcmNhc2UoZWxlbWVudC5ub2RlTmFtZSkgPT09ICdhJykgcmVzdWx0ID0gZWxlbWVudDsKICAgICAgfSk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogICAgZnVuY3Rpb24gc2Nyb2xsKCkgewogICAgICB2YXIgaGFzaCA9ICRsb2NhdGlvbi5oYXNoKCksIGVsbTsKCiAgICAgIC8vIGVtcHR5IGhhc2gsIHNjcm9sbCB0byB0aGUgdG9wIG9mIHRoZSBwYWdlCiAgICAgIGlmICghaGFzaCkgJHdpbmRvdy5zY3JvbGxUbygwLCAwKTsKCiAgICAgIC8vIGVsZW1lbnQgd2l0aCBnaXZlbiBpZAogICAgICBlbHNlIGlmICgoZWxtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaGFzaCkpKSBlbG0uc2Nyb2xsSW50b1ZpZXcoKTsKCiAgICAgIC8vIGZpcnN0IGFuY2hvciB3aXRoIGdpdmVuIG5hbWUgOi1ECiAgICAgIGVsc2UgaWYgKChlbG0gPSBnZXRGaXJzdEFuY2hvcihkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShoYXNoKSkpKSBlbG0uc2Nyb2xsSW50b1ZpZXcoKTsKCiAgICAgIC8vIG5vIGVsZW1lbnQgYW5kIGhhc2ggPT0gJ3RvcCcsIHNjcm9sbCB0byB0aGUgdG9wIG9mIHRoZSBwYWdlCiAgICAgIGVsc2UgaWYgKGhhc2ggPT09ICd0b3AnKSAkd2luZG93LnNjcm9sbFRvKDAsIDApOwogICAgfQoKICAgIC8vIGRvZXMgbm90IHNjcm9sbCB3aGVuIHVzZXIgY2xpY2tzIG9uIGFuY2hvciBsaW5rIHRoYXQgaXMgY3VycmVudGx5IG9uCiAgICAvLyAobm8gdXJsIGNoYW5nZSwgbm8gJGxvY2F0aW9uLmhhc2goKSBjaGFuZ2UpLCBicm93c2VyIG5hdGl2ZSBkb2VzIHNjcm9sbAogICAgaWYgKGF1dG9TY3JvbGxpbmdFbmFibGVkKSB7CiAgICAgICRyb290U2NvcGUuJHdhdGNoKGZ1bmN0aW9uIGF1dG9TY3JvbGxXYXRjaCgpIHtyZXR1cm4gJGxvY2F0aW9uLmhhc2goKTt9LAogICAgICAgIGZ1bmN0aW9uIGF1dG9TY3JvbGxXYXRjaEFjdGlvbigpIHsKICAgICAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhzY3JvbGwpOwogICAgICAgIH0pOwogICAgfQoKICAgIHJldHVybiBzY3JvbGw7CiAgfV07Cn0KCnZhciAkYW5pbWF0ZU1pbkVyciA9IG1pbkVycignJGFuaW1hdGUnKTsKCi8qKgogKiBAbmdkb2MgcHJvdmlkZXIKICogQG5hbWUgJGFuaW1hdGVQcm92aWRlcgogKgogKiBAZGVzY3JpcHRpb24KICogRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiAkYW5pbWF0ZSB0aGF0IGRvZXNuJ3QgcGVyZm9ybSBhbnkgYW5pbWF0aW9ucywgaW5zdGVhZCBqdXN0CiAqIHN5bmNocm9ub3VzbHkgcGVyZm9ybXMgRE9NCiAqIHVwZGF0ZXMgYW5kIGNhbGxzIGRvbmUoKSBjYWxsYmFja3MuCiAqCiAqIEluIG9yZGVyIHRvIGVuYWJsZSBhbmltYXRpb25zIHRoZSBuZ0FuaW1hdGUgbW9kdWxlIGhhcyB0byBiZSBsb2FkZWQuCiAqCiAqIFRvIHNlZSB0aGUgZnVuY3Rpb25hbCBpbXBsZW1lbnRhdGlvbiBjaGVjayBvdXQgc3JjL25nQW5pbWF0ZS9hbmltYXRlLmpzCiAqLwp2YXIgJEFuaW1hdGVQcm92aWRlciA9IFsnJHByb3ZpZGUnLCBmdW5jdGlvbigkcHJvdmlkZSkgewoKCiAgdGhpcy4kJHNlbGVjdG9ycyA9IHt9OwoKCiAgLyoqCiAgICogQG5nZG9jIG1ldGhvZAogICAqIEBuYW1lICRhbmltYXRlUHJvdmlkZXIjcmVnaXN0ZXIKICAgKgogICAqIEBkZXNjcmlwdGlvbgogICAqIFJlZ2lzdGVycyBhIG5ldyBpbmplY3RhYmxlIGFuaW1hdGlvbiBmYWN0b3J5IGZ1bmN0aW9uLiBUaGUgZmFjdG9yeSBmdW5jdGlvbiBwcm9kdWNlcyB0aGUKICAgKiBhbmltYXRpb24gb2JqZWN0IHdoaWNoIGNvbnRhaW5zIGNhbGxiYWNrIGZ1bmN0aW9ucyBmb3IgZWFjaCBldmVudCB0aGF0IGlzIGV4cGVjdGVkIHRvIGJlCiAgICogYW5pbWF0ZWQuCiAgICoKICAgKiAgICogYGV2ZW50Rm5gOiBgZnVuY3Rpb24oRWxlbWVudCwgZG9uZUZ1bmN0aW9uKWAgVGhlIGVsZW1lbnQgdG8gYW5pbWF0ZSwgdGhlIGBkb25lRnVuY3Rpb25gCiAgICogICBtdXN0IGJlIGNhbGxlZCBvbmNlIHRoZSBlbGVtZW50IGFuaW1hdGlvbiBpcyBjb21wbGV0ZS4gSWYgYSBmdW5jdGlvbiBpcyByZXR1cm5lZCB0aGVuIHRoZQogICAqICAgYW5pbWF0aW9uIHNlcnZpY2Ugd2lsbCB1c2UgdGhpcyBmdW5jdGlvbiB0byBjYW5jZWwgdGhlIGFuaW1hdGlvbiB3aGVuZXZlciBhIGNhbmNlbCBldmVudCBpcwogICAqICAgdHJpZ2dlcmVkLgogICAqCiAgICoKICAgKiBgYGBqcwogICAqICAgcmV0dXJuIHsKICAgICAqICAgICBldmVudEZuIDogZnVuY3Rpb24oZWxlbWVudCwgZG9uZSkgewogICAgICogICAgICAgLy9jb2RlIHRvIHJ1biB0aGUgYW5pbWF0aW9uCiAgICAgKiAgICAgICAvL29uY2UgY29tcGxldGUsIHRoZW4gcnVuIGRvbmUoKQogICAgICogICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNhbmNlbGxhdGlvbkZ1bmN0aW9uKCkgewogICAgICogICAgICAgICAvL2NvZGUgdG8gY2FuY2VsIHRoZSBhbmltYXRpb24KICAgICAqICAgICAgIH0KICAgICAqICAgICB9CiAgICAgKiAgIH0KICAgKiBgYGAKICAgKgogICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBhbmltYXRpb24uCiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmFjdG9yeSBUaGUgZmFjdG9yeSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgdG8gcmV0dXJuIHRoZSBhbmltYXRpb24KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC4KICAgKi8KICB0aGlzLnJlZ2lzdGVyID0gZnVuY3Rpb24obmFtZSwgZmFjdG9yeSkgewogICAgdmFyIGtleSA9IG5hbWUgKyAnLWFuaW1hdGlvbic7CiAgICBpZiAobmFtZSAmJiBuYW1lLmNoYXJBdCgwKSAhPSAnLicpIHRocm93ICRhbmltYXRlTWluRXJyKCdub3Rjc2VsJywKICAgICAgICAiRXhwZWN0aW5nIGNsYXNzIHNlbGVjdG9yIHN0YXJ0aW5nIHdpdGggJy4nIGdvdCAnezB9Jy4iLCBuYW1lKTsKICAgIHRoaXMuJCRzZWxlY3RvcnNbbmFtZS5zdWJzdHIoMSldID0ga2V5OwogICAgJHByb3ZpZGUuZmFjdG9yeShrZXksIGZhY3RvcnkpOwogIH07CgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSAkYW5pbWF0ZVByb3ZpZGVyI2NsYXNzTmFtZUZpbHRlcgogICAqCiAgICogQGRlc2NyaXB0aW9uCiAgICogU2V0cyBhbmQvb3IgcmV0dXJucyB0aGUgQ1NTIGNsYXNzIHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGlzIGNoZWNrZWQgd2hlbiBwZXJmb3JtaW5nCiAgICogYW4gYW5pbWF0aW9uLiBVcG9uIGJvb3RzdHJhcCB0aGUgY2xhc3NOYW1lRmlsdGVyIHZhbHVlIGlzIG5vdCBzZXQgYXQgYWxsIGFuZCB3aWxsCiAgICogdGhlcmVmb3JlIGVuYWJsZSAkYW5pbWF0ZSB0byBhdHRlbXB0IHRvIHBlcmZvcm0gYW4gYW5pbWF0aW9uIG9uIGFueSBlbGVtZW50LgogICAqIFdoZW4gc2V0dGluZyB0aGUgY2xhc3NOYW1lRmlsdGVyIHZhbHVlLCBhbmltYXRpb25zIHdpbGwgb25seSBiZSBwZXJmb3JtZWQgb24gZWxlbWVudHMKICAgKiB0aGF0IHN1Y2Nlc3NmdWxseSBtYXRjaCB0aGUgZmlsdGVyIGV4cHJlc3Npb24uIFRoaXMgaW4gdHVybiBjYW4gYm9vc3QgcGVyZm9ybWFuY2UKICAgKiBmb3IgbG93LXBvd2VyZWQgZGV2aWNlcyBhcyB3ZWxsIGFzIGFwcGxpY2F0aW9ucyBjb250YWluaW5nIGEgbG90IG9mIHN0cnVjdHVyYWwgb3BlcmF0aW9ucy4KICAgKiBAcGFyYW0ge1JlZ0V4cD19IGV4cHJlc3Npb24gVGhlIGNsYXNzTmFtZSBleHByZXNzaW9uIHdoaWNoIHdpbGwgYmUgY2hlY2tlZCBhZ2FpbnN0IGFsbCBhbmltYXRpb25zCiAgICogQHJldHVybiB7UmVnRXhwfSBUaGUgY3VycmVudCBDU1MgY2xhc3NOYW1lIGV4cHJlc3Npb24gdmFsdWUuIElmIG51bGwgdGhlbiB0aGVyZSBpcyBubyBleHByZXNzaW9uIHZhbHVlCiAgICovCiAgdGhpcy5jbGFzc05hbWVGaWx0ZXIgPSBmdW5jdGlvbihleHByZXNzaW9uKSB7CiAgICBpZihhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7CiAgICAgIHRoaXMuJCRjbGFzc05hbWVGaWx0ZXIgPSAoZXhwcmVzc2lvbiBpbnN0YW5jZW9mIFJlZ0V4cCkgPyBleHByZXNzaW9uIDogbnVsbDsKICAgIH0KICAgIHJldHVybiB0aGlzLiQkY2xhc3NOYW1lRmlsdGVyOwogIH07CgogIHRoaXMuJGdldCA9IFsnJHRpbWVvdXQnLCAnJCRhc3luY0NhbGxiYWNrJywgZnVuY3Rpb24oJHRpbWVvdXQsICQkYXN5bmNDYWxsYmFjaykgewoKICAgIGZ1bmN0aW9uIGFzeW5jKGZuKSB7CiAgICAgIGZuICYmICQkYXN5bmNDYWxsYmFjayhmbik7CiAgICB9CgogICAgLyoqCiAgICAgKgogICAgICogQG5nZG9jIHNlcnZpY2UKICAgICAqIEBuYW1lICRhbmltYXRlCiAgICAgKiBAZGVzY3JpcHRpb24gVGhlICRhbmltYXRlIHNlcnZpY2UgcHJvdmlkZXMgcnVkaW1lbnRhcnkgRE9NIG1hbmlwdWxhdGlvbiBmdW5jdGlvbnMgdG8KICAgICAqIGluc2VydCwgcmVtb3ZlIGFuZCBtb3ZlIGVsZW1lbnRzIHdpdGhpbiB0aGUgRE9NLCBhcyB3ZWxsIGFzIGFkZGluZyBhbmQgcmVtb3ZpbmcgY2xhc3Nlcy4KICAgICAqIFRoaXMgc2VydmljZSBpcyB0aGUgY29yZSBzZXJ2aWNlIHVzZWQgYnkgdGhlIG5nQW5pbWF0ZSAkYW5pbWF0b3Igc2VydmljZSB3aGljaCBwcm92aWRlcwogICAgICogaGlnaC1sZXZlbCBhbmltYXRpb24gaG9va3MgZm9yIENTUyBhbmQgSmF2YVNjcmlwdC4KICAgICAqCiAgICAgKiAkYW5pbWF0ZSBpcyBhdmFpbGFibGUgaW4gdGhlIEFuZ3VsYXJKUyBjb3JlLCBob3dldmVyLCB0aGUgbmdBbmltYXRlIG1vZHVsZSBtdXN0IGJlIGluY2x1ZGVkCiAgICAgKiB0byBlbmFibGUgZnVsbCBvdXQgYW5pbWF0aW9uIHN1cHBvcnQuIE90aGVyd2lzZSwgJGFuaW1hdGUgd2lsbCBvbmx5IHBlcmZvcm0gc2ltcGxlIERPTQogICAgICogbWFuaXB1bGF0aW9uIG9wZXJhdGlvbnMuCiAgICAgKgogICAgICogVG8gbGVhcm4gbW9yZSBhYm91dCBlbmFibGluZyBhbmltYXRpb24gc3VwcG9ydCwgY2xpY2sgaGVyZSB0byB2aXNpdCB0aGUge0BsaW5rIG5nQW5pbWF0ZQogICAgICogbmdBbmltYXRlIG1vZHVsZSBwYWdlfSBhcyB3ZWxsIGFzIHRoZSB7QGxpbmsgbmdBbmltYXRlLiRhbmltYXRlIG5nQW5pbWF0ZSAkYW5pbWF0ZSBzZXJ2aWNlCiAgICAgKiBwYWdlfS4KICAgICAqLwogICAgcmV0dXJuIHsKCiAgICAgIC8qKgogICAgICAgKgogICAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgICAqIEBuYW1lICRhbmltYXRlI2VudGVyCiAgICAgICAqIEBraW5kIGZ1bmN0aW9uCiAgICAgICAqIEBkZXNjcmlwdGlvbiBJbnNlcnRzIHRoZSBlbGVtZW50IGludG8gdGhlIERPTSBlaXRoZXIgYWZ0ZXIgdGhlIGBhZnRlcmAgZWxlbWVudCBvciB3aXRoaW4KICAgICAgICogICB0aGUgYHBhcmVudGAgZWxlbWVudC4gT25jZSBjb21wbGV0ZSwgdGhlIGRvbmUoKSBjYWxsYmFjayB3aWxsIGJlIGZpcmVkIChpZiBwcm92aWRlZCkuCiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB3aWxsIGJlIGluc2VydGVkIGludG8gdGhlIERPTQogICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IHBhcmVudCB0aGUgcGFyZW50IGVsZW1lbnQgd2hpY2ggd2lsbCBhcHBlbmQgdGhlIGVsZW1lbnQgYXMKICAgICAgICogICBhIGNoaWxkIChpZiB0aGUgYWZ0ZXIgZWxlbWVudCBpcyBub3QgcHJlc2VudCkKICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBhZnRlciB0aGUgc2libGluZyBlbGVtZW50IHdoaWNoIHdpbGwgYXBwZW5kIHRoZSBlbGVtZW50CiAgICAgICAqICAgYWZ0ZXIgaXRzZWxmCiAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb249fSBkb25lIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgdGhlIGVsZW1lbnQgaGFzIGJlZW4KICAgICAgICogICBpbnNlcnRlZCBpbnRvIHRoZSBET00KICAgICAgICovCiAgICAgIGVudGVyIDogZnVuY3Rpb24oZWxlbWVudCwgcGFyZW50LCBhZnRlciwgZG9uZSkgewogICAgICAgIGlmIChhZnRlcikgewogICAgICAgICAgYWZ0ZXIuYWZ0ZXIoZWxlbWVudCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICghcGFyZW50IHx8ICFwYXJlbnRbMF0pIHsKICAgICAgICAgICAgcGFyZW50ID0gYWZ0ZXIucGFyZW50KCk7CiAgICAgICAgICB9CiAgICAgICAgICBwYXJlbnQuYXBwZW5kKGVsZW1lbnQpOwogICAgICAgIH0KICAgICAgICBhc3luYyhkb25lKTsKICAgICAgfSwKCiAgICAgIC8qKgogICAgICAgKgogICAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgICAqIEBuYW1lICRhbmltYXRlI2xlYXZlCiAgICAgICAqIEBraW5kIGZ1bmN0aW9uCiAgICAgICAqIEBkZXNjcmlwdGlvbiBSZW1vdmVzIHRoZSBlbGVtZW50IGZyb20gdGhlIERPTS4gT25jZSBjb21wbGV0ZSwgdGhlIGRvbmUoKSBjYWxsYmFjayB3aWxsIGJlCiAgICAgICAqICAgZmlyZWQgKGlmIHByb3ZpZGVkKS4KICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBET00KICAgICAgICogQHBhcmFtIHtGdW5jdGlvbj19IGRvbmUgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBhZnRlciB0aGUgZWxlbWVudCBoYXMgYmVlbgogICAgICAgKiAgIHJlbW92ZWQgZnJvbSB0aGUgRE9NCiAgICAgICAqLwogICAgICBsZWF2ZSA6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmUpIHsKICAgICAgICBlbGVtZW50LnJlbW92ZSgpOwogICAgICAgIGFzeW5jKGRvbmUpOwogICAgICB9LAoKICAgICAgLyoqCiAgICAgICAqCiAgICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAgICogQG5hbWUgJGFuaW1hdGUjbW92ZQogICAgICAgKiBAa2luZCBmdW5jdGlvbgogICAgICAgKiBAZGVzY3JpcHRpb24gTW92ZXMgdGhlIHBvc2l0aW9uIG9mIHRoZSBwcm92aWRlZCBlbGVtZW50IHdpdGhpbiB0aGUgRE9NIHRvIGJlIHBsYWNlZAogICAgICAgKiBlaXRoZXIgYWZ0ZXIgdGhlIGBhZnRlcmAgZWxlbWVudCBvciBpbnNpZGUgb2YgdGhlIGBwYXJlbnRgIGVsZW1lbnQuIE9uY2UgY29tcGxldGUsIHRoZQogICAgICAgKiBkb25lKCkgY2FsbGJhY2sgd2lsbCBiZSBmaXJlZCAoaWYgcHJvdmlkZWQpLgogICAgICAgKgogICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBiZSBtb3ZlZCBhcm91bmQgd2l0aGluIHRoZQogICAgICAgKiAgIERPTQogICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IHBhcmVudCB0aGUgcGFyZW50IGVsZW1lbnQgd2hlcmUgdGhlIGVsZW1lbnQgd2lsbCBiZQogICAgICAgKiAgIGluc2VydGVkIGludG8gKGlmIHRoZSBhZnRlciBlbGVtZW50IGlzIG5vdCBwcmVzZW50KQogICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGFmdGVyIHRoZSBzaWJsaW5nIGVsZW1lbnQgd2hlcmUgdGhlIGVsZW1lbnQgd2lsbCBiZQogICAgICAgKiAgIHBvc2l0aW9uZWQgbmV4dCB0bwogICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gZG9uZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gKGlmIHByb3ZpZGVkKSB0aGF0IHdpbGwgYmUgZmlyZWQgYWZ0ZXIgdGhlCiAgICAgICAqICAgZWxlbWVudCBoYXMgYmVlbiBtb3ZlZCB0byBpdHMgbmV3IHBvc2l0aW9uCiAgICAgICAqLwogICAgICBtb3ZlIDogZnVuY3Rpb24oZWxlbWVudCwgcGFyZW50LCBhZnRlciwgZG9uZSkgewogICAgICAgIC8vIERvIG5vdCByZW1vdmUgZWxlbWVudCBiZWZvcmUgaW5zZXJ0LiBSZW1vdmluZyB3aWxsIGNhdXNlIGRhdGEgYXNzb2NpYXRlZCB3aXRoIHRoZQogICAgICAgIC8vIGVsZW1lbnQgdG8gYmUgZHJvcHBlZC4gSW5zZXJ0IHdpbGwgaW1wbGljaXRseSBkbyB0aGUgcmVtb3ZlLgogICAgICAgIHRoaXMuZW50ZXIoZWxlbWVudCwgcGFyZW50LCBhZnRlciwgZG9uZSk7CiAgICAgIH0sCgogICAgICAvKioKICAgICAgICoKICAgICAgICogQG5nZG9jIG1ldGhvZAogICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNhZGRDbGFzcwogICAgICAgKiBAa2luZCBmdW5jdGlvbgogICAgICAgKiBAZGVzY3JpcHRpb24gQWRkcyB0aGUgcHJvdmlkZWQgY2xhc3NOYW1lIENTUyBjbGFzcyB2YWx1ZSB0byB0aGUgcHJvdmlkZWQgZWxlbWVudC4gT25jZQogICAgICAgKiBjb21wbGV0ZSwgdGhlIGRvbmUoKSBjYWxsYmFjayB3aWxsIGJlIGZpcmVkIChpZiBwcm92aWRlZCkuCiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB3aWxsIGhhdmUgdGhlIGNsYXNzTmFtZSB2YWx1ZQogICAgICAgKiAgIGFkZGVkIHRvIGl0CiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgdGhlIENTUyBjbGFzcyB3aGljaCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBlbGVtZW50CiAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb249fSBkb25lIHRoZSBjYWxsYmFjayBmdW5jdGlvbiAoaWYgcHJvdmlkZWQpIHRoYXQgd2lsbCBiZSBmaXJlZCBhZnRlciB0aGUKICAgICAgICogICBjbGFzc05hbWUgdmFsdWUgaGFzIGJlZW4gYWRkZWQgdG8gdGhlIGVsZW1lbnQKICAgICAgICovCiAgICAgIGFkZENsYXNzIDogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBkb25lKSB7CiAgICAgICAgY2xhc3NOYW1lID0gaXNTdHJpbmcoY2xhc3NOYW1lKSA/CiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgOgogICAgICAgICAgICAgICAgICAgICAgaXNBcnJheShjbGFzc05hbWUpID8gY2xhc3NOYW1lLmpvaW4oJyAnKSA6ICcnOwogICAgICAgIGZvckVhY2goZWxlbWVudCwgZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgIGpxTGl0ZUFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7CiAgICAgICAgfSk7CiAgICAgICAgYXN5bmMoZG9uZSk7CiAgICAgIH0sCgogICAgICAvKioKICAgICAgICoKICAgICAgICogQG5nZG9jIG1ldGhvZAogICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNyZW1vdmVDbGFzcwogICAgICAgKiBAa2luZCBmdW5jdGlvbgogICAgICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyB0aGUgcHJvdmlkZWQgY2xhc3NOYW1lIENTUyBjbGFzcyB2YWx1ZSBmcm9tIHRoZSBwcm92aWRlZCBlbGVtZW50LgogICAgICAgKiBPbmNlIGNvbXBsZXRlLCB0aGUgZG9uZSgpIGNhbGxiYWNrIHdpbGwgYmUgZmlyZWQgKGlmIHByb3ZpZGVkKS4KICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHdpbGwgaGF2ZSB0aGUgY2xhc3NOYW1lIHZhbHVlCiAgICAgICAqICAgcmVtb3ZlZCBmcm9tIGl0CiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgdGhlIENTUyBjbGFzcyB3aGljaCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudAogICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gZG9uZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gKGlmIHByb3ZpZGVkKSB0aGF0IHdpbGwgYmUgZmlyZWQgYWZ0ZXIgdGhlCiAgICAgICAqICAgY2xhc3NOYW1lIHZhbHVlIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudAogICAgICAgKi8KICAgICAgcmVtb3ZlQ2xhc3MgOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIGRvbmUpIHsKICAgICAgICBjbGFzc05hbWUgPSBpc1N0cmluZyhjbGFzc05hbWUpID8KICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA6CiAgICAgICAgICAgICAgICAgICAgICBpc0FycmF5KGNsYXNzTmFtZSkgPyBjbGFzc05hbWUuam9pbignICcpIDogJyc7CiAgICAgICAgZm9yRWFjaChlbGVtZW50LCBmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAganFMaXRlUmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTsKICAgICAgICB9KTsKICAgICAgICBhc3luYyhkb25lKTsKICAgICAgfSwKCiAgICAgIC8qKgogICAgICAgKgogICAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgICAqIEBuYW1lICRhbmltYXRlI3NldENsYXNzCiAgICAgICAqIEBraW5kIGZ1bmN0aW9uCiAgICAgICAqIEBkZXNjcmlwdGlvbiBBZGRzIGFuZC9vciByZW1vdmVzIHRoZSBnaXZlbiBDU1MgY2xhc3NlcyB0byBhbmQgZnJvbSB0aGUgZWxlbWVudC4KICAgICAgICogT25jZSBjb21wbGV0ZSwgdGhlIGRvbmUoKSBjYWxsYmFjayB3aWxsIGJlIGZpcmVkIChpZiBwcm92aWRlZCkuCiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB3aWxsIGhhdmUgaXRzIENTUyBjbGFzc2VzIGNoYW5nZWQKICAgICAgICogICByZW1vdmVkIGZyb20gaXQKICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGFkZCB0aGUgQ1NTIGNsYXNzZXMgd2hpY2ggd2lsbCBiZSBhZGRlZCB0byB0aGUgZWxlbWVudAogICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVtb3ZlIHRoZSBDU1MgY2xhc3Mgd2hpY2ggd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnQKICAgICAgICogQHBhcmFtIHtGdW5jdGlvbj19IGRvbmUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIChpZiBwcm92aWRlZCkgdGhhdCB3aWxsIGJlIGZpcmVkIGFmdGVyIHRoZQogICAgICAgKiAgIENTUyBjbGFzc2VzIGhhdmUgYmVlbiBzZXQgb24gdGhlIGVsZW1lbnQKICAgICAgICovCiAgICAgIHNldENsYXNzIDogZnVuY3Rpb24oZWxlbWVudCwgYWRkLCByZW1vdmUsIGRvbmUpIHsKICAgICAgICBmb3JFYWNoKGVsZW1lbnQsIGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICBqcUxpdGVBZGRDbGFzcyhlbGVtZW50LCBhZGQpOwogICAgICAgICAganFMaXRlUmVtb3ZlQ2xhc3MoZWxlbWVudCwgcmVtb3ZlKTsKICAgICAgICB9KTsKICAgICAgICBhc3luYyhkb25lKTsKICAgICAgfSwKCiAgICAgIGVuYWJsZWQgOiBub29wCiAgICB9OwogIH1dOwp9XTsKCmZ1bmN0aW9uICQkQXN5bmNDYWxsYmFja1Byb3ZpZGVyKCl7CiAgdGhpcy4kZ2V0ID0gWyckJHJBRicsICckdGltZW91dCcsIGZ1bmN0aW9uKCQkckFGLCAkdGltZW91dCkgewogICAgcmV0dXJuICQkckFGLnN1cHBvcnRlZAogICAgICA/IGZ1bmN0aW9uKGZuKSB7IHJldHVybiAkJHJBRihmbik7IH0KICAgICAgOiBmdW5jdGlvbihmbikgewogICAgICAgIHJldHVybiAkdGltZW91dChmbiwgMCwgZmFsc2UpOwogICAgICB9OwogIH1dOwp9CgovKioKICogISBUaGlzIGlzIGEgcHJpdmF0ZSB1bmRvY3VtZW50ZWQgc2VydmljZSAhCiAqCiAqIEBuYW1lICRicm93c2VyCiAqIEByZXF1aXJlcyAkbG9nCiAqIEBkZXNjcmlwdGlvbgogKiBUaGlzIG9iamVjdCBoYXMgdHdvIGdvYWxzOgogKgogKiAtIGhpZGUgYWxsIHRoZSBnbG9iYWwgc3RhdGUgaW4gdGhlIGJyb3dzZXIgY2F1c2VkIGJ5IHRoZSB3aW5kb3cgb2JqZWN0CiAqIC0gYWJzdHJhY3QgYXdheSBhbGwgdGhlIGJyb3dzZXIgc3BlY2lmaWMgZmVhdHVyZXMgYW5kIGluY29uc2lzdGVuY2llcwogKgogKiBGb3IgdGVzdHMgd2UgcHJvdmlkZSB7QGxpbmsgbmdNb2NrLiRicm93c2VyIG1vY2sgaW1wbGVtZW50YXRpb259IG9mIHRoZSBgJGJyb3dzZXJgCiAqIHNlcnZpY2UsIHdoaWNoIGNhbiBiZSB1c2VkIGZvciBjb252ZW5pZW50IHRlc3Rpbmcgb2YgdGhlIGFwcGxpY2F0aW9uIHdpdGhvdXQgdGhlIGludGVyYWN0aW9uIHdpdGgKICogdGhlIHJlYWwgYnJvd3NlciBhcGlzLgogKi8KLyoqCiAqIEBwYXJhbSB7b2JqZWN0fSB3aW5kb3cgVGhlIGdsb2JhbCB3aW5kb3cgb2JqZWN0LgogKiBAcGFyYW0ge29iamVjdH0gZG9jdW1lbnQgalF1ZXJ5IHdyYXBwZWQgZG9jdW1lbnQuCiAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gWEhSIFhNTEh0dHBSZXF1ZXN0IGNvbnN0cnVjdG9yLgogKiBAcGFyYW0ge29iamVjdH0gJGxvZyBjb25zb2xlLmxvZyBvciBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBpbnRlcmZhY2UuCiAqIEBwYXJhbSB7b2JqZWN0fSAkc25pZmZlciAkc25pZmZlciBzZXJ2aWNlCiAqLwpmdW5jdGlvbiBCcm93c2VyKHdpbmRvdywgZG9jdW1lbnQsICRsb2csICRzbmlmZmVyKSB7CiAgdmFyIHNlbGYgPSB0aGlzLAogICAgICByYXdEb2N1bWVudCA9IGRvY3VtZW50WzBdLAogICAgICBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbiwKICAgICAgaGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5LAogICAgICBzZXRUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQsCiAgICAgIGNsZWFyVGltZW91dCA9IHdpbmRvdy5jbGVhclRpbWVvdXQsCiAgICAgIHBlbmRpbmdEZWZlcklkcyA9IHt9OwoKICBzZWxmLmlzTW9jayA9IGZhbHNlOwoKICB2YXIgb3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQgPSAwOwogIHZhciBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MgPSBbXTsKCiAgLy8gVE9ETyh2b2p0YSk6IHJlbW92ZSB0aGlzIHRlbXBvcmFyeSBhcGkKICBzZWxmLiQkY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QgPSBjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdDsKICBzZWxmLiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQgPSBmdW5jdGlvbigpIHsgb3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQrKzsgfTsKCiAgLyoqCiAgICogRXhlY3V0ZXMgdGhlIGBmbmAgZnVuY3Rpb24oc3VwcG9ydHMgY3VycnlpbmcpIGFuZCBkZWNyZW1lbnRzIHRoZSBgb3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzYAogICAqIGNvdW50ZXIuIElmIHRoZSBjb3VudGVyIHJlYWNoZXMgMCwgYWxsIHRoZSBgb3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzYCBhcmUgZXhlY3V0ZWQuCiAgICovCiAgZnVuY3Rpb24gY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QoZm4pIHsKICAgIHRyeSB7CiAgICAgIGZuLmFwcGx5KG51bGwsIHNsaWNlQXJncyhhcmd1bWVudHMsIDEpKTsKICAgIH0gZmluYWxseSB7CiAgICAgIG91dHN0YW5kaW5nUmVxdWVzdENvdW50LS07CiAgICAgIGlmIChvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCA9PT0gMCkgewogICAgICAgIHdoaWxlKG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcy5sZW5ndGgpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcy5wb3AoKSgpOwogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAkbG9nLmVycm9yKGUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KCiAgLyoqCiAgICogQHByaXZhdGUKICAgKiBOb3RlOiB0aGlzIG1ldGhvZCBpcyB1c2VkIG9ubHkgYnkgc2NlbmFyaW8gcnVubmVyCiAgICogVE9ETyh2b2p0YSk6IHByZWZpeCB0aGlzIG1ldGhvZCB3aXRoICQkID8KICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGNhbGxiYWNrIEZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiBubyBvdXRzdGFuZGluZyByZXF1ZXN0CiAgICovCiAgc2VsZi5ub3RpZnlXaGVuTm9PdXRzdGFuZGluZ1JlcXVlc3RzID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgIC8vIGZvcmNlIGJyb3dzZXIgdG8gZXhlY3V0ZSBhbGwgcG9sbEZucyAtIHRoaXMgaXMgbmVlZGVkIHNvIHRoYXQgY29va2llcyBhbmQgb3RoZXIgcG9sbGVycyBmaXJlCiAgICAvLyBhdCBzb21lIGRldGVybWluaXN0aWMgdGltZSBpbiByZXNwZWN0IHRvIHRoZSB0ZXN0IHJ1bm5lcidzIGFjdGlvbnMuIExlYXZpbmcgdGhpbmdzIHVwIHRvIHRoZQogICAgLy8gcmVndWxhciBwb2xsZXIgd291bGQgcmVzdWx0IGluIGZsYWt5IHRlc3RzLgogICAgZm9yRWFjaChwb2xsRm5zLCBmdW5jdGlvbihwb2xsRm4peyBwb2xsRm4oKTsgfSk7CgogICAgaWYgKG91dHN0YW5kaW5nUmVxdWVzdENvdW50ID09PSAwKSB7CiAgICAgIGNhbGxiYWNrKCk7CiAgICB9IGVsc2UgewogICAgICBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MucHVzaChjYWxsYmFjayk7CiAgICB9CiAgfTsKCiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAvLyBQb2xsIFdhdGNoZXIgQVBJCiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICB2YXIgcG9sbEZucyA9IFtdLAogICAgICBwb2xsVGltZW91dDsKCiAgLyoqCiAgICogQG5hbWUgJGJyb3dzZXIjYWRkUG9sbEZuCiAgICoKICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGZuIFBvbGwgZnVuY3Rpb24gdG8gYWRkCiAgICoKICAgKiBAZGVzY3JpcHRpb24KICAgKiBBZGRzIGEgZnVuY3Rpb24gdG8gdGhlIGxpc3Qgb2YgZnVuY3Rpb25zIHRoYXQgcG9sbGVyIHBlcmlvZGljYWxseSBleGVjdXRlcywKICAgKiBhbmQgc3RhcnRzIHBvbGxpbmcgaWYgbm90IHN0YXJ0ZWQgeWV0LgogICAqCiAgICogQHJldHVybnMge2Z1bmN0aW9uKCl9IHRoZSBhZGRlZCBmdW5jdGlvbgogICAqLwogIHNlbGYuYWRkUG9sbEZuID0gZnVuY3Rpb24oZm4pIHsKICAgIGlmIChpc1VuZGVmaW5lZChwb2xsVGltZW91dCkpIHN0YXJ0UG9sbGVyKDEwMCwgc2V0VGltZW91dCk7CiAgICBwb2xsRm5zLnB1c2goZm4pOwogICAgcmV0dXJuIGZuOwogIH07CgogIC8qKgogICAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlcnZhbCBIb3cgb2Z0ZW4gc2hvdWxkIGJyb3dzZXIgY2FsbCBwb2xsIGZ1bmN0aW9ucyAobXMpCiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBzZXRUaW1lb3V0IFJlZmVyZW5jZSB0byBhIHJlYWwgb3IgZmFrZSBgc2V0VGltZW91dGAgZnVuY3Rpb24uCiAgICoKICAgKiBAZGVzY3JpcHRpb24KICAgKiBDb25maWd1cmVzIHRoZSBwb2xsZXIgdG8gcnVuIGluIHRoZSBzcGVjaWZpZWQgaW50ZXJ2YWxzLCB1c2luZyB0aGUgc3BlY2lmaWVkCiAgICogc2V0VGltZW91dCBmbiBhbmQga2lja3MgaXQgb2ZmLgogICAqLwogIGZ1bmN0aW9uIHN0YXJ0UG9sbGVyKGludGVydmFsLCBzZXRUaW1lb3V0KSB7CiAgICAoZnVuY3Rpb24gY2hlY2soKSB7CiAgICAgIGZvckVhY2gocG9sbEZucywgZnVuY3Rpb24ocG9sbEZuKXsgcG9sbEZuKCk7IH0pOwogICAgICBwb2xsVGltZW91dCA9IHNldFRpbWVvdXQoY2hlY2ssIGludGVydmFsKTsKICAgIH0pKCk7CiAgfQoKICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogIC8vIFVSTCBBUEkKICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKICB2YXIgbGFzdEJyb3dzZXJVcmwgPSBsb2NhdGlvbi5ocmVmLAogICAgICBiYXNlRWxlbWVudCA9IGRvY3VtZW50LmZpbmQoJ2Jhc2UnKSwKICAgICAgbmV3TG9jYXRpb24gPSBudWxsOwoKICAvKioKICAgKiBAbmFtZSAkYnJvd3NlciN1cmwKICAgKgogICAqIEBkZXNjcmlwdGlvbgogICAqIEdFVFRFUjoKICAgKiBXaXRob3V0IGFueSBhcmd1bWVudCwgdGhpcyBtZXRob2QganVzdCByZXR1cm5zIGN1cnJlbnQgdmFsdWUgb2YgbG9jYXRpb24uaHJlZi4KICAgKgogICAqIFNFVFRFUjoKICAgKiBXaXRoIGF0IGxlYXN0IG9uZSBhcmd1bWVudCwgdGhpcyBtZXRob2Qgc2V0cyB1cmwgdG8gbmV3IHZhbHVlLgogICAqIElmIGh0bWw1IGhpc3RvcnkgYXBpIHN1cHBvcnRlZCwgcHVzaFN0YXRlL3JlcGxhY2VTdGF0ZSBpcyB1c2VkLCBvdGhlcndpc2UKICAgKiBsb2NhdGlvbi5ocmVmL2xvY2F0aW9uLnJlcGxhY2UgaXMgdXNlZC4KICAgKiBSZXR1cm5zIGl0cyBvd24gaW5zdGFuY2UgdG8gYWxsb3cgY2hhaW5pbmcKICAgKgogICAqIE5PVEU6IHRoaXMgYXBpIGlzIGludGVuZGVkIGZvciB1c2Ugb25seSBieSB0aGUgJGxvY2F0aW9uIHNlcnZpY2UuIFBsZWFzZSB1c2UgdGhlCiAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiAkbG9jYXRpb24gc2VydmljZX0gdG8gY2hhbmdlIHVybC4KICAgKgogICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgTmV3IHVybCAod2hlbiB1c2VkIGFzIHNldHRlcikKICAgKiBAcGFyYW0ge2Jvb2xlYW49fSByZXBsYWNlIFNob3VsZCBuZXcgdXJsIHJlcGxhY2UgY3VycmVudCBoaXN0b3J5IHJlY29yZCA/CiAgICovCiAgc2VsZi51cmwgPSBmdW5jdGlvbih1cmwsIHJlcGxhY2UpIHsKICAgIC8vIEFuZHJvaWQgQnJvd3NlciBCRkNhY2hlIGNhdXNlcyBsb2NhdGlvbiwgaGlzdG9yeSByZWZlcmVuY2UgdG8gYmVjb21lIHN0YWxlLgogICAgaWYgKGxvY2F0aW9uICE9PSB3aW5kb3cubG9jYXRpb24pIGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uOwogICAgaWYgKGhpc3RvcnkgIT09IHdpbmRvdy5oaXN0b3J5KSBoaXN0b3J5ID0gd2luZG93Lmhpc3Rvcnk7CgogICAgLy8gc2V0dGVyCiAgICBpZiAodXJsKSB7CiAgICAgIGlmIChsYXN0QnJvd3NlclVybCA9PSB1cmwpIHJldHVybjsKICAgICAgbGFzdEJyb3dzZXJVcmwgPSB1cmw7CiAgICAgIGlmICgkc25pZmZlci5oaXN0b3J5KSB7CiAgICAgICAgaWYgKHJlcGxhY2UpIGhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsICcnLCB1cmwpOwogICAgICAgIGVsc2UgewogICAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgJycsIHVybCk7CiAgICAgICAgICAvLyBDcmF6eSBPcGVyYSBCdWc6IGh0dHA6Ly9teS5vcGVyYS5jb20vY29tbXVuaXR5L2ZvcnVtcy90b3BpYy5kbWw/aWQ9MTE4NTQ2MgogICAgICAgICAgYmFzZUVsZW1lbnQuYXR0cignaHJlZicsIGJhc2VFbGVtZW50LmF0dHIoJ2hyZWYnKSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIG5ld0xvY2F0aW9uID0gdXJsOwogICAgICAgIGlmIChyZXBsYWNlKSB7CiAgICAgICAgICBsb2NhdGlvbi5yZXBsYWNlKHVybCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSB1cmw7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBzZWxmOwogICAgLy8gZ2V0dGVyCiAgICB9IGVsc2UgewogICAgICAvLyAtIG5ld0xvY2F0aW9uIGlzIGEgd29ya2Fyb3VuZCBmb3IgYW4gSUU3LTkgaXNzdWUgd2l0aCBsb2NhdGlvbi5yZXBsYWNlIGFuZCBsb2NhdGlvbi5ocmVmCiAgICAgIC8vICAgbWV0aG9kcyBub3QgdXBkYXRpbmcgbG9jYXRpb24uaHJlZiBzeW5jaHJvbm91c2x5LgogICAgICAvLyAtIHRoZSByZXBsYWNlbWVudCBpcyBhIHdvcmthcm91bmQgZm9yIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTQwNzE3MgogICAgICByZXR1cm4gbmV3TG9jYXRpb24gfHwgbG9jYXRpb24uaHJlZi5yZXBsYWNlKC8lMjcvZywiJyIpOwogICAgfQogIH07CgogIHZhciB1cmxDaGFuZ2VMaXN0ZW5lcnMgPSBbXSwKICAgICAgdXJsQ2hhbmdlSW5pdCA9IGZhbHNlOwoKICBmdW5jdGlvbiBmaXJlVXJsQ2hhbmdlKCkgewogICAgbmV3TG9jYXRpb24gPSBudWxsOwogICAgaWYgKGxhc3RCcm93c2VyVXJsID09IHNlbGYudXJsKCkpIHJldHVybjsKCiAgICBsYXN0QnJvd3NlclVybCA9IHNlbGYudXJsKCk7CiAgICBmb3JFYWNoKHVybENoYW5nZUxpc3RlbmVycywgZnVuY3Rpb24obGlzdGVuZXIpIHsKICAgICAgbGlzdGVuZXIoc2VsZi51cmwoKSk7CiAgICB9KTsKICB9CgogIC8qKgogICAqIEBuYW1lICRicm93c2VyI29uVXJsQ2hhbmdlCiAgICoKICAgKiBAZGVzY3JpcHRpb24KICAgKiBSZWdpc3RlciBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkLCB3aGVuIHVybCBjaGFuZ2VzLgogICAqCiAgICogSXQncyBvbmx5IGNhbGxlZCB3aGVuIHRoZSB1cmwgaXMgY2hhbmdlZCBmcm9tIG91dHNpZGUgb2YgYW5ndWxhcjoKICAgKiAtIHVzZXIgdHlwZXMgZGlmZmVyZW50IHVybCBpbnRvIGFkZHJlc3MgYmFyCiAgICogLSB1c2VyIGNsaWNrcyBvbiBoaXN0b3J5IChmb3J3YXJkL2JhY2spIGJ1dHRvbgogICAqIC0gdXNlciBjbGlja3Mgb24gYSBsaW5rCiAgICoKICAgKiBJdCdzIG5vdCBjYWxsZWQgd2hlbiB1cmwgaXMgY2hhbmdlZCBieSAkYnJvd3Nlci51cmwoKSBtZXRob2QKICAgKgogICAqIFRoZSBsaXN0ZW5lciBnZXRzIGNhbGxlZCB3aXRoIG5ldyB1cmwgYXMgcGFyYW1ldGVyLgogICAqCiAgICogTk9URTogdGhpcyBhcGkgaXMgaW50ZW5kZWQgZm9yIHVzZSBvbmx5IGJ5IHRoZSAkbG9jYXRpb24gc2VydmljZS4gUGxlYXNlIHVzZSB0aGUKICAgKiB7QGxpbmsgbmcuJGxvY2F0aW9uICRsb2NhdGlvbiBzZXJ2aWNlfSB0byBtb25pdG9yIHVybCBjaGFuZ2VzIGluIGFuZ3VsYXIgYXBwcy4KICAgKgogICAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RyaW5nKX0gbGlzdGVuZXIgTGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gdXJsIGNoYW5nZXMuCiAgICogQHJldHVybiB7ZnVuY3Rpb24oc3RyaW5nKX0gUmV0dXJucyB0aGUgcmVnaXN0ZXJlZCBsaXN0ZW5lciBmbiAtIGhhbmR5IGlmIHRoZSBmbiBpcyBhbm9ueW1vdXMuCiAgICovCiAgc2VsZi5vblVybENoYW5nZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7CiAgICAvLyBUT0RPKHZvanRhKTogcmVmYWN0b3IgdG8gdXNlIG5vZGUncyBzeW50YXggZm9yIGV2ZW50cwogICAgaWYgKCF1cmxDaGFuZ2VJbml0KSB7CiAgICAgIC8vIFdlIGxpc3RlbiBvbiBib3RoIChoYXNoY2hhbmdlL3BvcHN0YXRlKSB3aGVuIGF2YWlsYWJsZSwgYXMgc29tZSBicm93c2VycyAoZS5nLiBPcGVyYSkKICAgICAgLy8gZG9uJ3QgZmlyZSBwb3BzdGF0ZSB3aGVuIHVzZXIgY2hhbmdlIHRoZSBhZGRyZXNzIGJhciBhbmQgZG9uJ3QgZmlyZSBoYXNoY2hhbmdlIHdoZW4gdXJsCiAgICAgIC8vIGNoYW5nZWQgYnkgcHVzaC9yZXBsYWNlU3RhdGUKCiAgICAgIC8vIGh0bWw1IGhpc3RvcnkgYXBpIC0gcG9wc3RhdGUgZXZlbnQKICAgICAgaWYgKCRzbmlmZmVyLmhpc3RvcnkpIGpxTGl0ZSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGZpcmVVcmxDaGFuZ2UpOwogICAgICAvLyBoYXNoY2hhbmdlIGV2ZW50CiAgICAgIGlmICgkc25pZmZlci5oYXNoY2hhbmdlKSBqcUxpdGUod2luZG93KS5vbignaGFzaGNoYW5nZScsIGZpcmVVcmxDaGFuZ2UpOwogICAgICAvLyBwb2xsaW5nCiAgICAgIGVsc2Ugc2VsZi5hZGRQb2xsRm4oZmlyZVVybENoYW5nZSk7CgogICAgICB1cmxDaGFuZ2VJbml0ID0gdHJ1ZTsKICAgIH0KCiAgICB1cmxDaGFuZ2VMaXN0ZW5lcnMucHVzaChjYWxsYmFjayk7CiAgICByZXR1cm4gY2FsbGJhY2s7CiAgfTsKCiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAvLyBNaXNjIEFQSQogIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogIC8qKgogICAqIEBuYW1lICRicm93c2VyI2Jhc2VIcmVmCiAgICoKICAgKiBAZGVzY3JpcHRpb24KICAgKiBSZXR1cm5zIGN1cnJlbnQgPGJhc2UgaHJlZj4KICAgKiAoYWx3YXlzIHJlbGF0aXZlIC0gd2l0aG91dCBkb21haW4pCiAgICoKICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY3VycmVudCBiYXNlIGhyZWYKICAgKi8KICBzZWxmLmJhc2VIcmVmID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgaHJlZiA9IGJhc2VFbGVtZW50LmF0dHIoJ2hyZWYnKTsKICAgIHJldHVybiBocmVmID8gaHJlZi5yZXBsYWNlKC9eKGh0dHBzP1w6KT9cL1wvW15cL10qLywgJycpIDogJyc7CiAgfTsKCiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAvLyBDb29raWVzIEFQSQogIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgdmFyIGxhc3RDb29raWVzID0ge307CiAgdmFyIGxhc3RDb29raWVTdHJpbmcgPSAnJzsKICB2YXIgY29va2llUGF0aCA9IHNlbGYuYmFzZUhyZWYoKTsKCiAgLyoqCiAgICogQG5hbWUgJGJyb3dzZXIjY29va2llcwogICAqCiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIENvb2tpZSBuYW1lCiAgICogQHBhcmFtIHtzdHJpbmc9fSB2YWx1ZSBDb29raWUgdmFsdWUKICAgKgogICAqIEBkZXNjcmlwdGlvbgogICAqIFRoZSBjb29raWVzIG1ldGhvZCBwcm92aWRlcyBhICdwcml2YXRlJyBsb3cgbGV2ZWwgYWNjZXNzIHRvIGJyb3dzZXIgY29va2llcy4KICAgKiBJdCBpcyBub3QgbWVhbnQgdG8gYmUgdXNlZCBkaXJlY3RseSwgdXNlIHRoZSAkY29va2llIHNlcnZpY2UgaW5zdGVhZC4KICAgKgogICAqIFRoZSByZXR1cm4gdmFsdWVzIHZhcnkgZGVwZW5kaW5nIG9uIHRoZSBhcmd1bWVudHMgdGhhdCB0aGUgbWV0aG9kIHdhcyBjYWxsZWQgd2l0aCBhcyBmb2xsb3dzOgogICAqCiAgICogLSBjb29raWVzKCkgLT4gaGFzaCBvZiBhbGwgY29va2llcywgdGhpcyBpcyBOT1QgYSBjb3B5IG9mIHRoZSBpbnRlcm5hbCBzdGF0ZSwgc28gZG8gbm90IG1vZGlmeQogICAqICAgaXQKICAgKiAtIGNvb2tpZXMobmFtZSwgdmFsdWUpIC0+IHNldCBuYW1lIHRvIHZhbHVlLCBpZiB2YWx1ZSBpcyB1bmRlZmluZWQgZGVsZXRlIHRoZSBjb29raWUKICAgKiAtIGNvb2tpZXMobmFtZSkgLT4gdGhlIHNhbWUgYXMgKG5hbWUsIHVuZGVmaW5lZCkgPT0gREVMRVRFUyAobm8gb25lIGNhbGxzIGl0IHJpZ2h0IG5vdyB0aGF0CiAgICogICB3YXkpCiAgICoKICAgKiBAcmV0dXJucyB7T2JqZWN0fSBIYXNoIG9mIGFsbCBjb29raWVzIChpZiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVyKQogICAqLwogIHNlbGYuY29va2llcyA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7CiAgICAvKiBnbG9iYWwgZXNjYXBlOiBmYWxzZSwgdW5lc2NhcGU6IGZhbHNlICovCiAgICB2YXIgY29va2llTGVuZ3RoLCBjb29raWVBcnJheSwgY29va2llLCBpLCBpbmRleDsKCiAgICBpZiAobmFtZSkgewogICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJhd0RvY3VtZW50LmNvb2tpZSA9IGVzY2FwZShuYW1lKSArICI9O3BhdGg9IiArIGNvb2tpZVBhdGggKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICI7ZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVCI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkgewogICAgICAgICAgY29va2llTGVuZ3RoID0gKHJhd0RvY3VtZW50LmNvb2tpZSA9IGVzY2FwZShuYW1lKSArICc9JyArIGVzY2FwZSh2YWx1ZSkgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc7cGF0aD0nICsgY29va2llUGF0aCkubGVuZ3RoICsgMTsKCiAgICAgICAgICAvLyBwZXIgaHR0cDovL3d3dy5pZXRmLm9yZy9yZmMvcmZjMjEwOS50eHQgYnJvd3NlciBtdXN0IGFsbG93IGF0IG1pbmltdW06CiAgICAgICAgICAvLyAtIDMwMCBjb29raWVzCiAgICAgICAgICAvLyAtIDIwIGNvb2tpZXMgcGVyIHVuaXF1ZSBkb21haW4KICAgICAgICAgIC8vIC0gNDA5NiBieXRlcyBwZXIgY29va2llCiAgICAgICAgICBpZiAoY29va2llTGVuZ3RoID4gNDA5NikgewogICAgICAgICAgICAkbG9nLndhcm4oIkNvb2tpZSAnIisgbmFtZSArCiAgICAgICAgICAgICAgIicgcG9zc2libHkgbm90IHNldCBvciBvdmVyZmxvd2VkIGJlY2F1c2UgaXQgd2FzIHRvbyBsYXJnZSAoIisKICAgICAgICAgICAgICBjb29raWVMZW5ndGggKyAiID4gNDA5NiBieXRlcykhIik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICBpZiAocmF3RG9jdW1lbnQuY29va2llICE9PSBsYXN0Q29va2llU3RyaW5nKSB7CiAgICAgICAgbGFzdENvb2tpZVN0cmluZyA9IHJhd0RvY3VtZW50LmNvb2tpZTsKICAgICAgICBjb29raWVBcnJheSA9IGxhc3RDb29raWVTdHJpbmcuc3BsaXQoIjsgIik7CiAgICAgICAgbGFzdENvb2tpZXMgPSB7fTsKCiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvb2tpZUFycmF5Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBjb29raWUgPSBjb29raWVBcnJheVtpXTsKICAgICAgICAgIGluZGV4ID0gY29va2llLmluZGV4T2YoJz0nKTsKICAgICAgICAgIGlmIChpbmRleCA+IDApIHsgLy9pZ25vcmUgbmFtZWxlc3MgY29va2llcwogICAgICAgICAgICBuYW1lID0gdW5lc2NhcGUoY29va2llLnN1YnN0cmluZygwLCBpbmRleCkpOwogICAgICAgICAgICAvLyB0aGUgZmlyc3QgdmFsdWUgdGhhdCBpcyBzZWVuIGZvciBhIGNvb2tpZSBpcyB0aGUgbW9zdAogICAgICAgICAgICAvLyBzcGVjaWZpYyBvbmUuICB2YWx1ZXMgZm9yIHRoZSBzYW1lIGNvb2tpZSBuYW1lIHRoYXQKICAgICAgICAgICAgLy8gZm9sbG93IGFyZSBmb3IgbGVzcyBzcGVjaWZpYyBwYXRocy4KICAgICAgICAgICAgaWYgKGxhc3RDb29raWVzW25hbWVdID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICBsYXN0Q29va2llc1tuYW1lXSA9IHVuZXNjYXBlKGNvb2tpZS5zdWJzdHJpbmcoaW5kZXggKyAxKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGxhc3RDb29raWVzOwogICAgfQogIH07CgoKICAvKioKICAgKiBAbmFtZSAkYnJvd3NlciNkZWZlcgogICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gZm4gQSBmdW5jdGlvbiwgd2hvJ3MgZXhlY3V0aW9uIHNob3VsZCBiZSBkZWZlcnJlZC4KICAgKiBAcGFyYW0ge251bWJlcj19IFtkZWxheT0wXSBvZiBtaWxsaXNlY29uZHMgdG8gZGVmZXIgdGhlIGZ1bmN0aW9uIGV4ZWN1dGlvbi4KICAgKiBAcmV0dXJucyB7Kn0gRGVmZXJJZCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgdGFzayB2aWEgYCRicm93c2VyLmRlZmVyLmNhbmNlbCgpYC4KICAgKgogICAqIEBkZXNjcmlwdGlvbgogICAqIEV4ZWN1dGVzIGEgZm4gYXN5bmNocm9ub3VzbHkgdmlhIGBzZXRUaW1lb3V0KGZuLCBkZWxheSlgLgogICAqCiAgICogVW5saWtlIHdoZW4gY2FsbGluZyBgc2V0VGltZW91dGAgZGlyZWN0bHksIGluIHRlc3QgdGhpcyBmdW5jdGlvbiBpcyBtb2NrZWQgYW5kIGluc3RlYWQgb2YgdXNpbmcKICAgKiBgc2V0VGltZW91dGAgaW4gdGVzdHMsIHRoZSBmbnMgYXJlIHF1ZXVlZCBpbiBhbiBhcnJheSwgd2hpY2ggY2FuIGJlIHByb2dyYW1tYXRpY2FsbHkgZmx1c2hlZAogICAqIHZpYSBgJGJyb3dzZXIuZGVmZXIuZmx1c2goKWAuCiAgICoKICAgKi8KICBzZWxmLmRlZmVyID0gZnVuY3Rpb24oZm4sIGRlbGF5KSB7CiAgICB2YXIgdGltZW91dElkOwogICAgb3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQrKzsKICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgIGRlbGV0ZSBwZW5kaW5nRGVmZXJJZHNbdGltZW91dElkXTsKICAgICAgY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QoZm4pOwogICAgfSwgZGVsYXkgfHwgMCk7CiAgICBwZW5kaW5nRGVmZXJJZHNbdGltZW91dElkXSA9IHRydWU7CiAgICByZXR1cm4gdGltZW91dElkOwogIH07CgoKICAvKioKICAgKiBAbmFtZSAkYnJvd3NlciNkZWZlci5jYW5jZWwKICAgKgogICAqIEBkZXNjcmlwdGlvbgogICAqIENhbmNlbHMgYSBkZWZlcnJlZCB0YXNrIGlkZW50aWZpZWQgd2l0aCBgZGVmZXJJZGAuCiAgICoKICAgKiBAcGFyYW0geyp9IGRlZmVySWQgVG9rZW4gcmV0dXJuZWQgYnkgdGhlIGAkYnJvd3Nlci5kZWZlcmAgZnVuY3Rpb24uCiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB0YXNrIGhhc24ndCBleGVjdXRlZCB5ZXQgYW5kIHdhcyBzdWNjZXNzZnVsbHkKICAgKiAgICAgICAgICAgICAgICAgICAgY2FuY2VsZWQuCiAgICovCiAgc2VsZi5kZWZlci5jYW5jZWwgPSBmdW5jdGlvbihkZWZlcklkKSB7CiAgICBpZiAocGVuZGluZ0RlZmVySWRzW2RlZmVySWRdKSB7CiAgICAgIGRlbGV0ZSBwZW5kaW5nRGVmZXJJZHNbZGVmZXJJZF07CiAgICAgIGNsZWFyVGltZW91dChkZWZlcklkKTsKICAgICAgY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3Qobm9vcCk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgcmV0dXJuIGZhbHNlOwogIH07Cgp9CgpmdW5jdGlvbiAkQnJvd3NlclByb3ZpZGVyKCl7CiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgJyRsb2cnLCAnJHNuaWZmZXInLCAnJGRvY3VtZW50JywKICAgICAgZnVuY3Rpb24oICR3aW5kb3csICAgJGxvZywgICAkc25pZmZlciwgICAkZG9jdW1lbnQpewogICAgICAgIHJldHVybiBuZXcgQnJvd3Nlcigkd2luZG93LCAkZG9jdW1lbnQsICRsb2csICRzbmlmZmVyKTsKICAgICAgfV07Cn0KCi8qKgogKiBAbmdkb2Mgc2VydmljZQogKiBAbmFtZSAkY2FjaGVGYWN0b3J5CiAqCiAqIEBkZXNjcmlwdGlvbgogKiBGYWN0b3J5IHRoYXQgY29uc3RydWN0cyB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0gb2JqZWN0cyBhbmQgZ2l2ZXMgYWNjZXNzIHRvCiAqIHRoZW0uCiAqCiAqIGBgYGpzCiAqCiAqICB2YXIgY2FjaGUgPSAkY2FjaGVGYWN0b3J5KCdjYWNoZUlkJyk7CiAqICBleHBlY3QoJGNhY2hlRmFjdG9yeS5nZXQoJ2NhY2hlSWQnKSkudG9CZShjYWNoZSk7CiAqICBleHBlY3QoJGNhY2hlRmFjdG9yeS5nZXQoJ25vU3VjaENhY2hlSWQnKSkubm90LnRvQmVEZWZpbmVkKCk7CiAqCiAqICBjYWNoZS5wdXQoImtleSIsICJ2YWx1ZSIpOwogKiAgY2FjaGUucHV0KCJhbm90aGVyIGtleSIsICJhbm90aGVyIHZhbHVlIik7CiAqCiAqICAvLyBXZSd2ZSBzcGVjaWZpZWQgbm8gb3B0aW9ucyBvbiBjcmVhdGlvbgogKiAgZXhwZWN0KGNhY2hlLmluZm8oKSkudG9FcXVhbCh7aWQ6ICdjYWNoZUlkJywgc2l6ZTogMn0pOwogKgogKiBgYGAKICoKICoKICogQHBhcmFtIHtzdHJpbmd9IGNhY2hlSWQgTmFtZSBvciBpZCBvZiB0aGUgbmV3bHkgY3JlYXRlZCBjYWNoZS4KICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0IHRoYXQgc3BlY2lmaWVzIHRoZSBjYWNoZSBiZWhhdmlvci4gUHJvcGVydGllczoKICoKICogICAtIGB7bnVtYmVyPX1gIGBjYXBhY2l0eWAg4oCUIHR1cm5zIHRoZSBjYWNoZSBpbnRvIExSVSBjYWNoZS4KICoKICogQHJldHVybnMge29iamVjdH0gTmV3bHkgY3JlYXRlZCBjYWNoZSBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHNldCBvZiBtZXRob2RzOgogKgogKiAtIGB7b2JqZWN0fWAgYGluZm8oKWAg4oCUIFJldHVybnMgaWQsIHNpemUsIGFuZCBvcHRpb25zIG9mIGNhY2hlLgogKiAtIGB7eyp9fWAgYHB1dCh7c3RyaW5nfSBrZXksIHsqfSB2YWx1ZSlgIOKAlCBQdXRzIGEgbmV3IGtleS12YWx1ZSBwYWlyIGludG8gdGhlIGNhY2hlIGFuZCByZXR1cm5zCiAqICAgaXQuCiAqIC0gYHt7Kn19YCBgZ2V0KHtzdHJpbmd9IGtleSlgIOKAlCBSZXR1cm5zIGNhY2hlZCB2YWx1ZSBmb3IgYGtleWAgb3IgdW5kZWZpbmVkIGZvciBjYWNoZSBtaXNzLgogKiAtIGB7dm9pZH1gIGByZW1vdmUoe3N0cmluZ30ga2V5KWAg4oCUIFJlbW92ZXMgYSBrZXktdmFsdWUgcGFpciBmcm9tIHRoZSBjYWNoZS4KICogLSBge3ZvaWR9YCBgcmVtb3ZlQWxsKClgIOKAlCBSZW1vdmVzIGFsbCBjYWNoZWQgdmFsdWVzLgogKiAtIGB7dm9pZH1gIGBkZXN0cm95KClgIOKAlCBSZW1vdmVzIHJlZmVyZW5jZXMgdG8gdGhpcyBjYWNoZSBmcm9tICRjYWNoZUZhY3RvcnkuCiAqCiAqIEBleGFtcGxlCiAgIDxleGFtcGxlIG1vZHVsZT0iY2FjaGVFeGFtcGxlQXBwIj4KICAgICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgICAgIDxkaXYgbmctY29udHJvbGxlcj0iQ2FjaGVDb250cm9sbGVyIj4KICAgICAgICAgPGlucHV0IG5nLW1vZGVsPSJuZXdDYWNoZUtleSIgcGxhY2Vob2xkZXI9IktleSI+CiAgICAgICAgIDxpbnB1dCBuZy1tb2RlbD0ibmV3Q2FjaGVWYWx1ZSIgcGxhY2Vob2xkZXI9IlZhbHVlIj4KICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz0icHV0KG5ld0NhY2hlS2V5LCBuZXdDYWNoZVZhbHVlKSI+Q2FjaGU8L2J1dHRvbj4KCiAgICAgICAgIDxwIG5nLWlmPSJrZXlzLmxlbmd0aCI+Q2FjaGVkIFZhbHVlczwvcD4KICAgICAgICAgPGRpdiBuZy1yZXBlYXQ9ImtleSBpbiBrZXlzIj4KICAgICAgICAgICA8c3BhbiBuZy1iaW5kPSJrZXkiPjwvc3Bhbj4KICAgICAgICAgICA8c3Bhbj46IDwvc3Bhbj4KICAgICAgICAgICA8YiBuZy1iaW5kPSJjYWNoZS5nZXQoa2V5KSI+PC9iPgogICAgICAgICA8L2Rpdj4KCiAgICAgICAgIDxwPkNhY2hlIEluZm88L3A+CiAgICAgICAgIDxkaXYgbmctcmVwZWF0PSIoa2V5LCB2YWx1ZSkgaW4gY2FjaGUuaW5mbygpIj4KICAgICAgICAgICA8c3BhbiBuZy1iaW5kPSJrZXkiPjwvc3Bhbj4KICAgICAgICAgICA8c3Bhbj46IDwvc3Bhbj4KICAgICAgICAgICA8YiBuZy1iaW5kPSJ2YWx1ZSI+PC9iPgogICAgICAgICA8L2Rpdj4KICAgICAgIDwvZGl2PgogICAgIDwvZmlsZT4KICAgICA8ZmlsZSBuYW1lPSJzY3JpcHQuanMiPgogICAgICAgYW5ndWxhci5tb2R1bGUoJ2NhY2hlRXhhbXBsZUFwcCcsIFtdKS4KICAgICAgICAgY29udHJvbGxlcignQ2FjaGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGNhY2hlRmFjdG9yeScsIGZ1bmN0aW9uKCRzY29wZSwgJGNhY2hlRmFjdG9yeSkgewogICAgICAgICAgICRzY29wZS5rZXlzID0gW107CiAgICAgICAgICAgJHNjb3BlLmNhY2hlID0gJGNhY2hlRmFjdG9yeSgnY2FjaGVJZCcpOwogICAgICAgICAgICRzY29wZS5wdXQgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7CiAgICAgICAgICAgICAkc2NvcGUuY2FjaGUucHV0KGtleSwgdmFsdWUpOwogICAgICAgICAgICAgJHNjb3BlLmtleXMucHVzaChrZXkpOwogICAgICAgICAgIH07CiAgICAgICAgIH1dKTsKICAgICA8L2ZpbGU+CiAgICAgPGZpbGUgbmFtZT0ic3R5bGUuY3NzIj4KICAgICAgIHAgewogICAgICAgICBtYXJnaW46IDEwcHggMCAzcHg7CiAgICAgICB9CiAgICAgPC9maWxlPgogICA8L2V4YW1wbGU+CiAqLwpmdW5jdGlvbiAkQ2FjaGVGYWN0b3J5UHJvdmlkZXIoKSB7CgogIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGNhY2hlcyA9IHt9OwoKICAgIGZ1bmN0aW9uIGNhY2hlRmFjdG9yeShjYWNoZUlkLCBvcHRpb25zKSB7CiAgICAgIGlmIChjYWNoZUlkIGluIGNhY2hlcykgewogICAgICAgIHRocm93IG1pbkVycignJGNhY2hlRmFjdG9yeScpKCdpaWQnLCAiQ2FjaGVJZCAnezB9JyBpcyBhbHJlYWR5IHRha2VuISIsIGNhY2hlSWQpOwogICAgICB9CgogICAgICB2YXIgc2l6ZSA9IDAsCiAgICAgICAgICBzdGF0cyA9IGV4dGVuZCh7fSwgb3B0aW9ucywge2lkOiBjYWNoZUlkfSksCiAgICAgICAgICBkYXRhID0ge30sCiAgICAgICAgICBjYXBhY2l0eSA9IChvcHRpb25zICYmIG9wdGlvbnMuY2FwYWNpdHkpIHx8IE51bWJlci5NQVhfVkFMVUUsCiAgICAgICAgICBscnVIYXNoID0ge30sCiAgICAgICAgICBmcmVzaEVuZCA9IG51bGwsCiAgICAgICAgICBzdGFsZUVuZCA9IG51bGw7CgogICAgICAvKioKICAgICAgICogQG5nZG9jIHR5cGUKICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZQogICAgICAgKgogICAgICAgKiBAZGVzY3JpcHRpb24KICAgICAgICogQSBjYWNoZSBvYmplY3QgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgZGF0YSwgcHJpbWFyaWx5IHVzZWQgYnkKICAgICAgICoge0BsaW5rICRodHRwICRodHRwfSBhbmQgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6c2NyaXB0IHNjcmlwdH0gZGlyZWN0aXZlIHRvIGNhY2hlCiAgICAgICAqIHRlbXBsYXRlcyBhbmQgb3RoZXIgZGF0YS4KICAgICAgICoKICAgICAgICogYGBganMKICAgICAgICogIGFuZ3VsYXIubW9kdWxlKCdzdXBlckNhY2hlJykKICAgICAgICogICAgLmZhY3RvcnkoJ3N1cGVyQ2FjaGUnLCBbJyRjYWNoZUZhY3RvcnknLCBmdW5jdGlvbigkY2FjaGVGYWN0b3J5KSB7CiAgICAgICAqICAgICAgcmV0dXJuICRjYWNoZUZhY3RvcnkoJ3N1cGVyLWNhY2hlJyk7CiAgICAgICAqICAgIH1dKTsKICAgICAgICogYGBgCiAgICAgICAqCiAgICAgICAqIEV4YW1wbGUgdGVzdDoKICAgICAgICoKICAgICAgICogYGBganMKICAgICAgICogIGl0KCdzaG91bGQgYmVoYXZlIGxpa2UgYSBjYWNoZScsIGluamVjdChmdW5jdGlvbihzdXBlckNhY2hlKSB7CiAgICAgICAqICAgIHN1cGVyQ2FjaGUucHV0KCdrZXknLCAndmFsdWUnKTsKICAgICAgICogICAgc3VwZXJDYWNoZS5wdXQoJ2Fub3RoZXIga2V5JywgJ2Fub3RoZXIgdmFsdWUnKTsKICAgICAgICoKICAgICAgICogICAgZXhwZWN0KHN1cGVyQ2FjaGUuaW5mbygpKS50b0VxdWFsKHsKICAgICAgICogICAgICBpZDogJ3N1cGVyLWNhY2hlJywKICAgICAgICogICAgICBzaXplOiAyCiAgICAgICAqICAgIH0pOwogICAgICAgKgogICAgICAgKiAgICBzdXBlckNhY2hlLnJlbW92ZSgnYW5vdGhlciBrZXknKTsKICAgICAgICogICAgZXhwZWN0KHN1cGVyQ2FjaGUuZ2V0KCdhbm90aGVyIGtleScpKS50b0JlVW5kZWZpbmVkKCk7CiAgICAgICAqCiAgICAgICAqICAgIHN1cGVyQ2FjaGUucmVtb3ZlQWxsKCk7CiAgICAgICAqICAgIGV4cGVjdChzdXBlckNhY2hlLmluZm8oKSkudG9FcXVhbCh7CiAgICAgICAqICAgICAgaWQ6ICdzdXBlci1jYWNoZScsCiAgICAgICAqICAgICAgc2l6ZTogMAogICAgICAgKiAgICB9KTsKICAgICAgICogIH0pKTsKICAgICAgICogYGBgCiAgICAgICAqLwogICAgICByZXR1cm4gY2FjaGVzW2NhY2hlSWRdID0gewoKICAgICAgICAvKioKICAgICAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZSNwdXQKICAgICAgICAgKiBAa2luZCBmdW5jdGlvbgogICAgICAgICAqCiAgICAgICAgICogQGRlc2NyaXB0aW9uCiAgICAgICAgICogSW5zZXJ0cyBhIG5hbWVkIGVudHJ5IGludG8gdGhlIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfSBvYmplY3QgdG8gYmUKICAgICAgICAgKiByZXRyaWV2ZWQgbGF0ZXIsIGFuZCBpbmNyZW1lbnRpbmcgdGhlIHNpemUgb2YgdGhlIGNhY2hlIGlmIHRoZSBrZXkgd2FzIG5vdCBhbHJlYWR5CiAgICAgICAgICogcHJlc2VudCBpbiB0aGUgY2FjaGUuIElmIGJlaGF2aW5nIGxpa2UgYW4gTFJVIGNhY2hlLCBpdCB3aWxsIGFsc28gcmVtb3ZlIHN0YWxlCiAgICAgICAgICogZW50cmllcyBmcm9tIHRoZSBzZXQuCiAgICAgICAgICoKICAgICAgICAgKiBJdCB3aWxsIG5vdCBpbnNlcnQgdW5kZWZpbmVkIHZhbHVlcyBpbnRvIHRoZSBjYWNoZS4KICAgICAgICAgKgogICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdGhlIGtleSB1bmRlciB3aGljaCB0aGUgY2FjaGVkIGRhdGEgaXMgc3RvcmVkLgogICAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgdGhlIHZhbHVlIHRvIHN0b3JlIGFsb25nc2lkZSB0aGUga2V5LiBJZiBpdCBpcyB1bmRlZmluZWQsIHRoZSBrZXkKICAgICAgICAgKiAgICB3aWxsIG5vdCBiZSBzdG9yZWQuCiAgICAgICAgICogQHJldHVybnMgeyp9IHRoZSB2YWx1ZSBzdG9yZWQuCiAgICAgICAgICovCiAgICAgICAgcHV0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7CiAgICAgICAgICBpZiAoY2FwYWNpdHkgPCBOdW1iZXIuTUFYX1ZBTFVFKSB7CiAgICAgICAgICAgIHZhciBscnVFbnRyeSA9IGxydUhhc2hba2V5XSB8fCAobHJ1SGFzaFtrZXldID0ge2tleToga2V5fSk7CgogICAgICAgICAgICByZWZyZXNoKGxydUVudHJ5KTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm47CiAgICAgICAgICBpZiAoIShrZXkgaW4gZGF0YSkpIHNpemUrKzsKICAgICAgICAgIGRhdGFba2V5XSA9IHZhbHVlOwoKICAgICAgICAgIGlmIChzaXplID4gY2FwYWNpdHkpIHsKICAgICAgICAgICAgdGhpcy5yZW1vdmUoc3RhbGVFbmQua2V5KTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQG5nZG9jIG1ldGhvZAogICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjZ2V0CiAgICAgICAgICogQGtpbmQgZnVuY3Rpb24KICAgICAgICAgKgogICAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgICAqIFJldHJpZXZlcyBuYW1lZCBkYXRhIHN0b3JlZCBpbiB0aGUge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdC4KICAgICAgICAgKgogICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdGhlIGtleSBvZiB0aGUgZGF0YSB0byBiZSByZXRyaWV2ZWQKICAgICAgICAgKiBAcmV0dXJucyB7Kn0gdGhlIHZhbHVlIHN0b3JlZC4KICAgICAgICAgKi8KICAgICAgICBnZXQ6IGZ1bmN0aW9uKGtleSkgewogICAgICAgICAgaWYgKGNhcGFjaXR5IDwgTnVtYmVyLk1BWF9WQUxVRSkgewogICAgICAgICAgICB2YXIgbHJ1RW50cnkgPSBscnVIYXNoW2tleV07CgogICAgICAgICAgICBpZiAoIWxydUVudHJ5KSByZXR1cm47CgogICAgICAgICAgICByZWZyZXNoKGxydUVudHJ5KTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gZGF0YVtrZXldOwogICAgICAgIH0sCgoKICAgICAgICAvKioKICAgICAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZSNyZW1vdmUKICAgICAgICAgKiBAa2luZCBmdW5jdGlvbgogICAgICAgICAqCiAgICAgICAgICogQGRlc2NyaXB0aW9uCiAgICAgICAgICogUmVtb3ZlcyBhbiBlbnRyeSBmcm9tIHRoZSB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0gb2JqZWN0LgogICAgICAgICAqCiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSB0aGUga2V5IG9mIHRoZSBlbnRyeSB0byBiZSByZW1vdmVkCiAgICAgICAgICovCiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbihrZXkpIHsKICAgICAgICAgIGlmIChjYXBhY2l0eSA8IE51bWJlci5NQVhfVkFMVUUpIHsKICAgICAgICAgICAgdmFyIGxydUVudHJ5ID0gbHJ1SGFzaFtrZXldOwoKICAgICAgICAgICAgaWYgKCFscnVFbnRyeSkgcmV0dXJuOwoKICAgICAgICAgICAgaWYgKGxydUVudHJ5ID09IGZyZXNoRW5kKSBmcmVzaEVuZCA9IGxydUVudHJ5LnA7CiAgICAgICAgICAgIGlmIChscnVFbnRyeSA9PSBzdGFsZUVuZCkgc3RhbGVFbmQgPSBscnVFbnRyeS5uOwogICAgICAgICAgICBsaW5rKGxydUVudHJ5Lm4sbHJ1RW50cnkucCk7CgogICAgICAgICAgICBkZWxldGUgbHJ1SGFzaFtrZXldOwogICAgICAgICAgfQoKICAgICAgICAgIGRlbGV0ZSBkYXRhW2tleV07CiAgICAgICAgICBzaXplLS07CiAgICAgICAgfSwKCgogICAgICAgIC8qKgogICAgICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI3JlbW92ZUFsbAogICAgICAgICAqIEBraW5kIGZ1bmN0aW9uCiAgICAgICAgICoKICAgICAgICAgKiBAZGVzY3JpcHRpb24KICAgICAgICAgKiBDbGVhcnMgdGhlIGNhY2hlIG9iamVjdCBvZiBhbnkgZW50cmllcy4KICAgICAgICAgKi8KICAgICAgICByZW1vdmVBbGw6IGZ1bmN0aW9uKCkgewogICAgICAgICAgZGF0YSA9IHt9OwogICAgICAgICAgc2l6ZSA9IDA7CiAgICAgICAgICBscnVIYXNoID0ge307CiAgICAgICAgICBmcmVzaEVuZCA9IHN0YWxlRW5kID0gbnVsbDsKICAgICAgICB9LAoKCiAgICAgICAgLyoqCiAgICAgICAgICogQG5nZG9jIG1ldGhvZAogICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjZGVzdHJveQogICAgICAgICAqIEBraW5kIGZ1bmN0aW9uCiAgICAgICAgICoKICAgICAgICAgKiBAZGVzY3JpcHRpb24KICAgICAgICAgKiBEZXN0cm95cyB0aGUge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdCBlbnRpcmVseSwKICAgICAgICAgKiByZW1vdmluZyBpdCBmcm9tIHRoZSB7QGxpbmsgJGNhY2hlRmFjdG9yeSAkY2FjaGVGYWN0b3J5fSBzZXQuCiAgICAgICAgICovCiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7CiAgICAgICAgICBkYXRhID0gbnVsbDsKICAgICAgICAgIHN0YXRzID0gbnVsbDsKICAgICAgICAgIGxydUhhc2ggPSBudWxsOwogICAgICAgICAgZGVsZXRlIGNhY2hlc1tjYWNoZUlkXTsKICAgICAgICB9LAoKCiAgICAgICAgLyoqCiAgICAgICAgICogQG5nZG9jIG1ldGhvZAogICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjaW5mbwogICAgICAgICAqIEBraW5kIGZ1bmN0aW9uCiAgICAgICAgICoKICAgICAgICAgKiBAZGVzY3JpcHRpb24KICAgICAgICAgKiBSZXRyaWV2ZSBpbmZvcm1hdGlvbiByZWdhcmRpbmcgYSBwYXJ0aWN1bGFyIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfS4KICAgICAgICAgKgogICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczoKICAgICAgICAgKiAgIDx1bD4KICAgICAgICAgKiAgICAgPGxpPioqaWQqKjogdGhlIGlkIG9mIHRoZSBjYWNoZSBpbnN0YW5jZTwvbGk+CiAgICAgICAgICogICAgIDxsaT4qKnNpemUqKjogdGhlIG51bWJlciBvZiBlbnRyaWVzIGtlcHQgaW4gdGhlIGNhY2hlIGluc3RhbmNlPC9saT4KICAgICAgICAgKiAgICAgPGxpPioqLi4uKio6IGFueSBhZGRpdGlvbmFsIHByb3BlcnRpZXMgZnJvbSB0aGUgb3B0aW9ucyBvYmplY3Qgd2hlbiBjcmVhdGluZyB0aGUKICAgICAgICAgKiAgICAgICBjYWNoZS48L2xpPgogICAgICAgICAqICAgPC91bD4KICAgICAgICAgKi8KICAgICAgICBpbmZvOiBmdW5jdGlvbigpIHsKICAgICAgICAgIHJldHVybiBleHRlbmQoe30sIHN0YXRzLCB7c2l6ZTogc2l6ZX0pOwogICAgICAgIH0KICAgICAgfTsKCgogICAgICAvKioKICAgICAgICogbWFrZXMgdGhlIGBlbnRyeWAgdGhlIGZyZXNoRW5kIG9mIHRoZSBMUlUgbGlua2VkIGxpc3QKICAgICAgICovCiAgICAgIGZ1bmN0aW9uIHJlZnJlc2goZW50cnkpIHsKICAgICAgICBpZiAoZW50cnkgIT0gZnJlc2hFbmQpIHsKICAgICAgICAgIGlmICghc3RhbGVFbmQpIHsKICAgICAgICAgICAgc3RhbGVFbmQgPSBlbnRyeTsKICAgICAgICAgIH0gZWxzZSBpZiAoc3RhbGVFbmQgPT0gZW50cnkpIHsKICAgICAgICAgICAgc3RhbGVFbmQgPSBlbnRyeS5uOwogICAgICAgICAgfQoKICAgICAgICAgIGxpbmsoZW50cnkubiwgZW50cnkucCk7CiAgICAgICAgICBsaW5rKGVudHJ5LCBmcmVzaEVuZCk7CiAgICAgICAgICBmcmVzaEVuZCA9IGVudHJ5OwogICAgICAgICAgZnJlc2hFbmQubiA9IG51bGw7CiAgICAgICAgfQogICAgICB9CgoKICAgICAgLyoqCiAgICAgICAqIGJpZGlyZWN0aW9uYWxseSBsaW5rcyB0d28gZW50cmllcyBvZiB0aGUgTFJVIGxpbmtlZCBsaXN0CiAgICAgICAqLwogICAgICBmdW5jdGlvbiBsaW5rKG5leHRFbnRyeSwgcHJldkVudHJ5KSB7CiAgICAgICAgaWYgKG5leHRFbnRyeSAhPSBwcmV2RW50cnkpIHsKICAgICAgICAgIGlmIChuZXh0RW50cnkpIG5leHRFbnRyeS5wID0gcHJldkVudHJ5OyAvL3Agc3RhbmRzIGZvciBwcmV2aW91cywgJ3ByZXYnIGRpZG4ndCBtaW5pZnkKICAgICAgICAgIGlmIChwcmV2RW50cnkpIHByZXZFbnRyeS5uID0gbmV4dEVudHJ5OyAvL24gc3RhbmRzIGZvciBuZXh0LCAnbmV4dCcgZGlkbid0IG1pbmlmeQogICAgICAgIH0KICAgICAgfQogICAgfQoKCiAgLyoqCiAgICogQG5nZG9jIG1ldGhvZAogICAqIEBuYW1lICRjYWNoZUZhY3RvcnkjaW5mbwogICAqCiAgICogQGRlc2NyaXB0aW9uCiAgICogR2V0IGluZm9ybWF0aW9uIGFib3V0IGFsbCB0aGUgY2FjaGVzIHRoYXQgaGF2ZSBiZWVuIGNyZWF0ZWQKICAgKgogICAqIEByZXR1cm5zIHtPYmplY3R9IC0ga2V5LXZhbHVlIG1hcCBvZiBgY2FjaGVJZGAgdG8gdGhlIHJlc3VsdCBvZiBjYWxsaW5nIGBjYWNoZSNpbmZvYAogICAqLwogICAgY2FjaGVGYWN0b3J5LmluZm8gPSBmdW5jdGlvbigpIHsKICAgICAgdmFyIGluZm8gPSB7fTsKICAgICAgZm9yRWFjaChjYWNoZXMsIGZ1bmN0aW9uKGNhY2hlLCBjYWNoZUlkKSB7CiAgICAgICAgaW5mb1tjYWNoZUlkXSA9IGNhY2hlLmluZm8oKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBpbmZvOwogICAgfTsKCgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5I2dldAogICAqCiAgICogQGRlc2NyaXB0aW9uCiAgICogR2V0IGFjY2VzcyB0byBhIGNhY2hlIG9iamVjdCBieSB0aGUgYGNhY2hlSWRgIHVzZWQgd2hlbiBpdCB3YXMgY3JlYXRlZC4KICAgKgogICAqIEBwYXJhbSB7c3RyaW5nfSBjYWNoZUlkIE5hbWUgb3IgaWQgb2YgYSBjYWNoZSB0byBhY2Nlc3MuCiAgICogQHJldHVybnMge29iamVjdH0gQ2FjaGUgb2JqZWN0IGlkZW50aWZpZWQgYnkgdGhlIGNhY2hlSWQgb3IgdW5kZWZpbmVkIGlmIG5vIHN1Y2ggY2FjaGUuCiAgICovCiAgICBjYWNoZUZhY3RvcnkuZ2V0ID0gZnVuY3Rpb24oY2FjaGVJZCkgewogICAgICByZXR1cm4gY2FjaGVzW2NhY2hlSWRdOwogICAgfTsKCgogICAgcmV0dXJuIGNhY2hlRmFjdG9yeTsKICB9Owp9CgovKioKICogQG5nZG9jIHNlcnZpY2UKICogQG5hbWUgJHRlbXBsYXRlQ2FjaGUKICoKICogQGRlc2NyaXB0aW9uCiAqIFRoZSBmaXJzdCB0aW1lIGEgdGVtcGxhdGUgaXMgdXNlZCwgaXQgaXMgbG9hZGVkIGluIHRoZSB0ZW1wbGF0ZSBjYWNoZSBmb3IgcXVpY2sgcmV0cmlldmFsLiBZb3UKICogY2FuIGxvYWQgdGVtcGxhdGVzIGRpcmVjdGx5IGludG8gdGhlIGNhY2hlIGluIGEgYHNjcmlwdGAgdGFnLCBvciBieSBjb25zdW1pbmcgdGhlCiAqIGAkdGVtcGxhdGVDYWNoZWAgc2VydmljZSBkaXJlY3RseS4KICoKICogQWRkaW5nIHZpYSB0aGUgYHNjcmlwdGAgdGFnOgogKgogKiBgYGBodG1sCiAqICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L25nLXRlbXBsYXRlIiBpZD0idGVtcGxhdGVJZC5odG1sIj4KICogICAgIDxwPlRoaXMgaXMgdGhlIGNvbnRlbnQgb2YgdGhlIHRlbXBsYXRlPC9wPgogKiAgIDwvc2NyaXB0PgogKiBgYGAKICoKICogKipOb3RlOioqIHRoZSBgc2NyaXB0YCB0YWcgY29udGFpbmluZyB0aGUgdGVtcGxhdGUgZG9lcyBub3QgbmVlZCB0byBiZSBpbmNsdWRlZCBpbiB0aGUgYGhlYWRgIG9mCiAqIHRoZSBkb2N1bWVudCwgYnV0IGl0IG11c3QgYmUgYmVsb3cgdGhlIGBuZy1hcHBgIGRlZmluaXRpb24uCiAqCiAqIEFkZGluZyB2aWEgdGhlICR0ZW1wbGF0ZUNhY2hlIHNlcnZpY2U6CiAqCiAqIGBgYGpzCiAqIHZhciBteUFwcCA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKTsKICogbXlBcHAucnVuKGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7CiAqICAgJHRlbXBsYXRlQ2FjaGUucHV0KCd0ZW1wbGF0ZUlkLmh0bWwnLCAnVGhpcyBpcyB0aGUgY29udGVudCBvZiB0aGUgdGVtcGxhdGUnKTsKICogfSk7CiAqIGBgYAogKgogKiBUbyByZXRyaWV2ZSB0aGUgdGVtcGxhdGUgbGF0ZXIsIHNpbXBseSB1c2UgaXQgaW4geW91ciBIVE1MOgogKiBgYGBodG1sCiAqIDxkaXYgbmctaW5jbHVkZT0iICd0ZW1wbGF0ZUlkLmh0bWwnICI+PC9kaXY+CiAqIGBgYAogKgogKiBvciBnZXQgaXQgdmlhIEphdmFzY3JpcHQ6CiAqIGBgYGpzCiAqICR0ZW1wbGF0ZUNhY2hlLmdldCgndGVtcGxhdGVJZC5odG1sJykKICogYGBgCiAqCiAqIFNlZSB7QGxpbmsgbmcuJGNhY2hlRmFjdG9yeSAkY2FjaGVGYWN0b3J5fS4KICoKICovCmZ1bmN0aW9uICRUZW1wbGF0ZUNhY2hlUHJvdmlkZXIoKSB7CiAgdGhpcy4kZ2V0ID0gWyckY2FjaGVGYWN0b3J5JywgZnVuY3Rpb24oJGNhY2hlRmFjdG9yeSkgewogICAgcmV0dXJuICRjYWNoZUZhY3RvcnkoJ3RlbXBsYXRlcycpOwogIH1dOwp9CgovKiAhIFZBUklBQkxFL0ZVTkNUSU9OIE5BTUlORyBDT05WRU5USU9OUyBUSEFUIEFQUExZIFRPIFRISVMgRklMRSEKICoKICogRE9NLXJlbGF0ZWQgdmFyaWFibGVzOgogKgogKiAtICJub2RlIiAtIERPTSBOb2RlCiAqIC0gImVsZW1lbnQiIC0gRE9NIEVsZW1lbnQgb3IgTm9kZQogKiAtICIkbm9kZSIgb3IgIiRlbGVtZW50IiAtIGpxTGl0ZS13cmFwcGVkIG5vZGUgb3IgZWxlbWVudAogKgogKgogKiBDb21waWxlciByZWxhdGVkIHN0dWZmOgogKgogKiAtICJsaW5rRm4iIC0gbGlua2luZyBmbiBvZiBhIHNpbmdsZSBkaXJlY3RpdmUKICogLSAibm9kZUxpbmtGbiIgLSBmdW5jdGlvbiB0aGF0IGFnZ3JlZ2F0ZXMgYWxsIGxpbmtpbmcgZm5zIGZvciBhIHBhcnRpY3VsYXIgbm9kZQogKiAtICJjaGlsZExpbmtGbiIgLSAgZnVuY3Rpb24gdGhhdCBhZ2dyZWdhdGVzIGFsbCBsaW5raW5nIGZucyBmb3IgY2hpbGQgbm9kZXMgb2YgYSBwYXJ0aWN1bGFyIG5vZGUKICogLSAiY29tcG9zaXRlTGlua0ZuIiAtIGZ1bmN0aW9uIHRoYXQgYWdncmVnYXRlcyBhbGwgbGlua2luZyBmbnMgZm9yIGEgY29tcGlsYXRpb24gcm9vdCAobm9kZUxpc3QpCiAqLwoKCi8qKgogKiBAbmdkb2Mgc2VydmljZQogKiBAbmFtZSAkY29tcGlsZQogKiBAa2luZCBmdW5jdGlvbgogKgogKiBAZGVzY3JpcHRpb24KICogQ29tcGlsZXMgYW4gSFRNTCBzdHJpbmcgb3IgRE9NIGludG8gYSB0ZW1wbGF0ZSBhbmQgcHJvZHVjZXMgYSB0ZW1wbGF0ZSBmdW5jdGlvbiwgd2hpY2gKICogY2FuIHRoZW4gYmUgdXNlZCB0byBsaW5rIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIGBzY29wZWB9IGFuZCB0aGUgdGVtcGxhdGUgdG9nZXRoZXIuCiAqCiAqIFRoZSBjb21waWxhdGlvbiBpcyBhIHByb2Nlc3Mgb2Ygd2Fsa2luZyB0aGUgRE9NIHRyZWUgYW5kIG1hdGNoaW5nIERPTSBlbGVtZW50cyB0bwogKiB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmUgZGlyZWN0aXZlc30uCiAqCiAqIDxkaXYgY2xhc3M9ImFsZXJ0IGFsZXJ0LXdhcm5pbmciPgogKiAqKk5vdGU6KiogVGhpcyBkb2N1bWVudCBpcyBhbiBpbi1kZXB0aCByZWZlcmVuY2Ugb2YgYWxsIGRpcmVjdGl2ZSBvcHRpb25zLgogKiBGb3IgYSBnZW50bGUgaW50cm9kdWN0aW9uIHRvIGRpcmVjdGl2ZXMgd2l0aCBleGFtcGxlcyBvZiBjb21tb24gdXNlIGNhc2VzLAogKiBzZWUgdGhlIHtAbGluayBndWlkZS9kaXJlY3RpdmUgZGlyZWN0aXZlIGd1aWRlfS4KICogPC9kaXY+CiAqCiAqICMjIENvbXByZWhlbnNpdmUgRGlyZWN0aXZlIEFQSQogKgogKiBUaGVyZSBhcmUgbWFueSBkaWZmZXJlbnQgb3B0aW9ucyBmb3IgYSBkaXJlY3RpdmUuCiAqCiAqIFRoZSBkaWZmZXJlbmNlIHJlc2lkZXMgaW4gdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZmFjdG9yeSBmdW5jdGlvbi4KICogWW91IGNhbiBlaXRoZXIgcmV0dXJuIGEgIkRpcmVjdGl2ZSBEZWZpbml0aW9uIE9iamVjdCIgKHNlZSBiZWxvdykgdGhhdCBkZWZpbmVzIHRoZSBkaXJlY3RpdmUgcHJvcGVydGllcywKICogb3IganVzdCB0aGUgYHBvc3RMaW5rYCBmdW5jdGlvbiAoYWxsIG90aGVyIHByb3BlcnRpZXMgd2lsbCBoYXZlIHRoZSBkZWZhdWx0IHZhbHVlcykuCiAqCiAqIDxkaXYgY2xhc3M9ImFsZXJ0IGFsZXJ0LXN1Y2Nlc3MiPgogKiAqKkJlc3QgUHJhY3RpY2U6KiogSXQncyByZWNvbW1lbmRlZCB0byB1c2UgdGhlICJkaXJlY3RpdmUgZGVmaW5pdGlvbiBvYmplY3QiIGZvcm0uCiAqIDwvZGl2PgogKgogKiBIZXJlJ3MgYW4gZXhhbXBsZSBkaXJlY3RpdmUgZGVjbGFyZWQgd2l0aCBhIERpcmVjdGl2ZSBEZWZpbml0aW9uIE9iamVjdDoKICoKICogYGBganMKICogICB2YXIgbXlNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSguLi4pOwogKgogKiAgIG15TW9kdWxlLmRpcmVjdGl2ZSgnZGlyZWN0aXZlTmFtZScsIGZ1bmN0aW9uIGZhY3RvcnkoaW5qZWN0YWJsZXMpIHsKICogICAgIHZhciBkaXJlY3RpdmVEZWZpbml0aW9uT2JqZWN0ID0gewogKiAgICAgICBwcmlvcml0eTogMCwKICogICAgICAgdGVtcGxhdGU6ICc8ZGl2PjwvZGl2PicsIC8vIG9yIC8vIGZ1bmN0aW9uKHRFbGVtZW50LCB0QXR0cnMpIHsgLi4uIH0sCiAqICAgICAgIC8vIG9yCiAqICAgICAgIC8vIHRlbXBsYXRlVXJsOiAnZGlyZWN0aXZlLmh0bWwnLCAvLyBvciAvLyBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzKSB7IC4uLiB9LAogKiAgICAgICB0cmFuc2NsdWRlOiBmYWxzZSwKICogICAgICAgcmVzdHJpY3Q6ICdBJywKICogICAgICAgc2NvcGU6IGZhbHNlLAogKiAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsICR0cmFuc2NsdWRlLCBvdGhlckluamVjdGFibGVzKSB7IC4uLiB9LAogKiAgICAgICBjb250cm9sbGVyQXM6ICdzdHJpbmdBbGlhcycsCiAqICAgICAgIHJlcXVpcmU6ICdzaWJsaW5nRGlyZWN0aXZlTmFtZScsIC8vIG9yIC8vIFsnXnBhcmVudERpcmVjdGl2ZU5hbWUnLCAnP29wdGlvbmFsRGlyZWN0aXZlTmFtZScsICc/Xm9wdGlvbmFsUGFyZW50J10sCiAqICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uIGNvbXBpbGUodEVsZW1lbnQsIHRBdHRycywgdHJhbnNjbHVkZSkgewogKiAgICAgICAgIHJldHVybiB7CiAqICAgICAgICAgICBwcmU6IGZ1bmN0aW9uIHByZUxpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMsIGNvbnRyb2xsZXIpIHsgLi4uIH0sCiAqICAgICAgICAgICBwb3N0OiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlcikgeyAuLi4gfQogKiAgICAgICAgIH0KICogICAgICAgICAvLyBvcgogKiAgICAgICAgIC8vIHJldHVybiBmdW5jdGlvbiBwb3N0TGluayggLi4uICkgeyAuLi4gfQogKiAgICAgICB9LAogKiAgICAgICAvLyBvcgogKiAgICAgICAvLyBsaW5rOiB7CiAqICAgICAgIC8vICBwcmU6IGZ1bmN0aW9uIHByZUxpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMsIGNvbnRyb2xsZXIpIHsgLi4uIH0sCiAqICAgICAgIC8vICBwb3N0OiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlcikgeyAuLi4gfQogKiAgICAgICAvLyB9CiAqICAgICAgIC8vIG9yCiAqICAgICAgIC8vIGxpbms6IGZ1bmN0aW9uIHBvc3RMaW5rKCAuLi4gKSB7IC4uLiB9CiAqICAgICB9OwogKiAgICAgcmV0dXJuIGRpcmVjdGl2ZURlZmluaXRpb25PYmplY3Q7CiAqICAgfSk7CiAqIGBgYAogKgogKiA8ZGl2IGNsYXNzPSJhbGVydCBhbGVydC13YXJuaW5nIj4KICogKipOb3RlOioqIEFueSB1bnNwZWNpZmllZCBvcHRpb25zIHdpbGwgdXNlIHRoZSBkZWZhdWx0IHZhbHVlLiBZb3UgY2FuIHNlZSB0aGUgZGVmYXVsdCB2YWx1ZXMgYmVsb3cuCiAqIDwvZGl2PgogKgogKiBUaGVyZWZvcmUgdGhlIGFib3ZlIGNhbiBiZSBzaW1wbGlmaWVkIGFzOgogKgogKiBgYGBqcwogKiAgIHZhciBteU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKC4uLik7CiAqCiAqICAgbXlNb2R1bGUuZGlyZWN0aXZlKCdkaXJlY3RpdmVOYW1lJywgZnVuY3Rpb24gZmFjdG9yeShpbmplY3RhYmxlcykgewogKiAgICAgdmFyIGRpcmVjdGl2ZURlZmluaXRpb25PYmplY3QgPSB7CiAqICAgICAgIGxpbms6IGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzKSB7IC4uLiB9CiAqICAgICB9OwogKiAgICAgcmV0dXJuIGRpcmVjdGl2ZURlZmluaXRpb25PYmplY3Q7CiAqICAgICAvLyBvcgogKiAgICAgLy8gcmV0dXJuIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzKSB7IC4uLiB9CiAqICAgfSk7CiAqIGBgYAogKgogKgogKgogKiAjIyMgRGlyZWN0aXZlIERlZmluaXRpb24gT2JqZWN0CiAqCiAqIFRoZSBkaXJlY3RpdmUgZGVmaW5pdGlvbiBvYmplY3QgcHJvdmlkZXMgaW5zdHJ1Y3Rpb25zIHRvIHRoZSB7QGxpbmsgbmcuJGNvbXBpbGUKICogY29tcGlsZXJ9LiBUaGUgYXR0cmlidXRlcyBhcmU6CiAqCiAqICMjIyMgYHByaW9yaXR5YAogKiBXaGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBkaXJlY3RpdmVzIGRlZmluZWQgb24gYSBzaW5nbGUgRE9NIGVsZW1lbnQsIHNvbWV0aW1lcyBpdAogKiBpcyBuZWNlc3NhcnkgdG8gc3BlY2lmeSB0aGUgb3JkZXIgaW4gd2hpY2ggdGhlIGRpcmVjdGl2ZXMgYXJlIGFwcGxpZWQuIFRoZSBgcHJpb3JpdHlgIGlzIHVzZWQKICogdG8gc29ydCB0aGUgZGlyZWN0aXZlcyBiZWZvcmUgdGhlaXIgYGNvbXBpbGVgIGZ1bmN0aW9ucyBnZXQgY2FsbGVkLiBQcmlvcml0eSBpcyBkZWZpbmVkIGFzIGEKICogbnVtYmVyLiBEaXJlY3RpdmVzIHdpdGggZ3JlYXRlciBudW1lcmljYWwgYHByaW9yaXR5YCBhcmUgY29tcGlsZWQgZmlyc3QuIFByZS1saW5rIGZ1bmN0aW9ucwogKiBhcmUgYWxzbyBydW4gaW4gcHJpb3JpdHkgb3JkZXIsIGJ1dCBwb3N0LWxpbmsgZnVuY3Rpb25zIGFyZSBydW4gaW4gcmV2ZXJzZSBvcmRlci4gVGhlIG9yZGVyCiAqIG9mIGRpcmVjdGl2ZXMgd2l0aCB0aGUgc2FtZSBwcmlvcml0eSBpcyB1bmRlZmluZWQuIFRoZSBkZWZhdWx0IHByaW9yaXR5IGlzIGAwYC4KICoKICogIyMjIyBgdGVybWluYWxgCiAqIElmIHNldCB0byB0cnVlIHRoZW4gdGhlIGN1cnJlbnQgYHByaW9yaXR5YCB3aWxsIGJlIHRoZSBsYXN0IHNldCBvZiBkaXJlY3RpdmVzCiAqIHdoaWNoIHdpbGwgZXhlY3V0ZSAoYW55IGRpcmVjdGl2ZXMgYXQgdGhlIGN1cnJlbnQgcHJpb3JpdHkgd2lsbCBzdGlsbCBleGVjdXRlCiAqIGFzIHRoZSBvcmRlciBvZiBleGVjdXRpb24gb24gc2FtZSBgcHJpb3JpdHlgIGlzIHVuZGVmaW5lZCkuCiAqCiAqICMjIyMgYHNjb3BlYAogKiAqKklmIHNldCB0byBgdHJ1ZWAsKiogdGhlbiBhIG5ldyBzY29wZSB3aWxsIGJlIGNyZWF0ZWQgZm9yIHRoaXMgZGlyZWN0aXZlLiBJZiBtdWx0aXBsZSBkaXJlY3RpdmVzIG9uIHRoZQogKiBzYW1lIGVsZW1lbnQgcmVxdWVzdCBhIG5ldyBzY29wZSwgb25seSBvbmUgbmV3IHNjb3BlIGlzIGNyZWF0ZWQuIFRoZSBuZXcgc2NvcGUgcnVsZSBkb2VzIG5vdAogKiBhcHBseSBmb3IgdGhlIHJvb3Qgb2YgdGhlIHRlbXBsYXRlIHNpbmNlIHRoZSByb290IG9mIHRoZSB0ZW1wbGF0ZSBhbHdheXMgZ2V0cyBhIG5ldyBzY29wZS4KICoKICogKipJZiBzZXQgdG8gYHt9YCAob2JqZWN0IGhhc2gpLCoqIHRoZW4gYSBuZXcgImlzb2xhdGUiIHNjb3BlIGlzIGNyZWF0ZWQuIFRoZSAnaXNvbGF0ZScgc2NvcGUgZGlmZmVycyBmcm9tCiAqIG5vcm1hbCBzY29wZSBpbiB0aGF0IGl0IGRvZXMgbm90IHByb3RvdHlwaWNhbGx5IGluaGVyaXQgZnJvbSB0aGUgcGFyZW50IHNjb3BlLiBUaGlzIGlzIHVzZWZ1bAogKiB3aGVuIGNyZWF0aW5nIHJldXNhYmxlIGNvbXBvbmVudHMsIHdoaWNoIHNob3VsZCBub3QgYWNjaWRlbnRhbGx5IHJlYWQgb3IgbW9kaWZ5IGRhdGEgaW4gdGhlCiAqIHBhcmVudCBzY29wZS4KICoKICogVGhlICdpc29sYXRlJyBzY29wZSB0YWtlcyBhbiBvYmplY3QgaGFzaCB3aGljaCBkZWZpbmVzIGEgc2V0IG9mIGxvY2FsIHNjb3BlIHByb3BlcnRpZXMKICogZGVyaXZlZCBmcm9tIHRoZSBwYXJlbnQgc2NvcGUuIFRoZXNlIGxvY2FsIHByb3BlcnRpZXMgYXJlIHVzZWZ1bCBmb3IgYWxpYXNpbmcgdmFsdWVzIGZvcgogKiB0ZW1wbGF0ZXMuIExvY2FscyBkZWZpbml0aW9uIGlzIGEgaGFzaCBvZiBsb2NhbCBzY29wZSBwcm9wZXJ0eSB0byBpdHMgc291cmNlOgogKgogKiAqIGBAYCBvciBgQGF0dHJgIC0gYmluZCBhIGxvY2FsIHNjb3BlIHByb3BlcnR5IHRvIHRoZSB2YWx1ZSBvZiBET00gYXR0cmlidXRlLiBUaGUgcmVzdWx0IGlzCiAqICAgYWx3YXlzIGEgc3RyaW5nIHNpbmNlIERPTSBhdHRyaWJ1dGVzIGFyZSBzdHJpbmdzLiBJZiBubyBgYXR0cmAgbmFtZSBpcyBzcGVjaWZpZWQgIHRoZW4gdGhlCiAqICAgYXR0cmlidXRlIG5hbWUgaXMgYXNzdW1lZCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgbG9jYWwgbmFtZS4KICogICBHaXZlbiBgPHdpZGdldCBteS1hdHRyPSJoZWxsbyB7e25hbWV9fSI+YCBhbmQgd2lkZ2V0IGRlZmluaXRpb24KICogICBvZiBgc2NvcGU6IHsgbG9jYWxOYW1lOidAbXlBdHRyJyB9YCwgdGhlbiB3aWRnZXQgc2NvcGUgcHJvcGVydHkgYGxvY2FsTmFtZWAgd2lsbCByZWZsZWN0CiAqICAgdGhlIGludGVycG9sYXRlZCB2YWx1ZSBvZiBgaGVsbG8ge3tuYW1lfX1gLiBBcyB0aGUgYG5hbWVgIGF0dHJpYnV0ZSBjaGFuZ2VzIHNvIHdpbGwgdGhlCiAqICAgYGxvY2FsTmFtZWAgcHJvcGVydHkgb24gdGhlIHdpZGdldCBzY29wZS4gVGhlIGBuYW1lYCBpcyByZWFkIGZyb20gdGhlIHBhcmVudCBzY29wZSAobm90CiAqICAgY29tcG9uZW50IHNjb3BlKS4KICoKICogKiBgPWAgb3IgYD1hdHRyYCAtIHNldCB1cCBiaS1kaXJlY3Rpb25hbCBiaW5kaW5nIGJldHdlZW4gYSBsb2NhbCBzY29wZSBwcm9wZXJ0eSBhbmQgdGhlCiAqICAgcGFyZW50IHNjb3BlIHByb3BlcnR5IG9mIG5hbWUgZGVmaW5lZCB2aWEgdGhlIHZhbHVlIG9mIHRoZSBgYXR0cmAgYXR0cmlidXRlLiBJZiBubyBgYXR0cmAKICogICBuYW1lIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBhdHRyaWJ1dGUgbmFtZSBpcyBhc3N1bWVkIHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBsb2NhbCBuYW1lLgogKiAgIEdpdmVuIGA8d2lkZ2V0IG15LWF0dHI9InBhcmVudE1vZGVsIj5gIGFuZCB3aWRnZXQgZGVmaW5pdGlvbiBvZgogKiAgIGBzY29wZTogeyBsb2NhbE1vZGVsOic9bXlBdHRyJyB9YCwgdGhlbiB3aWRnZXQgc2NvcGUgcHJvcGVydHkgYGxvY2FsTW9kZWxgIHdpbGwgcmVmbGVjdCB0aGUKICogICB2YWx1ZSBvZiBgcGFyZW50TW9kZWxgIG9uIHRoZSBwYXJlbnQgc2NvcGUuIEFueSBjaGFuZ2VzIHRvIGBwYXJlbnRNb2RlbGAgd2lsbCBiZSByZWZsZWN0ZWQKICogICBpbiBgbG9jYWxNb2RlbGAgYW5kIGFueSBjaGFuZ2VzIGluIGBsb2NhbE1vZGVsYCB3aWxsIHJlZmxlY3QgaW4gYHBhcmVudE1vZGVsYC4gSWYgdGhlIHBhcmVudAogKiAgIHNjb3BlIHByb3BlcnR5IGRvZXNuJ3QgZXhpc3QsIGl0IHdpbGwgdGhyb3cgYSBOT05fQVNTSUdOQUJMRV9NT0RFTF9FWFBSRVNTSU9OIGV4Y2VwdGlvbi4gWW91CiAqICAgY2FuIGF2b2lkIHRoaXMgYmVoYXZpb3IgdXNpbmcgYD0/YCBvciBgPT9hdHRyYCBpbiBvcmRlciB0byBmbGFnIHRoZSBwcm9wZXJ0eSBhcyBvcHRpb25hbC4KICoKICogKiBgJmAgb3IgYCZhdHRyYCAtIHByb3ZpZGVzIGEgd2F5IHRvIGV4ZWN1dGUgYW4gZXhwcmVzc2lvbiBpbiB0aGUgY29udGV4dCBvZiB0aGUgcGFyZW50IHNjb3BlLgogKiAgIElmIG5vIGBhdHRyYCBuYW1lIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBhdHRyaWJ1dGUgbmFtZSBpcyBhc3N1bWVkIHRvIGJlIHRoZSBzYW1lIGFzIHRoZQogKiAgIGxvY2FsIG5hbWUuIEdpdmVuIGA8d2lkZ2V0IG15LWF0dHI9ImNvdW50ID0gY291bnQgKyB2YWx1ZSI+YCBhbmQgd2lkZ2V0IGRlZmluaXRpb24gb2YKICogICBgc2NvcGU6IHsgbG9jYWxGbjonJm15QXR0cicgfWAsIHRoZW4gaXNvbGF0ZSBzY29wZSBwcm9wZXJ0eSBgbG9jYWxGbmAgd2lsbCBwb2ludCB0bwogKiAgIGEgZnVuY3Rpb24gd3JhcHBlciBmb3IgdGhlIGBjb3VudCA9IGNvdW50ICsgdmFsdWVgIGV4cHJlc3Npb24uIE9mdGVuIGl0J3MgZGVzaXJhYmxlIHRvCiAqICAgcGFzcyBkYXRhIGZyb20gdGhlIGlzb2xhdGVkIHNjb3BlIHZpYSBhbiBleHByZXNzaW9uIGFuZCB0byB0aGUgcGFyZW50IHNjb3BlLCB0aGlzIGNhbiBiZQogKiAgIGRvbmUgYnkgcGFzc2luZyBhIG1hcCBvZiBsb2NhbCB2YXJpYWJsZSBuYW1lcyBhbmQgdmFsdWVzIGludG8gdGhlIGV4cHJlc3Npb24gd3JhcHBlciBmbi4KICogICBGb3IgZXhhbXBsZSwgaWYgdGhlIGV4cHJlc3Npb24gaXMgYGluY3JlbWVudChhbW91bnQpYCB0aGVuIHdlIGNhbiBzcGVjaWZ5IHRoZSBhbW91bnQgdmFsdWUKICogICBieSBjYWxsaW5nIHRoZSBgbG9jYWxGbmAgYXMgYGxvY2FsRm4oe2Ftb3VudDogMjJ9KWAuCiAqCiAqCiAqCiAqICMjIyMgYGNvbnRyb2xsZXJgCiAqIENvbnRyb2xsZXIgY29uc3RydWN0b3IgZnVuY3Rpb24uIFRoZSBjb250cm9sbGVyIGlzIGluc3RhbnRpYXRlZCBiZWZvcmUgdGhlCiAqIHByZS1saW5raW5nIHBoYXNlIGFuZCBpdCBpcyBzaGFyZWQgd2l0aCBvdGhlciBkaXJlY3RpdmVzIChzZWUKICogYHJlcXVpcmVgIGF0dHJpYnV0ZSkuIFRoaXMgYWxsb3dzIHRoZSBkaXJlY3RpdmVzIHRvIGNvbW11bmljYXRlIHdpdGggZWFjaCBvdGhlciBhbmQgYXVnbWVudAogKiBlYWNoIG90aGVyJ3MgYmVoYXZpb3IuIFRoZSBjb250cm9sbGVyIGlzIGluamVjdGFibGUgKGFuZCBzdXBwb3J0cyBicmFja2V0IG5vdGF0aW9uKSB3aXRoIHRoZSBmb2xsb3dpbmcgbG9jYWxzOgogKgogKiAqIGAkc2NvcGVgIC0gQ3VycmVudCBzY29wZSBhc3NvY2lhdGVkIHdpdGggdGhlIGVsZW1lbnQKICogKiBgJGVsZW1lbnRgIC0gQ3VycmVudCBlbGVtZW50CiAqICogYCRhdHRyc2AgLSBDdXJyZW50IGF0dHJpYnV0ZXMgb2JqZWN0IGZvciB0aGUgZWxlbWVudAogKiAqIGAkdHJhbnNjbHVkZWAgLSBBIHRyYW5zY2x1ZGUgbGlua2luZyBmdW5jdGlvbiBwcmUtYm91bmQgdG8gdGhlIGNvcnJlY3QgdHJhbnNjbHVzaW9uIHNjb3BlLgogKiAgICBUaGUgc2NvcGUgY2FuIGJlIG92ZXJyaWRkZW4gYnkgYW4gb3B0aW9uYWwgZmlyc3QgYXJndW1lbnQuCiAqICAgYGZ1bmN0aW9uKFtzY29wZV0sIGNsb25lTGlua2luZ0ZuKWAuCiAqCiAqCiAqICMjIyMgYHJlcXVpcmVgCiAqIFJlcXVpcmUgYW5vdGhlciBkaXJlY3RpdmUgYW5kIGluamVjdCBpdHMgY29udHJvbGxlciBhcyB0aGUgZm91cnRoIGFyZ3VtZW50IHRvIHRoZSBsaW5raW5nIGZ1bmN0aW9uLiBUaGUKICogYHJlcXVpcmVgIHRha2VzIGEgc3RyaW5nIG5hbWUgKG9yIGFycmF5IG9mIHN0cmluZ3MpIG9mIHRoZSBkaXJlY3RpdmUocykgdG8gcGFzcyBpbi4gSWYgYW4gYXJyYXkgaXMgdXNlZCwgdGhlCiAqIGluamVjdGVkIGFyZ3VtZW50IHdpbGwgYmUgYW4gYXJyYXkgaW4gY29ycmVzcG9uZGluZyBvcmRlci4gSWYgbm8gc3VjaCBkaXJlY3RpdmUgY2FuIGJlCiAqIGZvdW5kLCBvciBpZiB0aGUgZGlyZWN0aXZlIGRvZXMgbm90IGhhdmUgYSBjb250cm9sbGVyLCB0aGVuIGFuIGVycm9yIGlzIHJhaXNlZC4gVGhlIG5hbWUgY2FuIGJlIHByZWZpeGVkIHdpdGg6CiAqCiAqICogKG5vIHByZWZpeCkgLSBMb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgb24gdGhlIGN1cnJlbnQgZWxlbWVudC4gVGhyb3cgYW4gZXJyb3IgaWYgbm90IGZvdW5kLgogKiAqIGA/YCAtIEF0dGVtcHQgdG8gbG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIG9yIHBhc3MgYG51bGxgIHRvIHRoZSBgbGlua2AgZm4gaWYgbm90IGZvdW5kLgogKiAqIGBeYCAtIExvY2F0ZSB0aGUgcmVxdWlyZWQgY29udHJvbGxlciBieSBzZWFyY2hpbmcgdGhlIGVsZW1lbnQncyBwYXJlbnRzLiBUaHJvdyBhbiBlcnJvciBpZiBub3QgZm91bmQuCiAqICogYD9eYCAtIEF0dGVtcHQgdG8gbG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIGJ5IHNlYXJjaGluZyB0aGUgZWxlbWVudCdzIHBhcmVudHMgb3IgcGFzcyBgbnVsbGAgdG8gdGhlCiAqICAgYGxpbmtgIGZuIGlmIG5vdCBmb3VuZC4KICoKICoKICogIyMjIyBgY29udHJvbGxlckFzYAogKiBDb250cm9sbGVyIGFsaWFzIGF0IHRoZSBkaXJlY3RpdmUgc2NvcGUuIEFuIGFsaWFzIGZvciB0aGUgY29udHJvbGxlciBzbyBpdAogKiBjYW4gYmUgcmVmZXJlbmNlZCBhdCB0aGUgZGlyZWN0aXZlIHRlbXBsYXRlLiBUaGUgZGlyZWN0aXZlIG5lZWRzIHRvIGRlZmluZSBhIHNjb3BlIGZvciB0aGlzCiAqIGNvbmZpZ3VyYXRpb24gdG8gYmUgdXNlZC4gVXNlZnVsIGluIHRoZSBjYXNlIHdoZW4gZGlyZWN0aXZlIGlzIHVzZWQgYXMgY29tcG9uZW50LgogKgogKgogKiAjIyMjIGByZXN0cmljdGAKICogU3RyaW5nIG9mIHN1YnNldCBvZiBgRUFDTWAgd2hpY2ggcmVzdHJpY3RzIHRoZSBkaXJlY3RpdmUgdG8gYSBzcGVjaWZpYyBkaXJlY3RpdmUKICogZGVjbGFyYXRpb24gc3R5bGUuIElmIG9taXR0ZWQsIHRoZSBkZWZhdWx0IChhdHRyaWJ1dGVzIG9ubHkpIGlzIHVzZWQuCiAqCiAqICogYEVgIC0gRWxlbWVudCBuYW1lOiBgPG15LWRpcmVjdGl2ZT48L215LWRpcmVjdGl2ZT5gCiAqICogYEFgIC0gQXR0cmlidXRlIChkZWZhdWx0KTogYDxkaXYgbXktZGlyZWN0aXZlPSJleHAiPjwvZGl2PmAKICogKiBgQ2AgLSBDbGFzczogYDxkaXYgY2xhc3M9Im15LWRpcmVjdGl2ZTogZXhwOyI+PC9kaXY+YAogKiAqIGBNYCAtIENvbW1lbnQ6IGA8IS0tIGRpcmVjdGl2ZTogbXktZGlyZWN0aXZlIGV4cCAtLT5gCiAqCiAqCiAqICMjIyMgYHRlbXBsYXRlYAogKiByZXBsYWNlIHRoZSBjdXJyZW50IGVsZW1lbnQgd2l0aCB0aGUgY29udGVudHMgb2YgdGhlIEhUTUwuIFRoZSByZXBsYWNlbWVudCBwcm9jZXNzCiAqIG1pZ3JhdGVzIGFsbCBvZiB0aGUgYXR0cmlidXRlcyAvIGNsYXNzZXMgZnJvbSB0aGUgb2xkIGVsZW1lbnQgdG8gdGhlIG5ldyBvbmUuIFNlZSB0aGUKICoge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSNjcmVhdGluZy1jdXN0b20tZGlyZWN0aXZlc19jcmVhdGluZy1kaXJlY3RpdmVzX3RlbXBsYXRlLWV4cGFuZGluZy1kaXJlY3RpdmUKICogRGlyZWN0aXZlcyBHdWlkZX0gZm9yIGFuIGV4YW1wbGUuCiAqCiAqIFlvdSBjYW4gc3BlY2lmeSBgdGVtcGxhdGVgIGFzIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdGVtcGxhdGUgb3IgYXMgYSBmdW5jdGlvbiB3aGljaCB0YWtlcwogKiB0d28gYXJndW1lbnRzIGB0RWxlbWVudGAgYW5kIGB0QXR0cnNgIChkZXNjcmliZWQgaW4gdGhlIGBjb21waWxlYCBmdW5jdGlvbiBhcGkgYmVsb3cpIGFuZAogKiByZXR1cm5zIGEgc3RyaW5nIHZhbHVlIHJlcHJlc2VudGluZyB0aGUgdGVtcGxhdGUuCiAqCiAqCiAqICMjIyMgYHRlbXBsYXRlVXJsYAogKiBTYW1lIGFzIGB0ZW1wbGF0ZWAgYnV0IHRoZSB0ZW1wbGF0ZSBpcyBsb2FkZWQgZnJvbSB0aGUgc3BlY2lmaWVkIFVSTC4gQmVjYXVzZQogKiB0aGUgdGVtcGxhdGUgbG9hZGluZyBpcyBhc3luY2hyb25vdXMgdGhlIGNvbXBpbGF0aW9uL2xpbmtpbmcgaXMgc3VzcGVuZGVkIHVudGlsIHRoZSB0ZW1wbGF0ZQogKiBpcyBsb2FkZWQuCiAqCiAqIFlvdSBjYW4gc3BlY2lmeSBgdGVtcGxhdGVVcmxgIGFzIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgVVJMIG9yIGFzIGEgZnVuY3Rpb24gd2hpY2ggdGFrZXMgdHdvCiAqIGFyZ3VtZW50cyBgdEVsZW1lbnRgIGFuZCBgdEF0dHJzYCAoZGVzY3JpYmVkIGluIHRoZSBgY29tcGlsZWAgZnVuY3Rpb24gYXBpIGJlbG93KSBhbmQgcmV0dXJucwogKiBhIHN0cmluZyB2YWx1ZSByZXByZXNlbnRpbmcgdGhlIHVybC4gIEluIGVpdGhlciBjYXNlLCB0aGUgdGVtcGxhdGUgVVJMIGlzIHBhc3NlZCB0aHJvdWdoIHtAbGluawogKiBhcGkvbmcuJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmwgJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmx9LgogKgogKgogKiAjIyMjIGByZXBsYWNlYCAoWypERVBSRUNBVEVEKiFdLCB3aWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciByZWxlYXNlKQogKiBzcGVjaWZ5IHdoZXJlIHRoZSB0ZW1wbGF0ZSBzaG91bGQgYmUgaW5zZXJ0ZWQuIERlZmF1bHRzIHRvIGBmYWxzZWAuCiAqCiAqICogYHRydWVgIC0gdGhlIHRlbXBsYXRlIHdpbGwgcmVwbGFjZSB0aGUgY3VycmVudCBlbGVtZW50LgogKiAqIGBmYWxzZWAgLSB0aGUgdGVtcGxhdGUgd2lsbCByZXBsYWNlIHRoZSBjb250ZW50cyBvZiB0aGUgY3VycmVudCBlbGVtZW50LgogKgogKgogKiAjIyMjIGB0cmFuc2NsdWRlYAogKiBjb21waWxlIHRoZSBjb250ZW50IG9mIHRoZSBlbGVtZW50IGFuZCBtYWtlIGl0IGF2YWlsYWJsZSB0byB0aGUgZGlyZWN0aXZlLgogKiBUeXBpY2FsbHkgdXNlZCB3aXRoIHtAbGluayBuZy5kaXJlY3RpdmU6bmdUcmFuc2NsdWRlCiAqIG5nVHJhbnNjbHVkZX0uIFRoZSBhZHZhbnRhZ2Ugb2YgdHJhbnNjbHVzaW9uIGlzIHRoYXQgdGhlIGxpbmtpbmcgZnVuY3Rpb24gcmVjZWl2ZXMgYQogKiB0cmFuc2NsdXNpb24gZnVuY3Rpb24gd2hpY2ggaXMgcHJlLWJvdW5kIHRvIHRoZSBjb3JyZWN0IHNjb3BlLiBJbiBhIHR5cGljYWwgc2V0dXAgdGhlIHdpZGdldAogKiBjcmVhdGVzIGFuIGBpc29sYXRlYCBzY29wZSwgYnV0IHRoZSB0cmFuc2NsdXNpb24gaXMgbm90IGEgY2hpbGQsIGJ1dCBhIHNpYmxpbmcgb2YgdGhlIGBpc29sYXRlYAogKiBzY29wZS4gVGhpcyBtYWtlcyBpdCBwb3NzaWJsZSBmb3IgdGhlIHdpZGdldCB0byBoYXZlIHByaXZhdGUgc3RhdGUsIGFuZCB0aGUgdHJhbnNjbHVzaW9uIHRvCiAqIGJlIGJvdW5kIHRvIHRoZSBwYXJlbnQgKHByZS1gaXNvbGF0ZWApIHNjb3BlLgogKgogKiAqIGB0cnVlYCAtIHRyYW5zY2x1ZGUgdGhlIGNvbnRlbnQgb2YgdGhlIGRpcmVjdGl2ZS4KICogKiBgJ2VsZW1lbnQnYCAtIHRyYW5zY2x1ZGUgdGhlIHdob2xlIGVsZW1lbnQgaW5jbHVkaW5nIGFueSBkaXJlY3RpdmVzIGRlZmluZWQgYXQgbG93ZXIgcHJpb3JpdHkuCiAqCiAqCiAqICMjIyMgYGNvbXBpbGVgCiAqCiAqIGBgYGpzCiAqICAgZnVuY3Rpb24gY29tcGlsZSh0RWxlbWVudCwgdEF0dHJzLCB0cmFuc2NsdWRlKSB7IC4uLiB9CiAqIGBgYAogKgogKiBUaGUgY29tcGlsZSBmdW5jdGlvbiBkZWFscyB3aXRoIHRyYW5zZm9ybWluZyB0aGUgdGVtcGxhdGUgRE9NLiBTaW5jZSBtb3N0IGRpcmVjdGl2ZXMgZG8gbm90IGRvCiAqIHRlbXBsYXRlIHRyYW5zZm9ybWF0aW9uLCBpdCBpcyBub3QgdXNlZCBvZnRlbi4gVGhlIGNvbXBpbGUgZnVuY3Rpb24gdGFrZXMgdGhlIGZvbGxvd2luZyBhcmd1bWVudHM6CiAqCiAqICAgKiBgdEVsZW1lbnRgIC0gdGVtcGxhdGUgZWxlbWVudCAtIFRoZSBlbGVtZW50IHdoZXJlIHRoZSBkaXJlY3RpdmUgaGFzIGJlZW4gZGVjbGFyZWQuIEl0IGlzCiAqICAgICBzYWZlIHRvIGRvIHRlbXBsYXRlIHRyYW5zZm9ybWF0aW9uIG9uIHRoZSBlbGVtZW50IGFuZCBjaGlsZCBlbGVtZW50cyBvbmx5LgogKgogKiAgICogYHRBdHRyc2AgLSB0ZW1wbGF0ZSBhdHRyaWJ1dGVzIC0gTm9ybWFsaXplZCBsaXN0IG9mIGF0dHJpYnV0ZXMgZGVjbGFyZWQgb24gdGhpcyBlbGVtZW50IHNoYXJlZAogKiAgICAgYmV0d2VlbiBhbGwgZGlyZWN0aXZlIGNvbXBpbGUgZnVuY3Rpb25zLgogKgogKiAgICogYHRyYW5zY2x1ZGVgIC0gIFsqREVQUkVDQVRFRCohXSBBIHRyYW5zY2x1ZGUgbGlua2luZyBmdW5jdGlvbjogYGZ1bmN0aW9uKHNjb3BlLCBjbG9uZUxpbmtpbmdGbilgCiAqCiAqIDxkaXYgY2xhc3M9ImFsZXJ0IGFsZXJ0LXdhcm5pbmciPgogKiAqKk5vdGU6KiogVGhlIHRlbXBsYXRlIGluc3RhbmNlIGFuZCB0aGUgbGluayBpbnN0YW5jZSBtYXkgYmUgZGlmZmVyZW50IG9iamVjdHMgaWYgdGhlIHRlbXBsYXRlIGhhcwogKiBiZWVuIGNsb25lZC4gRm9yIHRoaXMgcmVhc29uIGl0IGlzICoqbm90Kiogc2FmZSB0byBkbyBhbnl0aGluZyBvdGhlciB0aGFuIERPTSB0cmFuc2Zvcm1hdGlvbnMgdGhhdAogKiBhcHBseSB0byBhbGwgY2xvbmVkIERPTSBub2RlcyB3aXRoaW4gdGhlIGNvbXBpbGUgZnVuY3Rpb24uIFNwZWNpZmljYWxseSwgRE9NIGxpc3RlbmVyIHJlZ2lzdHJhdGlvbgogKiBzaG91bGQgYmUgZG9uZSBpbiBhIGxpbmtpbmcgZnVuY3Rpb24gcmF0aGVyIHRoYW4gaW4gYSBjb21waWxlIGZ1bmN0aW9uLgogKiA8L2Rpdj4KCiAqIDxkaXYgY2xhc3M9ImFsZXJ0IGFsZXJ0LXdhcm5pbmciPgogKiAqKk5vdGU6KiogVGhlIGNvbXBpbGUgZnVuY3Rpb24gY2Fubm90IGhhbmRsZSBkaXJlY3RpdmVzIHRoYXQgcmVjdXJzaXZlbHkgdXNlIHRoZW1zZWx2ZXMgaW4gdGhlaXIKICogb3duIHRlbXBsYXRlcyBvciBjb21waWxlIGZ1bmN0aW9ucy4gQ29tcGlsaW5nIHRoZXNlIGRpcmVjdGl2ZXMgcmVzdWx0cyBpbiBhbiBpbmZpbml0ZSBsb29wIGFuZCBhCiAqIHN0YWNrIG92ZXJmbG93IGVycm9ycy4KICoKICogVGhpcyBjYW4gYmUgYXZvaWRlZCBieSBtYW51YWxseSB1c2luZyAkY29tcGlsZSBpbiB0aGUgcG9zdExpbmsgZnVuY3Rpb24gdG8gaW1wZXJhdGl2ZWx5IGNvbXBpbGUKICogYSBkaXJlY3RpdmUncyB0ZW1wbGF0ZSBpbnN0ZWFkIG9mIHJlbHlpbmcgb24gYXV0b21hdGljIHRlbXBsYXRlIGNvbXBpbGF0aW9uIHZpYSBgdGVtcGxhdGVgIG9yCiAqIGB0ZW1wbGF0ZVVybGAgZGVjbGFyYXRpb24gb3IgbWFudWFsIGNvbXBpbGF0aW9uIGluc2lkZSB0aGUgY29tcGlsZSBmdW5jdGlvbi4KICogPC9kaXY+CiAqCiAqIDxkaXYgY2xhc3M9ImFsZXJ0IGFsZXJ0LWVycm9yIj4KICogKipOb3RlOioqIFRoZSBgdHJhbnNjbHVkZWAgZnVuY3Rpb24gdGhhdCBpcyBwYXNzZWQgdG8gdGhlIGNvbXBpbGUgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZCwgYXMgaXQKICogICBlLmcuIGRvZXMgbm90IGtub3cgYWJvdXQgdGhlIHJpZ2h0IG91dGVyIHNjb3BlLiBQbGVhc2UgdXNlIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIHRoYXQgaXMgcGFzc2VkCiAqICAgdG8gdGhlIGxpbmsgZnVuY3Rpb24gaW5zdGVhZC4KICogPC9kaXY+CgogKiBBIGNvbXBpbGUgZnVuY3Rpb24gY2FuIGhhdmUgYSByZXR1cm4gdmFsdWUgd2hpY2ggY2FuIGJlIGVpdGhlciBhIGZ1bmN0aW9uIG9yIGFuIG9iamVjdC4KICoKICogKiByZXR1cm5pbmcgYSAocG9zdC1saW5rKSBmdW5jdGlvbiAtIGlzIGVxdWl2YWxlbnQgdG8gcmVnaXN0ZXJpbmcgdGhlIGxpbmtpbmcgZnVuY3Rpb24gdmlhIHRoZQogKiAgIGBsaW5rYCBwcm9wZXJ0eSBvZiB0aGUgY29uZmlnIG9iamVjdCB3aGVuIHRoZSBjb21waWxlIGZ1bmN0aW9uIGlzIGVtcHR5LgogKgogKiAqIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBmdW5jdGlvbihzKSByZWdpc3RlcmVkIHZpYSBgcHJlYCBhbmQgYHBvc3RgIHByb3BlcnRpZXMgLSBhbGxvd3MgeW91IHRvCiAqICAgY29udHJvbCB3aGVuIGEgbGlua2luZyBmdW5jdGlvbiBzaG91bGQgYmUgY2FsbGVkIGR1cmluZyB0aGUgbGlua2luZyBwaGFzZS4gU2VlIGluZm8gYWJvdXQKICogICBwcmUtbGlua2luZyBhbmQgcG9zdC1saW5raW5nIGZ1bmN0aW9ucyBiZWxvdy4KICoKICoKICogIyMjIyBgbGlua2AKICogVGhpcyBwcm9wZXJ0eSBpcyB1c2VkIG9ubHkgaWYgdGhlIGBjb21waWxlYCBwcm9wZXJ0eSBpcyBub3QgZGVmaW5lZC4KICoKICogYGBganMKICogICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzLCBjb250cm9sbGVyLCB0cmFuc2NsdWRlRm4pIHsgLi4uIH0KICogYGBgCiAqCiAqIFRoZSBsaW5rIGZ1bmN0aW9uIGlzIHJlc3BvbnNpYmxlIGZvciByZWdpc3RlcmluZyBET00gbGlzdGVuZXJzIGFzIHdlbGwgYXMgdXBkYXRpbmcgdGhlIERPTS4gSXQgaXMKICogZXhlY3V0ZWQgYWZ0ZXIgdGhlIHRlbXBsYXRlIGhhcyBiZWVuIGNsb25lZC4gVGhpcyBpcyB3aGVyZSBtb3N0IG9mIHRoZSBkaXJlY3RpdmUgbG9naWMgd2lsbCBiZQogKiBwdXQuCiAqCiAqICAgKiBgc2NvcGVgIC0ge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgU2NvcGV9IC0gVGhlIHNjb3BlIHRvIGJlIHVzZWQgYnkgdGhlCiAqICAgICBkaXJlY3RpdmUgZm9yIHJlZ2lzdGVyaW5nIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCB3YXRjaGVzfS4KICoKICogICAqIGBpRWxlbWVudGAgLSBpbnN0YW5jZSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgd2hlcmUgdGhlIGRpcmVjdGl2ZSBpcyB0byBiZSB1c2VkLiBJdCBpcyBzYWZlIHRvCiAqICAgICBtYW5pcHVsYXRlIHRoZSBjaGlsZHJlbiBvZiB0aGUgZWxlbWVudCBvbmx5IGluIGBwb3N0TGlua2AgZnVuY3Rpb24gc2luY2UgdGhlIGNoaWxkcmVuIGhhdmUKICogICAgIGFscmVhZHkgYmVlbiBsaW5rZWQuCiAqCiAqICAgKiBgaUF0dHJzYCAtIGluc3RhbmNlIGF0dHJpYnV0ZXMgLSBOb3JtYWxpemVkIGxpc3Qgb2YgYXR0cmlidXRlcyBkZWNsYXJlZCBvbiB0aGlzIGVsZW1lbnQgc2hhcmVkCiAqICAgICBiZXR3ZWVuIGFsbCBkaXJlY3RpdmUgbGlua2luZyBmdW5jdGlvbnMuCiAqCiAqICAgKiBgY29udHJvbGxlcmAgLSBhIGNvbnRyb2xsZXIgaW5zdGFuY2UgLSBBIGNvbnRyb2xsZXIgaW5zdGFuY2UgaWYgYXQgbGVhc3Qgb25lIGRpcmVjdGl2ZSBvbiB0aGUKICogICAgIGVsZW1lbnQgZGVmaW5lcyBhIGNvbnRyb2xsZXIuIFRoZSBjb250cm9sbGVyIGlzIHNoYXJlZCBhbW9uZyBhbGwgdGhlIGRpcmVjdGl2ZXMsIHdoaWNoIGFsbG93cwogKiAgICAgdGhlIGRpcmVjdGl2ZXMgdG8gdXNlIHRoZSBjb250cm9sbGVycyBhcyBhIGNvbW11bmljYXRpb24gY2hhbm5lbC4KICoKICogICAqIGB0cmFuc2NsdWRlRm5gIC0gQSB0cmFuc2NsdWRlIGxpbmtpbmcgZnVuY3Rpb24gcHJlLWJvdW5kIHRvIHRoZSBjb3JyZWN0IHRyYW5zY2x1c2lvbiBzY29wZS4KICogICAgIFRoZSBzY29wZSBjYW4gYmUgb3ZlcnJpZGRlbiBieSBhbiBvcHRpb25hbCBmaXJzdCBhcmd1bWVudC4gVGhpcyBpcyB0aGUgc2FtZSBhcyB0aGUgYCR0cmFuc2NsdWRlYAogKiAgICAgcGFyYW1ldGVyIG9mIGRpcmVjdGl2ZSBjb250cm9sbGVycy4KICogICAgIGBmdW5jdGlvbihbc2NvcGVdLCBjbG9uZUxpbmtpbmdGbilgLgogKgogKgogKiAjIyMjIFByZS1saW5raW5nIGZ1bmN0aW9uCiAqCiAqIEV4ZWN1dGVkIGJlZm9yZSB0aGUgY2hpbGQgZWxlbWVudHMgYXJlIGxpbmtlZC4gTm90IHNhZmUgdG8gZG8gRE9NIHRyYW5zZm9ybWF0aW9uIHNpbmNlIHRoZQogKiBjb21waWxlciBsaW5raW5nIGZ1bmN0aW9uIHdpbGwgZmFpbCB0byBsb2NhdGUgdGhlIGNvcnJlY3QgZWxlbWVudHMgZm9yIGxpbmtpbmcuCiAqCiAqICMjIyMgUG9zdC1saW5raW5nIGZ1bmN0aW9uCiAqCiAqIEV4ZWN1dGVkIGFmdGVyIHRoZSBjaGlsZCBlbGVtZW50cyBhcmUgbGlua2VkLiBJdCBpcyBzYWZlIHRvIGRvIERPTSB0cmFuc2Zvcm1hdGlvbiBpbiB0aGUgcG9zdC1saW5raW5nIGZ1bmN0aW9uLgogKgogKiA8YSBuYW1lPSJBdHRyaWJ1dGVzIj48L2E+CiAqICMjIyBBdHRyaWJ1dGVzCiAqCiAqIFRoZSB7QGxpbmsgbmcuJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMgQXR0cmlidXRlc30gb2JqZWN0IC0gcGFzc2VkIGFzIGEgcGFyYW1ldGVyIGluIHRoZQogKiBgbGluaygpYCBvciBgY29tcGlsZSgpYCBmdW5jdGlvbnMuIEl0IGhhcyBhIHZhcmlldHkgb2YgdXNlcy4KICoKICogYWNjZXNzaW5nICpOb3JtYWxpemVkIGF0dHJpYnV0ZSBuYW1lczoqCiAqIERpcmVjdGl2ZXMgbGlrZSAnbmdCaW5kJyBjYW4gYmUgZXhwcmVzc2VkIGluIG1hbnkgd2F5czogJ25nOmJpbmQnLCBgZGF0YS1uZy1iaW5kYCwgb3IgJ3gtbmctYmluZCcuCiAqIHRoZSBhdHRyaWJ1dGVzIG9iamVjdCBhbGxvd3MgZm9yIG5vcm1hbGl6ZWQgYWNjZXNzIHRvCiAqICAgdGhlIGF0dHJpYnV0ZXMuCiAqCiAqICogKkRpcmVjdGl2ZSBpbnRlci1jb21tdW5pY2F0aW9uOiogQWxsIGRpcmVjdGl2ZXMgc2hhcmUgdGhlIHNhbWUgaW5zdGFuY2Ugb2YgdGhlIGF0dHJpYnV0ZXMKICogICBvYmplY3Qgd2hpY2ggYWxsb3dzIHRoZSBkaXJlY3RpdmVzIHRvIHVzZSB0aGUgYXR0cmlidXRlcyBvYmplY3QgYXMgaW50ZXIgZGlyZWN0aXZlCiAqICAgY29tbXVuaWNhdGlvbi4KICoKICogKiAqU3VwcG9ydHMgaW50ZXJwb2xhdGlvbjoqIEludGVycG9sYXRpb24gYXR0cmlidXRlcyBhcmUgYXNzaWduZWQgdG8gdGhlIGF0dHJpYnV0ZSBvYmplY3QKICogICBhbGxvd2luZyBvdGhlciBkaXJlY3RpdmVzIHRvIHJlYWQgdGhlIGludGVycG9sYXRlZCB2YWx1ZS4KICoKICogKiAqT2JzZXJ2aW5nIGludGVycG9sYXRlZCBhdHRyaWJ1dGVzOiogVXNlIGAkb2JzZXJ2ZWAgdG8gb2JzZXJ2ZSB0aGUgdmFsdWUgY2hhbmdlcyBvZiBhdHRyaWJ1dGVzCiAqICAgdGhhdCBjb250YWluIGludGVycG9sYXRpb24gKGUuZy4gYHNyYz0ie3tiYXJ9fSJgKS4gTm90IG9ubHkgaXMgdGhpcyB2ZXJ5IGVmZmljaWVudCBidXQgaXQncyBhbHNvCiAqICAgdGhlIG9ubHkgd2F5IHRvIGVhc2lseSBnZXQgdGhlIGFjdHVhbCB2YWx1ZSBiZWNhdXNlIGR1cmluZyB0aGUgbGlua2luZyBwaGFzZSB0aGUgaW50ZXJwb2xhdGlvbgogKiAgIGhhc24ndCBiZWVuIGV2YWx1YXRlZCB5ZXQgYW5kIHNvIHRoZSB2YWx1ZSBpcyBhdCB0aGlzIHRpbWUgc2V0IHRvIGB1bmRlZmluZWRgLgogKgogKiBgYGBqcwogKiBmdW5jdGlvbiBsaW5raW5nRm4oc2NvcGUsIGVsbSwgYXR0cnMsIGN0cmwpIHsKICogICAvLyBnZXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZQogKiAgIGNvbnNvbGUubG9nKGF0dHJzLm5nTW9kZWwpOwogKgogKiAgIC8vIGNoYW5nZSB0aGUgYXR0cmlidXRlCiAqICAgYXR0cnMuJHNldCgnbmdNb2RlbCcsICduZXcgdmFsdWUnKTsKICoKICogICAvLyBvYnNlcnZlIGNoYW5nZXMgdG8gaW50ZXJwb2xhdGVkIGF0dHJpYnV0ZQogKiAgIGF0dHJzLiRvYnNlcnZlKCduZ01vZGVsJywgZnVuY3Rpb24odmFsdWUpIHsKICogICAgIGNvbnNvbGUubG9nKCduZ01vZGVsIGhhcyBjaGFuZ2VkIHZhbHVlIHRvICcgKyB2YWx1ZSk7CiAqICAgfSk7CiAqIH0KICogYGBgCiAqCiAqIEJlbG93IGlzIGFuIGV4YW1wbGUgdXNpbmcgYCRjb21waWxlUHJvdmlkZXJgLgogKgogKiA8ZGl2IGNsYXNzPSJhbGVydCBhbGVydC13YXJuaW5nIj4KICogKipOb3RlKio6IFR5cGljYWxseSBkaXJlY3RpdmVzIGFyZSByZWdpc3RlcmVkIHdpdGggYG1vZHVsZS5kaXJlY3RpdmVgLiBUaGUgZXhhbXBsZSBiZWxvdyBpcwogKiB0byBpbGx1c3RyYXRlIGhvdyBgJGNvbXBpbGVgIHdvcmtzLgogKiA8L2Rpdj4KICoKIDxleGFtcGxlIG1vZHVsZT0iY29tcGlsZSI+CiAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgPHNjcmlwdD4KICAgICAgYW5ndWxhci5tb2R1bGUoJ2NvbXBpbGUnLCBbXSwgZnVuY3Rpb24oJGNvbXBpbGVQcm92aWRlcikgewogICAgICAgIC8vIGNvbmZpZ3VyZSBuZXcgJ2NvbXBpbGUnIGRpcmVjdGl2ZSBieSBwYXNzaW5nIGEgZGlyZWN0aXZlCiAgICAgICAgLy8gZmFjdG9yeSBmdW5jdGlvbi4gVGhlIGZhY3RvcnkgZnVuY3Rpb24gaW5qZWN0cyB0aGUgJyRjb21waWxlJwogICAgICAgICRjb21waWxlUHJvdmlkZXIuZGlyZWN0aXZlKCdjb21waWxlJywgZnVuY3Rpb24oJGNvbXBpbGUpIHsKICAgICAgICAgIC8vIGRpcmVjdGl2ZSBmYWN0b3J5IGNyZWF0ZXMgYSBsaW5rIGZ1bmN0aW9uCiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7CiAgICAgICAgICAgIHNjb3BlLiR3YXRjaCgKICAgICAgICAgICAgICBmdW5jdGlvbihzY29wZSkgewogICAgICAgICAgICAgICAgIC8vIHdhdGNoIHRoZSAnY29tcGlsZScgZXhwcmVzc2lvbiBmb3IgY2hhbmdlcwogICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlLiRldmFsKGF0dHJzLmNvbXBpbGUpOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlICdjb21waWxlJyBleHByZXNzaW9uIGNoYW5nZXMKICAgICAgICAgICAgICAgIC8vIGFzc2lnbiBpdCBpbnRvIHRoZSBjdXJyZW50IERPTQogICAgICAgICAgICAgICAgZWxlbWVudC5odG1sKHZhbHVlKTsKCiAgICAgICAgICAgICAgICAvLyBjb21waWxlIHRoZSBuZXcgRE9NIGFuZCBsaW5rIGl0IHRvIHRoZSBjdXJyZW50CiAgICAgICAgICAgICAgICAvLyBzY29wZS4KICAgICAgICAgICAgICAgIC8vIE5PVEU6IHdlIG9ubHkgY29tcGlsZSAuY2hpbGROb2RlcyBzbyB0aGF0CiAgICAgICAgICAgICAgICAvLyB3ZSBkb24ndCBnZXQgaW50byBpbmZpbml0ZSBsb29wIGNvbXBpbGluZyBvdXJzZWx2ZXMKICAgICAgICAgICAgICAgICRjb21waWxlKGVsZW1lbnQuY29udGVudHMoKSkoc2NvcGUpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTsKICAgICAgICAgIH07CiAgICAgICAgfSkKICAgICAgfSk7CgogICAgICBmdW5jdGlvbiBDdHJsKCRzY29wZSkgewogICAgICAgICRzY29wZS5uYW1lID0gJ0FuZ3VsYXInOwogICAgICAgICRzY29wZS5odG1sID0gJ0hlbGxvIHt7bmFtZX19JzsKICAgICAgfQogICAgPC9zY3JpcHQ+CiAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9IkN0cmwiPgogICAgICA8aW5wdXQgbmctbW9kZWw9Im5hbWUiPiA8YnI+CiAgICAgIDx0ZXh0YXJlYSBuZy1tb2RlbD0iaHRtbCI+PC90ZXh0YXJlYT4gPGJyPgogICAgICA8ZGl2IGNvbXBpbGU9Imh0bWwiPjwvZGl2PgogICAgPC9kaXY+CiAgIDwvZmlsZT4KICAgPGZpbGUgbmFtZT0icHJvdHJhY3Rvci5qcyIgdHlwZT0icHJvdHJhY3RvciI+CiAgICAgaXQoJ3Nob3VsZCBhdXRvIGNvbXBpbGUnLCBmdW5jdGlvbigpIHsKICAgICAgIHZhciB0ZXh0YXJlYSA9ICQoJ3RleHRhcmVhJyk7CiAgICAgICB2YXIgb3V0cHV0ID0gJCgnZGl2W2NvbXBpbGVdJyk7CiAgICAgICAvLyBUaGUgaW5pdGlhbCBzdGF0ZSByZWFkcyAnSGVsbG8gQW5ndWxhcicuCiAgICAgICBleHBlY3Qob3V0cHV0LmdldFRleHQoKSkudG9CZSgnSGVsbG8gQW5ndWxhcicpOwogICAgICAgdGV4dGFyZWEuY2xlYXIoKTsKICAgICAgIHRleHRhcmVhLnNlbmRLZXlzKCd7e25hbWV9fSEnKTsKICAgICAgIGV4cGVjdChvdXRwdXQuZ2V0VGV4dCgpKS50b0JlKCdBbmd1bGFyIScpOwogICAgIH0pOwogICA8L2ZpbGU+CiA8L2V4YW1wbGU+CgogKgogKgogKiBAcGFyYW0ge3N0cmluZ3xET01FbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgb3IgSFRNTCBzdHJpbmcgdG8gY29tcGlsZSBpbnRvIGEgdGVtcGxhdGUgZnVuY3Rpb24uCiAqIEBwYXJhbSB7ZnVuY3Rpb24oYW5ndWxhci5TY29wZSwgY2xvbmVBdHRhY2hGbj0pfSB0cmFuc2NsdWRlIGZ1bmN0aW9uIGF2YWlsYWJsZSB0byBkaXJlY3RpdmVzLgogKiBAcGFyYW0ge251bWJlcn0gbWF4UHJpb3JpdHkgb25seSBhcHBseSBkaXJlY3RpdmVzIGxvd2VyIHRoYW4gZ2l2ZW4gcHJpb3JpdHkgKE9ubHkgZWZmZWN0cyB0aGUKICogICAgICAgICAgICAgICAgIHJvb3QgZWxlbWVudChzKSwgbm90IHRoZWlyIGNoaWxkcmVuKQogKiBAcmV0dXJucyB7ZnVuY3Rpb24oc2NvcGUsIGNsb25lQXR0YWNoRm49KX0gYSBsaW5rIGZ1bmN0aW9uIHdoaWNoIGlzIHVzZWQgdG8gYmluZCB0ZW1wbGF0ZQogKiAoYSBET00gZWxlbWVudC90cmVlKSB0byBhIHNjb3BlLiBXaGVyZToKICoKICogICogYHNjb3BlYCAtIEEge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgU2NvcGV9IHRvIGJpbmQgdG8uCiAqICAqIGBjbG9uZUF0dGFjaEZuYCAtIElmIGBjbG9uZUF0dGFjaEZuYCBpcyBwcm92aWRlZCwgdGhlbiB0aGUgbGluayBmdW5jdGlvbiB3aWxsIGNsb25lIHRoZQogKiAgYHRlbXBsYXRlYCBhbmQgY2FsbCB0aGUgYGNsb25lQXR0YWNoRm5gIGZ1bmN0aW9uIGFsbG93aW5nIHRoZSBjYWxsZXIgdG8gYXR0YWNoIHRoZQogKiAgY2xvbmVkIGVsZW1lbnRzIHRvIHRoZSBET00gZG9jdW1lbnQgYXQgdGhlIGFwcHJvcHJpYXRlIHBsYWNlLiBUaGUgYGNsb25lQXR0YWNoRm5gIGlzCiAqICBjYWxsZWQgYXM6IDxicj4gYGNsb25lQXR0YWNoRm4oY2xvbmVkRWxlbWVudCwgc2NvcGUpYCB3aGVyZToKICoKICogICAgICAqIGBjbG9uZWRFbGVtZW50YCAtIGlzIGEgY2xvbmUgb2YgdGhlIG9yaWdpbmFsIGBlbGVtZW50YCBwYXNzZWQgaW50byB0aGUgY29tcGlsZXIuCiAqICAgICAgKiBgc2NvcGVgIC0gaXMgdGhlIGN1cnJlbnQgc2NvcGUgd2l0aCB3aGljaCB0aGUgbGlua2luZyBmdW5jdGlvbiBpcyB3b3JraW5nIHdpdGguCiAqCiAqIENhbGxpbmcgdGhlIGxpbmtpbmcgZnVuY3Rpb24gcmV0dXJucyB0aGUgZWxlbWVudCBvZiB0aGUgdGVtcGxhdGUuIEl0IGlzIGVpdGhlciB0aGUgb3JpZ2luYWwKICogZWxlbWVudCBwYXNzZWQgaW4sIG9yIHRoZSBjbG9uZSBvZiB0aGUgZWxlbWVudCBpZiB0aGUgYGNsb25lQXR0YWNoRm5gIGlzIHByb3ZpZGVkLgogKgogKiBBZnRlciBsaW5raW5nIHRoZSB2aWV3IGlzIG5vdCB1cGRhdGVkIHVudGlsIGFmdGVyIGEgY2FsbCB0byAkZGlnZXN0IHdoaWNoIHR5cGljYWxseSBpcyBkb25lIGJ5CiAqIEFuZ3VsYXIgYXV0b21hdGljYWxseS4KICoKICogSWYgeW91IG5lZWQgYWNjZXNzIHRvIHRoZSBib3VuZCB2aWV3LCB0aGVyZSBhcmUgdHdvIHdheXMgdG8gZG8gaXQ6CiAqCiAqIC0gSWYgeW91IGFyZSBub3QgYXNraW5nIHRoZSBsaW5raW5nIGZ1bmN0aW9uIHRvIGNsb25lIHRoZSB0ZW1wbGF0ZSwgY3JlYXRlIHRoZSBET00gZWxlbWVudChzKQogKiAgIGJlZm9yZSB5b3Ugc2VuZCB0aGVtIHRvIHRoZSBjb21waWxlciBhbmQga2VlcCB0aGlzIHJlZmVyZW5jZSBhcm91bmQuCiAqICAgYGBganMKICogICAgIHZhciBlbGVtZW50ID0gJGNvbXBpbGUoJzxwPnt7dG90YWx9fTwvcD4nKShzY29wZSk7CiAqICAgYGBgCiAqCiAqIC0gaWYgb24gdGhlIG90aGVyIGhhbmQsIHlvdSBuZWVkIHRoZSBlbGVtZW50IHRvIGJlIGNsb25lZCwgdGhlIHZpZXcgcmVmZXJlbmNlIGZyb20gdGhlIG9yaWdpbmFsCiAqICAgZXhhbXBsZSB3b3VsZCBub3QgcG9pbnQgdG8gdGhlIGNsb25lLCBidXQgcmF0aGVyIHRvIHRoZSBvcmlnaW5hbCB0ZW1wbGF0ZSB0aGF0IHdhcyBjbG9uZWQuIEluCiAqICAgdGhpcyBjYXNlLCB5b3UgY2FuIGFjY2VzcyB0aGUgY2xvbmUgdmlhIHRoZSBjbG9uZUF0dGFjaEZuOgogKiAgIGBgYGpzCiAqICAgICB2YXIgdGVtcGxhdGVFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KCc8cD57e3RvdGFsfX08L3A+JyksCiAqICAgICAgICAgc2NvcGUgPSAuLi4uOwogKgogKiAgICAgdmFyIGNsb25lZEVsZW1lbnQgPSAkY29tcGlsZSh0ZW1wbGF0ZUVsZW1lbnQpKHNjb3BlLCBmdW5jdGlvbihjbG9uZWRFbGVtZW50LCBzY29wZSkgewogKiAgICAgICAvL2F0dGFjaCB0aGUgY2xvbmUgdG8gRE9NIGRvY3VtZW50IGF0IHRoZSByaWdodCBwbGFjZQogKiAgICAgfSk7CiAqCiAqICAgICAvL25vdyB3ZSBoYXZlIHJlZmVyZW5jZSB0byB0aGUgY2xvbmVkIERPTSB2aWEgYGNsb25lZEVsZW1lbnRgCiAqICAgYGBgCiAqCiAqCiAqIEZvciBpbmZvcm1hdGlvbiBvbiBob3cgdGhlIGNvbXBpbGVyIHdvcmtzLCBzZWUgdGhlCiAqIHtAbGluayBndWlkZS9jb21waWxlciBBbmd1bGFyIEhUTUwgQ29tcGlsZXJ9IHNlY3Rpb24gb2YgdGhlIERldmVsb3BlciBHdWlkZS4KICovCgp2YXIgJGNvbXBpbGVNaW5FcnIgPSBtaW5FcnIoJyRjb21waWxlJyk7CgovKioKICogQG5nZG9jIHByb3ZpZGVyCiAqIEBuYW1lICRjb21waWxlUHJvdmlkZXIKICogQGtpbmQgZnVuY3Rpb24KICoKICogQGRlc2NyaXB0aW9uCiAqLwokQ29tcGlsZVByb3ZpZGVyLiRpbmplY3QgPSBbJyRwcm92aWRlJywgJyQkc2FuaXRpemVVcmlQcm92aWRlciddOwpmdW5jdGlvbiAkQ29tcGlsZVByb3ZpZGVyKCRwcm92aWRlLCAkJHNhbml0aXplVXJpUHJvdmlkZXIpIHsKICB2YXIgaGFzRGlyZWN0aXZlcyA9IHt9LAogICAgICBTdWZmaXggPSAnRGlyZWN0aXZlJywKICAgICAgQ09NTUVOVF9ESVJFQ1RJVkVfUkVHRVhQID0gL15ccypkaXJlY3RpdmVcOlxzKihbXGRcd19cLV0rKVxzKyguKikkLywKICAgICAgQ0xBU1NfRElSRUNUSVZFX1JFR0VYUCA9IC8oKFtcZFx3X1wtXSspKD86XDooW147XSspKT87PykvOwoKICAvLyBSZWY6IGh0dHA6Ly9kZXZlbG9wZXJzLndoYXR3Zy5vcmcvd2ViYXBwYXBpcy5odG1sI2V2ZW50LWhhbmRsZXItaWRsLWF0dHJpYnV0ZXMKICAvLyBUaGUgYXNzdW1wdGlvbiBpcyB0aGF0IGZ1dHVyZSBET00gZXZlbnQgYXR0cmlidXRlIG5hbWVzIHdpbGwgYmVnaW4gd2l0aAogIC8vICdvbicgYW5kIGJlIGNvbXBvc2VkIG9mIG9ubHkgRW5nbGlzaCBsZXR0ZXJzLgogIHZhciBFVkVOVF9IQU5ETEVSX0FUVFJfUkVHRVhQID0gL14ob25bYS16XSt8Zm9ybWFjdGlvbikkLzsKCiAgLyoqCiAgICogQG5nZG9jIG1ldGhvZAogICAqIEBuYW1lICRjb21waWxlUHJvdmlkZXIjZGlyZWN0aXZlCiAgICogQGtpbmQgZnVuY3Rpb24KICAgKgogICAqIEBkZXNjcmlwdGlvbgogICAqIFJlZ2lzdGVyIGEgbmV3IGRpcmVjdGl2ZSB3aXRoIHRoZSBjb21waWxlci4KICAgKgogICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBOYW1lIG9mIHRoZSBkaXJlY3RpdmUgaW4gY2FtZWwtY2FzZSAoaS5lLiA8Y29kZT5uZ0JpbmQ8L2NvZGU+IHdoaWNoCiAgICogICAgd2lsbCBtYXRjaCBhcyA8Y29kZT5uZy1iaW5kPC9jb2RlPiksIG9yIGFuIG9iamVjdCBtYXAgb2YgZGlyZWN0aXZlcyB3aGVyZSB0aGUga2V5cyBhcmUgdGhlCiAgICogICAgbmFtZXMgYW5kIHRoZSB2YWx1ZXMgYXJlIHRoZSBmYWN0b3JpZXMuCiAgICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheX0gZGlyZWN0aXZlRmFjdG9yeSBBbiBpbmplY3RhYmxlIGRpcmVjdGl2ZSBmYWN0b3J5IGZ1bmN0aW9uLiBTZWUKICAgKiAgICB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlfSBmb3IgbW9yZSBpbmZvLgogICAqIEByZXR1cm5zIHtuZy4kY29tcGlsZVByb3ZpZGVyfSBTZWxmIGZvciBjaGFpbmluZy4KICAgKi8KICAgdGhpcy5kaXJlY3RpdmUgPSBmdW5jdGlvbiByZWdpc3RlckRpcmVjdGl2ZShuYW1lLCBkaXJlY3RpdmVGYWN0b3J5KSB7CiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCAnZGlyZWN0aXZlJyk7CiAgICBpZiAoaXNTdHJpbmcobmFtZSkpIHsKICAgICAgYXNzZXJ0QXJnKGRpcmVjdGl2ZUZhY3RvcnksICdkaXJlY3RpdmVGYWN0b3J5Jyk7CiAgICAgIGlmICghaGFzRGlyZWN0aXZlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkgewogICAgICAgIGhhc0RpcmVjdGl2ZXNbbmFtZV0gPSBbXTsKICAgICAgICAkcHJvdmlkZS5mYWN0b3J5KG5hbWUgKyBTdWZmaXgsIFsnJGluamVjdG9yJywgJyRleGNlcHRpb25IYW5kbGVyJywKICAgICAgICAgIGZ1bmN0aW9uKCRpbmplY3RvciwgJGV4Y2VwdGlvbkhhbmRsZXIpIHsKICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZXMgPSBbXTsKICAgICAgICAgICAgZm9yRWFjaChoYXNEaXJlY3RpdmVzW25hbWVdLCBmdW5jdGlvbihkaXJlY3RpdmVGYWN0b3J5LCBpbmRleCkgewogICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aXZlID0gJGluamVjdG9yLmludm9rZShkaXJlY3RpdmVGYWN0b3J5KTsKICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGRpcmVjdGl2ZSkpIHsKICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlID0geyBjb21waWxlOiB2YWx1ZUZuKGRpcmVjdGl2ZSkgfTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWRpcmVjdGl2ZS5jb21waWxlICYmIGRpcmVjdGl2ZS5saW5rKSB7CiAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5jb21waWxlID0gdmFsdWVGbihkaXJlY3RpdmUubGluayk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkaXJlY3RpdmUucHJpb3JpdHkgPSBkaXJlY3RpdmUucHJpb3JpdHkgfHwgMDsKICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5pbmRleCA9IGluZGV4OwogICAgICAgICAgICAgICAgZGlyZWN0aXZlLm5hbWUgPSBkaXJlY3RpdmUubmFtZSB8fCBuYW1lOwogICAgICAgICAgICAgICAgZGlyZWN0aXZlLnJlcXVpcmUgPSBkaXJlY3RpdmUucmVxdWlyZSB8fCAoZGlyZWN0aXZlLmNvbnRyb2xsZXIgJiYgZGlyZWN0aXZlLm5hbWUpOwogICAgICAgICAgICAgICAgZGlyZWN0aXZlLnJlc3RyaWN0ID0gZGlyZWN0aXZlLnJlc3RyaWN0IHx8ICdBJzsKICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXMucHVzaChkaXJlY3RpdmUpOwogICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBkaXJlY3RpdmVzOwogICAgICAgICAgfV0pOwogICAgICB9CiAgICAgIGhhc0RpcmVjdGl2ZXNbbmFtZV0ucHVzaChkaXJlY3RpdmVGYWN0b3J5KTsKICAgIH0gZWxzZSB7CiAgICAgIGZvckVhY2gobmFtZSwgcmV2ZXJzZVBhcmFtcyhyZWdpc3RlckRpcmVjdGl2ZSkpOwogICAgfQogICAgcmV0dXJuIHRoaXM7CiAgfTsKCgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI2FIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0CiAgICogQGtpbmQgZnVuY3Rpb24KICAgKgogICAqIEBkZXNjcmlwdGlvbgogICAqIFJldHJpZXZlcyBvciBvdmVycmlkZXMgdGhlIGRlZmF1bHQgcmVndWxhciBleHByZXNzaW9uIHRoYXQgaXMgdXNlZCBmb3Igd2hpdGVsaXN0aW5nIG9mIHNhZmUKICAgKiB1cmxzIGR1cmluZyBhW2hyZWZdIHNhbml0aXphdGlvbi4KICAgKgogICAqIFRoZSBzYW5pdGl6YXRpb24gaXMgYSBzZWN1cml0eSBtZWFzdXJlIGFpbWVkIGF0IHByZXZlbnQgWFNTIGF0dGFja3MgdmlhIGh0bWwgbGlua3MuCiAgICoKICAgKiBBbnkgdXJsIGFib3V0IHRvIGJlIGFzc2lnbmVkIHRvIGFbaHJlZl0gdmlhIGRhdGEtYmluZGluZyBpcyBmaXJzdCBub3JtYWxpemVkIGFuZCB0dXJuZWQgaW50bwogICAqIGFuIGFic29sdXRlIHVybC4gQWZ0ZXJ3YXJkcywgdGhlIHVybCBpcyBtYXRjaGVkIGFnYWluc3QgdGhlIGBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdGAKICAgKiByZWd1bGFyIGV4cHJlc3Npb24uIElmIGEgbWF0Y2ggaXMgZm91bmQsIHRoZSBvcmlnaW5hbCB1cmwgaXMgd3JpdHRlbiBpbnRvIHRoZSBkb20uIE90aGVyd2lzZSwKICAgKiB0aGUgYWJzb2x1dGUgdXJsIGlzIHByZWZpeGVkIHdpdGggYCd1bnNhZmU6J2Agc3RyaW5nIGFuZCBvbmx5IHRoZW4gaXMgaXQgd3JpdHRlbiBpbnRvIHRoZSBET00uCiAgICoKICAgKiBAcGFyYW0ge1JlZ0V4cD19IHJlZ2V4cCBOZXcgcmVnZXhwIHRvIHdoaXRlbGlzdCB1cmxzIHdpdGguCiAgICogQHJldHVybnMge1JlZ0V4cHxuZy4kY29tcGlsZVByb3ZpZGVyfSBDdXJyZW50IFJlZ0V4cCBpZiBjYWxsZWQgd2l0aG91dCB2YWx1ZSBvciBzZWxmIGZvcgogICAqICAgIGNoYWluaW5nIG90aGVyd2lzZS4KICAgKi8KICB0aGlzLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gZnVuY3Rpb24ocmVnZXhwKSB7CiAgICBpZiAoaXNEZWZpbmVkKHJlZ2V4cCkpIHsKICAgICAgJCRzYW5pdGl6ZVVyaVByb3ZpZGVyLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0KHJlZ2V4cCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICQkc2FuaXRpemVVcmlQcm92aWRlci5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCgpOwogICAgfQogIH07CgoKICAvKioKICAgKiBAbmdkb2MgbWV0aG9kCiAgICogQG5hbWUgJGNvbXBpbGVQcm92aWRlciNpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QKICAgKiBAa2luZCBmdW5jdGlvbgogICAqCiAgICogQGRlc2NyaXB0aW9uCiAgICogUmV0cmlldmVzIG9yIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIGZvciB3aGl0ZWxpc3Rpbmcgb2Ygc2FmZQogICAqIHVybHMgZHVyaW5nIGltZ1tzcmNdIHNhbml0aXphdGlvbi4KICAgKgogICAqIFRoZSBzYW5pdGl6YXRpb24gaXMgYSBzZWN1cml0eSBtZWFzdXJlIGFpbWVkIGF0IHByZXZlbnQgWFNTIGF0dGFja3MgdmlhIGh0bWwgbGlua3MuCiAgICoKICAgKiBBbnkgdXJsIGFib3V0IHRvIGJlIGFzc2lnbmVkIHRvIGltZ1tzcmNdIHZpYSBkYXRhLWJpbmRpbmcgaXMgZmlyc3Qgbm9ybWFsaXplZCBhbmQgdHVybmVkIGludG8KICAgKiBhbiBhYnNvbHV0ZSB1cmwuIEFmdGVyd2FyZHMsIHRoZSB1cmwgaXMgbWF0Y2hlZCBhZ2FpbnN0IHRoZSBgaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0YAogICAqIHJlZ3VsYXIgZXhwcmVzc2lvbi4gSWYgYSBtYXRjaCBpcyBmb3VuZCwgdGhlIG9yaWdpbmFsIHVybCBpcyB3cml0dGVuIGludG8gdGhlIGRvbS4gT3RoZXJ3aXNlLAogICAqIHRoZSBhYnNvbHV0ZSB1cmwgaXMgcHJlZml4ZWQgd2l0aCBgJ3Vuc2FmZTonYCBzdHJpbmcgYW5kIG9ubHkgdGhlbiBpcyBpdCB3cml0dGVuIGludG8gdGhlIERPTS4KICAgKgogICAqIEBwYXJhbSB7UmVnRXhwPX0gcmVnZXhwIE5ldyByZWdleHAgdG8gd2hpdGVsaXN0IHVybHMgd2l0aC4KICAgKiBAcmV0dXJucyB7UmVnRXhwfG5nLiRjb21waWxlUHJvdmlkZXJ9IEN1cnJlbnQgUmVnRXhwIGlmIGNhbGxlZCB3aXRob3V0IHZhbHVlIG9yIHNlbGYgZm9yCiAgICogICAgY2hhaW5pbmcgb3RoZXJ3aXNlLgogICAqLwogIHRoaXMuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gZnVuY3Rpb24ocmVnZXhwKSB7CiAgICBpZiAoaXNEZWZpbmVkKHJlZ2V4cCkpIHsKICAgICAgJCRzYW5pdGl6ZVVyaVByb3ZpZGVyLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdChyZWdleHApOwogICAgICByZXR1cm4gdGhpczsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiAkJHNhbml0aXplVXJpUHJvdmlkZXIuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0KCk7CiAgICB9CiAgfTsKCiAgdGhpcy4kZ2V0ID0gWwogICAgICAgICAgICAnJGluamVjdG9yJywgJyRpbnRlcnBvbGF0ZScsICckZXhjZXB0aW9uSGFuZGxlcicsICckaHR0cCcsICckdGVtcGxhdGVDYWNoZScsICckcGFyc2UnLAogICAgICAgICAgICAnJGNvbnRyb2xsZXInLCAnJHJvb3RTY29wZScsICckZG9jdW1lbnQnLCAnJHNjZScsICckYW5pbWF0ZScsICckJHNhbml0aXplVXJpJywKICAgIGZ1bmN0aW9uKCRpbmplY3RvciwgICAkaW50ZXJwb2xhdGUsICAgJGV4Y2VwdGlvbkhhbmRsZXIsICAgJGh0dHAsICAgJHRlbXBsYXRlQ2FjaGUsICAgJHBhcnNlLAogICAgICAgICAgICAgJGNvbnRyb2xsZXIsICAgJHJvb3RTY29wZSwgICAkZG9jdW1lbnQsICAgJHNjZSwgICAkYW5pbWF0ZSwgICAkJHNhbml0aXplVXJpKSB7CgogICAgdmFyIEF0dHJpYnV0ZXMgPSBmdW5jdGlvbihlbGVtZW50LCBhdHRyKSB7CiAgICAgIHRoaXMuJCRlbGVtZW50ID0gZWxlbWVudDsKICAgICAgdGhpcy4kYXR0ciA9IGF0dHIgfHwge307CiAgICB9OwoKICAgIEF0dHJpYnV0ZXMucHJvdG90eXBlID0gewogICAgICAkbm9ybWFsaXplOiBkaXJlY3RpdmVOb3JtYWxpemUsCgoKICAgICAgLyoqCiAgICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJGFkZENsYXNzCiAgICAgICAqIEBraW5kIGZ1bmN0aW9uCiAgICAgICAqCiAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgKiBBZGRzIHRoZSBDU1MgY2xhc3MgdmFsdWUgc3BlY2lmaWVkIGJ5IHRoZSBjbGFzc1ZhbCBwYXJhbWV0ZXIgdG8gdGhlIGVsZW1lbnQuIElmIGFuaW1hdGlvbnMKICAgICAgICogYXJlIGVuYWJsZWQgdGhlbiBhbiBhbmltYXRpb24gd2lsbCBiZSB0cmlnZ2VyZWQgZm9yIHRoZSBjbGFzcyBhZGRpdGlvbi4KICAgICAgICoKICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzVmFsIFRoZSBjbGFzc05hbWUgdmFsdWUgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBlbGVtZW50CiAgICAgICAqLwogICAgICAkYWRkQ2xhc3MgOiBmdW5jdGlvbihjbGFzc1ZhbCkgewogICAgICAgIGlmKGNsYXNzVmFsICYmIGNsYXNzVmFsLmxlbmd0aCA+IDApIHsKICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LCBjbGFzc1ZhbCk7CiAgICAgICAgfQogICAgICB9LAoKICAgICAgLyoqCiAgICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJHJlbW92ZUNsYXNzCiAgICAgICAqIEBraW5kIGZ1bmN0aW9uCiAgICAgICAqCiAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgKiBSZW1vdmVzIHRoZSBDU1MgY2xhc3MgdmFsdWUgc3BlY2lmaWVkIGJ5IHRoZSBjbGFzc1ZhbCBwYXJhbWV0ZXIgZnJvbSB0aGUgZWxlbWVudC4gSWYKICAgICAgICogYW5pbWF0aW9ucyBhcmUgZW5hYmxlZCB0aGVuIGFuIGFuaW1hdGlvbiB3aWxsIGJlIHRyaWdnZXJlZCBmb3IgdGhlIGNsYXNzIHJlbW92YWwuCiAgICAgICAqCiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc1ZhbCBUaGUgY2xhc3NOYW1lIHZhbHVlIHRoYXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnQKICAgICAgICovCiAgICAgICRyZW1vdmVDbGFzcyA6IGZ1bmN0aW9uKGNsYXNzVmFsKSB7CiAgICAgICAgaWYoY2xhc3NWYWwgJiYgY2xhc3NWYWwubGVuZ3RoID4gMCkgewogICAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsIGNsYXNzVmFsKTsKICAgICAgICB9CiAgICAgIH0sCgogICAgICAvKioKICAgICAgICogQG5nZG9jIG1ldGhvZAogICAgICAgKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkdXBkYXRlQ2xhc3MKICAgICAgICogQGtpbmQgZnVuY3Rpb24KICAgICAgICoKICAgICAgICogQGRlc2NyaXB0aW9uCiAgICAgICAqIEFkZHMgYW5kIHJlbW92ZXMgdGhlIGFwcHJvcHJpYXRlIENTUyBjbGFzcyB2YWx1ZXMgdG8gdGhlIGVsZW1lbnQgYmFzZWQgb24gdGhlIGRpZmZlcmVuY2UKICAgICAgICogYmV0d2VlbiB0aGUgbmV3IGFuZCBvbGQgQ1NTIGNsYXNzIHZhbHVlcyAoc3BlY2lmaWVkIGFzIG5ld0NsYXNzZXMgYW5kIG9sZENsYXNzZXMpLgogICAgICAgKgogICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3Q2xhc3NlcyBUaGUgY3VycmVudCBDU1MgY2xhc3NOYW1lIHZhbHVlCiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvbGRDbGFzc2VzIFRoZSBmb3JtZXIgQ1NTIGNsYXNzTmFtZSB2YWx1ZQogICAgICAgKi8KICAgICAgJHVwZGF0ZUNsYXNzIDogZnVuY3Rpb24obmV3Q2xhc3Nlcywgb2xkQ2xhc3NlcykgewogICAgICAgIHZhciB0b0FkZCA9IHRva2VuRGlmZmVyZW5jZShuZXdDbGFzc2VzLCBvbGRDbGFzc2VzKTsKICAgICAgICB2YXIgdG9SZW1vdmUgPSB0b2tlbkRpZmZlcmVuY2Uob2xkQ2xhc3NlcywgbmV3Q2xhc3Nlcyk7CgogICAgICAgIGlmKHRvQWRkLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsIHRvUmVtb3ZlKTsKICAgICAgICB9IGVsc2UgaWYodG9SZW1vdmUubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCwgdG9BZGQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAkYW5pbWF0ZS5zZXRDbGFzcyh0aGlzLiQkZWxlbWVudCwgdG9BZGQsIHRvUmVtb3ZlKTsKICAgICAgICB9CiAgICAgIH0sCgogICAgICAvKioKICAgICAgICogU2V0IGEgbm9ybWFsaXplZCBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQgaW4gYSB3YXkgc3VjaCB0aGF0IGFsbCBkaXJlY3RpdmVzCiAgICAgICAqIGNhbiBzaGFyZSB0aGUgYXR0cmlidXRlLiBUaGlzIGZ1bmN0aW9uIHByb3Blcmx5IGhhbmRsZXMgYm9vbGVhbiBhdHRyaWJ1dGVzLgogICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IE5vcm1hbGl6ZWQga2V5LiAoaWUgbmdBdHRyaWJ1dGUpCiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuIElmIGBudWxsYCBhdHRyaWJ1dGUgd2lsbCBiZSBkZWxldGVkLgogICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSB3cml0ZUF0dHIgSWYgZmFsc2UsIGRvZXMgbm90IHdyaXRlIHRoZSB2YWx1ZSB0byBET00gZWxlbWVudCBhdHRyaWJ1dGUuCiAgICAgICAqICAgICBEZWZhdWx0cyB0byB0cnVlLgogICAgICAgKiBAcGFyYW0ge3N0cmluZz19IGF0dHJOYW1lIE9wdGlvbmFsIG5vbmUgbm9ybWFsaXplZCBuYW1lLiBEZWZhdWx0cyB0byBrZXkuCiAgICAgICAqLwogICAgICAkc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlLCB3cml0ZUF0dHIsIGF0dHJOYW1lKSB7CiAgICAgICAgLy8gVE9ETzogZGVjaWRlIHdoZXRoZXIgb3Igbm90IHRvIHRocm93IGFuIGVycm9yIGlmICJjbGFzcyIKICAgICAgICAvL2lzIHNldCB0aHJvdWdoIHRoaXMgZnVuY3Rpb24gc2luY2UgaXQgbWF5IGNhdXNlICR1cGRhdGVDbGFzcyB0bwogICAgICAgIC8vYmVjb21lIHVuc3RhYmxlLgoKICAgICAgICB2YXIgYm9vbGVhbktleSA9IGdldEJvb2xlYW5BdHRyTmFtZSh0aGlzLiQkZWxlbWVudFswXSwga2V5KSwKICAgICAgICAgICAgbm9ybWFsaXplZFZhbCwKICAgICAgICAgICAgbm9kZU5hbWU7CgogICAgICAgIGlmIChib29sZWFuS2V5KSB7CiAgICAgICAgICB0aGlzLiQkZWxlbWVudC5wcm9wKGtleSwgdmFsdWUpOwogICAgICAgICAgYXR0ck5hbWUgPSBib29sZWFuS2V5OwogICAgICAgIH0KCiAgICAgICAgdGhpc1trZXldID0gdmFsdWU7CgogICAgICAgIC8vIHRyYW5zbGF0ZSBub3JtYWxpemVkIGtleSB0byBhY3R1YWwga2V5CiAgICAgICAgaWYgKGF0dHJOYW1lKSB7CiAgICAgICAgICB0aGlzLiRhdHRyW2tleV0gPSBhdHRyTmFtZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYXR0ck5hbWUgPSB0aGlzLiRhdHRyW2tleV07CiAgICAgICAgICBpZiAoIWF0dHJOYW1lKSB7CiAgICAgICAgICAgIHRoaXMuJGF0dHJba2V5XSA9IGF0dHJOYW1lID0gc25ha2VfY2FzZShrZXksICctJyk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBub2RlTmFtZSA9IG5vZGVOYW1lXyh0aGlzLiQkZWxlbWVudCk7CgogICAgICAgIC8vIHNhbml0aXplIGFbaHJlZl0gYW5kIGltZ1tzcmNdIHZhbHVlcwogICAgICAgIGlmICgobm9kZU5hbWUgPT09ICdBJyAmJiBrZXkgPT09ICdocmVmJykgfHwKICAgICAgICAgICAgKG5vZGVOYW1lID09PSAnSU1HJyAmJiBrZXkgPT09ICdzcmMnKSkgewogICAgICAgICAgdGhpc1trZXldID0gdmFsdWUgPSAkJHNhbml0aXplVXJpKHZhbHVlLCBrZXkgPT09ICdzcmMnKTsKICAgICAgICB9CgogICAgICAgIGlmICh3cml0ZUF0dHIgIT09IGZhbHNlKSB7CiAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICB0aGlzLiQkZWxlbWVudC5yZW1vdmVBdHRyKGF0dHJOYW1lKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJCRlbGVtZW50LmF0dHIoYXR0ck5hbWUsIHZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIGZpcmUgb2JzZXJ2ZXJzCiAgICAgICAgdmFyICQkb2JzZXJ2ZXJzID0gdGhpcy4kJG9ic2VydmVyczsKICAgICAgICAkJG9ic2VydmVycyAmJiBmb3JFYWNoKCQkb2JzZXJ2ZXJzW2tleV0sIGZ1bmN0aW9uKGZuKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBmbih2YWx1ZSk7CiAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9LAoKCiAgICAgIC8qKgogICAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgICAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRvYnNlcnZlCiAgICAgICAqIEBraW5kIGZ1bmN0aW9uCiAgICAgICAqCiAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgKiBPYnNlcnZlcyBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlLgogICAgICAgKgogICAgICAgKiBUaGUgb2JzZXJ2ZXIgZnVuY3Rpb24gd2lsbCBiZSBpbnZva2VkIG9uY2UgZHVyaW5nIHRoZSBuZXh0IGAkZGlnZXN0YCBmb2xsb3dpbmcKICAgICAgICogY29tcGlsYXRpb24uIFRoZSBvYnNlcnZlciBpcyB0aGVuIGludm9rZWQgd2hlbmV2ZXIgdGhlIGludGVycG9sYXRlZCB2YWx1ZQogICAgICAgKiBjaGFuZ2VzLgogICAgICAgKgogICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IE5vcm1hbGl6ZWQga2V5LiAoaWUgbmdBdHRyaWJ1dGUpIC4KICAgICAgICogQHBhcmFtIHtmdW5jdGlvbihpbnRlcnBvbGF0ZWRWYWx1ZSl9IGZuIEZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbmV2ZXIKICAgICAgICAgICAgICAgIHRoZSBpbnRlcnBvbGF0ZWQgdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZSBjaGFuZ2VzLgogICAgICAgKiAgICAgICAgU2VlIHRoZSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI0F0dHJpYnV0ZXMgRGlyZWN0aXZlc30gZ3VpZGUgZm9yIG1vcmUgaW5mby4KICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKCl9IHRoZSBgZm5gIHBhcmFtZXRlci4KICAgICAgICovCiAgICAgICRvYnNlcnZlOiBmdW5jdGlvbihrZXksIGZuKSB7CiAgICAgICAgdmFyIGF0dHJzID0gdGhpcywKICAgICAgICAgICAgJCRvYnNlcnZlcnMgPSAoYXR0cnMuJCRvYnNlcnZlcnMgfHwgKGF0dHJzLiQkb2JzZXJ2ZXJzID0ge30pKSwKICAgICAgICAgICAgbGlzdGVuZXJzID0gKCQkb2JzZXJ2ZXJzW2tleV0gfHwgKCQkb2JzZXJ2ZXJzW2tleV0gPSBbXSkpOwoKICAgICAgICBsaXN0ZW5lcnMucHVzaChmbik7CiAgICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCkgewogICAgICAgICAgaWYgKCFsaXN0ZW5lcnMuJCRpbnRlcikgewogICAgICAgICAgICAvLyBubyBvbmUgcmVnaXN0ZXJlZCBhdHRyaWJ1dGUgaW50ZXJwb2xhdGlvbiBmdW5jdGlvbiwgc28gbGV0cyBjYWxsIGl0IG1hbnVhbGx5CiAgICAgICAgICAgIGZuKGF0dHJzW2tleV0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBmbjsKICAgICAgfQogICAgfTsKCiAgICB2YXIgc3RhcnRTeW1ib2wgPSAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKSwKICAgICAgICBlbmRTeW1ib2wgPSAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCksCiAgICAgICAgZGVub3JtYWxpemVUZW1wbGF0ZSA9IChzdGFydFN5bWJvbCA9PSAne3snIHx8IGVuZFN5bWJvbCAgPT0gJ319JykKICAgICAgICAgICAgPyBpZGVudGl0eQogICAgICAgICAgICA6IGZ1bmN0aW9uIGRlbm9ybWFsaXplVGVtcGxhdGUodGVtcGxhdGUpIHsKICAgICAgICAgICAgICByZXR1cm4gdGVtcGxhdGUucmVwbGFjZSgvXHtcey9nLCBzdGFydFN5bWJvbCkucmVwbGFjZSgvfX0vZywgZW5kU3ltYm9sKTsKICAgICAgICB9LAogICAgICAgIE5HX0FUVFJfQklORElORyA9IC9ebmdBdHRyW0EtWl0vOwoKCiAgICByZXR1cm4gY29tcGlsZTsKCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgogICAgZnVuY3Rpb24gY29tcGlsZSgkY29tcGlsZU5vZGVzLCB0cmFuc2NsdWRlRm4sIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsCiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHsKICAgICAgaWYgKCEoJGNvbXBpbGVOb2RlcyBpbnN0YW5jZW9mIGpxTGl0ZSkpIHsKICAgICAgICAvLyBqcXVlcnkgYWx3YXlzIHJld3JhcHMsIHdoZXJlYXMgd2UgbmVlZCB0byBwcmVzZXJ2ZSB0aGUgb3JpZ2luYWwgc2VsZWN0b3Igc28gdGhhdCB3ZSBjYW4KICAgICAgICAvLyBtb2RpZnkgaXQuCiAgICAgICAgJGNvbXBpbGVOb2RlcyA9IGpxTGl0ZSgkY29tcGlsZU5vZGVzKTsKICAgICAgfQogICAgICAvLyBXZSBjYW4gbm90IGNvbXBpbGUgdG9wIGxldmVsIHRleHQgZWxlbWVudHMgc2luY2UgdGV4dCBub2RlcyBjYW4gYmUgbWVyZ2VkIGFuZCB3ZSB3aWxsCiAgICAgIC8vIG5vdCBiZSBhYmxlIHRvIGF0dGFjaCBzY29wZSBkYXRhIHRvIHRoZW0sIHNvIHdlIHdpbGwgd3JhcCB0aGVtIGluIDxzcGFuPgogICAgICBmb3JFYWNoKCRjb21waWxlTm9kZXMsIGZ1bmN0aW9uKG5vZGUsIGluZGV4KXsKICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAzIC8qIHRleHQgbm9kZSAqLyAmJiBub2RlLm5vZGVWYWx1ZS5tYXRjaCgvXFMrLykgLyogbm9uLWVtcHR5ICovICkgewogICAgICAgICAgJGNvbXBpbGVOb2Rlc1tpbmRleF0gPSBub2RlID0ganFMaXRlKG5vZGUpLndyYXAoJzxzcGFuPjwvc3Bhbj4nKS5wYXJlbnQoKVswXTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB2YXIgY29tcG9zaXRlTGlua0ZuID0KICAgICAgICAgICAgICBjb21waWxlTm9kZXMoJGNvbXBpbGVOb2RlcywgdHJhbnNjbHVkZUZuLCAkY29tcGlsZU5vZGVzLAogICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KTsKICAgICAgc2FmZUFkZENsYXNzKCRjb21waWxlTm9kZXMsICduZy1zY29wZScpOwogICAgICByZXR1cm4gZnVuY3Rpb24gcHVibGljTGlua0ZuKHNjb3BlLCBjbG9uZUNvbm5lY3RGbiwgdHJhbnNjbHVkZUNvbnRyb2xsZXJzLCBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbil7CiAgICAgICAgYXNzZXJ0QXJnKHNjb3BlLCAnc2NvcGUnKTsKICAgICAgICAvLyBpbXBvcnRhbnQhITogd2UgbXVzdCBjYWxsIG91ciBqcUxpdGUuY2xvbmUoKSBzaW5jZSB0aGUgalF1ZXJ5IG9uZSBpcyB0cnlpbmcgdG8gYmUgc21hcnQKICAgICAgICAvLyBhbmQgc29tZXRpbWVzIGNoYW5nZXMgdGhlIHN0cnVjdHVyZSBvZiB0aGUgRE9NLgogICAgICAgIHZhciAkbGlua05vZGUgPSBjbG9uZUNvbm5lY3RGbgogICAgICAgICAgPyBKUUxpdGVQcm90b3R5cGUuY2xvbmUuY2FsbCgkY29tcGlsZU5vZGVzKSAvLyBJTVBPUlRBTlQhISEKICAgICAgICAgIDogJGNvbXBpbGVOb2RlczsKCiAgICAgICAgZm9yRWFjaCh0cmFuc2NsdWRlQ29udHJvbGxlcnMsIGZ1bmN0aW9uKGluc3RhbmNlLCBuYW1lKSB7CiAgICAgICAgICAkbGlua05vZGUuZGF0YSgnJCcgKyBuYW1lICsgJ0NvbnRyb2xsZXInLCBpbnN0YW5jZSk7CiAgICAgICAgfSk7CgogICAgICAgIC8vIEF0dGFjaCBzY29wZSBvbmx5IHRvIG5vbi10ZXh0IG5vZGVzLgogICAgICAgIGZvcih2YXIgaSA9IDAsIGlpID0gJGxpbmtOb2RlLmxlbmd0aDsgaTxpaTsgaSsrKSB7CiAgICAgICAgICB2YXIgbm9kZSA9ICRsaW5rTm9kZVtpXSwKICAgICAgICAgICAgICBub2RlVHlwZSA9IG5vZGUubm9kZVR5cGU7CiAgICAgICAgICBpZiAobm9kZVR5cGUgPT09IDEgLyogZWxlbWVudCAqLyB8fCBub2RlVHlwZSA9PT0gOSAvKiBkb2N1bWVudCAqLykgewogICAgICAgICAgICAkbGlua05vZGUuZXEoaSkuZGF0YSgnJHNjb3BlJywgc2NvcGUpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGNsb25lQ29ubmVjdEZuKSBjbG9uZUNvbm5lY3RGbigkbGlua05vZGUsIHNjb3BlKTsKICAgICAgICBpZiAoY29tcG9zaXRlTGlua0ZuKSBjb21wb3NpdGVMaW5rRm4oc2NvcGUsICRsaW5rTm9kZSwgJGxpbmtOb2RlLCBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbik7CiAgICAgICAgcmV0dXJuICRsaW5rTm9kZTsKICAgICAgfTsKICAgIH0KCiAgICBmdW5jdGlvbiBzYWZlQWRkQ2xhc3MoJGVsZW1lbnQsIGNsYXNzTmFtZSkgewogICAgICB0cnkgewogICAgICAgICRlbGVtZW50LmFkZENsYXNzKGNsYXNzTmFtZSk7CiAgICAgIH0gY2F0Y2goZSkgewogICAgICAgIC8vIGlnbm9yZSwgc2luY2UgaXQgbWVhbnMgdGhhdCB3ZSBhcmUgdHJ5aW5nIHRvIHNldCBjbGFzcyBvbgogICAgICAgIC8vIFNWRyBlbGVtZW50LCB3aGVyZSBjbGFzcyBuYW1lIGlzIHJlYWQtb25seS4KICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogQ29tcGlsZSBmdW5jdGlvbiBtYXRjaGVzIGVhY2ggbm9kZSBpbiBub2RlTGlzdCBhZ2FpbnN0IHRoZSBkaXJlY3RpdmVzLiBPbmNlIGFsbCBkaXJlY3RpdmVzCiAgICAgKiBmb3IgYSBwYXJ0aWN1bGFyIG5vZGUgYXJlIGNvbGxlY3RlZCB0aGVpciBjb21waWxlIGZ1bmN0aW9ucyBhcmUgZXhlY3V0ZWQuIFRoZSBjb21waWxlCiAgICAgKiBmdW5jdGlvbnMgcmV0dXJuIHZhbHVlcyAtIHRoZSBsaW5raW5nIGZ1bmN0aW9ucyAtIGFyZSBjb21iaW5lZCBpbnRvIGEgY29tcG9zaXRlIGxpbmtpbmcKICAgICAqIGZ1bmN0aW9uLCB3aGljaCBpcyB0aGUgYSBsaW5raW5nIGZ1bmN0aW9uIGZvciB0aGUgbm9kZS4KICAgICAqCiAgICAgKiBAcGFyYW0ge05vZGVMaXN0fSBub2RlTGlzdCBhbiBhcnJheSBvZiBub2RlcyBvciBOb2RlTGlzdCB0byBjb21waWxlCiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGFuZ3VsYXIuU2NvcGUsIGNsb25lQXR0YWNoRm49KX0gdHJhbnNjbHVkZUZuIEEgbGlua2luZyBmdW5jdGlvbiwgd2hlcmUgdGhlCiAgICAgKiAgICAgICAgc2NvcGUgYXJndW1lbnQgaXMgYXV0by1nZW5lcmF0ZWQgdG8gdGhlIG5ldyBjaGlsZCBvZiB0aGUgdHJhbnNjbHVkZWQgcGFyZW50IHNjb3BlLgogICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gJHJvb3RFbGVtZW50IElmIHRoZSBub2RlTGlzdCBpcyB0aGUgcm9vdCBvZiB0aGUgY29tcGlsYXRpb24gdHJlZSB0aGVuCiAgICAgKiAgICAgICAgdGhlIHJvb3RFbGVtZW50IG11c3QgYmUgc2V0IHRoZSBqcUxpdGUgY29sbGVjdGlvbiBvZiB0aGUgY29tcGlsZSByb290LiBUaGlzIGlzCiAgICAgKiAgICAgICAgbmVlZGVkIHNvIHRoYXQgdGhlIGpxTGl0ZSBjb2xsZWN0aW9uIGl0ZW1zIGNhbiBiZSByZXBsYWNlZCB3aXRoIHdpZGdldHMuCiAgICAgKiBAcGFyYW0ge251bWJlcj19IG1heFByaW9yaXR5IE1heCBkaXJlY3RpdmUgcHJpb3JpdHkuCiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgY29tcG9zaXRlIGxpbmtpbmcgZnVuY3Rpb24gb2YgYWxsIG9mIHRoZSBtYXRjaGVkIGRpcmVjdGl2ZXMgb3IgbnVsbC4KICAgICAqLwogICAgZnVuY3Rpb24gY29tcGlsZU5vZGVzKG5vZGVMaXN0LCB0cmFuc2NsdWRlRm4sICRyb290RWxlbWVudCwgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHsKICAgICAgdmFyIGxpbmtGbnMgPSBbXSwKICAgICAgICAgIGF0dHJzLCBkaXJlY3RpdmVzLCBub2RlTGlua0ZuLCBjaGlsZE5vZGVzLCBjaGlsZExpbmtGbiwgbGlua0ZuRm91bmQ7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgYXR0cnMgPSBuZXcgQXR0cmlidXRlcygpOwoKICAgICAgICAvLyB3ZSBtdXN0IGFsd2F5cyByZWZlciB0byBub2RlTGlzdFtpXSBzaW5jZSB0aGUgbm9kZXMgY2FuIGJlIHJlcGxhY2VkIHVuZGVybmVhdGggdXMuCiAgICAgICAgZGlyZWN0aXZlcyA9IGNvbGxlY3REaXJlY3RpdmVzKG5vZGVMaXN0W2ldLCBbXSwgYXR0cnMsIGkgPT09IDAgPyBtYXhQcmlvcml0eSA6IHVuZGVmaW5lZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlnbm9yZURpcmVjdGl2ZSk7CgogICAgICAgIG5vZGVMaW5rRm4gPSAoZGlyZWN0aXZlcy5sZW5ndGgpCiAgICAgICAgICAgID8gYXBwbHlEaXJlY3RpdmVzVG9Ob2RlKGRpcmVjdGl2ZXMsIG5vZGVMaXN0W2ldLCBhdHRycywgdHJhbnNjbHVkZUZuLCAkcm9vdEVsZW1lbnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCwgW10sIFtdLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KQogICAgICAgICAgICA6IG51bGw7CgogICAgICAgIGlmIChub2RlTGlua0ZuICYmIG5vZGVMaW5rRm4uc2NvcGUpIHsKICAgICAgICAgIHNhZmVBZGRDbGFzcyhqcUxpdGUobm9kZUxpc3RbaV0pLCAnbmctc2NvcGUnKTsKICAgICAgICB9CgogICAgICAgIGNoaWxkTGlua0ZuID0gKG5vZGVMaW5rRm4gJiYgbm9kZUxpbmtGbi50ZXJtaW5hbCB8fAogICAgICAgICAgICAgICAgICAgICAgIShjaGlsZE5vZGVzID0gbm9kZUxpc3RbaV0uY2hpbGROb2RlcykgfHwKICAgICAgICAgICAgICAgICAgICAgICFjaGlsZE5vZGVzLmxlbmd0aCkKICAgICAgICAgICAgPyBudWxsCiAgICAgICAgICAgIDogY29tcGlsZU5vZGVzKGNoaWxkTm9kZXMsCiAgICAgICAgICAgICAgICAgbm9kZUxpbmtGbiA/ICgKICAgICAgICAgICAgICAgICAgKG5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQgfHwgIW5vZGVMaW5rRm4udGVtcGxhdGVPblRoaXNFbGVtZW50KQogICAgICAgICAgICAgICAgICAgICAmJiBub2RlTGlua0ZuLnRyYW5zY2x1ZGUpIDogdHJhbnNjbHVkZUZuKTsKCiAgICAgICAgbGlua0Zucy5wdXNoKG5vZGVMaW5rRm4sIGNoaWxkTGlua0ZuKTsKICAgICAgICBsaW5rRm5Gb3VuZCA9IGxpbmtGbkZvdW5kIHx8IG5vZGVMaW5rRm4gfHwgY2hpbGRMaW5rRm47CiAgICAgICAgLy91c2UgdGhlIHByZXZpb3VzIGNvbnRleHQgb25seSBmb3IgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHZpcnR1YWwgZ3JvdXAKICAgICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0ID0gbnVsbDsKICAgICAgfQoKICAgICAgLy8gcmV0dXJuIGEgbGlua2luZyBmdW5jdGlvbiBpZiB3ZSBoYXZlIGZvdW5kIGFueXRoaW5nLCBudWxsIG90aGVyd2lzZQogICAgICByZXR1cm4gbGlua0ZuRm91bmQgPyBjb21wb3NpdGVMaW5rRm4gOiBudWxsOwoKICAgICAgZnVuY3Rpb24gY29tcG9zaXRlTGlua0ZuKHNjb3BlLCBub2RlTGlzdCwgJHJvb3RFbGVtZW50LCBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbikgewogICAgICAgIHZhciBub2RlTGlua0ZuLCBjaGlsZExpbmtGbiwgbm9kZSwgJG5vZGUsIGNoaWxkU2NvcGUsIGksIGlpLCBuLCBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuOwoKICAgICAgICAvLyBjb3B5IG5vZGVMaXN0IHNvIHRoYXQgbGlua2luZyBkb2Vzbid0IGJyZWFrIGR1ZSB0byBsaXZlIGxpc3QgdXBkYXRlcy4KICAgICAgICB2YXIgbm9kZUxpc3RMZW5ndGggPSBub2RlTGlzdC5sZW5ndGgsCiAgICAgICAgICAgIHN0YWJsZU5vZGVMaXN0ID0gbmV3IEFycmF5KG5vZGVMaXN0TGVuZ3RoKTsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZUxpc3RMZW5ndGg7IGkrKykgewogICAgICAgICAgc3RhYmxlTm9kZUxpc3RbaV0gPSBub2RlTGlzdFtpXTsKICAgICAgICB9CgogICAgICAgIGZvcihpID0gMCwgbiA9IDAsIGlpID0gbGlua0Zucy5sZW5ndGg7IGkgPCBpaTsgbisrKSB7CiAgICAgICAgICBub2RlID0gc3RhYmxlTm9kZUxpc3Rbbl07CiAgICAgICAgICBub2RlTGlua0ZuID0gbGlua0Zuc1tpKytdOwogICAgICAgICAgY2hpbGRMaW5rRm4gPSBsaW5rRm5zW2krK107CiAgICAgICAgICAkbm9kZSA9IGpxTGl0ZShub2RlKTsKCiAgICAgICAgICBpZiAobm9kZUxpbmtGbikgewogICAgICAgICAgICBpZiAobm9kZUxpbmtGbi5zY29wZSkgewogICAgICAgICAgICAgIGNoaWxkU2NvcGUgPSBzY29wZS4kbmV3KCk7CiAgICAgICAgICAgICAgJG5vZGUuZGF0YSgnJHNjb3BlJywgY2hpbGRTY29wZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY2hpbGRTY29wZSA9IHNjb3BlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoIG5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQgKSB7CiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCBub2RlTGlua0ZuLnRyYW5zY2x1ZGUsIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKTsKCiAgICAgICAgICAgIH0gZWxzZSBpZiAoIW5vZGVMaW5rRm4udGVtcGxhdGVPblRoaXNFbGVtZW50ICYmIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKSB7CiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuOwoKICAgICAgICAgICAgfSBlbHNlIGlmICghcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4gJiYgdHJhbnNjbHVkZUZuKSB7CiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCB0cmFuc2NsdWRlRm4pOwoKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gbnVsbDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbm9kZUxpbmtGbihjaGlsZExpbmtGbiwgY2hpbGRTY29wZSwgbm9kZSwgJHJvb3RFbGVtZW50LCBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuKTsKCiAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkTGlua0ZuKSB7CiAgICAgICAgICAgIGNoaWxkTGlua0ZuKHNjb3BlLCBub2RlLmNoaWxkTm9kZXMsIHVuZGVmaW5lZCwgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCB0cmFuc2NsdWRlRm4sIHByZXZpb3VzQm91bmRUcmFuc2NsdWRlRm4pIHsKCiAgICAgIHZhciBib3VuZFRyYW5zY2x1ZGVGbiA9IGZ1bmN0aW9uKHRyYW5zY2x1ZGVkU2NvcGUsIGNsb25lRm4sIGNvbnRyb2xsZXJzKSB7CiAgICAgICAgdmFyIHNjb3BlQ3JlYXRlZCA9IGZhbHNlOwoKICAgICAgICBpZiAoIXRyYW5zY2x1ZGVkU2NvcGUpIHsKICAgICAgICAgIHRyYW5zY2x1ZGVkU2NvcGUgPSBzY29wZS4kbmV3KCk7CiAgICAgICAgICB0cmFuc2NsdWRlZFNjb3BlLiQkdHJhbnNjbHVkZWQgPSB0cnVlOwogICAgICAgICAgc2NvcGVDcmVhdGVkID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHZhciBjbG9uZSA9IHRyYW5zY2x1ZGVGbih0cmFuc2NsdWRlZFNjb3BlLCBjbG9uZUZuLCBjb250cm9sbGVycywgcHJldmlvdXNCb3VuZFRyYW5zY2x1ZGVGbik7CiAgICAgICAgaWYgKHNjb3BlQ3JlYXRlZCkgewogICAgICAgICAgY2xvbmUub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7IHRyYW5zY2x1ZGVkU2NvcGUuJGRlc3Ryb3koKTsgfSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBjbG9uZTsKICAgICAgfTsKCiAgICAgIHJldHVybiBib3VuZFRyYW5zY2x1ZGVGbjsKICAgIH0KCiAgICAvKioKICAgICAqIExvb2tzIGZvciBkaXJlY3RpdmVzIG9uIHRoZSBnaXZlbiBub2RlIGFuZCBhZGRzIHRoZW0gdG8gdGhlIGRpcmVjdGl2ZSBjb2xsZWN0aW9uIHdoaWNoIGlzCiAgICAgKiBzb3J0ZWQuCiAgICAgKgogICAgICogQHBhcmFtIG5vZGUgTm9kZSB0byBzZWFyY2guCiAgICAgKiBAcGFyYW0gZGlyZWN0aXZlcyBBbiBhcnJheSB0byB3aGljaCB0aGUgZGlyZWN0aXZlcyBhcmUgYWRkZWQgdG8uIFRoaXMgYXJyYXkgaXMgc29ydGVkIGJlZm9yZQogICAgICogICAgICAgIHRoZSBmdW5jdGlvbiByZXR1cm5zLgogICAgICogQHBhcmFtIGF0dHJzIFRoZSBzaGFyZWQgYXR0cnMgb2JqZWN0IHdoaWNoIGlzIHVzZWQgdG8gcG9wdWxhdGUgdGhlIG5vcm1hbGl6ZWQgYXR0cmlidXRlcy4KICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gbWF4UHJpb3JpdHkgTWF4IGRpcmVjdGl2ZSBwcmlvcml0eS4KICAgICAqLwogICAgZnVuY3Rpb24gY29sbGVjdERpcmVjdGl2ZXMobm9kZSwgZGlyZWN0aXZlcywgYXR0cnMsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUpIHsKICAgICAgdmFyIG5vZGVUeXBlID0gbm9kZS5ub2RlVHlwZSwKICAgICAgICAgIGF0dHJzTWFwID0gYXR0cnMuJGF0dHIsCiAgICAgICAgICBtYXRjaCwKICAgICAgICAgIGNsYXNzTmFtZTsKCiAgICAgIHN3aXRjaChub2RlVHlwZSkgewogICAgICAgIGNhc2UgMTogLyogRWxlbWVudCAqLwogICAgICAgICAgLy8gdXNlIHRoZSBub2RlIG5hbWU6IDxkaXJlY3RpdmU+CiAgICAgICAgICBhZGREaXJlY3RpdmUoZGlyZWN0aXZlcywKICAgICAgICAgICAgICBkaXJlY3RpdmVOb3JtYWxpemUobm9kZU5hbWVfKG5vZGUpLnRvTG93ZXJDYXNlKCkpLCAnRScsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUpOwoKICAgICAgICAgIC8vIGl0ZXJhdGUgb3ZlciB0aGUgYXR0cmlidXRlcwogICAgICAgICAgZm9yICh2YXIgYXR0ciwgbmFtZSwgbk5hbWUsIG5nQXR0ck5hbWUsIHZhbHVlLCBpc05nQXR0ciwgbkF0dHJzID0gbm9kZS5hdHRyaWJ1dGVzLAogICAgICAgICAgICAgICAgICAgaiA9IDAsIGpqID0gbkF0dHJzICYmIG5BdHRycy5sZW5ndGg7IGogPCBqajsgaisrKSB7CiAgICAgICAgICAgIHZhciBhdHRyU3RhcnROYW1lID0gZmFsc2U7CiAgICAgICAgICAgIHZhciBhdHRyRW5kTmFtZSA9IGZhbHNlOwoKICAgICAgICAgICAgYXR0ciA9IG5BdHRyc1tqXTsKICAgICAgICAgICAgaWYgKCFtc2llIHx8IG1zaWUgPj0gOCB8fCBhdHRyLnNwZWNpZmllZCkgewogICAgICAgICAgICAgIG5hbWUgPSBhdHRyLm5hbWU7CiAgICAgICAgICAgICAgdmFsdWUgPSB0cmltKGF0dHIudmFsdWUpOwoKICAgICAgICAgICAgICAvLyBzdXBwb3J0IG5nQXR0ciBhdHRyaWJ1dGUgYmluZGluZwogICAgICAgICAgICAgIG5nQXR0ck5hbWUgPSBkaXJlY3RpdmVOb3JtYWxpemUobmFtZSk7CiAgICAgICAgICAgICAgaWYgKGlzTmdBdHRyID0gTkdfQVRUUl9CSU5ESU5HLnRlc3QobmdBdHRyTmFtZSkpIHsKICAgICAgICAgICAgICAgIG5hbWUgPSBzbmFrZV9jYXNlKG5nQXR0ck5hbWUuc3Vic3RyKDYpLCAnLScpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZU5OYW1lID0gbmdBdHRyTmFtZS5yZXBsYWNlKC8oU3RhcnR8RW5kKSQvLCAnJyk7CiAgICAgICAgICAgICAgaWYgKG5nQXR0ck5hbWUgPT09IGRpcmVjdGl2ZU5OYW1lICsgJ1N0YXJ0JykgewogICAgICAgICAgICAgICAgYXR0clN0YXJ0TmFtZSA9IG5hbWU7CiAgICAgICAgICAgICAgICBhdHRyRW5kTmFtZSA9IG5hbWUuc3Vic3RyKDAsIG5hbWUubGVuZ3RoIC0gNSkgKyAnZW5kJzsKICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cigwLCBuYW1lLmxlbmd0aCAtIDYpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgbk5hbWUgPSBkaXJlY3RpdmVOb3JtYWxpemUobmFtZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICAgICAgICBhdHRyc01hcFtuTmFtZV0gPSBuYW1lOwogICAgICAgICAgICAgIGlmIChpc05nQXR0ciB8fCAhYXR0cnMuaGFzT3duUHJvcGVydHkobk5hbWUpKSB7CiAgICAgICAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHZhbHVlOwogICAgICAgICAgICAgICAgICBpZiAoZ2V0Qm9vbGVhbkF0dHJOYW1lKG5vZGUsIG5OYW1lKSkgewogICAgICAgICAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHRydWU7IC8vIHByZXNlbmNlIG1lYW5zIHRydWUKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBhZGRBdHRySW50ZXJwb2xhdGVEaXJlY3RpdmUobm9kZSwgZGlyZWN0aXZlcywgdmFsdWUsIG5OYW1lKTsKICAgICAgICAgICAgICBhZGREaXJlY3RpdmUoZGlyZWN0aXZlcywgbk5hbWUsICdBJywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSwgYXR0clN0YXJ0TmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJFbmROYW1lKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIC8vIHVzZSBjbGFzcyBhcyBkaXJlY3RpdmUKICAgICAgICAgIGNsYXNzTmFtZSA9IG5vZGUuY2xhc3NOYW1lOwogICAgICAgICAgaWYgKGlzU3RyaW5nKGNsYXNzTmFtZSkgJiYgY2xhc3NOYW1lICE9PSAnJykgewogICAgICAgICAgICB3aGlsZSAobWF0Y2ggPSBDTEFTU19ESVJFQ1RJVkVfUkVHRVhQLmV4ZWMoY2xhc3NOYW1lKSkgewogICAgICAgICAgICAgIG5OYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKG1hdGNoWzJdKTsKICAgICAgICAgICAgICBpZiAoYWRkRGlyZWN0aXZlKGRpcmVjdGl2ZXMsIG5OYW1lLCAnQycsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUpKSB7CiAgICAgICAgICAgICAgICBhdHRyc1tuTmFtZV0gPSB0cmltKG1hdGNoWzNdKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnN1YnN0cihtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMzogLyogVGV4dCBOb2RlICovCiAgICAgICAgICBhZGRUZXh0SW50ZXJwb2xhdGVEaXJlY3RpdmUoZGlyZWN0aXZlcywgbm9kZS5ub2RlVmFsdWUpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA4OiAvKiBDb21tZW50ICovCiAgICAgICAgICB0cnkgewogICAgICAgICAgICBtYXRjaCA9IENPTU1FTlRfRElSRUNUSVZFX1JFR0VYUC5leGVjKG5vZGUubm9kZVZhbHVlKTsKICAgICAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgICAgbk5hbWUgPSBkaXJlY3RpdmVOb3JtYWxpemUobWF0Y2hbMV0pOwogICAgICAgICAgICAgIGlmIChhZGREaXJlY3RpdmUoZGlyZWN0aXZlcywgbk5hbWUsICdNJywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSkpIHsKICAgICAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHRyaW0obWF0Y2hbMl0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAvLyB0dXJucyBvdXQgdGhhdCB1bmRlciBzb21lIGNpcmN1bXN0YW5jZXMgSUU5IHRocm93cyBlcnJvcnMgd2hlbiBvbmUgYXR0ZW1wdHMgdG8gcmVhZAogICAgICAgICAgICAvLyBjb21tZW50J3Mgbm9kZSB2YWx1ZS4KICAgICAgICAgICAgLy8gSnVzdCBpZ25vcmUgaXQgYW5kIGNvbnRpbnVlLiAoQ2FuJ3Qgc2VlbSB0byByZXByb2R1Y2UgaW4gdGVzdCBjYXNlLikKICAgICAgICAgIH0KICAgICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICBkaXJlY3RpdmVzLnNvcnQoYnlQcmlvcml0eSk7CiAgICAgIHJldHVybiBkaXJlY3RpdmVzOwogICAgfQoKICAgIC8qKgogICAgICogR2l2ZW4gYSBub2RlIHdpdGggYW4gZGlyZWN0aXZlLXN0YXJ0IGl0IGNvbGxlY3RzIGFsbCBvZiB0aGUgc2libGluZ3MgdW50aWwgaXQgZmluZHMKICAgICAqIGRpcmVjdGl2ZS1lbmQuCiAgICAgKiBAcGFyYW0gbm9kZQogICAgICogQHBhcmFtIGF0dHJTdGFydAogICAgICogQHBhcmFtIGF0dHJFbmQKICAgICAqIEByZXR1cm5zIHsqfQogICAgICovCiAgICBmdW5jdGlvbiBncm91cFNjYW4obm9kZSwgYXR0clN0YXJ0LCBhdHRyRW5kKSB7CiAgICAgIHZhciBub2RlcyA9IFtdOwogICAgICB2YXIgZGVwdGggPSAwOwogICAgICBpZiAoYXR0clN0YXJ0ICYmIG5vZGUuaGFzQXR0cmlidXRlICYmIG5vZGUuaGFzQXR0cmlidXRlKGF0dHJTdGFydCkpIHsKICAgICAgICB2YXIgc3RhcnROb2RlID0gbm9kZTsKICAgICAgICBkbyB7CiAgICAgICAgICBpZiAoIW5vZGUpIHsKICAgICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ3V0ZXJkaXInLAogICAgICAgICAgICAgICAgICAgICAgIlVudGVybWluYXRlZCBhdHRyaWJ1dGUsIGZvdW5kICd7MH0nIGJ1dCBubyBtYXRjaGluZyAnezF9JyBmb3VuZC4iLAogICAgICAgICAgICAgICAgICAgICAgYXR0clN0YXJ0LCBhdHRyRW5kKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEgLyoqIEVsZW1lbnQgKiovKSB7CiAgICAgICAgICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZShhdHRyU3RhcnQpKSBkZXB0aCsrOwogICAgICAgICAgICBpZiAobm9kZS5oYXNBdHRyaWJ1dGUoYXR0ckVuZCkpIGRlcHRoLS07CiAgICAgICAgICB9CiAgICAgICAgICBub2Rlcy5wdXNoKG5vZGUpOwogICAgICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7CiAgICAgICAgfSB3aGlsZSAoZGVwdGggPiAwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBub2Rlcy5wdXNoKG5vZGUpOwogICAgICB9CgogICAgICByZXR1cm4ganFMaXRlKG5vZGVzKTsKICAgIH0KCiAgICAvKioKICAgICAqIFdyYXBwZXIgZm9yIGxpbmtpbmcgZnVuY3Rpb24gd2hpY2ggY29udmVydHMgbm9ybWFsIGxpbmtpbmcgZnVuY3Rpb24gaW50byBhIGdyb3VwZWQKICAgICAqIGxpbmtpbmcgZnVuY3Rpb24uCiAgICAgKiBAcGFyYW0gbGlua0ZuCiAgICAgKiBAcGFyYW0gYXR0clN0YXJ0CiAgICAgKiBAcGFyYW0gYXR0ckVuZAogICAgICogQHJldHVybnMge0Z1bmN0aW9ufQogICAgICovCiAgICBmdW5jdGlvbiBncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlcihsaW5rRm4sIGF0dHJTdGFydCwgYXR0ckVuZCkgewogICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycywgdHJhbnNjbHVkZUZuKSB7CiAgICAgICAgZWxlbWVudCA9IGdyb3VwU2NhbihlbGVtZW50WzBdLCBhdHRyU3RhcnQsIGF0dHJFbmQpOwogICAgICAgIHJldHVybiBsaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycywgdHJhbnNjbHVkZUZuKTsKICAgICAgfTsKICAgIH0KCiAgICAvKioKICAgICAqIE9uY2UgdGhlIGRpcmVjdGl2ZXMgaGF2ZSBiZWVuIGNvbGxlY3RlZCwgdGhlaXIgY29tcGlsZSBmdW5jdGlvbnMgYXJlIGV4ZWN1dGVkLiBUaGlzIG1ldGhvZAogICAgICogaXMgcmVzcG9uc2libGUgZm9yIGlubGluaW5nIGRpcmVjdGl2ZSB0ZW1wbGF0ZXMgYXMgd2VsbCBhcyB0ZXJtaW5hdGluZyB0aGUgYXBwbGljYXRpb24KICAgICAqIG9mIHRoZSBkaXJlY3RpdmVzIGlmIHRoZSB0ZXJtaW5hbCBkaXJlY3RpdmUgaGFzIGJlZW4gcmVhY2hlZC4KICAgICAqCiAgICAgKiBAcGFyYW0ge0FycmF5fSBkaXJlY3RpdmVzIEFycmF5IG9mIGNvbGxlY3RlZCBkaXJlY3RpdmVzIHRvIGV4ZWN1dGUgdGhlaXIgY29tcGlsZSBmdW5jdGlvbi4KICAgICAqICAgICAgICB0aGlzIG5lZWRzIHRvIGJlIHByZS1zb3J0ZWQgYnkgcHJpb3JpdHkgb3JkZXIuCiAgICAgKiBAcGFyYW0ge05vZGV9IGNvbXBpbGVOb2RlIFRoZSByYXcgRE9NIG5vZGUgdG8gYXBwbHkgdGhlIGNvbXBpbGUgZnVuY3Rpb25zIHRvCiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGVtcGxhdGVBdHRycyBUaGUgc2hhcmVkIGF0dHJpYnV0ZSBmdW5jdGlvbgogICAgICogQHBhcmFtIHtmdW5jdGlvbihhbmd1bGFyLlNjb3BlLCBjbG9uZUF0dGFjaEZuPSl9IHRyYW5zY2x1ZGVGbiBBIGxpbmtpbmcgZnVuY3Rpb24sIHdoZXJlIHRoZQogICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlIGFyZ3VtZW50IGlzIGF1dG8tZ2VuZXJhdGVkIHRvIHRoZSBuZXcKICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCBvZiB0aGUgdHJhbnNjbHVkZWQgcGFyZW50IHNjb3BlLgogICAgICogQHBhcmFtIHtKUUxpdGV9IGpxQ29sbGVjdGlvbiBJZiB3ZSBhcmUgd29ya2luZyBvbiB0aGUgcm9vdCBvZiB0aGUgY29tcGlsZSB0cmVlIHRoZW4gdGhpcwogICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudCBoYXMgdGhlIHJvb3QganFMaXRlIGFycmF5IHNvIHRoYXQgd2UgY2FuIHJlcGxhY2Ugbm9kZXMKICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb24gaXQuCiAgICAgKiBAcGFyYW0ge09iamVjdD19IG9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSBBbiBvcHRpb25hbCBkaXJlY3RpdmUgdGhhdCB3aWxsIGJlIGlnbm9yZWQgd2hlbgogICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGlsaW5nIHRoZSB0cmFuc2NsdXNpb24uCiAgICAgKiBAcGFyYW0ge0FycmF5LjxGdW5jdGlvbj59IHByZUxpbmtGbnMKICAgICAqIEBwYXJhbSB7QXJyYXkuPEZ1bmN0aW9uPn0gcG9zdExpbmtGbnMKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcmV2aW91c0NvbXBpbGVDb250ZXh0IENvbnRleHQgdXNlZCBmb3IgcHJldmlvdXMgY29tcGlsYXRpb24gb2YgdGhlIGN1cnJlbnQKICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUKICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gbGlua0ZuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFwcGx5RGlyZWN0aXZlc1RvTm9kZShkaXJlY3RpdmVzLCBjb21waWxlTm9kZSwgdGVtcGxhdGVBdHRycywgdHJhbnNjbHVkZUZuLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpxQ29sbGVjdGlvbiwgb3JpZ2luYWxSZXBsYWNlRGlyZWN0aXZlLCBwcmVMaW5rRm5zLCBwb3N0TGlua0ZucywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0KSB7CiAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0IHx8IHt9OwoKICAgICAgdmFyIHRlcm1pbmFsUHJpb3JpdHkgPSAtTnVtYmVyLk1BWF9WQUxVRSwKICAgICAgICAgIG5ld1Njb3BlRGlyZWN0aXZlLAogICAgICAgICAgY29udHJvbGxlckRpcmVjdGl2ZXMgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0LmNvbnRyb2xsZXJEaXJlY3RpdmVzLAogICAgICAgICAgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlID0gcHJldmlvdXNDb21waWxlQ29udGV4dC5uZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsCiAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZSA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQudGVtcGxhdGVEaXJlY3RpdmUsCiAgICAgICAgICBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlID0gcHJldmlvdXNDb21waWxlQ29udGV4dC5ub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlLAogICAgICAgICAgaGFzVHJhbnNjbHVkZURpcmVjdGl2ZSA9IGZhbHNlLAogICAgICAgICAgaGFzVGVtcGxhdGUgPSBmYWxzZSwKICAgICAgICAgIGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlID0gcHJldmlvdXNDb21waWxlQ29udGV4dC5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSwKICAgICAgICAgICRjb21waWxlTm9kZSA9IHRlbXBsYXRlQXR0cnMuJCRlbGVtZW50ID0ganFMaXRlKGNvbXBpbGVOb2RlKSwKICAgICAgICAgIGRpcmVjdGl2ZSwKICAgICAgICAgIGRpcmVjdGl2ZU5hbWUsCiAgICAgICAgICAkdGVtcGxhdGUsCiAgICAgICAgICByZXBsYWNlRGlyZWN0aXZlID0gb3JpZ2luYWxSZXBsYWNlRGlyZWN0aXZlLAogICAgICAgICAgY2hpbGRUcmFuc2NsdWRlRm4gPSB0cmFuc2NsdWRlRm4sCiAgICAgICAgICBsaW5rRm4sCiAgICAgICAgICBkaXJlY3RpdmVWYWx1ZTsKCiAgICAgIC8vIGV4ZWN1dGVzIGFsbCBkaXJlY3RpdmVzIG9uIHRoZSBjdXJyZW50IGVsZW1lbnQKICAgICAgZm9yKHZhciBpID0gMCwgaWkgPSBkaXJlY3RpdmVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHsKICAgICAgICBkaXJlY3RpdmUgPSBkaXJlY3RpdmVzW2ldOwogICAgICAgIHZhciBhdHRyU3RhcnQgPSBkaXJlY3RpdmUuJCRzdGFydDsKICAgICAgICB2YXIgYXR0ckVuZCA9IGRpcmVjdGl2ZS4kJGVuZDsKCiAgICAgICAgLy8gY29sbGVjdCBtdWx0aWJsb2NrIHNlY3Rpb25zCiAgICAgICAgaWYgKGF0dHJTdGFydCkgewogICAgICAgICAgJGNvbXBpbGVOb2RlID0gZ3JvdXBTY2FuKGNvbXBpbGVOb2RlLCBhdHRyU3RhcnQsIGF0dHJFbmQpOwogICAgICAgIH0KICAgICAgICAkdGVtcGxhdGUgPSB1bmRlZmluZWQ7CgogICAgICAgIGlmICh0ZXJtaW5hbFByaW9yaXR5ID4gZGlyZWN0aXZlLnByaW9yaXR5KSB7CiAgICAgICAgICBicmVhazsgLy8gcHJldmVudCBmdXJ0aGVyIHByb2Nlc3Npbmcgb2YgZGlyZWN0aXZlcwogICAgICAgIH0KCiAgICAgICAgaWYgKGRpcmVjdGl2ZVZhbHVlID0gZGlyZWN0aXZlLnNjb3BlKSB7CiAgICAgICAgICBuZXdTY29wZURpcmVjdGl2ZSA9IG5ld1Njb3BlRGlyZWN0aXZlIHx8IGRpcmVjdGl2ZTsKCiAgICAgICAgICAvLyBza2lwIHRoZSBjaGVjayBmb3IgZGlyZWN0aXZlcyB3aXRoIGFzeW5jIHRlbXBsYXRlcywgd2UnbGwgY2hlY2sgdGhlIGRlcml2ZWQgc3luYwogICAgICAgICAgLy8gZGlyZWN0aXZlIHdoZW4gdGhlIHRlbXBsYXRlIGFycml2ZXMKICAgICAgICAgIGlmICghZGlyZWN0aXZlLnRlbXBsYXRlVXJsKSB7CiAgICAgICAgICAgIGFzc2VydE5vRHVwbGljYXRlKCduZXcvaXNvbGF0ZWQgc2NvcGUnLCBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsIGRpcmVjdGl2ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvbXBpbGVOb2RlKTsKICAgICAgICAgICAgaWYgKGlzT2JqZWN0KGRpcmVjdGl2ZVZhbHVlKSkgewogICAgICAgICAgICAgIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZGlyZWN0aXZlTmFtZSA9IGRpcmVjdGl2ZS5uYW1lOwoKICAgICAgICBpZiAoIWRpcmVjdGl2ZS50ZW1wbGF0ZVVybCAmJiBkaXJlY3RpdmUuY29udHJvbGxlcikgewogICAgICAgICAgZGlyZWN0aXZlVmFsdWUgPSBkaXJlY3RpdmUuY29udHJvbGxlcjsKICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzID0gY29udHJvbGxlckRpcmVjdGl2ZXMgfHwge307CiAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZSgiJyIgKyBkaXJlY3RpdmVOYW1lICsgIicgY29udHJvbGxlciIsCiAgICAgICAgICAgICAgY29udHJvbGxlckRpcmVjdGl2ZXNbZGlyZWN0aXZlTmFtZV0sIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTsKICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdID0gZGlyZWN0aXZlOwogICAgICAgIH0KCiAgICAgICAgaWYgKGRpcmVjdGl2ZVZhbHVlID0gZGlyZWN0aXZlLnRyYW5zY2x1ZGUpIHsKICAgICAgICAgIGhhc1RyYW5zY2x1ZGVEaXJlY3RpdmUgPSB0cnVlOwoKICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBuZ0lmIGFuZCBuZ1JlcGVhdCBzbyB0aGF0IHdlIGRvbid0IGNvbXBsYWluIGFib3V0IGR1cGxpY2F0ZSB0cmFuc2NsdXNpb24uCiAgICAgICAgICAvLyBUaGlzIG9wdGlvbiBzaG91bGQgb25seSBiZSB1c2VkIGJ5IGRpcmVjdGl2ZXMgdGhhdCBrbm93IGhvdyB0byBzYWZlbHkgaGFuZGxlIGVsZW1lbnQgdHJhbnNjbHVzaW9uLAogICAgICAgICAgLy8gd2hlcmUgdGhlIHRyYW5zY2x1ZGVkIG5vZGVzIGFyZSBhZGRlZCBvciByZXBsYWNlZCBhZnRlciBsaW5raW5nLgogICAgICAgICAgaWYgKCFkaXJlY3RpdmUuJCR0bGIpIHsKICAgICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ3RyYW5zY2x1c2lvbicsIG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUsIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTsKICAgICAgICAgICAgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZGlyZWN0aXZlVmFsdWUgPT0gJ2VsZW1lbnQnKSB7CiAgICAgICAgICAgIGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlID0gdHJ1ZTsKICAgICAgICAgICAgdGVybWluYWxQcmlvcml0eSA9IGRpcmVjdGl2ZS5wcmlvcml0eTsKICAgICAgICAgICAgJHRlbXBsYXRlID0gZ3JvdXBTY2FuKGNvbXBpbGVOb2RlLCBhdHRyU3RhcnQsIGF0dHJFbmQpOwogICAgICAgICAgICAkY29tcGlsZU5vZGUgPSB0ZW1wbGF0ZUF0dHJzLiQkZWxlbWVudCA9CiAgICAgICAgICAgICAgICBqcUxpdGUoZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnICcgKyBkaXJlY3RpdmVOYW1lICsgJzogJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZUF0dHJzW2RpcmVjdGl2ZU5hbWVdICsgJyAnKSk7CiAgICAgICAgICAgIGNvbXBpbGVOb2RlID0gJGNvbXBpbGVOb2RlWzBdOwogICAgICAgICAgICByZXBsYWNlV2l0aChqcUNvbGxlY3Rpb24sIGpxTGl0ZShzbGljZUFyZ3MoJHRlbXBsYXRlKSksIGNvbXBpbGVOb2RlKTsKCiAgICAgICAgICAgIGNoaWxkVHJhbnNjbHVkZUZuID0gY29tcGlsZSgkdGVtcGxhdGUsIHRyYW5zY2x1ZGVGbiwgdGVybWluYWxQcmlvcml0eSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VEaXJlY3RpdmUgJiYgcmVwbGFjZURpcmVjdGl2ZS5uYW1lLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IHBhc3MgaW46CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0gY29udHJvbGxlckRpcmVjdGl2ZXMgLSBvdGhlcndpc2Ugd2UnbGwgY3JlYXRlIGR1cGxpY2F0ZXMgY29udHJvbGxlcnMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLSBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgb3IgdGVtcGxhdGVEaXJlY3RpdmUgLSBjb21iaW5pbmcgdGVtcGxhdGVzIHdpdGgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBlbGVtZW50IHRyYW5zY2x1c2lvbiBkb2Vzbid0IG1ha2Ugc2Vuc2UuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgb25seSBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlIHNvIHRoYXQgd2UgcHJldmVudCBwdXR0aW5nIHRyYW5zY2x1c2lvbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbiB0aGUgc2FtZSBlbGVtZW50IG1vcmUgdGhhbiBvbmNlLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlOiBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICR0ZW1wbGF0ZSA9IGpxTGl0ZShqcUxpdGVDbG9uZShjb21waWxlTm9kZSkpLmNvbnRlbnRzKCk7CiAgICAgICAgICAgICRjb21waWxlTm9kZS5lbXB0eSgpOyAvLyBjbGVhciBjb250ZW50cwogICAgICAgICAgICBjaGlsZFRyYW5zY2x1ZGVGbiA9IGNvbXBpbGUoJHRlbXBsYXRlLCB0cmFuc2NsdWRlRm4pOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGRpcmVjdGl2ZS50ZW1wbGF0ZSkgewogICAgICAgICAgaGFzVGVtcGxhdGUgPSB0cnVlOwogICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ3RlbXBsYXRlJywgdGVtcGxhdGVEaXJlY3RpdmUsIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTsKICAgICAgICAgIHRlbXBsYXRlRGlyZWN0aXZlID0gZGlyZWN0aXZlOwoKICAgICAgICAgIGRpcmVjdGl2ZVZhbHVlID0gKGlzRnVuY3Rpb24oZGlyZWN0aXZlLnRlbXBsYXRlKSkKICAgICAgICAgICAgICA/IGRpcmVjdGl2ZS50ZW1wbGF0ZSgkY29tcGlsZU5vZGUsIHRlbXBsYXRlQXR0cnMpCiAgICAgICAgICAgICAgOiBkaXJlY3RpdmUudGVtcGxhdGU7CgogICAgICAgICAgZGlyZWN0aXZlVmFsdWUgPSBkZW5vcm1hbGl6ZVRlbXBsYXRlKGRpcmVjdGl2ZVZhbHVlKTsKCiAgICAgICAgICBpZiAoZGlyZWN0aXZlLnJlcGxhY2UpIHsKICAgICAgICAgICAgcmVwbGFjZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTsKICAgICAgICAgICAgaWYgKGpxTGl0ZUlzVGV4dE5vZGUoZGlyZWN0aXZlVmFsdWUpKSB7CiAgICAgICAgICAgICAgJHRlbXBsYXRlID0gW107CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgJHRlbXBsYXRlID0ganFMaXRlKHRyaW0oZGlyZWN0aXZlVmFsdWUpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb21waWxlTm9kZSA9ICR0ZW1wbGF0ZVswXTsKCiAgICAgICAgICAgIGlmICgkdGVtcGxhdGUubGVuZ3RoICE9IDEgfHwgY29tcGlsZU5vZGUubm9kZVR5cGUgIT09IDEpIHsKICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycigndHBscnQnLAogICAgICAgICAgICAgICAgICAiVGVtcGxhdGUgZm9yIGRpcmVjdGl2ZSAnezB9JyBtdXN0IGhhdmUgZXhhY3RseSBvbmUgcm9vdCBlbGVtZW50LiB7MX0iLAogICAgICAgICAgICAgICAgICBkaXJlY3RpdmVOYW1lLCAnJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJlcGxhY2VXaXRoKGpxQ29sbGVjdGlvbiwgJGNvbXBpbGVOb2RlLCBjb21waWxlTm9kZSk7CgogICAgICAgICAgICB2YXIgbmV3VGVtcGxhdGVBdHRycyA9IHskYXR0cjoge319OwoKICAgICAgICAgICAgLy8gY29tYmluZSBkaXJlY3RpdmVzIGZyb20gdGhlIG9yaWdpbmFsIG5vZGUgYW5kIGZyb20gdGhlIHRlbXBsYXRlOgogICAgICAgICAgICAvLyAtIHRha2UgdGhlIGFycmF5IG9mIGRpcmVjdGl2ZXMgZm9yIHRoaXMgZWxlbWVudAogICAgICAgICAgICAvLyAtIHNwbGl0IGl0IGludG8gdHdvIHBhcnRzLCB0aG9zZSB0aGF0IGFscmVhZHkgYXBwbGllZCAocHJvY2Vzc2VkKSBhbmQgdGhvc2UgdGhhdCB3ZXJlbid0ICh1bnByb2Nlc3NlZCkKICAgICAgICAgICAgLy8gLSBjb2xsZWN0IGRpcmVjdGl2ZXMgZnJvbSB0aGUgdGVtcGxhdGUgYW5kIHNvcnQgdGhlbSBieSBwcmlvcml0eQogICAgICAgICAgICAvLyAtIGNvbWJpbmUgZGlyZWN0aXZlcyBhczogcHJvY2Vzc2VkICsgdGVtcGxhdGUgKyB1bnByb2Nlc3NlZAogICAgICAgICAgICB2YXIgdGVtcGxhdGVEaXJlY3RpdmVzID0gY29sbGVjdERpcmVjdGl2ZXMoY29tcGlsZU5vZGUsIFtdLCBuZXdUZW1wbGF0ZUF0dHJzKTsKICAgICAgICAgICAgdmFyIHVucHJvY2Vzc2VkRGlyZWN0aXZlcyA9IGRpcmVjdGl2ZXMuc3BsaWNlKGkgKyAxLCBkaXJlY3RpdmVzLmxlbmd0aCAtIChpICsgMSkpOwoKICAgICAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSkgewogICAgICAgICAgICAgIG1hcmtEaXJlY3RpdmVzQXNJc29sYXRlKHRlbXBsYXRlRGlyZWN0aXZlcyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZGlyZWN0aXZlcyA9IGRpcmVjdGl2ZXMuY29uY2F0KHRlbXBsYXRlRGlyZWN0aXZlcykuY29uY2F0KHVucHJvY2Vzc2VkRGlyZWN0aXZlcyk7CiAgICAgICAgICAgIG1lcmdlVGVtcGxhdGVBdHRyaWJ1dGVzKHRlbXBsYXRlQXR0cnMsIG5ld1RlbXBsYXRlQXR0cnMpOwoKICAgICAgICAgICAgaWkgPSBkaXJlY3RpdmVzLmxlbmd0aDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICRjb21waWxlTm9kZS5odG1sKGRpcmVjdGl2ZVZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChkaXJlY3RpdmUudGVtcGxhdGVVcmwpIHsKICAgICAgICAgIGhhc1RlbXBsYXRlID0gdHJ1ZTsKICAgICAgICAgIGFzc2VydE5vRHVwbGljYXRlKCd0ZW1wbGF0ZScsIHRlbXBsYXRlRGlyZWN0aXZlLCBkaXJlY3RpdmUsICRjb21waWxlTm9kZSk7CiAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTsKCiAgICAgICAgICBpZiAoZGlyZWN0aXZlLnJlcGxhY2UpIHsKICAgICAgICAgICAgcmVwbGFjZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBub2RlTGlua0ZuID0gY29tcGlsZVRlbXBsYXRlVXJsKGRpcmVjdGl2ZXMuc3BsaWNlKGksIGRpcmVjdGl2ZXMubGVuZ3RoIC0gaSksICRjb21waWxlTm9kZSwKICAgICAgICAgICAgICB0ZW1wbGF0ZUF0dHJzLCBqcUNvbGxlY3Rpb24sIGhhc1RyYW5zY2x1ZGVEaXJlY3RpdmUgJiYgY2hpbGRUcmFuc2NsdWRlRm4sIHByZUxpbmtGbnMsIHBvc3RMaW5rRm5zLCB7CiAgICAgICAgICAgICAgICBjb250cm9sbGVyRGlyZWN0aXZlczogY29udHJvbGxlckRpcmVjdGl2ZXMsCiAgICAgICAgICAgICAgICBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmU6IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSwKICAgICAgICAgICAgICAgIHRlbXBsYXRlRGlyZWN0aXZlOiB0ZW1wbGF0ZURpcmVjdGl2ZSwKICAgICAgICAgICAgICAgIG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmU6IG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7CiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3RpdmUuY29tcGlsZSkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgbGlua0ZuID0gZGlyZWN0aXZlLmNvbXBpbGUoJGNvbXBpbGVOb2RlLCB0ZW1wbGF0ZUF0dHJzLCBjaGlsZFRyYW5zY2x1ZGVGbik7CiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGxpbmtGbikpIHsKICAgICAgICAgICAgICBhZGRMaW5rRm5zKG51bGwsIGxpbmtGbiwgYXR0clN0YXJ0LCBhdHRyRW5kKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5rRm4pIHsKICAgICAgICAgICAgICBhZGRMaW5rRm5zKGxpbmtGbi5wcmUsIGxpbmtGbi5wb3N0LCBhdHRyU3RhcnQsIGF0dHJFbmQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUsIHN0YXJ0aW5nVGFnKCRjb21waWxlTm9kZSkpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGRpcmVjdGl2ZS50ZXJtaW5hbCkgewogICAgICAgICAgbm9kZUxpbmtGbi50ZXJtaW5hbCA9IHRydWU7CiAgICAgICAgICB0ZXJtaW5hbFByaW9yaXR5ID0gTWF0aC5tYXgodGVybWluYWxQcmlvcml0eSwgZGlyZWN0aXZlLnByaW9yaXR5KTsKICAgICAgICB9CgogICAgICB9CgogICAgICBub2RlTGlua0ZuLnNjb3BlID0gbmV3U2NvcGVEaXJlY3RpdmUgJiYgbmV3U2NvcGVEaXJlY3RpdmUuc2NvcGUgPT09IHRydWU7CiAgICAgIG5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQgPSBoYXNUcmFuc2NsdWRlRGlyZWN0aXZlOwogICAgICBub2RlTGlua0ZuLnRlbXBsYXRlT25UaGlzRWxlbWVudCA9IGhhc1RlbXBsYXRlOwogICAgICBub2RlTGlua0ZuLnRyYW5zY2x1ZGUgPSBjaGlsZFRyYW5zY2x1ZGVGbjsKCiAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUgPSBoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZTsKCiAgICAgIC8vIG1pZ2h0IGJlIG5vcm1hbCBvciBkZWxheWVkIG5vZGVMaW5rRm4gZGVwZW5kaW5nIG9uIGlmIHRlbXBsYXRlVXJsIGlzIHByZXNlbnQKICAgICAgcmV0dXJuIG5vZGVMaW5rRm47CgogICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLwoKICAgICAgZnVuY3Rpb24gYWRkTGlua0ZucyhwcmUsIHBvc3QsIGF0dHJTdGFydCwgYXR0ckVuZCkgewogICAgICAgIGlmIChwcmUpIHsKICAgICAgICAgIGlmIChhdHRyU3RhcnQpIHByZSA9IGdyb3VwRWxlbWVudHNMaW5rRm5XcmFwcGVyKHByZSwgYXR0clN0YXJ0LCBhdHRyRW5kKTsKICAgICAgICAgIHByZS5yZXF1aXJlID0gZGlyZWN0aXZlLnJlcXVpcmU7CiAgICAgICAgICBwcmUuZGlyZWN0aXZlTmFtZSA9IGRpcmVjdGl2ZU5hbWU7CiAgICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlID09PSBkaXJlY3RpdmUgfHwgZGlyZWN0aXZlLiQkaXNvbGF0ZVNjb3BlKSB7CiAgICAgICAgICAgIHByZSA9IGNsb25lQW5kQW5ub3RhdGVGbihwcmUsIHtpc29sYXRlU2NvcGU6IHRydWV9KTsKICAgICAgICAgIH0KICAgICAgICAgIHByZUxpbmtGbnMucHVzaChwcmUpOwogICAgICAgIH0KICAgICAgICBpZiAocG9zdCkgewogICAgICAgICAgaWYgKGF0dHJTdGFydCkgcG9zdCA9IGdyb3VwRWxlbWVudHNMaW5rRm5XcmFwcGVyKHBvc3QsIGF0dHJTdGFydCwgYXR0ckVuZCk7CiAgICAgICAgICBwb3N0LnJlcXVpcmUgPSBkaXJlY3RpdmUucmVxdWlyZTsKICAgICAgICAgIHBvc3QuZGlyZWN0aXZlTmFtZSA9IGRpcmVjdGl2ZU5hbWU7CiAgICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlID09PSBkaXJlY3RpdmUgfHwgZGlyZWN0aXZlLiQkaXNvbGF0ZVNjb3BlKSB7CiAgICAgICAgICAgIHBvc3QgPSBjbG9uZUFuZEFubm90YXRlRm4ocG9zdCwge2lzb2xhdGVTY29wZTogdHJ1ZX0pOwogICAgICAgICAgfQogICAgICAgICAgcG9zdExpbmtGbnMucHVzaChwb3N0KTsKICAgICAgICB9CiAgICAgIH0KCgogICAgICBmdW5jdGlvbiBnZXRDb250cm9sbGVycyhkaXJlY3RpdmVOYW1lLCByZXF1aXJlLCAkZWxlbWVudCwgZWxlbWVudENvbnRyb2xsZXJzKSB7CiAgICAgICAgdmFyIHZhbHVlLCByZXRyaWV2YWxNZXRob2QgPSAnZGF0YScsIG9wdGlvbmFsID0gZmFsc2U7CiAgICAgICAgaWYgKGlzU3RyaW5nKHJlcXVpcmUpKSB7CiAgICAgICAgICB3aGlsZSgodmFsdWUgPSByZXF1aXJlLmNoYXJBdCgwKSkgPT0gJ14nIHx8IHZhbHVlID09ICc/JykgewogICAgICAgICAgICByZXF1aXJlID0gcmVxdWlyZS5zdWJzdHIoMSk7CiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSAnXicpIHsKICAgICAgICAgICAgICByZXRyaWV2YWxNZXRob2QgPSAnaW5oZXJpdGVkRGF0YSc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgb3B0aW9uYWwgPSBvcHRpb25hbCB8fCB2YWx1ZSA9PSAnPyc7CiAgICAgICAgICB9CiAgICAgICAgICB2YWx1ZSA9IG51bGw7CgogICAgICAgICAgaWYgKGVsZW1lbnRDb250cm9sbGVycyAmJiByZXRyaWV2YWxNZXRob2QgPT09ICdkYXRhJykgewogICAgICAgICAgICB2YWx1ZSA9IGVsZW1lbnRDb250cm9sbGVyc1tyZXF1aXJlXTsKICAgICAgICAgIH0KICAgICAgICAgIHZhbHVlID0gdmFsdWUgfHwgJGVsZW1lbnRbcmV0cmlldmFsTWV0aG9kXSgnJCcgKyByZXF1aXJlICsgJ0NvbnRyb2xsZXInKTsKCiAgICAgICAgICBpZiAoIXZhbHVlICYmICFvcHRpb25hbCkgewogICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignY3RyZXEnLAogICAgICAgICAgICAgICAgIkNvbnRyb2xsZXIgJ3swfScsIHJlcXVpcmVkIGJ5IGRpcmVjdGl2ZSAnezF9JywgY2FuJ3QgYmUgZm91bmQhIiwKICAgICAgICAgICAgICAgIHJlcXVpcmUsIGRpcmVjdGl2ZU5hbWUpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShyZXF1aXJlKSkgewogICAgICAgICAgdmFsdWUgPSBbXTsKICAgICAgICAgIGZvckVhY2gocmVxdWlyZSwgZnVuY3Rpb24ocmVxdWlyZSkgewogICAgICAgICAgICB2YWx1ZS5wdXNoKGdldENvbnRyb2xsZXJzKGRpcmVjdGl2ZU5hbWUsIHJlcXVpcmUsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgIH0KCgogICAgICBmdW5jdGlvbiBub2RlTGlua0ZuKGNoaWxkTGlua0ZuLCBzY29wZSwgbGlua05vZGUsICRyb290RWxlbWVudCwgYm91bmRUcmFuc2NsdWRlRm4pIHsKICAgICAgICB2YXIgYXR0cnMsICRlbGVtZW50LCBpLCBpaSwgbGlua0ZuLCBjb250cm9sbGVyLCBpc29sYXRlU2NvcGUsIGVsZW1lbnRDb250cm9sbGVycyA9IHt9LCB0cmFuc2NsdWRlRm47CgogICAgICAgIGlmIChjb21waWxlTm9kZSA9PT0gbGlua05vZGUpIHsKICAgICAgICAgIGF0dHJzID0gdGVtcGxhdGVBdHRyczsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYXR0cnMgPSBzaGFsbG93Q29weSh0ZW1wbGF0ZUF0dHJzLCBuZXcgQXR0cmlidXRlcyhqcUxpdGUobGlua05vZGUpLCB0ZW1wbGF0ZUF0dHJzLiRhdHRyKSk7CiAgICAgICAgfQogICAgICAgICRlbGVtZW50ID0gYXR0cnMuJCRlbGVtZW50OwoKICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlKSB7CiAgICAgICAgICB2YXIgTE9DQUxfUkVHRVhQID0gL15ccyooW0A9Jl0pKFw/PylccyooXHcqKVxzKiQvOwogICAgICAgICAgdmFyICRsaW5rTm9kZSA9IGpxTGl0ZShsaW5rTm9kZSk7CgogICAgICAgICAgaXNvbGF0ZVNjb3BlID0gc2NvcGUuJG5ldyh0cnVlKTsKCiAgICAgICAgICBpZiAodGVtcGxhdGVEaXJlY3RpdmUgJiYgKHRlbXBsYXRlRGlyZWN0aXZlID09PSBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgfHwKICAgICAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZSA9PT0gbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLiQkb3JpZ2luYWxEaXJlY3RpdmUpKSB7CiAgICAgICAgICAgICRsaW5rTm9kZS5kYXRhKCckaXNvbGF0ZVNjb3BlJywgaXNvbGF0ZVNjb3BlKSA7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkbGlua05vZGUuZGF0YSgnJGlzb2xhdGVTY29wZU5vVGVtcGxhdGUnLCBpc29sYXRlU2NvcGUpOwogICAgICAgICAgfQoKCgogICAgICAgICAgc2FmZUFkZENsYXNzKCRsaW5rTm9kZSwgJ25nLWlzb2xhdGUtc2NvcGUnKTsKCiAgICAgICAgICBmb3JFYWNoKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS5zY29wZSwgZnVuY3Rpb24oZGVmaW5pdGlvbiwgc2NvcGVOYW1lKSB7CiAgICAgICAgICAgIHZhciBtYXRjaCA9IGRlZmluaXRpb24ubWF0Y2goTE9DQUxfUkVHRVhQKSB8fCBbXSwKICAgICAgICAgICAgICAgIGF0dHJOYW1lID0gbWF0Y2hbM10gfHwgc2NvcGVOYW1lLAogICAgICAgICAgICAgICAgb3B0aW9uYWwgPSAobWF0Y2hbMl0gPT0gJz8nKSwKICAgICAgICAgICAgICAgIG1vZGUgPSBtYXRjaFsxXSwgLy8gQCwgPSwgb3IgJgogICAgICAgICAgICAgICAgbGFzdFZhbHVlLAogICAgICAgICAgICAgICAgcGFyZW50R2V0LCBwYXJlbnRTZXQsIGNvbXBhcmU7CgogICAgICAgICAgICBpc29sYXRlU2NvcGUuJCRpc29sYXRlQmluZGluZ3Nbc2NvcGVOYW1lXSA9IG1vZGUgKyBhdHRyTmFtZTsKCiAgICAgICAgICAgIHN3aXRjaCAobW9kZSkgewoKICAgICAgICAgICAgICBjYXNlICdAJzoKICAgICAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKGF0dHJOYW1lLCBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgICAgICAgICAgICBpc29sYXRlU2NvcGVbc2NvcGVOYW1lXSA9IHZhbHVlOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBhdHRycy4kJG9ic2VydmVyc1thdHRyTmFtZV0uJCRzY29wZSA9IHNjb3BlOwogICAgICAgICAgICAgICAgaWYoIGF0dHJzW2F0dHJOYW1lXSApIHsKICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGF0dHJpYnV0ZSBoYXMgYmVlbiBwcm92aWRlZCB0aGVuIHdlIHRyaWdnZXIgYW4gaW50ZXJwb2xhdGlvbiB0byBlbnN1cmUKICAgICAgICAgICAgICAgICAgLy8gdGhlIHZhbHVlIGlzIHRoZXJlIGZvciB1c2UgaW4gdGhlIGxpbmsgZm4KICAgICAgICAgICAgICAgICAgaXNvbGF0ZVNjb3BlW3Njb3BlTmFtZV0gPSAkaW50ZXJwb2xhdGUoYXR0cnNbYXR0ck5hbWVdKShzY29wZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnPSc6CiAgICAgICAgICAgICAgICBpZiAob3B0aW9uYWwgJiYgIWF0dHJzW2F0dHJOYW1lXSkgewogICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBwYXJlbnRHZXQgPSAkcGFyc2UoYXR0cnNbYXR0ck5hbWVdKTsKICAgICAgICAgICAgICAgIGlmIChwYXJlbnRHZXQubGl0ZXJhbCkgewogICAgICAgICAgICAgICAgICBjb21wYXJlID0gZXF1YWxzOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgY29tcGFyZSA9IGZ1bmN0aW9uKGEsYikgeyByZXR1cm4gYSA9PT0gYjsgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHBhcmVudFNldCA9IHBhcmVudEdldC5hc3NpZ24gfHwgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgIC8vIHJlc2V0IHRoZSBjaGFuZ2UsIG9yIHdlIHdpbGwgdGhyb3cgdGhpcyBleGNlcHRpb24gb24gZXZlcnkgJGRpZ2VzdAogICAgICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBpc29sYXRlU2NvcGVbc2NvcGVOYW1lXSA9IHBhcmVudEdldChzY29wZSk7CiAgICAgICAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdub25hc3NpZ24nLAogICAgICAgICAgICAgICAgICAgICAgIkV4cHJlc3Npb24gJ3swfScgdXNlZCB3aXRoIGRpcmVjdGl2ZSAnezF9JyBpcyBub24tYXNzaWduYWJsZSEiLAogICAgICAgICAgICAgICAgICAgICAgYXR0cnNbYXR0ck5hbWVdLCBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUubmFtZSk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgbGFzdFZhbHVlID0gaXNvbGF0ZVNjb3BlW3Njb3BlTmFtZV0gPSBwYXJlbnRHZXQoc2NvcGUpOwogICAgICAgICAgICAgICAgaXNvbGF0ZVNjb3BlLiR3YXRjaChmdW5jdGlvbiBwYXJlbnRWYWx1ZVdhdGNoKCkgewogICAgICAgICAgICAgICAgICB2YXIgcGFyZW50VmFsdWUgPSBwYXJlbnRHZXQoc2NvcGUpOwogICAgICAgICAgICAgICAgICBpZiAoIWNvbXBhcmUocGFyZW50VmFsdWUsIGlzb2xhdGVTY29wZVtzY29wZU5hbWVdKSkgewogICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBvdXQgb2Ygc3luYyBhbmQgbmVlZCB0byBjb3B5CiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb21wYXJlKHBhcmVudFZhbHVlLCBsYXN0VmFsdWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAvLyBwYXJlbnQgY2hhbmdlZCBhbmQgaXQgaGFzIHByZWNlZGVuY2UKICAgICAgICAgICAgICAgICAgICAgIGlzb2xhdGVTY29wZVtzY29wZU5hbWVdID0gcGFyZW50VmFsdWU7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBwYXJlbnQgY2FuIGJlIGFzc2lnbmVkIHRoZW4gZG8gc28KICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFNldChzY29wZSwgcGFyZW50VmFsdWUgPSBpc29sYXRlU2NvcGVbc2NvcGVOYW1lXSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIHJldHVybiBsYXN0VmFsdWUgPSBwYXJlbnRWYWx1ZTsKICAgICAgICAgICAgICAgIH0sIG51bGwsIHBhcmVudEdldC5saXRlcmFsKTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICcmJzoKICAgICAgICAgICAgICAgIHBhcmVudEdldCA9ICRwYXJzZShhdHRyc1thdHRyTmFtZV0pOwogICAgICAgICAgICAgICAgaXNvbGF0ZVNjb3BlW3Njb3BlTmFtZV0gPSBmdW5jdGlvbihsb2NhbHMpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudEdldChzY29wZSwgbG9jYWxzKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdpc2NwJywKICAgICAgICAgICAgICAgICAgICAiSW52YWxpZCBpc29sYXRlIHNjb3BlIGRlZmluaXRpb24gZm9yIGRpcmVjdGl2ZSAnezB9Jy4iICsKICAgICAgICAgICAgICAgICAgICAiIERlZmluaXRpb246IHsuLi4gezF9OiAnezJ9JyAuLi59IiwKICAgICAgICAgICAgICAgICAgICBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUubmFtZSwgc2NvcGVOYW1lLCBkZWZpbml0aW9uKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIHRyYW5zY2x1ZGVGbiA9IGJvdW5kVHJhbnNjbHVkZUZuICYmIGNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlOwogICAgICAgIGlmIChjb250cm9sbGVyRGlyZWN0aXZlcykgewogICAgICAgICAgZm9yRWFjaChjb250cm9sbGVyRGlyZWN0aXZlcywgZnVuY3Rpb24oZGlyZWN0aXZlKSB7CiAgICAgICAgICAgIHZhciBsb2NhbHMgPSB7CiAgICAgICAgICAgICAgJHNjb3BlOiBkaXJlY3RpdmUgPT09IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSB8fCBkaXJlY3RpdmUuJCRpc29sYXRlU2NvcGUgPyBpc29sYXRlU2NvcGUgOiBzY29wZSwKICAgICAgICAgICAgICAkZWxlbWVudDogJGVsZW1lbnQsCiAgICAgICAgICAgICAgJGF0dHJzOiBhdHRycywKICAgICAgICAgICAgICAkdHJhbnNjbHVkZTogdHJhbnNjbHVkZUZuCiAgICAgICAgICAgIH0sIGNvbnRyb2xsZXJJbnN0YW5jZTsKCiAgICAgICAgICAgIGNvbnRyb2xsZXIgPSBkaXJlY3RpdmUuY29udHJvbGxlcjsKICAgICAgICAgICAgaWYgKGNvbnRyb2xsZXIgPT0gJ0AnKSB7CiAgICAgICAgICAgICAgY29udHJvbGxlciA9IGF0dHJzW2RpcmVjdGl2ZS5uYW1lXTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29udHJvbGxlckluc3RhbmNlID0gJGNvbnRyb2xsZXIoY29udHJvbGxlciwgbG9jYWxzKTsKICAgICAgICAgICAgLy8gRm9yIGRpcmVjdGl2ZXMgd2l0aCBlbGVtZW50IHRyYW5zY2x1c2lvbiB0aGUgZWxlbWVudCBpcyBhIGNvbW1lbnQsCiAgICAgICAgICAgIC8vIGJ1dCBqUXVlcnkgLmRhdGEgZG9lc24ndCBzdXBwb3J0IGF0dGFjaGluZyBkYXRhIHRvIGNvbW1lbnQgbm9kZXMgYXMgaXQncyBoYXJkIHRvCiAgICAgICAgICAgIC8vIGNsZWFuIHVwIChodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC84MzM1KS4KICAgICAgICAgICAgLy8gSW5zdGVhZCwgd2Ugc2F2ZSB0aGUgY29udHJvbGxlcnMgZm9yIHRoZSBlbGVtZW50IGluIGEgbG9jYWwgaGFzaCBhbmQgYXR0YWNoIHRvIC5kYXRhCiAgICAgICAgICAgIC8vIGxhdGVyLCBvbmNlIHdlIGhhdmUgdGhlIGFjdHVhbCBlbGVtZW50LgogICAgICAgICAgICBlbGVtZW50Q29udHJvbGxlcnNbZGlyZWN0aXZlLm5hbWVdID0gY29udHJvbGxlckluc3RhbmNlOwogICAgICAgICAgICBpZiAoIWhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlKSB7CiAgICAgICAgICAgICAgJGVsZW1lbnQuZGF0YSgnJCcgKyBkaXJlY3RpdmUubmFtZSArICdDb250cm9sbGVyJywgY29udHJvbGxlckluc3RhbmNlKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGRpcmVjdGl2ZS5jb250cm9sbGVyQXMpIHsKICAgICAgICAgICAgICBsb2NhbHMuJHNjb3BlW2RpcmVjdGl2ZS5jb250cm9sbGVyQXNdID0gY29udHJvbGxlckluc3RhbmNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8vIFBSRUxJTktJTkcKICAgICAgICBmb3IoaSA9IDAsIGlpID0gcHJlTGlua0Zucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBsaW5rRm4gPSBwcmVMaW5rRm5zW2ldOwogICAgICAgICAgICBsaW5rRm4obGlua0ZuLmlzb2xhdGVTY29wZSA/IGlzb2xhdGVTY29wZSA6IHNjb3BlLCAkZWxlbWVudCwgYXR0cnMsCiAgICAgICAgICAgICAgICBsaW5rRm4ucmVxdWlyZSAmJiBnZXRDb250cm9sbGVycyhsaW5rRm4uZGlyZWN0aXZlTmFtZSwgbGlua0ZuLnJlcXVpcmUsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpLCB0cmFuc2NsdWRlRm4pOwogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlLCBzdGFydGluZ1RhZygkZWxlbWVudCkpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gUkVDVVJTSU9OCiAgICAgICAgLy8gV2Ugb25seSBwYXNzIHRoZSBpc29sYXRlIHNjb3BlLCBpZiB0aGUgaXNvbGF0ZSBkaXJlY3RpdmUgaGFzIGEgdGVtcGxhdGUsCiAgICAgICAgLy8gb3RoZXJ3aXNlIHRoZSBjaGlsZCBlbGVtZW50cyBkbyBub3QgYmVsb25nIHRvIHRoZSBpc29sYXRlIGRpcmVjdGl2ZS4KICAgICAgICB2YXIgc2NvcGVUb0NoaWxkID0gc2NvcGU7CiAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSAmJiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLnRlbXBsYXRlIHx8IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS50ZW1wbGF0ZVVybCA9PT0gbnVsbCkpIHsKICAgICAgICAgIHNjb3BlVG9DaGlsZCA9IGlzb2xhdGVTY29wZTsKICAgICAgICB9CiAgICAgICAgY2hpbGRMaW5rRm4gJiYgY2hpbGRMaW5rRm4oc2NvcGVUb0NoaWxkLCBsaW5rTm9kZS5jaGlsZE5vZGVzLCB1bmRlZmluZWQsIGJvdW5kVHJhbnNjbHVkZUZuKTsKCiAgICAgICAgLy8gUE9TVExJTktJTkcKICAgICAgICBmb3IoaSA9IHBvc3RMaW5rRm5zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBsaW5rRm4gPSBwb3N0TGlua0Zuc1tpXTsKICAgICAgICAgICAgbGlua0ZuKGxpbmtGbi5pc29sYXRlU2NvcGUgPyBpc29sYXRlU2NvcGUgOiBzY29wZSwgJGVsZW1lbnQsIGF0dHJzLAogICAgICAgICAgICAgICAgbGlua0ZuLnJlcXVpcmUgJiYgZ2V0Q29udHJvbGxlcnMobGlua0ZuLmRpcmVjdGl2ZU5hbWUsIGxpbmtGbi5yZXF1aXJlLCAkZWxlbWVudCwgZWxlbWVudENvbnRyb2xsZXJzKSwgdHJhbnNjbHVkZUZuKTsKICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSwgc3RhcnRpbmdUYWcoJGVsZW1lbnQpKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIFRoaXMgaXMgdGhlIGZ1bmN0aW9uIHRoYXQgaXMgaW5qZWN0ZWQgYXMgYCR0cmFuc2NsdWRlYC4KICAgICAgICBmdW5jdGlvbiBjb250cm9sbGVyc0JvdW5kVHJhbnNjbHVkZShzY29wZSwgY2xvbmVBdHRhY2hGbikgewogICAgICAgICAgdmFyIHRyYW5zY2x1ZGVDb250cm9sbGVyczsKCiAgICAgICAgICAvLyBubyBzY29wZSBwYXNzZWQKICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgewogICAgICAgICAgICBjbG9uZUF0dGFjaEZuID0gc2NvcGU7CiAgICAgICAgICAgIHNjb3BlID0gdW5kZWZpbmVkOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSkgewogICAgICAgICAgICB0cmFuc2NsdWRlQ29udHJvbGxlcnMgPSBlbGVtZW50Q29udHJvbGxlcnM7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIGJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCBjbG9uZUF0dGFjaEZuLCB0cmFuc2NsdWRlQ29udHJvbGxlcnMpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIG1hcmtEaXJlY3RpdmVzQXNJc29sYXRlKGRpcmVjdGl2ZXMpIHsKICAgICAgLy8gbWFyayBhbGwgZGlyZWN0aXZlcyBhcyBuZWVkaW5nIGlzb2xhdGUgc2NvcGUuCiAgICAgIGZvciAodmFyIGogPSAwLCBqaiA9IGRpcmVjdGl2ZXMubGVuZ3RoOyBqIDwgamo7IGorKykgewogICAgICAgIGRpcmVjdGl2ZXNbal0gPSBpbmhlcml0KGRpcmVjdGl2ZXNbal0sIHskJGlzb2xhdGVTY29wZTogdHJ1ZX0pOwogICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBsb29rcyB1cCB0aGUgZGlyZWN0aXZlIGFuZCBkZWNvcmF0ZXMgaXQgd2l0aCBleGNlcHRpb24gaGFuZGxpbmcgYW5kIHByb3BlciBwYXJhbWV0ZXJzLiBXZQogICAgICogY2FsbCB0aGlzIHRoZSBib3VuZERpcmVjdGl2ZS4KICAgICAqCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBuYW1lIG9mIHRoZSBkaXJlY3RpdmUgdG8gbG9vayB1cC4KICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhdGlvbiBUaGUgZGlyZWN0aXZlIG11c3QgYmUgZm91bmQgaW4gc3BlY2lmaWMgZm9ybWF0LgogICAgICogICBTdHJpbmcgY29udGFpbmluZyBhbnkgb2YgdGhlc2VzIGNoYXJhY3RlcnM6CiAgICAgKgogICAgICogICAqIGBFYDogZWxlbWVudCBuYW1lCiAgICAgKiAgICogYEEnOiBhdHRyaWJ1dGUKICAgICAqICAgKiBgQ2A6IGNsYXNzCiAgICAgKiAgICogYE1gOiBjb21tZW50CiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBkaXJlY3RpdmUgd2FzIGFkZGVkLgogICAgICovCiAgICBmdW5jdGlvbiBhZGREaXJlY3RpdmUodERpcmVjdGl2ZXMsIG5hbWUsIGxvY2F0aW9uLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLCBzdGFydEF0dHJOYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIGVuZEF0dHJOYW1lKSB7CiAgICAgIGlmIChuYW1lID09PSBpZ25vcmVEaXJlY3RpdmUpIHJldHVybiBudWxsOwogICAgICB2YXIgbWF0Y2ggPSBudWxsOwogICAgICBpZiAoaGFzRGlyZWN0aXZlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkgewogICAgICAgIGZvcih2YXIgZGlyZWN0aXZlLCBkaXJlY3RpdmVzID0gJGluamVjdG9yLmdldChuYW1lICsgU3VmZml4KSwKICAgICAgICAgICAgaSA9IDAsIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7IGk8aWk7IGkrKykgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZGlyZWN0aXZlID0gZGlyZWN0aXZlc1tpXTsKICAgICAgICAgICAgaWYgKCAobWF4UHJpb3JpdHkgPT09IHVuZGVmaW5lZCB8fCBtYXhQcmlvcml0eSA+IGRpcmVjdGl2ZS5wcmlvcml0eSkgJiYKICAgICAgICAgICAgICAgICBkaXJlY3RpdmUucmVzdHJpY3QuaW5kZXhPZihsb2NhdGlvbikgIT0gLTEpIHsKICAgICAgICAgICAgICBpZiAoc3RhcnRBdHRyTmFtZSkgewogICAgICAgICAgICAgICAgZGlyZWN0aXZlID0gaW5oZXJpdChkaXJlY3RpdmUsIHskJHN0YXJ0OiBzdGFydEF0dHJOYW1lLCAkJGVuZDogZW5kQXR0ck5hbWV9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgdERpcmVjdGl2ZXMucHVzaChkaXJlY3RpdmUpOwogICAgICAgICAgICAgIG1hdGNoID0gZGlyZWN0aXZlOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoKGUpIHsgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7IH0KICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIG1hdGNoOwogICAgfQoKCiAgICAvKioKICAgICAqIFdoZW4gdGhlIGVsZW1lbnQgaXMgcmVwbGFjZWQgd2l0aCBIVE1MIHRlbXBsYXRlIHRoZW4gdGhlIG5ldyBhdHRyaWJ1dGVzCiAgICAgKiBvbiB0aGUgdGVtcGxhdGUgbmVlZCB0byBiZSBtZXJnZWQgd2l0aCB0aGUgZXhpc3RpbmcgYXR0cmlidXRlcyBpbiB0aGUgRE9NLgogICAgICogVGhlIGRlc2lyZWQgZWZmZWN0IGlzIHRvIGhhdmUgYm90aCBvZiB0aGUgYXR0cmlidXRlcyBwcmVzZW50LgogICAgICoKICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkc3QgZGVzdGluYXRpb24gYXR0cmlidXRlcyAob3JpZ2luYWwgRE9NKQogICAgICogQHBhcmFtIHtvYmplY3R9IHNyYyBzb3VyY2UgYXR0cmlidXRlcyAoZnJvbSB0aGUgZGlyZWN0aXZlIHRlbXBsYXRlKQogICAgICovCiAgICBmdW5jdGlvbiBtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyhkc3QsIHNyYykgewogICAgICB2YXIgc3JjQXR0ciA9IHNyYy4kYXR0ciwKICAgICAgICAgIGRzdEF0dHIgPSBkc3QuJGF0dHIsCiAgICAgICAgICAkZWxlbWVudCA9IGRzdC4kJGVsZW1lbnQ7CgogICAgICAvLyByZWFwcGx5IHRoZSBvbGQgYXR0cmlidXRlcyB0byB0aGUgbmV3IGVsZW1lbnQKICAgICAgZm9yRWFjaChkc3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHsKICAgICAgICBpZiAoa2V5LmNoYXJBdCgwKSAhPSAnJCcpIHsKICAgICAgICAgIGlmIChzcmNba2V5XSAmJiBzcmNba2V5XSAhPT0gdmFsdWUpIHsKICAgICAgICAgICAgdmFsdWUgKz0gKGtleSA9PT0gJ3N0eWxlJyA/ICc7JyA6ICcgJykgKyBzcmNba2V5XTsKICAgICAgICAgIH0KICAgICAgICAgIGRzdC4kc2V0KGtleSwgdmFsdWUsIHRydWUsIHNyY0F0dHJba2V5XSk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIC8vIGNvcHkgdGhlIG5ldyBhdHRyaWJ1dGVzIG9uIHRoZSBvbGQgYXR0cnMgb2JqZWN0CiAgICAgIGZvckVhY2goc3JjLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7CiAgICAgICAgaWYgKGtleSA9PSAnY2xhc3MnKSB7CiAgICAgICAgICBzYWZlQWRkQ2xhc3MoJGVsZW1lbnQsIHZhbHVlKTsKICAgICAgICAgIGRzdFsnY2xhc3MnXSA9IChkc3RbJ2NsYXNzJ10gPyBkc3RbJ2NsYXNzJ10gKyAnICcgOiAnJykgKyB2YWx1ZTsKICAgICAgICB9IGVsc2UgaWYgKGtleSA9PSAnc3R5bGUnKSB7CiAgICAgICAgICAkZWxlbWVudC5hdHRyKCdzdHlsZScsICRlbGVtZW50LmF0dHIoJ3N0eWxlJykgKyAnOycgKyB2YWx1ZSk7CiAgICAgICAgICBkc3RbJ3N0eWxlJ10gPSAoZHN0WydzdHlsZSddID8gZHN0WydzdHlsZSddICsgJzsnIDogJycpICsgdmFsdWU7CiAgICAgICAgICAvLyBgZHN0YCB3aWxsIG5ldmVyIGNvbnRhaW4gaGFzT3duUHJvcGVydHkgYXMgRE9NIHBhcnNlciB3b24ndCBsZXQgaXQuCiAgICAgICAgICAvLyBZb3Ugd2lsbCBnZXQgYW4gIkludmFsaWRDaGFyYWN0ZXJFcnJvcjogRE9NIEV4Y2VwdGlvbiA1IiBlcnJvciBpZiB5b3UKICAgICAgICAgIC8vIGhhdmUgYW4gYXR0cmlidXRlIGxpa2UgImhhcy1vd24tcHJvcGVydHkiIG9yICJkYXRhLWhhcy1vd24tcHJvcGVydHkiLCBldGMuCiAgICAgICAgfSBlbHNlIGlmIChrZXkuY2hhckF0KDApICE9ICckJyAmJiAhZHN0Lmhhc093blByb3BlcnR5KGtleSkpIHsKICAgICAgICAgIGRzdFtrZXldID0gdmFsdWU7CiAgICAgICAgICBkc3RBdHRyW2tleV0gPSBzcmNBdHRyW2tleV07CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCgogICAgZnVuY3Rpb24gY29tcGlsZVRlbXBsYXRlVXJsKGRpcmVjdGl2ZXMsICRjb21waWxlTm9kZSwgdEF0dHJzLAogICAgICAgICRyb290RWxlbWVudCwgY2hpbGRUcmFuc2NsdWRlRm4sIHByZUxpbmtGbnMsIHBvc3RMaW5rRm5zLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KSB7CiAgICAgIHZhciBsaW5rUXVldWUgPSBbXSwKICAgICAgICAgIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLAogICAgICAgICAgYWZ0ZXJUZW1wbGF0ZUNoaWxkTGlua0ZuLAogICAgICAgICAgYmVmb3JlVGVtcGxhdGVDb21waWxlTm9kZSA9ICRjb21waWxlTm9kZVswXSwKICAgICAgICAgIG9yaWdBc3luY0RpcmVjdGl2ZSA9IGRpcmVjdGl2ZXMuc2hpZnQoKSwKICAgICAgICAgIC8vIFRoZSBmYWN0IHRoYXQgd2UgaGF2ZSB0byBjb3B5IGFuZCBwYXRjaCB0aGUgZGlyZWN0aXZlIHNlZW1zIHdyb25nIQogICAgICAgICAgZGVyaXZlZFN5bmNEaXJlY3RpdmUgPSBleHRlbmQoe30sIG9yaWdBc3luY0RpcmVjdGl2ZSwgewogICAgICAgICAgICB0ZW1wbGF0ZVVybDogbnVsbCwgdHJhbnNjbHVkZTogbnVsbCwgcmVwbGFjZTogbnVsbCwgJCRvcmlnaW5hbERpcmVjdGl2ZTogb3JpZ0FzeW5jRGlyZWN0aXZlCiAgICAgICAgICB9KSwKICAgICAgICAgIHRlbXBsYXRlVXJsID0gKGlzRnVuY3Rpb24ob3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlVXJsKSkKICAgICAgICAgICAgICA/IG9yaWdBc3luY0RpcmVjdGl2ZS50ZW1wbGF0ZVVybCgkY29tcGlsZU5vZGUsIHRBdHRycykKICAgICAgICAgICAgICA6IG9yaWdBc3luY0RpcmVjdGl2ZS50ZW1wbGF0ZVVybDsKCiAgICAgICRjb21waWxlTm9kZS5lbXB0eSgpOwoKICAgICAgJGh0dHAuZ2V0KCRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsKHRlbXBsYXRlVXJsKSwge2NhY2hlOiAkdGVtcGxhdGVDYWNoZX0pLgogICAgICAgIHN1Y2Nlc3MoZnVuY3Rpb24oY29udGVudCkgewogICAgICAgICAgdmFyIGNvbXBpbGVOb2RlLCB0ZW1wVGVtcGxhdGVBdHRycywgJHRlbXBsYXRlLCBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuOwoKICAgICAgICAgIGNvbnRlbnQgPSBkZW5vcm1hbGl6ZVRlbXBsYXRlKGNvbnRlbnQpOwoKICAgICAgICAgIGlmIChvcmlnQXN5bmNEaXJlY3RpdmUucmVwbGFjZSkgewogICAgICAgICAgICBpZiAoanFMaXRlSXNUZXh0Tm9kZShjb250ZW50KSkgewogICAgICAgICAgICAgICR0ZW1wbGF0ZSA9IFtdOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICR0ZW1wbGF0ZSA9IGpxTGl0ZSh0cmltKGNvbnRlbnQpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb21waWxlTm9kZSA9ICR0ZW1wbGF0ZVswXTsKCiAgICAgICAgICAgIGlmICgkdGVtcGxhdGUubGVuZ3RoICE9IDEgfHwgY29tcGlsZU5vZGUubm9kZVR5cGUgIT09IDEpIHsKICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycigndHBscnQnLAogICAgICAgICAgICAgICAgICAiVGVtcGxhdGUgZm9yIGRpcmVjdGl2ZSAnezB9JyBtdXN0IGhhdmUgZXhhY3RseSBvbmUgcm9vdCBlbGVtZW50LiB7MX0iLAogICAgICAgICAgICAgICAgICBvcmlnQXN5bmNEaXJlY3RpdmUubmFtZSwgdGVtcGxhdGVVcmwpOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0ZW1wVGVtcGxhdGVBdHRycyA9IHskYXR0cjoge319OwogICAgICAgICAgICByZXBsYWNlV2l0aCgkcm9vdEVsZW1lbnQsICRjb21waWxlTm9kZSwgY29tcGlsZU5vZGUpOwogICAgICAgICAgICB2YXIgdGVtcGxhdGVEaXJlY3RpdmVzID0gY29sbGVjdERpcmVjdGl2ZXMoY29tcGlsZU5vZGUsIFtdLCB0ZW1wVGVtcGxhdGVBdHRycyk7CgogICAgICAgICAgICBpZiAoaXNPYmplY3Qob3JpZ0FzeW5jRGlyZWN0aXZlLnNjb3BlKSkgewogICAgICAgICAgICAgIG1hcmtEaXJlY3RpdmVzQXNJc29sYXRlKHRlbXBsYXRlRGlyZWN0aXZlcyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZGlyZWN0aXZlcyA9IHRlbXBsYXRlRGlyZWN0aXZlcy5jb25jYXQoZGlyZWN0aXZlcyk7CiAgICAgICAgICAgIG1lcmdlVGVtcGxhdGVBdHRyaWJ1dGVzKHRBdHRycywgdGVtcFRlbXBsYXRlQXR0cnMpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29tcGlsZU5vZGUgPSBiZWZvcmVUZW1wbGF0ZUNvbXBpbGVOb2RlOwogICAgICAgICAgICAkY29tcGlsZU5vZGUuaHRtbChjb250ZW50KTsKICAgICAgICAgIH0KCiAgICAgICAgICBkaXJlY3RpdmVzLnVuc2hpZnQoZGVyaXZlZFN5bmNEaXJlY3RpdmUpOwoKICAgICAgICAgIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuID0gYXBwbHlEaXJlY3RpdmVzVG9Ob2RlKGRpcmVjdGl2ZXMsIGNvbXBpbGVOb2RlLCB0QXR0cnMsCiAgICAgICAgICAgICAgY2hpbGRUcmFuc2NsdWRlRm4sICRjb21waWxlTm9kZSwgb3JpZ0FzeW5jRGlyZWN0aXZlLCBwcmVMaW5rRm5zLCBwb3N0TGlua0ZucywKICAgICAgICAgICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0KTsKICAgICAgICAgIGZvckVhY2goJHJvb3RFbGVtZW50LCBmdW5jdGlvbihub2RlLCBpKSB7CiAgICAgICAgICAgIGlmIChub2RlID09IGNvbXBpbGVOb2RlKSB7CiAgICAgICAgICAgICAgJHJvb3RFbGVtZW50W2ldID0gJGNvbXBpbGVOb2RlWzBdOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIGFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbiA9IGNvbXBpbGVOb2RlcygkY29tcGlsZU5vZGVbMF0uY2hpbGROb2RlcywgY2hpbGRUcmFuc2NsdWRlRm4pOwoKICAgICAgICAgIHdoaWxlKGxpbmtRdWV1ZS5sZW5ndGgpIHsKICAgICAgICAgICAgdmFyIHNjb3BlID0gbGlua1F1ZXVlLnNoaWZ0KCksCiAgICAgICAgICAgICAgICBiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlID0gbGlua1F1ZXVlLnNoaWZ0KCksCiAgICAgICAgICAgICAgICBsaW5rUm9vdEVsZW1lbnQgPSBsaW5rUXVldWUuc2hpZnQoKSwKICAgICAgICAgICAgICAgIGJvdW5kVHJhbnNjbHVkZUZuID0gbGlua1F1ZXVlLnNoaWZ0KCksCiAgICAgICAgICAgICAgICBsaW5rTm9kZSA9ICRjb21waWxlTm9kZVswXTsKCiAgICAgICAgICAgIGlmIChiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlICE9PSBiZWZvcmVUZW1wbGF0ZUNvbXBpbGVOb2RlKSB7CiAgICAgICAgICAgICAgdmFyIG9sZENsYXNzZXMgPSBiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlLmNsYXNzTmFtZTsKCiAgICAgICAgICAgICAgaWYgKCEocHJldmlvdXNDb21waWxlQ29udGV4dC5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSAmJgogICAgICAgICAgICAgICAgICBvcmlnQXN5bmNEaXJlY3RpdmUucmVwbGFjZSkpIHsKICAgICAgICAgICAgICAgIC8vIGl0IHdhcyBjbG9uZWQgdGhlcmVmb3JlIHdlIGhhdmUgdG8gY2xvbmUgYXMgd2VsbC4KICAgICAgICAgICAgICAgIGxpbmtOb2RlID0ganFMaXRlQ2xvbmUoY29tcGlsZU5vZGUpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmVwbGFjZVdpdGgobGlua1Jvb3RFbGVtZW50LCBqcUxpdGUoYmVmb3JlVGVtcGxhdGVMaW5rTm9kZSksIGxpbmtOb2RlKTsKCiAgICAgICAgICAgICAgLy8gQ29weSBpbiBDU1MgY2xhc3NlcyBmcm9tIG9yaWdpbmFsIG5vZGUKICAgICAgICAgICAgICBzYWZlQWRkQ2xhc3MoanFMaXRlKGxpbmtOb2RlKSwgb2xkQ2xhc3Nlcyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50KSB7CiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbi50cmFuc2NsdWRlLCBib3VuZFRyYW5zY2x1ZGVGbik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGJvdW5kVHJhbnNjbHVkZUZuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuKGFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbiwgc2NvcGUsIGxpbmtOb2RlLCAkcm9vdEVsZW1lbnQsCiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbik7CiAgICAgICAgICB9CiAgICAgICAgICBsaW5rUXVldWUgPSBudWxsOwogICAgICAgIH0pLgogICAgICAgIGVycm9yKGZ1bmN0aW9uKHJlc3BvbnNlLCBjb2RlLCBoZWFkZXJzLCBjb25maWcpIHsKICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCd0cGxvYWQnLCAnRmFpbGVkIHRvIGxvYWQgdGVtcGxhdGU6IHswfScsIGNvbmZpZy51cmwpOwogICAgICAgIH0pOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlbGF5ZWROb2RlTGlua0ZuKGlnbm9yZUNoaWxkTGlua0ZuLCBzY29wZSwgbm9kZSwgcm9vdEVsZW1lbnQsIGJvdW5kVHJhbnNjbHVkZUZuKSB7CiAgICAgICAgdmFyIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4gPSBib3VuZFRyYW5zY2x1ZGVGbjsKICAgICAgICBpZiAobGlua1F1ZXVlKSB7CiAgICAgICAgICBsaW5rUXVldWUucHVzaChzY29wZSk7CiAgICAgICAgICBsaW5rUXVldWUucHVzaChub2RlKTsKICAgICAgICAgIGxpbmtRdWV1ZS5wdXNoKHJvb3RFbGVtZW50KTsKICAgICAgICAgIGxpbmtRdWV1ZS5wdXNoKGNoaWxkQm91bmRUcmFuc2NsdWRlRm4pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQpIHsKICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbi50cmFuc2NsdWRlLCBib3VuZFRyYW5zY2x1ZGVGbik7CiAgICAgICAgICB9CiAgICAgICAgICBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbihhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4sIHNjb3BlLCBub2RlLCByb290RWxlbWVudCwgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbik7CiAgICAgICAgfQogICAgICB9OwogICAgfQoKCiAgICAvKioKICAgICAqIFNvcnRpbmcgZnVuY3Rpb24gZm9yIGJvdW5kIGRpcmVjdGl2ZXMuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJ5UHJpb3JpdHkoYSwgYikgewogICAgICB2YXIgZGlmZiA9IGIucHJpb3JpdHkgLSBhLnByaW9yaXR5OwogICAgICBpZiAoZGlmZiAhPT0gMCkgcmV0dXJuIGRpZmY7CiAgICAgIGlmIChhLm5hbWUgIT09IGIubmFtZSkgcmV0dXJuIChhLm5hbWUgPCBiLm5hbWUpID8gLTEgOiAxOwogICAgICByZXR1cm4gYS5pbmRleCAtIGIuaW5kZXg7CiAgICB9CgoKICAgIGZ1bmN0aW9uIGFzc2VydE5vRHVwbGljYXRlKHdoYXQsIHByZXZpb3VzRGlyZWN0aXZlLCBkaXJlY3RpdmUsIGVsZW1lbnQpIHsKICAgICAgaWYgKHByZXZpb3VzRGlyZWN0aXZlKSB7CiAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ211bHRpZGlyJywgJ011bHRpcGxlIGRpcmVjdGl2ZXMgW3swfSwgezF9XSBhc2tpbmcgZm9yIHsyfSBvbjogezN9JywKICAgICAgICAgICAgcHJldmlvdXNEaXJlY3RpdmUubmFtZSwgZGlyZWN0aXZlLm5hbWUsIHdoYXQsIHN0YXJ0aW5nVGFnKGVsZW1lbnQpKTsKICAgICAgfQogICAgfQoKCiAgICAgIGZ1bmN0aW9uIGFkZFRleHRJbnRlcnBvbGF0ZURpcmVjdGl2ZShkaXJlY3RpdmVzLCB0ZXh0KSB7CiAgICAgICAgdmFyIGludGVycG9sYXRlRm4gPSAkaW50ZXJwb2xhdGUodGV4dCwgdHJ1ZSk7CiAgICAgICAgaWYgKGludGVycG9sYXRlRm4pIHsKICAgICAgICAgIGRpcmVjdGl2ZXMucHVzaCh7CiAgICAgICAgICAgIHByaW9yaXR5OiAwLAogICAgICAgICAgICBjb21waWxlOiBmdW5jdGlvbiB0ZXh0SW50ZXJwb2xhdGVDb21waWxlRm4odGVtcGxhdGVOb2RlKSB7CiAgICAgICAgICAgICAgLy8gd2hlbiB0cmFuc2NsdWRpbmcgYSB0ZW1wbGF0ZSB0aGF0IGhhcyBiaW5kaW5ncyBpbiB0aGUgcm9vdAogICAgICAgICAgICAgIC8vIHRoZW4gd2UgZG9uJ3QgaGF2ZSBhIHBhcmVudCBhbmQgc2hvdWxkIGRvIHRoaXMgaW4gdGhlIGxpbmtGbgogICAgICAgICAgICAgIHZhciBwYXJlbnQgPSB0ZW1wbGF0ZU5vZGUucGFyZW50KCksIGhhc0NvbXBpbGVQYXJlbnQgPSBwYXJlbnQubGVuZ3RoOwogICAgICAgICAgICAgIGlmIChoYXNDb21waWxlUGFyZW50KSBzYWZlQWRkQ2xhc3ModGVtcGxhdGVOb2RlLnBhcmVudCgpLCAnbmctYmluZGluZycpOwoKICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gdGV4dEludGVycG9sYXRlTGlua0ZuKHNjb3BlLCBub2RlKSB7CiAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnQoKSwKICAgICAgICAgICAgICAgICAgYmluZGluZ3MgPSBwYXJlbnQuZGF0YSgnJGJpbmRpbmcnKSB8fCBbXTsKICAgICAgICAgICAgICAgIGJpbmRpbmdzLnB1c2goaW50ZXJwb2xhdGVGbik7CiAgICAgICAgICAgICAgICBwYXJlbnQuZGF0YSgnJGJpbmRpbmcnLCBiaW5kaW5ncyk7CiAgICAgICAgICAgICAgICBpZiAoIWhhc0NvbXBpbGVQYXJlbnQpIHNhZmVBZGRDbGFzcyhwYXJlbnQsICduZy1iaW5kaW5nJyk7CiAgICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goaW50ZXJwb2xhdGVGbiwgZnVuY3Rpb24gaW50ZXJwb2xhdGVGbldhdGNoQWN0aW9uKHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIG5vZGVbMF0ubm9kZVZhbHVlID0gdmFsdWU7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KCgogICAgZnVuY3Rpb24gZ2V0VHJ1c3RlZENvbnRleHQobm9kZSwgYXR0ck5vcm1hbGl6ZWROYW1lKSB7CiAgICAgIGlmIChhdHRyTm9ybWFsaXplZE5hbWUgPT0gInNyY2RvYyIpIHsKICAgICAgICByZXR1cm4gJHNjZS5IVE1MOwogICAgICB9CiAgICAgIHZhciB0YWcgPSBub2RlTmFtZV8obm9kZSk7CiAgICAgIC8vIG1hY3Rpb25beGxpbms6aHJlZl0gY2FuIHNvdXJjZSBTVkcuICBJdCdzIG5vdCBsaW1pdGVkIHRvIDxtYWN0aW9uPi4KICAgICAgaWYgKGF0dHJOb3JtYWxpemVkTmFtZSA9PSAieGxpbmtIcmVmIiB8fAogICAgICAgICAgKHRhZyA9PSAiRk9STSIgJiYgYXR0ck5vcm1hbGl6ZWROYW1lID09ICJhY3Rpb24iKSB8fAogICAgICAgICAgKHRhZyAhPSAiSU1HIiAmJiAoYXR0ck5vcm1hbGl6ZWROYW1lID09ICJzcmMiIHx8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyTm9ybWFsaXplZE5hbWUgPT0gIm5nU3JjIikpKSB7CiAgICAgICAgcmV0dXJuICRzY2UuUkVTT1VSQ0VfVVJMOwogICAgICB9CiAgICB9CgoKICAgIGZ1bmN0aW9uIGFkZEF0dHJJbnRlcnBvbGF0ZURpcmVjdGl2ZShub2RlLCBkaXJlY3RpdmVzLCB2YWx1ZSwgbmFtZSkgewogICAgICB2YXIgaW50ZXJwb2xhdGVGbiA9ICRpbnRlcnBvbGF0ZSh2YWx1ZSwgdHJ1ZSk7CgogICAgICAvLyBubyBpbnRlcnBvbGF0aW9uIGZvdW5kIC0+IGlnbm9yZQogICAgICBpZiAoIWludGVycG9sYXRlRm4pIHJldHVybjsKCgogICAgICBpZiAobmFtZSA9PT0gIm11bHRpcGxlIiAmJiBub2RlTmFtZV8obm9kZSkgPT09ICJTRUxFQ1QiKSB7CiAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoInNlbG11bHRpIiwKICAgICAgICAgICAgIkJpbmRpbmcgdG8gdGhlICdtdWx0aXBsZScgYXR0cmlidXRlIGlzIG5vdCBzdXBwb3J0ZWQuIEVsZW1lbnQ6IHswfSIsCiAgICAgICAgICAgIHN0YXJ0aW5nVGFnKG5vZGUpKTsKICAgICAgfQoKICAgICAgZGlyZWN0aXZlcy5wdXNoKHsKICAgICAgICBwcmlvcml0eTogMTAwLAogICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIHByZTogZnVuY3Rpb24gYXR0ckludGVycG9sYXRlUHJlTGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7CiAgICAgICAgICAgICAgICB2YXIgJCRvYnNlcnZlcnMgPSAoYXR0ci4kJG9ic2VydmVycyB8fCAoYXR0ci4kJG9ic2VydmVycyA9IHt9KSk7CgogICAgICAgICAgICAgICAgaWYgKEVWRU5UX0hBTkRMRVJfQVRUUl9SRUdFWFAudGVzdChuYW1lKSkgewogICAgICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbm9kb21ldmVudHMnLAogICAgICAgICAgICAgICAgICAgICAgIkludGVycG9sYXRpb25zIGZvciBIVE1MIERPTSBldmVudCBhdHRyaWJ1dGVzIGFyZSBkaXNhbGxvd2VkLiAgUGxlYXNlIHVzZSB0aGUgIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgIm5nLSB2ZXJzaW9ucyAoc3VjaCBhcyBuZy1jbGljayBpbnN0ZWFkIG9mIG9uY2xpY2spIGluc3RlYWQuIik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBpbnRlcnBvbGF0ZSBhZ2FpbiwgaW4gY2FzZSB0aGUgYXR0cmlidXRlIHZhbHVlIGhhcyBiZWVuIHVwZGF0ZWQKICAgICAgICAgICAgICAgIC8vIChlLmcuIGJ5IGFub3RoZXIgZGlyZWN0aXZlJ3MgY29tcGlsZSBmdW5jdGlvbikKICAgICAgICAgICAgICAgIGludGVycG9sYXRlRm4gPSAkaW50ZXJwb2xhdGUoYXR0cltuYW1lXSwgdHJ1ZSwgZ2V0VHJ1c3RlZENvbnRleHQobm9kZSwgbmFtZSkpOwoKICAgICAgICAgICAgICAgIC8vIGlmIGF0dHJpYnV0ZSB3YXMgdXBkYXRlZCBzbyB0aGF0IHRoZXJlIGlzIG5vIGludGVycG9sYXRpb24gZ29pbmcgb24gd2UgZG9uJ3Qgd2FudCB0bwogICAgICAgICAgICAgICAgLy8gcmVnaXN0ZXIgYW55IG9ic2VydmVycwogICAgICAgICAgICAgICAgaWYgKCFpbnRlcnBvbGF0ZUZuKSByZXR1cm47CgogICAgICAgICAgICAgICAgLy8gVE9ETyhpKTogdGhpcyBzaG91bGQgbGlrZWx5IGJlIGF0dHIuJHNldChuYW1lLCBpdGVycG9sYXRlRm4oc2NvcGUpIHNvIHRoYXQgd2UgcmVzZXQgdGhlCiAgICAgICAgICAgICAgICAvLyBhY3R1YWwgYXR0ciB2YWx1ZQogICAgICAgICAgICAgICAgYXR0cltuYW1lXSA9IGludGVycG9sYXRlRm4oc2NvcGUpOwogICAgICAgICAgICAgICAgKCQkb2JzZXJ2ZXJzW25hbWVdIHx8ICgkJG9ic2VydmVyc1tuYW1lXSA9IFtdKSkuJCRpbnRlciA9IHRydWU7CiAgICAgICAgICAgICAgICAoYXR0ci4kJG9ic2VydmVycyAmJiBhdHRyLiQkb2JzZXJ2ZXJzW25hbWVdLiQkc2NvcGUgfHwgc2NvcGUpLgogICAgICAgICAgICAgICAgICAkd2F0Y2goaW50ZXJwb2xhdGVGbiwgZnVuY3Rpb24gaW50ZXJwb2xhdGVGbldhdGNoQWN0aW9uKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICAgICAgICAgICAgICAgIC8vc3BlY2lhbCBjYXNlIGZvciBjbGFzcyBhdHRyaWJ1dGUgYWRkaXRpb24gKyByZW1vdmFsCiAgICAgICAgICAgICAgICAgICAgLy9zbyB0aGF0IGNsYXNzIGNoYW5nZXMgY2FuIHRhcCBpbnRvIHRoZSBhbmltYXRpb24KICAgICAgICAgICAgICAgICAgICAvL2hvb2tzIHByb3ZpZGVkIGJ5IHRoZSAkYW5pbWF0ZSBzZXJ2aWNlLiBCZSBzdXJlIHRvCiAgICAgICAgICAgICAgICAgICAgLy9za2lwIGFuaW1hdGlvbnMgd2hlbiB0aGUgZmlyc3QgZGlnZXN0IG9jY3VycyAod2hlbgogICAgICAgICAgICAgICAgICAgIC8vYm90aCB0aGUgbmV3IGFuZCB0aGUgb2xkIHZhbHVlcyBhcmUgdGhlIHNhbWUpIHNpbmNlCiAgICAgICAgICAgICAgICAgICAgLy90aGUgQ1NTIGNsYXNzZXMgYXJlIHRoZSBub24taW50ZXJwb2xhdGVkIHZhbHVlcwogICAgICAgICAgICAgICAgICAgIGlmKG5hbWUgPT09ICdjbGFzcycgJiYgbmV3VmFsdWUgIT0gb2xkVmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgIGF0dHIuJHVwZGF0ZUNsYXNzKG5ld1ZhbHVlLCBvbGRWYWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIGF0dHIuJHNldChuYW1lLCBuZXdWYWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKCiAgICAvKioKICAgICAqIFRoaXMgaXMgYSBzcGVjaWFsIGpxTGl0ZS5yZXBsYWNlV2l0aCwgd2hpY2ggY2FuIHJlcGxhY2UgaXRlbXMgd2hpY2gKICAgICAqIGhhdmUgbm8gcGFyZW50cywgcHJvdmlkZWQgdGhhdCB0aGUgY29udGFpbmluZyBqcUxpdGUgY29sbGVjdGlvbiBpcyBwcm92aWRlZC4KICAgICAqCiAgICAgKiBAcGFyYW0ge0pxTGl0ZT19ICRyb290RWxlbWVudCBUaGUgcm9vdCBvZiB0aGUgY29tcGlsZSB0cmVlLiBVc2VkIHNvIHRoYXQgd2UgY2FuIHJlcGxhY2Ugbm9kZXMKICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIHRoZSByb290IG9mIHRoZSB0cmVlLgogICAgICogQHBhcmFtIHtKcUxpdGV9IGVsZW1lbnRzVG9SZW1vdmUgVGhlIGpxTGl0ZSBlbGVtZW50IHdoaWNoIHdlIGFyZSBnb2luZyB0byByZXBsYWNlLiBXZSBrZWVwCiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgc2hlbGwsIGJ1dCByZXBsYWNlIGl0cyBET00gbm9kZSByZWZlcmVuY2UuCiAgICAgKiBAcGFyYW0ge05vZGV9IG5ld05vZGUgVGhlIG5ldyBET00gbm9kZS4KICAgICAqLwogICAgZnVuY3Rpb24gcmVwbGFjZVdpdGgoJHJvb3RFbGVtZW50LCBlbGVtZW50c1RvUmVtb3ZlLCBuZXdOb2RlKSB7CiAgICAgIHZhciBmaXJzdEVsZW1lbnRUb1JlbW92ZSA9IGVsZW1lbnRzVG9SZW1vdmVbMF0sCiAgICAgICAgICByZW1vdmVDb3VudCA9IGVsZW1lbnRzVG9SZW1vdmUubGVuZ3RoLAogICAgICAgICAgcGFyZW50ID0gZmlyc3RFbGVtZW50VG9SZW1vdmUucGFyZW50Tm9kZSwKICAgICAgICAgIGksIGlpOwoKICAgICAgaWYgKCRyb290RWxlbWVudCkgewogICAgICAgIGZvcihpID0gMCwgaWkgPSAkcm9vdEVsZW1lbnQubGVuZ3RoOyBpIDwgaWk7IGkrKykgewogICAgICAgICAgaWYgKCRyb290RWxlbWVudFtpXSA9PSBmaXJzdEVsZW1lbnRUb1JlbW92ZSkgewogICAgICAgICAgICAkcm9vdEVsZW1lbnRbaSsrXSA9IG5ld05vZGU7CiAgICAgICAgICAgIGZvciAodmFyIGogPSBpLCBqMiA9IGogKyByZW1vdmVDb3VudCAtIDEsCiAgICAgICAgICAgICAgICAgICAgIGpqID0gJHJvb3RFbGVtZW50Lmxlbmd0aDsKICAgICAgICAgICAgICAgICBqIDwgamo7IGorKywgajIrKykgewogICAgICAgICAgICAgIGlmIChqMiA8IGpqKSB7CiAgICAgICAgICAgICAgICAkcm9vdEVsZW1lbnRbal0gPSAkcm9vdEVsZW1lbnRbajJdOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBkZWxldGUgJHJvb3RFbGVtZW50W2pdOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAkcm9vdEVsZW1lbnQubGVuZ3RoIC09IHJlbW92ZUNvdW50IC0gMTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAocGFyZW50KSB7CiAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChuZXdOb2RlLCBmaXJzdEVsZW1lbnRUb1JlbW92ZSk7CiAgICAgIH0KICAgICAgdmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOwogICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChmaXJzdEVsZW1lbnRUb1JlbW92ZSk7CiAgICAgIG5ld05vZGVbanFMaXRlLmV4cGFuZG9dID0gZmlyc3RFbGVtZW50VG9SZW1vdmVbanFMaXRlLmV4cGFuZG9dOwogICAgICBmb3IgKHZhciBrID0gMSwga2sgPSBlbGVtZW50c1RvUmVtb3ZlLmxlbmd0aDsgayA8IGtrOyBrKyspIHsKICAgICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzVG9SZW1vdmVba107CiAgICAgICAganFMaXRlKGVsZW1lbnQpLnJlbW92ZSgpOyAvLyBtdXN0IGRvIHRoaXMgd2F5IHRvIGNsZWFuIHVwIGV4cGFuZG8KICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChlbGVtZW50KTsKICAgICAgICBkZWxldGUgZWxlbWVudHNUb1JlbW92ZVtrXTsKICAgICAgfQoKICAgICAgZWxlbWVudHNUb1JlbW92ZVswXSA9IG5ld05vZGU7CiAgICAgIGVsZW1lbnRzVG9SZW1vdmUubGVuZ3RoID0gMTsKICAgIH0KCgogICAgZnVuY3Rpb24gY2xvbmVBbmRBbm5vdGF0ZUZuKGZuLCBhbm5vdGF0aW9uKSB7CiAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24oKSB7IHJldHVybiBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9LCBmbiwgYW5ub3RhdGlvbik7CiAgICB9CiAgfV07Cn0KCnZhciBQUkVGSVhfUkVHRVhQID0gL14oeFtcOlwtX118ZGF0YVtcOlwtX10pL2k7Ci8qKgogKiBDb252ZXJ0cyBhbGwgYWNjZXB0ZWQgZGlyZWN0aXZlcyBmb3JtYXQgaW50byBwcm9wZXIgZGlyZWN0aXZlIG5hbWUuCiAqIEFsbCBvZiB0aGVzZSB3aWxsIGJlY29tZSAnbXlEaXJlY3RpdmUnOgogKiAgIG15OkRpcmVjdGl2ZQogKiAgIG15LWRpcmVjdGl2ZQogKiAgIHgtbXktZGlyZWN0aXZlCiAqICAgZGF0YS1teTpkaXJlY3RpdmUKICoKICogQWxzbyB0aGVyZSBpcyBzcGVjaWFsIGNhc2UgZm9yIE1veiBwcmVmaXggc3RhcnRpbmcgd2l0aCB1cHBlciBjYXNlIGxldHRlci4KICogQHBhcmFtIG5hbWUgTmFtZSB0byBub3JtYWxpemUKICovCmZ1bmN0aW9uIGRpcmVjdGl2ZU5vcm1hbGl6ZShuYW1lKSB7CiAgcmV0dXJuIGNhbWVsQ2FzZShuYW1lLnJlcGxhY2UoUFJFRklYX1JFR0VYUCwgJycpKTsKfQoKLyoqCiAqIEBuZ2RvYyB0eXBlCiAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBBIHNoYXJlZCBvYmplY3QgYmV0d2VlbiBkaXJlY3RpdmUgY29tcGlsZSAvIGxpbmtpbmcgZnVuY3Rpb25zIHdoaWNoIGNvbnRhaW5zIG5vcm1hbGl6ZWQgRE9NCiAqIGVsZW1lbnQgYXR0cmlidXRlcy4gVGhlIHZhbHVlcyByZWZsZWN0IGN1cnJlbnQgYmluZGluZyBzdGF0ZSBge3sgfX1gLiBUaGUgbm9ybWFsaXphdGlvbiBpcwogKiBuZWVkZWQgc2luY2UgYWxsIG9mIHRoZXNlIGFyZSB0cmVhdGVkIGFzIGVxdWl2YWxlbnQgaW4gQW5ndWxhcjoKICoKICogYGBgCiAqICAgIDxzcGFuIG5nOmJpbmQ9ImEiIG5nLWJpbmQ9ImEiIGRhdGEtbmctYmluZD0iYSIgeC1uZy1iaW5kPSJhIj4KICogYGBgCiAqLwoKLyoqCiAqIEBuZ2RvYyBwcm9wZXJ0eQogKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkYXR0cgogKiBAcmV0dXJucyB7b2JqZWN0fSBBIG1hcCBvZiBET00gZWxlbWVudCBhdHRyaWJ1dGUgbmFtZXMgdG8gdGhlIG5vcm1hbGl6ZWQgbmFtZS4gVGhpcyBpcwogKiAgICAgICAgICAgICAgICAgICBuZWVkZWQgdG8gZG8gcmV2ZXJzZSBsb29rdXAgZnJvbSBub3JtYWxpemVkIG5hbWUgYmFjayB0byBhY3R1YWwgbmFtZS4KICovCgoKLyoqCiAqIEBuZ2RvYyBtZXRob2QKICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJHNldAogKiBAa2luZCBmdW5jdGlvbgogKgogKiBAZGVzY3JpcHRpb24KICogU2V0IERPTSBlbGVtZW50IGF0dHJpYnV0ZSB2YWx1ZS4KICoKICoKICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTm9ybWFsaXplZCBlbGVtZW50IGF0dHJpYnV0ZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBtb2RpZnkuIFRoZSBuYW1lIGlzCiAqICAgICAgICAgIHJldmVyc2UtdHJhbnNsYXRlZCB1c2luZyB0aGUge0BsaW5rIG5nLiRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRhdHRyICRhdHRyfQogKiAgICAgICAgICBwcm9wZXJ0eSB0byB0aGUgb3JpZ2luYWwgbmFtZS4KICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFZhbHVlIHRvIHNldCB0aGUgYXR0cmlidXRlIHRvLiBUaGUgdmFsdWUgY2FuIGJlIGFuIGludGVycG9sYXRlZCBzdHJpbmcuCiAqLwoKCgovKioKICogQ2xvc3VyZSBjb21waWxlciB0eXBlIGluZm9ybWF0aW9uCiAqLwoKZnVuY3Rpb24gbm9kZXNldExpbmtpbmdGbigKICAvKiBhbmd1bGFyLlNjb3BlICovIHNjb3BlLAogIC8qIE5vZGVMaXN0ICovIG5vZGVMaXN0LAogIC8qIEVsZW1lbnQgKi8gcm9vdEVsZW1lbnQsCiAgLyogZnVuY3Rpb24oRnVuY3Rpb24pICovIGJvdW5kVHJhbnNjbHVkZUZuCil7fQoKZnVuY3Rpb24gZGlyZWN0aXZlTGlua2luZ0ZuKAogIC8qIG5vZGVzZXRMaW5raW5nRm4gKi8gbm9kZXNldExpbmtpbmdGbiwKICAvKiBhbmd1bGFyLlNjb3BlICovIHNjb3BlLAogIC8qIE5vZGUgKi8gbm9kZSwKICAvKiBFbGVtZW50ICovIHJvb3RFbGVtZW50LAogIC8qIGZ1bmN0aW9uKEZ1bmN0aW9uKSAqLyBib3VuZFRyYW5zY2x1ZGVGbgope30KCmZ1bmN0aW9uIHRva2VuRGlmZmVyZW5jZShzdHIxLCBzdHIyKSB7CiAgdmFyIHZhbHVlcyA9ICcnLAogICAgICB0b2tlbnMxID0gc3RyMS5zcGxpdCgvXHMrLyksCiAgICAgIHRva2VuczIgPSBzdHIyLnNwbGl0KC9ccysvKTsKCiAgb3V0ZXI6CiAgZm9yKHZhciBpID0gMDsgaSA8IHRva2VuczEubGVuZ3RoOyBpKyspIHsKICAgIHZhciB0b2tlbiA9IHRva2VuczFbaV07CiAgICBmb3IodmFyIGogPSAwOyBqIDwgdG9rZW5zMi5sZW5ndGg7IGorKykgewogICAgICBpZih0b2tlbiA9PSB0b2tlbnMyW2pdKSBjb250aW51ZSBvdXRlcjsKICAgIH0KICAgIHZhbHVlcyArPSAodmFsdWVzLmxlbmd0aCA+IDAgPyAnICcgOiAnJykgKyB0b2tlbjsKICB9CiAgcmV0dXJuIHZhbHVlczsKfQoKLyoqCiAqIEBuZ2RvYyBwcm92aWRlcgogKiBAbmFtZSAkY29udHJvbGxlclByb3ZpZGVyCiAqIEBkZXNjcmlwdGlvbgogKiBUaGUge0BsaW5rIG5nLiRjb250cm9sbGVyICRjb250cm9sbGVyIHNlcnZpY2V9IGlzIHVzZWQgYnkgQW5ndWxhciB0byBjcmVhdGUgbmV3CiAqIGNvbnRyb2xsZXJzLgogKgogKiBUaGlzIHByb3ZpZGVyIGFsbG93cyBjb250cm9sbGVyIHJlZ2lzdHJhdGlvbiB2aWEgdGhlCiAqIHtAbGluayBuZy4kY29udHJvbGxlclByb3ZpZGVyI3JlZ2lzdGVyIHJlZ2lzdGVyfSBtZXRob2QuCiAqLwpmdW5jdGlvbiAkQ29udHJvbGxlclByb3ZpZGVyKCkgewogIHZhciBjb250cm9sbGVycyA9IHt9LAogICAgICBDTlRSTF9SRUcgPSAvXihcUyspKFxzK2FzXHMrKFx3KykpPyQvOwoKCiAgLyoqCiAgICogQG5nZG9jIG1ldGhvZAogICAqIEBuYW1lICRjb250cm9sbGVyUHJvdmlkZXIjcmVnaXN0ZXIKICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG5hbWUgQ29udHJvbGxlciBuYW1lLCBvciBhbiBvYmplY3QgbWFwIG9mIGNvbnRyb2xsZXJzIHdoZXJlIHRoZSBrZXlzIGFyZQogICAqICAgIHRoZSBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGNvbnN0cnVjdG9ycy4KICAgKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5fSBjb25zdHJ1Y3RvciBDb250cm9sbGVyIGNvbnN0cnVjdG9yIGZuIChvcHRpb25hbGx5IGRlY29yYXRlZCB3aXRoIERJCiAgICogICAgYW5ub3RhdGlvbnMgaW4gdGhlIGFycmF5IG5vdGF0aW9uKS4KICAgKi8KICB0aGlzLnJlZ2lzdGVyID0gZnVuY3Rpb24obmFtZSwgY29uc3RydWN0b3IpIHsKICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsICdjb250cm9sbGVyJyk7CiAgICBpZiAoaXNPYmplY3QobmFtZSkpIHsKICAgICAgZXh0ZW5kKGNvbnRyb2xsZXJzLCBuYW1lKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnRyb2xsZXJzW25hbWVdID0gY29uc3RydWN0b3I7CiAgICB9CiAgfTsKCgogIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgJyR3aW5kb3cnLCBmdW5jdGlvbigkaW5qZWN0b3IsICR3aW5kb3cpIHsKCiAgICAvKioKICAgICAqIEBuZ2RvYyBzZXJ2aWNlCiAgICAgKiBAbmFtZSAkY29udHJvbGxlcgogICAgICogQHJlcXVpcmVzICRpbmplY3RvcgogICAgICoKICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBjb25zdHJ1Y3RvciBJZiBjYWxsZWQgd2l0aCBhIGZ1bmN0aW9uIHRoZW4gaXQncyBjb25zaWRlcmVkIHRvIGJlIHRoZQogICAgICogICAgY29udHJvbGxlciBjb25zdHJ1Y3RvciBmdW5jdGlvbi4gT3RoZXJ3aXNlIGl0J3MgY29uc2lkZXJlZCB0byBiZSBhIHN0cmluZyB3aGljaCBpcyB1c2VkCiAgICAgKiAgICB0byByZXRyaWV2ZSB0aGUgY29udHJvbGxlciBjb25zdHJ1Y3RvciB1c2luZyB0aGUgZm9sbG93aW5nIHN0ZXBzOgogICAgICoKICAgICAqICAgICogY2hlY2sgaWYgYSBjb250cm9sbGVyIHdpdGggZ2l2ZW4gbmFtZSBpcyByZWdpc3RlcmVkIHZpYSBgJGNvbnRyb2xsZXJQcm92aWRlcmAKICAgICAqICAgICogY2hlY2sgaWYgZXZhbHVhdGluZyB0aGUgc3RyaW5nIG9uIHRoZSBjdXJyZW50IHNjb3BlIHJldHVybnMgYSBjb25zdHJ1Y3RvcgogICAgICogICAgKiBjaGVjayBgd2luZG93W2NvbnN0cnVjdG9yXWAgb24gdGhlIGdsb2JhbCBgd2luZG93YCBvYmplY3QKICAgICAqCiAgICAgKiBAcGFyYW0ge09iamVjdH0gbG9jYWxzIEluamVjdGlvbiBsb2NhbHMgZm9yIENvbnRyb2xsZXIuCiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEluc3RhbmNlIG9mIGdpdmVuIGNvbnRyb2xsZXIuCiAgICAgKgogICAgICogQGRlc2NyaXB0aW9uCiAgICAgKiBgJGNvbnRyb2xsZXJgIHNlcnZpY2UgaXMgcmVzcG9uc2libGUgZm9yIGluc3RhbnRpYXRpbmcgY29udHJvbGxlcnMuCiAgICAgKgogICAgICogSXQncyBqdXN0IGEgc2ltcGxlIGNhbGwgdG8ge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0sIGJ1dCBleHRyYWN0ZWQgaW50bwogICAgICogYSBzZXJ2aWNlLCBzbyB0aGF0IG9uZSBjYW4gb3ZlcnJpZGUgdGhpcyBzZXJ2aWNlIHdpdGggW0JDIHZlcnNpb25dKGh0dHBzOi8vZ2lzdC5naXRodWIuY29tLzE2NDk3ODgpLgogICAgICovCiAgICByZXR1cm4gZnVuY3Rpb24oZXhwcmVzc2lvbiwgbG9jYWxzKSB7CiAgICAgIHZhciBpbnN0YW5jZSwgbWF0Y2gsIGNvbnN0cnVjdG9yLCBpZGVudGlmaWVyOwoKICAgICAgaWYoaXNTdHJpbmcoZXhwcmVzc2lvbikpIHsKICAgICAgICBtYXRjaCA9IGV4cHJlc3Npb24ubWF0Y2goQ05UUkxfUkVHKSwKICAgICAgICBjb25zdHJ1Y3RvciA9IG1hdGNoWzFdLAogICAgICAgIGlkZW50aWZpZXIgPSBtYXRjaFszXTsKICAgICAgICBleHByZXNzaW9uID0gY29udHJvbGxlcnMuaGFzT3duUHJvcGVydHkoY29uc3RydWN0b3IpCiAgICAgICAgICAgID8gY29udHJvbGxlcnNbY29uc3RydWN0b3JdCiAgICAgICAgICAgIDogZ2V0dGVyKGxvY2Fscy4kc2NvcGUsIGNvbnN0cnVjdG9yLCB0cnVlKSB8fCBnZXR0ZXIoJHdpbmRvdywgY29uc3RydWN0b3IsIHRydWUpOwoKICAgICAgICBhc3NlcnRBcmdGbihleHByZXNzaW9uLCBjb25zdHJ1Y3RvciwgdHJ1ZSk7CiAgICAgIH0KCiAgICAgIGluc3RhbmNlID0gJGluamVjdG9yLmluc3RhbnRpYXRlKGV4cHJlc3Npb24sIGxvY2Fscyk7CgogICAgICBpZiAoaWRlbnRpZmllcikgewogICAgICAgIGlmICghKGxvY2FscyAmJiB0eXBlb2YgbG9jYWxzLiRzY29wZSA9PT0gJ29iamVjdCcpKSB7CiAgICAgICAgICB0aHJvdyBtaW5FcnIoJyRjb250cm9sbGVyJykoJ25vc2NwJywKICAgICAgICAgICAgICAiQ2Fubm90IGV4cG9ydCBjb250cm9sbGVyICd7MH0nIGFzICd7MX0nISBObyAkc2NvcGUgb2JqZWN0IHByb3ZpZGVkIHZpYSBgbG9jYWxzYC4iLAogICAgICAgICAgICAgIGNvbnN0cnVjdG9yIHx8IGV4cHJlc3Npb24ubmFtZSwgaWRlbnRpZmllcik7CiAgICAgICAgfQoKICAgICAgICBsb2NhbHMuJHNjb3BlW2lkZW50aWZpZXJdID0gaW5zdGFuY2U7CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW5jZTsKICAgIH07CiAgfV07Cn0KCi8qKgogKiBAbmdkb2Mgc2VydmljZQogKiBAbmFtZSAkZG9jdW1lbnQKICogQHJlcXVpcmVzICR3aW5kb3cKICoKICogQGRlc2NyaXB0aW9uCiAqIEEge0BsaW5rIGFuZ3VsYXIuZWxlbWVudCBqUXVlcnkgb3IganFMaXRlfSB3cmFwcGVyIGZvciB0aGUgYnJvd3NlcidzIGB3aW5kb3cuZG9jdW1lbnRgIG9iamVjdC4KICoKICogQGV4YW1wbGUKICAgPGV4YW1wbGU+CiAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9Ik1haW5DdHJsIj4KICAgICAgICAgPHA+JGRvY3VtZW50IHRpdGxlOiA8YiBuZy1iaW5kPSJ0aXRsZSI+PC9iPjwvcD4KICAgICAgICAgPHA+d2luZG93LmRvY3VtZW50IHRpdGxlOiA8YiBuZy1iaW5kPSJ3aW5kb3dUaXRsZSI+PC9iPjwvcD4KICAgICAgIDwvZGl2PgogICAgIDwvZmlsZT4KICAgICA8ZmlsZSBuYW1lPSJzY3JpcHQuanMiPgogICAgICAgZnVuY3Rpb24gTWFpbkN0cmwoJHNjb3BlLCAkZG9jdW1lbnQpIHsKICAgICAgICAgJHNjb3BlLnRpdGxlID0gJGRvY3VtZW50WzBdLnRpdGxlOwogICAgICAgICAkc2NvcGUud2luZG93VGl0bGUgPSBhbmd1bGFyLmVsZW1lbnQod2luZG93LmRvY3VtZW50KVswXS50aXRsZTsKICAgICAgIH0KICAgICA8L2ZpbGU+CiAgIDwvZXhhbXBsZT4KICovCmZ1bmN0aW9uICREb2N1bWVudFByb3ZpZGVyKCl7CiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgZnVuY3Rpb24od2luZG93KXsKICAgIHJldHVybiBqcUxpdGUod2luZG93LmRvY3VtZW50KTsKICB9XTsKfQoKLyoqCiAqIEBuZ2RvYyBzZXJ2aWNlCiAqIEBuYW1lICRleGNlcHRpb25IYW5kbGVyCiAqIEByZXF1aXJlcyBuZy4kbG9nCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBBbnkgdW5jYXVnaHQgZXhjZXB0aW9uIGluIGFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGVsZWdhdGVkIHRvIHRoaXMgc2VydmljZS4KICogVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gc2ltcGx5IGRlbGVnYXRlcyB0byBgJGxvZy5lcnJvcmAgd2hpY2ggbG9ncyBpdCBpbnRvCiAqIHRoZSBicm93c2VyIGNvbnNvbGUuCiAqCiAqIEluIHVuaXQgdGVzdHMsIGlmIGBhbmd1bGFyLW1vY2tzLmpzYCBpcyBsb2FkZWQsIHRoaXMgc2VydmljZSBpcyBvdmVycmlkZGVuIGJ5CiAqIHtAbGluayBuZ01vY2suJGV4Y2VwdGlvbkhhbmRsZXIgbW9jayAkZXhjZXB0aW9uSGFuZGxlcn0gd2hpY2ggYWlkcyBpbiB0ZXN0aW5nLgogKgogKiAjIyBFeGFtcGxlOgogKgogKiBgYGBqcwogKiAgIGFuZ3VsYXIubW9kdWxlKCdleGNlcHRpb25PdmVycmlkZScsIFtdKS5mYWN0b3J5KCckZXhjZXB0aW9uSGFuZGxlcicsIGZ1bmN0aW9uICgpIHsKICogICAgIHJldHVybiBmdW5jdGlvbiAoZXhjZXB0aW9uLCBjYXVzZSkgewogKiAgICAgICBleGNlcHRpb24ubWVzc2FnZSArPSAnIChjYXVzZWQgYnkgIicgKyBjYXVzZSArICciKSc7CiAqICAgICAgIHRocm93IGV4Y2VwdGlvbjsKICogICAgIH07CiAqICAgfSk7CiAqIGBgYAogKgogKiBUaGlzIGV4YW1wbGUgd2lsbCBvdmVycmlkZSB0aGUgbm9ybWFsIGFjdGlvbiBvZiBgJGV4Y2VwdGlvbkhhbmRsZXJgLCB0byBtYWtlIGFuZ3VsYXIKICogZXhjZXB0aW9ucyBmYWlsIGhhcmQgd2hlbiB0aGV5IGhhcHBlbiwgaW5zdGVhZCBvZiBqdXN0IGxvZ2dpbmcgdG8gdGhlIGNvbnNvbGUuCiAqCiAqIEBwYXJhbSB7RXJyb3J9IGV4Y2VwdGlvbiBFeGNlcHRpb24gYXNzb2NpYXRlZCB3aXRoIHRoZSBlcnJvci4KICogQHBhcmFtIHtzdHJpbmc9fSBjYXVzZSBvcHRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY29udGV4dCBpbiB3aGljaAogKiAgICAgICB0aGUgZXJyb3Igd2FzIHRocm93bi4KICoKICovCmZ1bmN0aW9uICRFeGNlcHRpb25IYW5kbGVyUHJvdmlkZXIoKSB7CiAgdGhpcy4kZ2V0ID0gWyckbG9nJywgZnVuY3Rpb24oJGxvZykgewogICAgcmV0dXJuIGZ1bmN0aW9uKGV4Y2VwdGlvbiwgY2F1c2UpIHsKICAgICAgJGxvZy5lcnJvci5hcHBseSgkbG9nLCBhcmd1bWVudHMpOwogICAgfTsKICB9XTsKfQoKLyoqCiAqIFBhcnNlIGhlYWRlcnMgaW50byBrZXkgdmFsdWUgb2JqZWN0CiAqCiAqIEBwYXJhbSB7c3RyaW5nfSBoZWFkZXJzIFJhdyBoZWFkZXJzIGFzIGEgc3RyaW5nCiAqIEByZXR1cm5zIHtPYmplY3R9IFBhcnNlZCBoZWFkZXJzIGFzIGtleSB2YWx1ZSBvYmplY3QKICovCmZ1bmN0aW9uIHBhcnNlSGVhZGVycyhoZWFkZXJzKSB7CiAgdmFyIHBhcnNlZCA9IHt9LCBrZXksIHZhbCwgaTsKCiAgaWYgKCFoZWFkZXJzKSByZXR1cm4gcGFyc2VkOwoKICBmb3JFYWNoKGhlYWRlcnMuc3BsaXQoJ1xuJyksIGZ1bmN0aW9uKGxpbmUpIHsKICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTsKICAgIGtleSA9IGxvd2VyY2FzZSh0cmltKGxpbmUuc3Vic3RyKDAsIGkpKSk7CiAgICB2YWwgPSB0cmltKGxpbmUuc3Vic3RyKGkgKyAxKSk7CgogICAgaWYgKGtleSkgewogICAgICBpZiAocGFyc2VkW2tleV0pIHsKICAgICAgICBwYXJzZWRba2V5XSArPSAnLCAnICsgdmFsOwogICAgICB9IGVsc2UgewogICAgICAgIHBhcnNlZFtrZXldID0gdmFsOwogICAgICB9CiAgICB9CiAgfSk7CgogIHJldHVybiBwYXJzZWQ7Cn0KCgovKioKICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgcHJvdmlkZXMgYWNjZXNzIHRvIHBhcnNlZCBoZWFkZXJzLgogKgogKiBIZWFkZXJzIGFyZSBsYXp5IHBhcnNlZCB3aGVuIGZpcnN0IHJlcXVlc3RlZC4KICogQHNlZSBwYXJzZUhlYWRlcnMKICoKICogQHBhcmFtIHsoc3RyaW5nfE9iamVjdCl9IGhlYWRlcnMgSGVhZGVycyB0byBwcm92aWRlIGFjY2VzcyB0by4KICogQHJldHVybnMge2Z1bmN0aW9uKHN0cmluZz0pfSBSZXR1cm5zIGEgZ2V0dGVyIGZ1bmN0aW9uIHdoaWNoIGlmIGNhbGxlZCB3aXRoOgogKgogKiAgIC0gaWYgY2FsbGVkIHdpdGggc2luZ2xlIGFuIGFyZ3VtZW50IHJldHVybnMgYSBzaW5nbGUgaGVhZGVyIHZhbHVlIG9yIG51bGwKICogICAtIGlmIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50cyByZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCBoZWFkZXJzLgogKi8KZnVuY3Rpb24gaGVhZGVyc0dldHRlcihoZWFkZXJzKSB7CiAgdmFyIGhlYWRlcnNPYmogPSBpc09iamVjdChoZWFkZXJzKSA/IGhlYWRlcnMgOiB1bmRlZmluZWQ7CgogIHJldHVybiBmdW5jdGlvbihuYW1lKSB7CiAgICBpZiAoIWhlYWRlcnNPYmopIGhlYWRlcnNPYmogPSAgcGFyc2VIZWFkZXJzKGhlYWRlcnMpOwoKICAgIGlmIChuYW1lKSB7CiAgICAgIHJldHVybiBoZWFkZXJzT2JqW2xvd2VyY2FzZShuYW1lKV0gfHwgbnVsbDsKICAgIH0KCiAgICByZXR1cm4gaGVhZGVyc09iajsKICB9Owp9CgoKLyoqCiAqIENoYWluIGFsbCBnaXZlbiBmdW5jdGlvbnMKICoKICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIGZvciBib3RoIHJlcXVlc3QgYW5kIHJlc3BvbnNlIHRyYW5zZm9ybWluZwogKgogKiBAcGFyYW0geyp9IGRhdGEgRGF0YSB0byB0cmFuc2Zvcm0uCiAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RyaW5nPSl9IGhlYWRlcnMgSHR0cCBoZWFkZXJzIGdldHRlciBmbi4KICogQHBhcmFtIHsoRnVuY3Rpb258QXJyYXkuPEZ1bmN0aW9uPil9IGZucyBGdW5jdGlvbiBvciBhbiBhcnJheSBvZiBmdW5jdGlvbnMuCiAqIEByZXR1cm5zIHsqfSBUcmFuc2Zvcm1lZCBkYXRhLgogKi8KZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShkYXRhLCBoZWFkZXJzLCBmbnMpIHsKICBpZiAoaXNGdW5jdGlvbihmbnMpKQogICAgcmV0dXJuIGZucyhkYXRhLCBoZWFkZXJzKTsKCiAgZm9yRWFjaChmbnMsIGZ1bmN0aW9uKGZuKSB7CiAgICBkYXRhID0gZm4oZGF0YSwgaGVhZGVycyk7CiAgfSk7CgogIHJldHVybiBkYXRhOwp9CgoKZnVuY3Rpb24gaXNTdWNjZXNzKHN0YXR1cykgewogIHJldHVybiAyMDAgPD0gc3RhdHVzICYmIHN0YXR1cyA8IDMwMDsKfQoKCmZ1bmN0aW9uICRIdHRwUHJvdmlkZXIoKSB7CiAgdmFyIEpTT05fU1RBUlQgPSAvXlxzKihcW3xce1teXHtdKS8sCiAgICAgIEpTT05fRU5EID0gL1tcfVxdXVxzKiQvLAogICAgICBQUk9URUNUSU9OX1BSRUZJWCA9IC9eXClcXVx9Jyw/XG4vLAogICAgICBDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTiA9IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCd9OwoKICB2YXIgZGVmYXVsdHMgPSB0aGlzLmRlZmF1bHRzID0gewogICAgLy8gdHJhbnNmb3JtIGluY29taW5nIHJlc3BvbnNlIGRhdGEKICAgIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24oZGF0YSkgewogICAgICBpZiAoaXNTdHJpbmcoZGF0YSkpIHsKICAgICAgICAvLyBzdHJpcCBqc29uIHZ1bG5lcmFiaWxpdHkgcHJvdGVjdGlvbiBwcmVmaXgKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKFBST1RFQ1RJT05fUFJFRklYLCAnJyk7CiAgICAgICAgaWYgKEpTT05fU1RBUlQudGVzdChkYXRhKSAmJiBKU09OX0VORC50ZXN0KGRhdGEpKQogICAgICAgICAgZGF0YSA9IGZyb21Kc29uKGRhdGEpOwogICAgICB9CiAgICAgIHJldHVybiBkYXRhOwogICAgfV0sCgogICAgLy8gdHJhbnNmb3JtIG91dGdvaW5nIHJlcXVlc3QgZGF0YQogICAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uKGQpIHsKICAgICAgcmV0dXJuIGlzT2JqZWN0KGQpICYmICFpc0ZpbGUoZCkgJiYgIWlzQmxvYihkKSA/IHRvSnNvbihkKSA6IGQ7CiAgICB9XSwKCiAgICAvLyBkZWZhdWx0IGhlYWRlcnMKICAgIGhlYWRlcnM6IHsKICAgICAgY29tbW9uOiB7CiAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonCiAgICAgIH0sCiAgICAgIHBvc3Q6ICAgc2hhbGxvd0NvcHkoQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04pLAogICAgICBwdXQ6ICAgIHNoYWxsb3dDb3B5KENPTlRFTlRfVFlQRV9BUFBMSUNBVElPTl9KU09OKSwKICAgICAgcGF0Y2g6ICBzaGFsbG93Q29weShDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTikKICAgIH0sCgogICAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJywKICAgIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJwogIH07CgogIC8qKgogICAqIEFyZSBvcmRlcmVkIGJ5IHJlcXVlc3QsIGkuZS4gdGhleSBhcmUgYXBwbGllZCBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGUKICAgKiBhcnJheSwgb24gcmVxdWVzdCwgYnV0IHJldmVyc2Ugb3JkZXIsIG9uIHJlc3BvbnNlLgogICAqLwogIHZhciBpbnRlcmNlcHRvckZhY3RvcmllcyA9IHRoaXMuaW50ZXJjZXB0b3JzID0gW107CgogIC8qKgogICAqIEZvciBoaXN0b3JpY2FsIHJlYXNvbnMsIHJlc3BvbnNlIGludGVyY2VwdG9ycyBhcmUgb3JkZXJlZCBieSB0aGUgb3JkZXIgaW4gd2hpY2gKICAgKiB0aGV5IGFyZSBhcHBsaWVkIHRvIHRoZSByZXNwb25zZS4gKFRoaXMgaXMgdGhlIG9wcG9zaXRlIG9mIGludGVyY2VwdG9yRmFjdG9yaWVzKQogICAqLwogIHZhciByZXNwb25zZUludGVyY2VwdG9yRmFjdG9yaWVzID0gdGhpcy5yZXNwb25zZUludGVyY2VwdG9ycyA9IFtdOwoKICB0aGlzLiRnZXQgPSBbJyRodHRwQmFja2VuZCcsICckYnJvd3NlcicsICckY2FjaGVGYWN0b3J5JywgJyRyb290U2NvcGUnLCAnJHEnLCAnJGluamVjdG9yJywKICAgICAgZnVuY3Rpb24oJGh0dHBCYWNrZW5kLCAkYnJvd3NlciwgJGNhY2hlRmFjdG9yeSwgJHJvb3RTY29wZSwgJHEsICRpbmplY3RvcikgewoKICAgIHZhciBkZWZhdWx0Q2FjaGUgPSAkY2FjaGVGYWN0b3J5KCckaHR0cCcpOwoKICAgIC8qKgogICAgICogSW50ZXJjZXB0b3JzIHN0b3JlZCBpbiByZXZlcnNlIG9yZGVyLiBJbm5lciBpbnRlcmNlcHRvcnMgYmVmb3JlIG91dGVyIGludGVyY2VwdG9ycy4KICAgICAqIFRoZSByZXZlcnNhbCBpcyBuZWVkZWQgc28gdGhhdCB3ZSBjYW4gYnVpbGQgdXAgdGhlIGludGVyY2VwdGlvbiBjaGFpbiBhcm91bmQgdGhlCiAgICAgKiBzZXJ2ZXIgcmVxdWVzdC4KICAgICAqLwogICAgdmFyIHJldmVyc2VkSW50ZXJjZXB0b3JzID0gW107CgogICAgZm9yRWFjaChpbnRlcmNlcHRvckZhY3RvcmllcywgZnVuY3Rpb24oaW50ZXJjZXB0b3JGYWN0b3J5KSB7CiAgICAgIHJldmVyc2VkSW50ZXJjZXB0b3JzLnVuc2hpZnQoaXNTdHJpbmcoaW50ZXJjZXB0b3JGYWN0b3J5KQogICAgICAgICAgPyAkaW5qZWN0b3IuZ2V0KGludGVyY2VwdG9yRmFjdG9yeSkgOiAkaW5qZWN0b3IuaW52b2tlKGludGVyY2VwdG9yRmFjdG9yeSkpOwogICAgfSk7CgogICAgZm9yRWFjaChyZXNwb25zZUludGVyY2VwdG9yRmFjdG9yaWVzLCBmdW5jdGlvbihpbnRlcmNlcHRvckZhY3RvcnksIGluZGV4KSB7CiAgICAgIHZhciByZXNwb25zZUZuID0gaXNTdHJpbmcoaW50ZXJjZXB0b3JGYWN0b3J5KQogICAgICAgICAgPyAkaW5qZWN0b3IuZ2V0KGludGVyY2VwdG9yRmFjdG9yeSkKICAgICAgICAgIDogJGluamVjdG9yLmludm9rZShpbnRlcmNlcHRvckZhY3RvcnkpOwoKICAgICAgLyoqCiAgICAgICAqIFJlc3BvbnNlIGludGVyY2VwdG9ycyBnbyBiZWZvcmUgImFyb3VuZCIgaW50ZXJjZXB0b3JzIChubyByZWFsIHJlYXNvbiwganVzdAogICAgICAgKiBoYWQgdG8gcGljayBvbmUuKSBCdXQgdGhleSBhcmUgYWxyZWFkeSByZXZlcnNlZCwgc28gd2UgY2FuJ3QgdXNlIHVuc2hpZnQsIGhlbmNlCiAgICAgICAqIHRoZSBzcGxpY2UuCiAgICAgICAqLwogICAgICByZXZlcnNlZEludGVyY2VwdG9ycy5zcGxpY2UoaW5kZXgsIDAsIHsKICAgICAgICByZXNwb25zZTogZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgIHJldHVybiByZXNwb25zZUZuKCRxLndoZW4ocmVzcG9uc2UpKTsKICAgICAgICB9LAogICAgICAgIHJlc3BvbnNlRXJyb3I6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICByZXR1cm4gcmVzcG9uc2VGbigkcS5yZWplY3QocmVzcG9uc2UpKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CgoKICAgIC8qKgogICAgICogQG5nZG9jIHNlcnZpY2UKICAgICAqIEBraW5kIGZ1bmN0aW9uCiAgICAgKiBAbmFtZSAkaHR0cAogICAgICogQHJlcXVpcmVzIG5nLiRodHRwQmFja2VuZAogICAgICogQHJlcXVpcmVzICRjYWNoZUZhY3RvcnkKICAgICAqIEByZXF1aXJlcyAkcm9vdFNjb3BlCiAgICAgKiBAcmVxdWlyZXMgJHEKICAgICAqIEByZXF1aXJlcyAkaW5qZWN0b3IKICAgICAqCiAgICAgKiBAZGVzY3JpcHRpb24KICAgICAqIFRoZSBgJGh0dHBgIHNlcnZpY2UgaXMgYSBjb3JlIEFuZ3VsYXIgc2VydmljZSB0aGF0IGZhY2lsaXRhdGVzIGNvbW11bmljYXRpb24gd2l0aCB0aGUgcmVtb3RlCiAgICAgKiBIVFRQIHNlcnZlcnMgdmlhIHRoZSBicm93c2VyJ3MgW1hNTEh0dHBSZXF1ZXN0XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi94bWxodHRwcmVxdWVzdCkKICAgICAqIG9iamVjdCBvciB2aWEgW0pTT05QXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0pTT05QKS4KICAgICAqCiAgICAgKiBGb3IgdW5pdCB0ZXN0aW5nIGFwcGxpY2F0aW9ucyB0aGF0IHVzZSBgJGh0dHBgIHNlcnZpY2UsIHNlZQogICAgICoge0BsaW5rIG5nTW9jay4kaHR0cEJhY2tlbmQgJGh0dHBCYWNrZW5kIG1vY2t9LgogICAgICoKICAgICAqIEZvciBhIGhpZ2hlciBsZXZlbCBvZiBhYnN0cmFjdGlvbiwgcGxlYXNlIGNoZWNrIG91dCB0aGUge0BsaW5rIG5nUmVzb3VyY2UuJHJlc291cmNlCiAgICAgKiAkcmVzb3VyY2V9IHNlcnZpY2UuCiAgICAgKgogICAgICogVGhlICRodHRwIEFQSSBpcyBiYXNlZCBvbiB0aGUge0BsaW5rIG5nLiRxIGRlZmVycmVkL3Byb21pc2UgQVBJc30gZXhwb3NlZCBieQogICAgICogdGhlICRxIHNlcnZpY2UuIFdoaWxlIGZvciBzaW1wbGUgdXNhZ2UgcGF0dGVybnMgdGhpcyBkb2Vzbid0IG1hdHRlciBtdWNoLCBmb3IgYWR2YW5jZWQgdXNhZ2UKICAgICAqIGl0IGlzIGltcG9ydGFudCB0byBmYW1pbGlhcml6ZSB5b3Vyc2VsZiB3aXRoIHRoZXNlIEFQSXMgYW5kIHRoZSBndWFyYW50ZWVzIHRoZXkgcHJvdmlkZS4KICAgICAqCiAgICAgKgogICAgICogIyBHZW5lcmFsIHVzYWdlCiAgICAgKiBUaGUgYCRodHRwYCBzZXJ2aWNlIGlzIGEgZnVuY3Rpb24gd2hpY2ggdGFrZXMgYSBzaW5nbGUgYXJndW1lbnQg4oCUIGEgY29uZmlndXJhdGlvbiBvYmplY3Qg4oCUCiAgICAgKiB0aGF0IGlzIHVzZWQgdG8gZ2VuZXJhdGUgYW4gSFRUUCByZXF1ZXN0IGFuZCByZXR1cm5zICBhIHtAbGluayBuZy4kcSBwcm9taXNlfQogICAgICogd2l0aCB0d28gJGh0dHAgc3BlY2lmaWMgbWV0aG9kczogYHN1Y2Nlc3NgIGFuZCBgZXJyb3JgLgogICAgICoKICAgICAqIGBgYGpzCiAgICAgKiAgICRodHRwKHttZXRob2Q6ICdHRVQnLCB1cmw6ICcvc29tZVVybCd9KS4KICAgICAqICAgICBzdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7CiAgICAgKiAgICAgICAvLyB0aGlzIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5CiAgICAgKiAgICAgICAvLyB3aGVuIHRoZSByZXNwb25zZSBpcyBhdmFpbGFibGUKICAgICAqICAgICB9KS4KICAgICAqICAgICBlcnJvcihmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykgewogICAgICogICAgICAgLy8gY2FsbGVkIGFzeW5jaHJvbm91c2x5IGlmIGFuIGVycm9yIG9jY3VycwogICAgICogICAgICAgLy8gb3Igc2VydmVyIHJldHVybnMgcmVzcG9uc2Ugd2l0aCBhbiBlcnJvciBzdGF0dXMuCiAgICAgKiAgICAgfSk7CiAgICAgKiBgYGAKICAgICAqCiAgICAgKiBTaW5jZSB0aGUgcmV0dXJuZWQgdmFsdWUgb2YgY2FsbGluZyB0aGUgJGh0dHAgZnVuY3Rpb24gaXMgYSBgcHJvbWlzZWAsIHlvdSBjYW4gYWxzbyB1c2UKICAgICAqIHRoZSBgdGhlbmAgbWV0aG9kIHRvIHJlZ2lzdGVyIGNhbGxiYWNrcywgYW5kIHRoZXNlIGNhbGxiYWNrcyB3aWxsIHJlY2VpdmUgYSBzaW5nbGUgYXJndW1lbnQg4oCTCiAgICAgKiBhbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSByZXNwb25zZS4gU2VlIHRoZSBBUEkgc2lnbmF0dXJlIGFuZCB0eXBlIGluZm8gYmVsb3cgZm9yIG1vcmUKICAgICAqIGRldGFpbHMuCiAgICAgKgogICAgICogQSByZXNwb25zZSBzdGF0dXMgY29kZSBiZXR3ZWVuIDIwMCBhbmQgMjk5IGlzIGNvbnNpZGVyZWQgYSBzdWNjZXNzIHN0YXR1cyBhbmQKICAgICAqIHdpbGwgcmVzdWx0IGluIHRoZSBzdWNjZXNzIGNhbGxiYWNrIGJlaW5nIGNhbGxlZC4gTm90ZSB0aGF0IGlmIHRoZSByZXNwb25zZSBpcyBhIHJlZGlyZWN0LAogICAgICogWE1MSHR0cFJlcXVlc3Qgd2lsbCB0cmFuc3BhcmVudGx5IGZvbGxvdyBpdCwgbWVhbmluZyB0aGF0IHRoZSBlcnJvciBjYWxsYmFjayB3aWxsIG5vdCBiZQogICAgICogY2FsbGVkIGZvciBzdWNoIHJlc3BvbnNlcy4KICAgICAqCiAgICAgKiAjIFdyaXRpbmcgVW5pdCBUZXN0cyB0aGF0IHVzZSAkaHR0cAogICAgICogV2hlbiB1bml0IHRlc3RpbmcgKHVzaW5nIHtAbGluayBuZ01vY2sgbmdNb2NrfSksIGl0IGlzIG5lY2Vzc2FyeSB0byBjYWxsCiAgICAgKiB7QGxpbmsgbmdNb2NrLiRodHRwQmFja2VuZCNmbHVzaCAkaHR0cEJhY2tlbmQuZmx1c2goKX0gdG8gZmx1c2ggZWFjaCBwZW5kaW5nCiAgICAgKiByZXF1ZXN0IHVzaW5nIHRyYWluZWQgcmVzcG9uc2VzLgogICAgICoKICAgICAqIGBgYAogICAgICogJGh0dHBCYWNrZW5kLmV4cGVjdEdFVCguLi4pOwogICAgICogJGh0dHAuZ2V0KC4uLik7CiAgICAgKiAkaHR0cEJhY2tlbmQuZmx1c2goKTsKICAgICAqIGBgYAogICAgICoKICAgICAqICMgU2hvcnRjdXQgbWV0aG9kcwogICAgICoKICAgICAqIFNob3J0Y3V0IG1ldGhvZHMgYXJlIGFsc28gYXZhaWxhYmxlLiBBbGwgc2hvcnRjdXQgbWV0aG9kcyByZXF1aXJlIHBhc3NpbmcgaW4gdGhlIFVSTCwgYW5kCiAgICAgKiByZXF1ZXN0IGRhdGEgbXVzdCBiZSBwYXNzZWQgaW4gZm9yIFBPU1QvUFVUIHJlcXVlc3RzLgogICAgICoKICAgICAqIGBgYGpzCiAgICAgKiAgICRodHRwLmdldCgnL3NvbWVVcmwnKS5zdWNjZXNzKHN1Y2Nlc3NDYWxsYmFjayk7CiAgICAgKiAgICRodHRwLnBvc3QoJy9zb21lVXJsJywgZGF0YSkuc3VjY2VzcyhzdWNjZXNzQ2FsbGJhY2spOwogICAgICogYGBgCiAgICAgKgogICAgICogQ29tcGxldGUgbGlzdCBvZiBzaG9ydGN1dCBtZXRob2RzOgogICAgICoKICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI2dldCAkaHR0cC5nZXR9CiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNoZWFkICRodHRwLmhlYWR9CiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNwb3N0ICRodHRwLnBvc3R9CiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNwdXQgJGh0dHAucHV0fQogICAgICogLSB7QGxpbmsgbmcuJGh0dHAjZGVsZXRlICRodHRwLmRlbGV0ZX0KICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI2pzb25wICRodHRwLmpzb25wfQogICAgICoKICAgICAqCiAgICAgKiAjIFNldHRpbmcgSFRUUCBIZWFkZXJzCiAgICAgKgogICAgICogVGhlICRodHRwIHNlcnZpY2Ugd2lsbCBhdXRvbWF0aWNhbGx5IGFkZCBjZXJ0YWluIEhUVFAgaGVhZGVycyB0byBhbGwgcmVxdWVzdHMuIFRoZXNlIGRlZmF1bHRzCiAgICAgKiBjYW4gYmUgZnVsbHkgY29uZmlndXJlZCBieSBhY2Nlc3NpbmcgdGhlIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnNgIGNvbmZpZ3VyYXRpb24KICAgICAqIG9iamVjdCwgd2hpY2ggY3VycmVudGx5IGNvbnRhaW5zIHRoaXMgZGVmYXVsdCBjb25maWd1cmF0aW9uOgogICAgICoKICAgICAqIC0gYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5jb21tb25gIChoZWFkZXJzIHRoYXQgYXJlIGNvbW1vbiBmb3IgYWxsIHJlcXVlc3RzKToKICAgICAqICAgLSBgQWNjZXB0OiBhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqIC8gKmAKICAgICAqIC0gYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5wb3N0YDogKGhlYWRlciBkZWZhdWx0cyBmb3IgUE9TVCByZXF1ZXN0cykKICAgICAqICAgLSBgQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uYAogICAgICogLSBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLnB1dGAgKGhlYWRlciBkZWZhdWx0cyBmb3IgUFVUIHJlcXVlc3RzKQogICAgICogICAtIGBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25gCiAgICAgKgogICAgICogVG8gYWRkIG9yIG92ZXJ3cml0ZSB0aGVzZSBkZWZhdWx0cywgc2ltcGx5IGFkZCBvciByZW1vdmUgYSBwcm9wZXJ0eSBmcm9tIHRoZXNlIGNvbmZpZ3VyYXRpb24KICAgICAqIG9iamVjdHMuIFRvIGFkZCBoZWFkZXJzIGZvciBhbiBIVFRQIG1ldGhvZCBvdGhlciB0aGFuIFBPU1Qgb3IgUFVULCBzaW1wbHkgYWRkIGEgbmV3IG9iamVjdAogICAgICogd2l0aCB0aGUgbG93ZXJjYXNlZCBIVFRQIG1ldGhvZCBuYW1lIGFzIHRoZSBrZXksIGUuZy4KICAgICAqIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMuZ2V0ID0geyAnTXktSGVhZGVyJyA6ICd2YWx1ZScgfS4KICAgICAqCiAgICAgKiBUaGUgZGVmYXVsdHMgY2FuIGFsc28gYmUgc2V0IGF0IHJ1bnRpbWUgdmlhIHRoZSBgJGh0dHAuZGVmYXVsdHNgIG9iamVjdCBpbiB0aGUgc2FtZQogICAgICogZmFzaGlvbi4gRm9yIGV4YW1wbGU6CiAgICAgKgogICAgICogYGBgCiAgICAgKiBtb2R1bGUucnVuKGZ1bmN0aW9uKCRodHRwKSB7CiAgICAgKiAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgWW1WbGNEcGliMjl3JwogICAgICogfSk7CiAgICAgKiBgYGAKICAgICAqCiAgICAgKiBJbiBhZGRpdGlvbiwgeW91IGNhbiBzdXBwbHkgYSBgaGVhZGVyc2AgcHJvcGVydHkgaW4gdGhlIGNvbmZpZyBvYmplY3QgcGFzc2VkIHdoZW4KICAgICAqIGNhbGxpbmcgYCRodHRwKGNvbmZpZylgLCB3aGljaCBvdmVycmlkZXMgdGhlIGRlZmF1bHRzIHdpdGhvdXQgY2hhbmdpbmcgdGhlbSBnbG9iYWxseS4KICAgICAqCiAgICAgKgogICAgICogIyBUcmFuc2Zvcm1pbmcgUmVxdWVzdHMgYW5kIFJlc3BvbnNlcwogICAgICoKICAgICAqIEJvdGggcmVxdWVzdHMgYW5kIHJlc3BvbnNlcyBjYW4gYmUgdHJhbnNmb3JtZWQgdXNpbmcgdHJhbnNmb3JtIGZ1bmN0aW9ucy4gQnkgZGVmYXVsdCwgQW5ndWxhcgogICAgICogYXBwbGllcyB0aGVzZSB0cmFuc2Zvcm1hdGlvbnM6CiAgICAgKgogICAgICogUmVxdWVzdCB0cmFuc2Zvcm1hdGlvbnM6CiAgICAgKgogICAgICogLSBJZiB0aGUgYGRhdGFgIHByb3BlcnR5IG9mIHRoZSByZXF1ZXN0IGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5zIGFuIG9iamVjdCwgc2VyaWFsaXplIGl0CiAgICAgKiAgIGludG8gSlNPTiBmb3JtYXQuCiAgICAgKgogICAgICogUmVzcG9uc2UgdHJhbnNmb3JtYXRpb25zOgogICAgICoKICAgICAqICAtIElmIFhTUkYgcHJlZml4IGlzIGRldGVjdGVkLCBzdHJpcCBpdCAoc2VlIFNlY3VyaXR5IENvbnNpZGVyYXRpb25zIHNlY3Rpb24gYmVsb3cpLgogICAgICogIC0gSWYgSlNPTiByZXNwb25zZSBpcyBkZXRlY3RlZCwgZGVzZXJpYWxpemUgaXQgdXNpbmcgYSBKU09OIHBhcnNlci4KICAgICAqCiAgICAgKiBUbyBnbG9iYWxseSBhdWdtZW50IG9yIG92ZXJyaWRlIHRoZSBkZWZhdWx0IHRyYW5zZm9ybXMsIG1vZGlmeSB0aGUKICAgICAqIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLnRyYW5zZm9ybVJlcXVlc3RgIGFuZCBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZWAKICAgICAqIHByb3BlcnRpZXMuIFRoZXNlIHByb3BlcnRpZXMgYXJlIGJ5IGRlZmF1bHQgYW4gYXJyYXkgb2YgdHJhbnNmb3JtIGZ1bmN0aW9ucywgd2hpY2ggYWxsb3dzIHlvdQogICAgICogdG8gYHB1c2hgIG9yIGB1bnNoaWZ0YCBhIG5ldyB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbiBpbnRvIHRoZSB0cmFuc2Zvcm1hdGlvbiBjaGFpbi4gWW91IGNhbgogICAgICogYWxzbyBkZWNpZGUgdG8gY29tcGxldGVseSBvdmVycmlkZSBhbnkgZGVmYXVsdCB0cmFuc2Zvcm1hdGlvbnMgYnkgYXNzaWduaW5nIHlvdXIKICAgICAqIHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9ucyB0byB0aGVzZSBwcm9wZXJ0aWVzIGRpcmVjdGx5IHdpdGhvdXQgdGhlIGFycmF5IHdyYXBwZXIuICBUaGVzZSBkZWZhdWx0cwogICAgICogYXJlIGFnYWluIGF2YWlsYWJsZSBvbiB0aGUgJGh0dHAgZmFjdG9yeSBhdCBydW4tdGltZSwgd2hpY2ggbWF5IGJlIHVzZWZ1bCBpZiB5b3UgaGF2ZSBydW4tdGltZQogICAgICogc2VydmljZXMgeW91IHdpc2ggdG8gYmUgaW52b2x2ZWQgaW4geW91ciB0cmFuc2Zvcm1hdGlvbnMuCiAgICAgKgogICAgICogU2ltaWxhcmx5LCB0byBsb2NhbGx5IG92ZXJyaWRlIHRoZSByZXF1ZXN0L3Jlc3BvbnNlIHRyYW5zZm9ybXMsIGF1Z21lbnQgdGhlCiAgICAgKiBgdHJhbnNmb3JtUmVxdWVzdGAgYW5kL29yIGB0cmFuc2Zvcm1SZXNwb25zZWAgcHJvcGVydGllcyBvZiB0aGUgY29uZmlndXJhdGlvbiBvYmplY3QgcGFzc2VkCiAgICAgKiBpbnRvIGAkaHR0cGAuCiAgICAgKgogICAgICoKICAgICAqICMgQ2FjaGluZwogICAgICoKICAgICAqIFRvIGVuYWJsZSBjYWNoaW5nLCBzZXQgdGhlIHJlcXVlc3QgY29uZmlndXJhdGlvbiBgY2FjaGVgIHByb3BlcnR5IHRvIGB0cnVlYCAodG8gdXNlIGRlZmF1bHQKICAgICAqIGNhY2hlKSBvciB0byBhIGN1c3RvbSBjYWNoZSBvYmplY3QgKGJ1aWx0IHdpdGgge0BsaW5rIG5nLiRjYWNoZUZhY3RvcnkgYCRjYWNoZUZhY3RvcnlgfSkuCiAgICAgKiBXaGVuIHRoZSBjYWNoZSBpcyBlbmFibGVkLCBgJGh0dHBgIHN0b3JlcyB0aGUgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyIGluIHRoZSBzcGVjaWZpZWQKICAgICAqIGNhY2hlLiBUaGUgbmV4dCB0aW1lIHRoZSBzYW1lIHJlcXVlc3QgaXMgbWFkZSwgdGhlIHJlc3BvbnNlIGlzIHNlcnZlZCBmcm9tIHRoZSBjYWNoZSB3aXRob3V0CiAgICAgKiBzZW5kaW5nIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyLgogICAgICoKICAgICAqIE5vdGUgdGhhdCBldmVuIGlmIHRoZSByZXNwb25zZSBpcyBzZXJ2ZWQgZnJvbSBjYWNoZSwgZGVsaXZlcnkgb2YgdGhlIGRhdGEgaXMgYXN5bmNocm9ub3VzIGluCiAgICAgKiB0aGUgc2FtZSB3YXkgdGhhdCByZWFsIHJlcXVlc3RzIGFyZS4KICAgICAqCiAgICAgKiBJZiB0aGVyZSBhcmUgbXVsdGlwbGUgR0VUIHJlcXVlc3RzIGZvciB0aGUgc2FtZSBVUkwgdGhhdCBzaG91bGQgYmUgY2FjaGVkIHVzaW5nIHRoZSBzYW1lCiAgICAgKiBjYWNoZSwgYnV0IHRoZSBjYWNoZSBpcyBub3QgcG9wdWxhdGVkIHlldCwgb25seSBvbmUgcmVxdWVzdCB0byB0aGUgc2VydmVyIHdpbGwgYmUgbWFkZSBhbmQKICAgICAqIHRoZSByZW1haW5pbmcgcmVxdWVzdHMgd2lsbCBiZSBmdWxmaWxsZWQgdXNpbmcgdGhlIHJlc3BvbnNlIGZyb20gdGhlIGZpcnN0IHJlcXVlc3QuCiAgICAgKgogICAgICogWW91IGNhbiBjaGFuZ2UgdGhlIGRlZmF1bHQgY2FjaGUgdG8gYSBuZXcgb2JqZWN0IChidWlsdCB3aXRoCiAgICAgKiB7QGxpbmsgbmcuJGNhY2hlRmFjdG9yeSBgJGNhY2hlRmFjdG9yeWB9KSBieSB1cGRhdGluZyB0aGUKICAgICAqIHtAbGluayBuZy4kaHR0cCNwcm9wZXJ0aWVzX2RlZmF1bHRzIGAkaHR0cC5kZWZhdWx0cy5jYWNoZWB9IHByb3BlcnR5LiBBbGwgcmVxdWVzdHMgd2hvIHNldAogICAgICogdGhlaXIgYGNhY2hlYCBwcm9wZXJ0eSB0byBgdHJ1ZWAgd2lsbCBub3cgdXNlIHRoaXMgY2FjaGUgb2JqZWN0LgogICAgICoKICAgICAqIElmIHlvdSBzZXQgdGhlIGRlZmF1bHQgY2FjaGUgdG8gYGZhbHNlYCB0aGVuIG9ubHkgcmVxdWVzdHMgdGhhdCBzcGVjaWZ5IHRoZWlyIG93biBjdXN0b20KICAgICAqIGNhY2hlIG9iamVjdCB3aWxsIGJlIGNhY2hlZC4KICAgICAqCiAgICAgKiAjIEludGVyY2VwdG9ycwogICAgICoKICAgICAqIEJlZm9yZSB5b3Ugc3RhcnQgY3JlYXRpbmcgaW50ZXJjZXB0b3JzLCBiZSBzdXJlIHRvIHVuZGVyc3RhbmQgdGhlCiAgICAgKiB7QGxpbmsgbmcuJHEgJHEgYW5kIGRlZmVycmVkL3Byb21pc2UgQVBJc30uCiAgICAgKgogICAgICogRm9yIHB1cnBvc2VzIG9mIGdsb2JhbCBlcnJvciBoYW5kbGluZywgYXV0aGVudGljYXRpb24sIG9yIGFueSBraW5kIG9mIHN5bmNocm9ub3VzIG9yCiAgICAgKiBhc3luY2hyb25vdXMgcHJlLXByb2Nlc3Npbmcgb2YgcmVxdWVzdCBvciBwb3N0cHJvY2Vzc2luZyBvZiByZXNwb25zZXMsIGl0IGlzIGRlc2lyYWJsZSB0byBiZQogICAgICogYWJsZSB0byBpbnRlcmNlcHQgcmVxdWVzdHMgYmVmb3JlIHRoZXkgYXJlIGhhbmRlZCB0byB0aGUgc2VydmVyIGFuZAogICAgICogcmVzcG9uc2VzIGJlZm9yZSB0aGV5IGFyZSBoYW5kZWQgb3ZlciB0byB0aGUgYXBwbGljYXRpb24gY29kZSB0aGF0CiAgICAgKiBpbml0aWF0ZWQgdGhlc2UgcmVxdWVzdHMuIFRoZSBpbnRlcmNlcHRvcnMgbGV2ZXJhZ2UgdGhlIHtAbGluayBuZy4kcQogICAgICogcHJvbWlzZSBBUElzfSB0byBmdWxmaWxsIHRoaXMgbmVlZCBmb3IgYm90aCBzeW5jaHJvbm91cyBhbmQgYXN5bmNocm9ub3VzIHByZS1wcm9jZXNzaW5nLgogICAgICoKICAgICAqIFRoZSBpbnRlcmNlcHRvcnMgYXJlIHNlcnZpY2UgZmFjdG9yaWVzIHRoYXQgYXJlIHJlZ2lzdGVyZWQgd2l0aCB0aGUgYCRodHRwUHJvdmlkZXJgIGJ5CiAgICAgKiBhZGRpbmcgdGhlbSB0byB0aGUgYCRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzYCBhcnJheS4gVGhlIGZhY3RvcnkgaXMgY2FsbGVkIGFuZAogICAgICogaW5qZWN0ZWQgd2l0aCBkZXBlbmRlbmNpZXMgKGlmIHNwZWNpZmllZCkgYW5kIHJldHVybnMgdGhlIGludGVyY2VwdG9yLgogICAgICoKICAgICAqIFRoZXJlIGFyZSB0d28ga2luZHMgb2YgaW50ZXJjZXB0b3JzIChhbmQgdHdvIGtpbmRzIG9mIHJlamVjdGlvbiBpbnRlcmNlcHRvcnMpOgogICAgICoKICAgICAqICAgKiBgcmVxdWVzdGA6IGludGVyY2VwdG9ycyBnZXQgY2FsbGVkIHdpdGggYSBodHRwIGBjb25maWdgIG9iamVjdC4gVGhlIGZ1bmN0aW9uIGlzIGZyZWUgdG8KICAgICAqICAgICBtb2RpZnkgdGhlIGBjb25maWdgIG9iamVjdCBvciBjcmVhdGUgYSBuZXcgb25lLiBUaGUgZnVuY3Rpb24gbmVlZHMgdG8gcmV0dXJuIHRoZSBgY29uZmlnYAogICAgICogICAgIG9iamVjdCBkaXJlY3RseSwgb3IgYSBwcm9taXNlIGNvbnRhaW5pbmcgdGhlIGBjb25maWdgIG9yIGEgbmV3IGBjb25maWdgIG9iamVjdC4KICAgICAqICAgKiBgcmVxdWVzdEVycm9yYDogaW50ZXJjZXB0b3IgZ2V0cyBjYWxsZWQgd2hlbiBhIHByZXZpb3VzIGludGVyY2VwdG9yIHRocmV3IGFuIGVycm9yIG9yCiAgICAgKiAgICAgcmVzb2x2ZWQgd2l0aCBhIHJlamVjdGlvbi4KICAgICAqICAgKiBgcmVzcG9uc2VgOiBpbnRlcmNlcHRvcnMgZ2V0IGNhbGxlZCB3aXRoIGh0dHAgYHJlc3BvbnNlYCBvYmplY3QuIFRoZSBmdW5jdGlvbiBpcyBmcmVlIHRvCiAgICAgKiAgICAgbW9kaWZ5IHRoZSBgcmVzcG9uc2VgIG9iamVjdCBvciBjcmVhdGUgYSBuZXcgb25lLiBUaGUgZnVuY3Rpb24gbmVlZHMgdG8gcmV0dXJuIHRoZSBgcmVzcG9uc2VgCiAgICAgKiAgICAgb2JqZWN0IGRpcmVjdGx5LCBvciBhcyBhIHByb21pc2UgY29udGFpbmluZyB0aGUgYHJlc3BvbnNlYCBvciBhIG5ldyBgcmVzcG9uc2VgIG9iamVjdC4KICAgICAqICAgKiBgcmVzcG9uc2VFcnJvcmA6IGludGVyY2VwdG9yIGdldHMgY2FsbGVkIHdoZW4gYSBwcmV2aW91cyBpbnRlcmNlcHRvciB0aHJldyBhbiBlcnJvciBvcgogICAgICogICAgIHJlc29sdmVkIHdpdGggYSByZWplY3Rpb24uCiAgICAgKgogICAgICoKICAgICAqIGBgYGpzCiAgICAgKiAgIC8vIHJlZ2lzdGVyIHRoZSBpbnRlcmNlcHRvciBhcyBhIHNlcnZpY2UKICAgICAqICAgJHByb3ZpZGUuZmFjdG9yeSgnbXlIdHRwSW50ZXJjZXB0b3InLCBmdW5jdGlvbigkcSwgZGVwZW5kZW5jeTEsIGRlcGVuZGVuY3kyKSB7CiAgICAgKiAgICAgcmV0dXJuIHsKICAgICAqICAgICAgIC8vIG9wdGlvbmFsIG1ldGhvZAogICAgICogICAgICAgJ3JlcXVlc3QnOiBmdW5jdGlvbihjb25maWcpIHsKICAgICAqICAgICAgICAgLy8gZG8gc29tZXRoaW5nIG9uIHN1Y2Nlc3MKICAgICAqICAgICAgICAgcmV0dXJuIGNvbmZpZzsKICAgICAqICAgICAgIH0sCiAgICAgKgogICAgICogICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kCiAgICAgKiAgICAgICdyZXF1ZXN0RXJyb3InOiBmdW5jdGlvbihyZWplY3Rpb24pIHsKICAgICAqICAgICAgICAgLy8gZG8gc29tZXRoaW5nIG9uIGVycm9yCiAgICAgKiAgICAgICAgIGlmIChjYW5SZWNvdmVyKHJlamVjdGlvbikpIHsKICAgICAqICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VPck5ld1Byb21pc2UKICAgICAqICAgICAgICAgfQogICAgICogICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlamVjdGlvbik7CiAgICAgKiAgICAgICB9LAogICAgICoKICAgICAqCiAgICAgKgogICAgICogICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kCiAgICAgKiAgICAgICAncmVzcG9uc2UnOiBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICogICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gc3VjY2VzcwogICAgICogICAgICAgICByZXR1cm4gcmVzcG9uc2U7CiAgICAgKiAgICAgICB9LAogICAgICoKICAgICAqICAgICAgIC8vIG9wdGlvbmFsIG1ldGhvZAogICAgICogICAgICAncmVzcG9uc2VFcnJvcic6IGZ1bmN0aW9uKHJlamVjdGlvbikgewogICAgICogICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gZXJyb3IKICAgICAqICAgICAgICAgaWYgKGNhblJlY292ZXIocmVqZWN0aW9uKSkgewogICAgICogICAgICAgICAgIHJldHVybiByZXNwb25zZU9yTmV3UHJvbWlzZQogICAgICogICAgICAgICB9CiAgICAgKiAgICAgICAgIHJldHVybiAkcS5yZWplY3QocmVqZWN0aW9uKTsKICAgICAqICAgICAgIH0KICAgICAqICAgICB9OwogICAgICogICB9KTsKICAgICAqCiAgICAgKiAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ215SHR0cEludGVyY2VwdG9yJyk7CiAgICAgKgogICAgICoKICAgICAqICAgLy8gYWx0ZXJuYXRpdmVseSwgcmVnaXN0ZXIgdGhlIGludGVyY2VwdG9yIHZpYSBhbiBhbm9ueW1vdXMgZmFjdG9yeQogICAgICogICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKGZ1bmN0aW9uKCRxLCBkZXBlbmRlbmN5MSwgZGVwZW5kZW5jeTIpIHsKICAgICAqICAgICByZXR1cm4gewogICAgICogICAgICAncmVxdWVzdCc6IGZ1bmN0aW9uKGNvbmZpZykgewogICAgICogICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZQogICAgICogICAgICAgfSwKICAgICAqCiAgICAgKiAgICAgICAncmVzcG9uc2UnOiBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICogICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZQogICAgICogICAgICAgfQogICAgICogICAgIH07CiAgICAgKiAgIH0pOwogICAgICogYGBgCiAgICAgKgogICAgICogIyBSZXNwb25zZSBpbnRlcmNlcHRvcnMgKERFUFJFQ0FURUQpCiAgICAgKgogICAgICogQmVmb3JlIHlvdSBzdGFydCBjcmVhdGluZyBpbnRlcmNlcHRvcnMsIGJlIHN1cmUgdG8gdW5kZXJzdGFuZCB0aGUKICAgICAqIHtAbGluayBuZy4kcSAkcSBhbmQgZGVmZXJyZWQvcHJvbWlzZSBBUElzfS4KICAgICAqCiAgICAgKiBGb3IgcHVycG9zZXMgb2YgZ2xvYmFsIGVycm9yIGhhbmRsaW5nLCBhdXRoZW50aWNhdGlvbiBvciBhbnkga2luZCBvZiBzeW5jaHJvbm91cyBvcgogICAgICogYXN5bmNocm9ub3VzIHByZXByb2Nlc3Npbmcgb2YgcmVjZWl2ZWQgcmVzcG9uc2VzLCBpdCBpcyBkZXNpcmFibGUgdG8gYmUgYWJsZSB0byBpbnRlcmNlcHQKICAgICAqIHJlc3BvbnNlcyBmb3IgaHR0cCByZXF1ZXN0cyBiZWZvcmUgdGhleSBhcmUgaGFuZGVkIG92ZXIgdG8gdGhlIGFwcGxpY2F0aW9uIGNvZGUgdGhhdAogICAgICogaW5pdGlhdGVkIHRoZXNlIHJlcXVlc3RzLiBUaGUgcmVzcG9uc2UgaW50ZXJjZXB0b3JzIGxldmVyYWdlIHRoZSB7QGxpbmsgbmcuJHEKICAgICAqIHByb21pc2UgYXBpc30gdG8gZnVsZmlsIHRoaXMgbmVlZCBmb3IgYm90aCBzeW5jaHJvbm91cyBhbmQgYXN5bmNocm9ub3VzIHByZXByb2Nlc3NpbmcuCiAgICAgKgogICAgICogVGhlIGludGVyY2VwdG9ycyBhcmUgc2VydmljZSBmYWN0b3JpZXMgdGhhdCBhcmUgcmVnaXN0ZXJlZCB3aXRoIHRoZSAkaHR0cFByb3ZpZGVyIGJ5CiAgICAgKiBhZGRpbmcgdGhlbSB0byB0aGUgYCRodHRwUHJvdmlkZXIucmVzcG9uc2VJbnRlcmNlcHRvcnNgIGFycmF5LiBUaGUgZmFjdG9yeSBpcyBjYWxsZWQgYW5kCiAgICAgKiBpbmplY3RlZCB3aXRoIGRlcGVuZGVuY2llcyAoaWYgc3BlY2lmaWVkKSBhbmQgcmV0dXJucyB0aGUgaW50ZXJjZXB0b3IgIOKAlCBhIGZ1bmN0aW9uIHRoYXQKICAgICAqIHRha2VzIGEge0BsaW5rIG5nLiRxIHByb21pc2V9IGFuZCByZXR1cm5zIHRoZSBvcmlnaW5hbCBvciBhIG5ldyBwcm9taXNlLgogICAgICoKICAgICAqIGBgYGpzCiAgICAgKiAgIC8vIHJlZ2lzdGVyIHRoZSBpbnRlcmNlcHRvciBhcyBhIHNlcnZpY2UKICAgICAqICAgJHByb3ZpZGUuZmFjdG9yeSgnbXlIdHRwSW50ZXJjZXB0b3InLCBmdW5jdGlvbigkcSwgZGVwZW5kZW5jeTEsIGRlcGVuZGVuY3kyKSB7CiAgICAgKiAgICAgcmV0dXJuIGZ1bmN0aW9uKHByb21pc2UpIHsKICAgICAqICAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAqICAgICAgICAgLy8gZG8gc29tZXRoaW5nIG9uIHN1Y2Nlc3MKICAgICAqICAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgICogICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAqICAgICAgICAgLy8gZG8gc29tZXRoaW5nIG9uIGVycm9yCiAgICAgKiAgICAgICAgIGlmIChjYW5SZWNvdmVyKHJlc3BvbnNlKSkgewogICAgICogICAgICAgICAgIHJldHVybiByZXNwb25zZU9yTmV3UHJvbWlzZQogICAgICogICAgICAgICB9CiAgICAgKiAgICAgICAgIHJldHVybiAkcS5yZWplY3QocmVzcG9uc2UpOwogICAgICogICAgICAgfSk7CiAgICAgKiAgICAgfQogICAgICogICB9KTsKICAgICAqCiAgICAgKiAgICRodHRwUHJvdmlkZXIucmVzcG9uc2VJbnRlcmNlcHRvcnMucHVzaCgnbXlIdHRwSW50ZXJjZXB0b3InKTsKICAgICAqCiAgICAgKgogICAgICogICAvLyByZWdpc3RlciB0aGUgaW50ZXJjZXB0b3IgdmlhIGFuIGFub255bW91cyBmYWN0b3J5CiAgICAgKiAgICRodHRwUHJvdmlkZXIucmVzcG9uc2VJbnRlcmNlcHRvcnMucHVzaChmdW5jdGlvbigkcSwgZGVwZW5kZW5jeTEsIGRlcGVuZGVuY3kyKSB7CiAgICAgKiAgICAgcmV0dXJuIGZ1bmN0aW9uKHByb21pc2UpIHsKICAgICAqICAgICAgIC8vIHNhbWUgYXMgYWJvdmUKICAgICAqICAgICB9CiAgICAgKiAgIH0pOwogICAgICogYGBgCiAgICAgKgogICAgICoKICAgICAqICMgU2VjdXJpdHkgQ29uc2lkZXJhdGlvbnMKICAgICAqCiAgICAgKiBXaGVuIGRlc2lnbmluZyB3ZWIgYXBwbGljYXRpb25zLCBjb25zaWRlciBzZWN1cml0eSB0aHJlYXRzIGZyb206CiAgICAgKgogICAgICogLSBbSlNPTiB2dWxuZXJhYmlsaXR5XShodHRwOi8vaGFhY2tlZC5jb20vYXJjaGl2ZS8yMDA4LzExLzIwL2FuYXRvbXktb2YtYS1zdWJ0bGUtanNvbi12dWxuZXJhYmlsaXR5LmFzcHgpCiAgICAgKiAtIFtYU1JGXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Nyb3NzLXNpdGVfcmVxdWVzdF9mb3JnZXJ5KQogICAgICoKICAgICAqIEJvdGggc2VydmVyIGFuZCB0aGUgY2xpZW50IG11c3QgY29vcGVyYXRlIGluIG9yZGVyIHRvIGVsaW1pbmF0ZSB0aGVzZSB0aHJlYXRzLiBBbmd1bGFyIGNvbWVzCiAgICAgKiBwcmUtY29uZmlndXJlZCB3aXRoIHN0cmF0ZWdpZXMgdGhhdCBhZGRyZXNzIHRoZXNlIGlzc3VlcywgYnV0IGZvciB0aGlzIHRvIHdvcmsgYmFja2VuZCBzZXJ2ZXIKICAgICAqIGNvb3BlcmF0aW9uIGlzIHJlcXVpcmVkLgogICAgICoKICAgICAqICMjIEpTT04gVnVsbmVyYWJpbGl0eSBQcm90ZWN0aW9uCiAgICAgKgogICAgICogQSBbSlNPTiB2dWxuZXJhYmlsaXR5XShodHRwOi8vaGFhY2tlZC5jb20vYXJjaGl2ZS8yMDA4LzExLzIwL2FuYXRvbXktb2YtYS1zdWJ0bGUtanNvbi12dWxuZXJhYmlsaXR5LmFzcHgpCiAgICAgKiBhbGxvd3MgdGhpcmQgcGFydHkgd2Vic2l0ZSB0byB0dXJuIHlvdXIgSlNPTiByZXNvdXJjZSBVUkwgaW50bwogICAgICogW0pTT05QXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0pTT05QKSByZXF1ZXN0IHVuZGVyIHNvbWUgY29uZGl0aW9ucy4gVG8KICAgICAqIGNvdW50ZXIgdGhpcyB5b3VyIHNlcnZlciBjYW4gcHJlZml4IGFsbCBKU09OIHJlcXVlc3RzIHdpdGggZm9sbG93aW5nIHN0cmluZyBgIildfScsXG4iYC4KICAgICAqIEFuZ3VsYXIgd2lsbCBhdXRvbWF0aWNhbGx5IHN0cmlwIHRoZSBwcmVmaXggYmVmb3JlIHByb2Nlc3NpbmcgaXQgYXMgSlNPTi4KICAgICAqCiAgICAgKiBGb3IgZXhhbXBsZSBpZiB5b3VyIHNlcnZlciBuZWVkcyB0byByZXR1cm46CiAgICAgKiBgYGBqcwogICAgICogWydvbmUnLCd0d28nXQogICAgICogYGBgCiAgICAgKgogICAgICogd2hpY2ggaXMgdnVsbmVyYWJsZSB0byBhdHRhY2ssIHlvdXIgc2VydmVyIGNhbiByZXR1cm46CiAgICAgKiBgYGBqcwogICAgICogKV19JywKICAgICAqIFsnb25lJywndHdvJ10KICAgICAqIGBgYAogICAgICoKICAgICAqIEFuZ3VsYXIgd2lsbCBzdHJpcCB0aGUgcHJlZml4LCBiZWZvcmUgcHJvY2Vzc2luZyB0aGUgSlNPTi4KICAgICAqCiAgICAgKgogICAgICogIyMgQ3Jvc3MgU2l0ZSBSZXF1ZXN0IEZvcmdlcnkgKFhTUkYpIFByb3RlY3Rpb24KICAgICAqCiAgICAgKiBbWFNSRl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Dcm9zcy1zaXRlX3JlcXVlc3RfZm9yZ2VyeSkgaXMgYSB0ZWNobmlxdWUgYnkgd2hpY2gKICAgICAqIGFuIHVuYXV0aG9yaXplZCBzaXRlIGNhbiBnYWluIHlvdXIgdXNlcidzIHByaXZhdGUgZGF0YS4gQW5ndWxhciBwcm92aWRlcyBhIG1lY2hhbmlzbQogICAgICogdG8gY291bnRlciBYU1JGLiBXaGVuIHBlcmZvcm1pbmcgWEhSIHJlcXVlc3RzLCB0aGUgJGh0dHAgc2VydmljZSByZWFkcyBhIHRva2VuIGZyb20gYSBjb29raWUKICAgICAqIChieSBkZWZhdWx0LCBgWFNSRi1UT0tFTmApIGFuZCBzZXRzIGl0IGFzIGFuIEhUVFAgaGVhZGVyIChgWC1YU1JGLVRPS0VOYCkuIFNpbmNlIG9ubHkKICAgICAqIEphdmFTY3JpcHQgdGhhdCBydW5zIG9uIHlvdXIgZG9tYWluIGNvdWxkIHJlYWQgdGhlIGNvb2tpZSwgeW91ciBzZXJ2ZXIgY2FuIGJlIGFzc3VyZWQgdGhhdAogICAgICogdGhlIFhIUiBjYW1lIGZyb20gSmF2YVNjcmlwdCBydW5uaW5nIG9uIHlvdXIgZG9tYWluLiBUaGUgaGVhZGVyIHdpbGwgbm90IGJlIHNldCBmb3IKICAgICAqIGNyb3NzLWRvbWFpbiByZXF1ZXN0cy4KICAgICAqCiAgICAgKiBUbyB0YWtlIGFkdmFudGFnZSBvZiB0aGlzLCB5b3VyIHNlcnZlciBuZWVkcyB0byBzZXQgYSB0b2tlbiBpbiBhIEphdmFTY3JpcHQgcmVhZGFibGUgc2Vzc2lvbgogICAgICogY29va2llIGNhbGxlZCBgWFNSRi1UT0tFTmAgb24gdGhlIGZpcnN0IEhUVFAgR0VUIHJlcXVlc3QuIE9uIHN1YnNlcXVlbnQgWEhSIHJlcXVlc3RzIHRoZQogICAgICogc2VydmVyIGNhbiB2ZXJpZnkgdGhhdCB0aGUgY29va2llIG1hdGNoZXMgYFgtWFNSRi1UT0tFTmAgSFRUUCBoZWFkZXIsIGFuZCB0aGVyZWZvcmUgYmUgc3VyZQogICAgICogdGhhdCBvbmx5IEphdmFTY3JpcHQgcnVubmluZyBvbiB5b3VyIGRvbWFpbiBjb3VsZCBoYXZlIHNlbnQgdGhlIHJlcXVlc3QuIFRoZSB0b2tlbiBtdXN0IGJlCiAgICAgKiB1bmlxdWUgZm9yIGVhY2ggdXNlciBhbmQgbXVzdCBiZSB2ZXJpZmlhYmxlIGJ5IHRoZSBzZXJ2ZXIgKHRvIHByZXZlbnQgdGhlIEphdmFTY3JpcHQgZnJvbQogICAgICogbWFraW5nIHVwIGl0cyBvd24gdG9rZW5zKS4gV2UgcmVjb21tZW5kIHRoYXQgdGhlIHRva2VuIGlzIGEgZGlnZXN0IG9mIHlvdXIgc2l0ZSdzCiAgICAgKiBhdXRoZW50aWNhdGlvbiBjb29raWUgd2l0aCBhIFtzYWx0XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TYWx0XyhjcnlwdG9ncmFwaHkpKQogICAgICogZm9yIGFkZGVkIHNlY3VyaXR5LgogICAgICoKICAgICAqIFRoZSBuYW1lIG9mIHRoZSBoZWFkZXJzIGNhbiBiZSBzcGVjaWZpZWQgdXNpbmcgdGhlIHhzcmZIZWFkZXJOYW1lIGFuZCB4c3JmQ29va2llTmFtZQogICAgICogcHJvcGVydGllcyBvZiBlaXRoZXIgJGh0dHBQcm92aWRlci5kZWZhdWx0cyBhdCBjb25maWctdGltZSwgJGh0dHAuZGVmYXVsdHMgYXQgcnVuLXRpbWUsCiAgICAgKiBvciB0aGUgcGVyLXJlcXVlc3QgY29uZmlnIG9iamVjdC4KICAgICAqCiAgICAgKgogICAgICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBPYmplY3QgZGVzY3JpYmluZyB0aGUgcmVxdWVzdCB0byBiZSBtYWRlIGFuZCBob3cgaXQgc2hvdWxkIGJlCiAgICAgKiAgICBwcm9jZXNzZWQuIFRoZSBvYmplY3QgaGFzIGZvbGxvd2luZyBwcm9wZXJ0aWVzOgogICAgICoKICAgICAqICAgIC0gKiptZXRob2QqKiDigJMgYHtzdHJpbmd9YCDigJMgSFRUUCBtZXRob2QgKGUuZy4gJ0dFVCcsICdQT1NUJywgZXRjKQogICAgICogICAgLSAqKnVybCoqIOKAkyBge3N0cmluZ31gIOKAkyBBYnNvbHV0ZSBvciByZWxhdGl2ZSBVUkwgb2YgdGhlIHJlc291cmNlIHRoYXQgaXMgYmVpbmcgcmVxdWVzdGVkLgogICAgICogICAgLSAqKnBhcmFtcyoqIOKAkyBge09iamVjdC48c3RyaW5nfE9iamVjdD59YCDigJMgTWFwIG9mIHN0cmluZ3Mgb3Igb2JqZWN0cyB3aGljaCB3aWxsIGJlIHR1cm5lZAogICAgICogICAgICB0byBgP2tleTE9dmFsdWUxJmtleTI9dmFsdWUyYCBhZnRlciB0aGUgdXJsLiBJZiB0aGUgdmFsdWUgaXMgbm90IGEgc3RyaW5nLCBpdCB3aWxsIGJlCiAgICAgKiAgICAgIEpTT05pZmllZC4KICAgICAqICAgIC0gKipkYXRhKiog4oCTIGB7c3RyaW5nfE9iamVjdH1gIOKAkyBEYXRhIHRvIGJlIHNlbnQgYXMgdGhlIHJlcXVlc3QgbWVzc2FnZSBkYXRhLgogICAgICogICAgLSAqKmhlYWRlcnMqKiDigJMgYHtPYmplY3R9YCDigJMgTWFwIG9mIHN0cmluZ3Mgb3IgZnVuY3Rpb25zIHdoaWNoIHJldHVybiBzdHJpbmdzIHJlcHJlc2VudGluZwogICAgICogICAgICBIVFRQIGhlYWRlcnMgdG8gc2VuZCB0byB0aGUgc2VydmVyLiBJZiB0aGUgcmV0dXJuIHZhbHVlIG9mIGEgZnVuY3Rpb24gaXMgbnVsbCwgdGhlCiAgICAgKiAgICAgIGhlYWRlciB3aWxsIG5vdCBiZSBzZW50LgogICAgICogICAgLSAqKnhzcmZIZWFkZXJOYW1lKiog4oCTIGB7c3RyaW5nfWAg4oCTIE5hbWUgb2YgSFRUUCBoZWFkZXIgdG8gcG9wdWxhdGUgd2l0aCB0aGUgWFNSRiB0b2tlbi4KICAgICAqICAgIC0gKip4c3JmQ29va2llTmFtZSoqIOKAkyBge3N0cmluZ31gIOKAkyBOYW1lIG9mIGNvb2tpZSBjb250YWluaW5nIHRoZSBYU1JGIHRva2VuLgogICAgICogICAgLSAqKnRyYW5zZm9ybVJlcXVlc3QqKiDigJMKICAgICAqICAgICAgYHtmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyKXxBcnJheS48ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlcik+fWAg4oCTCiAgICAgKiAgICAgIHRyYW5zZm9ybSBmdW5jdGlvbiBvciBhbiBhcnJheSBvZiBzdWNoIGZ1bmN0aW9ucy4gVGhlIHRyYW5zZm9ybSBmdW5jdGlvbiB0YWtlcyB0aGUgaHR0cAogICAgICogICAgICByZXF1ZXN0IGJvZHkgYW5kIGhlYWRlcnMgYW5kIHJldHVybnMgaXRzIHRyYW5zZm9ybWVkICh0eXBpY2FsbHkgc2VyaWFsaXplZCkgdmVyc2lvbi4KICAgICAqICAgIC0gKip0cmFuc2Zvcm1SZXNwb25zZSoqIOKAkwogICAgICogICAgICBge2Z1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpfEFycmF5LjxmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyKT59YCDigJMKICAgICAqICAgICAgdHJhbnNmb3JtIGZ1bmN0aW9uIG9yIGFuIGFycmF5IG9mIHN1Y2ggZnVuY3Rpb25zLiBUaGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHRha2VzIHRoZSBodHRwCiAgICAgKiAgICAgIHJlc3BvbnNlIGJvZHkgYW5kIGhlYWRlcnMgYW5kIHJldHVybnMgaXRzIHRyYW5zZm9ybWVkICh0eXBpY2FsbHkgZGVzZXJpYWxpemVkKSB2ZXJzaW9uLgogICAgICogICAgLSAqKmNhY2hlKiog4oCTIGB7Ym9vbGVhbnxDYWNoZX1gIOKAkyBJZiB0cnVlLCBhIGRlZmF1bHQgJGh0dHAgY2FjaGUgd2lsbCBiZSB1c2VkIHRvIGNhY2hlIHRoZQogICAgICogICAgICBHRVQgcmVxdWVzdCwgb3RoZXJ3aXNlIGlmIGEgY2FjaGUgaW5zdGFuY2UgYnVpbHQgd2l0aAogICAgICogICAgICB7QGxpbmsgbmcuJGNhY2hlRmFjdG9yeSAkY2FjaGVGYWN0b3J5fSwgdGhpcyBjYWNoZSB3aWxsIGJlIHVzZWQgZm9yCiAgICAgKiAgICAgIGNhY2hpbmcuCiAgICAgKiAgICAtICoqdGltZW91dCoqIOKAkyBge251bWJlcnxQcm9taXNlfWAg4oCTIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzLCBvciB7QGxpbmsgbmcuJHEgcHJvbWlzZX0KICAgICAqICAgICAgdGhhdCBzaG91bGQgYWJvcnQgdGhlIHJlcXVlc3Qgd2hlbiByZXNvbHZlZC4KICAgICAqICAgIC0gKip3aXRoQ3JlZGVudGlhbHMqKiAtIGB7Ym9vbGVhbn1gIC0gd2hldGhlciB0byBzZXQgdGhlIGB3aXRoQ3JlZGVudGlhbHNgIGZsYWcgb24gdGhlCiAgICAgKiAgICAgIFhIUiBvYmplY3QuIFNlZSBbcmVxdWVzdHMgd2l0aCBjcmVkZW50aWFsc11odHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9odHRwX2FjY2Vzc19jb250cm9sI3NlY3Rpb25fNQogICAgICogICAgICBmb3IgbW9yZSBpbmZvcm1hdGlvbi4KICAgICAqICAgIC0gKipyZXNwb25zZVR5cGUqKiAtIGB7c3RyaW5nfWAgLSBzZWUKICAgICAqICAgICAgW3JlcXVlc3RUeXBlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0RPTS9YTUxIdHRwUmVxdWVzdCNyZXNwb25zZVR5cGUpLgogICAgICoKICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gUmV0dXJucyBhIHtAbGluayBuZy4kcSBwcm9taXNlfSBvYmplY3Qgd2l0aCB0aGUKICAgICAqICAgc3RhbmRhcmQgYHRoZW5gIG1ldGhvZCBhbmQgdHdvIGh0dHAgc3BlY2lmaWMgbWV0aG9kczogYHN1Y2Nlc3NgIGFuZCBgZXJyb3JgLiBUaGUgYHRoZW5gCiAgICAgKiAgIG1ldGhvZCB0YWtlcyB0d28gYXJndW1lbnRzIGEgc3VjY2VzcyBhbmQgYW4gZXJyb3IgY2FsbGJhY2sgd2hpY2ggd2lsbCBiZSBjYWxsZWQgd2l0aCBhCiAgICAgKiAgIHJlc3BvbnNlIG9iamVjdC4gVGhlIGBzdWNjZXNzYCBhbmQgYGVycm9yYCBtZXRob2RzIHRha2UgYSBzaW5nbGUgYXJndW1lbnQgLSBhIGZ1bmN0aW9uIHRoYXQKICAgICAqICAgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgcmVxdWVzdCBzdWNjZWVkcyBvciBmYWlscyByZXNwZWN0aXZlbHkuIFRoZSBhcmd1bWVudHMgcGFzc2VkIGludG8KICAgICAqICAgdGhlc2UgZnVuY3Rpb25zIGFyZSBkZXN0cnVjdHVyZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJlc3BvbnNlIG9iamVjdCBwYXNzZWQgaW50byB0aGUKICAgICAqICAgYHRoZW5gIG1ldGhvZC4gVGhlIHJlc3BvbnNlIG9iamVjdCBoYXMgdGhlc2UgcHJvcGVydGllczoKICAgICAqCiAgICAgKiAgIC0gKipkYXRhKiog4oCTIGB7c3RyaW5nfE9iamVjdH1gIOKAkyBUaGUgcmVzcG9uc2UgYm9keSB0cmFuc2Zvcm1lZCB3aXRoIHRoZSB0cmFuc2Zvcm0KICAgICAqICAgICBmdW5jdGlvbnMuCiAgICAgKiAgIC0gKipzdGF0dXMqKiDigJMgYHtudW1iZXJ9YCDigJMgSFRUUCBzdGF0dXMgY29kZSBvZiB0aGUgcmVzcG9uc2UuCiAgICAgKiAgIC0gKipoZWFkZXJzKiog4oCTIGB7ZnVuY3Rpb24oW2hlYWRlck5hbWVdKX1gIOKAkyBIZWFkZXIgZ2V0dGVyIGZ1bmN0aW9uLgogICAgICogICAtICoqY29uZmlnKiog4oCTIGB7T2JqZWN0fWAg4oCTIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCB0aGF0IHdhcyB1c2VkIHRvIGdlbmVyYXRlIHRoZSByZXF1ZXN0LgogICAgICogICAtICoqc3RhdHVzVGV4dCoqIOKAkyBge3N0cmluZ31gIOKAkyBIVFRQIHN0YXR1cyB0ZXh0IG9mIHRoZSByZXNwb25zZS4KICAgICAqCiAgICAgKiBAcHJvcGVydHkge0FycmF5LjxPYmplY3Q+fSBwZW5kaW5nUmVxdWVzdHMgQXJyYXkgb2YgY29uZmlnIG9iamVjdHMgZm9yIGN1cnJlbnRseSBwZW5kaW5nCiAgICAgKiAgIHJlcXVlc3RzLiBUaGlzIGlzIHByaW1hcmlseSBtZWFudCB0byBiZSB1c2VkIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMuCiAgICAgKgogICAgICoKICAgICAqIEBleGFtcGxlCjxleGFtcGxlPgo8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICA8ZGl2IG5nLWNvbnRyb2xsZXI9IkZldGNoQ3RybCI+CiAgICA8c2VsZWN0IG5nLW1vZGVsPSJtZXRob2QiPgogICAgICA8b3B0aW9uPkdFVDwvb3B0aW9uPgogICAgICA8b3B0aW9uPkpTT05QPC9vcHRpb24+CiAgICA8L3NlbGVjdD4KICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuZy1tb2RlbD0idXJsIiBzaXplPSI4MCIvPgogICAgPGJ1dHRvbiBpZD0iZmV0Y2hidG4iIG5nLWNsaWNrPSJmZXRjaCgpIj5mZXRjaDwvYnV0dG9uPjxicj4KICAgIDxidXR0b24gaWQ9InNhbXBsZWdldGJ0biIgbmctY2xpY2s9InVwZGF0ZU1vZGVsKCdHRVQnLCAnaHR0cC1oZWxsby5odG1sJykiPlNhbXBsZSBHRVQ8L2J1dHRvbj4KICAgIDxidXR0b24gaWQ9InNhbXBsZWpzb25wYnRuIgogICAgICBuZy1jbGljaz0idXBkYXRlTW9kZWwoJ0pTT05QJywKICAgICAgICAgICAgICAgICAgICAnaHR0cHM6Ly9hbmd1bGFyanMub3JnL2dyZWV0LnBocD9jYWxsYmFjaz1KU09OX0NBTExCQUNLJm5hbWU9U3VwZXIlMjBIZXJvJykiPgogICAgICBTYW1wbGUgSlNPTlAKICAgIDwvYnV0dG9uPgogICAgPGJ1dHRvbiBpZD0iaW52YWxpZGpzb25wYnRuIgogICAgICBuZy1jbGljaz0idXBkYXRlTW9kZWwoJ0pTT05QJywgJ2h0dHBzOi8vYW5ndWxhcmpzLm9yZy9kb2VzbnRleGlzdCZjYWxsYmFjaz1KU09OX0NBTExCQUNLJykiPgogICAgICAgIEludmFsaWQgSlNPTlAKICAgICAgPC9idXR0b24+CiAgICA8cHJlPmh0dHAgc3RhdHVzIGNvZGU6IHt7c3RhdHVzfX08L3ByZT4KICAgIDxwcmU+aHR0cCByZXNwb25zZSBkYXRhOiB7e2RhdGF9fTwvcHJlPgogIDwvZGl2Pgo8L2ZpbGU+CjxmaWxlIG5hbWU9InNjcmlwdC5qcyI+CiAgZnVuY3Rpb24gRmV0Y2hDdHJsKCRzY29wZSwgJGh0dHAsICR0ZW1wbGF0ZUNhY2hlKSB7CiAgICAkc2NvcGUubWV0aG9kID0gJ0dFVCc7CiAgICAkc2NvcGUudXJsID0gJ2h0dHAtaGVsbG8uaHRtbCc7CgogICAgJHNjb3BlLmZldGNoID0gZnVuY3Rpb24oKSB7CiAgICAgICRzY29wZS5jb2RlID0gbnVsbDsKICAgICAgJHNjb3BlLnJlc3BvbnNlID0gbnVsbDsKCiAgICAgICRodHRwKHttZXRob2Q6ICRzY29wZS5tZXRob2QsIHVybDogJHNjb3BlLnVybCwgY2FjaGU6ICR0ZW1wbGF0ZUNhY2hlfSkuCiAgICAgICAgc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMpIHsKICAgICAgICAgICRzY29wZS5zdGF0dXMgPSBzdGF0dXM7CiAgICAgICAgICAkc2NvcGUuZGF0YSA9IGRhdGE7CiAgICAgICAgfSkuCiAgICAgICAgZXJyb3IoZnVuY3Rpb24oZGF0YSwgc3RhdHVzKSB7CiAgICAgICAgICAkc2NvcGUuZGF0YSA9IGRhdGEgfHwgIlJlcXVlc3QgZmFpbGVkIjsKICAgICAgICAgICRzY29wZS5zdGF0dXMgPSBzdGF0dXM7CiAgICAgIH0pOwogICAgfTsKCiAgICAkc2NvcGUudXBkYXRlTW9kZWwgPSBmdW5jdGlvbihtZXRob2QsIHVybCkgewogICAgICAkc2NvcGUubWV0aG9kID0gbWV0aG9kOwogICAgICAkc2NvcGUudXJsID0gdXJsOwogICAgfTsKICB9CjwvZmlsZT4KPGZpbGUgbmFtZT0iaHR0cC1oZWxsby5odG1sIj4KICBIZWxsbywgJGh0dHAhCjwvZmlsZT4KPGZpbGUgbmFtZT0icHJvdHJhY3Rvci5qcyIgdHlwZT0icHJvdHJhY3RvciI+CiAgdmFyIHN0YXR1cyA9IGVsZW1lbnQoYnkuYmluZGluZygnc3RhdHVzJykpOwogIHZhciBkYXRhID0gZWxlbWVudChieS5iaW5kaW5nKCdkYXRhJykpOwogIHZhciBmZXRjaEJ0biA9IGVsZW1lbnQoYnkuaWQoJ2ZldGNoYnRuJykpOwogIHZhciBzYW1wbGVHZXRCdG4gPSBlbGVtZW50KGJ5LmlkKCdzYW1wbGVnZXRidG4nKSk7CiAgdmFyIHNhbXBsZUpzb25wQnRuID0gZWxlbWVudChieS5pZCgnc2FtcGxlanNvbnBidG4nKSk7CiAgdmFyIGludmFsaWRKc29ucEJ0biA9IGVsZW1lbnQoYnkuaWQoJ2ludmFsaWRqc29ucGJ0bicpKTsKCiAgaXQoJ3Nob3VsZCBtYWtlIGFuIHhociBHRVQgcmVxdWVzdCcsIGZ1bmN0aW9uKCkgewogICAgc2FtcGxlR2V0QnRuLmNsaWNrKCk7CiAgICBmZXRjaEJ0bi5jbGljaygpOwogICAgZXhwZWN0KHN0YXR1cy5nZXRUZXh0KCkpLnRvTWF0Y2goJzIwMCcpOwogICAgZXhwZWN0KGRhdGEuZ2V0VGV4dCgpKS50b01hdGNoKC9IZWxsbywgXCRodHRwIS8pOwogIH0pOwoKICBpdCgnc2hvdWxkIG1ha2UgYSBKU09OUCByZXF1ZXN0IHRvIGFuZ3VsYXJqcy5vcmcnLCBmdW5jdGlvbigpIHsKICAgIHNhbXBsZUpzb25wQnRuLmNsaWNrKCk7CiAgICBmZXRjaEJ0bi5jbGljaygpOwogICAgZXhwZWN0KHN0YXR1cy5nZXRUZXh0KCkpLnRvTWF0Y2goJzIwMCcpOwogICAgZXhwZWN0KGRhdGEuZ2V0VGV4dCgpKS50b01hdGNoKC9TdXBlciBIZXJvIS8pOwogIH0pOwoKICBpdCgnc2hvdWxkIG1ha2UgSlNPTlAgcmVxdWVzdCB0byBpbnZhbGlkIFVSTCBhbmQgaW52b2tlIHRoZSBlcnJvciBoYW5kbGVyJywKICAgICAgZnVuY3Rpb24oKSB7CiAgICBpbnZhbGlkSnNvbnBCdG4uY2xpY2soKTsKICAgIGZldGNoQnRuLmNsaWNrKCk7CiAgICBleHBlY3Qoc3RhdHVzLmdldFRleHQoKSkudG9NYXRjaCgnMCcpOwogICAgZXhwZWN0KGRhdGEuZ2V0VGV4dCgpKS50b01hdGNoKCdSZXF1ZXN0IGZhaWxlZCcpOwogIH0pOwo8L2ZpbGU+CjwvZXhhbXBsZT4KICAgICAqLwogICAgZnVuY3Rpb24gJGh0dHAocmVxdWVzdENvbmZpZykgewogICAgICB2YXIgY29uZmlnID0gewogICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogZGVmYXVsdHMudHJhbnNmb3JtUmVxdWVzdCwKICAgICAgICB0cmFuc2Zvcm1SZXNwb25zZTogZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2UKICAgICAgfTsKICAgICAgdmFyIGhlYWRlcnMgPSBtZXJnZUhlYWRlcnMocmVxdWVzdENvbmZpZyk7CgogICAgICBleHRlbmQoY29uZmlnLCByZXF1ZXN0Q29uZmlnKTsKICAgICAgY29uZmlnLmhlYWRlcnMgPSBoZWFkZXJzOwogICAgICBjb25maWcubWV0aG9kID0gdXBwZXJjYXNlKGNvbmZpZy5tZXRob2QpOwoKICAgICAgdmFyIHNlcnZlclJlcXVlc3QgPSBmdW5jdGlvbihjb25maWcpIHsKICAgICAgICBoZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7CiAgICAgICAgdmFyIHJlcURhdGEgPSB0cmFuc2Zvcm1EYXRhKGNvbmZpZy5kYXRhLCBoZWFkZXJzR2V0dGVyKGhlYWRlcnMpLCBjb25maWcudHJhbnNmb3JtUmVxdWVzdCk7CgogICAgICAgIC8vIHN0cmlwIGNvbnRlbnQtdHlwZSBpZiBkYXRhIGlzIHVuZGVmaW5lZAogICAgICAgIGlmIChpc1VuZGVmaW5lZChjb25maWcuZGF0YSkpIHsKICAgICAgICAgIGZvckVhY2goaGVhZGVycywgZnVuY3Rpb24odmFsdWUsIGhlYWRlcikgewogICAgICAgICAgICBpZiAobG93ZXJjYXNlKGhlYWRlcikgPT09ICdjb250ZW50LXR5cGUnKSB7CiAgICAgICAgICAgICAgICBkZWxldGUgaGVhZGVyc1toZWFkZXJdOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGlmIChpc1VuZGVmaW5lZChjb25maWcud2l0aENyZWRlbnRpYWxzKSAmJiAhaXNVbmRlZmluZWQoZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzKSkgewogICAgICAgICAgY29uZmlnLndpdGhDcmVkZW50aWFscyA9IGRlZmF1bHRzLndpdGhDcmVkZW50aWFsczsKICAgICAgICB9CgogICAgICAgIC8vIHNlbmQgcmVxdWVzdAogICAgICAgIHJldHVybiBzZW5kUmVxKGNvbmZpZywgcmVxRGF0YSwgaGVhZGVycykudGhlbih0cmFuc2Zvcm1SZXNwb25zZSwgdHJhbnNmb3JtUmVzcG9uc2UpOwogICAgICB9OwoKICAgICAgdmFyIGNoYWluID0gW3NlcnZlclJlcXVlc3QsIHVuZGVmaW5lZF07CiAgICAgIHZhciBwcm9taXNlID0gJHEud2hlbihjb25maWcpOwoKICAgICAgLy8gYXBwbHkgaW50ZXJjZXB0b3JzCiAgICAgIGZvckVhY2gocmV2ZXJzZWRJbnRlcmNlcHRvcnMsIGZ1bmN0aW9uKGludGVyY2VwdG9yKSB7CiAgICAgICAgaWYgKGludGVyY2VwdG9yLnJlcXVlc3QgfHwgaW50ZXJjZXB0b3IucmVxdWVzdEVycm9yKSB7CiAgICAgICAgICBjaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLnJlcXVlc3QsIGludGVyY2VwdG9yLnJlcXVlc3RFcnJvcik7CiAgICAgICAgfQogICAgICAgIGlmIChpbnRlcmNlcHRvci5yZXNwb25zZSB8fCBpbnRlcmNlcHRvci5yZXNwb25zZUVycm9yKSB7CiAgICAgICAgICBjaGFpbi5wdXNoKGludGVyY2VwdG9yLnJlc3BvbnNlLCBpbnRlcmNlcHRvci5yZXNwb25zZUVycm9yKTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgd2hpbGUoY2hhaW4ubGVuZ3RoKSB7CiAgICAgICAgdmFyIHRoZW5GbiA9IGNoYWluLnNoaWZ0KCk7CiAgICAgICAgdmFyIHJlamVjdEZuID0gY2hhaW4uc2hpZnQoKTsKCiAgICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbih0aGVuRm4sIHJlamVjdEZuKTsKICAgICAgfQoKICAgICAgcHJvbWlzZS5zdWNjZXNzID0gZnVuY3Rpb24oZm4pIHsKICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgIGZuKHJlc3BvbnNlLmRhdGEsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2UuaGVhZGVycywgY29uZmlnKTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gcHJvbWlzZTsKICAgICAgfTsKCiAgICAgIHByb21pc2UuZXJyb3IgPSBmdW5jdGlvbihmbikgewogICAgICAgIHByb21pc2UudGhlbihudWxsLCBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgZm4ocmVzcG9uc2UuZGF0YSwgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5oZWFkZXJzLCBjb25maWcpOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBwcm9taXNlOwogICAgICB9OwoKICAgICAgcmV0dXJuIHByb21pc2U7CgogICAgICBmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShyZXNwb25zZSkgewogICAgICAgIC8vIG1ha2UgYSBjb3B5IHNpbmNlIHRoZSByZXNwb25zZSBtdXN0IGJlIGNhY2hlYWJsZQogICAgICAgIHZhciByZXNwID0gZXh0ZW5kKHt9LCByZXNwb25zZSwgewogICAgICAgICAgZGF0YTogdHJhbnNmb3JtRGF0YShyZXNwb25zZS5kYXRhLCByZXNwb25zZS5oZWFkZXJzLCBjb25maWcudHJhbnNmb3JtUmVzcG9uc2UpCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIChpc1N1Y2Nlc3MocmVzcG9uc2Uuc3RhdHVzKSkKICAgICAgICAgID8gcmVzcAogICAgICAgICAgOiAkcS5yZWplY3QocmVzcCk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIG1lcmdlSGVhZGVycyhjb25maWcpIHsKICAgICAgICB2YXIgZGVmSGVhZGVycyA9IGRlZmF1bHRzLmhlYWRlcnMsCiAgICAgICAgICAgIHJlcUhlYWRlcnMgPSBleHRlbmQoe30sIGNvbmZpZy5oZWFkZXJzKSwKICAgICAgICAgICAgZGVmSGVhZGVyTmFtZSwgbG93ZXJjYXNlRGVmSGVhZGVyTmFtZSwgcmVxSGVhZGVyTmFtZTsKCiAgICAgICAgZGVmSGVhZGVycyA9IGV4dGVuZCh7fSwgZGVmSGVhZGVycy5jb21tb24sIGRlZkhlYWRlcnNbbG93ZXJjYXNlKGNvbmZpZy5tZXRob2QpXSk7CgogICAgICAgIC8vIGV4ZWN1dGUgaWYgaGVhZGVyIHZhbHVlIGlzIGZ1bmN0aW9uCiAgICAgICAgZXhlY0hlYWRlcnMoZGVmSGVhZGVycyk7CiAgICAgICAgZXhlY0hlYWRlcnMocmVxSGVhZGVycyk7CgogICAgICAgIC8vIHVzaW5nIGZvci1pbiBpbnN0ZWFkIG9mIGZvckVhY2ggdG8gYXZvaWQgdW5lY2Vzc2FyeSBpdGVyYXRpb24gYWZ0ZXIgaGVhZGVyIGhhcyBiZWVuIGZvdW5kCiAgICAgICAgZGVmYXVsdEhlYWRlcnNJdGVyYXRpb246CiAgICAgICAgZm9yIChkZWZIZWFkZXJOYW1lIGluIGRlZkhlYWRlcnMpIHsKICAgICAgICAgIGxvd2VyY2FzZURlZkhlYWRlck5hbWUgPSBsb3dlcmNhc2UoZGVmSGVhZGVyTmFtZSk7CgogICAgICAgICAgZm9yIChyZXFIZWFkZXJOYW1lIGluIHJlcUhlYWRlcnMpIHsKICAgICAgICAgICAgaWYgKGxvd2VyY2FzZShyZXFIZWFkZXJOYW1lKSA9PT0gbG93ZXJjYXNlRGVmSGVhZGVyTmFtZSkgewogICAgICAgICAgICAgIGNvbnRpbnVlIGRlZmF1bHRIZWFkZXJzSXRlcmF0aW9uOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgcmVxSGVhZGVyc1tkZWZIZWFkZXJOYW1lXSA9IGRlZkhlYWRlcnNbZGVmSGVhZGVyTmFtZV07CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcmVxSGVhZGVyczsKCiAgICAgICAgZnVuY3Rpb24gZXhlY0hlYWRlcnMoaGVhZGVycykgewogICAgICAgICAgdmFyIGhlYWRlckNvbnRlbnQ7CgogICAgICAgICAgZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbihoZWFkZXJGbiwgaGVhZGVyKSB7CiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGhlYWRlckZuKSkgewogICAgICAgICAgICAgIGhlYWRlckNvbnRlbnQgPSBoZWFkZXJGbigpOwogICAgICAgICAgICAgIGlmIChoZWFkZXJDb250ZW50ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGhlYWRlcnNbaGVhZGVyXSA9IGhlYWRlckNvbnRlbnQ7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGRlbGV0ZSBoZWFkZXJzW2hlYWRlcl07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICAkaHR0cC5wZW5kaW5nUmVxdWVzdHMgPSBbXTsKCiAgICAvKioKICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAqIEBuYW1lICRodHRwI2dldAogICAgICoKICAgICAqIEBkZXNjcmlwdGlvbgogICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYEdFVGAgcmVxdWVzdC4KICAgICAqCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdAogICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3QKICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdAogICAgICovCgogICAgLyoqCiAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgKiBAbmFtZSAkaHR0cCNkZWxldGUKICAgICAqCiAgICAgKiBAZGVzY3JpcHRpb24KICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBERUxFVEVgIHJlcXVlc3QuCiAgICAgKgogICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgc3BlY2lmeWluZyB0aGUgZGVzdGluYXRpb24gb2YgdGhlIHJlcXVlc3QKICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0CiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3QKICAgICAqLwoKICAgIC8qKgogICAgICogQG5nZG9jIG1ldGhvZAogICAgICogQG5hbWUgJGh0dHAjaGVhZAogICAgICoKICAgICAqIEBkZXNjcmlwdGlvbgogICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYEhFQURgIHJlcXVlc3QuCiAgICAgKgogICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgc3BlY2lmeWluZyB0aGUgZGVzdGluYXRpb24gb2YgdGhlIHJlcXVlc3QKICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0CiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3QKICAgICAqLwoKICAgIC8qKgogICAgICogQG5nZG9jIG1ldGhvZAogICAgICogQG5hbWUgJGh0dHAjanNvbnAKICAgICAqCiAgICAgKiBAZGVzY3JpcHRpb24KICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBKU09OUGAgcmVxdWVzdC4KICAgICAqCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdC4KICAgICAqICAgICAgICAgICAgICAgICAgICAgU2hvdWxkIGNvbnRhaW4gYEpTT05fQ0FMTEJBQ0tgIHN0cmluZy4KICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0CiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3QKICAgICAqLwogICAgY3JlYXRlU2hvcnRNZXRob2RzKCdnZXQnLCAnZGVsZXRlJywgJ2hlYWQnLCAnanNvbnAnKTsKCiAgICAvKioKICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAqIEBuYW1lICRodHRwI3Bvc3QKICAgICAqCiAgICAgKiBAZGVzY3JpcHRpb24KICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBQT1NUYCByZXF1ZXN0LgogICAgICoKICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHNwZWNpZnlpbmcgdGhlIGRlc3RpbmF0aW9uIG9mIHRoZSByZXF1ZXN0CiAgICAgKiBAcGFyYW0geyp9IGRhdGEgUmVxdWVzdCBjb250ZW50CiAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdAogICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0CiAgICAgKi8KCiAgICAvKioKICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAqIEBuYW1lICRodHRwI3B1dAogICAgICoKICAgICAqIEBkZXNjcmlwdGlvbgogICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYFBVVGAgcmVxdWVzdC4KICAgICAqCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdAogICAgICogQHBhcmFtIHsqfSBkYXRhIFJlcXVlc3QgY29udGVudAogICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3QKICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdAogICAgICovCiAgICBjcmVhdGVTaG9ydE1ldGhvZHNXaXRoRGF0YSgncG9zdCcsICdwdXQnKTsKCiAgICAgICAgLyoqCiAgICAgICAgICogQG5nZG9jIHByb3BlcnR5CiAgICAgICAgICogQG5hbWUgJGh0dHAjZGVmYXVsdHMKICAgICAgICAgKgogICAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgICAqIFJ1bnRpbWUgZXF1aXZhbGVudCBvZiB0aGUgYCRodHRwUHJvdmlkZXIuZGVmYXVsdHNgIHByb3BlcnR5LiBBbGxvd3MgY29uZmlndXJhdGlvbiBvZgogICAgICAgICAqIGRlZmF1bHQgaGVhZGVycywgd2l0aENyZWRlbnRpYWxzIGFzIHdlbGwgYXMgcmVxdWVzdCBhbmQgcmVzcG9uc2UgdHJhbnNmb3JtYXRpb25zLgogICAgICAgICAqCiAgICAgICAgICogU2VlICJTZXR0aW5nIEhUVFAgSGVhZGVycyIgYW5kICJUcmFuc2Zvcm1pbmcgUmVxdWVzdHMgYW5kIFJlc3BvbnNlcyIgc2VjdGlvbnMgYWJvdmUuCiAgICAgICAgICovCiAgICAkaHR0cC5kZWZhdWx0cyA9IGRlZmF1bHRzOwoKCiAgICByZXR1cm4gJGh0dHA7CgoKICAgIGZ1bmN0aW9uIGNyZWF0ZVNob3J0TWV0aG9kcyhuYW1lcykgewogICAgICBmb3JFYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24obmFtZSkgewogICAgICAgICRodHRwW25hbWVdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHsKICAgICAgICAgIHJldHVybiAkaHR0cChleHRlbmQoY29uZmlnIHx8IHt9LCB7CiAgICAgICAgICAgIG1ldGhvZDogbmFtZSwKICAgICAgICAgICAgdXJsOiB1cmwKICAgICAgICAgIH0pKTsKICAgICAgICB9OwogICAgICB9KTsKICAgIH0KCgogICAgZnVuY3Rpb24gY3JlYXRlU2hvcnRNZXRob2RzV2l0aERhdGEobmFtZSkgewogICAgICBmb3JFYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24obmFtZSkgewogICAgICAgICRodHRwW25hbWVdID0gZnVuY3Rpb24odXJsLCBkYXRhLCBjb25maWcpIHsKICAgICAgICAgIHJldHVybiAkaHR0cChleHRlbmQoY29uZmlnIHx8IHt9LCB7CiAgICAgICAgICAgIG1ldGhvZDogbmFtZSwKICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgIH0pKTsKICAgICAgICB9OwogICAgICB9KTsKICAgIH0KCgogICAgLyoqCiAgICAgKiBNYWtlcyB0aGUgcmVxdWVzdC4KICAgICAqCiAgICAgKiAhISEgQUNDRVNTRVMgQ0xPU1VSRSBWQVJTOgogICAgICogJGh0dHBCYWNrZW5kLCBkZWZhdWx0cywgJGxvZywgJHJvb3RTY29wZSwgZGVmYXVsdENhY2hlLCAkaHR0cC5wZW5kaW5nUmVxdWVzdHMKICAgICAqLwogICAgZnVuY3Rpb24gc2VuZFJlcShjb25maWcsIHJlcURhdGEsIHJlcUhlYWRlcnMpIHsKICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKSwKICAgICAgICAgIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlLAogICAgICAgICAgY2FjaGUsCiAgICAgICAgICBjYWNoZWRSZXNwLAogICAgICAgICAgdXJsID0gYnVpbGRVcmwoY29uZmlnLnVybCwgY29uZmlnLnBhcmFtcyk7CgogICAgICAkaHR0cC5wZW5kaW5nUmVxdWVzdHMucHVzaChjb25maWcpOwogICAgICBwcm9taXNlLnRoZW4ocmVtb3ZlUGVuZGluZ1JlcSwgcmVtb3ZlUGVuZGluZ1JlcSk7CgoKICAgICAgaWYgKChjb25maWcuY2FjaGUgfHwgZGVmYXVsdHMuY2FjaGUpICYmIGNvbmZpZy5jYWNoZSAhPT0gZmFsc2UgJiYgY29uZmlnLm1ldGhvZCA9PSAnR0VUJykgewogICAgICAgIGNhY2hlID0gaXNPYmplY3QoY29uZmlnLmNhY2hlKSA/IGNvbmZpZy5jYWNoZQogICAgICAgICAgICAgIDogaXNPYmplY3QoZGVmYXVsdHMuY2FjaGUpID8gZGVmYXVsdHMuY2FjaGUKICAgICAgICAgICAgICA6IGRlZmF1bHRDYWNoZTsKICAgICAgfQoKICAgICAgaWYgKGNhY2hlKSB7CiAgICAgICAgY2FjaGVkUmVzcCA9IGNhY2hlLmdldCh1cmwpOwogICAgICAgIGlmIChpc0RlZmluZWQoY2FjaGVkUmVzcCkpIHsKICAgICAgICAgIGlmIChjYWNoZWRSZXNwLnRoZW4pIHsKICAgICAgICAgICAgLy8gY2FjaGVkIHJlcXVlc3QgaGFzIGFscmVhZHkgYmVlbiBzZW50LCBidXQgdGhlcmUgaXMgbm8gcmVzcG9uc2UgeWV0CiAgICAgICAgICAgIGNhY2hlZFJlc3AudGhlbihyZW1vdmVQZW5kaW5nUmVxLCByZW1vdmVQZW5kaW5nUmVxKTsKICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFJlc3A7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBzZXJ2aW5nIGZyb20gY2FjaGUKICAgICAgICAgICAgaWYgKGlzQXJyYXkoY2FjaGVkUmVzcCkpIHsKICAgICAgICAgICAgICByZXNvbHZlUHJvbWlzZShjYWNoZWRSZXNwWzFdLCBjYWNoZWRSZXNwWzBdLCBzaGFsbG93Q29weShjYWNoZWRSZXNwWzJdKSwgY2FjaGVkUmVzcFszXSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmVzb2x2ZVByb21pc2UoY2FjaGVkUmVzcCwgMjAwLCB7fSwgJ09LJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gcHV0IHRoZSBwcm9taXNlIGZvciB0aGUgbm9uLXRyYW5zZm9ybWVkIHJlc3BvbnNlIGludG8gY2FjaGUgYXMgYSBwbGFjZWhvbGRlcgogICAgICAgICAgY2FjaGUucHV0KHVybCwgcHJvbWlzZSk7CiAgICAgICAgfQogICAgICB9CgoKICAgICAgLy8gaWYgd2Ugd29uJ3QgaGF2ZSB0aGUgcmVzcG9uc2UgaW4gY2FjaGUsIHNldCB0aGUgeHNyZiBoZWFkZXJzIGFuZAogICAgICAvLyBzZW5kIHRoZSByZXF1ZXN0IHRvIHRoZSBiYWNrZW5kCiAgICAgIGlmIChpc1VuZGVmaW5lZChjYWNoZWRSZXNwKSkgewogICAgICAgIHZhciB4c3JmVmFsdWUgPSB1cmxJc1NhbWVPcmlnaW4oY29uZmlnLnVybCkKICAgICAgICAgICAgPyAkYnJvd3Nlci5jb29raWVzKClbY29uZmlnLnhzcmZDb29raWVOYW1lIHx8IGRlZmF1bHRzLnhzcmZDb29raWVOYW1lXQogICAgICAgICAgICA6IHVuZGVmaW5lZDsKICAgICAgICBpZiAoeHNyZlZhbHVlKSB7CiAgICAgICAgICByZXFIZWFkZXJzWyhjb25maWcueHNyZkhlYWRlck5hbWUgfHwgZGVmYXVsdHMueHNyZkhlYWRlck5hbWUpXSA9IHhzcmZWYWx1ZTsKICAgICAgICB9CgogICAgICAgICRodHRwQmFja2VuZChjb25maWcubWV0aG9kLCB1cmwsIHJlcURhdGEsIGRvbmUsIHJlcUhlYWRlcnMsIGNvbmZpZy50aW1lb3V0LAogICAgICAgICAgICBjb25maWcud2l0aENyZWRlbnRpYWxzLCBjb25maWcucmVzcG9uc2VUeXBlKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHByb21pc2U7CgoKICAgICAgLyoqCiAgICAgICAqIENhbGxiYWNrIHJlZ2lzdGVyZWQgdG8gJGh0dHBCYWNrZW5kKCk6CiAgICAgICAqICAtIGNhY2hlcyB0aGUgcmVzcG9uc2UgaWYgZGVzaXJlZAogICAgICAgKiAgLSByZXNvbHZlcyB0aGUgcmF3ICRodHRwIHByb21pc2UKICAgICAgICogIC0gY2FsbHMgJGFwcGx5CiAgICAgICAqLwogICAgICBmdW5jdGlvbiBkb25lKHN0YXR1cywgcmVzcG9uc2UsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQpIHsKICAgICAgICBpZiAoY2FjaGUpIHsKICAgICAgICAgIGlmIChpc1N1Y2Nlc3Moc3RhdHVzKSkgewogICAgICAgICAgICBjYWNoZS5wdXQodXJsLCBbc3RhdHVzLCByZXNwb25zZSwgcGFyc2VIZWFkZXJzKGhlYWRlcnNTdHJpbmcpLCBzdGF0dXNUZXh0XSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyByZW1vdmUgcHJvbWlzZSBmcm9tIHRoZSBjYWNoZQogICAgICAgICAgICBjYWNoZS5yZW1vdmUodXJsKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJlc29sdmVQcm9taXNlKHJlc3BvbnNlLCBzdGF0dXMsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQpOwogICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSAkcm9vdFNjb3BlLiRhcHBseSgpOwogICAgICB9CgoKICAgICAgLyoqCiAgICAgICAqIFJlc29sdmVzIHRoZSByYXcgJGh0dHAgcHJvbWlzZS4KICAgICAgICovCiAgICAgIGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKHJlc3BvbnNlLCBzdGF0dXMsIGhlYWRlcnMsIHN0YXR1c1RleHQpIHsKICAgICAgICAvLyBub3JtYWxpemUgaW50ZXJuYWwgc3RhdHVzZXMgdG8gMAogICAgICAgIHN0YXR1cyA9IE1hdGgubWF4KHN0YXR1cywgMCk7CgogICAgICAgIChpc1N1Y2Nlc3Moc3RhdHVzKSA/IGRlZmVycmVkLnJlc29sdmUgOiBkZWZlcnJlZC5yZWplY3QpKHsKICAgICAgICAgIGRhdGE6IHJlc3BvbnNlLAogICAgICAgICAgc3RhdHVzOiBzdGF0dXMsCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzR2V0dGVyKGhlYWRlcnMpLAogICAgICAgICAgY29uZmlnOiBjb25maWcsCiAgICAgICAgICBzdGF0dXNUZXh0IDogc3RhdHVzVGV4dAogICAgICAgIH0pOwogICAgICB9CgoKICAgICAgZnVuY3Rpb24gcmVtb3ZlUGVuZGluZ1JlcSgpIHsKICAgICAgICB2YXIgaWR4ID0gaW5kZXhPZigkaHR0cC5wZW5kaW5nUmVxdWVzdHMsIGNvbmZpZyk7CiAgICAgICAgaWYgKGlkeCAhPT0gLTEpICRodHRwLnBlbmRpbmdSZXF1ZXN0cy5zcGxpY2UoaWR4LCAxKTsKICAgICAgfQogICAgfQoKCiAgICBmdW5jdGlvbiBidWlsZFVybCh1cmwsIHBhcmFtcykgewogICAgICAgICAgaWYgKCFwYXJhbXMpIHJldHVybiB1cmw7CiAgICAgICAgICB2YXIgcGFydHMgPSBbXTsKICAgICAgICAgIGZvckVhY2hTb3J0ZWQocGFyYW1zLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCBpc1VuZGVmaW5lZCh2YWx1ZSkpIHJldHVybjsKICAgICAgICAgICAgaWYgKCFpc0FycmF5KHZhbHVlKSkgdmFsdWUgPSBbdmFsdWVdOwoKICAgICAgICAgICAgZm9yRWFjaCh2YWx1ZSwgZnVuY3Rpb24odikgewogICAgICAgICAgICAgIGlmIChpc09iamVjdCh2KSkgewogICAgICAgICAgICAgICAgdiA9IHRvSnNvbih2KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcGFydHMucHVzaChlbmNvZGVVcmlRdWVyeShrZXkpICsgJz0nICsKICAgICAgICAgICAgICAgICAgICAgICAgIGVuY29kZVVyaVF1ZXJ5KHYpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIGlmKHBhcnRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdXJsICs9ICgodXJsLmluZGV4T2YoJz8nKSA9PSAtMSkgPyAnPycgOiAnJicpICsgcGFydHMuam9pbignJicpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHVybDsKICAgICAgICB9CgoKICB9XTsKfQoKZnVuY3Rpb24gY3JlYXRlWGhyKG1ldGhvZCkgewogICAgLy9pZiBJRSBhbmQgdGhlIG1ldGhvZCBpcyBub3QgUkZDMjYxNiBjb21wbGlhbnQsIG9yIGlmIFhNTEh0dHBSZXF1ZXN0CiAgICAvL2lzIG5vdCBhdmFpbGFibGUsIHRyeSBnZXR0aW5nIGFuIEFjdGl2ZVhPYmplY3QuIE90aGVyd2lzZSwgdXNlIFhNTEh0dHBSZXF1ZXN0CiAgICAvL2lmIGl0IGlzIGF2YWlsYWJsZQogICAgaWYgKG1zaWUgPD0gOCAmJiAoIW1ldGhvZC5tYXRjaCgvXihnZXR8cG9zdHxoZWFkfHB1dHxkZWxldGV8b3B0aW9ucykkL2kpIHx8CiAgICAgICF3aW5kb3cuWE1MSHR0cFJlcXVlc3QpKSB7CiAgICAgIHJldHVybiBuZXcgd2luZG93LkFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxIVFRQIik7CiAgICB9IGVsc2UgaWYgKHdpbmRvdy5YTUxIdHRwUmVxdWVzdCkgewogICAgICByZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpOwogICAgfQoKICAgIHRocm93IG1pbkVycignJGh0dHBCYWNrZW5kJykoJ25veGhyJywgIlRoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IFhNTEh0dHBSZXF1ZXN0LiIpOwp9CgovKioKICogQG5nZG9jIHNlcnZpY2UKICogQG5hbWUgJGh0dHBCYWNrZW5kCiAqIEByZXF1aXJlcyAkd2luZG93CiAqIEByZXF1aXJlcyAkZG9jdW1lbnQKICoKICogQGRlc2NyaXB0aW9uCiAqIEhUVFAgYmFja2VuZCB1c2VkIGJ5IHRoZSB7QGxpbmsgbmcuJGh0dHAgc2VydmljZX0gdGhhdCBkZWxlZ2F0ZXMgdG8KICogWE1MSHR0cFJlcXVlc3Qgb2JqZWN0IG9yIEpTT05QIGFuZCBkZWFscyB3aXRoIGJyb3dzZXIgaW5jb21wYXRpYmlsaXRpZXMuCiAqCiAqIFlvdSBzaG91bGQgbmV2ZXIgbmVlZCB0byB1c2UgdGhpcyBzZXJ2aWNlIGRpcmVjdGx5LCBpbnN0ZWFkIHVzZSB0aGUgaGlnaGVyLWxldmVsIGFic3RyYWN0aW9uczoKICoge0BsaW5rIG5nLiRodHRwICRodHRwfSBvciB7QGxpbmsgbmdSZXNvdXJjZS4kcmVzb3VyY2UgJHJlc291cmNlfS4KICoKICogRHVyaW5nIHRlc3RpbmcgdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBzd2FwcGVkIHdpdGgge0BsaW5rIG5nTW9jay4kaHR0cEJhY2tlbmQgbW9jawogKiAkaHR0cEJhY2tlbmR9IHdoaWNoIGNhbiBiZSB0cmFpbmVkIHdpdGggcmVzcG9uc2VzLgogKi8KZnVuY3Rpb24gJEh0dHBCYWNrZW5kUHJvdmlkZXIoKSB7CiAgdGhpcy4kZ2V0ID0gWyckYnJvd3NlcicsICckd2luZG93JywgJyRkb2N1bWVudCcsIGZ1bmN0aW9uKCRicm93c2VyLCAkd2luZG93LCAkZG9jdW1lbnQpIHsKICAgIHJldHVybiBjcmVhdGVIdHRwQmFja2VuZCgkYnJvd3NlciwgY3JlYXRlWGhyLCAkYnJvd3Nlci5kZWZlciwgJHdpbmRvdy5hbmd1bGFyLmNhbGxiYWNrcywgJGRvY3VtZW50WzBdKTsKICB9XTsKfQoKZnVuY3Rpb24gY3JlYXRlSHR0cEJhY2tlbmQoJGJyb3dzZXIsIGNyZWF0ZVhociwgJGJyb3dzZXJEZWZlciwgY2FsbGJhY2tzLCByYXdEb2N1bWVudCkgewogIHZhciBBQk9SVEVEID0gLTE7CgogIC8vIFRPRE8odm9qdGEpOiBmaXggdGhlIHNpZ25hdHVyZQogIHJldHVybiBmdW5jdGlvbihtZXRob2QsIHVybCwgcG9zdCwgY2FsbGJhY2ssIGhlYWRlcnMsIHRpbWVvdXQsIHdpdGhDcmVkZW50aWFscywgcmVzcG9uc2VUeXBlKSB7CiAgICB2YXIgc3RhdHVzOwogICAgJGJyb3dzZXIuJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudCgpOwogICAgdXJsID0gdXJsIHx8ICRicm93c2VyLnVybCgpOwoKICAgIGlmIChsb3dlcmNhc2UobWV0aG9kKSA9PSAnanNvbnAnKSB7CiAgICAgIHZhciBjYWxsYmFja0lkID0gJ18nICsgKGNhbGxiYWNrcy5jb3VudGVyKyspLnRvU3RyaW5nKDM2KTsKICAgICAgY2FsbGJhY2tzW2NhbGxiYWNrSWRdID0gZnVuY3Rpb24oZGF0YSkgewogICAgICAgIGNhbGxiYWNrc1tjYWxsYmFja0lkXS5kYXRhID0gZGF0YTsKICAgICAgICBjYWxsYmFja3NbY2FsbGJhY2tJZF0uY2FsbGVkID0gdHJ1ZTsKICAgICAgfTsKCiAgICAgIHZhciBqc29ucERvbmUgPSBqc29ucFJlcSh1cmwucmVwbGFjZSgnSlNPTl9DQUxMQkFDSycsICdhbmd1bGFyLmNhbGxiYWNrcy4nICsgY2FsbGJhY2tJZCksCiAgICAgICAgICBjYWxsYmFja0lkLCBmdW5jdGlvbihzdGF0dXMsIHRleHQpIHsKICAgICAgICBjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssIHN0YXR1cywgY2FsbGJhY2tzW2NhbGxiYWNrSWRdLmRhdGEsICIiLCB0ZXh0KTsKICAgICAgICBjYWxsYmFja3NbY2FsbGJhY2tJZF0gPSBub29wOwogICAgICB9KTsKICAgIH0gZWxzZSB7CgogICAgICB2YXIgeGhyID0gY3JlYXRlWGhyKG1ldGhvZCk7CgogICAgICB4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7CiAgICAgIGZvckVhY2goaGVhZGVycywgZnVuY3Rpb24odmFsdWUsIGtleSkgewogICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7CiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgdmFsdWUpOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICAvLyBJbiBJRTYgYW5kIDcsIHRoaXMgbWlnaHQgYmUgY2FsbGVkIHN5bmNocm9ub3VzbHkgd2hlbiB4aHIuc2VuZCBiZWxvdyBpcyBjYWxsZWQgYW5kIHRoZQogICAgICAvLyByZXNwb25zZSBpcyBpbiB0aGUgY2FjaGUuIHRoZSBwcm9taXNlIGFwaSB3aWxsIGVuc3VyZSB0aGF0IHRvIHRoZSBhcHAgY29kZSB0aGUgYXBpIGlzCiAgICAgIC8vIGFsd2F5cyBhc3luYwogICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgLy8gb25yZWFkeXN0YXRlY2hhbmdlIG1pZ2h0IGdldCBjYWxsZWQgbXVsdGlwbGUgdGltZXMgd2l0aCByZWFkeVN0YXRlID09PSA0IG9uIG1vYmlsZSB3ZWJraXQgY2F1c2VkIGJ5CiAgICAgICAgLy8geGhycyB0aGF0IGFyZSByZXNvbHZlZCB3aGlsZSB0aGUgYXBwIGlzIGluIHRoZSBiYWNrZ3JvdW5kIChzZWUgIzU0MjYpLgogICAgICAgIC8vIHNpbmNlIGNhbGxpbmcgY29tcGxldGVSZXF1ZXN0IHNldHMgdGhlIGB4aHJgIHZhcmlhYmxlIHRvIG51bGwsIHdlIGp1c3QgY2hlY2sgaWYgaXQncyBub3QgbnVsbCBiZWZvcmUKICAgICAgICAvLyBjb250aW51aW5nCiAgICAgICAgLy8KICAgICAgICAvLyB3ZSBjYW4ndCBzZXQgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSB0byB1bmRlZmluZWQgb3IgZGVsZXRlIGl0IGJlY2F1c2UgdGhhdCBicmVha3MgSUU4IChtZXRob2Q9UEFUQ0gpIGFuZAogICAgICAgIC8vIFNhZmFyaSByZXNwZWN0aXZlbHkuCiAgICAgICAgaWYgKHhociAmJiB4aHIucmVhZHlTdGF0ZSA9PSA0KSB7CiAgICAgICAgICB2YXIgcmVzcG9uc2VIZWFkZXJzID0gbnVsbCwKICAgICAgICAgICAgICByZXNwb25zZSA9IG51bGwsCiAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9ICcnOwoKICAgICAgICAgIGlmKHN0YXR1cyAhPT0gQUJPUlRFRCkgewogICAgICAgICAgICByZXNwb25zZUhlYWRlcnMgPSB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCk7CgogICAgICAgICAgICAvLyByZXNwb25zZVRleHQgaXMgdGhlIG9sZC1zY2hvb2wgd2F5IG9mIHJldHJpZXZpbmcgcmVzcG9uc2UgKHN1cHBvcnRlZCBieSBJRTggJiA5KQogICAgICAgICAgICAvLyByZXNwb25zZS9yZXNwb25zZVR5cGUgcHJvcGVydGllcyB3ZXJlIGludHJvZHVjZWQgaW4gWEhSIExldmVsMiBzcGVjIChzdXBwb3J0ZWQgYnkgSUUxMCkKICAgICAgICAgICAgcmVzcG9uc2UgPSAoJ3Jlc3BvbnNlJyBpbiB4aHIpID8geGhyLnJlc3BvbnNlIDogeGhyLnJlc3BvbnNlVGV4dDsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBBY2Nlc3Npbmcgc3RhdHVzVGV4dCBvbiBhbiBhYm9ydGVkIHhociBvYmplY3Qgd2lsbAogICAgICAgICAgLy8gdGhyb3cgYW4gJ2MwMGMwMjNmIGVycm9yJyBpbiBJRTkgYW5kIGxvd2VyLCBkb24ndCB0b3VjaCBpdC4KICAgICAgICAgIGlmICghKHN0YXR1cyA9PT0gQUJPUlRFRCAmJiBtc2llIDwgMTApKSB7CiAgICAgICAgICAgIHN0YXR1c1RleHQgPSB4aHIuc3RhdHVzVGV4dDsKICAgICAgICAgIH0KCiAgICAgICAgICBjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssCiAgICAgICAgICAgICAgc3RhdHVzIHx8IHhoci5zdGF0dXMsCiAgICAgICAgICAgICAgcmVzcG9uc2UsCiAgICAgICAgICAgICAgcmVzcG9uc2VIZWFkZXJzLAogICAgICAgICAgICAgIHN0YXR1c1RleHQpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGlmICh3aXRoQ3JlZGVudGlhbHMpIHsKICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTsKICAgICAgfQoKICAgICAgaWYgKHJlc3BvbnNlVHlwZSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gcmVzcG9uc2VUeXBlOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIC8vIFdlYktpdCBhZGRlZCBzdXBwb3J0IGZvciB0aGUganNvbiByZXNwb25zZVR5cGUgdmFsdWUgb24gMDkvMDMvMjAxMwogICAgICAgICAgLy8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTczNjQ4LiBWZXJzaW9ucyBvZiBTYWZhcmkgcHJpb3IgdG8gNyBhcmUKICAgICAgICAgIC8vIGtub3duIHRvIHRocm93IHdoZW4gc2V0dGluZyB0aGUgdmFsdWUgImpzb24iIGFzIHRoZSByZXNwb25zZSB0eXBlLiBPdGhlciBvbGRlcgogICAgICAgICAgLy8gYnJvd3NlcnMgaW1wbGVtZW50aW5nIHRoZSByZXNwb25zZVR5cGUKICAgICAgICAgIC8vCiAgICAgICAgICAvLyBUaGUganNvbiByZXNwb25zZSB0eXBlIGNhbiBiZSBpZ25vcmVkIGlmIG5vdCBzdXBwb3J0ZWQsIGJlY2F1c2UgSlNPTiBwYXlsb2FkcyBhcmUKICAgICAgICAgIC8vIHBhcnNlZCBvbiB0aGUgY2xpZW50LXNpZGUgcmVnYXJkbGVzcy4KICAgICAgICAgIGlmIChyZXNwb25zZVR5cGUgIT09ICdqc29uJykgewogICAgICAgICAgICB0aHJvdyBlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgeGhyLnNlbmQocG9zdCB8fCBudWxsKTsKICAgIH0KCiAgICBpZiAodGltZW91dCA+IDApIHsKICAgICAgdmFyIHRpbWVvdXRJZCA9ICRicm93c2VyRGVmZXIodGltZW91dFJlcXVlc3QsIHRpbWVvdXQpOwogICAgfSBlbHNlIGlmICh0aW1lb3V0ICYmIHRpbWVvdXQudGhlbikgewogICAgICB0aW1lb3V0LnRoZW4odGltZW91dFJlcXVlc3QpOwogICAgfQoKCiAgICBmdW5jdGlvbiB0aW1lb3V0UmVxdWVzdCgpIHsKICAgICAgc3RhdHVzID0gQUJPUlRFRDsKICAgICAganNvbnBEb25lICYmIGpzb25wRG9uZSgpOwogICAgICB4aHIgJiYgeGhyLmFib3J0KCk7CiAgICB9CgogICAgZnVuY3Rpb24gY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLCBzdGF0dXMsIHJlc3BvbnNlLCBoZWFkZXJzU3RyaW5nLCBzdGF0dXNUZXh0KSB7CiAgICAgIC8vIGNhbmNlbCB0aW1lb3V0IGFuZCBzdWJzZXF1ZW50IHRpbWVvdXQgcHJvbWlzZSByZXNvbHV0aW9uCiAgICAgIHRpbWVvdXRJZCAmJiAkYnJvd3NlckRlZmVyLmNhbmNlbCh0aW1lb3V0SWQpOwogICAgICBqc29ucERvbmUgPSB4aHIgPSBudWxsOwoKICAgICAgLy8gZml4IHN0YXR1cyBjb2RlIHdoZW4gaXQgaXMgMCAoMCBzdGF0dXMgaXMgdW5kb2N1bWVudGVkKS4KICAgICAgLy8gT2NjdXJzIHdoZW4gYWNjZXNzaW5nIGZpbGUgcmVzb3VyY2VzIG9yIG9uIEFuZHJvaWQgNC4xIHN0b2NrIGJyb3dzZXIKICAgICAgLy8gd2hpbGUgcmV0cmlldmluZyBmaWxlcyBmcm9tIGFwcGxpY2F0aW9uIGNhY2hlLgogICAgICBpZiAoc3RhdHVzID09PSAwKSB7CiAgICAgICAgc3RhdHVzID0gcmVzcG9uc2UgPyAyMDAgOiB1cmxSZXNvbHZlKHVybCkucHJvdG9jb2wgPT0gJ2ZpbGUnID8gNDA0IDogMDsKICAgICAgfQoKICAgICAgLy8gbm9ybWFsaXplIElFIGJ1ZyAoaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTQ1MCkKICAgICAgc3RhdHVzID0gc3RhdHVzID09PSAxMjIzID8gMjA0IDogc3RhdHVzOwogICAgICBzdGF0dXNUZXh0ID0gc3RhdHVzVGV4dCB8fCAnJzsKCiAgICAgIGNhbGxiYWNrKHN0YXR1cywgcmVzcG9uc2UsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQpOwogICAgICAkYnJvd3Nlci4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KG5vb3ApOwogICAgfQogIH07CgogIGZ1bmN0aW9uIGpzb25wUmVxKHVybCwgY2FsbGJhY2tJZCwgZG9uZSkgewogICAgLy8gd2UgY2FuJ3QgdXNlIGpRdWVyeS9qcUxpdGUgaGVyZSBiZWNhdXNlIGpRdWVyeSBkb2VzIGNyYXp5IHNoaXQgd2l0aCBzY3JpcHQgZWxlbWVudHMsIGUuZy46CiAgICAvLyAtIGZldGNoZXMgbG9jYWwgc2NyaXB0cyB2aWEgWEhSIGFuZCBldmFscyB0aGVtCiAgICAvLyAtIGFkZHMgYW5kIGltbWVkaWF0ZWx5IHJlbW92ZXMgc2NyaXB0IGVsZW1lbnRzIGZyb20gdGhlIGRvY3VtZW50CiAgICB2YXIgc2NyaXB0ID0gcmF3RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0JyksIGNhbGxiYWNrID0gbnVsbDsKICAgIHNjcmlwdC50eXBlID0gInRleHQvamF2YXNjcmlwdCI7CiAgICBzY3JpcHQuc3JjID0gdXJsOwogICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTsKCiAgICBjYWxsYmFjayA9IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJGbihzY3JpcHQsICJsb2FkIiwgY2FsbGJhY2spOwogICAgICByZW1vdmVFdmVudExpc3RlbmVyRm4oc2NyaXB0LCAiZXJyb3IiLCBjYWxsYmFjayk7CiAgICAgIHJhd0RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2NyaXB0KTsKICAgICAgc2NyaXB0ID0gbnVsbDsKICAgICAgdmFyIHN0YXR1cyA9IC0xOwogICAgICB2YXIgdGV4dCA9ICJ1bmtub3duIjsKCiAgICAgIGlmIChldmVudCkgewogICAgICAgIGlmIChldmVudC50eXBlID09PSAibG9hZCIgJiYgIWNhbGxiYWNrc1tjYWxsYmFja0lkXS5jYWxsZWQpIHsKICAgICAgICAgIGV2ZW50ID0geyB0eXBlOiAiZXJyb3IiIH07CiAgICAgICAgfQogICAgICAgIHRleHQgPSBldmVudC50eXBlOwogICAgICAgIHN0YXR1cyA9IGV2ZW50LnR5cGUgPT09ICJlcnJvciIgPyA0MDQgOiAyMDA7CiAgICAgIH0KCiAgICAgIGlmIChkb25lKSB7CiAgICAgICAgZG9uZShzdGF0dXMsIHRleHQpOwogICAgICB9CiAgICB9OwoKICAgIGFkZEV2ZW50TGlzdGVuZXJGbihzY3JpcHQsICJsb2FkIiwgY2FsbGJhY2spOwogICAgYWRkRXZlbnRMaXN0ZW5lckZuKHNjcmlwdCwgImVycm9yIiwgY2FsbGJhY2spOwoKICAgIGlmIChtc2llIDw9IDgpIHsKICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIGlmIChpc1N0cmluZyhzY3JpcHQucmVhZHlTdGF0ZSkgJiYgL2xvYWRlZHxjb21wbGV0ZS8udGVzdChzY3JpcHQucmVhZHlTdGF0ZSkpIHsKICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsOwogICAgICAgICAgY2FsbGJhY2soewogICAgICAgICAgICB0eXBlOiAnbG9hZCcKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfTsKICAgIH0KCiAgICByYXdEb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7CiAgICByZXR1cm4gY2FsbGJhY2s7CiAgfQp9Cgp2YXIgJGludGVycG9sYXRlTWluRXJyID0gbWluRXJyKCckaW50ZXJwb2xhdGUnKTsKCi8qKgogKiBAbmdkb2MgcHJvdmlkZXIKICogQG5hbWUgJGludGVycG9sYXRlUHJvdmlkZXIKICogQGtpbmQgZnVuY3Rpb24KICoKICogQGRlc2NyaXB0aW9uCiAqCiAqIFVzZWQgZm9yIGNvbmZpZ3VyaW5nIHRoZSBpbnRlcnBvbGF0aW9uIG1hcmt1cC4gRGVmYXVsdHMgdG8gYHt7YCBhbmQgYH19YC4KICoKICogQGV4YW1wbGUKPGV4YW1wbGUgbW9kdWxlPSJjdXN0b21JbnRlcnBvbGF0aW9uQXBwIj4KPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CjxzY3JpcHQ+CiAgdmFyIGN1c3RvbUludGVycG9sYXRpb25BcHAgPSBhbmd1bGFyLm1vZHVsZSgnY3VzdG9tSW50ZXJwb2xhdGlvbkFwcCcsIFtdKTsKCiAgY3VzdG9tSW50ZXJwb2xhdGlvbkFwcC5jb25maWcoZnVuY3Rpb24oJGludGVycG9sYXRlUHJvdmlkZXIpIHsKICAgICRpbnRlcnBvbGF0ZVByb3ZpZGVyLnN0YXJ0U3ltYm9sKCcvLycpOwogICAgJGludGVycG9sYXRlUHJvdmlkZXIuZW5kU3ltYm9sKCcvLycpOwogIH0pOwoKCiAgY3VzdG9tSW50ZXJwb2xhdGlvbkFwcC5jb250cm9sbGVyKCdEZW1vQ29udHJvbGxlcicsIGZ1bmN0aW9uKCkgewogICAgICB0aGlzLmxhYmVsID0gIlRoaXMgYmluZGluZyBpcyBicm91Z2h0IHlvdSBieSAvLyBpbnRlcnBvbGF0aW9uIHN5bWJvbHMuIjsKICB9KTsKPC9zY3JpcHQ+CjxkaXYgbmctYXBwPSJBcHAiIG5nLWNvbnRyb2xsZXI9IkRlbW9Db250cm9sbGVyIGFzIGRlbW8iPgogICAgLy9kZW1vLmxhYmVsLy8KPC9kaXY+CjwvZmlsZT4KPGZpbGUgbmFtZT0icHJvdHJhY3Rvci5qcyIgdHlwZT0icHJvdHJhY3RvciI+CiAgaXQoJ3Nob3VsZCBpbnRlcnBvbGF0ZSBiaW5kaW5nIHdpdGggY3VzdG9tIHN5bWJvbHMnLCBmdW5jdGlvbigpIHsKICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2RlbW8ubGFiZWwnKSkuZ2V0VGV4dCgpKS50b0JlKCdUaGlzIGJpbmRpbmcgaXMgYnJvdWdodCB5b3UgYnkgLy8gaW50ZXJwb2xhdGlvbiBzeW1ib2xzLicpOwogIH0pOwo8L2ZpbGU+CjwvZXhhbXBsZT4KICovCmZ1bmN0aW9uICRJbnRlcnBvbGF0ZVByb3ZpZGVyKCkgewogIHZhciBzdGFydFN5bWJvbCA9ICd7eyc7CiAgdmFyIGVuZFN5bWJvbCA9ICd9fSc7CgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSAkaW50ZXJwb2xhdGVQcm92aWRlciNzdGFydFN5bWJvbAogICAqIEBkZXNjcmlwdGlvbgogICAqIFN5bWJvbCB0byBkZW5vdGUgc3RhcnQgb2YgZXhwcmVzc2lvbiBpbiB0aGUgaW50ZXJwb2xhdGVkIHN0cmluZy4gRGVmYXVsdHMgdG8gYHt7YC4KICAgKgogICAqIEBwYXJhbSB7c3RyaW5nPX0gdmFsdWUgbmV3IHZhbHVlIHRvIHNldCB0aGUgc3RhcnRpbmcgc3ltYm9sIHRvLgogICAqIEByZXR1cm5zIHtzdHJpbmd8c2VsZn0gUmV0dXJucyB0aGUgc3ltYm9sIHdoZW4gdXNlZCBhcyBnZXR0ZXIgYW5kIHNlbGYgaWYgdXNlZCBhcyBzZXR0ZXIuCiAgICovCiAgdGhpcy5zdGFydFN5bWJvbCA9IGZ1bmN0aW9uKHZhbHVlKXsKICAgIGlmICh2YWx1ZSkgewogICAgICBzdGFydFN5bWJvbCA9IHZhbHVlOwogICAgICByZXR1cm4gdGhpczsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBzdGFydFN5bWJvbDsKICAgIH0KICB9OwoKICAvKioKICAgKiBAbmdkb2MgbWV0aG9kCiAgICogQG5hbWUgJGludGVycG9sYXRlUHJvdmlkZXIjZW5kU3ltYm9sCiAgICogQGRlc2NyaXB0aW9uCiAgICogU3ltYm9sIHRvIGRlbm90ZSB0aGUgZW5kIG9mIGV4cHJlc3Npb24gaW4gdGhlIGludGVycG9sYXRlZCBzdHJpbmcuIERlZmF1bHRzIHRvIGB9fWAuCiAgICoKICAgKiBAcGFyYW0ge3N0cmluZz19IHZhbHVlIG5ldyB2YWx1ZSB0byBzZXQgdGhlIGVuZGluZyBzeW1ib2wgdG8uCiAgICogQHJldHVybnMge3N0cmluZ3xzZWxmfSBSZXR1cm5zIHRoZSBzeW1ib2wgd2hlbiB1c2VkIGFzIGdldHRlciBhbmQgc2VsZiBpZiB1c2VkIGFzIHNldHRlci4KICAgKi8KICB0aGlzLmVuZFN5bWJvbCA9IGZ1bmN0aW9uKHZhbHVlKXsKICAgIGlmICh2YWx1ZSkgewogICAgICBlbmRTeW1ib2wgPSB2YWx1ZTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gZW5kU3ltYm9sOwogICAgfQogIH07CgoKICB0aGlzLiRnZXQgPSBbJyRwYXJzZScsICckZXhjZXB0aW9uSGFuZGxlcicsICckc2NlJywgZnVuY3Rpb24oJHBhcnNlLCAkZXhjZXB0aW9uSGFuZGxlciwgJHNjZSkgewogICAgdmFyIHN0YXJ0U3ltYm9sTGVuZ3RoID0gc3RhcnRTeW1ib2wubGVuZ3RoLAogICAgICAgIGVuZFN5bWJvbExlbmd0aCA9IGVuZFN5bWJvbC5sZW5ndGg7CgogICAgLyoqCiAgICAgKiBAbmdkb2Mgc2VydmljZQogICAgICogQG5hbWUgJGludGVycG9sYXRlCiAgICAgKiBAa2luZCBmdW5jdGlvbgogICAgICoKICAgICAqIEByZXF1aXJlcyAkcGFyc2UKICAgICAqIEByZXF1aXJlcyAkc2NlCiAgICAgKgogICAgICogQGRlc2NyaXB0aW9uCiAgICAgKgogICAgICogQ29tcGlsZXMgYSBzdHJpbmcgd2l0aCBtYXJrdXAgaW50byBhbiBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uLiBUaGlzIHNlcnZpY2UgaXMgdXNlZCBieSB0aGUKICAgICAqIEhUTUwge0BsaW5rIG5nLiRjb21waWxlICRjb21waWxlfSBzZXJ2aWNlIGZvciBkYXRhIGJpbmRpbmcuIFNlZQogICAgICoge0BsaW5rIG5nLiRpbnRlcnBvbGF0ZVByb3ZpZGVyICRpbnRlcnBvbGF0ZVByb3ZpZGVyfSBmb3IgY29uZmlndXJpbmcgdGhlCiAgICAgKiBpbnRlcnBvbGF0aW9uIG1hcmt1cC4KICAgICAqCiAgICAgKgogICAgICogYGBganMKICAgICAqICAgdmFyICRpbnRlcnBvbGF0ZSA9IC4uLjsgLy8gaW5qZWN0ZWQKICAgICAqICAgdmFyIGV4cCA9ICRpbnRlcnBvbGF0ZSgnSGVsbG8ge3tuYW1lIHwgdXBwZXJjYXNlfX0hJyk7CiAgICAgKiAgIGV4cGVjdChleHAoe25hbWU6J0FuZ3VsYXInfSkudG9FcXVhbCgnSGVsbG8gQU5HVUxBUiEnKTsKICAgICAqIGBgYAogICAgICoKICAgICAqCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgdGV4dCB3aXRoIG1hcmt1cCB0byBpbnRlcnBvbGF0ZS4KICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IG11c3RIYXZlRXhwcmVzc2lvbiBpZiBzZXQgdG8gdHJ1ZSB0aGVuIHRoZSBpbnRlcnBvbGF0aW9uIHN0cmluZyBtdXN0IGhhdmUKICAgICAqICAgIGVtYmVkZGVkIGV4cHJlc3Npb24gaW4gb3JkZXIgdG8gcmV0dXJuIGFuIGludGVycG9sYXRpb24gZnVuY3Rpb24uIFN0cmluZ3Mgd2l0aCBubwogICAgICogICAgZW1iZWRkZWQgZXhwcmVzc2lvbiB3aWxsIHJldHVybiBudWxsIGZvciB0aGUgaW50ZXJwb2xhdGlvbiBmdW5jdGlvbi4KICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gdHJ1c3RlZENvbnRleHQgd2hlbiBwcm92aWRlZCwgdGhlIHJldHVybmVkIGZ1bmN0aW9uIHBhc3NlcyB0aGUgaW50ZXJwb2xhdGVkCiAgICAgKiAgICByZXN1bHQgdGhyb3VnaCB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkICRzY2UuZ2V0VHJ1c3RlZChpbnRlcnBvbGF0ZWRSZXN1bHQsCiAgICAgKiAgICB0cnVzdGVkQ29udGV4dCl9IGJlZm9yZSByZXR1cm5pbmcgaXQuICBSZWZlciB0byB0aGUge0BsaW5rIG5nLiRzY2UgJHNjZX0gc2VydmljZSB0aGF0CiAgICAgKiAgICBwcm92aWRlcyBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyBmb3IgZGV0YWlscy4KICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0KX0gYW4gaW50ZXJwb2xhdGlvbiBmdW5jdGlvbiB3aGljaCBpcyB1c2VkIHRvIGNvbXB1dGUgdGhlCiAgICAgKiAgICBpbnRlcnBvbGF0ZWQgc3RyaW5nLiBUaGUgZnVuY3Rpb24gaGFzIHRoZXNlIHBhcmFtZXRlcnM6CiAgICAgKgogICAgICogICAgKiBgY29udGV4dGA6IGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5ncyBhcmUgZXZhbHVhdGVkCiAgICAgKiAgICAgIGFnYWluc3QuCiAgICAgKgogICAgICovCiAgICBmdW5jdGlvbiAkaW50ZXJwb2xhdGUodGV4dCwgbXVzdEhhdmVFeHByZXNzaW9uLCB0cnVzdGVkQ29udGV4dCkgewogICAgICB2YXIgc3RhcnRJbmRleCwKICAgICAgICAgIGVuZEluZGV4LAogICAgICAgICAgaW5kZXggPSAwLAogICAgICAgICAgcGFydHMgPSBbXSwKICAgICAgICAgIGxlbmd0aCA9IHRleHQubGVuZ3RoLAogICAgICAgICAgaGFzSW50ZXJwb2xhdGlvbiA9IGZhbHNlLAogICAgICAgICAgZm4sCiAgICAgICAgICBleHAsCiAgICAgICAgICBjb25jYXQgPSBbXTsKCiAgICAgIHdoaWxlKGluZGV4IDwgbGVuZ3RoKSB7CiAgICAgICAgaWYgKCAoKHN0YXJ0SW5kZXggPSB0ZXh0LmluZGV4T2Yoc3RhcnRTeW1ib2wsIGluZGV4KSkgIT0gLTEpICYmCiAgICAgICAgICAgICAoKGVuZEluZGV4ID0gdGV4dC5pbmRleE9mKGVuZFN5bWJvbCwgc3RhcnRJbmRleCArIHN0YXJ0U3ltYm9sTGVuZ3RoKSkgIT0gLTEpICkgewogICAgICAgICAgKGluZGV4ICE9IHN0YXJ0SW5kZXgpICYmIHBhcnRzLnB1c2godGV4dC5zdWJzdHJpbmcoaW5kZXgsIHN0YXJ0SW5kZXgpKTsKICAgICAgICAgIHBhcnRzLnB1c2goZm4gPSAkcGFyc2UoZXhwID0gdGV4dC5zdWJzdHJpbmcoc3RhcnRJbmRleCArIHN0YXJ0U3ltYm9sTGVuZ3RoLCBlbmRJbmRleCkpKTsKICAgICAgICAgIGZuLmV4cCA9IGV4cDsKICAgICAgICAgIGluZGV4ID0gZW5kSW5kZXggKyBlbmRTeW1ib2xMZW5ndGg7CiAgICAgICAgICBoYXNJbnRlcnBvbGF0aW9uID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gd2UgZGlkIG5vdCBmaW5kIGFueXRoaW5nLCBzbyB3ZSBoYXZlIHRvIGFkZCB0aGUgcmVtYWluZGVyIHRvIHRoZSBwYXJ0cyBhcnJheQogICAgICAgICAgKGluZGV4ICE9IGxlbmd0aCkgJiYgcGFydHMucHVzaCh0ZXh0LnN1YnN0cmluZyhpbmRleCkpOwogICAgICAgICAgaW5kZXggPSBsZW5ndGg7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoIShsZW5ndGggPSBwYXJ0cy5sZW5ndGgpKSB7CiAgICAgICAgLy8gd2UgYWRkZWQsIG5vdGhpbmcsIG11c3QgaGF2ZSBiZWVuIGFuIGVtcHR5IHN0cmluZy4KICAgICAgICBwYXJ0cy5wdXNoKCcnKTsKICAgICAgICBsZW5ndGggPSAxOwogICAgICB9CgogICAgICAvLyBDb25jYXRlbmF0aW5nIGV4cHJlc3Npb25zIG1ha2VzIGl0IGhhcmQgdG8gcmVhc29uIGFib3V0IHdoZXRoZXIgc29tZSBjb21iaW5hdGlvbiBvZgogICAgICAvLyBjb25jYXRlbmF0ZWQgdmFsdWVzIGFyZSB1bnNhZmUgdG8gdXNlIGFuZCBjb3VsZCBlYXNpbHkgbGVhZCB0byBYU1MuICBCeSByZXF1aXJpbmcgdGhhdCBhCiAgICAgIC8vIHNpbmdsZSBleHByZXNzaW9uIGJlIHVzZWQgZm9yIGlmcmFtZVtzcmNdLCBvYmplY3Rbc3JjXSwgZXRjLiwgd2UgZW5zdXJlIHRoYXQgdGhlIHZhbHVlCiAgICAgIC8vIHRoYXQncyB1c2VkIGlzIGFzc2lnbmVkIG9yIGNvbnN0cnVjdGVkIGJ5IHNvbWUgSlMgY29kZSBzb21ld2hlcmUgdGhhdCBpcyBtb3JlIHRlc3RhYmxlIG9yCiAgICAgIC8vIG1ha2UgaXQgb2J2aW91cyB0aGF0IHlvdSBib3VuZCB0aGUgdmFsdWUgdG8gc29tZSB1c2VyIGNvbnRyb2xsZWQgdmFsdWUuICBUaGlzIGhlbHBzIHJlZHVjZQogICAgICAvLyB0aGUgbG9hZCB3aGVuIGF1ZGl0aW5nIGZvciBYU1MgaXNzdWVzLgogICAgICBpZiAodHJ1c3RlZENvbnRleHQgJiYgcGFydHMubGVuZ3RoID4gMSkgewogICAgICAgICAgdGhyb3cgJGludGVycG9sYXRlTWluRXJyKCdub2NvbmNhdCcsCiAgICAgICAgICAgICAgIkVycm9yIHdoaWxlIGludGVycG9sYXRpbmc6IHswfVxuU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgZGlzYWxsb3dzICIgKwogICAgICAgICAgICAgICJpbnRlcnBvbGF0aW9ucyB0aGF0IGNvbmNhdGVuYXRlIG11bHRpcGxlIGV4cHJlc3Npb25zIHdoZW4gYSB0cnVzdGVkIHZhbHVlIGlzICIgKwogICAgICAgICAgICAgICJyZXF1aXJlZC4gIFNlZSBodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZy4kc2NlIiwgdGV4dCk7CiAgICAgIH0KCiAgICAgIGlmICghbXVzdEhhdmVFeHByZXNzaW9uICB8fCBoYXNJbnRlcnBvbGF0aW9uKSB7CiAgICAgICAgY29uY2F0Lmxlbmd0aCA9IGxlbmd0aDsKICAgICAgICBmbiA9IGZ1bmN0aW9uKGNvbnRleHQpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvcih2YXIgaSA9IDAsIGlpID0gbGVuZ3RoLCBwYXJ0OyBpPGlpOyBpKyspIHsKICAgICAgICAgICAgICBpZiAodHlwZW9mIChwYXJ0ID0gcGFydHNbaV0pID09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgICAgIHBhcnQgPSBwYXJ0KGNvbnRleHQpOwogICAgICAgICAgICAgICAgaWYgKHRydXN0ZWRDb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgIHBhcnQgPSAkc2NlLmdldFRydXN0ZWQodHJ1c3RlZENvbnRleHQsIHBhcnQpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgcGFydCA9ICRzY2UudmFsdWVPZihwYXJ0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChwYXJ0ID09IG51bGwpIHsgLy8gbnVsbCB8fCB1bmRlZmluZWQKICAgICAgICAgICAgICAgICAgcGFydCA9ICcnOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgcGFydCkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGNhc2UgJ251bWJlcic6CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgcGFydCA9ICcnICsgcGFydDsKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIHBhcnQgPSB0b0pzb24ocGFydCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGNvbmNhdFtpXSA9IHBhcnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGNvbmNhdC5qb2luKCcnKTsKICAgICAgICAgIH0KICAgICAgICAgIGNhdGNoKGVycikgewogICAgICAgICAgICB2YXIgbmV3RXJyID0gJGludGVycG9sYXRlTWluRXJyKCdpbnRlcnInLCAiQ2FuJ3QgaW50ZXJwb2xhdGU6IHswfVxuezF9IiwgdGV4dCwKICAgICAgICAgICAgICAgIGVyci50b1N0cmluZygpKTsKICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIobmV3RXJyKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIGZuLmV4cCA9IHRleHQ7CiAgICAgICAgZm4ucGFydHMgPSBwYXJ0czsKICAgICAgICByZXR1cm4gZm47CiAgICAgIH0KICAgIH0KCgogICAgLyoqCiAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgKiBAbmFtZSAkaW50ZXJwb2xhdGUjc3RhcnRTeW1ib2wKICAgICAqIEBkZXNjcmlwdGlvbgogICAgICogU3ltYm9sIHRvIGRlbm90ZSB0aGUgc3RhcnQgb2YgZXhwcmVzc2lvbiBpbiB0aGUgaW50ZXJwb2xhdGVkIHN0cmluZy4gRGVmYXVsdHMgdG8gYHt7YC4KICAgICAqCiAgICAgKiBVc2Uge0BsaW5rIG5nLiRpbnRlcnBvbGF0ZVByb3ZpZGVyI3N0YXJ0U3ltYm9sICRpbnRlcnBvbGF0ZVByb3ZpZGVyI3N0YXJ0U3ltYm9sfSB0byBjaGFuZ2UKICAgICAqIHRoZSBzeW1ib2wuCiAgICAgKgogICAgICogQHJldHVybnMge3N0cmluZ30gc3RhcnQgc3ltYm9sLgogICAgICovCiAgICAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2wgPSBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIHN0YXJ0U3ltYm9sOwogICAgfTsKCgogICAgLyoqCiAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgKiBAbmFtZSAkaW50ZXJwb2xhdGUjZW5kU3ltYm9sCiAgICAgKiBAZGVzY3JpcHRpb24KICAgICAqIFN5bWJvbCB0byBkZW5vdGUgdGhlIGVuZCBvZiBleHByZXNzaW9uIGluIHRoZSBpbnRlcnBvbGF0ZWQgc3RyaW5nLiBEZWZhdWx0cyB0byBgfX1gLgogICAgICoKICAgICAqIFVzZSB7QGxpbmsgbmcuJGludGVycG9sYXRlUHJvdmlkZXIjZW5kU3ltYm9sICRpbnRlcnBvbGF0ZVByb3ZpZGVyI2VuZFN5bWJvbH0gdG8gY2hhbmdlCiAgICAgKiB0aGUgc3ltYm9sLgogICAgICoKICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IGVuZCBzeW1ib2wuCiAgICAgKi8KICAgICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2wgPSBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIGVuZFN5bWJvbDsKICAgIH07CgogICAgcmV0dXJuICRpbnRlcnBvbGF0ZTsKICB9XTsKfQoKZnVuY3Rpb24gJEludGVydmFsUHJvdmlkZXIoKSB7CiAgdGhpcy4kZ2V0ID0gWyckcm9vdFNjb3BlJywgJyR3aW5kb3cnLCAnJHEnLAogICAgICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgICAkd2luZG93LCAgICRxKSB7CiAgICB2YXIgaW50ZXJ2YWxzID0ge307CgoKICAgICAvKioKICAgICAgKiBAbmdkb2Mgc2VydmljZQogICAgICAqIEBuYW1lICRpbnRlcnZhbAogICAgICAqCiAgICAgICogQGRlc2NyaXB0aW9uCiAgICAgICogQW5ndWxhcidzIHdyYXBwZXIgZm9yIGB3aW5kb3cuc2V0SW50ZXJ2YWxgLiBUaGUgYGZuYCBmdW5jdGlvbiBpcyBleGVjdXRlZCBldmVyeSBgZGVsYXlgCiAgICAgICogbWlsbGlzZWNvbmRzLgogICAgICAqCiAgICAgICogVGhlIHJldHVybiB2YWx1ZSBvZiByZWdpc3RlcmluZyBhbiBpbnRlcnZhbCBmdW5jdGlvbiBpcyBhIHByb21pc2UuIFRoaXMgcHJvbWlzZSB3aWxsIGJlCiAgICAgICogbm90aWZpZWQgdXBvbiBlYWNoIHRpY2sgb2YgdGhlIGludGVydmFsLCBhbmQgd2lsbCBiZSByZXNvbHZlZCBhZnRlciBgY291bnRgIGl0ZXJhdGlvbnMsIG9yCiAgICAgICogcnVuIGluZGVmaW5pdGVseSBpZiBgY291bnRgIGlzIG5vdCBkZWZpbmVkLiBUaGUgdmFsdWUgb2YgdGhlIG5vdGlmaWNhdGlvbiB3aWxsIGJlIHRoZQogICAgICAqIG51bWJlciBvZiBpdGVyYXRpb25zIHRoYXQgaGF2ZSBydW4uCiAgICAgICogVG8gY2FuY2VsIGFuIGludGVydmFsLCBjYWxsIGAkaW50ZXJ2YWwuY2FuY2VsKHByb21pc2UpYC4KICAgICAgKgogICAgICAqIEluIHRlc3RzIHlvdSBjYW4gdXNlIHtAbGluayBuZ01vY2suJGludGVydmFsI2ZsdXNoIGAkaW50ZXJ2YWwuZmx1c2gobWlsbGlzKWB9IHRvCiAgICAgICogbW92ZSBmb3J3YXJkIGJ5IGBtaWxsaXNgIG1pbGxpc2Vjb25kcyBhbmQgdHJpZ2dlciBhbnkgZnVuY3Rpb25zIHNjaGVkdWxlZCB0byBydW4gaW4gdGhhdAogICAgICAqIHRpbWUuCiAgICAgICoKICAgICAgKiA8ZGl2IGNsYXNzPSJhbGVydCBhbGVydC13YXJuaW5nIj4KICAgICAgKiAqKk5vdGUqKjogSW50ZXJ2YWxzIGNyZWF0ZWQgYnkgdGhpcyBzZXJ2aWNlIG11c3QgYmUgZXhwbGljaXRseSBkZXN0cm95ZWQgd2hlbiB5b3UgYXJlIGZpbmlzaGVkCiAgICAgICogd2l0aCB0aGVtLiAgSW4gcGFydGljdWxhciB0aGV5IGFyZSBub3QgYXV0b21hdGljYWxseSBkZXN0cm95ZWQgd2hlbiBhIGNvbnRyb2xsZXIncyBzY29wZSBvciBhCiAgICAgICogZGlyZWN0aXZlJ3MgZWxlbWVudCBhcmUgZGVzdHJveWVkLgogICAgICAqIFlvdSBzaG91bGQgdGFrZSB0aGlzIGludG8gY29uc2lkZXJhdGlvbiBhbmQgbWFrZSBzdXJlIHRvIGFsd2F5cyBjYW5jZWwgdGhlIGludGVydmFsIGF0IHRoZQogICAgICAqIGFwcHJvcHJpYXRlIG1vbWVudC4gIFNlZSB0aGUgZXhhbXBsZSBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzIG9uIGhvdyBhbmQgd2hlbiB0byBkbyB0aGlzLgogICAgICAqIDwvZGl2PgogICAgICAqCiAgICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBBIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIGNhbGxlZCByZXBlYXRlZGx5LgogICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheSBOdW1iZXIgb2YgbWlsbGlzZWNvbmRzIGJldHdlZW4gZWFjaCBmdW5jdGlvbiBjYWxsLgogICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gW2NvdW50PTBdIE51bWJlciBvZiB0aW1lcyB0byByZXBlYXQuIElmIG5vdCBzZXQsIG9yIDAsIHdpbGwgcmVwZWF0CiAgICAgICogICBpbmRlZmluaXRlbHkuCiAgICAgICogQHBhcmFtIHtib29sZWFuPX0gW2ludm9rZUFwcGx5PXRydWVdIElmIHNldCB0byBgZmFsc2VgIHNraXBzIG1vZGVsIGRpcnR5IGNoZWNraW5nLCBvdGhlcndpc2UKICAgICAgKiAgIHdpbGwgaW52b2tlIGBmbmAgd2l0aGluIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkYXBwbHkgJGFwcGx5fSBibG9jay4KICAgICAgKiBAcmV0dXJucyB7cHJvbWlzZX0gQSBwcm9taXNlIHdoaWNoIHdpbGwgYmUgbm90aWZpZWQgb24gZWFjaCBpdGVyYXRpb24uCiAgICAgICoKICAgICAgKiBAZXhhbXBsZQogICAgICAqIDxleGFtcGxlIG1vZHVsZT0idGltZSI+CiAgICAgICogICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgICAgKiAgICAgPHNjcmlwdD4KICAgICAgKiAgICAgICBmdW5jdGlvbiBDdHJsMigkc2NvcGUsJGludGVydmFsKSB7CiAgICAgICogICAgICAgICAkc2NvcGUuZm9ybWF0ID0gJ00vZC95eSBoOm1tOnNzIGEnOwogICAgICAqICAgICAgICAgJHNjb3BlLmJsb29kXzEgPSAxMDA7CiAgICAgICogICAgICAgICAkc2NvcGUuYmxvb2RfMiA9IDEyMDsKICAgICAgKgogICAgICAqICAgICAgICAgdmFyIHN0b3A7CiAgICAgICogICAgICAgICAkc2NvcGUuZmlnaHQgPSBmdW5jdGlvbigpIHsKICAgICAgKiAgICAgICAgICAgLy8gRG9uJ3Qgc3RhcnQgYSBuZXcgZmlnaHQgaWYgd2UgYXJlIGFscmVhZHkgZmlnaHRpbmcKICAgICAgKiAgICAgICAgICAgaWYgKCBhbmd1bGFyLmlzRGVmaW5lZChzdG9wKSApIHJldHVybjsKICAgICAgKgogICAgICAqICAgICAgICAgICBzdG9wID0gJGludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAqICAgICAgICAgICAgIGlmICgkc2NvcGUuYmxvb2RfMSA+IDAgJiYgJHNjb3BlLmJsb29kXzIgPiAwKSB7CiAgICAgICogICAgICAgICAgICAgICAgICRzY29wZS5ibG9vZF8xID0gJHNjb3BlLmJsb29kXzEgLSAzOwogICAgICAqICAgICAgICAgICAgICAgICAkc2NvcGUuYmxvb2RfMiA9ICRzY29wZS5ibG9vZF8yIC0gNDsKICAgICAgKiAgICAgICAgICAgICB9IGVsc2UgewogICAgICAqICAgICAgICAgICAgICAgICAkc2NvcGUuc3RvcEZpZ2h0KCk7CiAgICAgICogICAgICAgICAgICAgfQogICAgICAqICAgICAgICAgICB9LCAxMDApOwogICAgICAqICAgICAgICAgfTsKICAgICAgKgogICAgICAqICAgICAgICAgJHNjb3BlLnN0b3BGaWdodCA9IGZ1bmN0aW9uKCkgewogICAgICAqICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoc3RvcCkpIHsKICAgICAgKiAgICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKHN0b3ApOwogICAgICAqICAgICAgICAgICAgIHN0b3AgPSB1bmRlZmluZWQ7CiAgICAgICogICAgICAgICAgIH0KICAgICAgKiAgICAgICAgIH07CiAgICAgICoKICAgICAgKiAgICAgICAgICRzY29wZS5yZXNldEZpZ2h0ID0gZnVuY3Rpb24oKSB7CiAgICAgICogICAgICAgICAgICRzY29wZS5ibG9vZF8xID0gMTAwOwogICAgICAqICAgICAgICAgICAkc2NvcGUuYmxvb2RfMiA9IDEyMDsKICAgICAgKiAgICAgICAgIH0KICAgICAgKgogICAgICAqICAgICAgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHsKICAgICAgKiAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgdGhlIGludGVydmFsIGlzIGRlc3Ryb3llZCB0b28KICAgICAgKiAgICAgICAgICAgJHNjb3BlLnN0b3BGaWdodCgpOwogICAgICAqICAgICAgICAgfSk7CiAgICAgICogICAgICAgfQogICAgICAqCiAgICAgICogICAgICAgYW5ndWxhci5tb2R1bGUoJ3RpbWUnLCBbXSkKICAgICAgKiAgICAgICAgIC8vIFJlZ2lzdGVyIHRoZSAnbXlDdXJyZW50VGltZScgZGlyZWN0aXZlIGZhY3RvcnkgbWV0aG9kLgogICAgICAqICAgICAgICAgLy8gV2UgaW5qZWN0ICRpbnRlcnZhbCBhbmQgZGF0ZUZpbHRlciBzZXJ2aWNlIHNpbmNlIHRoZSBmYWN0b3J5IG1ldGhvZCBpcyBESS4KICAgICAgKiAgICAgICAgIC5kaXJlY3RpdmUoJ215Q3VycmVudFRpbWUnLCBmdW5jdGlvbigkaW50ZXJ2YWwsIGRhdGVGaWx0ZXIpIHsKICAgICAgKiAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBkaXJlY3RpdmUgbGluayBmdW5jdGlvbi4gKGNvbXBpbGUgZnVuY3Rpb24gbm90IG5lZWRlZCkKICAgICAgKiAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykgewogICAgICAqICAgICAgICAgICAgIHZhciBmb3JtYXQsICAvLyBkYXRlIGZvcm1hdAogICAgICAqICAgICAgICAgICAgIHN0b3BUaW1lOyAvLyBzbyB0aGF0IHdlIGNhbiBjYW5jZWwgdGhlIHRpbWUgdXBkYXRlcwogICAgICAqCiAgICAgICogICAgICAgICAgICAgLy8gdXNlZCB0byB1cGRhdGUgdGhlIFVJCiAgICAgICogICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlVGltZSgpIHsKICAgICAgKiAgICAgICAgICAgICAgIGVsZW1lbnQudGV4dChkYXRlRmlsdGVyKG5ldyBEYXRlKCksIGZvcm1hdCkpOwogICAgICAqICAgICAgICAgICAgIH0KICAgICAgKgogICAgICAqICAgICAgICAgICAgIC8vIHdhdGNoIHRoZSBleHByZXNzaW9uLCBhbmQgdXBkYXRlIHRoZSBVSSBvbiBjaGFuZ2UuCiAgICAgICogICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJzLm15Q3VycmVudFRpbWUsIGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICogICAgICAgICAgICAgICBmb3JtYXQgPSB2YWx1ZTsKICAgICAgKiAgICAgICAgICAgICAgIHVwZGF0ZVRpbWUoKTsKICAgICAgKiAgICAgICAgICAgICB9KTsKICAgICAgKgogICAgICAqICAgICAgICAgICAgIHN0b3BUaW1lID0gJGludGVydmFsKHVwZGF0ZVRpbWUsIDEwMDApOwogICAgICAqCiAgICAgICogICAgICAgICAgICAgLy8gbGlzdGVuIG9uIERPTSBkZXN0cm95IChyZW1vdmFsKSBldmVudCwgYW5kIGNhbmNlbCB0aGUgbmV4dCBVSSB1cGRhdGUKICAgICAgKiAgICAgICAgICAgICAvLyB0byBwcmV2ZW50IHVwZGF0aW5nIHRpbWUgb2Z0ZXIgdGhlIERPTSBlbGVtZW50IHdhcyByZW1vdmVkLgogICAgICAqICAgICAgICAgICAgIGVsZW1lbnQuYmluZCgnJGRlc3Ryb3knLCBmdW5jdGlvbigpIHsKICAgICAgKiAgICAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoc3RvcFRpbWUpOwogICAgICAqICAgICAgICAgICAgIH0pOwogICAgICAqICAgICAgICAgICB9CiAgICAgICogICAgICAgICB9KTsKICAgICAgKiAgICAgPC9zY3JpcHQ+CiAgICAgICoKICAgICAgKiAgICAgPGRpdj4KICAgICAgKiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9IkN0cmwyIj4KICAgICAgKiAgICAgICAgIERhdGUgZm9ybWF0OiA8aW5wdXQgbmctbW9kZWw9ImZvcm1hdCI+IDxoci8+CiAgICAgICogICAgICAgICBDdXJyZW50IHRpbWUgaXM6IDxzcGFuIG15LWN1cnJlbnQtdGltZT0iZm9ybWF0Ij48L3NwYW4+CiAgICAgICogICAgICAgICA8aHIvPgogICAgICAqICAgICAgICAgQmxvb2QgMSA6IDxmb250IGNvbG9yPSdyZWQnPnt7Ymxvb2RfMX19PC9mb250PgogICAgICAqICAgICAgICAgQmxvb2QgMiA6IDxmb250IGNvbG9yPSdyZWQnPnt7Ymxvb2RfMn19PC9mb250PgogICAgICAqICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGRhdGEtbmctY2xpY2s9ImZpZ2h0KCkiPkZpZ2h0PC9idXR0b24+CiAgICAgICogICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgZGF0YS1uZy1jbGljaz0ic3RvcEZpZ2h0KCkiPlN0b3BGaWdodDwvYnV0dG9uPgogICAgICAqICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGRhdGEtbmctY2xpY2s9InJlc2V0RmlnaHQoKSI+cmVzZXRGaWdodDwvYnV0dG9uPgogICAgICAqICAgICAgIDwvZGl2PgogICAgICAqICAgICA8L2Rpdj4KICAgICAgKgogICAgICAqICAgPC9maWxlPgogICAgICAqIDwvZXhhbXBsZT4KICAgICAgKi8KICAgIGZ1bmN0aW9uIGludGVydmFsKGZuLCBkZWxheSwgY291bnQsIGludm9rZUFwcGx5KSB7CiAgICAgIHZhciBzZXRJbnRlcnZhbCA9ICR3aW5kb3cuc2V0SW50ZXJ2YWwsCiAgICAgICAgICBjbGVhckludGVydmFsID0gJHdpbmRvdy5jbGVhckludGVydmFsLAogICAgICAgICAgZGVmZXJyZWQgPSAkcS5kZWZlcigpLAogICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2UsCiAgICAgICAgICBpdGVyYXRpb24gPSAwLAogICAgICAgICAgc2tpcEFwcGx5ID0gKGlzRGVmaW5lZChpbnZva2VBcHBseSkgJiYgIWludm9rZUFwcGx5KTsKCiAgICAgIGNvdW50ID0gaXNEZWZpbmVkKGNvdW50KSA/IGNvdW50IDogMDsKCiAgICAgIHByb21pc2UudGhlbihudWxsLCBudWxsLCBmbik7CgogICAgICBwcm9taXNlLiQkaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uIHRpY2soKSB7CiAgICAgICAgZGVmZXJyZWQubm90aWZ5KGl0ZXJhdGlvbisrKTsKCiAgICAgICAgaWYgKGNvdW50ID4gMCAmJiBpdGVyYXRpb24gPj0gY291bnQpIHsKICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoaXRlcmF0aW9uKTsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwocHJvbWlzZS4kJGludGVydmFsSWQpOwogICAgICAgICAgZGVsZXRlIGludGVydmFsc1twcm9taXNlLiQkaW50ZXJ2YWxJZF07CiAgICAgICAgfQoKICAgICAgICBpZiAoIXNraXBBcHBseSkgJHJvb3RTY29wZS4kYXBwbHkoKTsKCiAgICAgIH0sIGRlbGF5KTsKCiAgICAgIGludGVydmFsc1twcm9taXNlLiQkaW50ZXJ2YWxJZF0gPSBkZWZlcnJlZDsKCiAgICAgIHJldHVybiBwcm9taXNlOwogICAgfQoKCiAgICAgLyoqCiAgICAgICogQG5nZG9jIG1ldGhvZAogICAgICAqIEBuYW1lICRpbnRlcnZhbCNjYW5jZWwKICAgICAgKgogICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAqIENhbmNlbHMgYSB0YXNrIGFzc29jaWF0ZWQgd2l0aCB0aGUgYHByb21pc2VgLgogICAgICAqCiAgICAgICogQHBhcmFtIHtwcm9taXNlfSBwcm9taXNlIHJldHVybmVkIGJ5IHRoZSBgJGludGVydmFsYCBmdW5jdGlvbi4KICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHRhc2sgd2FzIHN1Y2Nlc3NmdWxseSBjYW5jZWxlZC4KICAgICAgKi8KICAgIGludGVydmFsLmNhbmNlbCA9IGZ1bmN0aW9uKHByb21pc2UpIHsKICAgICAgaWYgKHByb21pc2UgJiYgcHJvbWlzZS4kJGludGVydmFsSWQgaW4gaW50ZXJ2YWxzKSB7CiAgICAgICAgaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXS5yZWplY3QoJ2NhbmNlbGVkJyk7CiAgICAgICAgJHdpbmRvdy5jbGVhckludGVydmFsKHByb21pc2UuJCRpbnRlcnZhbElkKTsKICAgICAgICBkZWxldGUgaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwoKICAgIHJldHVybiBpbnRlcnZhbDsKICB9XTsKfQoKLyoqCiAqIEBuZ2RvYyBzZXJ2aWNlCiAqIEBuYW1lICRsb2NhbGUKICoKICogQGRlc2NyaXB0aW9uCiAqICRsb2NhbGUgc2VydmljZSBwcm92aWRlcyBsb2NhbGl6YXRpb24gcnVsZXMgZm9yIHZhcmlvdXMgQW5ndWxhciBjb21wb25lbnRzLiBBcyBvZiByaWdodCBub3cgdGhlCiAqIG9ubHkgcHVibGljIGFwaSBpczoKICoKICogKiBgaWRgIOKAkyBge3N0cmluZ31gIOKAkyBsb2NhbGUgaWQgZm9ybWF0dGVkIGFzIGBsYW5ndWFnZUlkLWNvdW50cnlJZGAgKGUuZy4gYGVuLXVzYCkKICovCmZ1bmN0aW9uICRMb2NhbGVQcm92aWRlcigpewogIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgaWQ6ICdlbi11cycsCgogICAgICBOVU1CRVJfRk9STUFUUzogewogICAgICAgIERFQ0lNQUxfU0VQOiAnLicsCiAgICAgICAgR1JPVVBfU0VQOiAnLCcsCiAgICAgICAgUEFUVEVSTlM6IFsKICAgICAgICAgIHsgLy8gRGVjaW1hbCBQYXR0ZXJuCiAgICAgICAgICAgIG1pbkludDogMSwKICAgICAgICAgICAgbWluRnJhYzogMCwKICAgICAgICAgICAgbWF4RnJhYzogMywKICAgICAgICAgICAgcG9zUHJlOiAnJywKICAgICAgICAgICAgcG9zU3VmOiAnJywKICAgICAgICAgICAgbmVnUHJlOiAnLScsCiAgICAgICAgICAgIG5lZ1N1ZjogJycsCiAgICAgICAgICAgIGdTaXplOiAzLAogICAgICAgICAgICBsZ1NpemU6IDMKICAgICAgICAgIH0seyAvL0N1cnJlbmN5IFBhdHRlcm4KICAgICAgICAgICAgbWluSW50OiAxLAogICAgICAgICAgICBtaW5GcmFjOiAyLAogICAgICAgICAgICBtYXhGcmFjOiAyLAogICAgICAgICAgICBwb3NQcmU6ICdcdTAwQTQnLAogICAgICAgICAgICBwb3NTdWY6ICcnLAogICAgICAgICAgICBuZWdQcmU6ICcoXHUwMEE0JywKICAgICAgICAgICAgbmVnU3VmOiAnKScsCiAgICAgICAgICAgIGdTaXplOiAzLAogICAgICAgICAgICBsZ1NpemU6IDMKICAgICAgICAgIH0KICAgICAgICBdLAogICAgICAgIENVUlJFTkNZX1NZTTogJyQnCiAgICAgIH0sCgogICAgICBEQVRFVElNRV9GT1JNQVRTOiB7CiAgICAgICAgTU9OVEg6CiAgICAgICAgICAgICdKYW51YXJ5LEZlYnJ1YXJ5LE1hcmNoLEFwcmlsLE1heSxKdW5lLEp1bHksQXVndXN0LFNlcHRlbWJlcixPY3RvYmVyLE5vdmVtYmVyLERlY2VtYmVyJwogICAgICAgICAgICAuc3BsaXQoJywnKSwKICAgICAgICBTSE9SVE1PTlRIOiAgJ0phbixGZWIsTWFyLEFwcixNYXksSnVuLEp1bCxBdWcsU2VwLE9jdCxOb3YsRGVjJy5zcGxpdCgnLCcpLAogICAgICAgIERBWTogJ1N1bmRheSxNb25kYXksVHVlc2RheSxXZWRuZXNkYXksVGh1cnNkYXksRnJpZGF5LFNhdHVyZGF5Jy5zcGxpdCgnLCcpLAogICAgICAgIFNIT1JUREFZOiAnU3VuLE1vbixUdWUsV2VkLFRodSxGcmksU2F0Jy5zcGxpdCgnLCcpLAogICAgICAgIEFNUE1TOiBbJ0FNJywnUE0nXSwKICAgICAgICBtZWRpdW06ICdNTU0gZCwgeSBoOm1tOnNzIGEnLAogICAgICAgIHNob3J0OiAnTS9kL3l5IGg6bW0gYScsCiAgICAgICAgZnVsbERhdGU6ICdFRUVFLCBNTU1NIGQsIHknLAogICAgICAgIGxvbmdEYXRlOiAnTU1NTSBkLCB5JywKICAgICAgICBtZWRpdW1EYXRlOiAnTU1NIGQsIHknLAogICAgICAgIHNob3J0RGF0ZTogJ00vZC95eScsCiAgICAgICAgbWVkaXVtVGltZTogJ2g6bW06c3MgYScsCiAgICAgICAgc2hvcnRUaW1lOiAnaDptbSBhJwogICAgICB9LAoKICAgICAgcGx1cmFsQ2F0OiBmdW5jdGlvbihudW0pIHsKICAgICAgICBpZiAobnVtID09PSAxKSB7CiAgICAgICAgICByZXR1cm4gJ29uZSc7CiAgICAgICAgfQogICAgICAgIHJldHVybiAnb3RoZXInOwogICAgICB9CiAgICB9OwogIH07Cn0KCnZhciBQQVRIX01BVENIID0gL14oW15cPyNdKikoXD8oW14jXSopKT8oIyguKikpPyQvLAogICAgREVGQVVMVF9QT1JUUyA9IHsnaHR0cCc6IDgwLCAnaHR0cHMnOiA0NDMsICdmdHAnOiAyMX07CnZhciAkbG9jYXRpb25NaW5FcnIgPSBtaW5FcnIoJyRsb2NhdGlvbicpOwoKCi8qKgogKiBFbmNvZGUgcGF0aCB1c2luZyBlbmNvZGVVcmlTZWdtZW50LCBpZ25vcmluZyBmb3J3YXJkIHNsYXNoZXMKICoKICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUGF0aCB0byBlbmNvZGUKICogQHJldHVybnMge3N0cmluZ30KICovCmZ1bmN0aW9uIGVuY29kZVBhdGgocGF0aCkgewogIHZhciBzZWdtZW50cyA9IHBhdGguc3BsaXQoJy8nKSwKICAgICAgaSA9IHNlZ21lbnRzLmxlbmd0aDsKCiAgd2hpbGUgKGktLSkgewogICAgc2VnbWVudHNbaV0gPSBlbmNvZGVVcmlTZWdtZW50KHNlZ21lbnRzW2ldKTsKICB9CgogIHJldHVybiBzZWdtZW50cy5qb2luKCcvJyk7Cn0KCmZ1bmN0aW9uIHBhcnNlQWJzb2x1dGVVcmwoYWJzb2x1dGVVcmwsIGxvY2F0aW9uT2JqLCBhcHBCYXNlKSB7CiAgdmFyIHBhcnNlZFVybCA9IHVybFJlc29sdmUoYWJzb2x1dGVVcmwsIGFwcEJhc2UpOwoKICBsb2NhdGlvbk9iai4kJHByb3RvY29sID0gcGFyc2VkVXJsLnByb3RvY29sOwogIGxvY2F0aW9uT2JqLiQkaG9zdCA9IHBhcnNlZFVybC5ob3N0bmFtZTsKICBsb2NhdGlvbk9iai4kJHBvcnQgPSBpbnQocGFyc2VkVXJsLnBvcnQpIHx8IERFRkFVTFRfUE9SVFNbcGFyc2VkVXJsLnByb3RvY29sXSB8fCBudWxsOwp9CgoKZnVuY3Rpb24gcGFyc2VBcHBVcmwocmVsYXRpdmVVcmwsIGxvY2F0aW9uT2JqLCBhcHBCYXNlKSB7CiAgdmFyIHByZWZpeGVkID0gKHJlbGF0aXZlVXJsLmNoYXJBdCgwKSAhPT0gJy8nKTsKICBpZiAocHJlZml4ZWQpIHsKICAgIHJlbGF0aXZlVXJsID0gJy8nICsgcmVsYXRpdmVVcmw7CiAgfQogIHZhciBtYXRjaCA9IHVybFJlc29sdmUocmVsYXRpdmVVcmwsIGFwcEJhc2UpOwogIGxvY2F0aW9uT2JqLiQkcGF0aCA9IGRlY29kZVVSSUNvbXBvbmVudChwcmVmaXhlZCAmJiBtYXRjaC5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJyA/CiAgICAgIG1hdGNoLnBhdGhuYW1lLnN1YnN0cmluZygxKSA6IG1hdGNoLnBhdGhuYW1lKTsKICBsb2NhdGlvbk9iai4kJHNlYXJjaCA9IHBhcnNlS2V5VmFsdWUobWF0Y2guc2VhcmNoKTsKICBsb2NhdGlvbk9iai4kJGhhc2ggPSBkZWNvZGVVUklDb21wb25lbnQobWF0Y2guaGFzaCk7CgogIC8vIG1ha2Ugc3VyZSBwYXRoIHN0YXJ0cyB3aXRoICcvJzsKICBpZiAobG9jYXRpb25PYmouJCRwYXRoICYmIGxvY2F0aW9uT2JqLiQkcGF0aC5jaGFyQXQoMCkgIT0gJy8nKSB7CiAgICBsb2NhdGlvbk9iai4kJHBhdGggPSAnLycgKyBsb2NhdGlvbk9iai4kJHBhdGg7CiAgfQp9CgoKLyoqCiAqCiAqIEBwYXJhbSB7c3RyaW5nfSBiZWdpbgogKiBAcGFyYW0ge3N0cmluZ30gd2hvbGUKICogQHJldHVybnMge3N0cmluZ30gcmV0dXJucyB0ZXh0IGZyb20gd2hvbGUgYWZ0ZXIgYmVnaW4gb3IgdW5kZWZpbmVkIGlmIGl0IGRvZXMgbm90IGJlZ2luIHdpdGgKICogICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQgc3RyaW5nLgogKi8KZnVuY3Rpb24gYmVnaW5zV2l0aChiZWdpbiwgd2hvbGUpIHsKICBpZiAod2hvbGUuaW5kZXhPZihiZWdpbikgPT09IDApIHsKICAgIHJldHVybiB3aG9sZS5zdWJzdHIoYmVnaW4ubGVuZ3RoKTsKICB9Cn0KCgpmdW5jdGlvbiBzdHJpcEhhc2godXJsKSB7CiAgdmFyIGluZGV4ID0gdXJsLmluZGV4T2YoJyMnKTsKICByZXR1cm4gaW5kZXggPT0gLTEgPyB1cmwgOiB1cmwuc3Vic3RyKDAsIGluZGV4KTsKfQoKCmZ1bmN0aW9uIHN0cmlwRmlsZSh1cmwpIHsKICByZXR1cm4gdXJsLnN1YnN0cigwLCBzdHJpcEhhc2godXJsKS5sYXN0SW5kZXhPZignLycpICsgMSk7Cn0KCi8qIHJldHVybiB0aGUgc2VydmVyIG9ubHkgKHNjaGVtZTovL2hvc3Q6cG9ydCkgKi8KZnVuY3Rpb24gc2VydmVyQmFzZSh1cmwpIHsKICByZXR1cm4gdXJsLnN1YnN0cmluZygwLCB1cmwuaW5kZXhPZignLycsIHVybC5pbmRleE9mKCcvLycpICsgMikpOwp9CgoKLyoqCiAqIExvY2F0aW9uSHRtbDVVcmwgcmVwcmVzZW50cyBhbiB1cmwKICogVGhpcyBvYmplY3QgaXMgZXhwb3NlZCBhcyAkbG9jYXRpb24gc2VydmljZSB3aGVuIEhUTUw1IG1vZGUgaXMgZW5hYmxlZCBhbmQgc3VwcG9ydGVkCiAqCiAqIEBjb25zdHJ1Y3RvcgogKiBAcGFyYW0ge3N0cmluZ30gYXBwQmFzZSBhcHBsaWNhdGlvbiBiYXNlIFVSTAogKiBAcGFyYW0ge3N0cmluZ30gYmFzZVByZWZpeCB1cmwgcGF0aCBwcmVmaXgKICovCmZ1bmN0aW9uIExvY2F0aW9uSHRtbDVVcmwoYXBwQmFzZSwgYmFzZVByZWZpeCkgewogIHRoaXMuJCRodG1sNSA9IHRydWU7CiAgYmFzZVByZWZpeCA9IGJhc2VQcmVmaXggfHwgJyc7CiAgdmFyIGFwcEJhc2VOb0ZpbGUgPSBzdHJpcEZpbGUoYXBwQmFzZSk7CiAgcGFyc2VBYnNvbHV0ZVVybChhcHBCYXNlLCB0aGlzLCBhcHBCYXNlKTsKCgogIC8qKgogICAqIFBhcnNlIGdpdmVuIGh0bWw1IChyZWd1bGFyKSB1cmwgc3RyaW5nIGludG8gcHJvcGVydGllcwogICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdBYnNvbHV0ZVVybCBIVE1MNSB1cmwKICAgKiBAcHJpdmF0ZQogICAqLwogIHRoaXMuJCRwYXJzZSA9IGZ1bmN0aW9uKHVybCkgewogICAgdmFyIHBhdGhVcmwgPSBiZWdpbnNXaXRoKGFwcEJhc2VOb0ZpbGUsIHVybCk7CiAgICBpZiAoIWlzU3RyaW5nKHBhdGhVcmwpKSB7CiAgICAgIHRocm93ICRsb2NhdGlvbk1pbkVycignaXB0aHByZngnLCAnSW52YWxpZCB1cmwgInswfSIsIG1pc3NpbmcgcGF0aCBwcmVmaXggInsxfSIuJywgdXJsLAogICAgICAgICAgYXBwQmFzZU5vRmlsZSk7CiAgICB9CgogICAgcGFyc2VBcHBVcmwocGF0aFVybCwgdGhpcywgYXBwQmFzZSk7CgogICAgaWYgKCF0aGlzLiQkcGF0aCkgewogICAgICB0aGlzLiQkcGF0aCA9ICcvJzsKICAgIH0KCiAgICB0aGlzLiQkY29tcG9zZSgpOwogIH07CgogIC8qKgogICAqIENvbXBvc2UgdXJsIGFuZCB1cGRhdGUgYGFic1VybGAgcHJvcGVydHkKICAgKiBAcHJpdmF0ZQogICAqLwogIHRoaXMuJCRjb21wb3NlID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgc2VhcmNoID0gdG9LZXlWYWx1ZSh0aGlzLiQkc2VhcmNoKSwKICAgICAgICBoYXNoID0gdGhpcy4kJGhhc2ggPyAnIycgKyBlbmNvZGVVcmlTZWdtZW50KHRoaXMuJCRoYXNoKSA6ICcnOwoKICAgIHRoaXMuJCR1cmwgPSBlbmNvZGVQYXRoKHRoaXMuJCRwYXRoKSArIChzZWFyY2ggPyAnPycgKyBzZWFyY2ggOiAnJykgKyBoYXNoOwogICAgdGhpcy4kJGFic1VybCA9IGFwcEJhc2VOb0ZpbGUgKyB0aGlzLiQkdXJsLnN1YnN0cigxKTsgLy8gZmlyc3QgY2hhciBpcyBhbHdheXMgJy8nCiAgfTsKCiAgdGhpcy4kJHJld3JpdGUgPSBmdW5jdGlvbih1cmwpIHsKICAgIHZhciBhcHBVcmwsIHByZXZBcHBVcmw7CgogICAgaWYgKCAoYXBwVXJsID0gYmVnaW5zV2l0aChhcHBCYXNlLCB1cmwpKSAhPT0gdW5kZWZpbmVkICkgewogICAgICBwcmV2QXBwVXJsID0gYXBwVXJsOwogICAgICBpZiAoIChhcHBVcmwgPSBiZWdpbnNXaXRoKGJhc2VQcmVmaXgsIGFwcFVybCkpICE9PSB1bmRlZmluZWQgKSB7CiAgICAgICAgcmV0dXJuIGFwcEJhc2VOb0ZpbGUgKyAoYmVnaW5zV2l0aCgnLycsIGFwcFVybCkgfHwgYXBwVXJsKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gYXBwQmFzZSArIHByZXZBcHBVcmw7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAoIChhcHBVcmwgPSBiZWdpbnNXaXRoKGFwcEJhc2VOb0ZpbGUsIHVybCkpICE9PSB1bmRlZmluZWQgKSB7CiAgICAgIHJldHVybiBhcHBCYXNlTm9GaWxlICsgYXBwVXJsOwogICAgfSBlbHNlIGlmIChhcHBCYXNlTm9GaWxlID09IHVybCArICcvJykgewogICAgICByZXR1cm4gYXBwQmFzZU5vRmlsZTsKICAgIH0KICB9Owp9CgoKLyoqCiAqIExvY2F0aW9uSGFzaGJhbmdVcmwgcmVwcmVzZW50cyB1cmwKICogVGhpcyBvYmplY3QgaXMgZXhwb3NlZCBhcyAkbG9jYXRpb24gc2VydmljZSB3aGVuIGRldmVsb3BlciBkb2Vzbid0IG9wdCBpbnRvIGh0bWw1IG1vZGUuCiAqIEl0IGFsc28gc2VydmVzIGFzIHRoZSBiYXNlIGNsYXNzIGZvciBodG1sNSBtb2RlIGZhbGxiYWNrIG9uIGxlZ2FjeSBicm93c2Vycy4KICoKICogQGNvbnN0cnVjdG9yCiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBCYXNlIGFwcGxpY2F0aW9uIGJhc2UgVVJMCiAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoUHJlZml4IGhhc2hiYW5nIHByZWZpeAogKi8KZnVuY3Rpb24gTG9jYXRpb25IYXNoYmFuZ1VybChhcHBCYXNlLCBoYXNoUHJlZml4KSB7CiAgdmFyIGFwcEJhc2VOb0ZpbGUgPSBzdHJpcEZpbGUoYXBwQmFzZSk7CgogIHBhcnNlQWJzb2x1dGVVcmwoYXBwQmFzZSwgdGhpcywgYXBwQmFzZSk7CgoKICAvKioKICAgKiBQYXJzZSBnaXZlbiBoYXNoYmFuZyB1cmwgaW50byBwcm9wZXJ0aWVzCiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBIYXNoYmFuZyB1cmwKICAgKiBAcHJpdmF0ZQogICAqLwogIHRoaXMuJCRwYXJzZSA9IGZ1bmN0aW9uKHVybCkgewogICAgdmFyIHdpdGhvdXRCYXNlVXJsID0gYmVnaW5zV2l0aChhcHBCYXNlLCB1cmwpIHx8IGJlZ2luc1dpdGgoYXBwQmFzZU5vRmlsZSwgdXJsKTsKICAgIHZhciB3aXRob3V0SGFzaFVybCA9IHdpdGhvdXRCYXNlVXJsLmNoYXJBdCgwKSA9PSAnIycKICAgICAgICA/IGJlZ2luc1dpdGgoaGFzaFByZWZpeCwgd2l0aG91dEJhc2VVcmwpCiAgICAgICAgOiAodGhpcy4kJGh0bWw1KQogICAgICAgICAgPyB3aXRob3V0QmFzZVVybAogICAgICAgICAgOiAnJzsKCiAgICBpZiAoIWlzU3RyaW5nKHdpdGhvdXRIYXNoVXJsKSkgewogICAgICB0aHJvdyAkbG9jYXRpb25NaW5FcnIoJ2loc2hwcmZ4JywgJ0ludmFsaWQgdXJsICJ7MH0iLCBtaXNzaW5nIGhhc2ggcHJlZml4ICJ7MX0iLicsIHVybCwKICAgICAgICAgIGhhc2hQcmVmaXgpOwogICAgfQogICAgcGFyc2VBcHBVcmwod2l0aG91dEhhc2hVcmwsIHRoaXMsIGFwcEJhc2UpOwoKICAgIHRoaXMuJCRwYXRoID0gcmVtb3ZlV2luZG93c0RyaXZlTmFtZSh0aGlzLiQkcGF0aCwgd2l0aG91dEhhc2hVcmwsIGFwcEJhc2UpOwoKICAgIHRoaXMuJCRjb21wb3NlKCk7CgogICAgLyoKICAgICAqIEluIFdpbmRvd3MsIG9uIGFuIGFuY2hvciBub2RlIG9uIGRvY3VtZW50cyBsb2FkZWQgZnJvbQogICAgICogdGhlIGZpbGVzeXN0ZW0sIHRoZSBicm93c2VyIHdpbGwgcmV0dXJuIGEgcGF0aG5hbWUKICAgICAqIHByZWZpeGVkIHdpdGggdGhlIGRyaXZlIG5hbWUgKCcvQzovcGF0aCcpIHdoZW4gYQogICAgICogcGF0aG5hbWUgd2l0aG91dCBhIGRyaXZlIGlzIHNldDoKICAgICAqICAqIGEuc2V0QXR0cmlidXRlKCdocmVmJywgJy9mb28nKQogICAgICogICAqIGEucGF0aG5hbWUgPT09ICcvQzovZm9vJyAvL3RydWUKICAgICAqCiAgICAgKiBJbnNpZGUgb2YgQW5ndWxhciwgd2UncmUgYWx3YXlzIHVzaW5nIHBhdGhuYW1lcyB0aGF0CiAgICAgKiBkbyBub3QgaW5jbHVkZSBkcml2ZSBuYW1lcyBmb3Igcm91dGluZy4KICAgICAqLwogICAgZnVuY3Rpb24gcmVtb3ZlV2luZG93c0RyaXZlTmFtZSAocGF0aCwgdXJsLCBiYXNlKSB7CiAgICAgIC8qCiAgICAgIE1hdGNoZXMgcGF0aHMgZm9yIGZpbGUgcHJvdG9jb2wgb24gd2luZG93cywKICAgICAgc3VjaCBhcyAvQzovZm9vL2JhciwgYW5kIGNhcHR1cmVzIG9ubHkgL2Zvby9iYXIuCiAgICAgICovCiAgICAgIHZhciB3aW5kb3dzRmlsZVBhdGhFeHAgPSAvXlwvW0EtWl06KFwvLiopLzsKCiAgICAgIHZhciBmaXJzdFBhdGhTZWdtZW50TWF0Y2g7CgogICAgICAvL0dldCB0aGUgcmVsYXRpdmUgcGF0aCBmcm9tIHRoZSBpbnB1dCBVUkwuCiAgICAgIGlmICh1cmwuaW5kZXhPZihiYXNlKSA9PT0gMCkgewogICAgICAgIHVybCA9IHVybC5yZXBsYWNlKGJhc2UsICcnKTsKICAgICAgfQoKICAgICAgLy8gVGhlIGlucHV0IFVSTCBpbnRlbnRpb25hbGx5IGNvbnRhaW5zIGEgZmlyc3QgcGF0aCBzZWdtZW50IHRoYXQgZW5kcyB3aXRoIGEgY29sb24uCiAgICAgIGlmICh3aW5kb3dzRmlsZVBhdGhFeHAuZXhlYyh1cmwpKSB7CiAgICAgICAgcmV0dXJuIHBhdGg7CiAgICAgIH0KCiAgICAgIGZpcnN0UGF0aFNlZ21lbnRNYXRjaCA9IHdpbmRvd3NGaWxlUGF0aEV4cC5leGVjKHBhdGgpOwogICAgICByZXR1cm4gZmlyc3RQYXRoU2VnbWVudE1hdGNoID8gZmlyc3RQYXRoU2VnbWVudE1hdGNoWzFdIDogcGF0aDsKICAgIH0KICB9OwoKICAvKioKICAgKiBDb21wb3NlIGhhc2hiYW5nIHVybCBhbmQgdXBkYXRlIGBhYnNVcmxgIHByb3BlcnR5CiAgICogQHByaXZhdGUKICAgKi8KICB0aGlzLiQkY29tcG9zZSA9IGZ1bmN0aW9uKCkgewogICAgdmFyIHNlYXJjaCA9IHRvS2V5VmFsdWUodGhpcy4kJHNlYXJjaCksCiAgICAgICAgaGFzaCA9IHRoaXMuJCRoYXNoID8gJyMnICsgZW5jb2RlVXJpU2VnbWVudCh0aGlzLiQkaGFzaCkgOiAnJzsKCiAgICB0aGlzLiQkdXJsID0gZW5jb2RlUGF0aCh0aGlzLiQkcGF0aCkgKyAoc2VhcmNoID8gJz8nICsgc2VhcmNoIDogJycpICsgaGFzaDsKICAgIHRoaXMuJCRhYnNVcmwgPSBhcHBCYXNlICsgKHRoaXMuJCR1cmwgPyBoYXNoUHJlZml4ICsgdGhpcy4kJHVybCA6ICcnKTsKICB9OwoKICB0aGlzLiQkcmV3cml0ZSA9IGZ1bmN0aW9uKHVybCkgewogICAgaWYoc3RyaXBIYXNoKGFwcEJhc2UpID09IHN0cmlwSGFzaCh1cmwpKSB7CiAgICAgIHJldHVybiB1cmw7CiAgICB9CiAgfTsKfQoKCi8qKgogKiBMb2NhdGlvbkhhc2hiYW5nVXJsIHJlcHJlc2VudHMgdXJsCiAqIFRoaXMgb2JqZWN0IGlzIGV4cG9zZWQgYXMgJGxvY2F0aW9uIHNlcnZpY2Ugd2hlbiBodG1sNSBoaXN0b3J5IGFwaSBpcyBlbmFibGVkIGJ1dCB0aGUgYnJvd3NlcgogKiBkb2VzIG5vdCBzdXBwb3J0IGl0LgogKgogKiBAY29uc3RydWN0b3IKICogQHBhcmFtIHtzdHJpbmd9IGFwcEJhc2UgYXBwbGljYXRpb24gYmFzZSBVUkwKICogQHBhcmFtIHtzdHJpbmd9IGhhc2hQcmVmaXggaGFzaGJhbmcgcHJlZml4CiAqLwpmdW5jdGlvbiBMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybChhcHBCYXNlLCBoYXNoUHJlZml4KSB7CiAgdGhpcy4kJGh0bWw1ID0gdHJ1ZTsKICBMb2NhdGlvbkhhc2hiYW5nVXJsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CgogIHZhciBhcHBCYXNlTm9GaWxlID0gc3RyaXBGaWxlKGFwcEJhc2UpOwoKICB0aGlzLiQkcmV3cml0ZSA9IGZ1bmN0aW9uKHVybCkgewogICAgdmFyIGFwcFVybDsKCiAgICBpZiAoIGFwcEJhc2UgPT0gc3RyaXBIYXNoKHVybCkgKSB7CiAgICAgIHJldHVybiB1cmw7CiAgICB9IGVsc2UgaWYgKCAoYXBwVXJsID0gYmVnaW5zV2l0aChhcHBCYXNlTm9GaWxlLCB1cmwpKSApIHsKICAgICAgcmV0dXJuIGFwcEJhc2UgKyBoYXNoUHJlZml4ICsgYXBwVXJsOwogICAgfSBlbHNlIGlmICggYXBwQmFzZU5vRmlsZSA9PT0gdXJsICsgJy8nKSB7CiAgICAgIHJldHVybiBhcHBCYXNlTm9GaWxlOwogICAgfQogIH07CgogIHRoaXMuJCRjb21wb3NlID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgc2VhcmNoID0gdG9LZXlWYWx1ZSh0aGlzLiQkc2VhcmNoKSwKICAgICAgICBoYXNoID0gdGhpcy4kJGhhc2ggPyAnIycgKyBlbmNvZGVVcmlTZWdtZW50KHRoaXMuJCRoYXNoKSA6ICcnOwoKICAgIHRoaXMuJCR1cmwgPSBlbmNvZGVQYXRoKHRoaXMuJCRwYXRoKSArIChzZWFyY2ggPyAnPycgKyBzZWFyY2ggOiAnJykgKyBoYXNoOwogICAgLy8gaW5jbHVkZSBoYXNoUHJlZml4IGluICQkYWJzVXJsIHdoZW4gJCR1cmwgaXMgZW1wdHkgc28gSUU4ICYgOSBkbyBub3QgcmVsb2FkIHBhZ2UgYmVjYXVzZSBvZiByZW1vdmFsIG9mICcjJwogICAgdGhpcy4kJGFic1VybCA9IGFwcEJhc2UgKyBoYXNoUHJlZml4ICsgdGhpcy4kJHVybDsKICB9OwoKfQoKCkxvY2F0aW9uSGFzaGJhbmdJbkh0bWw1VXJsLnByb3RvdHlwZSA9CiAgTG9jYXRpb25IYXNoYmFuZ1VybC5wcm90b3R5cGUgPQogIExvY2F0aW9uSHRtbDVVcmwucHJvdG90eXBlID0gewoKICAvKioKICAgKiBBcmUgd2UgaW4gaHRtbDUgbW9kZT8KICAgKiBAcHJpdmF0ZQogICAqLwogICQkaHRtbDU6IGZhbHNlLAoKICAvKioKICAgKiBIYXMgYW55IGNoYW5nZSBiZWVuIHJlcGxhY2luZyA/CiAgICogQHByaXZhdGUKICAgKi8KICAkJHJlcGxhY2U6IGZhbHNlLAoKICAvKioKICAgKiBAbmdkb2MgbWV0aG9kCiAgICogQG5hbWUgJGxvY2F0aW9uI2Fic1VybAogICAqCiAgICogQGRlc2NyaXB0aW9uCiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIG9ubHkuCiAgICoKICAgKiBSZXR1cm4gZnVsbCB1cmwgcmVwcmVzZW50YXRpb24gd2l0aCBhbGwgc2VnbWVudHMgZW5jb2RlZCBhY2NvcmRpbmcgdG8gcnVsZXMgc3BlY2lmaWVkIGluCiAgICogW1JGQyAzOTg2XShodHRwOi8vd3d3LmlldGYub3JnL3JmYy9yZmMzOTg2LnR4dCkuCiAgICoKICAgKiBAcmV0dXJuIHtzdHJpbmd9IGZ1bGwgdXJsCiAgICovCiAgYWJzVXJsOiBsb2NhdGlvbkdldHRlcignJCRhYnNVcmwnKSwKCiAgLyoqCiAgICogQG5nZG9jIG1ldGhvZAogICAqIEBuYW1lICRsb2NhdGlvbiN1cmwKICAgKgogICAqIEBkZXNjcmlwdGlvbgogICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciAvIHNldHRlci4KICAgKgogICAqIFJldHVybiB1cmwgKGUuZy4gYC9wYXRoP2E9YiNoYXNoYCkgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVyLgogICAqCiAgICogQ2hhbmdlIHBhdGgsIHNlYXJjaCBhbmQgaGFzaCwgd2hlbiBjYWxsZWQgd2l0aCBwYXJhbWV0ZXIgYW5kIHJldHVybiBgJGxvY2F0aW9uYC4KICAgKgogICAqIEBwYXJhbSB7c3RyaW5nPX0gdXJsIE5ldyB1cmwgd2l0aG91dCBiYXNlIHByZWZpeCAoZS5nLiBgL3BhdGg/YT1iI2hhc2hgKQogICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVwbGFjZSBUaGUgcGF0aCB0aGF0IHdpbGwgYmUgY2hhbmdlZAogICAqIEByZXR1cm4ge3N0cmluZ30gdXJsCiAgICovCiAgdXJsOiBmdW5jdGlvbih1cmwsIHJlcGxhY2UpIHsKICAgIGlmIChpc1VuZGVmaW5lZCh1cmwpKQogICAgICByZXR1cm4gdGhpcy4kJHVybDsKCiAgICB2YXIgbWF0Y2ggPSBQQVRIX01BVENILmV4ZWModXJsKTsKICAgIGlmIChtYXRjaFsxXSkgdGhpcy5wYXRoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpOwogICAgaWYgKG1hdGNoWzJdIHx8IG1hdGNoWzFdKSB0aGlzLnNlYXJjaChtYXRjaFszXSB8fCAnJyk7CiAgICB0aGlzLmhhc2gobWF0Y2hbNV0gfHwgJycsIHJlcGxhY2UpOwoKICAgIHJldHVybiB0aGlzOwogIH0sCgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSAkbG9jYXRpb24jcHJvdG9jb2wKICAgKgogICAqIEBkZXNjcmlwdGlvbgogICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciBvbmx5LgogICAqCiAgICogUmV0dXJuIHByb3RvY29sIG9mIGN1cnJlbnQgdXJsLgogICAqCiAgICogQHJldHVybiB7c3RyaW5nfSBwcm90b2NvbCBvZiBjdXJyZW50IHVybAogICAqLwogIHByb3RvY29sOiBsb2NhdGlvbkdldHRlcignJCRwcm90b2NvbCcpLAoKICAvKioKICAgKiBAbmdkb2MgbWV0aG9kCiAgICogQG5hbWUgJGxvY2F0aW9uI2hvc3QKICAgKgogICAqIEBkZXNjcmlwdGlvbgogICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciBvbmx5LgogICAqCiAgICogUmV0dXJuIGhvc3Qgb2YgY3VycmVudCB1cmwuCiAgICoKICAgKiBAcmV0dXJuIHtzdHJpbmd9IGhvc3Qgb2YgY3VycmVudCB1cmwuCiAgICovCiAgaG9zdDogbG9jYXRpb25HZXR0ZXIoJyQkaG9zdCcpLAoKICAvKioKICAgKiBAbmdkb2MgbWV0aG9kCiAgICogQG5hbWUgJGxvY2F0aW9uI3BvcnQKICAgKgogICAqIEBkZXNjcmlwdGlvbgogICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciBvbmx5LgogICAqCiAgICogUmV0dXJuIHBvcnQgb2YgY3VycmVudCB1cmwuCiAgICoKICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHBvcnQKICAgKi8KICBwb3J0OiBsb2NhdGlvbkdldHRlcignJCRwb3J0JyksCgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSAkbG9jYXRpb24jcGF0aAogICAqCiAgICogQGRlc2NyaXB0aW9uCiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIC8gc2V0dGVyLgogICAqCiAgICogUmV0dXJuIHBhdGggb2YgY3VycmVudCB1cmwgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVyLgogICAqCiAgICogQ2hhbmdlIHBhdGggd2hlbiBjYWxsZWQgd2l0aCBwYXJhbWV0ZXIgYW5kIHJldHVybiBgJGxvY2F0aW9uYC4KICAgKgogICAqIE5vdGU6IFBhdGggc2hvdWxkIGFsd2F5cyBiZWdpbiB3aXRoIGZvcndhcmQgc2xhc2ggKC8pLCB0aGlzIG1ldGhvZCB3aWxsIGFkZCB0aGUgZm9yd2FyZCBzbGFzaAogICAqIGlmIGl0IGlzIG1pc3NpbmcuCiAgICoKICAgKiBAcGFyYW0ge3N0cmluZz19IHBhdGggTmV3IHBhdGgKICAgKiBAcmV0dXJuIHtzdHJpbmd9IHBhdGgKICAgKi8KICBwYXRoOiBsb2NhdGlvbkdldHRlclNldHRlcignJCRwYXRoJywgZnVuY3Rpb24ocGF0aCkgewogICAgcmV0dXJuIHBhdGguY2hhckF0KDApID09ICcvJyA/IHBhdGggOiAnLycgKyBwYXRoOwogIH0pLAoKICAvKioKICAgKiBAbmdkb2MgbWV0aG9kCiAgICogQG5hbWUgJGxvY2F0aW9uI3NlYXJjaAogICAqCiAgICogQGRlc2NyaXB0aW9uCiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIC8gc2V0dGVyLgogICAqCiAgICogUmV0dXJuIHNlYXJjaCBwYXJ0IChhcyBvYmplY3QpIG9mIGN1cnJlbnQgdXJsIHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlci4KICAgKgogICAqIENoYW5nZSBzZWFyY2ggcGFydCB3aGVuIGNhbGxlZCB3aXRoIHBhcmFtZXRlciBhbmQgcmV0dXJuIGAkbG9jYXRpb25gLgogICAqCiAgICoKICAgKiBgYGBqcwogICAqIC8vIGdpdmVuIHVybCBodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94bwogICAqIHZhciBzZWFyY2hPYmplY3QgPSAkbG9jYXRpb24uc2VhcmNoKCk7CiAgICogLy8gPT4ge2ZvbzogJ2JhcicsIGJhejogJ3hveG8nfQogICAqCiAgICoKICAgKiAvLyBzZXQgZm9vIHRvICd5aXBlZScKICAgKiAkbG9jYXRpb24uc2VhcmNoKCdmb28nLCAneWlwZWUnKTsKICAgKiAvLyA9PiAkbG9jYXRpb24KICAgKiBgYGAKICAgKgogICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdC48c3RyaW5nPnxPYmplY3QuPEFycmF5LjxzdHJpbmc+Pn0gc2VhcmNoIE5ldyBzZWFyY2ggcGFyYW1zIC0gc3RyaW5nIG9yCiAgICogaGFzaCBvYmplY3QuCiAgICoKICAgKiBXaGVuIGNhbGxlZCB3aXRoIGEgc2luZ2xlIGFyZ3VtZW50IHRoZSBtZXRob2QgYWN0cyBhcyBhIHNldHRlciwgc2V0dGluZyB0aGUgYHNlYXJjaGAgY29tcG9uZW50CiAgICogb2YgYCRsb2NhdGlvbmAgdG8gdGhlIHNwZWNpZmllZCB2YWx1ZS4KICAgKgogICAqIElmIHRoZSBhcmd1bWVudCBpcyBhIGhhc2ggb2JqZWN0IGNvbnRhaW5pbmcgYW4gYXJyYXkgb2YgdmFsdWVzLCB0aGVzZSB2YWx1ZXMgd2lsbCBiZSBlbmNvZGVkCiAgICogYXMgZHVwbGljYXRlIHNlYXJjaCBwYXJhbWV0ZXJzIGluIHRoZSB1cmwuCiAgICoKICAgKiBAcGFyYW0geyhzdHJpbmd8QXJyYXk8c3RyaW5nPik9fSBwYXJhbVZhbHVlIElmIGBzZWFyY2hgIGlzIGEgc3RyaW5nLCB0aGVuIGBwYXJhbVZhbHVlYCB3aWxsCiAgICogb3ZlcnJpZGUgb25seSBhIHNpbmdsZSBzZWFyY2ggcHJvcGVydHkuCiAgICoKICAgKiBJZiBgcGFyYW1WYWx1ZWAgaXMgYW4gYXJyYXksIGl0IHdpbGwgb3ZlcnJpZGUgdGhlIHByb3BlcnR5IG9mIHRoZSBgc2VhcmNoYCBjb21wb25lbnQgb2YKICAgKiBgJGxvY2F0aW9uYCBzcGVjaWZpZWQgdmlhIHRoZSBmaXJzdCBhcmd1bWVudC4KICAgKgogICAqIElmIGBwYXJhbVZhbHVlYCBpcyBgbnVsbGAsIHRoZSBwcm9wZXJ0eSBzcGVjaWZpZWQgdmlhIHRoZSBmaXJzdCBhcmd1bWVudCB3aWxsIGJlIGRlbGV0ZWQuCiAgICoKICAgKiBAcmV0dXJuIHtPYmplY3R9IElmIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50cyByZXR1cm5zIHRoZSBwYXJzZWQgYHNlYXJjaGAgb2JqZWN0LiBJZiBjYWxsZWQgd2l0aAogICAqIG9uZSBvciBtb3JlIGFyZ3VtZW50cyByZXR1cm5zIGAkbG9jYXRpb25gIG9iamVjdCBpdHNlbGYuCiAgICovCiAgc2VhcmNoOiBmdW5jdGlvbihzZWFyY2gsIHBhcmFtVmFsdWUpIHsKICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkgewogICAgICBjYXNlIDA6CiAgICAgICAgcmV0dXJuIHRoaXMuJCRzZWFyY2g7CiAgICAgIGNhc2UgMToKICAgICAgICBpZiAoaXNTdHJpbmcoc2VhcmNoKSkgewogICAgICAgICAgdGhpcy4kJHNlYXJjaCA9IHBhcnNlS2V5VmFsdWUoc2VhcmNoKTsKICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHNlYXJjaCkpIHsKICAgICAgICAgIHRoaXMuJCRzZWFyY2ggPSBzZWFyY2g7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRocm93ICRsb2NhdGlvbk1pbkVycignaXNyY2hhcmcnLAogICAgICAgICAgICAgICdUaGUgZmlyc3QgYXJndW1lbnQgb2YgdGhlIGAkbG9jYXRpb24jc2VhcmNoKClgIGNhbGwgbXVzdCBiZSBhIHN0cmluZyBvciBhbiBvYmplY3QuJyk7CiAgICAgICAgfQogICAgICAgIGJyZWFrOwogICAgICBkZWZhdWx0OgogICAgICAgIGlmIChpc1VuZGVmaW5lZChwYXJhbVZhbHVlKSB8fCBwYXJhbVZhbHVlID09PSBudWxsKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy4kJHNlYXJjaFtzZWFyY2hdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiQkc2VhcmNoW3NlYXJjaF0gPSBwYXJhbVZhbHVlOwogICAgICAgIH0KICAgIH0KCiAgICB0aGlzLiQkY29tcG9zZSgpOwogICAgcmV0dXJuIHRoaXM7CiAgfSwKCiAgLyoqCiAgICogQG5nZG9jIG1ldGhvZAogICAqIEBuYW1lICRsb2NhdGlvbiNoYXNoCiAgICoKICAgKiBAZGVzY3JpcHRpb24KICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgLyBzZXR0ZXIuCiAgICoKICAgKiBSZXR1cm4gaGFzaCBmcmFnbWVudCB3aGVuIGNhbGxlZCB3aXRob3V0IGFueSBwYXJhbWV0ZXIuCiAgICoKICAgKiBDaGFuZ2UgaGFzaCBmcmFnbWVudCB3aGVuIGNhbGxlZCB3aXRoIHBhcmFtZXRlciBhbmQgcmV0dXJuIGAkbG9jYXRpb25gLgogICAqCiAgICogQHBhcmFtIHtzdHJpbmc9fSBoYXNoIE5ldyBoYXNoIGZyYWdtZW50CiAgICogQHJldHVybiB7c3RyaW5nfSBoYXNoCiAgICovCiAgaGFzaDogbG9jYXRpb25HZXR0ZXJTZXR0ZXIoJyQkaGFzaCcsIGlkZW50aXR5KSwKCiAgLyoqCiAgICogQG5nZG9jIG1ldGhvZAogICAqIEBuYW1lICRsb2NhdGlvbiNyZXBsYWNlCiAgICoKICAgKiBAZGVzY3JpcHRpb24KICAgKiBJZiBjYWxsZWQsIGFsbCBjaGFuZ2VzIHRvICRsb2NhdGlvbiBkdXJpbmcgY3VycmVudCBgJGRpZ2VzdGAgd2lsbCBiZSByZXBsYWNpbmcgY3VycmVudCBoaXN0b3J5CiAgICogcmVjb3JkLCBpbnN0ZWFkIG9mIGFkZGluZyBuZXcgb25lLgogICAqLwogIHJlcGxhY2U6IGZ1bmN0aW9uKCkgewogICAgdGhpcy4kJHJlcGxhY2UgPSB0cnVlOwogICAgcmV0dXJuIHRoaXM7CiAgfQp9OwoKZnVuY3Rpb24gbG9jYXRpb25HZXR0ZXIocHJvcGVydHkpIHsKICByZXR1cm4gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpc1twcm9wZXJ0eV07CiAgfTsKfQoKCmZ1bmN0aW9uIGxvY2F0aW9uR2V0dGVyU2V0dGVyKHByb3BlcnR5LCBwcmVwcm9jZXNzKSB7CiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7CiAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKQogICAgICByZXR1cm4gdGhpc1twcm9wZXJ0eV07CgogICAgdGhpc1twcm9wZXJ0eV0gPSBwcmVwcm9jZXNzKHZhbHVlKTsKICAgIHRoaXMuJCRjb21wb3NlKCk7CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKfQoKCi8qKgogKiBAbmdkb2Mgc2VydmljZQogKiBAbmFtZSAkbG9jYXRpb24KICoKICogQHJlcXVpcmVzICRyb290RWxlbWVudAogKgogKiBAZGVzY3JpcHRpb24KICogVGhlICRsb2NhdGlvbiBzZXJ2aWNlIHBhcnNlcyB0aGUgVVJMIGluIHRoZSBicm93c2VyIGFkZHJlc3MgYmFyIChiYXNlZCBvbiB0aGUKICogW3dpbmRvdy5sb2NhdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vd2luZG93LmxvY2F0aW9uKSkgYW5kIG1ha2VzIHRoZSBVUkwKICogYXZhaWxhYmxlIHRvIHlvdXIgYXBwbGljYXRpb24uIENoYW5nZXMgdG8gdGhlIFVSTCBpbiB0aGUgYWRkcmVzcyBiYXIgYXJlIHJlZmxlY3RlZCBpbnRvCiAqICRsb2NhdGlvbiBzZXJ2aWNlIGFuZCBjaGFuZ2VzIHRvICRsb2NhdGlvbiBhcmUgcmVmbGVjdGVkIGludG8gdGhlIGJyb3dzZXIgYWRkcmVzcyBiYXIuCiAqCiAqICoqVGhlICRsb2NhdGlvbiBzZXJ2aWNlOioqCiAqCiAqIC0gRXhwb3NlcyB0aGUgY3VycmVudCBVUkwgaW4gdGhlIGJyb3dzZXIgYWRkcmVzcyBiYXIsIHNvIHlvdSBjYW4KICogICAtIFdhdGNoIGFuZCBvYnNlcnZlIHRoZSBVUkwuCiAqICAgLSBDaGFuZ2UgdGhlIFVSTC4KICogLSBTeW5jaHJvbml6ZXMgdGhlIFVSTCB3aXRoIHRoZSBicm93c2VyIHdoZW4gdGhlIHVzZXIKICogICAtIENoYW5nZXMgdGhlIGFkZHJlc3MgYmFyLgogKiAgIC0gQ2xpY2tzIHRoZSBiYWNrIG9yIGZvcndhcmQgYnV0dG9uIChvciBjbGlja3MgYSBIaXN0b3J5IGxpbmspLgogKiAgIC0gQ2xpY2tzIG9uIGEgbGluay4KICogLSBSZXByZXNlbnRzIHRoZSBVUkwgb2JqZWN0IGFzIGEgc2V0IG9mIG1ldGhvZHMgKHByb3RvY29sLCBob3N0LCBwb3J0LCBwYXRoLCBzZWFyY2gsIGhhc2gpLgogKgogKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBzZWUge0BsaW5rIGd1aWRlLyRsb2NhdGlvbiBEZXZlbG9wZXIgR3VpZGU6IFVzaW5nICRsb2NhdGlvbn0KICovCgovKioKICogQG5nZG9jIHByb3ZpZGVyCiAqIEBuYW1lICRsb2NhdGlvblByb3ZpZGVyCiAqIEBkZXNjcmlwdGlvbgogKiBVc2UgdGhlIGAkbG9jYXRpb25Qcm92aWRlcmAgdG8gY29uZmlndXJlIGhvdyB0aGUgYXBwbGljYXRpb24gZGVlcCBsaW5raW5nIHBhdGhzIGFyZSBzdG9yZWQuCiAqLwpmdW5jdGlvbiAkTG9jYXRpb25Qcm92aWRlcigpewogIHZhciBoYXNoUHJlZml4ID0gJycsCiAgICAgIGh0bWw1TW9kZSA9IGZhbHNlOwoKICAvKioKICAgKiBAbmdkb2MgbWV0aG9kCiAgICogQG5hbWUgJGxvY2F0aW9uUHJvdmlkZXIjaGFzaFByZWZpeAogICAqIEBkZXNjcmlwdGlvbgogICAqIEBwYXJhbSB7c3RyaW5nPX0gcHJlZml4IFByZWZpeCBmb3IgaGFzaCBwYXJ0IChjb250YWluaW5nIHBhdGggYW5kIHNlYXJjaCkKICAgKiBAcmV0dXJucyB7Kn0gY3VycmVudCB2YWx1ZSBpZiB1c2VkIGFzIGdldHRlciBvciBpdHNlbGYgKGNoYWluaW5nKSBpZiB1c2VkIGFzIHNldHRlcgogICAqLwogIHRoaXMuaGFzaFByZWZpeCA9IGZ1bmN0aW9uKHByZWZpeCkgewogICAgaWYgKGlzRGVmaW5lZChwcmVmaXgpKSB7CiAgICAgIGhhc2hQcmVmaXggPSBwcmVmaXg7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGhhc2hQcmVmaXg7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogQG5nZG9jIG1ldGhvZAogICAqIEBuYW1lICRsb2NhdGlvblByb3ZpZGVyI2h0bWw1TW9kZQogICAqIEBkZXNjcmlwdGlvbgogICAqIEBwYXJhbSB7Ym9vbGVhbj19IG1vZGUgVXNlIEhUTUw1IHN0cmF0ZWd5IGlmIGF2YWlsYWJsZS4KICAgKiBAcmV0dXJucyB7Kn0gY3VycmVudCB2YWx1ZSBpZiB1c2VkIGFzIGdldHRlciBvciBpdHNlbGYgKGNoYWluaW5nKSBpZiB1c2VkIGFzIHNldHRlcgogICAqLwogIHRoaXMuaHRtbDVNb2RlID0gZnVuY3Rpb24obW9kZSkgewogICAgaWYgKGlzRGVmaW5lZChtb2RlKSkgewogICAgICBodG1sNU1vZGUgPSBtb2RlOwogICAgICByZXR1cm4gdGhpczsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBodG1sNU1vZGU7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogQG5nZG9jIGV2ZW50CiAgICogQG5hbWUgJGxvY2F0aW9uIyRsb2NhdGlvbkNoYW5nZVN0YXJ0CiAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gcm9vdCBzY29wZQogICAqIEBkZXNjcmlwdGlvbgogICAqIEJyb2FkY2FzdGVkIGJlZm9yZSBhIFVSTCB3aWxsIGNoYW5nZS4gVGhpcyBjaGFuZ2UgY2FuIGJlIHByZXZlbnRlZCBieSBjYWxsaW5nCiAgICogYHByZXZlbnREZWZhdWx0YCBtZXRob2Qgb2YgdGhlIGV2ZW50LiBTZWUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9ufSBmb3IgbW9yZQogICAqIGRldGFpbHMgYWJvdXQgZXZlbnQgb2JqZWN0LiBVcG9uIHN1Y2Nlc3NmdWwgY2hhbmdlCiAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiNldmVudHNfJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcyAkbG9jYXRpb25DaGFuZ2VTdWNjZXNzfSBpcyBmaXJlZC4KICAgKgogICAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC4KICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3VXJsIE5ldyBVUkwKICAgKiBAcGFyYW0ge3N0cmluZz19IG9sZFVybCBVUkwgdGhhdCB3YXMgYmVmb3JlIGl0IHdhcyBjaGFuZ2VkLgogICAqLwoKICAvKioKICAgKiBAbmdkb2MgZXZlbnQKICAgKiBAbmFtZSAkbG9jYXRpb24jJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcwogICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHJvb3Qgc2NvcGUKICAgKiBAZGVzY3JpcHRpb24KICAgKiBCcm9hZGNhc3RlZCBhZnRlciBhIFVSTCB3YXMgY2hhbmdlZC4KICAgKgogICAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC4KICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3VXJsIE5ldyBVUkwKICAgKiBAcGFyYW0ge3N0cmluZz19IG9sZFVybCBVUkwgdGhhdCB3YXMgYmVmb3JlIGl0IHdhcyBjaGFuZ2VkLgogICAqLwoKICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGJyb3dzZXInLCAnJHNuaWZmZXInLCAnJHJvb3RFbGVtZW50JywKICAgICAgZnVuY3Rpb24oICRyb290U2NvcGUsICAgJGJyb3dzZXIsICAgJHNuaWZmZXIsICAgJHJvb3RFbGVtZW50KSB7CiAgICB2YXIgJGxvY2F0aW9uLAogICAgICAgIExvY2F0aW9uTW9kZSwKICAgICAgICBiYXNlSHJlZiA9ICRicm93c2VyLmJhc2VIcmVmKCksIC8vIGlmIGJhc2VbaHJlZl0gaXMgdW5kZWZpbmVkLCBpdCBkZWZhdWx0cyB0byAnJwogICAgICAgIGluaXRpYWxVcmwgPSAkYnJvd3Nlci51cmwoKSwKICAgICAgICBhcHBCYXNlOwoKICAgIGlmIChodG1sNU1vZGUpIHsKICAgICAgYXBwQmFzZSA9IHNlcnZlckJhc2UoaW5pdGlhbFVybCkgKyAoYmFzZUhyZWYgfHwgJy8nKTsKICAgICAgTG9jYXRpb25Nb2RlID0gJHNuaWZmZXIuaGlzdG9yeSA/IExvY2F0aW9uSHRtbDVVcmwgOiBMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybDsKICAgIH0gZWxzZSB7CiAgICAgIGFwcEJhc2UgPSBzdHJpcEhhc2goaW5pdGlhbFVybCk7CiAgICAgIExvY2F0aW9uTW9kZSA9IExvY2F0aW9uSGFzaGJhbmdVcmw7CiAgICB9CiAgICAkbG9jYXRpb24gPSBuZXcgTG9jYXRpb25Nb2RlKGFwcEJhc2UsICcjJyArIGhhc2hQcmVmaXgpOwogICAgJGxvY2F0aW9uLiQkcGFyc2UoJGxvY2F0aW9uLiQkcmV3cml0ZShpbml0aWFsVXJsKSk7CgogICAgJHJvb3RFbGVtZW50Lm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgIC8vIFRPRE8odm9qdGEpOiByZXdyaXRlIGxpbmsgd2hlbiBvcGVuaW5nIGluIG5ldyB0YWIvd2luZG93IChpbiBsZWdhY3kgYnJvd3NlcikKICAgICAgLy8gY3VycmVudGx5IHdlIG9wZW4gbmljZSB1cmwgbGluayBhbmQgcmVkaXJlY3QgdGhlbgoKICAgICAgaWYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSB8fCBldmVudC53aGljaCA9PSAyKSByZXR1cm47CgogICAgICB2YXIgZWxtID0ganFMaXRlKGV2ZW50LnRhcmdldCk7CgogICAgICAvLyB0cmF2ZXJzZSB0aGUgRE9NIHVwIHRvIGZpbmQgZmlyc3QgQSB0YWcKICAgICAgd2hpbGUgKGxvd2VyY2FzZShlbG1bMF0ubm9kZU5hbWUpICE9PSAnYScpIHsKICAgICAgICAvLyBpZ25vcmUgcmV3cml0aW5nIGlmIG5vIEEgdGFnIChyZWFjaGVkIHJvb3QgZWxlbWVudCwgb3Igbm8gcGFyZW50IC0gcmVtb3ZlZCBmcm9tIGRvY3VtZW50KQogICAgICAgIGlmIChlbG1bMF0gPT09ICRyb290RWxlbWVudFswXSB8fCAhKGVsbSA9IGVsbS5wYXJlbnQoKSlbMF0pIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGFic0hyZWYgPSBlbG0ucHJvcCgnaHJlZicpOwoKICAgICAgaWYgKGlzT2JqZWN0KGFic0hyZWYpICYmIGFic0hyZWYudG9TdHJpbmcoKSA9PT0gJ1tvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddJykgewogICAgICAgIC8vIFNWR0FuaW1hdGVkU3RyaW5nLmFuaW1WYWwgc2hvdWxkIGJlIGlkZW50aWNhbCB0byBTVkdBbmltYXRlZFN0cmluZy5iYXNlVmFsLCB1bmxlc3MgZHVyaW5nCiAgICAgICAgLy8gYW4gYW5pbWF0aW9uLgogICAgICAgIGFic0hyZWYgPSB1cmxSZXNvbHZlKGFic0hyZWYuYW5pbVZhbCkuaHJlZjsKICAgICAgfQoKICAgICAgLy8gTWFrZSByZWxhdGl2ZSBsaW5rcyB3b3JrIGluIEhUTUw1IG1vZGUgZm9yIGxlZ2FjeSBicm93c2VycyAob3IgYXQgbGVhc3QgSUU4ICYgOSkKICAgICAgLy8gVGhlIGhyZWYgc2hvdWxkIGJlIGEgcmVndWxhciB1cmwgZS5nLiAvbGluay9zb21ld2hlcmUgb3IgbGluay9zb21ld2hlcmUgb3IgLi4vc29tZXdoZXJlIG9yCiAgICAgIC8vIHNvbWV3aGVyZSNhbmNob3Igb3IgaHR0cDovL2V4YW1wbGUuY29tL3NvbWV3aGVyZQogICAgICBpZiAoTG9jYXRpb25Nb2RlID09PSBMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybCkgewogICAgICAgIC8vIGdldCB0aGUgYWN0dWFsIGhyZWYgYXR0cmlidXRlIC0gc2VlCiAgICAgICAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2RkMzQ3MTQ4KHY9dnMuODUpLmFzcHgKICAgICAgICB2YXIgaHJlZiA9IGVsbS5hdHRyKCdocmVmJykgfHwgZWxtLmF0dHIoJ3hsaW5rOmhyZWYnKTsKCiAgICAgICAgaWYgKGhyZWYuaW5kZXhPZignOi8vJykgPCAwKSB7ICAgICAgICAgLy8gSWdub3JlIGFic29sdXRlIFVSTHMKICAgICAgICAgIHZhciBwcmVmaXggPSAnIycgKyBoYXNoUHJlZml4OwogICAgICAgICAgaWYgKGhyZWZbMF0gPT0gJy8nKSB7CiAgICAgICAgICAgIC8vIGFic29sdXRlIHBhdGggLSByZXBsYWNlIG9sZCBwYXRoCiAgICAgICAgICAgIGFic0hyZWYgPSBhcHBCYXNlICsgcHJlZml4ICsgaHJlZjsKICAgICAgICAgIH0gZWxzZSBpZiAoaHJlZlswXSA9PSAnIycpIHsKICAgICAgICAgICAgLy8gbG9jYWwgYW5jaG9yCiAgICAgICAgICAgIGFic0hyZWYgPSBhcHBCYXNlICsgcHJlZml4ICsgKCRsb2NhdGlvbi5wYXRoKCkgfHwgJy8nKSArIGhyZWY7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyByZWxhdGl2ZSBwYXRoIC0gam9pbiB3aXRoIGN1cnJlbnQgcGF0aAogICAgICAgICAgICB2YXIgc3RhY2sgPSAkbG9jYXRpb24ucGF0aCgpLnNwbGl0KCIvIiksCiAgICAgICAgICAgICAgcGFydHMgPSBocmVmLnNwbGl0KCIvIik7CiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxwYXJ0cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIGlmIChwYXJ0c1tpXSA9PSAiLiIpCiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICBlbHNlIGlmIChwYXJ0c1tpXSA9PSAiLi4iKQogICAgICAgICAgICAgICAgc3RhY2sucG9wKCk7CiAgICAgICAgICAgICAgZWxzZSBpZiAocGFydHNbaV0ubGVuZ3RoKQogICAgICAgICAgICAgICAgc3RhY2sucHVzaChwYXJ0c1tpXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYWJzSHJlZiA9IGFwcEJhc2UgKyBwcmVmaXggKyBzdGFjay5qb2luKCcvJyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgcmV3cml0dGVuVXJsID0gJGxvY2F0aW9uLiQkcmV3cml0ZShhYnNIcmVmKTsKCiAgICAgIGlmIChhYnNIcmVmICYmICFlbG0uYXR0cigndGFyZ2V0JykgJiYgcmV3cml0dGVuVXJsICYmICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgewogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgaWYgKHJld3JpdHRlblVybCAhPSAkYnJvd3Nlci51cmwoKSkgewogICAgICAgICAgLy8gdXBkYXRlIGxvY2F0aW9uIG1hbnVhbGx5CiAgICAgICAgICAkbG9jYXRpb24uJCRwYXJzZShyZXdyaXR0ZW5VcmwpOwogICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoKTsKICAgICAgICAgIC8vIGhhY2sgdG8gd29yayBhcm91bmQgRkY2IGJ1ZyA2ODQyMDggd2hlbiBzY2VuYXJpbyBydW5uZXIgY2xpY2tzIG9uIGxpbmtzCiAgICAgICAgICB3aW5kb3cuYW5ndWxhclsnZmYtNjg0MjA4LXByZXZlbnREZWZhdWx0J10gPSB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CgoKICAgIC8vIHJld3JpdGUgaGFzaGJhbmcgdXJsIDw+IGh0bWw1IHVybAogICAgaWYgKCRsb2NhdGlvbi5hYnNVcmwoKSAhPSBpbml0aWFsVXJsKSB7CiAgICAgICRicm93c2VyLnVybCgkbG9jYXRpb24uYWJzVXJsKCksIHRydWUpOwogICAgfQoKICAgIC8vIHVwZGF0ZSAkbG9jYXRpb24gd2hlbiAkYnJvd3NlciB1cmwgY2hhbmdlcwogICAgJGJyb3dzZXIub25VcmxDaGFuZ2UoZnVuY3Rpb24obmV3VXJsKSB7CiAgICAgIGlmICgkbG9jYXRpb24uYWJzVXJsKCkgIT0gbmV3VXJsKSB7CiAgICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCkgewogICAgICAgICAgdmFyIG9sZFVybCA9ICRsb2NhdGlvbi5hYnNVcmwoKTsKCiAgICAgICAgICAkbG9jYXRpb24uJCRwYXJzZShuZXdVcmwpOwogICAgICAgICAgaWYgKCRyb290U2NvcGUuJGJyb2FkY2FzdCgnJGxvY2F0aW9uQ2hhbmdlU3RhcnQnLCBuZXdVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZFVybCkuZGVmYXVsdFByZXZlbnRlZCkgewogICAgICAgICAgICAkbG9jYXRpb24uJCRwYXJzZShvbGRVcmwpOwogICAgICAgICAgICAkYnJvd3Nlci51cmwob2xkVXJsKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFmdGVyTG9jYXRpb25DaGFuZ2Uob2xkVXJsKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkgJHJvb3RTY29wZS4kZGlnZXN0KCk7CiAgICAgIH0KICAgIH0pOwoKICAgIC8vIHVwZGF0ZSBicm93c2VyCiAgICB2YXIgY2hhbmdlQ291bnRlciA9IDA7CiAgICAkcm9vdFNjb3BlLiR3YXRjaChmdW5jdGlvbiAkbG9jYXRpb25XYXRjaCgpIHsKICAgICAgdmFyIG9sZFVybCA9ICRicm93c2VyLnVybCgpOwogICAgICB2YXIgY3VycmVudFJlcGxhY2UgPSAkbG9jYXRpb24uJCRyZXBsYWNlOwoKICAgICAgaWYgKCFjaGFuZ2VDb3VudGVyIHx8IG9sZFVybCAhPSAkbG9jYXRpb24uYWJzVXJsKCkpIHsKICAgICAgICBjaGFuZ2VDb3VudGVyKys7CiAgICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCkgewogICAgICAgICAgaWYgKCRyb290U2NvcGUuJGJyb2FkY2FzdCgnJGxvY2F0aW9uQ2hhbmdlU3RhcnQnLCAkbG9jYXRpb24uYWJzVXJsKCksIG9sZFVybCkuCiAgICAgICAgICAgICAgZGVmYXVsdFByZXZlbnRlZCkgewogICAgICAgICAgICAkbG9jYXRpb24uJCRwYXJzZShvbGRVcmwpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJGJyb3dzZXIudXJsKCRsb2NhdGlvbi5hYnNVcmwoKSwgY3VycmVudFJlcGxhY2UpOwogICAgICAgICAgICBhZnRlckxvY2F0aW9uQ2hhbmdlKG9sZFVybCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgJGxvY2F0aW9uLiQkcmVwbGFjZSA9IGZhbHNlOwoKICAgICAgcmV0dXJuIGNoYW5nZUNvdW50ZXI7CiAgICB9KTsKCiAgICByZXR1cm4gJGxvY2F0aW9uOwoKICAgIGZ1bmN0aW9uIGFmdGVyTG9jYXRpb25DaGFuZ2Uob2xkVXJsKSB7CiAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsICRsb2NhdGlvbi5hYnNVcmwoKSwgb2xkVXJsKTsKICAgIH0KfV07Cn0KCi8qKgogKiBAbmdkb2Mgc2VydmljZQogKiBAbmFtZSAkbG9nCiAqIEByZXF1aXJlcyAkd2luZG93CiAqCiAqIEBkZXNjcmlwdGlvbgogKiBTaW1wbGUgc2VydmljZSBmb3IgbG9nZ2luZy4gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBzYWZlbHkgd3JpdGVzIHRoZSBtZXNzYWdlCiAqIGludG8gdGhlIGJyb3dzZXIncyBjb25zb2xlIChpZiBwcmVzZW50KS4KICoKICogVGhlIG1haW4gcHVycG9zZSBvZiB0aGlzIHNlcnZpY2UgaXMgdG8gc2ltcGxpZnkgZGVidWdnaW5nIGFuZCB0cm91Ymxlc2hvb3RpbmcuCiAqCiAqIFRoZSBkZWZhdWx0IGlzIHRvIGxvZyBgZGVidWdgIG1lc3NhZ2VzLiBZb3UgY2FuIHVzZQogKiB7QGxpbmsgbmcuJGxvZ1Byb3ZpZGVyIG5nLiRsb2dQcm92aWRlciNkZWJ1Z0VuYWJsZWR9IHRvIGNoYW5nZSB0aGlzLgogKgogKiBAZXhhbXBsZQogICA8ZXhhbXBsZT4KICAgICA8ZmlsZSBuYW1lPSJzY3JpcHQuanMiPgogICAgICAgZnVuY3Rpb24gTG9nQ3RybCgkc2NvcGUsICRsb2cpIHsKICAgICAgICAgJHNjb3BlLiRsb2cgPSAkbG9nOwogICAgICAgICAkc2NvcGUubWVzc2FnZSA9ICdIZWxsbyBXb3JsZCEnOwogICAgICAgfQogICAgIDwvZmlsZT4KICAgICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgICAgIDxkaXYgbmctY29udHJvbGxlcj0iTG9nQ3RybCI+CiAgICAgICAgIDxwPlJlbG9hZCB0aGlzIHBhZ2Ugd2l0aCBvcGVuIGNvbnNvbGUsIGVudGVyIHRleHQgYW5kIGhpdCB0aGUgbG9nIGJ1dHRvbi4uLjwvcD4KICAgICAgICAgTWVzc2FnZToKICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5nLW1vZGVsPSJtZXNzYWdlIi8+CiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9IiRsb2cubG9nKG1lc3NhZ2UpIj5sb2c8L2J1dHRvbj4KICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz0iJGxvZy53YXJuKG1lc3NhZ2UpIj53YXJuPC9idXR0b24+CiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9IiRsb2cuaW5mbyhtZXNzYWdlKSI+aW5mbzwvYnV0dG9uPgogICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPSIkbG9nLmVycm9yKG1lc3NhZ2UpIj5lcnJvcjwvYnV0dG9uPgogICAgICAgPC9kaXY+CiAgICAgPC9maWxlPgogICA8L2V4YW1wbGU+CiAqLwoKLyoqCiAqIEBuZ2RvYyBwcm92aWRlcgogKiBAbmFtZSAkbG9nUHJvdmlkZXIKICogQGRlc2NyaXB0aW9uCiAqIFVzZSB0aGUgYCRsb2dQcm92aWRlcmAgdG8gY29uZmlndXJlIGhvdyB0aGUgYXBwbGljYXRpb24gbG9ncyBtZXNzYWdlcwogKi8KZnVuY3Rpb24gJExvZ1Byb3ZpZGVyKCl7CiAgdmFyIGRlYnVnID0gdHJ1ZSwKICAgICAgc2VsZiA9IHRoaXM7CgogIC8qKgogICAqIEBuZ2RvYyBwcm9wZXJ0eQogICAqIEBuYW1lICRsb2dQcm92aWRlciNkZWJ1Z0VuYWJsZWQKICAgKiBAZGVzY3JpcHRpb24KICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBmbGFnIGVuYWJsZSBvciBkaXNhYmxlIGRlYnVnIGxldmVsIG1lc3NhZ2VzCiAgICogQHJldHVybnMgeyp9IGN1cnJlbnQgdmFsdWUgaWYgdXNlZCBhcyBnZXR0ZXIgb3IgaXRzZWxmIChjaGFpbmluZykgaWYgdXNlZCBhcyBzZXR0ZXIKICAgKi8KICB0aGlzLmRlYnVnRW5hYmxlZCA9IGZ1bmN0aW9uKGZsYWcpIHsKICAgIGlmIChpc0RlZmluZWQoZmxhZykpIHsKICAgICAgZGVidWcgPSBmbGFnOwogICAgcmV0dXJuIHRoaXM7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gZGVidWc7CiAgICB9CiAgfTsKCiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgZnVuY3Rpb24oJHdpbmRvdyl7CiAgICByZXR1cm4gewogICAgICAvKioKICAgICAgICogQG5nZG9jIG1ldGhvZAogICAgICAgKiBAbmFtZSAkbG9nI2xvZwogICAgICAgKgogICAgICAgKiBAZGVzY3JpcHRpb24KICAgICAgICogV3JpdGUgYSBsb2cgbWVzc2FnZQogICAgICAgKi8KICAgICAgbG9nOiBjb25zb2xlTG9nKCdsb2cnKSwKCiAgICAgIC8qKgogICAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgICAqIEBuYW1lICRsb2cjaW5mbwogICAgICAgKgogICAgICAgKiBAZGVzY3JpcHRpb24KICAgICAgICogV3JpdGUgYW4gaW5mb3JtYXRpb24gbWVzc2FnZQogICAgICAgKi8KICAgICAgaW5mbzogY29uc29sZUxvZygnaW5mbycpLAoKICAgICAgLyoqCiAgICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAgICogQG5hbWUgJGxvZyN3YXJuCiAgICAgICAqCiAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgKiBXcml0ZSBhIHdhcm5pbmcgbWVzc2FnZQogICAgICAgKi8KICAgICAgd2FybjogY29uc29sZUxvZygnd2FybicpLAoKICAgICAgLyoqCiAgICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAgICogQG5hbWUgJGxvZyNlcnJvcgogICAgICAgKgogICAgICAgKiBAZGVzY3JpcHRpb24KICAgICAgICogV3JpdGUgYW4gZXJyb3IgbWVzc2FnZQogICAgICAgKi8KICAgICAgZXJyb3I6IGNvbnNvbGVMb2coJ2Vycm9yJyksCgogICAgICAvKioKICAgICAgICogQG5nZG9jIG1ldGhvZAogICAgICAgKiBAbmFtZSAkbG9nI2RlYnVnCiAgICAgICAqCiAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgKiBXcml0ZSBhIGRlYnVnIG1lc3NhZ2UKICAgICAgICovCiAgICAgIGRlYnVnOiAoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBmbiA9IGNvbnNvbGVMb2coJ2RlYnVnJyk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsKICAgICAgICAgIGlmIChkZWJ1ZykgewogICAgICAgICAgICBmbi5hcHBseShzZWxmLCBhcmd1bWVudHMpOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0oKSkKICAgIH07CgogICAgZnVuY3Rpb24gZm9ybWF0RXJyb3IoYXJnKSB7CiAgICAgIGlmIChhcmcgaW5zdGFuY2VvZiBFcnJvcikgewogICAgICAgIGlmIChhcmcuc3RhY2spIHsKICAgICAgICAgIGFyZyA9IChhcmcubWVzc2FnZSAmJiBhcmcuc3RhY2suaW5kZXhPZihhcmcubWVzc2FnZSkgPT09IC0xKQogICAgICAgICAgICAgID8gJ0Vycm9yOiAnICsgYXJnLm1lc3NhZ2UgKyAnXG4nICsgYXJnLnN0YWNrCiAgICAgICAgICAgICAgOiBhcmcuc3RhY2s7CiAgICAgICAgfSBlbHNlIGlmIChhcmcuc291cmNlVVJMKSB7CiAgICAgICAgICBhcmcgPSBhcmcubWVzc2FnZSArICdcbicgKyBhcmcuc291cmNlVVJMICsgJzonICsgYXJnLmxpbmU7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBhcmc7CiAgICB9CgogICAgZnVuY3Rpb24gY29uc29sZUxvZyh0eXBlKSB7CiAgICAgIHZhciBjb25zb2xlID0gJHdpbmRvdy5jb25zb2xlIHx8IHt9LAogICAgICAgICAgbG9nRm4gPSBjb25zb2xlW3R5cGVdIHx8IGNvbnNvbGUubG9nIHx8IG5vb3AsCiAgICAgICAgICBoYXNBcHBseSA9IGZhbHNlOwoKICAgICAgLy8gTm90ZTogcmVhZGluZyBsb2dGbi5hcHBseSB0aHJvd3MgYW4gZXJyb3IgaW4gSUUxMSBpbiBJRTggZG9jdW1lbnQgbW9kZS4KICAgICAgLy8gVGhlIHJlYXNvbiBiZWhpbmQgdGhpcyBpcyB0aGF0IGNvbnNvbGUubG9nIGhhcyB0eXBlICJvYmplY3QiIGluIElFOC4uLgogICAgICB0cnkgewogICAgICAgIGhhc0FwcGx5ID0gISFsb2dGbi5hcHBseTsKICAgICAgfSBjYXRjaCAoZSkge30KCiAgICAgIGlmIChoYXNBcHBseSkgewogICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsKICAgICAgICAgIHZhciBhcmdzID0gW107CiAgICAgICAgICBmb3JFYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24oYXJnKSB7CiAgICAgICAgICAgIGFyZ3MucHVzaChmb3JtYXRFcnJvcihhcmcpKTsKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIGxvZ0ZuLmFwcGx5KGNvbnNvbGUsIGFyZ3MpOwogICAgICAgIH07CiAgICAgIH0KCiAgICAgIC8vIHdlIGFyZSBJRSB3aGljaCBlaXRoZXIgZG9lc24ndCBoYXZlIHdpbmRvdy5jb25zb2xlID0+IHRoaXMgaXMgbm9vcCBhbmQgd2UgZG8gbm90aGluZywKICAgICAgLy8gb3Igd2UgYXJlIElFIHdoZXJlIGNvbnNvbGUubG9nIGRvZXNuJ3QgaGF2ZSBhcHBseSBzbyB3ZSBsb2cgYXQgbGVhc3QgZmlyc3QgMiBhcmdzCiAgICAgIHJldHVybiBmdW5jdGlvbihhcmcxLCBhcmcyKSB7CiAgICAgICAgbG9nRm4oYXJnMSwgYXJnMiA9PSBudWxsID8gJycgOiBhcmcyKTsKICAgICAgfTsKICAgIH0KICB9XTsKfQoKdmFyICRwYXJzZU1pbkVyciA9IG1pbkVycignJHBhcnNlJyk7CnZhciBwcm9taXNlV2FybmluZ0NhY2hlID0ge307CnZhciBwcm9taXNlV2FybmluZzsKCi8vIFNhbmRib3hpbmcgQW5ndWxhciBFeHByZXNzaW9ucwovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gQW5ndWxhciBleHByZXNzaW9ucyBhcmUgZ2VuZXJhbGx5IGNvbnNpZGVyZWQgc2FmZSBiZWNhdXNlIHRoZXNlIGV4cHJlc3Npb25zIG9ubHkgaGF2ZSBkaXJlY3QKLy8gYWNjZXNzIHRvICRzY29wZSBhbmQgbG9jYWxzLiBIb3dldmVyLCBvbmUgY2FuIG9idGFpbiB0aGUgYWJpbGl0eSB0byBleGVjdXRlIGFyYml0cmFyeSBKUyBjb2RlIGJ5Ci8vIG9idGFpbmluZyBhIHJlZmVyZW5jZSB0byBuYXRpdmUgSlMgZnVuY3Rpb25zIHN1Y2ggYXMgdGhlIEZ1bmN0aW9uIGNvbnN0cnVjdG9yLgovLwovLyBBcyBhbiBleGFtcGxlLCBjb25zaWRlciB0aGUgZm9sbG93aW5nIEFuZ3VsYXIgZXhwcmVzc2lvbjoKLy8KLy8gICB7fS50b1N0cmluZy5jb25zdHJ1Y3RvcignYWxlcnQoImV2aWwgSlMgY29kZSIpJykKLy8KLy8gVGhpcyBzYW5kYm94aW5nIHRlY2huaXF1ZSBpcyBub3QgcGVyZmVjdCBhbmQgZG9lc24ndCBhaW0gdG8gYmUuIFRoZSBnb2FsIGlzIHRvIHByZXZlbnQgZXhwbG9pdHMKLy8gYWdhaW5zdCB0aGUgZXhwcmVzc2lvbiBsYW5ndWFnZSwgYnV0IG5vdCB0byBwcmV2ZW50IGV4cGxvaXRzIHRoYXQgd2VyZSBlbmFibGVkIGJ5IGV4cG9zaW5nCi8vIHNlbnNpdGl2ZSBKYXZhU2NyaXB0IG9yIGJyb3dzZXIgYXBpcyBvbiBTY29wZS4gRXhwb3Npbmcgc3VjaCBvYmplY3RzIG9uIGEgU2NvcGUgaXMgbmV2ZXIgYSBnb29kCi8vIHByYWN0aWNlIGFuZCB0aGVyZWZvcmUgd2UgYXJlIG5vdCBldmVuIHRyeWluZyB0byBwcm90ZWN0IGFnYWluc3QgaW50ZXJhY3Rpb24gd2l0aCBhbiBvYmplY3QKLy8gZXhwbGljaXRseSBleHBvc2VkIGluIHRoaXMgd2F5LgovLwovLyBJbiBnZW5lcmFsLCBpdCBpcyBub3QgcG9zc2libGUgdG8gYWNjZXNzIGEgV2luZG93IG9iamVjdCBmcm9tIGFuIGFuZ3VsYXIgZXhwcmVzc2lvbiB1bmxlc3MgYQovLyB3aW5kb3cgb3Igc29tZSBET00gb2JqZWN0IHRoYXQgaGFzIGEgcmVmZXJlbmNlIHRvIHdpbmRvdyBpcyBwdWJsaXNoZWQgb250byBhIFNjb3BlLgovLyBTaW1pbGFybHkgd2UgcHJldmVudCBpbnZvY2F0aW9ucyBvZiBmdW5jdGlvbiBrbm93biB0byBiZSBkYW5nZXJvdXMsIGFzIHdlbGwgYXMgYXNzaWdubWVudHMgdG8KLy8gbmF0aXZlIG9iamVjdHMuCgoKZnVuY3Rpb24gZW5zdXJlU2FmZU1lbWJlck5hbWUobmFtZSwgZnVsbEV4cHJlc3Npb24pIHsKICBpZiAobmFtZSA9PT0gIl9fZGVmaW5lR2V0dGVyX18iIHx8IG5hbWUgPT09ICJfX2RlZmluZVNldHRlcl9fIgogICAgICB8fCBuYW1lID09PSAiX19sb29rdXBHZXR0ZXJfXyIgfHwgbmFtZSA9PT0gIl9fbG9va3VwU2V0dGVyX18iCiAgICAgIHx8IG5hbWUgPT09ICJfX3Byb3RvX18iKSB7CiAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2lzZWNmbGQnLAogICAgICAgICdBdHRlbXB0aW5nIHRvIGFjY2VzcyBhIGRpc2FsbG93ZWQgZmllbGQgaW4gQW5ndWxhciBleHByZXNzaW9ucyEgJwogICAgICAgICsnRXhwcmVzc2lvbjogezB9JywgZnVsbEV4cHJlc3Npb24pOwogIH0KICByZXR1cm4gbmFtZTsKfQoKZnVuY3Rpb24gZW5zdXJlU2FmZU9iamVjdChvYmosIGZ1bGxFeHByZXNzaW9uKSB7CiAgLy8gbmlmdHkgY2hlY2sgaWYgb2JqIGlzIEZ1bmN0aW9uIHRoYXQgaXMgZmFzdCBhbmQgd29ya3MgYWNyb3NzIGlmcmFtZXMgYW5kIG90aGVyIGNvbnRleHRzCiAgaWYgKG9iaikgewogICAgaWYgKG9iai5jb25zdHJ1Y3RvciA9PT0gb2JqKSB7CiAgICAgIHRocm93ICRwYXJzZU1pbkVycignaXNlY2ZuJywKICAgICAgICAgICdSZWZlcmVuY2luZyBGdW5jdGlvbiBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRpc2FsbG93ZWQhIEV4cHJlc3Npb246IHswfScsCiAgICAgICAgICBmdWxsRXhwcmVzc2lvbik7CiAgICB9IGVsc2UgaWYgKC8vIGlzV2luZG93KG9iaikKICAgICAgICBvYmouZG9jdW1lbnQgJiYgb2JqLmxvY2F0aW9uICYmIG9iai5hbGVydCAmJiBvYmouc2V0SW50ZXJ2YWwpIHsKICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2Vjd2luZG93JywKICAgICAgICAgICdSZWZlcmVuY2luZyB0aGUgV2luZG93IGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JywKICAgICAgICAgIGZ1bGxFeHByZXNzaW9uKTsKICAgIH0gZWxzZSBpZiAoLy8gaXNFbGVtZW50KG9iaikKICAgICAgICBvYmouY2hpbGRyZW4gJiYgKG9iai5ub2RlTmFtZSB8fCAob2JqLnByb3AgJiYgb2JqLmF0dHIgJiYgb2JqLmZpbmQpKSkgewogICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2lzZWNkb20nLAogICAgICAgICAgJ1JlZmVyZW5jaW5nIERPTSBub2RlcyBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRpc2FsbG93ZWQhIEV4cHJlc3Npb246IHswfScsCiAgICAgICAgICBmdWxsRXhwcmVzc2lvbik7CiAgICB9IGVsc2UgaWYgKC8vIGJsb2NrIE9iamVjdCBzbyB0aGF0IHdlIGNhbid0IGdldCBob2xkIG9mIGRhbmdlcm91cyBPYmplY3QuKiBtZXRob2RzCiAgICAgICAgb2JqID09PSBPYmplY3QpIHsKICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2Vjb2JqJywKICAgICAgICAgICdSZWZlcmVuY2luZyBPYmplY3QgaW4gQW5ndWxhciBleHByZXNzaW9ucyBpcyBkaXNhbGxvd2VkISBFeHByZXNzaW9uOiB7MH0nLAogICAgICAgICAgZnVsbEV4cHJlc3Npb24pOwogICAgfQogIH0KICByZXR1cm4gb2JqOwp9Cgp2YXIgQ0FMTCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsOwp2YXIgQVBQTFkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7CnZhciBCSU5EID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ7CgpmdW5jdGlvbiBlbnN1cmVTYWZlRnVuY3Rpb24ob2JqLCBmdWxsRXhwcmVzc2lvbikgewogIGlmIChvYmopIHsKICAgIGlmIChvYmouY29uc3RydWN0b3IgPT09IG9iaikgewogICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2lzZWNmbicsCiAgICAgICAgJ1JlZmVyZW5jaW5nIEZ1bmN0aW9uIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JywKICAgICAgICBmdWxsRXhwcmVzc2lvbik7CiAgICB9IGVsc2UgaWYgKG9iaiA9PT0gQ0FMTCB8fCBvYmogPT09IEFQUExZIHx8IChCSU5EICYmIG9iaiA9PT0gQklORCkpIHsKICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2VjZmYnLAogICAgICAgICdSZWZlcmVuY2luZyBjYWxsLCBhcHBseSBvciBiaW5kIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JywKICAgICAgICBmdWxsRXhwcmVzc2lvbik7CiAgICB9CiAgfQp9Cgp2YXIgT1BFUkFUT1JTID0gewogICAgLyoganNoaW50IGJpdHdpc2UgOiBmYWxzZSAqLwogICAgJ251bGwnOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw7fSwKICAgICd0cnVlJzpmdW5jdGlvbigpe3JldHVybiB0cnVlO30sCiAgICAnZmFsc2UnOmZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlO30sCiAgICB1bmRlZmluZWQ6bm9vcCwKICAgICcrJzpmdW5jdGlvbihzZWxmLCBsb2NhbHMsIGEsYil7CiAgICAgIGE9YShzZWxmLCBsb2NhbHMpOyBiPWIoc2VsZiwgbG9jYWxzKTsKICAgICAgaWYgKGlzRGVmaW5lZChhKSkgewogICAgICAgIGlmIChpc0RlZmluZWQoYikpIHsKICAgICAgICAgIHJldHVybiBhICsgYjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGE7CiAgICAgIH0KICAgICAgcmV0dXJuIGlzRGVmaW5lZChiKT9iOnVuZGVmaW5lZDt9LAogICAgJy0nOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSxiKXsKICAgICAgICAgIGE9YShzZWxmLCBsb2NhbHMpOyBiPWIoc2VsZiwgbG9jYWxzKTsKICAgICAgICAgIHJldHVybiAoaXNEZWZpbmVkKGEpP2E6MCktKGlzRGVmaW5lZChiKT9iOjApOwogICAgICAgIH0sCiAgICAnKic6ZnVuY3Rpb24oc2VsZiwgbG9jYWxzLCBhLGIpe3JldHVybiBhKHNlbGYsIGxvY2FscykqYihzZWxmLCBsb2NhbHMpO30sCiAgICAnLyc6ZnVuY3Rpb24oc2VsZiwgbG9jYWxzLCBhLGIpe3JldHVybiBhKHNlbGYsIGxvY2FscykvYihzZWxmLCBsb2NhbHMpO30sCiAgICAnJSc6ZnVuY3Rpb24oc2VsZiwgbG9jYWxzLCBhLGIpe3JldHVybiBhKHNlbGYsIGxvY2FscyklYihzZWxmLCBsb2NhbHMpO30sCiAgICAnXic6ZnVuY3Rpb24oc2VsZiwgbG9jYWxzLCBhLGIpe3JldHVybiBhKHNlbGYsIGxvY2FscyleYihzZWxmLCBsb2NhbHMpO30sCiAgICAnPSc6bm9vcCwKICAgICc9PT0nOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSwgYil7cmV0dXJuIGEoc2VsZiwgbG9jYWxzKT09PWIoc2VsZiwgbG9jYWxzKTt9LAogICAgJyE9PSc6ZnVuY3Rpb24oc2VsZiwgbG9jYWxzLCBhLCBiKXtyZXR1cm4gYShzZWxmLCBsb2NhbHMpIT09YihzZWxmLCBsb2NhbHMpO30sCiAgICAnPT0nOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSxiKXtyZXR1cm4gYShzZWxmLCBsb2NhbHMpPT1iKHNlbGYsIGxvY2Fscyk7fSwKICAgICchPSc6ZnVuY3Rpb24oc2VsZiwgbG9jYWxzLCBhLGIpe3JldHVybiBhKHNlbGYsIGxvY2FscykhPWIoc2VsZiwgbG9jYWxzKTt9LAogICAgJzwnOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSxiKXtyZXR1cm4gYShzZWxmLCBsb2NhbHMpPGIoc2VsZiwgbG9jYWxzKTt9LAogICAgJz4nOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSxiKXtyZXR1cm4gYShzZWxmLCBsb2NhbHMpPmIoc2VsZiwgbG9jYWxzKTt9LAogICAgJzw9JzpmdW5jdGlvbihzZWxmLCBsb2NhbHMsIGEsYil7cmV0dXJuIGEoc2VsZiwgbG9jYWxzKTw9YihzZWxmLCBsb2NhbHMpO30sCiAgICAnPj0nOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSxiKXtyZXR1cm4gYShzZWxmLCBsb2NhbHMpPj1iKHNlbGYsIGxvY2Fscyk7fSwKICAgICcmJic6ZnVuY3Rpb24oc2VsZiwgbG9jYWxzLCBhLGIpe3JldHVybiBhKHNlbGYsIGxvY2FscykmJmIoc2VsZiwgbG9jYWxzKTt9LAogICAgJ3x8JzpmdW5jdGlvbihzZWxmLCBsb2NhbHMsIGEsYil7cmV0dXJuIGEoc2VsZiwgbG9jYWxzKXx8YihzZWxmLCBsb2NhbHMpO30sCiAgICAnJic6ZnVuY3Rpb24oc2VsZiwgbG9jYWxzLCBhLGIpe3JldHVybiBhKHNlbGYsIGxvY2FscykmYihzZWxmLCBsb2NhbHMpO30sCi8vICAgICd8JzpmdW5jdGlvbihzZWxmLCBsb2NhbHMsIGEsYil7cmV0dXJuIGF8Yjt9LAogICAgJ3wnOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSxiKXtyZXR1cm4gYihzZWxmLCBsb2NhbHMpKHNlbGYsIGxvY2FscywgYShzZWxmLCBsb2NhbHMpKTt9LAogICAgJyEnOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSl7cmV0dXJuICFhKHNlbGYsIGxvY2Fscyk7fQp9OwovKiBqc2hpbnQgYml0d2lzZTogdHJ1ZSAqLwp2YXIgRVNDQVBFID0geyJuIjoiXG4iLCAiZiI6IlxmIiwgInIiOiJcciIsICJ0IjoiXHQiLCAidiI6Ilx2IiwgIiciOiInIiwgJyInOiciJ307CgoKLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCgovKioKICogQGNvbnN0cnVjdG9yCiAqLwp2YXIgTGV4ZXIgPSBmdW5jdGlvbiAob3B0aW9ucykgewogIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7Cn07CgpMZXhlci5wcm90b3R5cGUgPSB7CiAgY29uc3RydWN0b3I6IExleGVyLAoKICBsZXg6IGZ1bmN0aW9uICh0ZXh0KSB7CiAgICB0aGlzLnRleHQgPSB0ZXh0OwoKICAgIHRoaXMuaW5kZXggPSAwOwogICAgdGhpcy5jaCA9IHVuZGVmaW5lZDsKICAgIHRoaXMubGFzdENoID0gJzonOyAvLyBjYW4gc3RhcnQgcmVnZXhwCgogICAgdGhpcy50b2tlbnMgPSBbXTsKCiAgICB3aGlsZSAodGhpcy5pbmRleCA8IHRoaXMudGV4dC5sZW5ndGgpIHsKICAgICAgdGhpcy5jaCA9IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7CiAgICAgIGlmICh0aGlzLmlzKCciXCcnKSkgewogICAgICAgIHRoaXMucmVhZFN0cmluZyh0aGlzLmNoKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmlzTnVtYmVyKHRoaXMuY2gpIHx8IHRoaXMuaXMoJy4nKSAmJiB0aGlzLmlzTnVtYmVyKHRoaXMucGVlaygpKSkgewogICAgICAgIHRoaXMucmVhZE51bWJlcigpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaXNJZGVudCh0aGlzLmNoKSkgewogICAgICAgIHRoaXMucmVhZElkZW50KCk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5pcygnKCl7fVtdLiw7Oj8nKSkgewogICAgICAgIHRoaXMudG9rZW5zLnB1c2goewogICAgICAgICAgaW5kZXg6IHRoaXMuaW5kZXgsCiAgICAgICAgICB0ZXh0OiB0aGlzLmNoCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5pbmRleCsrOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaXNXaGl0ZXNwYWNlKHRoaXMuY2gpKSB7CiAgICAgICAgdGhpcy5pbmRleCsrOwogICAgICAgIGNvbnRpbnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBjaDIgPSB0aGlzLmNoICsgdGhpcy5wZWVrKCk7CiAgICAgICAgdmFyIGNoMyA9IGNoMiArIHRoaXMucGVlaygyKTsKICAgICAgICB2YXIgZm4gPSBPUEVSQVRPUlNbdGhpcy5jaF07CiAgICAgICAgdmFyIGZuMiA9IE9QRVJBVE9SU1tjaDJdOwogICAgICAgIHZhciBmbjMgPSBPUEVSQVRPUlNbY2gzXTsKICAgICAgICBpZiAoZm4zKSB7CiAgICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHtpbmRleDogdGhpcy5pbmRleCwgdGV4dDogY2gzLCBmbjogZm4zfSk7CiAgICAgICAgICB0aGlzLmluZGV4ICs9IDM7CiAgICAgICAgfSBlbHNlIGlmIChmbjIpIHsKICAgICAgICAgIHRoaXMudG9rZW5zLnB1c2goe2luZGV4OiB0aGlzLmluZGV4LCB0ZXh0OiBjaDIsIGZuOiBmbjJ9KTsKICAgICAgICAgIHRoaXMuaW5kZXggKz0gMjsKICAgICAgICB9IGVsc2UgaWYgKGZuKSB7CiAgICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHsKICAgICAgICAgICAgaW5kZXg6IHRoaXMuaW5kZXgsCiAgICAgICAgICAgIHRleHQ6IHRoaXMuY2gsCiAgICAgICAgICAgIGZuOiBmbgogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmluZGV4ICs9IDE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMudGhyb3dFcnJvcignVW5leHBlY3RlZCBuZXh0IGNoYXJhY3RlciAnLCB0aGlzLmluZGV4LCB0aGlzLmluZGV4ICsgMSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMubGFzdENoID0gdGhpcy5jaDsKICAgIH0KICAgIHJldHVybiB0aGlzLnRva2VuczsKICB9LAoKICBpczogZnVuY3Rpb24oY2hhcnMpIHsKICAgIHJldHVybiBjaGFycy5pbmRleE9mKHRoaXMuY2gpICE9PSAtMTsKICB9LAoKICB3YXM6IGZ1bmN0aW9uKGNoYXJzKSB7CiAgICByZXR1cm4gY2hhcnMuaW5kZXhPZih0aGlzLmxhc3RDaCkgIT09IC0xOwogIH0sCgogIHBlZWs6IGZ1bmN0aW9uKGkpIHsKICAgIHZhciBudW0gPSBpIHx8IDE7CiAgICByZXR1cm4gKHRoaXMuaW5kZXggKyBudW0gPCB0aGlzLnRleHQubGVuZ3RoKSA/IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCArIG51bSkgOiBmYWxzZTsKICB9LAoKICBpc051bWJlcjogZnVuY3Rpb24oY2gpIHsKICAgIHJldHVybiAoJzAnIDw9IGNoICYmIGNoIDw9ICc5Jyk7CiAgfSwKCiAgaXNXaGl0ZXNwYWNlOiBmdW5jdGlvbihjaCkgewogICAgLy8gSUUgdHJlYXRzIG5vbi1icmVha2luZyBzcGFjZSBhcyBcdTAwQTAKICAgIHJldHVybiAoY2ggPT09ICcgJyB8fCBjaCA9PT0gJ1xyJyB8fCBjaCA9PT0gJ1x0JyB8fAogICAgICAgICAgICBjaCA9PT0gJ1xuJyB8fCBjaCA9PT0gJ1x2JyB8fCBjaCA9PT0gJ1x1MDBBMCcpOwogIH0sCgogIGlzSWRlbnQ6IGZ1bmN0aW9uKGNoKSB7CiAgICByZXR1cm4gKCdhJyA8PSBjaCAmJiBjaCA8PSAneicgfHwKICAgICAgICAgICAgJ0EnIDw9IGNoICYmIGNoIDw9ICdaJyB8fAogICAgICAgICAgICAnXycgPT09IGNoIHx8IGNoID09PSAnJCcpOwogIH0sCgogIGlzRXhwT3BlcmF0b3I6IGZ1bmN0aW9uKGNoKSB7CiAgICByZXR1cm4gKGNoID09PSAnLScgfHwgY2ggPT09ICcrJyB8fCB0aGlzLmlzTnVtYmVyKGNoKSk7CiAgfSwKCiAgdGhyb3dFcnJvcjogZnVuY3Rpb24oZXJyb3IsIHN0YXJ0LCBlbmQpIHsKICAgIGVuZCA9IGVuZCB8fCB0aGlzLmluZGV4OwogICAgdmFyIGNvbFN0ciA9IChpc0RlZmluZWQoc3RhcnQpCiAgICAgICAgICAgID8gJ3MgJyArIHN0YXJ0ICsgICctJyArIHRoaXMuaW5kZXggKyAnIFsnICsgdGhpcy50ZXh0LnN1YnN0cmluZyhzdGFydCwgZW5kKSArICddJwogICAgICAgICAgICA6ICcgJyArIGVuZCk7CiAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2xleGVycicsICdMZXhlciBFcnJvcjogezB9IGF0IGNvbHVtbnsxfSBpbiBleHByZXNzaW9uIFt7Mn1dLicsCiAgICAgICAgZXJyb3IsIGNvbFN0ciwgdGhpcy50ZXh0KTsKICB9LAoKICByZWFkTnVtYmVyOiBmdW5jdGlvbigpIHsKICAgIHZhciBudW1iZXIgPSAnJzsKICAgIHZhciBzdGFydCA9IHRoaXMuaW5kZXg7CiAgICB3aGlsZSAodGhpcy5pbmRleCA8IHRoaXMudGV4dC5sZW5ndGgpIHsKICAgICAgdmFyIGNoID0gbG93ZXJjYXNlKHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCkpOwogICAgICBpZiAoY2ggPT0gJy4nIHx8IHRoaXMuaXNOdW1iZXIoY2gpKSB7CiAgICAgICAgbnVtYmVyICs9IGNoOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBwZWVrQ2ggPSB0aGlzLnBlZWsoKTsKICAgICAgICBpZiAoY2ggPT0gJ2UnICYmIHRoaXMuaXNFeHBPcGVyYXRvcihwZWVrQ2gpKSB7CiAgICAgICAgICBudW1iZXIgKz0gY2g7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzRXhwT3BlcmF0b3IoY2gpICYmCiAgICAgICAgICAgIHBlZWtDaCAmJiB0aGlzLmlzTnVtYmVyKHBlZWtDaCkgJiYKICAgICAgICAgICAgbnVtYmVyLmNoYXJBdChudW1iZXIubGVuZ3RoIC0gMSkgPT0gJ2UnKSB7CiAgICAgICAgICBudW1iZXIgKz0gY2g7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzRXhwT3BlcmF0b3IoY2gpICYmCiAgICAgICAgICAgICghcGVla0NoIHx8ICF0aGlzLmlzTnVtYmVyKHBlZWtDaCkpICYmCiAgICAgICAgICAgIG51bWJlci5jaGFyQXQobnVtYmVyLmxlbmd0aCAtIDEpID09ICdlJykgewogICAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdJbnZhbGlkIGV4cG9uZW50Jyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLmluZGV4Kys7CiAgICB9CiAgICBudW1iZXIgPSAxICogbnVtYmVyOwogICAgdGhpcy50b2tlbnMucHVzaCh7CiAgICAgIGluZGV4OiBzdGFydCwKICAgICAgdGV4dDogbnVtYmVyLAogICAgICBsaXRlcmFsOiB0cnVlLAogICAgICBjb25zdGFudDogdHJ1ZSwKICAgICAgZm46IGZ1bmN0aW9uKCkgeyByZXR1cm4gbnVtYmVyOyB9CiAgICB9KTsKICB9LAoKICByZWFkSWRlbnQ6IGZ1bmN0aW9uKCkgewogICAgdmFyIHBhcnNlciA9IHRoaXM7CgogICAgdmFyIGlkZW50ID0gJyc7CiAgICB2YXIgc3RhcnQgPSB0aGlzLmluZGV4OwoKICAgIHZhciBsYXN0RG90LCBwZWVrSW5kZXgsIG1ldGhvZE5hbWUsIGNoOwoKICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50ZXh0Lmxlbmd0aCkgewogICAgICBjaCA9IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7CiAgICAgIGlmIChjaCA9PT0gJy4nIHx8IHRoaXMuaXNJZGVudChjaCkgfHwgdGhpcy5pc051bWJlcihjaCkpIHsKICAgICAgICBpZiAoY2ggPT09ICcuJykgbGFzdERvdCA9IHRoaXMuaW5kZXg7CiAgICAgICAgaWRlbnQgKz0gY2g7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgdGhpcy5pbmRleCsrOwogICAgfQoKICAgIC8vY2hlY2sgaWYgdGhpcyBpcyBub3QgYSBtZXRob2QgaW52b2NhdGlvbiBhbmQgaWYgaXQgaXMgYmFjayBvdXQgdG8gbGFzdCBkb3QKICAgIGlmIChsYXN0RG90KSB7CiAgICAgIHBlZWtJbmRleCA9IHRoaXMuaW5kZXg7CiAgICAgIHdoaWxlIChwZWVrSW5kZXggPCB0aGlzLnRleHQubGVuZ3RoKSB7CiAgICAgICAgY2ggPSB0aGlzLnRleHQuY2hhckF0KHBlZWtJbmRleCk7CiAgICAgICAgaWYgKGNoID09PSAnKCcpIHsKICAgICAgICAgIG1ldGhvZE5hbWUgPSBpZGVudC5zdWJzdHIobGFzdERvdCAtIHN0YXJ0ICsgMSk7CiAgICAgICAgICBpZGVudCA9IGlkZW50LnN1YnN0cigwLCBsYXN0RG90IC0gc3RhcnQpOwogICAgICAgICAgdGhpcy5pbmRleCA9IHBlZWtJbmRleDsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5pc1doaXRlc3BhY2UoY2gpKSB7CiAgICAgICAgICBwZWVrSW5kZXgrKzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9CgoKICAgIHZhciB0b2tlbiA9IHsKICAgICAgaW5kZXg6IHN0YXJ0LAogICAgICB0ZXh0OiBpZGVudAogICAgfTsKCiAgICAvLyBPUEVSQVRPUlMgaXMgb3VyIG93biBvYmplY3Qgc28gd2UgZG9uJ3QgbmVlZCB0byB1c2Ugc3BlY2lhbCBoYXNPd25Qcm9wZXJ0eUZuCiAgICBpZiAoT1BFUkFUT1JTLmhhc093blByb3BlcnR5KGlkZW50KSkgewogICAgICB0b2tlbi5mbiA9IE9QRVJBVE9SU1tpZGVudF07CiAgICAgIHRva2VuLmxpdGVyYWwgPSB0cnVlOwogICAgICB0b2tlbi5jb25zdGFudCA9IHRydWU7CiAgICB9IGVsc2UgewogICAgICB2YXIgZ2V0dGVyID0gZ2V0dGVyRm4oaWRlbnQsIHRoaXMub3B0aW9ucywgdGhpcy50ZXh0KTsKICAgICAgdG9rZW4uZm4gPSBleHRlbmQoZnVuY3Rpb24oc2VsZiwgbG9jYWxzKSB7CiAgICAgICAgcmV0dXJuIChnZXR0ZXIoc2VsZiwgbG9jYWxzKSk7CiAgICAgIH0sIHsKICAgICAgICBhc3NpZ246IGZ1bmN0aW9uKHNlbGYsIHZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gc2V0dGVyKHNlbGYsIGlkZW50LCB2YWx1ZSwgcGFyc2VyLnRleHQsIHBhcnNlci5vcHRpb25zKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIHRoaXMudG9rZW5zLnB1c2godG9rZW4pOwoKICAgIGlmIChtZXRob2ROYW1lKSB7CiAgICAgIHRoaXMudG9rZW5zLnB1c2goewogICAgICAgIGluZGV4Omxhc3REb3QsCiAgICAgICAgdGV4dDogJy4nCiAgICAgIH0pOwogICAgICB0aGlzLnRva2Vucy5wdXNoKHsKICAgICAgICBpbmRleDogbGFzdERvdCArIDEsCiAgICAgICAgdGV4dDogbWV0aG9kTmFtZQogICAgICB9KTsKICAgIH0KICB9LAoKICByZWFkU3RyaW5nOiBmdW5jdGlvbihxdW90ZSkgewogICAgdmFyIHN0YXJ0ID0gdGhpcy5pbmRleDsKICAgIHRoaXMuaW5kZXgrKzsKICAgIHZhciBzdHJpbmcgPSAnJzsKICAgIHZhciByYXdTdHJpbmcgPSBxdW90ZTsKICAgIHZhciBlc2NhcGUgPSBmYWxzZTsKICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50ZXh0Lmxlbmd0aCkgewogICAgICB2YXIgY2ggPSB0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpOwogICAgICByYXdTdHJpbmcgKz0gY2g7CiAgICAgIGlmIChlc2NhcGUpIHsKICAgICAgICBpZiAoY2ggPT09ICd1JykgewogICAgICAgICAgdmFyIGhleCA9IHRoaXMudGV4dC5zdWJzdHJpbmcodGhpcy5pbmRleCArIDEsIHRoaXMuaW5kZXggKyA1KTsKICAgICAgICAgIGlmICghaGV4Lm1hdGNoKC9bXGRhLWZdezR9L2kpKQogICAgICAgICAgICB0aGlzLnRocm93RXJyb3IoJ0ludmFsaWQgdW5pY29kZSBlc2NhcGUgW1xcdScgKyBoZXggKyAnXScpOwogICAgICAgICAgdGhpcy5pbmRleCArPSA0OwogICAgICAgICAgc3RyaW5nICs9IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoaGV4LCAxNikpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgcmVwID0gRVNDQVBFW2NoXTsKICAgICAgICAgIGlmIChyZXApIHsKICAgICAgICAgICAgc3RyaW5nICs9IHJlcDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZXNjYXBlID0gZmFsc2U7CiAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICdcXCcpIHsKICAgICAgICBlc2NhcGUgPSB0cnVlOwogICAgICB9IGVsc2UgaWYgKGNoID09PSBxdW90ZSkgewogICAgICAgIHRoaXMuaW5kZXgrKzsKICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHsKICAgICAgICAgIGluZGV4OiBzdGFydCwKICAgICAgICAgIHRleHQ6IHJhd1N0cmluZywKICAgICAgICAgIHN0cmluZzogc3RyaW5nLAogICAgICAgICAgbGl0ZXJhbDogdHJ1ZSwKICAgICAgICAgIGNvbnN0YW50OiB0cnVlLAogICAgICAgICAgZm46IGZ1bmN0aW9uKCkgeyByZXR1cm4gc3RyaW5nOyB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgfQogICAgICB0aGlzLmluZGV4Kys7CiAgICB9CiAgICB0aGlzLnRocm93RXJyb3IoJ1VudGVybWluYXRlZCBxdW90ZScsIHN0YXJ0KTsKICB9Cn07CgoKLyoqCiAqIEBjb25zdHJ1Y3RvcgogKi8KdmFyIFBhcnNlciA9IGZ1bmN0aW9uIChsZXhlciwgJGZpbHRlciwgb3B0aW9ucykgewogIHRoaXMubGV4ZXIgPSBsZXhlcjsKICB0aGlzLiRmaWx0ZXIgPSAkZmlsdGVyOwogIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7Cn07CgpQYXJzZXIuWkVSTyA9IGV4dGVuZChmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIDA7Cn0sIHsKICBjb25zdGFudDogdHJ1ZQp9KTsKClBhcnNlci5wcm90b3R5cGUgPSB7CiAgY29uc3RydWN0b3I6IFBhcnNlciwKCiAgcGFyc2U6IGZ1bmN0aW9uICh0ZXh0KSB7CiAgICB0aGlzLnRleHQgPSB0ZXh0OwoKICAgIHRoaXMudG9rZW5zID0gdGhpcy5sZXhlci5sZXgodGV4dCk7CgogICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZW1lbnRzKCk7CgogICAgaWYgKHRoaXMudG9rZW5zLmxlbmd0aCAhPT0gMCkgewogICAgICB0aGlzLnRocm93RXJyb3IoJ2lzIGFuIHVuZXhwZWN0ZWQgdG9rZW4nLCB0aGlzLnRva2Vuc1swXSk7CiAgICB9CgogICAgdmFsdWUubGl0ZXJhbCA9ICEhdmFsdWUubGl0ZXJhbDsKICAgIHZhbHVlLmNvbnN0YW50ID0gISF2YWx1ZS5jb25zdGFudDsKCiAgICByZXR1cm4gdmFsdWU7CiAgfSwKCiAgcHJpbWFyeTogZnVuY3Rpb24gKCkgewogICAgdmFyIHByaW1hcnk7CiAgICBpZiAodGhpcy5leHBlY3QoJygnKSkgewogICAgICBwcmltYXJ5ID0gdGhpcy5maWx0ZXJDaGFpbigpOwogICAgICB0aGlzLmNvbnN1bWUoJyknKTsKICAgIH0gZWxzZSBpZiAodGhpcy5leHBlY3QoJ1snKSkgewogICAgICBwcmltYXJ5ID0gdGhpcy5hcnJheURlY2xhcmF0aW9uKCk7CiAgICB9IGVsc2UgaWYgKHRoaXMuZXhwZWN0KCd7JykpIHsKICAgICAgcHJpbWFyeSA9IHRoaXMub2JqZWN0KCk7CiAgICB9IGVsc2UgewogICAgICB2YXIgdG9rZW4gPSB0aGlzLmV4cGVjdCgpOwogICAgICBwcmltYXJ5ID0gdG9rZW4uZm47CiAgICAgIGlmICghcHJpbWFyeSkgewogICAgICAgIHRoaXMudGhyb3dFcnJvcignbm90IGEgcHJpbWFyeSBleHByZXNzaW9uJywgdG9rZW4pOwogICAgICB9CiAgICAgIHByaW1hcnkubGl0ZXJhbCA9ICEhdG9rZW4ubGl0ZXJhbDsKICAgICAgcHJpbWFyeS5jb25zdGFudCA9ICEhdG9rZW4uY29uc3RhbnQ7CiAgICB9CgogICAgdmFyIG5leHQsIGNvbnRleHQ7CiAgICB3aGlsZSAoKG5leHQgPSB0aGlzLmV4cGVjdCgnKCcsICdbJywgJy4nKSkpIHsKICAgICAgaWYgKG5leHQudGV4dCA9PT0gJygnKSB7CiAgICAgICAgcHJpbWFyeSA9IHRoaXMuZnVuY3Rpb25DYWxsKHByaW1hcnksIGNvbnRleHQpOwogICAgICAgIGNvbnRleHQgPSBudWxsOwogICAgICB9IGVsc2UgaWYgKG5leHQudGV4dCA9PT0gJ1snKSB7CiAgICAgICAgY29udGV4dCA9IHByaW1hcnk7CiAgICAgICAgcHJpbWFyeSA9IHRoaXMub2JqZWN0SW5kZXgocHJpbWFyeSk7CiAgICAgIH0gZWxzZSBpZiAobmV4dC50ZXh0ID09PSAnLicpIHsKICAgICAgICBjb250ZXh0ID0gcHJpbWFyeTsKICAgICAgICBwcmltYXJ5ID0gdGhpcy5maWVsZEFjY2VzcyhwcmltYXJ5KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnRocm93RXJyb3IoJ0lNUE9TU0lCTEUnKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHByaW1hcnk7CiAgfSwKCiAgdGhyb3dFcnJvcjogZnVuY3Rpb24obXNnLCB0b2tlbikgewogICAgdGhyb3cgJHBhcnNlTWluRXJyKCdzeW50YXgnLAogICAgICAgICdTeW50YXggRXJyb3I6IFRva2VuIFwnezB9XCcgezF9IGF0IGNvbHVtbiB7Mn0gb2YgdGhlIGV4cHJlc3Npb24gW3szfV0gc3RhcnRpbmcgYXQgW3s0fV0uJywKICAgICAgICAgIHRva2VuLnRleHQsIG1zZywgKHRva2VuLmluZGV4ICsgMSksIHRoaXMudGV4dCwgdGhpcy50ZXh0LnN1YnN0cmluZyh0b2tlbi5pbmRleCkpOwogIH0sCgogIHBlZWtUb2tlbjogZnVuY3Rpb24oKSB7CiAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoID09PSAwKQogICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ3Vlb2UnLCAnVW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvbjogezB9JywgdGhpcy50ZXh0KTsKICAgIHJldHVybiB0aGlzLnRva2Vuc1swXTsKICB9LAoKICBwZWVrOiBmdW5jdGlvbihlMSwgZTIsIGUzLCBlNCkgewogICAgaWYgKHRoaXMudG9rZW5zLmxlbmd0aCA+IDApIHsKICAgICAgdmFyIHRva2VuID0gdGhpcy50b2tlbnNbMF07CiAgICAgIHZhciB0ID0gdG9rZW4udGV4dDsKICAgICAgaWYgKHQgPT09IGUxIHx8IHQgPT09IGUyIHx8IHQgPT09IGUzIHx8IHQgPT09IGU0IHx8CiAgICAgICAgICAoIWUxICYmICFlMiAmJiAhZTMgJiYgIWU0KSkgewogICAgICAgIHJldHVybiB0b2tlbjsKICAgICAgfQogICAgfQogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIGV4cGVjdDogZnVuY3Rpb24oZTEsIGUyLCBlMywgZTQpewogICAgdmFyIHRva2VuID0gdGhpcy5wZWVrKGUxLCBlMiwgZTMsIGU0KTsKICAgIGlmICh0b2tlbikgewogICAgICB0aGlzLnRva2Vucy5zaGlmdCgpOwogICAgICByZXR1cm4gdG9rZW47CiAgICB9CiAgICByZXR1cm4gZmFsc2U7CiAgfSwKCiAgY29uc3VtZTogZnVuY3Rpb24oZTEpewogICAgaWYgKCF0aGlzLmV4cGVjdChlMSkpIHsKICAgICAgdGhpcy50aHJvd0Vycm9yKCdpcyB1bmV4cGVjdGVkLCBleHBlY3RpbmcgWycgKyBlMSArICddJywgdGhpcy5wZWVrKCkpOwogICAgfQogIH0sCgogIHVuYXJ5Rm46IGZ1bmN0aW9uKGZuLCByaWdodCkgewogICAgcmV0dXJuIGV4dGVuZChmdW5jdGlvbihzZWxmLCBsb2NhbHMpIHsKICAgICAgcmV0dXJuIGZuKHNlbGYsIGxvY2FscywgcmlnaHQpOwogICAgfSwgewogICAgICBjb25zdGFudDpyaWdodC5jb25zdGFudAogICAgfSk7CiAgfSwKCiAgdGVybmFyeUZuOiBmdW5jdGlvbihsZWZ0LCBtaWRkbGUsIHJpZ2h0KXsKICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24oc2VsZiwgbG9jYWxzKXsKICAgICAgcmV0dXJuIGxlZnQoc2VsZiwgbG9jYWxzKSA/IG1pZGRsZShzZWxmLCBsb2NhbHMpIDogcmlnaHQoc2VsZiwgbG9jYWxzKTsKICAgIH0sIHsKICAgICAgY29uc3RhbnQ6IGxlZnQuY29uc3RhbnQgJiYgbWlkZGxlLmNvbnN0YW50ICYmIHJpZ2h0LmNvbnN0YW50CiAgICB9KTsKICB9LAoKICBiaW5hcnlGbjogZnVuY3Rpb24obGVmdCwgZm4sIHJpZ2h0KSB7CiAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uKHNlbGYsIGxvY2FscykgewogICAgICByZXR1cm4gZm4oc2VsZiwgbG9jYWxzLCBsZWZ0LCByaWdodCk7CiAgICB9LCB7CiAgICAgIGNvbnN0YW50OmxlZnQuY29uc3RhbnQgJiYgcmlnaHQuY29uc3RhbnQKICAgIH0pOwogIH0sCgogIHN0YXRlbWVudHM6IGZ1bmN0aW9uKCkgewogICAgdmFyIHN0YXRlbWVudHMgPSBbXTsKICAgIHdoaWxlICh0cnVlKSB7CiAgICAgIGlmICh0aGlzLnRva2Vucy5sZW5ndGggPiAwICYmICF0aGlzLnBlZWsoJ30nLCAnKScsICc7JywgJ10nKSkKICAgICAgICBzdGF0ZW1lbnRzLnB1c2godGhpcy5maWx0ZXJDaGFpbigpKTsKICAgICAgaWYgKCF0aGlzLmV4cGVjdCgnOycpKSB7CiAgICAgICAgLy8gb3B0aW1pemUgZm9yIHRoZSBjb21tb24gY2FzZSB3aGVyZSB0aGVyZSBpcyBvbmx5IG9uZSBzdGF0ZW1lbnQuCiAgICAgICAgLy8gVE9ETyhzaXplKTogbWF5YmUgd2Ugc2hvdWxkIG5vdCBzdXBwb3J0IG11bHRpcGxlIHN0YXRlbWVudHM/CiAgICAgICAgcmV0dXJuIChzdGF0ZW1lbnRzLmxlbmd0aCA9PT0gMSkKICAgICAgICAgICAgPyBzdGF0ZW1lbnRzWzBdCiAgICAgICAgICAgIDogZnVuY3Rpb24oc2VsZiwgbG9jYWxzKSB7CiAgICAgICAgICAgICAgICB2YXIgdmFsdWU7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlbWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlbWVudCA9IHN0YXRlbWVudHNbaV07CiAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHN0YXRlbWVudChzZWxmLCBsb2NhbHMpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgICAgICAgICAgfTsKICAgICAgfQogICAgfQogIH0sCgogIGZpbHRlckNoYWluOiBmdW5jdGlvbigpIHsKICAgIHZhciBsZWZ0ID0gdGhpcy5leHByZXNzaW9uKCk7CiAgICB2YXIgdG9rZW47CiAgICB3aGlsZSAodHJ1ZSkgewogICAgICBpZiAoKHRva2VuID0gdGhpcy5leHBlY3QoJ3wnKSkpIHsKICAgICAgICBsZWZ0ID0gdGhpcy5iaW5hcnlGbihsZWZ0LCB0b2tlbi5mbiwgdGhpcy5maWx0ZXIoKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGxlZnQ7CiAgICAgIH0KICAgIH0KICB9LAoKICBmaWx0ZXI6IGZ1bmN0aW9uKCkgewogICAgdmFyIHRva2VuID0gdGhpcy5leHBlY3QoKTsKICAgIHZhciBmbiA9IHRoaXMuJGZpbHRlcih0b2tlbi50ZXh0KTsKICAgIHZhciBhcmdzRm4gPSBbXTsKICAgIHdoaWxlICh0cnVlKSB7CiAgICAgIGlmICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnOicpKSkgewogICAgICAgIGFyZ3NGbi5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgZm5JbnZva2UgPSBmdW5jdGlvbihzZWxmLCBsb2NhbHMsIGlucHV0KSB7CiAgICAgICAgICB2YXIgYXJncyA9IFtpbnB1dF07CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3NGbi5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBhcmdzLnB1c2goYXJnc0ZuW2ldKHNlbGYsIGxvY2FscykpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHNlbGYsIGFyZ3MpOwogICAgICAgIH07CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICAgICAgcmV0dXJuIGZuSW52b2tlOwogICAgICAgIH07CiAgICAgIH0KICAgIH0KICB9LAoKICBleHByZXNzaW9uOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlzLmFzc2lnbm1lbnQoKTsKICB9LAoKICBhc3NpZ25tZW50OiBmdW5jdGlvbigpIHsKICAgIHZhciBsZWZ0ID0gdGhpcy50ZXJuYXJ5KCk7CiAgICB2YXIgcmlnaHQ7CiAgICB2YXIgdG9rZW47CiAgICBpZiAoKHRva2VuID0gdGhpcy5leHBlY3QoJz0nKSkpIHsKICAgICAgaWYgKCFsZWZ0LmFzc2lnbikgewogICAgICAgIHRoaXMudGhyb3dFcnJvcignaW1wbGllcyBhc3NpZ25tZW50IGJ1dCBbJyArCiAgICAgICAgICAgIHRoaXMudGV4dC5zdWJzdHJpbmcoMCwgdG9rZW4uaW5kZXgpICsgJ10gY2FuIG5vdCBiZSBhc3NpZ25lZCB0bycsIHRva2VuKTsKICAgICAgfQogICAgICByaWdodCA9IHRoaXMudGVybmFyeSgpOwogICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscykgewogICAgICAgIHJldHVybiBsZWZ0LmFzc2lnbihzY29wZSwgcmlnaHQoc2NvcGUsIGxvY2FscyksIGxvY2Fscyk7CiAgICAgIH07CiAgICB9CiAgICByZXR1cm4gbGVmdDsKICB9LAoKICB0ZXJuYXJ5OiBmdW5jdGlvbigpIHsKICAgIHZhciBsZWZ0ID0gdGhpcy5sb2dpY2FsT1IoKTsKICAgIHZhciBtaWRkbGU7CiAgICB2YXIgdG9rZW47CiAgICBpZiAoKHRva2VuID0gdGhpcy5leHBlY3QoJz8nKSkpIHsKICAgICAgbWlkZGxlID0gdGhpcy50ZXJuYXJ5KCk7CiAgICAgIGlmICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnOicpKSkgewogICAgICAgIHJldHVybiB0aGlzLnRlcm5hcnlGbihsZWZ0LCBtaWRkbGUsIHRoaXMudGVybmFyeSgpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnRocm93RXJyb3IoJ2V4cGVjdGVkIDonLCB0b2tlbik7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBsZWZ0OwogICAgfQogIH0sCgogIGxvZ2ljYWxPUjogZnVuY3Rpb24oKSB7CiAgICB2YXIgbGVmdCA9IHRoaXMubG9naWNhbEFORCgpOwogICAgdmFyIHRva2VuOwogICAgd2hpbGUgKHRydWUpIHsKICAgICAgaWYgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCd8fCcpKSkgewogICAgICAgIGxlZnQgPSB0aGlzLmJpbmFyeUZuKGxlZnQsIHRva2VuLmZuLCB0aGlzLmxvZ2ljYWxBTkQoKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGxlZnQ7CiAgICAgIH0KICAgIH0KICB9LAoKICBsb2dpY2FsQU5EOiBmdW5jdGlvbigpIHsKICAgIHZhciBsZWZ0ID0gdGhpcy5lcXVhbGl0eSgpOwogICAgdmFyIHRva2VuOwogICAgaWYgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCcmJicpKSkgewogICAgICBsZWZ0ID0gdGhpcy5iaW5hcnlGbihsZWZ0LCB0b2tlbi5mbiwgdGhpcy5sb2dpY2FsQU5EKCkpOwogICAgfQogICAgcmV0dXJuIGxlZnQ7CiAgfSwKCiAgZXF1YWxpdHk6IGZ1bmN0aW9uKCkgewogICAgdmFyIGxlZnQgPSB0aGlzLnJlbGF0aW9uYWwoKTsKICAgIHZhciB0b2tlbjsKICAgIGlmICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnPT0nLCchPScsJz09PScsJyE9PScpKSkgewogICAgICBsZWZ0ID0gdGhpcy5iaW5hcnlGbihsZWZ0LCB0b2tlbi5mbiwgdGhpcy5lcXVhbGl0eSgpKTsKICAgIH0KICAgIHJldHVybiBsZWZ0OwogIH0sCgogIHJlbGF0aW9uYWw6IGZ1bmN0aW9uKCkgewogICAgdmFyIGxlZnQgPSB0aGlzLmFkZGl0aXZlKCk7CiAgICB2YXIgdG9rZW47CiAgICBpZiAoKHRva2VuID0gdGhpcy5leHBlY3QoJzwnLCAnPicsICc8PScsICc+PScpKSkgewogICAgICBsZWZ0ID0gdGhpcy5iaW5hcnlGbihsZWZ0LCB0b2tlbi5mbiwgdGhpcy5yZWxhdGlvbmFsKCkpOwogICAgfQogICAgcmV0dXJuIGxlZnQ7CiAgfSwKCiAgYWRkaXRpdmU6IGZ1bmN0aW9uKCkgewogICAgdmFyIGxlZnQgPSB0aGlzLm11bHRpcGxpY2F0aXZlKCk7CiAgICB2YXIgdG9rZW47CiAgICB3aGlsZSAoKHRva2VuID0gdGhpcy5leHBlY3QoJysnLCctJykpKSB7CiAgICAgIGxlZnQgPSB0aGlzLmJpbmFyeUZuKGxlZnQsIHRva2VuLmZuLCB0aGlzLm11bHRpcGxpY2F0aXZlKCkpOwogICAgfQogICAgcmV0dXJuIGxlZnQ7CiAgfSwKCiAgbXVsdGlwbGljYXRpdmU6IGZ1bmN0aW9uKCkgewogICAgdmFyIGxlZnQgPSB0aGlzLnVuYXJ5KCk7CiAgICB2YXIgdG9rZW47CiAgICB3aGlsZSAoKHRva2VuID0gdGhpcy5leHBlY3QoJyonLCcvJywnJScpKSkgewogICAgICBsZWZ0ID0gdGhpcy5iaW5hcnlGbihsZWZ0LCB0b2tlbi5mbiwgdGhpcy51bmFyeSgpKTsKICAgIH0KICAgIHJldHVybiBsZWZ0OwogIH0sCgogIHVuYXJ5OiBmdW5jdGlvbigpIHsKICAgIHZhciB0b2tlbjsKICAgIGlmICh0aGlzLmV4cGVjdCgnKycpKSB7CiAgICAgIHJldHVybiB0aGlzLnByaW1hcnkoKTsKICAgIH0gZWxzZSBpZiAoKHRva2VuID0gdGhpcy5leHBlY3QoJy0nKSkpIHsKICAgICAgcmV0dXJuIHRoaXMuYmluYXJ5Rm4oUGFyc2VyLlpFUk8sIHRva2VuLmZuLCB0aGlzLnVuYXJ5KCkpOwogICAgfSBlbHNlIGlmICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnIScpKSkgewogICAgICByZXR1cm4gdGhpcy51bmFyeUZuKHRva2VuLmZuLCB0aGlzLnVuYXJ5KCkpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHRoaXMucHJpbWFyeSgpOwogICAgfQogIH0sCgogIGZpZWxkQWNjZXNzOiBmdW5jdGlvbihvYmplY3QpIHsKICAgIHZhciBwYXJzZXIgPSB0aGlzOwogICAgdmFyIGZpZWxkID0gdGhpcy5leHBlY3QoKS50ZXh0OwogICAgdmFyIGdldHRlciA9IGdldHRlckZuKGZpZWxkLCB0aGlzLm9wdGlvbnMsIHRoaXMudGV4dCk7CgogICAgcmV0dXJuIGV4dGVuZChmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBzZWxmKSB7CiAgICAgIHJldHVybiBnZXR0ZXIoc2VsZiB8fCBvYmplY3Qoc2NvcGUsIGxvY2FscykpOwogICAgfSwgewogICAgICBhc3NpZ246IGZ1bmN0aW9uKHNjb3BlLCB2YWx1ZSwgbG9jYWxzKSB7CiAgICAgICAgcmV0dXJuIHNldHRlcihvYmplY3Qoc2NvcGUsIGxvY2FscyksIGZpZWxkLCB2YWx1ZSwgcGFyc2VyLnRleHQsIHBhcnNlci5vcHRpb25zKTsKICAgICAgfQogICAgfSk7CiAgfSwKCiAgb2JqZWN0SW5kZXg6IGZ1bmN0aW9uKG9iaikgewogICAgdmFyIHBhcnNlciA9IHRoaXM7CgogICAgdmFyIGluZGV4Rm4gPSB0aGlzLmV4cHJlc3Npb24oKTsKICAgIHRoaXMuY29uc3VtZSgnXScpOwoKICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24oc2VsZiwgbG9jYWxzKSB7CiAgICAgIHZhciBvID0gb2JqKHNlbGYsIGxvY2FscyksCiAgICAgICAgICBpID0gaW5kZXhGbihzZWxmLCBsb2NhbHMpLAogICAgICAgICAgdiwgcDsKCiAgICAgIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGksIHBhcnNlci50ZXh0KTsKICAgICAgaWYgKCFvKSByZXR1cm4gdW5kZWZpbmVkOwogICAgICB2ID0gZW5zdXJlU2FmZU9iamVjdChvW2ldLCBwYXJzZXIudGV4dCk7CiAgICAgIGlmICh2ICYmIHYudGhlbiAmJiBwYXJzZXIub3B0aW9ucy51bndyYXBQcm9taXNlcykgewogICAgICAgIHAgPSB2OwogICAgICAgIGlmICghKCckJHYnIGluIHYpKSB7CiAgICAgICAgICBwLiQkdiA9IHVuZGVmaW5lZDsKICAgICAgICAgIHAudGhlbihmdW5jdGlvbih2YWwpIHsgcC4kJHYgPSB2YWw7IH0pOwogICAgICAgIH0KICAgICAgICB2ID0gdi4kJHY7CiAgICAgIH0KICAgICAgcmV0dXJuIHY7CiAgICB9LCB7CiAgICAgIGFzc2lnbjogZnVuY3Rpb24oc2VsZiwgdmFsdWUsIGxvY2FscykgewogICAgICAgIHZhciBrZXkgPSBpbmRleEZuKHNlbGYsIGxvY2Fscyk7CiAgICAgICAgLy8gcHJldmVudCBvdmVyd3JpdGluZyBvZiBGdW5jdGlvbi5jb25zdHJ1Y3RvciB3aGljaCB3b3VsZCBicmVhayBlbnN1cmVTYWZlT2JqZWN0IGNoZWNrCiAgICAgICAgdmFyIHNhZmUgPSBlbnN1cmVTYWZlT2JqZWN0KG9iaihzZWxmLCBsb2NhbHMpLCBwYXJzZXIudGV4dCk7CiAgICAgICAgcmV0dXJuIHNhZmVba2V5XSA9IHZhbHVlOwogICAgICB9CiAgICB9KTsKICB9LAoKICBmdW5jdGlvbkNhbGw6IGZ1bmN0aW9uKGZuLCBjb250ZXh0R2V0dGVyKSB7CiAgICB2YXIgYXJnc0ZuID0gW107CiAgICBpZiAodGhpcy5wZWVrVG9rZW4oKS50ZXh0ICE9PSAnKScpIHsKICAgICAgZG8gewogICAgICAgIGFyZ3NGbi5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKTsKICAgICAgfSB3aGlsZSAodGhpcy5leHBlY3QoJywnKSk7CiAgICB9CiAgICB0aGlzLmNvbnN1bWUoJyknKTsKCiAgICB2YXIgcGFyc2VyID0gdGhpczsKCiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscykgewogICAgICB2YXIgYXJncyA9IFtdOwogICAgICB2YXIgY29udGV4dCA9IGNvbnRleHRHZXR0ZXIgPyBjb250ZXh0R2V0dGVyKHNjb3BlLCBsb2NhbHMpIDogc2NvcGU7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3NGbi5sZW5ndGg7IGkrKykgewogICAgICAgIGFyZ3MucHVzaChhcmdzRm5baV0oc2NvcGUsIGxvY2FscykpOwogICAgICB9CiAgICAgIHZhciBmblB0ciA9IGZuKHNjb3BlLCBsb2NhbHMsIGNvbnRleHQpIHx8IG5vb3A7CgogICAgICBlbnN1cmVTYWZlT2JqZWN0KGNvbnRleHQsIHBhcnNlci50ZXh0KTsKICAgICAgZW5zdXJlU2FmZUZ1bmN0aW9uKGZuUHRyLCBwYXJzZXIudGV4dCk7CgogICAgICAvLyBJRSBzdHVwaWRpdHkhIChJRSBkb2Vzbid0IGhhdmUgYXBwbHkgZm9yIHNvbWUgbmF0aXZlIGZ1bmN0aW9ucykKICAgICAgdmFyIHYgPSBmblB0ci5hcHBseQogICAgICAgICAgICA/IGZuUHRyLmFwcGx5KGNvbnRleHQsIGFyZ3MpCiAgICAgICAgICAgIDogZm5QdHIoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSk7CgogICAgICByZXR1cm4gZW5zdXJlU2FmZU9iamVjdCh2LCBwYXJzZXIudGV4dCk7CiAgICB9OwogIH0sCgogIC8vIFRoaXMgaXMgdXNlZCB3aXRoIGpzb24gYXJyYXkgZGVjbGFyYXRpb24KICBhcnJheURlY2xhcmF0aW9uOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgZWxlbWVudEZucyA9IFtdOwogICAgdmFyIGFsbENvbnN0YW50ID0gdHJ1ZTsKICAgIGlmICh0aGlzLnBlZWtUb2tlbigpLnRleHQgIT09ICddJykgewogICAgICBkbyB7CiAgICAgICAgaWYgKHRoaXMucGVlaygnXScpKSB7CiAgICAgICAgICAvLyBTdXBwb3J0IHRyYWlsaW5nIGNvbW1hcyBwZXIgRVM1LjEuCiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgdmFyIGVsZW1lbnRGbiA9IHRoaXMuZXhwcmVzc2lvbigpOwogICAgICAgIGVsZW1lbnRGbnMucHVzaChlbGVtZW50Rm4pOwogICAgICAgIGlmICghZWxlbWVudEZuLmNvbnN0YW50KSB7CiAgICAgICAgICBhbGxDb25zdGFudCA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSB3aGlsZSAodGhpcy5leHBlY3QoJywnKSk7CiAgICB9CiAgICB0aGlzLmNvbnN1bWUoJ10nKTsKCiAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uKHNlbGYsIGxvY2FscykgewogICAgICB2YXIgYXJyYXkgPSBbXTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50Rm5zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgYXJyYXkucHVzaChlbGVtZW50Rm5zW2ldKHNlbGYsIGxvY2FscykpOwogICAgICB9CiAgICAgIHJldHVybiBhcnJheTsKICAgIH0sIHsKICAgICAgbGl0ZXJhbDogdHJ1ZSwKICAgICAgY29uc3RhbnQ6IGFsbENvbnN0YW50CiAgICB9KTsKICB9LAoKICBvYmplY3Q6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBrZXlWYWx1ZXMgPSBbXTsKICAgIHZhciBhbGxDb25zdGFudCA9IHRydWU7CiAgICBpZiAodGhpcy5wZWVrVG9rZW4oKS50ZXh0ICE9PSAnfScpIHsKICAgICAgZG8gewogICAgICAgIGlmICh0aGlzLnBlZWsoJ30nKSkgewogICAgICAgICAgLy8gU3VwcG9ydCB0cmFpbGluZyBjb21tYXMgcGVyIEVTNS4xLgogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIHZhciB0b2tlbiA9IHRoaXMuZXhwZWN0KCksCiAgICAgICAga2V5ID0gdG9rZW4uc3RyaW5nIHx8IHRva2VuLnRleHQ7CiAgICAgICAgdGhpcy5jb25zdW1lKCc6Jyk7CiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5leHByZXNzaW9uKCk7CiAgICAgICAga2V5VmFsdWVzLnB1c2goe2tleToga2V5LCB2YWx1ZTogdmFsdWV9KTsKICAgICAgICBpZiAoIXZhbHVlLmNvbnN0YW50KSB7CiAgICAgICAgICBhbGxDb25zdGFudCA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSB3aGlsZSAodGhpcy5leHBlY3QoJywnKSk7CiAgICB9CiAgICB0aGlzLmNvbnN1bWUoJ30nKTsKCiAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uKHNlbGYsIGxvY2FscykgewogICAgICB2YXIgb2JqZWN0ID0ge307CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5VmFsdWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGtleVZhbHVlID0ga2V5VmFsdWVzW2ldOwogICAgICAgIG9iamVjdFtrZXlWYWx1ZS5rZXldID0ga2V5VmFsdWUudmFsdWUoc2VsZiwgbG9jYWxzKTsKICAgICAgfQogICAgICByZXR1cm4gb2JqZWN0OwogICAgfSwgewogICAgICBsaXRlcmFsOiB0cnVlLAogICAgICBjb25zdGFudDogYWxsQ29uc3RhbnQKICAgIH0pOwogIH0KfTsKCgovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwovLyBQYXJzZXIgaGVscGVyIGZ1bmN0aW9ucwovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKZnVuY3Rpb24gc2V0dGVyKG9iaiwgcGF0aCwgc2V0VmFsdWUsIGZ1bGxFeHAsIG9wdGlvbnMpIHsKICAvL25lZWRlZD8KICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKCiAgdmFyIGVsZW1lbnQgPSBwYXRoLnNwbGl0KCcuJyksIGtleTsKICBmb3IgKHZhciBpID0gMDsgZWxlbWVudC5sZW5ndGggPiAxOyBpKyspIHsKICAgIGtleSA9IGVuc3VyZVNhZmVNZW1iZXJOYW1lKGVsZW1lbnQuc2hpZnQoKSwgZnVsbEV4cCk7CiAgICB2YXIgcHJvcGVydHlPYmogPSBvYmpba2V5XTsKICAgIGlmICghcHJvcGVydHlPYmopIHsKICAgICAgcHJvcGVydHlPYmogPSB7fTsKICAgICAgb2JqW2tleV0gPSBwcm9wZXJ0eU9iajsKICAgIH0KICAgIG9iaiA9IHByb3BlcnR5T2JqOwogICAgaWYgKG9iai50aGVuICYmIG9wdGlvbnMudW53cmFwUHJvbWlzZXMpIHsKICAgICAgcHJvbWlzZVdhcm5pbmcoZnVsbEV4cCk7CiAgICAgIGlmICghKCIkJHYiIGluIG9iaikpIHsKICAgICAgICAoZnVuY3Rpb24ocHJvbWlzZSkgewogICAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbCkgeyBwcm9taXNlLiQkdiA9IHZhbDsgfSk7IH0KICAgICAgICApKG9iaik7CiAgICAgIH0KICAgICAgaWYgKG9iai4kJHYgPT09IHVuZGVmaW5lZCkgewogICAgICAgIG9iai4kJHYgPSB7fTsKICAgICAgfQogICAgICBvYmogPSBvYmouJCR2OwogICAgfQogIH0KICBrZXkgPSBlbnN1cmVTYWZlTWVtYmVyTmFtZShlbGVtZW50LnNoaWZ0KCksIGZ1bGxFeHApOwogIGVuc3VyZVNhZmVPYmplY3Qob2JqLCBmdWxsRXhwKTsKICBlbnN1cmVTYWZlT2JqZWN0KG9ialtrZXldLCBmdWxsRXhwKTsKICBvYmpba2V5XSA9IHNldFZhbHVlOwogIHJldHVybiBzZXRWYWx1ZTsKfQoKdmFyIGdldHRlckZuQ2FjaGUgPSB7fTsKCi8qKgogKiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgIkJsYWNrIEhvbGUiIHZhcmlhbnQgZnJvbToKICogLSBodHRwOi8vanNwZXJmLmNvbS9hbmd1bGFyanMtcGFyc2UtZ2V0dGVyLzQKICogLSBodHRwOi8vanNwZXJmLmNvbS9wYXRoLWV2YWx1YXRpb24tc2ltcGxpZmllZC83CiAqLwpmdW5jdGlvbiBjc3BTYWZlR2V0dGVyRm4oa2V5MCwga2V5MSwga2V5Miwga2V5Mywga2V5NCwgZnVsbEV4cCwgb3B0aW9ucykgewogIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGtleTAsIGZ1bGxFeHApOwogIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGtleTEsIGZ1bGxFeHApOwogIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGtleTIsIGZ1bGxFeHApOwogIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGtleTMsIGZ1bGxFeHApOwogIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGtleTQsIGZ1bGxFeHApOwoKICByZXR1cm4gIW9wdGlvbnMudW53cmFwUHJvbWlzZXMKICAgICAgPyBmdW5jdGlvbiBjc3BTYWZlR2V0dGVyKHNjb3BlLCBsb2NhbHMpIHsKICAgICAgICAgIHZhciBwYXRoVmFsID0gKGxvY2FscyAmJiBsb2NhbHMuaGFzT3duUHJvcGVydHkoa2V5MCkpID8gbG9jYWxzIDogc2NvcGU7CgogICAgICAgICAgaWYgKHBhdGhWYWwgPT0gbnVsbCkgcmV0dXJuIHBhdGhWYWw7CiAgICAgICAgICBwYXRoVmFsID0gcGF0aFZhbFtrZXkwXTsKCiAgICAgICAgICBpZiAoIWtleTEpIHJldHVybiBwYXRoVmFsOwogICAgICAgICAgaWYgKHBhdGhWYWwgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDsKICAgICAgICAgIHBhdGhWYWwgPSBwYXRoVmFsW2tleTFdOwoKICAgICAgICAgIGlmICgha2V5MikgcmV0dXJuIHBhdGhWYWw7CiAgICAgICAgICBpZiAocGF0aFZhbCA9PSBudWxsKSByZXR1cm4gdW5kZWZpbmVkOwogICAgICAgICAgcGF0aFZhbCA9IHBhdGhWYWxba2V5Ml07CgogICAgICAgICAgaWYgKCFrZXkzKSByZXR1cm4gcGF0aFZhbDsKICAgICAgICAgIGlmIChwYXRoVmFsID09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7CiAgICAgICAgICBwYXRoVmFsID0gcGF0aFZhbFtrZXkzXTsKCiAgICAgICAgICBpZiAoIWtleTQpIHJldHVybiBwYXRoVmFsOwogICAgICAgICAgaWYgKHBhdGhWYWwgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDsKICAgICAgICAgIHBhdGhWYWwgPSBwYXRoVmFsW2tleTRdOwoKICAgICAgICAgIHJldHVybiBwYXRoVmFsOwogICAgICAgIH0KICAgICAgOiBmdW5jdGlvbiBjc3BTYWZlUHJvbWlzZUVuYWJsZWRHZXR0ZXIoc2NvcGUsIGxvY2FscykgewogICAgICAgICAgdmFyIHBhdGhWYWwgPSAobG9jYWxzICYmIGxvY2Fscy5oYXNPd25Qcm9wZXJ0eShrZXkwKSkgPyBsb2NhbHMgOiBzY29wZSwKICAgICAgICAgICAgICBwcm9taXNlOwoKICAgICAgICAgIGlmIChwYXRoVmFsID09IG51bGwpIHJldHVybiBwYXRoVmFsOwoKICAgICAgICAgIHBhdGhWYWwgPSBwYXRoVmFsW2tleTBdOwogICAgICAgICAgaWYgKHBhdGhWYWwgJiYgcGF0aFZhbC50aGVuKSB7CiAgICAgICAgICAgIHByb21pc2VXYXJuaW5nKGZ1bGxFeHApOwogICAgICAgICAgICBpZiAoISgiJCR2IiBpbiBwYXRoVmFsKSkgewogICAgICAgICAgICAgIHByb21pc2UgPSBwYXRoVmFsOwogICAgICAgICAgICAgIHByb21pc2UuJCR2ID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbih2YWwpIHsgcHJvbWlzZS4kJHYgPSB2YWw7IH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHBhdGhWYWwgPSBwYXRoVmFsLiQkdjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoIWtleTEpIHJldHVybiBwYXRoVmFsOwogICAgICAgICAgaWYgKHBhdGhWYWwgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDsKICAgICAgICAgIHBhdGhWYWwgPSBwYXRoVmFsW2tleTFdOwogICAgICAgICAgaWYgKHBhdGhWYWwgJiYgcGF0aFZhbC50aGVuKSB7CiAgICAgICAgICAgIHByb21pc2VXYXJuaW5nKGZ1bGxFeHApOwogICAgICAgICAgICBpZiAoISgiJCR2IiBpbiBwYXRoVmFsKSkgewogICAgICAgICAgICAgIHByb21pc2UgPSBwYXRoVmFsOwogICAgICAgICAgICAgIHByb21pc2UuJCR2ID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbih2YWwpIHsgcHJvbWlzZS4kJHYgPSB2YWw7IH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHBhdGhWYWwgPSBwYXRoVmFsLiQkdjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoIWtleTIpIHJldHVybiBwYXRoVmFsOwogICAgICAgICAgaWYgKHBhdGhWYWwgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDsKICAgICAgICAgIHBhdGhWYWwgPSBwYXRoVmFsW2tleTJdOwogICAgICAgICAgaWYgKHBhdGhWYWwgJiYgcGF0aFZhbC50aGVuKSB7CiAgICAgICAgICAgIHByb21pc2VXYXJuaW5nKGZ1bGxFeHApOwogICAgICAgICAgICBpZiAoISgiJCR2IiBpbiBwYXRoVmFsKSkgewogICAgICAgICAgICAgIHByb21pc2UgPSBwYXRoVmFsOwogICAgICAgICAgICAgIHByb21pc2UuJCR2ID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbih2YWwpIHsgcHJvbWlzZS4kJHYgPSB2YWw7IH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHBhdGhWYWwgPSBwYXRoVmFsLiQkdjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoIWtleTMpIHJldHVybiBwYXRoVmFsOwogICAgICAgICAgaWYgKHBhdGhWYWwgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDsKICAgICAgICAgIHBhdGhWYWwgPSBwYXRoVmFsW2tleTNdOwogICAgICAgICAgaWYgKHBhdGhWYWwgJiYgcGF0aFZhbC50aGVuKSB7CiAgICAgICAgICAgIHByb21pc2VXYXJuaW5nKGZ1bGxFeHApOwogICAgICAgICAgICBpZiAoISgiJCR2IiBpbiBwYXRoVmFsKSkgewogICAgICAgICAgICAgIHByb21pc2UgPSBwYXRoVmFsOwogICAgICAgICAgICAgIHByb21pc2UuJCR2ID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbih2YWwpIHsgcHJvbWlzZS4kJHYgPSB2YWw7IH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHBhdGhWYWwgPSBwYXRoVmFsLiQkdjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoIWtleTQpIHJldHVybiBwYXRoVmFsOwogICAgICAgICAgaWYgKHBhdGhWYWwgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDsKICAgICAgICAgIHBhdGhWYWwgPSBwYXRoVmFsW2tleTRdOwogICAgICAgICAgaWYgKHBhdGhWYWwgJiYgcGF0aFZhbC50aGVuKSB7CiAgICAgICAgICAgIHByb21pc2VXYXJuaW5nKGZ1bGxFeHApOwogICAgICAgICAgICBpZiAoISgiJCR2IiBpbiBwYXRoVmFsKSkgewogICAgICAgICAgICAgIHByb21pc2UgPSBwYXRoVmFsOwogICAgICAgICAgICAgIHByb21pc2UuJCR2ID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbih2YWwpIHsgcHJvbWlzZS4kJHYgPSB2YWw7IH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHBhdGhWYWwgPSBwYXRoVmFsLiQkdjsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBwYXRoVmFsOwogICAgICAgIH07Cn0KCmZ1bmN0aW9uIHNpbXBsZUdldHRlckZuMShrZXkwLCBmdWxsRXhwKSB7CiAgZW5zdXJlU2FmZU1lbWJlck5hbWUoa2V5MCwgZnVsbEV4cCk7CgogIHJldHVybiBmdW5jdGlvbiBzaW1wbGVHZXR0ZXJGbjEoc2NvcGUsIGxvY2FscykgewogICAgaWYgKHNjb3BlID09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7CiAgICByZXR1cm4gKChsb2NhbHMgJiYgbG9jYWxzLmhhc093blByb3BlcnR5KGtleTApKSA/IGxvY2FscyA6IHNjb3BlKVtrZXkwXTsKICB9Owp9CgpmdW5jdGlvbiBzaW1wbGVHZXR0ZXJGbjIoa2V5MCwga2V5MSwgZnVsbEV4cCkgewogIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGtleTAsIGZ1bGxFeHApOwogIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGtleTEsIGZ1bGxFeHApOwoKICByZXR1cm4gZnVuY3Rpb24gc2ltcGxlR2V0dGVyRm4yKHNjb3BlLCBsb2NhbHMpIHsKICAgIGlmIChzY29wZSA9PSBudWxsKSByZXR1cm4gdW5kZWZpbmVkOwogICAgc2NvcGUgPSAoKGxvY2FscyAmJiBsb2NhbHMuaGFzT3duUHJvcGVydHkoa2V5MCkpID8gbG9jYWxzIDogc2NvcGUpW2tleTBdOwogICAgcmV0dXJuIHNjb3BlID09IG51bGwgPyB1bmRlZmluZWQgOiBzY29wZVtrZXkxXTsKICB9Owp9CgpmdW5jdGlvbiBnZXR0ZXJGbihwYXRoLCBvcHRpb25zLCBmdWxsRXhwKSB7CiAgLy8gQ2hlY2sgd2hldGhlciB0aGUgY2FjaGUgaGFzIHRoaXMgZ2V0dGVyIGFscmVhZHkuCiAgLy8gV2UgY2FuIHVzZSBoYXNPd25Qcm9wZXJ0eSBkaXJlY3RseSBvbiB0aGUgY2FjaGUgYmVjYXVzZSB3ZSBlbnN1cmUsCiAgLy8gc2VlIGJlbG93LCB0aGF0IHRoZSBjYWNoZSBuZXZlciBzdG9yZXMgYSBwYXRoIGNhbGxlZCAnaGFzT3duUHJvcGVydHknCiAgaWYgKGdldHRlckZuQ2FjaGUuaGFzT3duUHJvcGVydHkocGF0aCkpIHsKICAgIHJldHVybiBnZXR0ZXJGbkNhY2hlW3BhdGhdOwogIH0KCiAgdmFyIHBhdGhLZXlzID0gcGF0aC5zcGxpdCgnLicpLAogICAgICBwYXRoS2V5c0xlbmd0aCA9IHBhdGhLZXlzLmxlbmd0aCwKICAgICAgZm47CgogIC8vIFdoZW4gd2UgaGF2ZSBvbmx5IDEgb3IgMiB0b2tlbnMsIHVzZSBvcHRpbWl6ZWQgc3BlY2lhbCBjYXNlIGNsb3N1cmVzLgogIC8vIGh0dHA6Ly9qc3BlcmYuY29tL2FuZ3VsYXJqcy1wYXJzZS1nZXR0ZXIvNgogIGlmICghb3B0aW9ucy51bndyYXBQcm9taXNlcyAmJiBwYXRoS2V5c0xlbmd0aCA9PT0gMSkgewogICAgZm4gPSBzaW1wbGVHZXR0ZXJGbjEocGF0aEtleXNbMF0sIGZ1bGxFeHApOwogIH0gZWxzZSBpZiAoIW9wdGlvbnMudW53cmFwUHJvbWlzZXMgJiYgcGF0aEtleXNMZW5ndGggPT09IDIpIHsKICAgIGZuID0gc2ltcGxlR2V0dGVyRm4yKHBhdGhLZXlzWzBdLCBwYXRoS2V5c1sxXSwgZnVsbEV4cCk7CiAgfSBlbHNlIGlmIChvcHRpb25zLmNzcCkgewogICAgaWYgKHBhdGhLZXlzTGVuZ3RoIDwgNikgewogICAgICBmbiA9IGNzcFNhZmVHZXR0ZXJGbihwYXRoS2V5c1swXSwgcGF0aEtleXNbMV0sIHBhdGhLZXlzWzJdLCBwYXRoS2V5c1szXSwgcGF0aEtleXNbNF0sIGZ1bGxFeHAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyk7CiAgICB9IGVsc2UgewogICAgICBmbiA9IGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMpIHsKICAgICAgICB2YXIgaSA9IDAsIHZhbDsKICAgICAgICBkbyB7CiAgICAgICAgICB2YWwgPSBjc3BTYWZlR2V0dGVyRm4ocGF0aEtleXNbaSsrXSwgcGF0aEtleXNbaSsrXSwgcGF0aEtleXNbaSsrXSwgcGF0aEtleXNbaSsrXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoS2V5c1tpKytdLCBmdWxsRXhwLCBvcHRpb25zKShzY29wZSwgbG9jYWxzKTsKCiAgICAgICAgICBsb2NhbHMgPSB1bmRlZmluZWQ7IC8vIGNsZWFyIGFmdGVyIGZpcnN0IGl0ZXJhdGlvbgogICAgICAgICAgc2NvcGUgPSB2YWw7CiAgICAgICAgfSB3aGlsZSAoaSA8IHBhdGhLZXlzTGVuZ3RoKTsKICAgICAgICByZXR1cm4gdmFsOwogICAgICB9OwogICAgfQogIH0gZWxzZSB7CiAgICB2YXIgY29kZSA9ICd2YXIgcDtcbic7CiAgICBmb3JFYWNoKHBhdGhLZXlzLCBmdW5jdGlvbihrZXksIGluZGV4KSB7CiAgICAgIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGtleSwgZnVsbEV4cCk7CiAgICAgIGNvZGUgKz0gJ2lmKHMgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDtcbicgKwogICAgICAgICAgICAgICdzPScrIChpbmRleAogICAgICAgICAgICAgICAgICAgICAgLy8gd2Ugc2ltcGx5IGRlcmVmZXJlbmNlICdzJyBvbiBhbnkgLmRvdCBub3RhdGlvbgogICAgICAgICAgICAgICAgICAgICAgPyAncycKICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBpZiB3ZSBhcmUgZmlyc3QgdGhlbiB3ZSBjaGVjayBsb2NhbHMgZmlyc3QsIGFuZCBpZiBzbyByZWFkIGl0IGZpcnN0CiAgICAgICAgICAgICAgICAgICAgICA6ICcoKGsmJmsuaGFzT3duUHJvcGVydHkoIicgKyBrZXkgKyAnIikpP2s6cyknKSArICdbIicgKyBrZXkgKyAnIl0nICsgJztcbicgKwogICAgICAgICAgICAgIChvcHRpb25zLnVud3JhcFByb21pc2VzCiAgICAgICAgICAgICAgICA/ICdpZiAocyAmJiBzLnRoZW4pIHtcbicgKwogICAgICAgICAgICAgICAgICAnIHB3KCInICsgZnVsbEV4cC5yZXBsYWNlKC8oWyJcclxuXSkvZywgJ1xcJDEnKSArICciKTtcbicgKwogICAgICAgICAgICAgICAgICAnIGlmICghKCIkJHYiIGluIHMpKSB7XG4nICsKICAgICAgICAgICAgICAgICAgICAnIHA9cztcbicgKwogICAgICAgICAgICAgICAgICAgICcgcC4kJHYgPSB1bmRlZmluZWQ7XG4nICsKICAgICAgICAgICAgICAgICAgICAnIHAudGhlbihmdW5jdGlvbih2KSB7cC4kJHY9djt9KTtcbicgKwogICAgICAgICAgICAgICAgICAgICd9XG4nICsKICAgICAgICAgICAgICAgICAgJyBzPXMuJCR2XG4nICsKICAgICAgICAgICAgICAgICd9XG4nCiAgICAgICAgICAgICAgICA6ICcnKTsKICAgIH0pOwogICAgY29kZSArPSAncmV0dXJuIHM7JzsKCiAgICAvKiBqc2hpbnQgLVcwNTQgKi8KICAgIHZhciBldmFsZWRGbkdldHRlciA9IG5ldyBGdW5jdGlvbigncycsICdrJywgJ3B3JywgY29kZSk7IC8vIHM9c2NvcGUsIGs9bG9jYWxzLCBwdz1wcm9taXNlV2FybmluZwogICAgLyoganNoaW50ICtXMDU0ICovCiAgICBldmFsZWRGbkdldHRlci50b1N0cmluZyA9IHZhbHVlRm4oY29kZSk7CiAgICBmbiA9IG9wdGlvbnMudW53cmFwUHJvbWlzZXMgPyBmdW5jdGlvbihzY29wZSwgbG9jYWxzKSB7CiAgICAgIHJldHVybiBldmFsZWRGbkdldHRlcihzY29wZSwgbG9jYWxzLCBwcm9taXNlV2FybmluZyk7CiAgICB9IDogZXZhbGVkRm5HZXR0ZXI7CiAgfQoKICAvLyBPbmx5IGNhY2hlIHRoZSB2YWx1ZSBpZiBpdCdzIG5vdCBnb2luZyB0byBtZXNzIHVwIHRoZSBjYWNoZSBvYmplY3QKICAvLyBUaGlzIGlzIG1vcmUgcGVyZm9ybWFudCB0aGF0IHVzaW5nIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbAogIGlmIChwYXRoICE9PSAnaGFzT3duUHJvcGVydHknKSB7CiAgICBnZXR0ZXJGbkNhY2hlW3BhdGhdID0gZm47CiAgfQogIHJldHVybiBmbjsKfQoKLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCi8qKgogKiBAbmdkb2Mgc2VydmljZQogKiBAbmFtZSAkcGFyc2UKICogQGtpbmQgZnVuY3Rpb24KICoKICogQGRlc2NyaXB0aW9uCiAqCiAqIENvbnZlcnRzIEFuZ3VsYXIge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaW50byBhIGZ1bmN0aW9uLgogKgogKiBgYGBqcwogKiAgIHZhciBnZXR0ZXIgPSAkcGFyc2UoJ3VzZXIubmFtZScpOwogKiAgIHZhciBzZXR0ZXIgPSBnZXR0ZXIuYXNzaWduOwogKiAgIHZhciBjb250ZXh0ID0ge3VzZXI6e25hbWU6J2FuZ3VsYXInfX07CiAqICAgdmFyIGxvY2FscyA9IHt1c2VyOntuYW1lOidsb2NhbCd9fTsKICoKICogICBleHBlY3QoZ2V0dGVyKGNvbnRleHQpKS50b0VxdWFsKCdhbmd1bGFyJyk7CiAqICAgc2V0dGVyKGNvbnRleHQsICduZXdWYWx1ZScpOwogKiAgIGV4cGVjdChjb250ZXh0LnVzZXIubmFtZSkudG9FcXVhbCgnbmV3VmFsdWUnKTsKICogICBleHBlY3QoZ2V0dGVyKGNvbnRleHQsIGxvY2FscykpLnRvRXF1YWwoJ2xvY2FsJyk7CiAqIGBgYAogKgogKgogKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLgogKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gYSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOgogKgogKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzCiAqICAgICAgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLgogKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluCiAqICAgICAgYGNvbnRleHRgLgogKgogKiAgICBUaGUgcmV0dXJuZWQgZnVuY3Rpb24gYWxzbyBoYXMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOgogKiAgICAgICogYGxpdGVyYWxgIOKAkyBge2Jvb2xlYW59YCDigJMgd2hldGhlciB0aGUgZXhwcmVzc2lvbidzIHRvcC1sZXZlbCBub2RlIGlzIGEgSmF2YVNjcmlwdAogKiAgICAgICAgbGl0ZXJhbC4KICogICAgICAqIGBjb25zdGFudGAg4oCTIGB7Ym9vbGVhbn1gIOKAkyB3aGV0aGVyIHRoZSBleHByZXNzaW9uIGlzIG1hZGUgZW50aXJlbHkgb2YgSmF2YVNjcmlwdAogKiAgICAgICAgY29uc3RhbnQgbGl0ZXJhbHMuCiAqICAgICAgKiBgYXNzaWduYCDigJMgYHs/ZnVuY3Rpb24oY29udGV4dCwgdmFsdWUpfWAg4oCTIGlmIHRoZSBleHByZXNzaW9uIGlzIGFzc2lnbmFibGUsIHRoaXMgd2lsbCBiZQogKiAgICAgICAgc2V0IHRvIGEgZnVuY3Rpb24gdG8gY2hhbmdlIGl0cyB2YWx1ZSBvbiB0aGUgZ2l2ZW4gY29udGV4dC4KICoKICovCgoKLyoqCiAqIEBuZ2RvYyBwcm92aWRlcgogKiBAbmFtZSAkcGFyc2VQcm92aWRlcgogKiBAa2luZCBmdW5jdGlvbgogKgogKiBAZGVzY3JpcHRpb24KICogYCRwYXJzZVByb3ZpZGVyYCBjYW4gYmUgdXNlZCBmb3IgY29uZmlndXJpbmcgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb2YgdGhlIHtAbGluayBuZy4kcGFyc2UgJHBhcnNlfQogKiAgc2VydmljZS4KICovCmZ1bmN0aW9uICRQYXJzZVByb3ZpZGVyKCkgewogIHZhciBjYWNoZSA9IHt9OwoKICB2YXIgJHBhcnNlT3B0aW9ucyA9IHsKICAgIGNzcDogZmFsc2UsCiAgICB1bndyYXBQcm9taXNlczogZmFsc2UsCiAgICBsb2dQcm9taXNlV2FybmluZ3M6IHRydWUKICB9OwoKCiAgLyoqCiAgICogQGRlcHJlY2F0ZWQgUHJvbWlzZSB1bndyYXBwaW5nIHZpYSAkcGFyc2UgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUuCiAgICoKICAgKiBAbmdkb2MgbWV0aG9kCiAgICogQG5hbWUgJHBhcnNlUHJvdmlkZXIjdW53cmFwUHJvbWlzZXMKICAgKiBAZGVzY3JpcHRpb24KICAgKgogICAqICoqVGhpcyBmZWF0dXJlIGlzIGRlcHJlY2F0ZWQsIHNlZSBkZXByZWNhdGlvbiBub3RlcyBiZWxvdyBmb3IgbW9yZSBpbmZvKioKICAgKgogICAqIElmIHNldCB0byB0cnVlIChkZWZhdWx0IGlzIGZhbHNlKSwgJHBhcnNlIHdpbGwgdW53cmFwIHByb21pc2VzIGF1dG9tYXRpY2FsbHkgd2hlbiBhIHByb21pc2UgaXMKICAgKiBmb3VuZCBhdCBhbnkgcGFydCBvZiB0aGUgZXhwcmVzc2lvbi4gSW4gb3RoZXIgd29yZHMsIGlmIHNldCB0byB0cnVlLCB0aGUgZXhwcmVzc2lvbiB3aWxsIGFsd2F5cwogICAqIHJlc3VsdCBpbiBhIG5vbi1wcm9taXNlIHZhbHVlLgogICAqCiAgICogV2hpbGUgdGhlIHByb21pc2UgaXMgdW5yZXNvbHZlZCwgaXQncyB0cmVhdGVkIGFzIHVuZGVmaW5lZCwgYnV0IG9uY2UgcmVzb2x2ZWQgYW5kIGZ1bGZpbGxlZCwKICAgKiB0aGUgZnVsZmlsbG1lbnQgdmFsdWUgaXMgdXNlZCBpbiBwbGFjZSBvZiB0aGUgcHJvbWlzZSB3aGlsZSBldmFsdWF0aW5nIHRoZSBleHByZXNzaW9uLgogICAqCiAgICogKipEZXByZWNhdGlvbiBub3RpY2UqKgogICAqCiAgICogVGhpcyBpcyBhIGZlYXR1cmUgdGhhdCBkaWRuJ3QgcHJvdmUgdG8gYmUgd2lsZGx5IHVzZWZ1bCBvciBwb3B1bGFyLCBwcmltYXJpbHkgYmVjYXVzZSBvZiB0aGUKICAgKiBkaWNob3RvbXkgYmV0d2VlbiBkYXRhIGFjY2VzcyBpbiB0ZW1wbGF0ZXMgKGFjY2Vzc2VkIGFzIHJhdyB2YWx1ZXMpIGFuZCBjb250cm9sbGVyIGNvZGUKICAgKiAoYWNjZXNzZWQgYXMgcHJvbWlzZXMpLgogICAqCiAgICogSW4gbW9zdCBjb2RlIHdlIGVuZGVkIHVwIHJlc29sdmluZyBwcm9taXNlcyBtYW51YWxseSBpbiBjb250cm9sbGVycyBhbnl3YXkgYW5kIHRodXMgdW5pZnlpbmcKICAgKiB0aGUgbW9kZWwgYWNjZXNzIHRoZXJlLgogICAqCiAgICogT3RoZXIgZG93bnNpZGVzIG9mIGF1dG9tYXRpYyBwcm9taXNlIHVud3JhcHBpbmc6CiAgICoKICAgKiAtIHdoZW4gYnVpbGRpbmcgY29tcG9uZW50cyBpdCdzIG9mdGVuIGRlc2lyYWJsZSB0byByZWNlaXZlIHRoZSByYXcgcHJvbWlzZXMKICAgKiAtIGFkZHMgY29tcGxleGl0eSBhbmQgc2xvd3MgZG93biBleHByZXNzaW9uIGV2YWx1YXRpb24KICAgKiAtIG1ha2VzIGV4cHJlc3Npb24gY29kZSBwcmUtZ2VuZXJhdGlvbiB1bmF0dHJhY3RpdmUgZHVlIHRvIHRoZSBhbW91bnQgb2YgY29kZSB0aGF0IG5lZWRzIHRvIGJlCiAgICogICBnZW5lcmF0ZWQKICAgKiAtIG1ha2VzIElERSBhdXRvLWNvbXBsZXRpb24gYW5kIHRvb2wgc3VwcG9ydCBoYXJkCiAgICoKICAgKiAqKldhcm5pbmcgTG9ncyoqCiAgICoKICAgKiBJZiB0aGUgdW53cmFwcGluZyBpcyBlbmFibGVkLCBBbmd1bGFyIHdpbGwgbG9nIGEgd2FybmluZyBhYm91dCBlYWNoIGV4cHJlc3Npb24gdGhhdCB1bndyYXBzIGEKICAgKiBwcm9taXNlICh0byByZWR1Y2UgdGhlIG5vaXNlLCBlYWNoIGV4cHJlc3Npb24gaXMgbG9nZ2VkIG9ubHkgb25jZSkuIFRvIGRpc2FibGUgdGhpcyBsb2dnaW5nIHVzZQogICAqIGAkcGFyc2VQcm92aWRlci5sb2dQcm9taXNlV2FybmluZ3MoZmFsc2UpYCBhcGkuCiAgICoKICAgKgogICAqIEBwYXJhbSB7Ym9vbGVhbj19IHZhbHVlIE5ldyB2YWx1ZS4KICAgKiBAcmV0dXJucyB7Ym9vbGVhbnxzZWxmfSBSZXR1cm5zIHRoZSBjdXJyZW50IHNldHRpbmcgd2hlbiB1c2VkIGFzIGdldHRlciBhbmQgc2VsZiBpZiB1c2VkIGFzCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGVyLgogICAqLwogIHRoaXMudW53cmFwUHJvbWlzZXMgPSBmdW5jdGlvbih2YWx1ZSkgewogICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHsKICAgICAgJHBhcnNlT3B0aW9ucy51bndyYXBQcm9taXNlcyA9ICEhdmFsdWU7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICRwYXJzZU9wdGlvbnMudW53cmFwUHJvbWlzZXM7CiAgICB9CiAgfTsKCgogIC8qKgogICAqIEBkZXByZWNhdGVkIFByb21pc2UgdW53cmFwcGluZyB2aWEgJHBhcnNlIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLgogICAqCiAgICogQG5nZG9jIG1ldGhvZAogICAqIEBuYW1lICRwYXJzZVByb3ZpZGVyI2xvZ1Byb21pc2VXYXJuaW5ncwogICAqIEBkZXNjcmlwdGlvbgogICAqCiAgICogQ29udHJvbHMgd2hldGhlciBBbmd1bGFyIHNob3VsZCBsb2cgYSB3YXJuaW5nIG9uIGFueSBlbmNvdW50ZXIgb2YgYSBwcm9taXNlIGluIGFuIGV4cHJlc3Npb24uCiAgICoKICAgKiBUaGUgZGVmYXVsdCBpcyBzZXQgdG8gYHRydWVgLgogICAqCiAgICogVGhpcyBzZXR0aW5nIGFwcGxpZXMgb25seSBpZiBgJHBhcnNlUHJvdmlkZXIudW53cmFwUHJvbWlzZXNgIHNldHRpbmcgaXMgc2V0IHRvIHRydWUgYXMgd2VsbC4KICAgKgogICAqIEBwYXJhbSB7Ym9vbGVhbj19IHZhbHVlIE5ldyB2YWx1ZS4KICAgKiBAcmV0dXJucyB7Ym9vbGVhbnxzZWxmfSBSZXR1cm5zIHRoZSBjdXJyZW50IHNldHRpbmcgd2hlbiB1c2VkIGFzIGdldHRlciBhbmQgc2VsZiBpZiB1c2VkIGFzCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGVyLgogICAqLwogdGhpcy5sb2dQcm9taXNlV2FybmluZ3MgPSBmdW5jdGlvbih2YWx1ZSkgewogICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHsKICAgICAgJHBhcnNlT3B0aW9ucy5sb2dQcm9taXNlV2FybmluZ3MgPSB2YWx1ZTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gJHBhcnNlT3B0aW9ucy5sb2dQcm9taXNlV2FybmluZ3M7CiAgICB9CiAgfTsKCgogIHRoaXMuJGdldCA9IFsnJGZpbHRlcicsICckc25pZmZlcicsICckbG9nJywgZnVuY3Rpb24oJGZpbHRlciwgJHNuaWZmZXIsICRsb2cpIHsKICAgICRwYXJzZU9wdGlvbnMuY3NwID0gJHNuaWZmZXIuY3NwOwoKICAgIHByb21pc2VXYXJuaW5nID0gZnVuY3Rpb24gcHJvbWlzZVdhcm5pbmdGbihmdWxsRXhwKSB7CiAgICAgIGlmICghJHBhcnNlT3B0aW9ucy5sb2dQcm9taXNlV2FybmluZ3MgfHwgcHJvbWlzZVdhcm5pbmdDYWNoZS5oYXNPd25Qcm9wZXJ0eShmdWxsRXhwKSkgcmV0dXJuOwogICAgICBwcm9taXNlV2FybmluZ0NhY2hlW2Z1bGxFeHBdID0gdHJ1ZTsKICAgICAgJGxvZy53YXJuKCdbJHBhcnNlXSBQcm9taXNlIGZvdW5kIGluIHRoZSBleHByZXNzaW9uIGAnICsgZnVsbEV4cCArICdgLiAnICsKICAgICAgICAgICdBdXRvbWF0aWMgdW53cmFwcGluZyBvZiBwcm9taXNlcyBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRlcHJlY2F0ZWQuJyk7CiAgICB9OwoKICAgIHJldHVybiBmdW5jdGlvbihleHApIHsKICAgICAgdmFyIHBhcnNlZEV4cHJlc3Npb247CgogICAgICBzd2l0Y2ggKHR5cGVvZiBleHApIHsKICAgICAgICBjYXNlICdzdHJpbmcnOgoKICAgICAgICAgIGlmIChjYWNoZS5oYXNPd25Qcm9wZXJ0eShleHApKSB7CiAgICAgICAgICAgIHJldHVybiBjYWNoZVtleHBdOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBsZXhlciA9IG5ldyBMZXhlcigkcGFyc2VPcHRpb25zKTsKICAgICAgICAgIHZhciBwYXJzZXIgPSBuZXcgUGFyc2VyKGxleGVyLCAkZmlsdGVyLCAkcGFyc2VPcHRpb25zKTsKICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24gPSBwYXJzZXIucGFyc2UoZXhwKTsKCiAgICAgICAgICBpZiAoZXhwICE9PSAnaGFzT3duUHJvcGVydHknKSB7CiAgICAgICAgICAgIC8vIE9ubHkgY2FjaGUgdGhlIHZhbHVlIGlmIGl0J3Mgbm90IGdvaW5nIHRvIG1lc3MgdXAgdGhlIGNhY2hlIG9iamVjdAogICAgICAgICAgICAvLyBUaGlzIGlzIG1vcmUgcGVyZm9ybWFudCB0aGF0IHVzaW5nIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbAogICAgICAgICAgICBjYWNoZVtleHBdID0gcGFyc2VkRXhwcmVzc2lvbjsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gcGFyc2VkRXhwcmVzc2lvbjsKCiAgICAgICAgY2FzZSAnZnVuY3Rpb24nOgogICAgICAgICAgcmV0dXJuIGV4cDsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybiBub29wOwogICAgICB9CiAgICB9OwogIH1dOwp9CgovKioKICogQG5nZG9jIHNlcnZpY2UKICogQG5hbWUgJHEKICogQHJlcXVpcmVzICRyb290U2NvcGUKICoKICogQGRlc2NyaXB0aW9uCiAqIEEgcHJvbWlzZS9kZWZlcnJlZCBpbXBsZW1lbnRhdGlvbiBpbnNwaXJlZCBieSBbS3JpcyBLb3dhbCdzIFFdKGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvcSkuCiAqCiAqIFtUaGUgQ29tbW9uSlMgUHJvbWlzZSBwcm9wb3NhbF0oaHR0cDovL3dpa2kuY29tbW9uanMub3JnL3dpa2kvUHJvbWlzZXMpIGRlc2NyaWJlcyBhIHByb21pc2UgYXMgYW4KICogaW50ZXJmYWNlIGZvciBpbnRlcmFjdGluZyB3aXRoIGFuIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgdGhlIHJlc3VsdCBvZiBhbiBhY3Rpb24gdGhhdCBpcwogKiBwZXJmb3JtZWQgYXN5bmNocm9ub3VzbHksIGFuZCBtYXkgb3IgbWF5IG5vdCBiZSBmaW5pc2hlZCBhdCBhbnkgZ2l2ZW4gcG9pbnQgaW4gdGltZS4KICoKICogRnJvbSB0aGUgcGVyc3BlY3RpdmUgb2YgZGVhbGluZyB3aXRoIGVycm9yIGhhbmRsaW5nLCBkZWZlcnJlZCBhbmQgcHJvbWlzZSBBUElzIGFyZSB0bwogKiBhc3luY2hyb25vdXMgcHJvZ3JhbW1pbmcgd2hhdCBgdHJ5YCwgYGNhdGNoYCBhbmQgYHRocm93YCBrZXl3b3JkcyBhcmUgdG8gc3luY2hyb25vdXMgcHJvZ3JhbW1pbmcuCiAqCiAqIGBgYGpzCiAqICAgLy8gZm9yIHRoZSBwdXJwb3NlIG9mIHRoaXMgZXhhbXBsZSBsZXQncyBhc3N1bWUgdGhhdCB2YXJpYWJsZXMgYCRxYCwgYHNjb3BlYCBhbmQgYG9rVG9HcmVldGAKICogICAvLyBhcmUgYXZhaWxhYmxlIGluIHRoZSBjdXJyZW50IGxleGljYWwgc2NvcGUgKHRoZXkgY291bGQgaGF2ZSBiZWVuIGluamVjdGVkIG9yIHBhc3NlZCBpbikuCiAqCiAqICAgZnVuY3Rpb24gYXN5bmNHcmVldChuYW1lKSB7CiAqICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpOwogKgogKiAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICogICAgICAgZGVmZXJyZWQubm90aWZ5KCdBYm91dCB0byBncmVldCAnICsgbmFtZSArICcuJyk7CiAqCiAqICAgICAgIGlmIChva1RvR3JlZXQobmFtZSkpIHsKICogICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCdIZWxsbywgJyArIG5hbWUgKyAnIScpOwogKiAgICAgICB9IGVsc2UgewogKiAgICAgICAgIGRlZmVycmVkLnJlamVjdCgnR3JlZXRpbmcgJyArIG5hbWUgKyAnIGlzIG5vdCBhbGxvd2VkLicpOwogKiAgICAgICB9CiAqICAgICB9LCAxMDAwKTsKICoKICogICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlOwogKiAgIH0KICoKICogICB2YXIgcHJvbWlzZSA9IGFzeW5jR3JlZXQoJ1JvYmluIEhvb2QnKTsKICogICBwcm9taXNlLnRoZW4oZnVuY3Rpb24oZ3JlZXRpbmcpIHsKICogICAgIGFsZXJ0KCdTdWNjZXNzOiAnICsgZ3JlZXRpbmcpOwogKiAgIH0sIGZ1bmN0aW9uKHJlYXNvbikgewogKiAgICAgYWxlcnQoJ0ZhaWxlZDogJyArIHJlYXNvbik7CiAqICAgfSwgZnVuY3Rpb24odXBkYXRlKSB7CiAqICAgICBhbGVydCgnR290IG5vdGlmaWNhdGlvbjogJyArIHVwZGF0ZSk7CiAqICAgfSk7CiAqIGBgYAogKgogKiBBdCBmaXJzdCBpdCBtaWdodCBub3QgYmUgb2J2aW91cyB3aHkgdGhpcyBleHRyYSBjb21wbGV4aXR5IGlzIHdvcnRoIHRoZSB0cm91YmxlLiBUaGUgcGF5b2ZmCiAqIGNvbWVzIGluIHRoZSB3YXkgb2YgZ3VhcmFudGVlcyB0aGF0IHByb21pc2UgYW5kIGRlZmVycmVkIEFQSXMgbWFrZSwgc2VlCiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvdW5jb21tb25qcy9ibG9iL21hc3Rlci9wcm9taXNlcy9zcGVjaWZpY2F0aW9uLm1kLgogKgogKiBBZGRpdGlvbmFsbHkgdGhlIHByb21pc2UgYXBpIGFsbG93cyBmb3IgY29tcG9zaXRpb24gdGhhdCBpcyB2ZXJ5IGhhcmQgdG8gZG8gd2l0aCB0aGUKICogdHJhZGl0aW9uYWwgY2FsbGJhY2sgKFtDUFNdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29udGludWF0aW9uLXBhc3Npbmdfc3R5bGUpKSBhcHByb2FjaC4KICogRm9yIG1vcmUgb24gdGhpcyBwbGVhc2Ugc2VlIHRoZSBbUSBkb2N1bWVudGF0aW9uXShodHRwczovL2dpdGh1Yi5jb20va3Jpc2tvd2FsL3EpIGVzcGVjaWFsbHkgdGhlCiAqIHNlY3Rpb24gb24gc2VyaWFsIG9yIHBhcmFsbGVsIGpvaW5pbmcgb2YgcHJvbWlzZXMuCiAqCiAqCiAqICMgVGhlIERlZmVycmVkIEFQSQogKgogKiBBIG5ldyBpbnN0YW5jZSBvZiBkZWZlcnJlZCBpcyBjb25zdHJ1Y3RlZCBieSBjYWxsaW5nIGAkcS5kZWZlcigpYC4KICoKICogVGhlIHB1cnBvc2Ugb2YgdGhlIGRlZmVycmVkIG9iamVjdCBpcyB0byBleHBvc2UgdGhlIGFzc29jaWF0ZWQgUHJvbWlzZSBpbnN0YW5jZSBhcyB3ZWxsIGFzIEFQSXMKICogdGhhdCBjYW4gYmUgdXNlZCBmb3Igc2lnbmFsaW5nIHRoZSBzdWNjZXNzZnVsIG9yIHVuc3VjY2Vzc2Z1bCBjb21wbGV0aW9uLCBhcyB3ZWxsIGFzIHRoZSBzdGF0dXMKICogb2YgdGhlIHRhc2suCiAqCiAqICoqTWV0aG9kcyoqCiAqCiAqIC0gYHJlc29sdmUodmFsdWUpYCDigJMgcmVzb2x2ZXMgdGhlIGRlcml2ZWQgcHJvbWlzZSB3aXRoIHRoZSBgdmFsdWVgLiBJZiB0aGUgdmFsdWUgaXMgYSByZWplY3Rpb24KICogICBjb25zdHJ1Y3RlZCB2aWEgYCRxLnJlamVjdGAsIHRoZSBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgaW5zdGVhZC4KICogLSBgcmVqZWN0KHJlYXNvbilgIOKAkyByZWplY3RzIHRoZSBkZXJpdmVkIHByb21pc2Ugd2l0aCB0aGUgYHJlYXNvbmAuIFRoaXMgaXMgZXF1aXZhbGVudCB0bwogKiAgIHJlc29sdmluZyBpdCB3aXRoIGEgcmVqZWN0aW9uIGNvbnN0cnVjdGVkIHZpYSBgJHEucmVqZWN0YC4KICogLSBgbm90aWZ5KHZhbHVlKWAgLSBwcm92aWRlcyB1cGRhdGVzIG9uIHRoZSBzdGF0dXMgb2YgdGhlIHByb21pc2UncyBleGVjdXRpb24uIFRoaXMgbWF5IGJlIGNhbGxlZAogKiAgIG11bHRpcGxlIHRpbWVzIGJlZm9yZSB0aGUgcHJvbWlzZSBpcyBlaXRoZXIgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQuCiAqCiAqICoqUHJvcGVydGllcyoqCiAqCiAqIC0gcHJvbWlzZSDigJMgYHtQcm9taXNlfWAg4oCTIHByb21pc2Ugb2JqZWN0IGFzc29jaWF0ZWQgd2l0aCB0aGlzIGRlZmVycmVkLgogKgogKgogKiAjIFRoZSBQcm9taXNlIEFQSQogKgogKiBBIG5ldyBwcm9taXNlIGluc3RhbmNlIGlzIGNyZWF0ZWQgd2hlbiBhIGRlZmVycmVkIGluc3RhbmNlIGlzIGNyZWF0ZWQgYW5kIGNhbiBiZSByZXRyaWV2ZWQgYnkKICogY2FsbGluZyBgZGVmZXJyZWQucHJvbWlzZWAuCiAqCiAqIFRoZSBwdXJwb3NlIG9mIHRoZSBwcm9taXNlIG9iamVjdCBpcyB0byBhbGxvdyBmb3IgaW50ZXJlc3RlZCBwYXJ0aWVzIHRvIGdldCBhY2Nlc3MgdG8gdGhlIHJlc3VsdAogKiBvZiB0aGUgZGVmZXJyZWQgdGFzayB3aGVuIGl0IGNvbXBsZXRlcy4KICoKICogKipNZXRob2RzKioKICoKICogLSBgdGhlbihzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2ssIG5vdGlmeUNhbGxiYWNrKWAg4oCTIHJlZ2FyZGxlc3Mgb2Ygd2hlbiB0aGUgcHJvbWlzZSB3YXMgb3IKICogICB3aWxsIGJlIHJlc29sdmVkIG9yIHJlamVjdGVkLCBgdGhlbmAgY2FsbHMgb25lIG9mIHRoZSBzdWNjZXNzIG9yIGVycm9yIGNhbGxiYWNrcyBhc3luY2hyb25vdXNseQogKiAgIGFzIHNvb24gYXMgdGhlIHJlc3VsdCBpcyBhdmFpbGFibGUuIFRoZSBjYWxsYmFja3MgYXJlIGNhbGxlZCB3aXRoIGEgc2luZ2xlIGFyZ3VtZW50OiB0aGUgcmVzdWx0CiAqICAgb3IgcmVqZWN0aW9uIHJlYXNvbi4gQWRkaXRpb25hbGx5LCB0aGUgbm90aWZ5IGNhbGxiYWNrIG1heSBiZSBjYWxsZWQgemVybyBvciBtb3JlIHRpbWVzIHRvCiAqICAgcHJvdmlkZSBhIHByb2dyZXNzIGluZGljYXRpb24sIGJlZm9yZSB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZCBvciByZWplY3RlZC4KICoKICogICBUaGlzIG1ldGhvZCAqcmV0dXJucyBhIG5ldyBwcm9taXNlKiB3aGljaCBpcyByZXNvbHZlZCBvciByZWplY3RlZCB2aWEgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUKICogICBgc3VjY2Vzc0NhbGxiYWNrYCwgYGVycm9yQ2FsbGJhY2tgLiBJdCBhbHNvIG5vdGlmaWVzIHZpYSB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZQogKiAgIGBub3RpZnlDYWxsYmFja2AgbWV0aG9kLiBUaGUgcHJvbWlzZSBjYW4gbm90IGJlIHJlc29sdmVkIG9yIHJlamVjdGVkIGZyb20gdGhlIG5vdGlmeUNhbGxiYWNrCiAqICAgbWV0aG9kLgogKgogKiAtIGBjYXRjaChlcnJvckNhbGxiYWNrKWAg4oCTIHNob3J0aGFuZCBmb3IgYHByb21pc2UudGhlbihudWxsLCBlcnJvckNhbGxiYWNrKWAKICoKICogLSBgZmluYWxseShjYWxsYmFjaylgIOKAkyBhbGxvd3MgeW91IHRvIG9ic2VydmUgZWl0aGVyIHRoZSBmdWxmaWxsbWVudCBvciByZWplY3Rpb24gb2YgYSBwcm9taXNlLAogKiAgIGJ1dCB0byBkbyBzbyB3aXRob3V0IG1vZGlmeWluZyB0aGUgZmluYWwgdmFsdWUuIFRoaXMgaXMgdXNlZnVsIHRvIHJlbGVhc2UgcmVzb3VyY2VzIG9yIGRvIHNvbWUKICogICBjbGVhbi11cCB0aGF0IG5lZWRzIHRvIGJlIGRvbmUgd2hldGhlciB0aGUgcHJvbWlzZSB3YXMgcmVqZWN0ZWQgb3IgcmVzb2x2ZWQuIFNlZSB0aGUgW2Z1bGwKICogICBzcGVjaWZpY2F0aW9uXShodHRwczovL2dpdGh1Yi5jb20va3Jpc2tvd2FsL3Evd2lraS9BUEktUmVmZXJlbmNlI3Byb21pc2VmaW5hbGx5Y2FsbGJhY2spIGZvcgogKiAgIG1vcmUgaW5mb3JtYXRpb24uCiAqCiAqICAgQmVjYXVzZSBgZmluYWxseWAgaXMgYSByZXNlcnZlZCB3b3JkIGluIEphdmFTY3JpcHQgYW5kIHJlc2VydmVkIGtleXdvcmRzIGFyZSBub3Qgc3VwcG9ydGVkIGFzCiAqICAgcHJvcGVydHkgbmFtZXMgYnkgRVMzLCB5b3UnbGwgbmVlZCB0byBpbnZva2UgdGhlIG1ldGhvZCBsaWtlIGBwcm9taXNlWydmaW5hbGx5J10oY2FsbGJhY2spYCB0bwogKiAgIG1ha2UgeW91ciBjb2RlIElFOCBhbmQgQW5kcm9pZCAyLnggY29tcGF0aWJsZS4KICoKICogIyBDaGFpbmluZyBwcm9taXNlcwogKgogKiBCZWNhdXNlIGNhbGxpbmcgdGhlIGB0aGVuYCBtZXRob2Qgb2YgYSBwcm9taXNlIHJldHVybnMgYSBuZXcgZGVyaXZlZCBwcm9taXNlLCBpdCBpcyBlYXNpbHkKICogcG9zc2libGUgdG8gY3JlYXRlIGEgY2hhaW4gb2YgcHJvbWlzZXM6CiAqCiAqIGBgYGpzCiAqICAgcHJvbWlzZUIgPSBwcm9taXNlQS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkgewogKiAgICAgcmV0dXJuIHJlc3VsdCArIDE7CiAqICAgfSk7CiAqCiAqICAgLy8gcHJvbWlzZUIgd2lsbCBiZSByZXNvbHZlZCBpbW1lZGlhdGVseSBhZnRlciBwcm9taXNlQSBpcyByZXNvbHZlZCBhbmQgaXRzIHZhbHVlCiAqICAgLy8gd2lsbCBiZSB0aGUgcmVzdWx0IG9mIHByb21pc2VBIGluY3JlbWVudGVkIGJ5IDEKICogYGBgCiAqCiAqIEl0IGlzIHBvc3NpYmxlIHRvIGNyZWF0ZSBjaGFpbnMgb2YgYW55IGxlbmd0aCBhbmQgc2luY2UgYSBwcm9taXNlIGNhbiBiZSByZXNvbHZlZCB3aXRoIGFub3RoZXIKICogcHJvbWlzZSAod2hpY2ggd2lsbCBkZWZlciBpdHMgcmVzb2x1dGlvbiBmdXJ0aGVyKSwgaXQgaXMgcG9zc2libGUgdG8gcGF1c2UvZGVmZXIgcmVzb2x1dGlvbiBvZgogKiB0aGUgcHJvbWlzZXMgYXQgYW55IHBvaW50IGluIHRoZSBjaGFpbi4gVGhpcyBtYWtlcyBpdCBwb3NzaWJsZSB0byBpbXBsZW1lbnQgcG93ZXJmdWwgQVBJcyBsaWtlCiAqICRodHRwJ3MgcmVzcG9uc2UgaW50ZXJjZXB0b3JzLgogKgogKgogKiAjIERpZmZlcmVuY2VzIGJldHdlZW4gS3JpcyBLb3dhbCdzIFEgYW5kICRxCiAqCiAqICBUaGVyZSBhcmUgdHdvIG1haW4gZGlmZmVyZW5jZXM6CiAqCiAqIC0gJHEgaXMgaW50ZWdyYXRlZCB3aXRoIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZX0gU2NvcGUgbW9kZWwgb2JzZXJ2YXRpb24KICogICBtZWNoYW5pc20gaW4gYW5ndWxhciwgd2hpY2ggbWVhbnMgZmFzdGVyIHByb3BhZ2F0aW9uIG9mIHJlc29sdXRpb24gb3IgcmVqZWN0aW9uIGludG8geW91cgogKiAgIG1vZGVscyBhbmQgYXZvaWRpbmcgdW5uZWNlc3NhcnkgYnJvd3NlciByZXBhaW50cywgd2hpY2ggd291bGQgcmVzdWx0IGluIGZsaWNrZXJpbmcgVUkuCiAqIC0gUSBoYXMgbWFueSBtb3JlIGZlYXR1cmVzIHRoYW4gJHEsIGJ1dCB0aGF0IGNvbWVzIGF0IGEgY29zdCBvZiBieXRlcy4gJHEgaXMgdGlueSwgYnV0IGNvbnRhaW5zCiAqICAgYWxsIHRoZSBpbXBvcnRhbnQgZnVuY3Rpb25hbGl0eSBuZWVkZWQgZm9yIGNvbW1vbiBhc3luYyB0YXNrcy4KICoKICogICMgVGVzdGluZwogKgogKiAgYGBganMKICogICAgaXQoJ3Nob3VsZCBzaW11bGF0ZSBwcm9taXNlJywgaW5qZWN0KGZ1bmN0aW9uKCRxLCAkcm9vdFNjb3BlKSB7CiAqICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTsKICogICAgICB2YXIgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2U7CiAqICAgICAgdmFyIHJlc29sdmVkVmFsdWU7CiAqCiAqICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7IHJlc29sdmVkVmFsdWUgPSB2YWx1ZTsgfSk7CiAqICAgICAgZXhwZWN0KHJlc29sdmVkVmFsdWUpLnRvQmVVbmRlZmluZWQoKTsKICoKICogICAgICAvLyBTaW11bGF0ZSByZXNvbHZpbmcgb2YgcHJvbWlzZQogKiAgICAgIGRlZmVycmVkLnJlc29sdmUoMTIzKTsKICogICAgICAvLyBOb3RlIHRoYXQgdGhlICd0aGVuJyBmdW5jdGlvbiBkb2VzIG5vdCBnZXQgY2FsbGVkIHN5bmNocm9ub3VzbHkuCiAqICAgICAgLy8gVGhpcyBpcyBiZWNhdXNlIHdlIHdhbnQgdGhlIHByb21pc2UgQVBJIHRvIGFsd2F5cyBiZSBhc3luYywgd2hldGhlciBvciBub3QKICogICAgICAvLyBpdCBnb3QgY2FsbGVkIHN5bmNocm9ub3VzbHkgb3IgYXN5bmNocm9ub3VzbHkuCiAqICAgICAgZXhwZWN0KHJlc29sdmVkVmFsdWUpLnRvQmVVbmRlZmluZWQoKTsKICoKICogICAgICAvLyBQcm9wYWdhdGUgcHJvbWlzZSByZXNvbHV0aW9uIHRvICd0aGVuJyBmdW5jdGlvbnMgdXNpbmcgJGFwcGx5KCkuCiAqICAgICAgJHJvb3RTY29wZS4kYXBwbHkoKTsKICogICAgICBleHBlY3QocmVzb2x2ZWRWYWx1ZSkudG9FcXVhbCgxMjMpOwogKiAgICB9KSk7CiAqICBgYGAKICovCmZ1bmN0aW9uICRRUHJvdmlkZXIoKSB7CgogIHRoaXMuJGdldCA9IFsnJHJvb3RTY29wZScsICckZXhjZXB0aW9uSGFuZGxlcicsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRleGNlcHRpb25IYW5kbGVyKSB7CiAgICByZXR1cm4gcUZhY3RvcnkoZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGNhbGxiYWNrKTsKICAgIH0sICRleGNlcHRpb25IYW5kbGVyKTsKICB9XTsKfQoKCi8qKgogKiBDb25zdHJ1Y3RzIGEgcHJvbWlzZSBtYW5hZ2VyLgogKgogKiBAcGFyYW0ge2Z1bmN0aW9uKEZ1bmN0aW9uKX0gbmV4dFRpY2sgRnVuY3Rpb24gZm9yIGV4ZWN1dGluZyBmdW5jdGlvbnMgaW4gdGhlIG5leHQgdHVybi4KICogQHBhcmFtIHtmdW5jdGlvbiguLi4qKX0gZXhjZXB0aW9uSGFuZGxlciBGdW5jdGlvbiBpbnRvIHdoaWNoIHVuZXhwZWN0ZWQgZXhjZXB0aW9ucyBhcmUgcGFzc2VkIGZvcgogKiAgICAgZGVidWdnaW5nIHB1cnBvc2VzLgogKiBAcmV0dXJucyB7b2JqZWN0fSBQcm9taXNlIG1hbmFnZXIuCiAqLwpmdW5jdGlvbiBxRmFjdG9yeShuZXh0VGljaywgZXhjZXB0aW9uSGFuZGxlcikgewoKICAvKioKICAgKiBAbmdkb2MgbWV0aG9kCiAgICogQG5hbWUgJHEjZGVmZXIKICAgKiBAa2luZCBmdW5jdGlvbgogICAqCiAgICogQGRlc2NyaXB0aW9uCiAgICogQ3JlYXRlcyBhIGBEZWZlcnJlZGAgb2JqZWN0IHdoaWNoIHJlcHJlc2VudHMgYSB0YXNrIHdoaWNoIHdpbGwgZmluaXNoIGluIHRoZSBmdXR1cmUuCiAgICoKICAgKiBAcmV0dXJucyB7RGVmZXJyZWR9IFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgZGVmZXJyZWQuCiAgICovCiAgdmFyIGRlZmVyID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgcGVuZGluZyA9IFtdLAogICAgICAgIHZhbHVlLCBkZWZlcnJlZDsKCiAgICBkZWZlcnJlZCA9IHsKCiAgICAgIHJlc29sdmU6IGZ1bmN0aW9uKHZhbCkgewogICAgICAgIGlmIChwZW5kaW5nKSB7CiAgICAgICAgICB2YXIgY2FsbGJhY2tzID0gcGVuZGluZzsKICAgICAgICAgIHBlbmRpbmcgPSB1bmRlZmluZWQ7CiAgICAgICAgICB2YWx1ZSA9IHJlZih2YWwpOwoKICAgICAgICAgIGlmIChjYWxsYmFja3MubGVuZ3RoKSB7CiAgICAgICAgICAgIG5leHRUaWNrKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgIHZhciBjYWxsYmFjazsKICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjYWxsYmFja3MubGVuZ3RoOyBpIDwgaWk7IGkrKykgewogICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFja3NbaV07CiAgICAgICAgICAgICAgICB2YWx1ZS50aGVuKGNhbGxiYWNrWzBdLCBjYWxsYmFja1sxXSwgY2FsbGJhY2tbMl0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAoKCiAgICAgIHJlamVjdDogZnVuY3Rpb24ocmVhc29uKSB7CiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShjcmVhdGVJbnRlcm5hbFJlamVjdGVkUHJvbWlzZShyZWFzb24pKTsKICAgICAgfSwKCgogICAgICBub3RpZnk6IGZ1bmN0aW9uKHByb2dyZXNzKSB7CiAgICAgICAgaWYgKHBlbmRpbmcpIHsKICAgICAgICAgIHZhciBjYWxsYmFja3MgPSBwZW5kaW5nOwoKICAgICAgICAgIGlmIChwZW5kaW5nLmxlbmd0aCkgewogICAgICAgICAgICBuZXh0VGljayhmdW5jdGlvbigpIHsKICAgICAgICAgICAgICB2YXIgY2FsbGJhY2s7CiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2tzW2ldOwogICAgICAgICAgICAgICAgY2FsbGJhY2tbMl0ocHJvZ3Jlc3MpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAoKCiAgICAgIHByb21pc2U6IHsKICAgICAgICB0aGVuOiBmdW5jdGlvbihjYWxsYmFjaywgZXJyYmFjaywgcHJvZ3Jlc3NiYWNrKSB7CiAgICAgICAgICB2YXIgcmVzdWx0ID0gZGVmZXIoKTsKCiAgICAgICAgICB2YXIgd3JhcHBlZENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICByZXN1bHQucmVzb2x2ZSgoaXNGdW5jdGlvbihjYWxsYmFjaykgPyBjYWxsYmFjayA6IGRlZmF1bHRDYWxsYmFjaykodmFsdWUpKTsKICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgcmVzdWx0LnJlamVjdChlKTsKICAgICAgICAgICAgICBleGNlcHRpb25IYW5kbGVyKGUpOwogICAgICAgICAgICB9CiAgICAgICAgICB9OwoKICAgICAgICAgIHZhciB3cmFwcGVkRXJyYmFjayA9IGZ1bmN0aW9uKHJlYXNvbikgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIHJlc3VsdC5yZXNvbHZlKChpc0Z1bmN0aW9uKGVycmJhY2spID8gZXJyYmFjayA6IGRlZmF1bHRFcnJiYWNrKShyZWFzb24pKTsKICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgcmVzdWx0LnJlamVjdChlKTsKICAgICAgICAgICAgICBleGNlcHRpb25IYW5kbGVyKGUpOwogICAgICAgICAgICB9CiAgICAgICAgICB9OwoKICAgICAgICAgIHZhciB3cmFwcGVkUHJvZ3Jlc3NiYWNrID0gZnVuY3Rpb24ocHJvZ3Jlc3MpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICByZXN1bHQubm90aWZ5KChpc0Z1bmN0aW9uKHByb2dyZXNzYmFjaykgPyBwcm9ncmVzc2JhY2sgOiBkZWZhdWx0Q2FsbGJhY2spKHByb2dyZXNzKSk7CiAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgIGV4Y2VwdGlvbkhhbmRsZXIoZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH07CgogICAgICAgICAgaWYgKHBlbmRpbmcpIHsKICAgICAgICAgICAgcGVuZGluZy5wdXNoKFt3cmFwcGVkQ2FsbGJhY2ssIHdyYXBwZWRFcnJiYWNrLCB3cmFwcGVkUHJvZ3Jlc3NiYWNrXSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YWx1ZS50aGVuKHdyYXBwZWRDYWxsYmFjaywgd3JhcHBlZEVycmJhY2ssIHdyYXBwZWRQcm9ncmVzc2JhY2spOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiByZXN1bHQucHJvbWlzZTsKICAgICAgICB9LAoKICAgICAgICAiY2F0Y2giOiBmdW5jdGlvbihjYWxsYmFjaykgewogICAgICAgICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBjYWxsYmFjayk7CiAgICAgICAgfSwKCiAgICAgICAgImZpbmFsbHkiOiBmdW5jdGlvbihjYWxsYmFjaykgewoKICAgICAgICAgIGZ1bmN0aW9uIG1ha2VQcm9taXNlKHZhbHVlLCByZXNvbHZlZCkgewogICAgICAgICAgICB2YXIgcmVzdWx0ID0gZGVmZXIoKTsKICAgICAgICAgICAgaWYgKHJlc29sdmVkKSB7CiAgICAgICAgICAgICAgcmVzdWx0LnJlc29sdmUodmFsdWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJlc3VsdC5yZWplY3QodmFsdWUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiByZXN1bHQucHJvbWlzZTsKICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVDYWxsYmFjayh2YWx1ZSwgaXNSZXNvbHZlZCkgewogICAgICAgICAgICB2YXIgY2FsbGJhY2tPdXRwdXQgPSBudWxsOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGNhbGxiYWNrT3V0cHV0ID0gKGNhbGxiYWNrIHx8ZGVmYXVsdENhbGxiYWNrKSgpOwogICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICByZXR1cm4gbWFrZVByb21pc2UoZSwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChjYWxsYmFja091dHB1dCAmJiBpc0Z1bmN0aW9uKGNhbGxiYWNrT3V0cHV0LnRoZW4pKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrT3V0cHV0LnRoZW4oZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbWFrZVByb21pc2UodmFsdWUsIGlzUmVzb2x2ZWQpOwogICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbWFrZVByb21pc2UoZXJyb3IsIGZhbHNlKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXR1cm4gbWFrZVByb21pc2UodmFsdWUsIGlzUmVzb2x2ZWQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbih2YWx1ZSkgewogICAgICAgICAgICByZXR1cm4gaGFuZGxlQ2FsbGJhY2sodmFsdWUsIHRydWUpOwogICAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUNhbGxiYWNrKGVycm9yLCBmYWxzZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIGRlZmVycmVkOwogIH07CgoKICB2YXIgcmVmID0gZnVuY3Rpb24odmFsdWUpIHsKICAgIGlmICh2YWx1ZSAmJiBpc0Z1bmN0aW9uKHZhbHVlLnRoZW4pKSByZXR1cm4gdmFsdWU7CiAgICByZXR1cm4gewogICAgICB0aGVuOiBmdW5jdGlvbihjYWxsYmFjaykgewogICAgICAgIHZhciByZXN1bHQgPSBkZWZlcigpOwogICAgICAgIG5leHRUaWNrKGZ1bmN0aW9uKCkgewogICAgICAgICAgcmVzdWx0LnJlc29sdmUoY2FsbGJhY2sodmFsdWUpKTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gcmVzdWx0LnByb21pc2U7CiAgICAgIH0KICAgIH07CiAgfTsKCgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSAkcSNyZWplY3QKICAgKiBAa2luZCBmdW5jdGlvbgogICAqCiAgICogQGRlc2NyaXB0aW9uCiAgICogQ3JlYXRlcyBhIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCBhcyByZWplY3RlZCB3aXRoIHRoZSBzcGVjaWZpZWQgYHJlYXNvbmAuIFRoaXMgYXBpIHNob3VsZCBiZQogICAqIHVzZWQgdG8gZm9yd2FyZCByZWplY3Rpb24gaW4gYSBjaGFpbiBvZiBwcm9taXNlcy4gSWYgeW91IGFyZSBkZWFsaW5nIHdpdGggdGhlIGxhc3QgcHJvbWlzZSBpbgogICAqIGEgcHJvbWlzZSBjaGFpbiwgeW91IGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgaXQuCiAgICoKICAgKiBXaGVuIGNvbXBhcmluZyBkZWZlcnJlZHMvcHJvbWlzZXMgdG8gdGhlIGZhbWlsaWFyIGJlaGF2aW9yIG9mIHRyeS9jYXRjaC90aHJvdywgdGhpbmsgb2YKICAgKiBgcmVqZWN0YCBhcyB0aGUgYHRocm93YCBrZXl3b3JkIGluIEphdmFTY3JpcHQuIFRoaXMgYWxzbyBtZWFucyB0aGF0IGlmIHlvdSAiY2F0Y2giIGFuIGVycm9yIHZpYQogICAqIGEgcHJvbWlzZSBlcnJvciBjYWxsYmFjayBhbmQgeW91IHdhbnQgdG8gZm9yd2FyZCB0aGUgZXJyb3IgdG8gdGhlIHByb21pc2UgZGVyaXZlZCBmcm9tIHRoZQogICAqIGN1cnJlbnQgcHJvbWlzZSwgeW91IGhhdmUgdG8gInJldGhyb3ciIHRoZSBlcnJvciBieSByZXR1cm5pbmcgYSByZWplY3Rpb24gY29uc3RydWN0ZWQgdmlhCiAgICogYHJlamVjdGAuCiAgICoKICAgKiBgYGBqcwogICAqICAgcHJvbWlzZUIgPSBwcm9taXNlQS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkgewogICAqICAgICAvLyBzdWNjZXNzOiBkbyBzb21ldGhpbmcgYW5kIHJlc29sdmUgcHJvbWlzZUIKICAgKiAgICAgLy8gICAgICAgICAgd2l0aCB0aGUgb2xkIG9yIGEgbmV3IHJlc3VsdAogICAqICAgICByZXR1cm4gcmVzdWx0OwogICAqICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7CiAgICogICAgIC8vIGVycm9yOiBoYW5kbGUgdGhlIGVycm9yIGlmIHBvc3NpYmxlIGFuZAogICAqICAgICAvLyAgICAgICAgcmVzb2x2ZSBwcm9taXNlQiB3aXRoIG5ld1Byb21pc2VPclZhbHVlLAogICAqICAgICAvLyAgICAgICAgb3RoZXJ3aXNlIGZvcndhcmQgdGhlIHJlamVjdGlvbiB0byBwcm9taXNlQgogICAqICAgICBpZiAoY2FuSGFuZGxlKHJlYXNvbikpIHsKICAgKiAgICAgIC8vIGhhbmRsZSB0aGUgZXJyb3IgYW5kIHJlY292ZXIKICAgKiAgICAgIHJldHVybiBuZXdQcm9taXNlT3JWYWx1ZTsKICAgKiAgICAgfQogICAqICAgICByZXR1cm4gJHEucmVqZWN0KHJlYXNvbik7CiAgICogICB9KTsKICAgKiBgYGAKICAgKgogICAqIEBwYXJhbSB7Kn0gcmVhc29uIENvbnN0YW50LCBtZXNzYWdlLCBleGNlcHRpb24gb3IgYW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcmVqZWN0aW9uIHJlYXNvbi4KICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmV0dXJucyBhIHByb21pc2UgdGhhdCB3YXMgYWxyZWFkeSByZXNvbHZlZCBhcyByZWplY3RlZCB3aXRoIHRoZSBgcmVhc29uYC4KICAgKi8KICB2YXIgcmVqZWN0ID0gZnVuY3Rpb24ocmVhc29uKSB7CiAgICB2YXIgcmVzdWx0ID0gZGVmZXIoKTsKICAgIHJlc3VsdC5yZWplY3QocmVhc29uKTsKICAgIHJldHVybiByZXN1bHQucHJvbWlzZTsKICB9OwoKICB2YXIgY3JlYXRlSW50ZXJuYWxSZWplY3RlZFByb21pc2UgPSBmdW5jdGlvbihyZWFzb24pIHsKICAgIHJldHVybiB7CiAgICAgIHRoZW46IGZ1bmN0aW9uKGNhbGxiYWNrLCBlcnJiYWNrKSB7CiAgICAgICAgdmFyIHJlc3VsdCA9IGRlZmVyKCk7CiAgICAgICAgbmV4dFRpY2soZnVuY3Rpb24oKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICByZXN1bHQucmVzb2x2ZSgoaXNGdW5jdGlvbihlcnJiYWNrKSA/IGVycmJhY2sgOiBkZWZhdWx0RXJyYmFjaykocmVhc29uKSk7CiAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgcmVzdWx0LnJlamVjdChlKTsKICAgICAgICAgICAgZXhjZXB0aW9uSGFuZGxlcihlKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICByZXR1cm4gcmVzdWx0LnByb21pc2U7CiAgICAgIH0KICAgIH07CiAgfTsKCgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSAkcSN3aGVuCiAgICogQGtpbmQgZnVuY3Rpb24KICAgKgogICAqIEBkZXNjcmlwdGlvbgogICAqIFdyYXBzIGFuIG9iamVjdCB0aGF0IG1pZ2h0IGJlIGEgdmFsdWUgb3IgYSAoM3JkIHBhcnR5KSB0aGVuLWFibGUgcHJvbWlzZSBpbnRvIGEgJHEgcHJvbWlzZS4KICAgKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHlvdSBhcmUgZGVhbGluZyB3aXRoIGFuIG9iamVjdCB0aGF0IG1pZ2h0IG9yIG1pZ2h0IG5vdCBiZSBhIHByb21pc2UsIG9yIGlmCiAgICogdGhlIHByb21pc2UgY29tZXMgZnJvbSBhIHNvdXJjZSB0aGF0IGNhbid0IGJlIHRydXN0ZWQuCiAgICoKICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIG9yIGEgcHJvbWlzZQogICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXR1cm5zIGEgcHJvbWlzZSBvZiB0aGUgcGFzc2VkIHZhbHVlIG9yIHByb21pc2UKICAgKi8KICB2YXIgd2hlbiA9IGZ1bmN0aW9uKHZhbHVlLCBjYWxsYmFjaywgZXJyYmFjaywgcHJvZ3Jlc3NiYWNrKSB7CiAgICB2YXIgcmVzdWx0ID0gZGVmZXIoKSwKICAgICAgICBkb25lOwoKICAgIHZhciB3cmFwcGVkQ2FsbGJhY2sgPSBmdW5jdGlvbih2YWx1ZSkgewogICAgICB0cnkgewogICAgICAgIHJldHVybiAoaXNGdW5jdGlvbihjYWxsYmFjaykgPyBjYWxsYmFjayA6IGRlZmF1bHRDYWxsYmFjaykodmFsdWUpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgZXhjZXB0aW9uSGFuZGxlcihlKTsKICAgICAgICByZXR1cm4gcmVqZWN0KGUpOwogICAgICB9CiAgICB9OwoKICAgIHZhciB3cmFwcGVkRXJyYmFjayA9IGZ1bmN0aW9uKHJlYXNvbikgewogICAgICB0cnkgewogICAgICAgIHJldHVybiAoaXNGdW5jdGlvbihlcnJiYWNrKSA/IGVycmJhY2sgOiBkZWZhdWx0RXJyYmFjaykocmVhc29uKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGV4Y2VwdGlvbkhhbmRsZXIoZSk7CiAgICAgICAgcmV0dXJuIHJlamVjdChlKTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgd3JhcHBlZFByb2dyZXNzYmFjayA9IGZ1bmN0aW9uKHByb2dyZXNzKSB7CiAgICAgIHRyeSB7CiAgICAgICAgcmV0dXJuIChpc0Z1bmN0aW9uKHByb2dyZXNzYmFjaykgPyBwcm9ncmVzc2JhY2sgOiBkZWZhdWx0Q2FsbGJhY2spKHByb2dyZXNzKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGV4Y2VwdGlvbkhhbmRsZXIoZSk7CiAgICAgIH0KICAgIH07CgogICAgbmV4dFRpY2soZnVuY3Rpb24oKSB7CiAgICAgIHJlZih2YWx1ZSkudGhlbihmdW5jdGlvbih2YWx1ZSkgewogICAgICAgIGlmIChkb25lKSByZXR1cm47CiAgICAgICAgZG9uZSA9IHRydWU7CiAgICAgICAgcmVzdWx0LnJlc29sdmUocmVmKHZhbHVlKS50aGVuKHdyYXBwZWRDYWxsYmFjaywgd3JhcHBlZEVycmJhY2ssIHdyYXBwZWRQcm9ncmVzc2JhY2spKTsKICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7CiAgICAgICAgaWYgKGRvbmUpIHJldHVybjsKICAgICAgICBkb25lID0gdHJ1ZTsKICAgICAgICByZXN1bHQucmVzb2x2ZSh3cmFwcGVkRXJyYmFjayhyZWFzb24pKTsKICAgICAgfSwgZnVuY3Rpb24ocHJvZ3Jlc3MpIHsKICAgICAgICBpZiAoZG9uZSkgcmV0dXJuOwogICAgICAgIHJlc3VsdC5ub3RpZnkod3JhcHBlZFByb2dyZXNzYmFjayhwcm9ncmVzcykpOwogICAgICB9KTsKICAgIH0pOwoKICAgIHJldHVybiByZXN1bHQucHJvbWlzZTsKICB9OwoKCiAgZnVuY3Rpb24gZGVmYXVsdENhbGxiYWNrKHZhbHVlKSB7CiAgICByZXR1cm4gdmFsdWU7CiAgfQoKCiAgZnVuY3Rpb24gZGVmYXVsdEVycmJhY2socmVhc29uKSB7CiAgICByZXR1cm4gcmVqZWN0KHJlYXNvbik7CiAgfQoKCiAgLyoqCiAgICogQG5nZG9jIG1ldGhvZAogICAqIEBuYW1lICRxI2FsbAogICAqIEBraW5kIGZ1bmN0aW9uCiAgICoKICAgKiBAZGVzY3JpcHRpb24KICAgKiBDb21iaW5lcyBtdWx0aXBsZSBwcm9taXNlcyBpbnRvIGEgc2luZ2xlIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIGFsbCBvZiB0aGUgaW5wdXQKICAgKiBwcm9taXNlcyBhcmUgcmVzb2x2ZWQuCiAgICoKICAgKiBAcGFyYW0ge0FycmF5LjxQcm9taXNlPnxPYmplY3QuPFByb21pc2U+fSBwcm9taXNlcyBBbiBhcnJheSBvciBoYXNoIG9mIHByb21pc2VzLgogICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXR1cm5zIGEgc2luZ2xlIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdpdGggYW4gYXJyYXkvaGFzaCBvZiB2YWx1ZXMsCiAgICogICBlYWNoIHZhbHVlIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb21pc2UgYXQgdGhlIHNhbWUgaW5kZXgva2V5IGluIHRoZSBgcHJvbWlzZXNgIGFycmF5L2hhc2guCiAgICogICBJZiBhbnkgb2YgdGhlIHByb21pc2VzIGlzIHJlc29sdmVkIHdpdGggYSByZWplY3Rpb24sIHRoaXMgcmVzdWx0aW5nIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZAogICAqICAgd2l0aCB0aGUgc2FtZSByZWplY3Rpb24gdmFsdWUuCiAgICovCiAgZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7CiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpLAogICAgICAgIGNvdW50ZXIgPSAwLAogICAgICAgIHJlc3VsdHMgPSBpc0FycmF5KHByb21pc2VzKSA/IFtdIDoge307CgogICAgZm9yRWFjaChwcm9taXNlcywgZnVuY3Rpb24ocHJvbWlzZSwga2V5KSB7CiAgICAgIGNvdW50ZXIrKzsKICAgICAgcmVmKHByb21pc2UpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICBpZiAocmVzdWx0cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSByZXR1cm47CiAgICAgICAgcmVzdWx0c1trZXldID0gdmFsdWU7CiAgICAgICAgaWYgKCEoLS1jb3VudGVyKSkgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHRzKTsKICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7CiAgICAgICAgaWYgKHJlc3VsdHMuaGFzT3duUHJvcGVydHkoa2V5KSkgcmV0dXJuOwogICAgICAgIGRlZmVycmVkLnJlamVjdChyZWFzb24pOwogICAgICB9KTsKICAgIH0pOwoKICAgIGlmIChjb3VudGVyID09PSAwKSB7CiAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzdWx0cyk7CiAgICB9CgogICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7CiAgfQoKICByZXR1cm4gewogICAgZGVmZXI6IGRlZmVyLAogICAgcmVqZWN0OiByZWplY3QsCiAgICB3aGVuOiB3aGVuLAogICAgYWxsOiBhbGwKICB9Owp9CgpmdW5jdGlvbiAkJFJBRlByb3ZpZGVyKCl7IC8vckFGCiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgJyR0aW1lb3V0JywgZnVuY3Rpb24oJHdpbmRvdywgJHRpbWVvdXQpIHsKICAgIHZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSAkd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7CgogICAgdmFyIGNhbmNlbEFuaW1hdGlvbkZyYW1lID0gJHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZSB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy53ZWJraXRDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7CgogICAgdmFyIHJhZlN1cHBvcnRlZCA9ICEhcmVxdWVzdEFuaW1hdGlvbkZyYW1lOwogICAgdmFyIHJhZiA9IHJhZlN1cHBvcnRlZAogICAgICA/IGZ1bmN0aW9uKGZuKSB7CiAgICAgICAgICB2YXIgaWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZm4pOwogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShpZCk7CiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgOiBmdW5jdGlvbihmbikgewogICAgICAgICAgdmFyIHRpbWVyID0gJHRpbWVvdXQoZm4sIDE2LjY2LCBmYWxzZSk7IC8vIDEwMDAgLyA2MCA9IDE2LjY2NgogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAkdGltZW91dC5jYW5jZWwodGltZXIpOwogICAgICAgICAgfTsKICAgICAgICB9OwoKICAgIHJhZi5zdXBwb3J0ZWQgPSByYWZTdXBwb3J0ZWQ7CgogICAgcmV0dXJuIHJhZjsKICB9XTsKfQoKLyoqCiAqIERFU0lHTiBOT1RFUwogKgogKiBUaGUgZGVzaWduIGRlY2lzaW9ucyBiZWhpbmQgdGhlIHNjb3BlIGFyZSBoZWF2aWx5IGZhdm9yZWQgZm9yIHNwZWVkIGFuZCBtZW1vcnkgY29uc3VtcHRpb24uCiAqCiAqIFRoZSB0eXBpY2FsIHVzZSBvZiBzY29wZSBpcyB0byB3YXRjaCB0aGUgZXhwcmVzc2lvbnMsIHdoaWNoIG1vc3Qgb2YgdGhlIHRpbWUgcmV0dXJuIHRoZSBzYW1lCiAqIHZhbHVlIGFzIGxhc3QgdGltZSBzbyB3ZSBvcHRpbWl6ZSB0aGUgb3BlcmF0aW9uLgogKgogKiBDbG9zdXJlcyBjb25zdHJ1Y3Rpb24gaXMgZXhwZW5zaXZlIGluIHRlcm1zIG9mIHNwZWVkIGFzIHdlbGwgYXMgbWVtb3J5OgogKiAgIC0gTm8gY2xvc3VyZXMsIGluc3RlYWQgdXNlIHByb3RvdHlwaWNhbCBpbmhlcml0YW5jZSBmb3IgQVBJCiAqICAgLSBJbnRlcm5hbCBzdGF0ZSBuZWVkcyB0byBiZSBzdG9yZWQgb24gc2NvcGUgZGlyZWN0bHksIHdoaWNoIG1lYW5zIHRoYXQgcHJpdmF0ZSBzdGF0ZSBpcwogKiAgICAgZXhwb3NlZCBhcyAkJF9fX18gcHJvcGVydGllcwogKgogKiBMb29wIG9wZXJhdGlvbnMgYXJlIG9wdGltaXplZCBieSB1c2luZyB3aGlsZShjb3VudC0tKSB7IC4uLiB9CiAqICAgLSB0aGlzIG1lYW5zIHRoYXQgaW4gb3JkZXIgdG8ga2VlcCB0aGUgc2FtZSBvcmRlciBvZiBleGVjdXRpb24gYXMgYWRkaXRpb24gd2UgaGF2ZSB0byBhZGQKICogICAgIGl0ZW1zIHRvIHRoZSBhcnJheSBhdCB0aGUgYmVnaW5uaW5nICh1bnNoaWZ0KSBpbnN0ZWFkIG9mIGF0IHRoZSBlbmQgKHB1c2gpCiAqCiAqIENoaWxkIHNjb3BlcyBhcmUgY3JlYXRlZCBhbmQgcmVtb3ZlZCBvZnRlbgogKiAgIC0gVXNpbmcgYW4gYXJyYXkgd291bGQgYmUgc2xvdyBzaW5jZSBpbnNlcnRzIGluIG1pZGRsZSBhcmUgZXhwZW5zaXZlIHNvIHdlIHVzZSBsaW5rZWQgbGlzdAogKgogKiBUaGVyZSBhcmUgZmV3IHdhdGNoZXMgdGhlbiBhIGxvdCBvZiBvYnNlcnZlcnMuIFRoaXMgaXMgd2h5IHlvdSBkb24ndCB3YW50IHRoZSBvYnNlcnZlciB0byBiZQogKiBpbXBsZW1lbnRlZCBpbiB0aGUgc2FtZSB3YXkgYXMgd2F0Y2guIFdhdGNoIHJlcXVpcmVzIHJldHVybiBvZiBpbml0aWFsaXphdGlvbiBmdW5jdGlvbiB3aGljaAogKiBhcmUgZXhwZW5zaXZlIHRvIGNvbnN0cnVjdC4KICovCgoKLyoqCiAqIEBuZ2RvYyBwcm92aWRlcgogKiBAbmFtZSAkcm9vdFNjb3BlUHJvdmlkZXIKICogQGRlc2NyaXB0aW9uCiAqCiAqIFByb3ZpZGVyIGZvciB0aGUgJHJvb3RTY29wZSBzZXJ2aWNlLgogKi8KCi8qKgogKiBAbmdkb2MgbWV0aG9kCiAqIEBuYW1lICRyb290U2NvcGVQcm92aWRlciNkaWdlc3RUdGwKICogQGRlc2NyaXB0aW9uCiAqCiAqIFNldHMgdGhlIG51bWJlciBvZiBgJGRpZ2VzdGAgaXRlcmF0aW9ucyB0aGUgc2NvcGUgc2hvdWxkIGF0dGVtcHQgdG8gZXhlY3V0ZSBiZWZvcmUgZ2l2aW5nIHVwIGFuZAogKiBhc3N1bWluZyB0aGF0IHRoZSBtb2RlbCBpcyB1bnN0YWJsZS4KICoKICogVGhlIGN1cnJlbnQgZGVmYXVsdCBpcyAxMCBpdGVyYXRpb25zLgogKgogKiBJbiBjb21wbGV4IGFwcGxpY2F0aW9ucyBpdCdzIHBvc3NpYmxlIHRoYXQgdGhlIGRlcGVuZGVuY2llcyBiZXR3ZWVuIGAkd2F0Y2hgcyB3aWxsIHJlc3VsdCBpbgogKiBzZXZlcmFsIGRpZ2VzdCBpdGVyYXRpb25zLiBIb3dldmVyIGlmIGFuIGFwcGxpY2F0aW9uIG5lZWRzIG1vcmUgdGhhbiB0aGUgZGVmYXVsdCAxMCBkaWdlc3QKICogaXRlcmF0aW9ucyBmb3IgaXRzIG1vZGVsIHRvIHN0YWJpbGl6ZSB0aGVuIHlvdSBzaG91bGQgaW52ZXN0aWdhdGUgd2hhdCBpcyBjYXVzaW5nIHRoZSBtb2RlbCB0bwogKiBjb250aW51b3VzbHkgY2hhbmdlIGR1cmluZyB0aGUgZGlnZXN0LgogKgogKiBJbmNyZWFzaW5nIHRoZSBUVEwgY291bGQgaGF2ZSBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMsIHNvIHlvdSBzaG91bGQgbm90IGNoYW5nZSBpdCB3aXRob3V0CiAqIHByb3BlciBqdXN0aWZpY2F0aW9uLgogKgogKiBAcGFyYW0ge251bWJlcn0gbGltaXQgVGhlIG51bWJlciBvZiBkaWdlc3QgaXRlcmF0aW9ucy4KICovCgoKLyoqCiAqIEBuZ2RvYyBzZXJ2aWNlCiAqIEBuYW1lICRyb290U2NvcGUKICogQGRlc2NyaXB0aW9uCiAqCiAqIEV2ZXJ5IGFwcGxpY2F0aW9uIGhhcyBhIHNpbmdsZSByb290IHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIHNjb3BlfS4KICogQWxsIG90aGVyIHNjb3BlcyBhcmUgZGVzY2VuZGFudCBzY29wZXMgb2YgdGhlIHJvb3Qgc2NvcGUuIFNjb3BlcyBwcm92aWRlIHNlcGFyYXRpb24KICogYmV0d2VlbiB0aGUgbW9kZWwgYW5kIHRoZSB2aWV3LCB2aWEgYSBtZWNoYW5pc20gZm9yIHdhdGNoaW5nIHRoZSBtb2RlbCBmb3IgY2hhbmdlcy4KICogVGhleSBhbHNvIHByb3ZpZGUgYW4gZXZlbnQgZW1pc3Npb24vYnJvYWRjYXN0IGFuZCBzdWJzY3JpcHRpb24gZmFjaWxpdHkuIFNlZSB0aGUKICoge0BsaW5rIGd1aWRlL3Njb3BlIGRldmVsb3BlciBndWlkZSBvbiBzY29wZXN9LgogKi8KZnVuY3Rpb24gJFJvb3RTY29wZVByb3ZpZGVyKCl7CiAgdmFyIFRUTCA9IDEwOwogIHZhciAkcm9vdFNjb3BlTWluRXJyID0gbWluRXJyKCckcm9vdFNjb3BlJyk7CiAgdmFyIGxhc3REaXJ0eVdhdGNoID0gbnVsbDsKCiAgdGhpcy5kaWdlc3RUdGwgPSBmdW5jdGlvbih2YWx1ZSkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHsKICAgICAgVFRMID0gdmFsdWU7CiAgICB9CiAgICByZXR1cm4gVFRMOwogIH07CgogIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgJyRleGNlcHRpb25IYW5kbGVyJywgJyRwYXJzZScsICckYnJvd3NlcicsCiAgICAgIGZ1bmN0aW9uKCAkaW5qZWN0b3IsICAgJGV4Y2VwdGlvbkhhbmRsZXIsICAgJHBhcnNlLCAgICRicm93c2VyKSB7CgogICAgLyoqCiAgICAgKiBAbmdkb2MgdHlwZQogICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZQogICAgICoKICAgICAqIEBkZXNjcmlwdGlvbgogICAgICogQSByb290IHNjb3BlIGNhbiBiZSByZXRyaWV2ZWQgdXNpbmcgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlICRyb290U2NvcGV9IGtleSBmcm9tIHRoZQogICAgICoge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIENoaWxkIHNjb3BlcyBhcmUgY3JlYXRlZCB1c2luZyB0aGUKICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRuZXcgJG5ldygpfSBtZXRob2QuIChNb3N0IHNjb3BlcyBhcmUgY3JlYXRlZCBhdXRvbWF0aWNhbGx5IHdoZW4KICAgICAqIGNvbXBpbGVkIEhUTUwgdGVtcGxhdGUgaXMgZXhlY3V0ZWQuKQogICAgICoKICAgICAqIEhlcmUgaXMgYSBzaW1wbGUgc2NvcGUgc25pcHBldCB0byBzaG93IGhvdyB5b3UgY2FuIGludGVyYWN0IHdpdGggdGhlIHNjb3BlLgogICAgICogYGBgaHRtbAogICAgICogPGZpbGUgc3JjPSIuL3Rlc3Qvbmcvcm9vdFNjb3BlU3BlYy5qcyIgdGFnPSJkb2NzMSIgLz4KICAgICAqIGBgYAogICAgICoKICAgICAqICMgSW5oZXJpdGFuY2UKICAgICAqIEEgc2NvcGUgY2FuIGluaGVyaXQgZnJvbSBhIHBhcmVudCBzY29wZSwgYXMgaW4gdGhpcyBleGFtcGxlOgogICAgICogYGBganMKICAgICAgICAgdmFyIHBhcmVudCA9ICRyb290U2NvcGU7CiAgICAgICAgIHZhciBjaGlsZCA9IHBhcmVudC4kbmV3KCk7CgogICAgICAgICBwYXJlbnQuc2FsdXRhdGlvbiA9ICJIZWxsbyI7CiAgICAgICAgIGNoaWxkLm5hbWUgPSAiV29ybGQiOwogICAgICAgICBleHBlY3QoY2hpbGQuc2FsdXRhdGlvbikudG9FcXVhbCgnSGVsbG8nKTsKCiAgICAgICAgIGNoaWxkLnNhbHV0YXRpb24gPSAiV2VsY29tZSI7CiAgICAgICAgIGV4cGVjdChjaGlsZC5zYWx1dGF0aW9uKS50b0VxdWFsKCdXZWxjb21lJyk7CiAgICAgICAgIGV4cGVjdChwYXJlbnQuc2FsdXRhdGlvbikudG9FcXVhbCgnSGVsbG8nKTsKICAgICAqIGBgYAogICAgICoKICAgICAqCiAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbigpPj19IHByb3ZpZGVycyBNYXAgb2Ygc2VydmljZSBmYWN0b3J5IHdoaWNoIG5lZWQgdG8gYmUKICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWQgZm9yIHRoZSBjdXJyZW50IHNjb3BlLiBEZWZhdWx0cyB0byB7QGxpbmsgbmd9LgogICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywgKj49fSBpbnN0YW5jZUNhY2hlIFByb3ZpZGVzIHByZS1pbnN0YW50aWF0ZWQgc2VydmljZXMgd2hpY2ggc2hvdWxkCiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZC9vdmVycmlkZSBzZXJ2aWNlcyBwcm92aWRlZCBieSBgcHJvdmlkZXJzYC4gVGhpcyBpcyBoYW5keQogICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIHVuaXQtdGVzdGluZyBhbmQgaGF2aW5nIHRoZSBuZWVkIHRvIG92ZXJyaWRlIGEgZGVmYXVsdAogICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlLgogICAgICogQHJldHVybnMge09iamVjdH0gTmV3bHkgY3JlYXRlZCBzY29wZS4KICAgICAqCiAgICAgKi8KICAgIGZ1bmN0aW9uIFNjb3BlKCkgewogICAgICB0aGlzLiRpZCA9IG5leHRVaWQoKTsKICAgICAgdGhpcy4kJHBoYXNlID0gdGhpcy4kcGFyZW50ID0gdGhpcy4kJHdhdGNoZXJzID0KICAgICAgICAgICAgICAgICAgICAgdGhpcy4kJG5leHRTaWJsaW5nID0gdGhpcy4kJHByZXZTaWJsaW5nID0KICAgICAgICAgICAgICAgICAgICAgdGhpcy4kJGNoaWxkSGVhZCA9IHRoaXMuJCRjaGlsZFRhaWwgPSBudWxsOwogICAgICB0aGlzWyd0aGlzJ10gPSB0aGlzLiRyb290ID0gIHRoaXM7CiAgICAgIHRoaXMuJCRkZXN0cm95ZWQgPSBmYWxzZTsKICAgICAgdGhpcy4kJGFzeW5jUXVldWUgPSBbXTsKICAgICAgdGhpcy4kJHBvc3REaWdlc3RRdWV1ZSA9IFtdOwogICAgICB0aGlzLiQkbGlzdGVuZXJzID0ge307CiAgICAgIHRoaXMuJCRsaXN0ZW5lckNvdW50ID0ge307CiAgICAgIHRoaXMuJCRpc29sYXRlQmluZGluZ3MgPSB7fTsKICAgIH0KCiAgICAvKioKICAgICAqIEBuZ2RvYyBwcm9wZXJ0eQogICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkaWQKICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFVuaXF1ZSBzY29wZSBJRCAobW9ub3RvbmljYWxseSBpbmNyZWFzaW5nIGFscGhhbnVtZXJpYyBzZXF1ZW5jZSkgdXNlZnVsIGZvcgogICAgICogICBkZWJ1Z2dpbmcuCiAgICAgKi8KCgogICAgU2NvcGUucHJvdG90eXBlID0gewogICAgICBjb25zdHJ1Y3RvcjogU2NvcGUsCiAgICAgIC8qKgogICAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJG5ldwogICAgICAgKiBAa2luZCBmdW5jdGlvbgogICAgICAgKgogICAgICAgKiBAZGVzY3JpcHRpb24KICAgICAgICogQ3JlYXRlcyBhIG5ldyBjaGlsZCB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBzY29wZX0uCiAgICAgICAqCiAgICAgICAqIFRoZSBwYXJlbnQgc2NvcGUgd2lsbCBwcm9wYWdhdGUgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSBhbmQKICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0KCl9IGV2ZW50cy4gVGhlIHNjb3BlIGNhbiBiZSByZW1vdmVkIGZyb20gdGhlCiAgICAgICAqIHNjb3BlIGhpZXJhcmNoeSB1c2luZyB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGVzdHJveSAkZGVzdHJveSgpfS4KICAgICAgICoKICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRlc3Ryb3kgJGRlc3Ryb3koKX0gbXVzdCBiZSBjYWxsZWQgb24gYSBzY29wZSB3aGVuIGl0IGlzCiAgICAgICAqIGRlc2lyZWQgZm9yIHRoZSBzY29wZSBhbmQgaXRzIGNoaWxkIHNjb3BlcyB0byBiZSBwZXJtYW5lbnRseSBkZXRhY2hlZCBmcm9tIHRoZSBwYXJlbnQgYW5kCiAgICAgICAqIHRodXMgc3RvcCBwYXJ0aWNpcGF0aW5nIGluIG1vZGVsIGNoYW5nZSBkZXRlY3Rpb24gYW5kIGxpc3RlbmVyIG5vdGlmaWNhdGlvbiBieSBpbnZva2luZy4KICAgICAgICoKICAgICAgICogQHBhcmFtIHtib29sZWFufSBpc29sYXRlIElmIHRydWUsIHRoZW4gdGhlIHNjb3BlIGRvZXMgbm90IHByb3RvdHlwaWNhbGx5IGluaGVyaXQgZnJvbSB0aGUKICAgICAgICogICAgICAgICBwYXJlbnQgc2NvcGUuIFRoZSBzY29wZSBpcyBpc29sYXRlZCwgYXMgaXQgY2FuIG5vdCBzZWUgcGFyZW50IHNjb3BlIHByb3BlcnRpZXMuCiAgICAgICAqICAgICAgICAgV2hlbiBjcmVhdGluZyB3aWRnZXRzLCBpdCBpcyB1c2VmdWwgZm9yIHRoZSB3aWRnZXQgdG8gbm90IGFjY2lkZW50YWxseSByZWFkIHBhcmVudAogICAgICAgKiAgICAgICAgIHN0YXRlLgogICAgICAgKgogICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgbmV3bHkgY3JlYXRlZCBjaGlsZCBzY29wZS4KICAgICAgICoKICAgICAgICovCiAgICAgICRuZXc6IGZ1bmN0aW9uKGlzb2xhdGUpIHsKICAgICAgICB2YXIgQ2hpbGRTY29wZSwKICAgICAgICAgICAgY2hpbGQ7CgogICAgICAgIGlmIChpc29sYXRlKSB7CiAgICAgICAgICBjaGlsZCA9IG5ldyBTY29wZSgpOwogICAgICAgICAgY2hpbGQuJHJvb3QgPSB0aGlzLiRyb290OwogICAgICAgICAgLy8gZW5zdXJlIHRoYXQgdGhlcmUgaXMganVzdCBvbmUgYXN5bmMgcXVldWUgcGVyICRyb290U2NvcGUgYW5kIGl0cyBjaGlsZHJlbgogICAgICAgICAgY2hpbGQuJCRhc3luY1F1ZXVlID0gdGhpcy4kJGFzeW5jUXVldWU7CiAgICAgICAgICBjaGlsZC4kJHBvc3REaWdlc3RRdWV1ZSA9IHRoaXMuJCRwb3N0RGlnZXN0UXVldWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIE9ubHkgY3JlYXRlIGEgY2hpbGQgc2NvcGUgY2xhc3MgaWYgc29tZWJvZHkgYXNrcyBmb3Igb25lLAogICAgICAgICAgLy8gYnV0IGNhY2hlIGl0IHRvIGFsbG93IHRoZSBWTSB0byBvcHRpbWl6ZSBsb29rdXBzLgogICAgICAgICAgaWYgKCF0aGlzLiQkY2hpbGRTY29wZUNsYXNzKSB7CiAgICAgICAgICAgIHRoaXMuJCRjaGlsZFNjb3BlQ2xhc3MgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICB0aGlzLiQkd2F0Y2hlcnMgPSB0aGlzLiQkbmV4dFNpYmxpbmcgPQogICAgICAgICAgICAgICAgICB0aGlzLiQkY2hpbGRIZWFkID0gdGhpcy4kJGNoaWxkVGFpbCA9IG51bGw7CiAgICAgICAgICAgICAgdGhpcy4kJGxpc3RlbmVycyA9IHt9OwogICAgICAgICAgICAgIHRoaXMuJCRsaXN0ZW5lckNvdW50ID0ge307CiAgICAgICAgICAgICAgdGhpcy4kaWQgPSBuZXh0VWlkKCk7CiAgICAgICAgICAgICAgdGhpcy4kJGNoaWxkU2NvcGVDbGFzcyA9IG51bGw7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHRoaXMuJCRjaGlsZFNjb3BlQ2xhc3MucHJvdG90eXBlID0gdGhpczsKICAgICAgICAgIH0KICAgICAgICAgIGNoaWxkID0gbmV3IHRoaXMuJCRjaGlsZFNjb3BlQ2xhc3MoKTsKICAgICAgICB9CiAgICAgICAgY2hpbGRbJ3RoaXMnXSA9IGNoaWxkOwogICAgICAgIGNoaWxkLiRwYXJlbnQgPSB0aGlzOwogICAgICAgIGNoaWxkLiQkcHJldlNpYmxpbmcgPSB0aGlzLiQkY2hpbGRUYWlsOwogICAgICAgIGlmICh0aGlzLiQkY2hpbGRIZWFkKSB7CiAgICAgICAgICB0aGlzLiQkY2hpbGRUYWlsLiQkbmV4dFNpYmxpbmcgPSBjaGlsZDsKICAgICAgICAgIHRoaXMuJCRjaGlsZFRhaWwgPSBjaGlsZDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kJGNoaWxkSGVhZCA9IHRoaXMuJCRjaGlsZFRhaWwgPSBjaGlsZDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGNoaWxkOwogICAgICB9LAoKICAgICAgLyoqCiAgICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkd2F0Y2gKICAgICAgICogQGtpbmQgZnVuY3Rpb24KICAgICAgICoKICAgICAgICogQGRlc2NyaXB0aW9uCiAgICAgICAqIFJlZ2lzdGVycyBhIGBsaXN0ZW5lcmAgY2FsbGJhY2sgdG8gYmUgZXhlY3V0ZWQgd2hlbmV2ZXIgdGhlIGB3YXRjaEV4cHJlc3Npb25gIGNoYW5nZXMuCiAgICAgICAqCiAgICAgICAqIC0gVGhlIGB3YXRjaEV4cHJlc3Npb25gIGlzIGNhbGxlZCBvbiBldmVyeSBjYWxsIHRvIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QKICAgICAgICogICAkZGlnZXN0KCl9IGFuZCBzaG91bGQgcmV0dXJuIHRoZSB2YWx1ZSB0aGF0IHdpbGwgYmUgd2F0Y2hlZC4gKFNpbmNlCiAgICAgICAqICAge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0KCl9IHJlcnVucyB3aGVuIGl0IGRldGVjdHMgY2hhbmdlcyB0aGUKICAgICAgICogICBgd2F0Y2hFeHByZXNzaW9uYCBjYW4gZXhlY3V0ZSBtdWx0aXBsZSB0aW1lcyBwZXIKICAgICAgICogICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3QoKX0gYW5kIHNob3VsZCBiZSBpZGVtcG90ZW50LikKICAgICAgICogLSBUaGUgYGxpc3RlbmVyYCBpcyBjYWxsZWQgb25seSB3aGVuIHRoZSB2YWx1ZSBmcm9tIHRoZSBjdXJyZW50IGB3YXRjaEV4cHJlc3Npb25gIGFuZCB0aGUKICAgICAgICogICBwcmV2aW91cyBjYWxsIHRvIGB3YXRjaEV4cHJlc3Npb25gIGFyZSBub3QgZXF1YWwgKHdpdGggdGhlIGV4Y2VwdGlvbiBvZiB0aGUgaW5pdGlhbCBydW4sCiAgICAgICAqICAgc2VlIGJlbG93KS4gSW5lcXVhbGl0eSBpcyBkZXRlcm1pbmVkIGFjY29yZGluZyB0byByZWZlcmVuY2UgaW5lcXVhbGl0eSwKICAgICAgICogICBbc3RyaWN0IGNvbXBhcmlzb25dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL09wZXJhdG9ycy9Db21wYXJpc29uX09wZXJhdG9ycykKICAgICAgICogICAgdmlhIHRoZSBgIT09YCBKYXZhc2NyaXB0IG9wZXJhdG9yLCB1bmxlc3MgYG9iamVjdEVxdWFsaXR5ID09IHRydWVgCiAgICAgICAqICAgKHNlZSBuZXh0IHBvaW50KQogICAgICAgKiAtIFdoZW4gYG9iamVjdEVxdWFsaXR5ID09IHRydWVgLCBpbmVxdWFsaXR5IG9mIHRoZSBgd2F0Y2hFeHByZXNzaW9uYCBpcyBkZXRlcm1pbmVkCiAgICAgICAqICAgYWNjb3JkaW5nIHRvIHRoZSB7QGxpbmsgYW5ndWxhci5lcXVhbHN9IGZ1bmN0aW9uLiBUbyBzYXZlIHRoZSB2YWx1ZSBvZiB0aGUgb2JqZWN0IGZvcgogICAgICAgKiAgIGxhdGVyIGNvbXBhcmlzb24sIHRoZSB7QGxpbmsgYW5ndWxhci5jb3B5fSBmdW5jdGlvbiBpcyB1c2VkLiBUaGlzIHRoZXJlZm9yZSBtZWFucyB0aGF0CiAgICAgICAqICAgd2F0Y2hpbmcgY29tcGxleCBvYmplY3RzIHdpbGwgaGF2ZSBhZHZlcnNlIG1lbW9yeSBhbmQgcGVyZm9ybWFuY2UgaW1wbGljYXRpb25zLgogICAgICAgKiAtIFRoZSB3YXRjaCBgbGlzdGVuZXJgIG1heSBjaGFuZ2UgdGhlIG1vZGVsLCB3aGljaCBtYXkgdHJpZ2dlciBvdGhlciBgbGlzdGVuZXJgcyB0byBmaXJlLgogICAgICAgKiAgIFRoaXMgaXMgYWNoaWV2ZWQgYnkgcmVydW5uaW5nIHRoZSB3YXRjaGVycyB1bnRpbCBubyBjaGFuZ2VzIGFyZSBkZXRlY3RlZC4gVGhlIHJlcnVuCiAgICAgICAqICAgaXRlcmF0aW9uIGxpbWl0IGlzIDEwIHRvIHByZXZlbnQgYW4gaW5maW5pdGUgbG9vcCBkZWFkbG9jay4KICAgICAgICoKICAgICAgICoKICAgICAgICogSWYgeW91IHdhbnQgdG8gYmUgbm90aWZpZWQgd2hlbmV2ZXIge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0fSBpcyBjYWxsZWQsCiAgICAgICAqIHlvdSBjYW4gcmVnaXN0ZXIgYSBgd2F0Y2hFeHByZXNzaW9uYCBmdW5jdGlvbiB3aXRoIG5vIGBsaXN0ZW5lcmAuIChTaW5jZSBgd2F0Y2hFeHByZXNzaW9uYAogICAgICAgKiBjYW4gZXhlY3V0ZSBtdWx0aXBsZSB0aW1lcyBwZXIge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0fSBjeWNsZSB3aGVuIGEKICAgICAgICogY2hhbmdlIGlzIGRldGVjdGVkLCBiZSBwcmVwYXJlZCBmb3IgbXVsdGlwbGUgY2FsbHMgdG8geW91ciBsaXN0ZW5lci4pCiAgICAgICAqCiAgICAgICAqIEFmdGVyIGEgd2F0Y2hlciBpcyByZWdpc3RlcmVkIHdpdGggdGhlIHNjb3BlLCB0aGUgYGxpc3RlbmVyYCBmbiBpcyBjYWxsZWQgYXN5bmNocm9ub3VzbHkKICAgICAgICogKHZpYSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZXZhbEFzeW5jICRldmFsQXN5bmN9KSB0byBpbml0aWFsaXplIHRoZQogICAgICAgKiB3YXRjaGVyLiBJbiByYXJlIGNhc2VzLCB0aGlzIGlzIHVuZGVzaXJhYmxlIGJlY2F1c2UgdGhlIGxpc3RlbmVyIGlzIGNhbGxlZCB3aGVuIHRoZSByZXN1bHQKICAgICAgICogb2YgYHdhdGNoRXhwcmVzc2lvbmAgZGlkbid0IGNoYW5nZS4gVG8gZGV0ZWN0IHRoaXMgc2NlbmFyaW8gd2l0aGluIHRoZSBgbGlzdGVuZXJgIGZuLCB5b3UKICAgICAgICogY2FuIGNvbXBhcmUgdGhlIGBuZXdWYWxgIGFuZCBgb2xkVmFsYC4gSWYgdGhlc2UgdHdvIHZhbHVlcyBhcmUgaWRlbnRpY2FsIChgPT09YCkgdGhlbiB0aGUKICAgICAgICogbGlzdGVuZXIgd2FzIGNhbGxlZCBkdWUgdG8gaW5pdGlhbGl6YXRpb24uCiAgICAgICAqCiAgICAgICAqIFRoZSBleGFtcGxlIGJlbG93IGNvbnRhaW5zIGFuIGlsbHVzdHJhdGlvbiBvZiB1c2luZyBhIGZ1bmN0aW9uIGFzIHlvdXIgJHdhdGNoIGxpc3RlbmVyCiAgICAgICAqCiAgICAgICAqCiAgICAgICAqICMgRXhhbXBsZQogICAgICAgKiBgYGBqcwogICAgICAgICAgIC8vIGxldCdzIGFzc3VtZSB0aGF0IHNjb3BlIHdhcyBkZXBlbmRlbmN5IGluamVjdGVkIGFzIHRoZSAkcm9vdFNjb3BlCiAgICAgICAgICAgdmFyIHNjb3BlID0gJHJvb3RTY29wZTsKICAgICAgICAgICBzY29wZS5uYW1lID0gJ21pc2tvJzsKICAgICAgICAgICBzY29wZS5jb3VudGVyID0gMDsKCiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMCk7CiAgICAgICAgICAgc2NvcGUuJHdhdGNoKCduYW1lJywgZnVuY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgICAgICAgICBzY29wZS5jb3VudGVyID0gc2NvcGUuY291bnRlciArIDE7CiAgICAgICAgICAgfSk7CiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMCk7CgogICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTsKICAgICAgICAgICAvLyB0aGUgbGlzdGVuZXIgaXMgYWx3YXlzIGNhbGxlZCBkdXJpbmcgdGhlIGZpcnN0ICRkaWdlc3QgbG9vcCBhZnRlciBpdCB3YXMgcmVnaXN0ZXJlZAogICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDEpOwoKICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7CiAgICAgICAgICAgLy8gYnV0IG5vdyBpdCB3aWxsIG5vdCBiZSBjYWxsZWQgdW5sZXNzIHRoZSB2YWx1ZSBjaGFuZ2VzCiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMSk7CgogICAgICAgICAgIHNjb3BlLm5hbWUgPSAnYWRhbSc7CiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpOwogICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDIpOwoKCgogICAgICAgICAgIC8vIFVzaW5nIGEgbGlzdGVuZXIgZnVuY3Rpb24KICAgICAgICAgICB2YXIgZm9vZDsKICAgICAgICAgICBzY29wZS5mb29kQ291bnRlciA9IDA7CiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZvb2RDb3VudGVyKS50b0VxdWFsKDApOwogICAgICAgICAgIHNjb3BlLiR3YXRjaCgKICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGxpc3RlbmVyIGZ1bmN0aW9uCiAgICAgICAgICAgICBmdW5jdGlvbigpIHsgcmV0dXJuIGZvb2Q7IH0sCiAgICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBjaGFuZ2UgaGFuZGxlcgogICAgICAgICAgICAgZnVuY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgICAgICAgICAgIGlmICggbmV3VmFsdWUgIT09IG9sZFZhbHVlICkgewogICAgICAgICAgICAgICAgIC8vIE9ubHkgaW5jcmVtZW50IHRoZSBjb3VudGVyIGlmIHRoZSB2YWx1ZSBjaGFuZ2VkCiAgICAgICAgICAgICAgICAgc2NvcGUuZm9vZENvdW50ZXIgPSBzY29wZS5mb29kQ291bnRlciArIDE7CiAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgIH0KICAgICAgICAgICApOwogICAgICAgICAgIC8vIE5vIGRpZ2VzdCBoYXMgYmVlbiBydW4gc28gdGhlIGNvdW50ZXIgd2lsbCBiZSB6ZXJvCiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZvb2RDb3VudGVyKS50b0VxdWFsKDApOwoKICAgICAgICAgICAvLyBSdW4gdGhlIGRpZ2VzdCBidXQgc2luY2UgZm9vZCBoYXMgbm90IGNoYW5nZWQgY291bnQgd2lsbCBzdGlsbCBiZSB6ZXJvCiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpOwogICAgICAgICAgIGV4cGVjdChzY29wZS5mb29kQ291bnRlcikudG9FcXVhbCgwKTsKCiAgICAgICAgICAgLy8gVXBkYXRlIGZvb2QgYW5kIHJ1biBkaWdlc3QuICBOb3cgdGhlIGNvdW50ZXIgd2lsbCBpbmNyZW1lbnQKICAgICAgICAgICBmb29kID0gJ2NoZWVzZWJ1cmdlcic7CiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpOwogICAgICAgICAgIGV4cGVjdChzY29wZS5mb29kQ291bnRlcikudG9FcXVhbCgxKTsKCiAgICAgICAqIGBgYAogICAgICAgKgogICAgICAgKgogICAgICAgKgogICAgICAgKiBAcGFyYW0geyhmdW5jdGlvbigpfHN0cmluZyl9IHdhdGNoRXhwcmVzc2lvbiBFeHByZXNzaW9uIHRoYXQgaXMgZXZhbHVhdGVkIG9uIGVhY2gKICAgICAgICogICAge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0fSBjeWNsZS4gQSBjaGFuZ2UgaW4gdGhlIHJldHVybiB2YWx1ZSB0cmlnZ2VycwogICAgICAgKiAgICBhIGNhbGwgdG8gdGhlIGBsaXN0ZW5lcmAuCiAgICAgICAqCiAgICAgICAqICAgIC0gYHN0cmluZ2A6IEV2YWx1YXRlZCBhcyB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufQogICAgICAgKiAgICAtIGBmdW5jdGlvbihzY29wZSlgOiBjYWxsZWQgd2l0aCBjdXJyZW50IGBzY29wZWAgYXMgYSBwYXJhbWV0ZXIuCiAgICAgICAqIEBwYXJhbSB7KGZ1bmN0aW9uKCl8c3RyaW5nKT19IGxpc3RlbmVyIENhbGxiYWNrIGNhbGxlZCB3aGVuZXZlciB0aGUgcmV0dXJuIHZhbHVlIG9mCiAgICAgICAqICAgdGhlIGB3YXRjaEV4cHJlc3Npb25gIGNoYW5nZXMuCiAgICAgICAqCiAgICAgICAqICAgIC0gYHN0cmluZ2A6IEV2YWx1YXRlZCBhcyB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufQogICAgICAgKiAgICAtIGBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUsIHNjb3BlKWA6IGNhbGxlZCB3aXRoIGN1cnJlbnQgYW5kIHByZXZpb3VzIHZhbHVlcyBhcwogICAgICAgKiAgICAgIHBhcmFtZXRlcnMuCiAgICAgICAqCiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9iamVjdEVxdWFsaXR5IENvbXBhcmUgZm9yIG9iamVjdCBlcXVhbGl0eSB1c2luZyB7QGxpbmsgYW5ndWxhci5lcXVhbHN9IGluc3RlYWQgb2YKICAgICAgICogICAgIGNvbXBhcmluZyBmb3IgcmVmZXJlbmNlIGVxdWFsaXR5LgogICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gUmV0dXJucyBhIGRlcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIGxpc3RlbmVyLgogICAgICAgKi8KICAgICAgJHdhdGNoOiBmdW5jdGlvbih3YXRjaEV4cCwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5KSB7CiAgICAgICAgdmFyIHNjb3BlID0gdGhpcywKICAgICAgICAgICAgZ2V0ID0gY29tcGlsZVRvRm4od2F0Y2hFeHAsICd3YXRjaCcpLAogICAgICAgICAgICBhcnJheSA9IHNjb3BlLiQkd2F0Y2hlcnMsCiAgICAgICAgICAgIHdhdGNoZXIgPSB7CiAgICAgICAgICAgICAgZm46IGxpc3RlbmVyLAogICAgICAgICAgICAgIGxhc3Q6IGluaXRXYXRjaFZhbCwKICAgICAgICAgICAgICBnZXQ6IGdldCwKICAgICAgICAgICAgICBleHA6IHdhdGNoRXhwLAogICAgICAgICAgICAgIGVxOiAhIW9iamVjdEVxdWFsaXR5CiAgICAgICAgICAgIH07CgogICAgICAgIGxhc3REaXJ0eVdhdGNoID0gbnVsbDsKCiAgICAgICAgLy8gaW4gdGhlIGNhc2UgdXNlciBwYXNzIHN0cmluZywgd2UgbmVlZCB0byBjb21waWxlIGl0LCBkbyB3ZSByZWFsbHkgbmVlZCB0aGlzID8KICAgICAgICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKSB7CiAgICAgICAgICB2YXIgbGlzdGVuRm4gPSBjb21waWxlVG9GbihsaXN0ZW5lciB8fCBub29wLCAnbGlzdGVuZXInKTsKICAgICAgICAgIHdhdGNoZXIuZm4gPSBmdW5jdGlvbihuZXdWYWwsIG9sZFZhbCwgc2NvcGUpIHtsaXN0ZW5GbihzY29wZSk7fTsKICAgICAgICB9CgogICAgICAgIGlmICh0eXBlb2Ygd2F0Y2hFeHAgPT0gJ3N0cmluZycgJiYgZ2V0LmNvbnN0YW50KSB7CiAgICAgICAgICB2YXIgb3JpZ2luYWxGbiA9IHdhdGNoZXIuZm47CiAgICAgICAgICB3YXRjaGVyLmZuID0gZnVuY3Rpb24obmV3VmFsLCBvbGRWYWwsIHNjb3BlKSB7CiAgICAgICAgICAgIG9yaWdpbmFsRm4uY2FsbCh0aGlzLCBuZXdWYWwsIG9sZFZhbCwgc2NvcGUpOwogICAgICAgICAgICBhcnJheVJlbW92ZShhcnJheSwgd2F0Y2hlcik7CiAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgaWYgKCFhcnJheSkgewogICAgICAgICAgYXJyYXkgPSBzY29wZS4kJHdhdGNoZXJzID0gW107CiAgICAgICAgfQogICAgICAgIC8vIHdlIHVzZSB1bnNoaWZ0IHNpbmNlIHdlIHVzZSBhIHdoaWxlIGxvb3AgaW4gJGRpZ2VzdCBmb3Igc3BlZWQuCiAgICAgICAgLy8gdGhlIHdoaWxlIGxvb3AgcmVhZHMgaW4gcmV2ZXJzZSBvcmRlci4KICAgICAgICBhcnJheS51bnNoaWZ0KHdhdGNoZXIpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gZGVyZWdpc3RlcldhdGNoKCkgewogICAgICAgICAgYXJyYXlSZW1vdmUoYXJyYXksIHdhdGNoZXIpOwogICAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSBudWxsOwogICAgICAgIH07CiAgICAgIH0sCgoKICAgICAgLyoqCiAgICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkd2F0Y2hDb2xsZWN0aW9uCiAgICAgICAqIEBraW5kIGZ1bmN0aW9uCiAgICAgICAqCiAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgKiBTaGFsbG93IHdhdGNoZXMgdGhlIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IGFuZCBmaXJlcyB3aGVuZXZlciBhbnkgb2YgdGhlIHByb3BlcnRpZXMgY2hhbmdlCiAgICAgICAqIChmb3IgYXJyYXlzLCB0aGlzIGltcGxpZXMgd2F0Y2hpbmcgdGhlIGFycmF5IGl0ZW1zOyBmb3Igb2JqZWN0IG1hcHMsIHRoaXMgaW1wbGllcyB3YXRjaGluZwogICAgICAgKiB0aGUgcHJvcGVydGllcykuIElmIGEgY2hhbmdlIGlzIGRldGVjdGVkLCB0aGUgYGxpc3RlbmVyYCBjYWxsYmFjayBpcyBmaXJlZC4KICAgICAgICoKICAgICAgICogLSBUaGUgYG9iamAgY29sbGVjdGlvbiBpcyBvYnNlcnZlZCB2aWEgc3RhbmRhcmQgJHdhdGNoIG9wZXJhdGlvbiBhbmQgaXMgZXhhbWluZWQgb24gZXZlcnkKICAgICAgICogICBjYWxsIHRvICRkaWdlc3QoKSB0byBzZWUgaWYgYW55IGl0ZW1zIGhhdmUgYmVlbiBhZGRlZCwgcmVtb3ZlZCwgb3IgbW92ZWQuCiAgICAgICAqIC0gVGhlIGBsaXN0ZW5lcmAgaXMgY2FsbGVkIHdoZW5ldmVyIGFueXRoaW5nIHdpdGhpbiB0aGUgYG9iamAgaGFzIGNoYW5nZWQuIEV4YW1wbGVzIGluY2x1ZGUKICAgICAgICogICBhZGRpbmcsIHJlbW92aW5nLCBhbmQgbW92aW5nIGl0ZW1zIGJlbG9uZ2luZyB0byBhbiBvYmplY3Qgb3IgYXJyYXkuCiAgICAgICAqCiAgICAgICAqCiAgICAgICAqICMgRXhhbXBsZQogICAgICAgKiBgYGBqcwogICAgICAgICAgJHNjb3BlLm5hbWVzID0gWydpZ29yJywgJ21hdGlhcycsICdtaXNrbycsICdqYW1lcyddOwogICAgICAgICAgJHNjb3BlLmRhdGFDb3VudCA9IDQ7CgogICAgICAgICAgJHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJ25hbWVzJywgZnVuY3Rpb24obmV3TmFtZXMsIG9sZE5hbWVzKSB7CiAgICAgICAgICAgICRzY29wZS5kYXRhQ291bnQgPSBuZXdOYW1lcy5sZW5ndGg7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBleHBlY3QoJHNjb3BlLmRhdGFDb3VudCkudG9FcXVhbCg0KTsKICAgICAgICAgICRzY29wZS4kZGlnZXN0KCk7CgogICAgICAgICAgLy9zdGlsbCBhdCA0IC4uLiBubyBjaGFuZ2VzCiAgICAgICAgICBleHBlY3QoJHNjb3BlLmRhdGFDb3VudCkudG9FcXVhbCg0KTsKCiAgICAgICAgICAkc2NvcGUubmFtZXMucG9wKCk7CiAgICAgICAgICAkc2NvcGUuJGRpZ2VzdCgpOwoKICAgICAgICAgIC8vbm93IHRoZXJlJ3MgYmVlbiBhIGNoYW5nZQogICAgICAgICAgZXhwZWN0KCRzY29wZS5kYXRhQ291bnQpLnRvRXF1YWwoMyk7CiAgICAgICAqIGBgYAogICAgICAgKgogICAgICAgKgogICAgICAgKiBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbihzY29wZSl9IG9iaiBFdmFsdWF0ZWQgYXMge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0uIFRoZQogICAgICAgKiAgICBleHByZXNzaW9uIHZhbHVlIHNob3VsZCBldmFsdWF0ZSB0byBhbiBvYmplY3Qgb3IgYW4gYXJyYXkgd2hpY2ggaXMgb2JzZXJ2ZWQgb24gZWFjaAogICAgICAgKiAgICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3R9IGN5Y2xlLiBBbnkgc2hhbGxvdyBjaGFuZ2Ugd2l0aGluIHRoZQogICAgICAgKiAgICBjb2xsZWN0aW9uIHdpbGwgdHJpZ2dlciBhIGNhbGwgdG8gdGhlIGBsaXN0ZW5lcmAuCiAgICAgICAqCiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3Q29sbGVjdGlvbiwgb2xkQ29sbGVjdGlvbiwgc2NvcGUpfSBsaXN0ZW5lciBhIGNhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZAogICAgICAgKiAgICB3aGVuIGEgY2hhbmdlIGlzIGRldGVjdGVkLgogICAgICAgKiAgICAtIFRoZSBgbmV3Q29sbGVjdGlvbmAgb2JqZWN0IGlzIHRoZSBuZXdseSBtb2RpZmllZCBkYXRhIG9idGFpbmVkIGZyb20gdGhlIGBvYmpgIGV4cHJlc3Npb24KICAgICAgICogICAgLSBUaGUgYG9sZENvbGxlY3Rpb25gIG9iamVjdCBpcyBhIGNvcHkgb2YgdGhlIGZvcm1lciBjb2xsZWN0aW9uIGRhdGEuCiAgICAgICAqICAgICAgRHVlIHRvIHBlcmZvcm1hbmNlIGNvbnNpZGVyYXRpb25zLCB0aGVgb2xkQ29sbGVjdGlvbmAgdmFsdWUgaXMgY29tcHV0ZWQgb25seSBpZiB0aGUKICAgICAgICogICAgICBgbGlzdGVuZXJgIGZ1bmN0aW9uIGRlY2xhcmVzIHR3byBvciBtb3JlIGFyZ3VtZW50cy4KICAgICAgICogICAgLSBUaGUgYHNjb3BlYCBhcmd1bWVudCByZWZlcnMgdG8gdGhlIGN1cnJlbnQgc2NvcGUuCiAgICAgICAqCiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBSZXR1cm5zIGEgZGUtcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIGxpc3RlbmVyLiBXaGVuIHRoZQogICAgICAgKiAgICBkZS1yZWdpc3RyYXRpb24gZnVuY3Rpb24gaXMgZXhlY3V0ZWQsIHRoZSBpbnRlcm5hbCB3YXRjaCBvcGVyYXRpb24gaXMgdGVybWluYXRlZC4KICAgICAgICovCiAgICAgICR3YXRjaENvbGxlY3Rpb246IGZ1bmN0aW9uKG9iaiwgbGlzdGVuZXIpIHsKICAgICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgICAgLy8gdGhlIGN1cnJlbnQgdmFsdWUsIHVwZGF0ZWQgb24gZWFjaCBkaXJ0eS1jaGVjayBydW4KICAgICAgICB2YXIgbmV3VmFsdWU7CiAgICAgICAgLy8gYSBzaGFsbG93IGNvcHkgb2YgdGhlIG5ld1ZhbHVlIGZyb20gdGhlIGxhc3QgZGlydHktY2hlY2sgcnVuLAogICAgICAgIC8vIHVwZGF0ZWQgdG8gbWF0Y2ggbmV3VmFsdWUgZHVyaW5nIGRpcnR5LWNoZWNrIHJ1bgogICAgICAgIHZhciBvbGRWYWx1ZTsKICAgICAgICAvLyBhIHNoYWxsb3cgY29weSBvZiB0aGUgbmV3VmFsdWUgZnJvbSB3aGVuIHRoZSBsYXN0IGNoYW5nZSBoYXBwZW5lZAogICAgICAgIHZhciB2ZXJ5T2xkVmFsdWU7CiAgICAgICAgLy8gb25seSB0cmFjayB2ZXJ5T2xkVmFsdWUgaWYgdGhlIGxpc3RlbmVyIGlzIGFza2luZyBmb3IgaXQKICAgICAgICB2YXIgdHJhY2tWZXJ5T2xkVmFsdWUgPSAobGlzdGVuZXIubGVuZ3RoID4gMSk7CiAgICAgICAgdmFyIGNoYW5nZURldGVjdGVkID0gMDsKICAgICAgICB2YXIgb2JqR2V0dGVyID0gJHBhcnNlKG9iaik7CiAgICAgICAgdmFyIGludGVybmFsQXJyYXkgPSBbXTsKICAgICAgICB2YXIgaW50ZXJuYWxPYmplY3QgPSB7fTsKICAgICAgICB2YXIgaW5pdFJ1biA9IHRydWU7CiAgICAgICAgdmFyIG9sZExlbmd0aCA9IDA7CgogICAgICAgIGZ1bmN0aW9uICR3YXRjaENvbGxlY3Rpb25XYXRjaCgpIHsKICAgICAgICAgIG5ld1ZhbHVlID0gb2JqR2V0dGVyKHNlbGYpOwogICAgICAgICAgdmFyIG5ld0xlbmd0aCwga2V5OwoKICAgICAgICAgIGlmICghaXNPYmplY3QobmV3VmFsdWUpKSB7IC8vIGlmIHByaW1pdGl2ZQogICAgICAgICAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7CiAgICAgICAgICAgICAgb2xkVmFsdWUgPSBuZXdWYWx1ZTsKICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXlMaWtlKG5ld1ZhbHVlKSkgewogICAgICAgICAgICBpZiAob2xkVmFsdWUgIT09IGludGVybmFsQXJyYXkpIHsKICAgICAgICAgICAgICAvLyB3ZSBhcmUgdHJhbnNpdGlvbmluZyBmcm9tIHNvbWV0aGluZyB3aGljaCB3YXMgbm90IGFuIGFycmF5IGludG8gYXJyYXkuCiAgICAgICAgICAgICAgb2xkVmFsdWUgPSBpbnRlcm5hbEFycmF5OwogICAgICAgICAgICAgIG9sZExlbmd0aCA9IG9sZFZhbHVlLmxlbmd0aCA9IDA7CiAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbmV3TGVuZ3RoID0gbmV3VmFsdWUubGVuZ3RoOwoKICAgICAgICAgICAgaWYgKG9sZExlbmd0aCAhPT0gbmV3TGVuZ3RoKSB7CiAgICAgICAgICAgICAgLy8gaWYgbGVuZ3RocyBkbyBub3QgbWF0Y2ggd2UgbmVlZCB0byB0cmlnZ2VyIGNoYW5nZSBub3RpZmljYXRpb24KICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrOwogICAgICAgICAgICAgIG9sZFZhbHVlLmxlbmd0aCA9IG9sZExlbmd0aCA9IG5ld0xlbmd0aDsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBjb3B5IHRoZSBpdGVtcyB0byBvbGRWYWx1ZSBhbmQgbG9vayBmb3IgY2hhbmdlcy4KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdMZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIHZhciBib3RoTmFOID0gKG9sZFZhbHVlW2ldICE9PSBvbGRWYWx1ZVtpXSkgJiYKICAgICAgICAgICAgICAgICAgKG5ld1ZhbHVlW2ldICE9PSBuZXdWYWx1ZVtpXSk7CiAgICAgICAgICAgICAgaWYgKCFib3RoTmFOICYmIChvbGRWYWx1ZVtpXSAhPT0gbmV3VmFsdWVbaV0pKSB7CiAgICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrOwogICAgICAgICAgICAgICAgb2xkVmFsdWVbaV0gPSBuZXdWYWx1ZVtpXTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gaW50ZXJuYWxPYmplY3QpIHsKICAgICAgICAgICAgICAvLyB3ZSBhcmUgdHJhbnNpdGlvbmluZyBmcm9tIHNvbWV0aGluZyB3aGljaCB3YXMgbm90IGFuIG9iamVjdCBpbnRvIG9iamVjdC4KICAgICAgICAgICAgICBvbGRWYWx1ZSA9IGludGVybmFsT2JqZWN0ID0ge307CiAgICAgICAgICAgICAgb2xkTGVuZ3RoID0gMDsKICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIGNvcHkgdGhlIGl0ZW1zIHRvIG9sZFZhbHVlIGFuZCBsb29rIGZvciBjaGFuZ2VzLgogICAgICAgICAgICBuZXdMZW5ndGggPSAwOwogICAgICAgICAgICBmb3IgKGtleSBpbiBuZXdWYWx1ZSkgewogICAgICAgICAgICAgIGlmIChuZXdWYWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7CiAgICAgICAgICAgICAgICBuZXdMZW5ndGgrKzsKICAgICAgICAgICAgICAgIGlmIChvbGRWYWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7CiAgICAgICAgICAgICAgICAgIGlmIChvbGRWYWx1ZVtrZXldICE9PSBuZXdWYWx1ZVtrZXldKSB7CiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKzsKICAgICAgICAgICAgICAgICAgICBvbGRWYWx1ZVtrZXldID0gbmV3VmFsdWVba2V5XTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgb2xkTGVuZ3RoKys7CiAgICAgICAgICAgICAgICAgIG9sZFZhbHVlW2tleV0gPSBuZXdWYWx1ZVtrZXldOwogICAgICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAob2xkTGVuZ3RoID4gbmV3TGVuZ3RoKSB7CiAgICAgICAgICAgICAgLy8gd2UgdXNlZCB0byBoYXZlIG1vcmUga2V5cywgbmVlZCB0byBmaW5kIHRoZW0gYW5kIGRlc3Ryb3kgdGhlbS4KICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrOwogICAgICAgICAgICAgIGZvcihrZXkgaW4gb2xkVmFsdWUpIHsKICAgICAgICAgICAgICAgIGlmIChvbGRWYWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICFuZXdWYWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7CiAgICAgICAgICAgICAgICAgIG9sZExlbmd0aC0tOwogICAgICAgICAgICAgICAgICBkZWxldGUgb2xkVmFsdWVba2V5XTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBjaGFuZ2VEZXRlY3RlZDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uICR3YXRjaENvbGxlY3Rpb25BY3Rpb24oKSB7CiAgICAgICAgICBpZiAoaW5pdFJ1bikgewogICAgICAgICAgICBpbml0UnVuID0gZmFsc2U7CiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlLCBuZXdWYWx1ZSwgc2VsZik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsaXN0ZW5lcihuZXdWYWx1ZSwgdmVyeU9sZFZhbHVlLCBzZWxmKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBtYWtlIGEgY29weSBmb3IgdGhlIG5leHQgdGltZSBhIGNvbGxlY3Rpb24gaXMgY2hhbmdlZAogICAgICAgICAgaWYgKHRyYWNrVmVyeU9sZFZhbHVlKSB7CiAgICAgICAgICAgIGlmICghaXNPYmplY3QobmV3VmFsdWUpKSB7CiAgICAgICAgICAgICAgLy9wcmltaXRpdmUKICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWUgPSBuZXdWYWx1ZTsKICAgICAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5TGlrZShuZXdWYWx1ZSkpIHsKICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWUgPSBuZXcgQXJyYXkobmV3VmFsdWUubGVuZ3RoKTsKICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld1ZhbHVlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWVbaV0gPSBuZXdWYWx1ZVtpXTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7IC8vIGlmIG9iamVjdAogICAgICAgICAgICAgIHZlcnlPbGRWYWx1ZSA9IHt9OwogICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBuZXdWYWx1ZSkgewogICAgICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwobmV3VmFsdWUsIGtleSkpIHsKICAgICAgICAgICAgICAgICAgdmVyeU9sZFZhbHVlW2tleV0gPSBuZXdWYWx1ZVtrZXldOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRoaXMuJHdhdGNoKCR3YXRjaENvbGxlY3Rpb25XYXRjaCwgJHdhdGNoQ29sbGVjdGlvbkFjdGlvbik7CiAgICAgIH0sCgogICAgICAvKioKICAgICAgICogQG5nZG9jIG1ldGhvZAogICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QKICAgICAgICogQGtpbmQgZnVuY3Rpb24KICAgICAgICoKICAgICAgICogQGRlc2NyaXB0aW9uCiAgICAgICAqIFByb2Nlc3NlcyBhbGwgb2YgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCB3YXRjaGVyc30gb2YgdGhlIGN1cnJlbnQgc2NvcGUgYW5kCiAgICAgICAqIGl0cyBjaGlsZHJlbi4gQmVjYXVzZSBhIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCB3YXRjaGVyfSdzIGxpc3RlbmVyIGNhbiBjaGFuZ2UKICAgICAgICogdGhlIG1vZGVsLCB0aGUgYCRkaWdlc3QoKWAga2VlcHMgY2FsbGluZyB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNoZXJzfQogICAgICAgKiB1bnRpbCBubyBtb3JlIGxpc3RlbmVycyBhcmUgZmlyaW5nLiBUaGlzIG1lYW5zIHRoYXQgaXQgaXMgcG9zc2libGUgdG8gZ2V0IGludG8gYW4gaW5maW5pdGUKICAgICAgICogbG9vcC4gVGhpcyBmdW5jdGlvbiB3aWxsIHRocm93IGAnTWF4aW11bSBpdGVyYXRpb24gbGltaXQgZXhjZWVkZWQuJ2AgaWYgdGhlIG51bWJlciBvZgogICAgICAgKiBpdGVyYXRpb25zIGV4Y2VlZHMgMTAuCiAgICAgICAqCiAgICAgICAqIFVzdWFsbHksIHlvdSBkb24ndCBjYWxsIGAkZGlnZXN0KClgIGRpcmVjdGx5IGluCiAgICAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDb250cm9sbGVyIGNvbnRyb2xsZXJzfSBvciBpbgogICAgICAgKiB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmUgZGlyZWN0aXZlc30uCiAgICAgICAqIEluc3RlYWQsIHlvdSBzaG91bGQgY2FsbCB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkYXBwbHkgJGFwcGx5KCl9ICh0eXBpY2FsbHkgZnJvbSB3aXRoaW4KICAgICAgICogYSB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmUgZGlyZWN0aXZlc30pLCB3aGljaCB3aWxsIGZvcmNlIGEgYCRkaWdlc3QoKWAuCiAgICAgICAqCiAgICAgICAqIElmIHlvdSB3YW50IHRvIGJlIG5vdGlmaWVkIHdoZW5ldmVyIGAkZGlnZXN0KClgIGlzIGNhbGxlZCwKICAgICAgICogeW91IGNhbiByZWdpc3RlciBhIGB3YXRjaEV4cHJlc3Npb25gIGZ1bmN0aW9uIHdpdGgKICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoICR3YXRjaCgpfSB3aXRoIG5vIGBsaXN0ZW5lcmAuCiAgICAgICAqCiAgICAgICAqIEluIHVuaXQgdGVzdHMsIHlvdSBtYXkgbmVlZCB0byBjYWxsIGAkZGlnZXN0KClgIHRvIHNpbXVsYXRlIHRoZSBzY29wZSBsaWZlIGN5Y2xlLgogICAgICAgKgogICAgICAgKiAjIEV4YW1wbGUKICAgICAgICogYGBganMKICAgICAgICAgICB2YXIgc2NvcGUgPSAuLi47CiAgICAgICAgICAgc2NvcGUubmFtZSA9ICdtaXNrbyc7CiAgICAgICAgICAgc2NvcGUuY291bnRlciA9IDA7CgogICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDApOwogICAgICAgICAgIHNjb3BlLiR3YXRjaCgnbmFtZScsIGZ1bmN0aW9uKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICAgICAgICAgc2NvcGUuY291bnRlciA9IHNjb3BlLmNvdW50ZXIgKyAxOwogICAgICAgICAgIH0pOwogICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDApOwoKICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7CiAgICAgICAgICAgLy8gdGhlIGxpc3RlbmVyIGlzIGFsd2F5cyBjYWxsZWQgZHVyaW5nIHRoZSBmaXJzdCAkZGlnZXN0IGxvb3AgYWZ0ZXIgaXQgd2FzIHJlZ2lzdGVyZWQKICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgxKTsKCiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpOwogICAgICAgICAgIC8vIGJ1dCBub3cgaXQgd2lsbCBub3QgYmUgY2FsbGVkIHVubGVzcyB0aGUgdmFsdWUgY2hhbmdlcwogICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDEpOwoKICAgICAgICAgICBzY29wZS5uYW1lID0gJ2FkYW0nOwogICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTsKICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgyKTsKICAgICAgICogYGBgCiAgICAgICAqCiAgICAgICAqLwogICAgICAkZGlnZXN0OiBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgd2F0Y2gsIHZhbHVlLCBsYXN0LAogICAgICAgICAgICB3YXRjaGVycywKICAgICAgICAgICAgYXN5bmNRdWV1ZSA9IHRoaXMuJCRhc3luY1F1ZXVlLAogICAgICAgICAgICBwb3N0RGlnZXN0UXVldWUgPSB0aGlzLiQkcG9zdERpZ2VzdFF1ZXVlLAogICAgICAgICAgICBsZW5ndGgsCiAgICAgICAgICAgIGRpcnR5LCB0dGwgPSBUVEwsCiAgICAgICAgICAgIG5leHQsIGN1cnJlbnQsIHRhcmdldCA9IHRoaXMsCiAgICAgICAgICAgIHdhdGNoTG9nID0gW10sCiAgICAgICAgICAgIGxvZ0lkeCwgbG9nTXNnLCBhc3luY1Rhc2s7CgogICAgICAgIGJlZ2luUGhhc2UoJyRkaWdlc3QnKTsKCiAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSBudWxsOwoKICAgICAgICBkbyB7IC8vICJ3aGlsZSBkaXJ0eSIgbG9vcAogICAgICAgICAgZGlydHkgPSBmYWxzZTsKICAgICAgICAgIGN1cnJlbnQgPSB0YXJnZXQ7CgogICAgICAgICAgd2hpbGUoYXN5bmNRdWV1ZS5sZW5ndGgpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBhc3luY1Rhc2sgPSBhc3luY1F1ZXVlLnNoaWZ0KCk7CiAgICAgICAgICAgICAgYXN5bmNUYXNrLnNjb3BlLiRldmFsKGFzeW5jVGFzay5leHByZXNzaW9uKTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgIGNsZWFyUGhhc2UoKTsKICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBsYXN0RGlydHlXYXRjaCA9IG51bGw7CiAgICAgICAgICB9CgogICAgICAgICAgdHJhdmVyc2VTY29wZXNMb29wOgogICAgICAgICAgZG8geyAvLyAidHJhdmVyc2UgdGhlIHNjb3BlcyIgbG9vcAogICAgICAgICAgICBpZiAoKHdhdGNoZXJzID0gY3VycmVudC4kJHdhdGNoZXJzKSkgewogICAgICAgICAgICAgIC8vIHByb2Nlc3Mgb3VyIHdhdGNoZXMKICAgICAgICAgICAgICBsZW5ndGggPSB3YXRjaGVycy5sZW5ndGg7CiAgICAgICAgICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICB3YXRjaCA9IHdhdGNoZXJzW2xlbmd0aF07CiAgICAgICAgICAgICAgICAgIC8vIE1vc3QgY29tbW9uIHdhdGNoZXMgYXJlIG9uIHByaW1pdGl2ZXMsIGluIHdoaWNoIGNhc2Ugd2UgY2FuIHNob3J0CiAgICAgICAgICAgICAgICAgIC8vIGNpcmN1aXQgaXQgd2l0aCA9PT0gb3BlcmF0b3IsIG9ubHkgd2hlbiA9PT0gZmFpbHMgZG8gd2UgdXNlIC5lcXVhbHMKICAgICAgICAgICAgICAgICAgaWYgKHdhdGNoKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSA9IHdhdGNoLmdldChjdXJyZW50KSkgIT09IChsYXN0ID0gd2F0Y2gubGFzdCkgJiYKICAgICAgICAgICAgICAgICAgICAgICAgISh3YXRjaC5lcQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBlcXVhbHModmFsdWUsIGxhc3QpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHR5cGVvZiBsYXN0ID09PSAnbnVtYmVyJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgaXNOYU4odmFsdWUpICYmIGlzTmFOKGxhc3QpKSkpIHsKICAgICAgICAgICAgICAgICAgICAgIGRpcnR5ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgIGxhc3REaXJ0eVdhdGNoID0gd2F0Y2g7CiAgICAgICAgICAgICAgICAgICAgICB3YXRjaC5sYXN0ID0gd2F0Y2guZXEgPyBjb3B5KHZhbHVlLCBudWxsKSA6IHZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgd2F0Y2guZm4odmFsdWUsICgobGFzdCA9PT0gaW5pdFdhdGNoVmFsKSA/IHZhbHVlIDogbGFzdCksIGN1cnJlbnQpOwogICAgICAgICAgICAgICAgICAgICAgaWYgKHR0bCA8IDUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbG9nSWR4ID0gNCAtIHR0bDsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3YXRjaExvZ1tsb2dJZHhdKSB3YXRjaExvZ1tsb2dJZHhdID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ01zZyA9IChpc0Z1bmN0aW9uKHdhdGNoLmV4cCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdmbjogJyArICh3YXRjaC5leHAubmFtZSB8fCB3YXRjaC5leHAudG9TdHJpbmcoKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogd2F0Y2guZXhwOwogICAgICAgICAgICAgICAgICAgICAgICBsb2dNc2cgKz0gJzsgbmV3VmFsOiAnICsgdG9Kc29uKHZhbHVlKSArICc7IG9sZFZhbDogJyArIHRvSnNvbihsYXN0KTsKICAgICAgICAgICAgICAgICAgICAgICAgd2F0Y2hMb2dbbG9nSWR4XS5wdXNoKGxvZ01zZyk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3YXRjaCA9PT0gbGFzdERpcnR5V2F0Y2gpIHsKICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBtb3N0IHJlY2VudGx5IGRpcnR5IHdhdGNoZXIgaXMgbm93IGNsZWFuLCBzaG9ydCBjaXJjdWl0IHNpbmNlIHRoZSByZW1haW5pbmcgd2F0Y2hlcnMKICAgICAgICAgICAgICAgICAgICAgIC8vIGhhdmUgYWxyZWFkeSBiZWVuIHRlc3RlZC4KICAgICAgICAgICAgICAgICAgICAgIGRpcnR5ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICBicmVhayB0cmF2ZXJzZVNjb3Blc0xvb3A7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgIGNsZWFyUGhhc2UoKTsKICAgICAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBJbnNhbml0eSBXYXJuaW5nOiBzY29wZSBkZXB0aC1maXJzdCB0cmF2ZXJzYWwKICAgICAgICAgICAgLy8geWVzLCB0aGlzIGNvZGUgaXMgYSBiaXQgY3JhenksIGJ1dCBpdCB3b3JrcyBhbmQgd2UgaGF2ZSB0ZXN0cyB0byBwcm92ZSBpdCEKICAgICAgICAgICAgLy8gdGhpcyBwaWVjZSBzaG91bGQgYmUga2VwdCBpbiBzeW5jIHdpdGggdGhlIHRyYXZlcnNhbCBpbiAkYnJvYWRjYXN0CiAgICAgICAgICAgIGlmICghKG5leHQgPSAoY3VycmVudC4kJGNoaWxkSGVhZCB8fAogICAgICAgICAgICAgICAgKGN1cnJlbnQgIT09IHRhcmdldCAmJiBjdXJyZW50LiQkbmV4dFNpYmxpbmcpKSkpIHsKICAgICAgICAgICAgICB3aGlsZShjdXJyZW50ICE9PSB0YXJnZXQgJiYgIShuZXh0ID0gY3VycmVudC4kJG5leHRTaWJsaW5nKSkgewogICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuJHBhcmVudDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gd2hpbGUgKChjdXJyZW50ID0gbmV4dCkpOwoKICAgICAgICAgIC8vIGBicmVhayB0cmF2ZXJzZVNjb3Blc0xvb3A7YCB0YWtlcyB1cyB0byBoZXJlCgogICAgICAgICAgaWYoKGRpcnR5IHx8IGFzeW5jUXVldWUubGVuZ3RoKSAmJiAhKHR0bC0tKSkgewogICAgICAgICAgICBjbGVhclBoYXNlKCk7CiAgICAgICAgICAgIHRocm93ICRyb290U2NvcGVNaW5FcnIoJ2luZmRpZycsCiAgICAgICAgICAgICAgICAnezB9ICRkaWdlc3QoKSBpdGVyYXRpb25zIHJlYWNoZWQuIEFib3J0aW5nIVxuJyArCiAgICAgICAgICAgICAgICAnV2F0Y2hlcnMgZmlyZWQgaW4gdGhlIGxhc3QgNSBpdGVyYXRpb25zOiB7MX0nLAogICAgICAgICAgICAgICAgVFRMLCB0b0pzb24od2F0Y2hMb2cpKTsKICAgICAgICAgIH0KCiAgICAgICAgfSB3aGlsZSAoZGlydHkgfHwgYXN5bmNRdWV1ZS5sZW5ndGgpOwoKICAgICAgICBjbGVhclBoYXNlKCk7CgogICAgICAgIHdoaWxlKHBvc3REaWdlc3RRdWV1ZS5sZW5ndGgpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHBvc3REaWdlc3RRdWV1ZS5zaGlmdCgpKCk7CiAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKCgogICAgICAvKioKICAgICAgICogQG5nZG9jIGV2ZW50CiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGRlc3Ryb3kKICAgICAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gc2NvcGUgYmVpbmcgZGVzdHJveWVkCiAgICAgICAqCiAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgKiBCcm9hZGNhc3RlZCB3aGVuIGEgc2NvcGUgYW5kIGl0cyBjaGlsZHJlbiBhcmUgYmVpbmcgZGVzdHJveWVkLgogICAgICAgKgogICAgICAgKiBOb3RlIHRoYXQsIGluIEFuZ3VsYXJKUywgdGhlcmUgaXMgYWxzbyBhIGAkZGVzdHJveWAgalF1ZXJ5IGV2ZW50LCB3aGljaCBjYW4gYmUgdXNlZCB0bwogICAgICAgKiBjbGVhbiB1cCBET00gYmluZGluZ3MgYmVmb3JlIGFuIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00uCiAgICAgICAqLwoKICAgICAgLyoqCiAgICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZGVzdHJveQogICAgICAgKiBAa2luZCBmdW5jdGlvbgogICAgICAgKgogICAgICAgKiBAZGVzY3JpcHRpb24KICAgICAgICogUmVtb3ZlcyB0aGUgY3VycmVudCBzY29wZSAoYW5kIGFsbCBvZiBpdHMgY2hpbGRyZW4pIGZyb20gdGhlIHBhcmVudCBzY29wZS4gUmVtb3ZhbCBpbXBsaWVzCiAgICAgICAqIHRoYXQgY2FsbHMgdG8ge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0KCl9IHdpbGwgbm8gbG9uZ2VyCiAgICAgICAqIHByb3BhZ2F0ZSB0byB0aGUgY3VycmVudCBzY29wZSBhbmQgaXRzIGNoaWxkcmVuLiBSZW1vdmFsIGFsc28gaW1wbGllcyB0aGF0IHRoZSBjdXJyZW50CiAgICAgICAqIHNjb3BlIGlzIGVsaWdpYmxlIGZvciBnYXJiYWdlIGNvbGxlY3Rpb24uCiAgICAgICAqCiAgICAgICAqIFRoZSBgJGRlc3Ryb3koKWAgaXMgdXN1YWxseSB1c2VkIGJ5IGRpcmVjdGl2ZXMgc3VjaCBhcwogICAgICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fSBmb3IgbWFuYWdpbmcgdGhlCiAgICAgICAqIHVucm9sbGluZyBvZiB0aGUgbG9vcC4KICAgICAgICoKICAgICAgICogSnVzdCBiZWZvcmUgYSBzY29wZSBpcyBkZXN0cm95ZWQsIGEgYCRkZXN0cm95YCBldmVudCBpcyBicm9hZGNhc3RlZCBvbiB0aGlzIHNjb3BlLgogICAgICAgKiBBcHBsaWNhdGlvbiBjb2RlIGNhbiByZWdpc3RlciBhIGAkZGVzdHJveWAgZXZlbnQgaGFuZGxlciB0aGF0IHdpbGwgZ2l2ZSBpdCBhIGNoYW5jZSB0bwogICAgICAgKiBwZXJmb3JtIGFueSBuZWNlc3NhcnkgY2xlYW51cC4KICAgICAgICoKICAgICAgICogTm90ZSB0aGF0LCBpbiBBbmd1bGFySlMsIHRoZXJlIGlzIGFsc28gYSBgJGRlc3Ryb3lgIGpRdWVyeSBldmVudCwgd2hpY2ggY2FuIGJlIHVzZWQgdG8KICAgICAgICogY2xlYW4gdXAgRE9NIGJpbmRpbmdzIGJlZm9yZSBhbiBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NLgogICAgICAgKi8KICAgICAgJGRlc3Ryb3k6IGZ1bmN0aW9uKCkgewogICAgICAgIC8vIHdlIGNhbid0IGRlc3Ryb3kgdGhlIHJvb3Qgc2NvcGUgb3IgYSBzY29wZSB0aGF0IGhhcyBiZWVuIGFscmVhZHkgZGVzdHJveWVkCiAgICAgICAgaWYgKHRoaXMuJCRkZXN0cm95ZWQpIHJldHVybjsKICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy4kcGFyZW50OwoKICAgICAgICB0aGlzLiRicm9hZGNhc3QoJyRkZXN0cm95Jyk7CiAgICAgICAgdGhpcy4kJGRlc3Ryb3llZCA9IHRydWU7CiAgICAgICAgaWYgKHRoaXMgPT09ICRyb290U2NvcGUpIHJldHVybjsKCiAgICAgICAgZm9yRWFjaCh0aGlzLiQkbGlzdGVuZXJDb3VudCwgYmluZChudWxsLCBkZWNyZW1lbnRMaXN0ZW5lckNvdW50LCB0aGlzKSk7CgogICAgICAgIC8vIHNldmVyIGFsbCB0aGUgcmVmZXJlbmNlcyB0byBwYXJlbnQgc2NvcGVzIChhZnRlciB0aGlzIGNsZWFudXAsIHRoZSBjdXJyZW50IHNjb3BlIHNob3VsZAogICAgICAgIC8vIG5vdCBiZSByZXRhaW5lZCBieSBhbnkgb2Ygb3VyIHJlZmVyZW5jZXMgYW5kIHNob3VsZCBiZSBlbGlnaWJsZSBmb3IgZ2FyYmFnZSBjb2xsZWN0aW9uKQogICAgICAgIGlmIChwYXJlbnQuJCRjaGlsZEhlYWQgPT0gdGhpcykgcGFyZW50LiQkY2hpbGRIZWFkID0gdGhpcy4kJG5leHRTaWJsaW5nOwogICAgICAgIGlmIChwYXJlbnQuJCRjaGlsZFRhaWwgPT0gdGhpcykgcGFyZW50LiQkY2hpbGRUYWlsID0gdGhpcy4kJHByZXZTaWJsaW5nOwogICAgICAgIGlmICh0aGlzLiQkcHJldlNpYmxpbmcpIHRoaXMuJCRwcmV2U2libGluZy4kJG5leHRTaWJsaW5nID0gdGhpcy4kJG5leHRTaWJsaW5nOwogICAgICAgIGlmICh0aGlzLiQkbmV4dFNpYmxpbmcpIHRoaXMuJCRuZXh0U2libGluZy4kJHByZXZTaWJsaW5nID0gdGhpcy4kJHByZXZTaWJsaW5nOwoKCiAgICAgICAgLy8gQWxsIG9mIHRoZSBjb2RlIGJlbG93IGlzIGJvZ3VzIGNvZGUgdGhhdCB3b3JrcyBhcm91bmQgVjgncyBtZW1vcnkgbGVhayB2aWEgb3B0aW1pemVkIGNvZGUKICAgICAgICAvLyBhbmQgaW5saW5lIGNhY2hlcy4KICAgICAgICAvLwogICAgICAgIC8vIHNlZToKICAgICAgICAvLyAtIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMDczI2MyNgogICAgICAgIC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvNjc5NCNpc3N1ZWNvbW1lbnQtMzg2NDg5MDkKICAgICAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzEzMTMjaXNzdWVjb21tZW50LTEwMzc4NDUxCgogICAgICAgIHRoaXMuJHBhcmVudCA9IHRoaXMuJCRuZXh0U2libGluZyA9IHRoaXMuJCRwcmV2U2libGluZyA9IHRoaXMuJCRjaGlsZEhlYWQgPQogICAgICAgICAgICB0aGlzLiQkY2hpbGRUYWlsID0gdGhpcy4kcm9vdCA9IG51bGw7CgogICAgICAgIC8vIGRvbid0IHJlc2V0IHRoZXNlIHRvIG51bGwgaW4gY2FzZSBzb21lIGFzeW5jIHRhc2sgdHJpZXMgdG8gcmVnaXN0ZXIgYSBsaXN0ZW5lci93YXRjaC90YXNrCiAgICAgICAgdGhpcy4kJGxpc3RlbmVycyA9IHt9OwogICAgICAgIHRoaXMuJCR3YXRjaGVycyA9IHRoaXMuJCRhc3luY1F1ZXVlID0gdGhpcy4kJHBvc3REaWdlc3RRdWV1ZSA9IFtdOwoKICAgICAgICAvLyBwcmV2ZW50IE5QRXMgc2luY2UgdGhlc2UgbWV0aG9kcyBoYXZlIHJlZmVyZW5jZXMgdG8gcHJvcGVydGllcyB3ZSBudWxsZWQgb3V0CiAgICAgICAgdGhpcy4kZGVzdHJveSA9IHRoaXMuJGRpZ2VzdCA9IHRoaXMuJGFwcGx5ID0gbm9vcDsKICAgICAgICB0aGlzLiRvbiA9IHRoaXMuJHdhdGNoID0gZnVuY3Rpb24oKSB7IHJldHVybiBub29wOyB9OwogICAgICB9LAoKICAgICAgLyoqCiAgICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZXZhbAogICAgICAgKiBAa2luZCBmdW5jdGlvbgogICAgICAgKgogICAgICAgKiBAZGVzY3JpcHRpb24KICAgICAgICogRXhlY3V0ZXMgdGhlIGBleHByZXNzaW9uYCBvbiB0aGUgY3VycmVudCBzY29wZSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LiBBbnkgZXhjZXB0aW9ucyBpbgogICAgICAgKiB0aGUgZXhwcmVzc2lvbiBhcmUgcHJvcGFnYXRlZCAodW5jYXVnaHQpLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGV2YWx1YXRpbmcgQW5ndWxhcgogICAgICAgKiBleHByZXNzaW9ucy4KICAgICAgICoKICAgICAgICogIyBFeGFtcGxlCiAgICAgICAqIGBgYGpzCiAgICAgICAgICAgdmFyIHNjb3BlID0gbmcuJHJvb3RTY29wZS5TY29wZSgpOwogICAgICAgICAgIHNjb3BlLmEgPSAxOwogICAgICAgICAgIHNjb3BlLmIgPSAyOwoKICAgICAgICAgICBleHBlY3Qoc2NvcGUuJGV2YWwoJ2ErYicpKS50b0VxdWFsKDMpOwogICAgICAgICAgIGV4cGVjdChzY29wZS4kZXZhbChmdW5jdGlvbihzY29wZSl7IHJldHVybiBzY29wZS5hICsgc2NvcGUuYjsgfSkpLnRvRXF1YWwoMyk7CiAgICAgICAqIGBgYAogICAgICAgKgogICAgICAgKiBAcGFyYW0geyhzdHJpbmd8ZnVuY3Rpb24oKSk9fSBleHByZXNzaW9uIEFuIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZC4KICAgICAgICoKICAgICAgICogICAgLSBgc3RyaW5nYDogZXhlY3V0ZSB1c2luZyB0aGUgcnVsZXMgYXMgZGVmaW5lZCBpbiAge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0uCiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGN1cnJlbnQgYHNjb3BlYCBwYXJhbWV0ZXIuCiAgICAgICAqCiAgICAgICAqIEBwYXJhbSB7KG9iamVjdCk9fSBsb2NhbHMgTG9jYWwgdmFyaWFibGVzIG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpbiBzY29wZS4KICAgICAgICogQHJldHVybnMgeyp9IFRoZSByZXN1bHQgb2YgZXZhbHVhdGluZyB0aGUgZXhwcmVzc2lvbi4KICAgICAgICovCiAgICAgICRldmFsOiBmdW5jdGlvbihleHByLCBsb2NhbHMpIHsKICAgICAgICByZXR1cm4gJHBhcnNlKGV4cHIpKHRoaXMsIGxvY2Fscyk7CiAgICAgIH0sCgogICAgICAvKioKICAgICAgICogQG5nZG9jIG1ldGhvZAogICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRldmFsQXN5bmMKICAgICAgICogQGtpbmQgZnVuY3Rpb24KICAgICAgICoKICAgICAgICogQGRlc2NyaXB0aW9uCiAgICAgICAqIEV4ZWN1dGVzIHRoZSBleHByZXNzaW9uIG9uIHRoZSBjdXJyZW50IHNjb3BlIGF0IGEgbGF0ZXIgcG9pbnQgaW4gdGltZS4KICAgICAgICoKICAgICAgICogVGhlIGAkZXZhbEFzeW5jYCBtYWtlcyBubyBndWFyYW50ZWVzIGFzIHRvIHdoZW4gdGhlIGBleHByZXNzaW9uYCB3aWxsIGJlIGV4ZWN1dGVkLCBvbmx5CiAgICAgICAqIHRoYXQ6CiAgICAgICAqCiAgICAgICAqICAgLSBpdCB3aWxsIGV4ZWN1dGUgYWZ0ZXIgdGhlIGZ1bmN0aW9uIHRoYXQgc2NoZWR1bGVkIHRoZSBldmFsdWF0aW9uIChwcmVmZXJhYmx5IGJlZm9yZSBET00KICAgICAgICogICAgIHJlbmRlcmluZykuCiAgICAgICAqICAgLSBhdCBsZWFzdCBvbmUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0IGN5Y2xlfSB3aWxsIGJlIHBlcmZvcm1lZCBhZnRlcgogICAgICAgKiAgICAgYGV4cHJlc3Npb25gIGV4ZWN1dGlvbi4KICAgICAgICoKICAgICAgICogQW55IGV4Y2VwdGlvbnMgZnJvbSB0aGUgZXhlY3V0aW9uIG9mIHRoZSBleHByZXNzaW9uIGFyZSBmb3J3YXJkZWQgdG8gdGhlCiAgICAgICAqIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlciAkZXhjZXB0aW9uSGFuZGxlcn0gc2VydmljZS4KICAgICAgICoKICAgICAgICogX19Ob3RlOl9fIGlmIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIG91dHNpZGUgb2YgYSBgJGRpZ2VzdGAgY3ljbGUsIGEgbmV3IGAkZGlnZXN0YCBjeWNsZQogICAgICAgKiB3aWxsIGJlIHNjaGVkdWxlZC4gSG93ZXZlciwgaXQgaXMgZW5jb3VyYWdlZCB0byBhbHdheXMgY2FsbCBjb2RlIHRoYXQgY2hhbmdlcyB0aGUgbW9kZWwKICAgICAgICogZnJvbSB3aXRoaW4gYW4gYCRhcHBseWAgY2FsbC4gVGhhdCBpbmNsdWRlcyBjb2RlIGV2YWx1YXRlZCB2aWEgYCRldmFsQXN5bmNgLgogICAgICAgKgogICAgICAgKiBAcGFyYW0geyhzdHJpbmd8ZnVuY3Rpb24oKSk9fSBleHByZXNzaW9uIEFuIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZC4KICAgICAgICoKICAgICAgICogICAgLSBgc3RyaW5nYDogZXhlY3V0ZSB1c2luZyB0aGUgcnVsZXMgYXMgZGVmaW5lZCBpbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS4KICAgICAgICogICAgLSBgZnVuY3Rpb24oc2NvcGUpYDogZXhlY3V0ZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgY3VycmVudCBgc2NvcGVgIHBhcmFtZXRlci4KICAgICAgICoKICAgICAgICovCiAgICAgICRldmFsQXN5bmM6IGZ1bmN0aW9uKGV4cHIpIHsKICAgICAgICAvLyBpZiB3ZSBhcmUgb3V0c2lkZSBvZiBhbiAkZGlnZXN0IGxvb3AgYW5kIHRoaXMgaXMgdGhlIGZpcnN0IHRpbWUgd2UgYXJlIHNjaGVkdWxpbmcgYXN5bmMKICAgICAgICAvLyB0YXNrIGFsc28gc2NoZWR1bGUgYXN5bmMgYXV0by1mbHVzaAogICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlICYmICEkcm9vdFNjb3BlLiQkYXN5bmNRdWV1ZS5sZW5ndGgpIHsKICAgICAgICAgICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAoJHJvb3RTY29wZS4kJGFzeW5jUXVldWUubGVuZ3RoKSB7CiAgICAgICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgdGhpcy4kJGFzeW5jUXVldWUucHVzaCh7c2NvcGU6IHRoaXMsIGV4cHJlc3Npb246IGV4cHJ9KTsKICAgICAgfSwKCiAgICAgICQkcG9zdERpZ2VzdCA6IGZ1bmN0aW9uKGZuKSB7CiAgICAgICAgdGhpcy4kJHBvc3REaWdlc3RRdWV1ZS5wdXNoKGZuKTsKICAgICAgfSwKCiAgICAgIC8qKgogICAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGFwcGx5CiAgICAgICAqIEBraW5kIGZ1bmN0aW9uCiAgICAgICAqCiAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgKiBgJGFwcGx5KClgIGlzIHVzZWQgdG8gZXhlY3V0ZSBhbiBleHByZXNzaW9uIGluIGFuZ3VsYXIgZnJvbSBvdXRzaWRlIG9mIHRoZSBhbmd1bGFyCiAgICAgICAqIGZyYW1ld29yay4gKEZvciBleGFtcGxlIGZyb20gYnJvd3NlciBET00gZXZlbnRzLCBzZXRUaW1lb3V0LCBYSFIgb3IgdGhpcmQgcGFydHkgbGlicmFyaWVzKS4KICAgICAgICogQmVjYXVzZSB3ZSBhcmUgY2FsbGluZyBpbnRvIHRoZSBhbmd1bGFyIGZyYW1ld29yayB3ZSBuZWVkIHRvIHBlcmZvcm0gcHJvcGVyIHNjb3BlIGxpZmUKICAgICAgICogY3ljbGUgb2Yge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyIGV4Y2VwdGlvbiBoYW5kbGluZ30sCiAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgZXhlY3V0aW5nIHdhdGNoZXN9LgogICAgICAgKgogICAgICAgKiAjIyBMaWZlIGN5Y2xlCiAgICAgICAqCiAgICAgICAqICMgUHNldWRvLUNvZGUgb2YgYCRhcHBseSgpYAogICAgICAgKiBgYGBqcwogICAgICAgICAgIGZ1bmN0aW9uICRhcHBseShleHByKSB7CiAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICByZXR1cm4gJGV2YWwoZXhwcik7CiAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpOwogICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgJHJvb3QuJGRpZ2VzdCgpOwogICAgICAgICAgICAgfQogICAgICAgICAgIH0KICAgICAgICogYGBgCiAgICAgICAqCiAgICAgICAqCiAgICAgICAqIFNjb3BlJ3MgYCRhcHBseSgpYCBtZXRob2QgdHJhbnNpdGlvbnMgdGhyb3VnaCB0aGUgZm9sbG93aW5nIHN0YWdlczoKICAgICAgICoKICAgICAgICogMS4gVGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIGV4ZWN1dGVkIHVzaW5nIHRoZQogICAgICAgKiAgICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZXZhbCAkZXZhbCgpfSBtZXRob2QuCiAgICAgICAqIDIuIEFueSBleGNlcHRpb25zIGZyb20gdGhlIGV4ZWN1dGlvbiBvZiB0aGUgZXhwcmVzc2lvbiBhcmUgZm9yd2FyZGVkIHRvIHRoZQogICAgICAgKiAgICB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuCiAgICAgICAqIDMuIFRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggd2F0Y2h9IGxpc3RlbmVycyBhcmUgZmlyZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlCiAgICAgICAqICAgIGV4cHJlc3Npb24gd2FzIGV4ZWN1dGVkIHVzaW5nIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3QoKX0gbWV0aG9kLgogICAgICAgKgogICAgICAgKgogICAgICAgKiBAcGFyYW0geyhzdHJpbmd8ZnVuY3Rpb24oKSk9fSBleHAgQW4gYW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkLgogICAgICAgKgogICAgICAgKiAgICAtIGBzdHJpbmdgOiBleGVjdXRlIHVzaW5nIHRoZSBydWxlcyBhcyBkZWZpbmVkIGluIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259LgogICAgICAgKiAgICAtIGBmdW5jdGlvbihzY29wZSlgOiBleGVjdXRlIHRoZSBmdW5jdGlvbiB3aXRoIGN1cnJlbnQgYHNjb3BlYCBwYXJhbWV0ZXIuCiAgICAgICAqCiAgICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0IG9mIGV2YWx1YXRpbmcgdGhlIGV4cHJlc3Npb24uCiAgICAgICAqLwogICAgICAkYXBwbHk6IGZ1bmN0aW9uKGV4cHIpIHsKICAgICAgICB0cnkgewogICAgICAgICAgYmVnaW5QaGFzZSgnJGFwcGx5Jyk7CiAgICAgICAgICByZXR1cm4gdGhpcy4kZXZhbChleHByKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgY2xlYXJQaGFzZSgpOwogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7CiAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpOwogICAgICAgICAgICB0aHJvdyBlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKCiAgICAgIC8qKgogICAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJG9uCiAgICAgICAqIEBraW5kIGZ1bmN0aW9uCiAgICAgICAqCiAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgKiBMaXN0ZW5zIG9uIGV2ZW50cyBvZiBhIGdpdmVuIHR5cGUuIFNlZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZW1pdCAkZW1pdH0gZm9yCiAgICAgICAqIGRpc2N1c3Npb24gb2YgZXZlbnQgbGlmZSBjeWNsZS4KICAgICAgICoKICAgICAgICogVGhlIGV2ZW50IGxpc3RlbmVyIGZ1bmN0aW9uIGZvcm1hdCBpczogYGZ1bmN0aW9uKGV2ZW50LCBhcmdzLi4uKWAuIFRoZSBgZXZlbnRgIG9iamVjdAogICAgICAgKiBwYXNzZWQgaW50byB0aGUgbGlzdGVuZXIgaGFzIHRoZSBmb2xsb3dpbmcgYXR0cmlidXRlczoKICAgICAgICoKICAgICAgICogICAtIGB0YXJnZXRTY29wZWAgLSBge1Njb3BlfWA6IHRoZSBzY29wZSBvbiB3aGljaCB0aGUgZXZlbnQgd2FzIGAkZW1pdGAtZWQgb3IKICAgICAgICogICAgIGAkYnJvYWRjYXN0YC1lZC4KICAgICAgICogICAtIGBjdXJyZW50U2NvcGVgIC0gYHtTY29wZX1gOiB0aGUgY3VycmVudCBzY29wZSB3aGljaCBpcyBoYW5kbGluZyB0aGUgZXZlbnQuCiAgICAgICAqICAgLSBgbmFtZWAgLSBge3N0cmluZ31gOiBuYW1lIG9mIHRoZSBldmVudC4KICAgICAgICogICAtIGBzdG9wUHJvcGFnYXRpb25gIC0gYHtmdW5jdGlvbj19YDogY2FsbGluZyBgc3RvcFByb3BhZ2F0aW9uYCBmdW5jdGlvbiB3aWxsIGNhbmNlbAogICAgICAgKiAgICAgZnVydGhlciBldmVudCBwcm9wYWdhdGlvbiAoYXZhaWxhYmxlIG9ubHkgZm9yIGV2ZW50cyB0aGF0IHdlcmUgYCRlbWl0YC1lZCkuCiAgICAgICAqICAgLSBgcHJldmVudERlZmF1bHRgIC0gYHtmdW5jdGlvbn1gOiBjYWxsaW5nIGBwcmV2ZW50RGVmYXVsdGAgc2V0cyBgZGVmYXVsdFByZXZlbnRlZGAgZmxhZwogICAgICAgKiAgICAgdG8gdHJ1ZS4KICAgICAgICogICAtIGBkZWZhdWx0UHJldmVudGVkYCAtIGB7Ym9vbGVhbn1gOiB0cnVlIGlmIGBwcmV2ZW50RGVmYXVsdGAgd2FzIGNhbGxlZC4KICAgICAgICoKICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgRXZlbnQgbmFtZSB0byBsaXN0ZW4gb24uCiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXZlbnQsIC4uLmFyZ3MpfSBsaXN0ZW5lciBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhlIGV2ZW50IGlzIGVtaXR0ZWQuCiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBSZXR1cm5zIGEgZGVyZWdpc3RyYXRpb24gZnVuY3Rpb24gZm9yIHRoaXMgbGlzdGVuZXIuCiAgICAgICAqLwogICAgICAkb246IGZ1bmN0aW9uKG5hbWUsIGxpc3RlbmVyKSB7CiAgICAgICAgdmFyIG5hbWVkTGlzdGVuZXJzID0gdGhpcy4kJGxpc3RlbmVyc1tuYW1lXTsKICAgICAgICBpZiAoIW5hbWVkTGlzdGVuZXJzKSB7CiAgICAgICAgICB0aGlzLiQkbGlzdGVuZXJzW25hbWVdID0gbmFtZWRMaXN0ZW5lcnMgPSBbXTsKICAgICAgICB9CiAgICAgICAgbmFtZWRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7CgogICAgICAgIHZhciBjdXJyZW50ID0gdGhpczsKICAgICAgICBkbyB7CiAgICAgICAgICBpZiAoIWN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdKSB7CiAgICAgICAgICAgIGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdID0gMDsKICAgICAgICAgIH0KICAgICAgICAgIGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdKys7CiAgICAgICAgfSB3aGlsZSAoKGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQpKTsKCiAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsKICAgICAgICAgIG5hbWVkTGlzdGVuZXJzW2luZGV4T2YobmFtZWRMaXN0ZW5lcnMsIGxpc3RlbmVyKV0gPSBudWxsOwogICAgICAgICAgZGVjcmVtZW50TGlzdGVuZXJDb3VudChzZWxmLCAxLCBuYW1lKTsKICAgICAgICB9OwogICAgICB9LAoKCiAgICAgIC8qKgogICAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGVtaXQKICAgICAgICogQGtpbmQgZnVuY3Rpb24KICAgICAgICoKICAgICAgICogQGRlc2NyaXB0aW9uCiAgICAgICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgYG5hbWVgIHVwd2FyZHMgdGhyb3VnaCB0aGUgc2NvcGUgaGllcmFyY2h5IG5vdGlmeWluZyB0aGUKICAgICAgICogcmVnaXN0ZXJlZCB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb259IGxpc3RlbmVycy4KICAgICAgICoKICAgICAgICogVGhlIGV2ZW50IGxpZmUgY3ljbGUgc3RhcnRzIGF0IHRoZSBzY29wZSBvbiB3aGljaCBgJGVtaXRgIHdhcyBjYWxsZWQuIEFsbAogICAgICAgKiB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb24gbGlzdGVuZXJzfSBsaXN0ZW5pbmcgZm9yIGBuYW1lYCBldmVudCBvbiB0aGlzIHNjb3BlIGdldAogICAgICAgKiBub3RpZmllZC4gQWZ0ZXJ3YXJkcywgdGhlIGV2ZW50IHRyYXZlcnNlcyB1cHdhcmRzIHRvd2FyZCB0aGUgcm9vdCBzY29wZSBhbmQgY2FsbHMgYWxsCiAgICAgICAqIHJlZ2lzdGVyZWQgbGlzdGVuZXJzIGFsb25nIHRoZSB3YXkuIFRoZSBldmVudCB3aWxsIHN0b3AgcHJvcGFnYXRpbmcgaWYgb25lIG9mIHRoZSBsaXN0ZW5lcnMKICAgICAgICogY2FuY2VscyBpdC4KICAgICAgICoKICAgICAgICogQW55IGV4Y2VwdGlvbiBlbWl0dGVkIGZyb20gdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbiBsaXN0ZW5lcnN9IHdpbGwgYmUgcGFzc2VkCiAgICAgICAqIG9udG8gdGhlIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlciAkZXhjZXB0aW9uSGFuZGxlcn0gc2VydmljZS4KICAgICAgICoKICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgRXZlbnQgbmFtZSB0byBlbWl0LgogICAgICAgKiBAcGFyYW0gey4uLip9IGFyZ3MgT3B0aW9uYWwgb25lIG9yIG1vcmUgYXJndW1lbnRzIHdoaWNoIHdpbGwgYmUgcGFzc2VkIG9udG8gdGhlIGV2ZW50IGxpc3RlbmVycy4KICAgICAgICogQHJldHVybiB7T2JqZWN0fSBFdmVudCBvYmplY3QgKHNlZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb259KS4KICAgICAgICovCiAgICAgICRlbWl0OiBmdW5jdGlvbihuYW1lLCBhcmdzKSB7CiAgICAgICAgdmFyIGVtcHR5ID0gW10sCiAgICAgICAgICAgIG5hbWVkTGlzdGVuZXJzLAogICAgICAgICAgICBzY29wZSA9IHRoaXMsCiAgICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbiA9IGZhbHNlLAogICAgICAgICAgICBldmVudCA9IHsKICAgICAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgICAgIHRhcmdldFNjb3BlOiBzY29wZSwKICAgICAgICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge3N0b3BQcm9wYWdhdGlvbiA9IHRydWU7fSwKICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBldmVudC5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTsKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGRlZmF1bHRQcmV2ZW50ZWQ6IGZhbHNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGxpc3RlbmVyQXJncyA9IGNvbmNhdChbZXZlbnRdLCBhcmd1bWVudHMsIDEpLAogICAgICAgICAgICBpLCBsZW5ndGg7CgogICAgICAgIGRvIHsKICAgICAgICAgIG5hbWVkTGlzdGVuZXJzID0gc2NvcGUuJCRsaXN0ZW5lcnNbbmFtZV0gfHwgZW1wdHk7CiAgICAgICAgICBldmVudC5jdXJyZW50U2NvcGUgPSBzY29wZTsKICAgICAgICAgIGZvciAoaT0wLCBsZW5ndGg9bmFtZWRMaXN0ZW5lcnMubGVuZ3RoOyBpPGxlbmd0aDsgaSsrKSB7CgogICAgICAgICAgICAvLyBpZiBsaXN0ZW5lcnMgd2VyZSBkZXJlZ2lzdGVyZWQsIGRlZnJhZ21lbnQgdGhlIGFycmF5CiAgICAgICAgICAgIGlmICghbmFtZWRMaXN0ZW5lcnNbaV0pIHsKICAgICAgICAgICAgICBuYW1lZExpc3RlbmVycy5zcGxpY2UoaSwgMSk7CiAgICAgICAgICAgICAgaS0tOwogICAgICAgICAgICAgIGxlbmd0aC0tOwogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgLy9hbGxvdyBhbGwgbGlzdGVuZXJzIGF0dGFjaGVkIHRvIHRoZSBjdXJyZW50IHNjb3BlIHRvIHJ1bgogICAgICAgICAgICAgIG5hbWVkTGlzdGVuZXJzW2ldLmFwcGx5KG51bGwsIGxpc3RlbmVyQXJncyk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgLy9pZiBhbnkgbGlzdGVuZXIgb24gdGhlIGN1cnJlbnQgc2NvcGUgc3RvcHMgcHJvcGFnYXRpb24sIHByZXZlbnQgYnViYmxpbmcKICAgICAgICAgIGlmIChzdG9wUHJvcGFnYXRpb24pIHJldHVybiBldmVudDsKICAgICAgICAgIC8vdHJhdmVyc2UgdXB3YXJkcwogICAgICAgICAgc2NvcGUgPSBzY29wZS4kcGFyZW50OwogICAgICAgIH0gd2hpbGUgKHNjb3BlKTsKCiAgICAgICAgcmV0dXJuIGV2ZW50OwogICAgICB9LAoKCiAgICAgIC8qKgogICAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGJyb2FkY2FzdAogICAgICAgKiBAa2luZCBmdW5jdGlvbgogICAgICAgKgogICAgICAgKiBAZGVzY3JpcHRpb24KICAgICAgICogRGlzcGF0Y2hlcyBhbiBldmVudCBgbmFtZWAgZG93bndhcmRzIHRvIGFsbCBjaGlsZCBzY29wZXMgKGFuZCB0aGVpciBjaGlsZHJlbikgbm90aWZ5aW5nIHRoZQogICAgICAgKiByZWdpc3RlcmVkIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn0gbGlzdGVuZXJzLgogICAgICAgKgogICAgICAgKiBUaGUgZXZlbnQgbGlmZSBjeWNsZSBzdGFydHMgYXQgdGhlIHNjb3BlIG9uIHdoaWNoIGAkYnJvYWRjYXN0YCB3YXMgY2FsbGVkLiBBbGwKICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9uIGxpc3RlbmVyc30gbGlzdGVuaW5nIGZvciBgbmFtZWAgZXZlbnQgb24gdGhpcyBzY29wZSBnZXQKICAgICAgICogbm90aWZpZWQuIEFmdGVyd2FyZHMsIHRoZSBldmVudCBwcm9wYWdhdGVzIHRvIGFsbCBkaXJlY3QgYW5kIGluZGlyZWN0IHNjb3BlcyBvZiB0aGUgY3VycmVudAogICAgICAgKiBzY29wZSBhbmQgY2FsbHMgYWxsIHJlZ2lzdGVyZWQgbGlzdGVuZXJzIGFsb25nIHRoZSB3YXkuIFRoZSBldmVudCBjYW5ub3QgYmUgY2FuY2VsZWQuCiAgICAgICAqCiAgICAgICAqIEFueSBleGNlcHRpb24gZW1pdHRlZCBmcm9tIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb24gbGlzdGVuZXJzfSB3aWxsIGJlIHBhc3NlZAogICAgICAgKiBvbnRvIHRoZSB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuCiAgICAgICAqCiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEV2ZW50IG5hbWUgdG8gYnJvYWRjYXN0LgogICAgICAgKiBAcGFyYW0gey4uLip9IGFyZ3MgT3B0aW9uYWwgb25lIG9yIG1vcmUgYXJndW1lbnRzIHdoaWNoIHdpbGwgYmUgcGFzc2VkIG9udG8gdGhlIGV2ZW50IGxpc3RlbmVycy4KICAgICAgICogQHJldHVybiB7T2JqZWN0fSBFdmVudCBvYmplY3QsIHNlZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb259CiAgICAgICAqLwogICAgICAkYnJvYWRjYXN0OiBmdW5jdGlvbihuYW1lLCBhcmdzKSB7CiAgICAgICAgdmFyIHRhcmdldCA9IHRoaXMsCiAgICAgICAgICAgIGN1cnJlbnQgPSB0YXJnZXQsCiAgICAgICAgICAgIG5leHQgPSB0YXJnZXQsCiAgICAgICAgICAgIGV2ZW50ID0gewogICAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgICAgdGFyZ2V0U2NvcGU6IHRhcmdldCwKICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBldmVudC5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTsKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGRlZmF1bHRQcmV2ZW50ZWQ6IGZhbHNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGxpc3RlbmVyQXJncyA9IGNvbmNhdChbZXZlbnRdLCBhcmd1bWVudHMsIDEpLAogICAgICAgICAgICBsaXN0ZW5lcnMsIGksIGxlbmd0aDsKCiAgICAgICAgLy9kb3duIHdoaWxlIHlvdSBjYW4sIHRoZW4gdXAgYW5kIG5leHQgc2libGluZyBvciB1cCBhbmQgbmV4dCBzaWJsaW5nIHVudGlsIGJhY2sgYXQgcm9vdAogICAgICAgIHdoaWxlICgoY3VycmVudCA9IG5leHQpKSB7CiAgICAgICAgICBldmVudC5jdXJyZW50U2NvcGUgPSBjdXJyZW50OwogICAgICAgICAgbGlzdGVuZXJzID0gY3VycmVudC4kJGxpc3RlbmVyc1tuYW1lXSB8fCBbXTsKICAgICAgICAgIGZvciAoaT0wLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpPGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIC8vIGlmIGxpc3RlbmVycyB3ZXJlIGRlcmVnaXN0ZXJlZCwgZGVmcmFnbWVudCB0aGUgYXJyYXkKICAgICAgICAgICAgaWYgKCFsaXN0ZW5lcnNbaV0pIHsKICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpOwogICAgICAgICAgICAgIGktLTsKICAgICAgICAgICAgICBsZW5ndGgtLTsKICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkobnVsbCwgbGlzdGVuZXJBcmdzKTsKICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICAvLyBJbnNhbml0eSBXYXJuaW5nOiBzY29wZSBkZXB0aC1maXJzdCB0cmF2ZXJzYWwKICAgICAgICAgIC8vIHllcywgdGhpcyBjb2RlIGlzIGEgYml0IGNyYXp5LCBidXQgaXQgd29ya3MgYW5kIHdlIGhhdmUgdGVzdHMgdG8gcHJvdmUgaXQhCiAgICAgICAgICAvLyB0aGlzIHBpZWNlIHNob3VsZCBiZSBrZXB0IGluIHN5bmMgd2l0aCB0aGUgdHJhdmVyc2FsIGluICRkaWdlc3QKICAgICAgICAgIC8vICh0aG91Z2ggaXQgZGlmZmVycyBkdWUgdG8gaGF2aW5nIHRoZSBleHRyYSBjaGVjayBmb3IgJCRsaXN0ZW5lckNvdW50KQogICAgICAgICAgaWYgKCEobmV4dCA9ICgoY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0gJiYgY3VycmVudC4kJGNoaWxkSGVhZCkgfHwKICAgICAgICAgICAgICAoY3VycmVudCAhPT0gdGFyZ2V0ICYmIGN1cnJlbnQuJCRuZXh0U2libGluZykpKSkgewogICAgICAgICAgICB3aGlsZShjdXJyZW50ICE9PSB0YXJnZXQgJiYgIShuZXh0ID0gY3VycmVudC4kJG5leHRTaWJsaW5nKSkgewogICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBldmVudDsKICAgICAgfQogICAgfTsKCiAgICB2YXIgJHJvb3RTY29wZSA9IG5ldyBTY29wZSgpOwoKICAgIHJldHVybiAkcm9vdFNjb3BlOwoKCiAgICBmdW5jdGlvbiBiZWdpblBoYXNlKHBoYXNlKSB7CiAgICAgIGlmICgkcm9vdFNjb3BlLiQkcGhhc2UpIHsKICAgICAgICB0aHJvdyAkcm9vdFNjb3BlTWluRXJyKCdpbnByb2cnLCAnezB9IGFscmVhZHkgaW4gcHJvZ3Jlc3MnLCAkcm9vdFNjb3BlLiQkcGhhc2UpOwogICAgICB9CgogICAgICAkcm9vdFNjb3BlLiQkcGhhc2UgPSBwaGFzZTsKICAgIH0KCiAgICBmdW5jdGlvbiBjbGVhclBoYXNlKCkgewogICAgICAkcm9vdFNjb3BlLiQkcGhhc2UgPSBudWxsOwogICAgfQoKICAgIGZ1bmN0aW9uIGNvbXBpbGVUb0ZuKGV4cCwgbmFtZSkgewogICAgICB2YXIgZm4gPSAkcGFyc2UoZXhwKTsKICAgICAgYXNzZXJ0QXJnRm4oZm4sIG5hbWUpOwogICAgICByZXR1cm4gZm47CiAgICB9CgogICAgZnVuY3Rpb24gZGVjcmVtZW50TGlzdGVuZXJDb3VudChjdXJyZW50LCBjb3VudCwgbmFtZSkgewogICAgICBkbyB7CiAgICAgICAgY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0gLT0gY291bnQ7CgogICAgICAgIGlmIChjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSA9PT0gMCkgewogICAgICAgICAgZGVsZXRlIGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdOwogICAgICAgIH0KICAgICAgfSB3aGlsZSAoKGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQpKTsKICAgIH0KCiAgICAvKioKICAgICAqIGZ1bmN0aW9uIHVzZWQgYXMgYW4gaW5pdGlhbCB2YWx1ZSBmb3Igd2F0Y2hlcnMuCiAgICAgKiBiZWNhdXNlIGl0J3MgdW5pcXVlIHdlIGNhbiBlYXNpbHkgdGVsbCBpdCBhcGFydCBmcm9tIG90aGVyIHZhbHVlcwogICAgICovCiAgICBmdW5jdGlvbiBpbml0V2F0Y2hWYWwoKSB7fQogIH1dOwp9CgovKioKICogQGRlc2NyaXB0aW9uCiAqIFByaXZhdGUgc2VydmljZSB0byBzYW5pdGl6ZSB1cmlzIGZvciBsaW5rcyBhbmQgaW1hZ2VzLiBVc2VkIGJ5ICRjb21waWxlIGFuZCAkc2FuaXRpemUuCiAqLwpmdW5jdGlvbiAkJFNhbml0aXplVXJpUHJvdmlkZXIoKSB7CiAgdmFyIGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gL15ccyooaHR0cHM/fGZ0cHxtYWlsdG98dGVsfGZpbGUpOi8sCiAgICBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSAvXlxzKihodHRwcz98ZnRwfGZpbGUpOnxkYXRhOmltYWdlXC8vOwoKICAvKioKICAgKiBAZGVzY3JpcHRpb24KICAgKiBSZXRyaWV2ZXMgb3Igb3ZlcnJpZGVzIHRoZSBkZWZhdWx0IHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGlzIHVzZWQgZm9yIHdoaXRlbGlzdGluZyBvZiBzYWZlCiAgICogdXJscyBkdXJpbmcgYVtocmVmXSBzYW5pdGl6YXRpb24uCiAgICoKICAgKiBUaGUgc2FuaXRpemF0aW9uIGlzIGEgc2VjdXJpdHkgbWVhc3VyZSBhaW1lZCBhdCBwcmV2ZW50IFhTUyBhdHRhY2tzIHZpYSBodG1sIGxpbmtzLgogICAqCiAgICogQW55IHVybCBhYm91dCB0byBiZSBhc3NpZ25lZCB0byBhW2hyZWZdIHZpYSBkYXRhLWJpbmRpbmcgaXMgZmlyc3Qgbm9ybWFsaXplZCBhbmQgdHVybmVkIGludG8KICAgKiBhbiBhYnNvbHV0ZSB1cmwuIEFmdGVyd2FyZHMsIHRoZSB1cmwgaXMgbWF0Y2hlZCBhZ2FpbnN0IHRoZSBgYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3RgCiAgICogcmVndWxhciBleHByZXNzaW9uLiBJZiBhIG1hdGNoIGlzIGZvdW5kLCB0aGUgb3JpZ2luYWwgdXJsIGlzIHdyaXR0ZW4gaW50byB0aGUgZG9tLiBPdGhlcndpc2UsCiAgICogdGhlIGFic29sdXRlIHVybCBpcyBwcmVmaXhlZCB3aXRoIGAndW5zYWZlOidgIHN0cmluZyBhbmQgb25seSB0aGVuIGlzIGl0IHdyaXR0ZW4gaW50byB0aGUgRE9NLgogICAqCiAgICogQHBhcmFtIHtSZWdFeHA9fSByZWdleHAgTmV3IHJlZ2V4cCB0byB3aGl0ZWxpc3QgdXJscyB3aXRoLgogICAqIEByZXR1cm5zIHtSZWdFeHB8bmcuJGNvbXBpbGVQcm92aWRlcn0gQ3VycmVudCBSZWdFeHAgaWYgY2FsbGVkIHdpdGhvdXQgdmFsdWUgb3Igc2VsZiBmb3IKICAgKiAgICBjaGFpbmluZyBvdGhlcndpc2UuCiAgICovCiAgdGhpcy5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCA9IGZ1bmN0aW9uKHJlZ2V4cCkgewogICAgaWYgKGlzRGVmaW5lZChyZWdleHApKSB7CiAgICAgIGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gcmVnZXhwOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIHJldHVybiBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdDsKICB9OwoKCiAgLyoqCiAgICogQGRlc2NyaXB0aW9uCiAgICogUmV0cmlldmVzIG9yIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIGZvciB3aGl0ZWxpc3Rpbmcgb2Ygc2FmZQogICAqIHVybHMgZHVyaW5nIGltZ1tzcmNdIHNhbml0aXphdGlvbi4KICAgKgogICAqIFRoZSBzYW5pdGl6YXRpb24gaXMgYSBzZWN1cml0eSBtZWFzdXJlIGFpbWVkIGF0IHByZXZlbnQgWFNTIGF0dGFja3MgdmlhIGh0bWwgbGlua3MuCiAgICoKICAgKiBBbnkgdXJsIGFib3V0IHRvIGJlIGFzc2lnbmVkIHRvIGltZ1tzcmNdIHZpYSBkYXRhLWJpbmRpbmcgaXMgZmlyc3Qgbm9ybWFsaXplZCBhbmQgdHVybmVkIGludG8KICAgKiBhbiBhYnNvbHV0ZSB1cmwuIEFmdGVyd2FyZHMsIHRoZSB1cmwgaXMgbWF0Y2hlZCBhZ2FpbnN0IHRoZSBgaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0YAogICAqIHJlZ3VsYXIgZXhwcmVzc2lvbi4gSWYgYSBtYXRjaCBpcyBmb3VuZCwgdGhlIG9yaWdpbmFsIHVybCBpcyB3cml0dGVuIGludG8gdGhlIGRvbS4gT3RoZXJ3aXNlLAogICAqIHRoZSBhYnNvbHV0ZSB1cmwgaXMgcHJlZml4ZWQgd2l0aCBgJ3Vuc2FmZTonYCBzdHJpbmcgYW5kIG9ubHkgdGhlbiBpcyBpdCB3cml0dGVuIGludG8gdGhlIERPTS4KICAgKgogICAqIEBwYXJhbSB7UmVnRXhwPX0gcmVnZXhwIE5ldyByZWdleHAgdG8gd2hpdGVsaXN0IHVybHMgd2l0aC4KICAgKiBAcmV0dXJucyB7UmVnRXhwfG5nLiRjb21waWxlUHJvdmlkZXJ9IEN1cnJlbnQgUmVnRXhwIGlmIGNhbGxlZCB3aXRob3V0IHZhbHVlIG9yIHNlbGYgZm9yCiAgICogICAgY2hhaW5pbmcgb3RoZXJ3aXNlLgogICAqLwogIHRoaXMuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gZnVuY3Rpb24ocmVnZXhwKSB7CiAgICBpZiAoaXNEZWZpbmVkKHJlZ2V4cCkpIHsKICAgICAgaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gcmVnZXhwOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIHJldHVybiBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3Q7CiAgfTsKCiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gc2FuaXRpemVVcmkodXJpLCBpc0ltYWdlKSB7CiAgICAgIHZhciByZWdleCA9IGlzSW1hZ2UgPyBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QgOiBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdDsKICAgICAgdmFyIG5vcm1hbGl6ZWRWYWw7CiAgICAgIC8vIE5PVEU6IHVybFJlc29sdmUoKSBkb2Vzbid0IHN1cHBvcnQgSUUgPCA4IHNvIHdlIGRvbid0IHNhbml0aXplIGZvciB0aGF0IGNhc2UuCiAgICAgIGlmICghbXNpZSB8fCBtc2llID49IDggKSB7CiAgICAgICAgbm9ybWFsaXplZFZhbCA9IHVybFJlc29sdmUodXJpKS5ocmVmOwogICAgICAgIGlmIChub3JtYWxpemVkVmFsICE9PSAnJyAmJiAhbm9ybWFsaXplZFZhbC5tYXRjaChyZWdleCkpIHsKICAgICAgICAgIHJldHVybiAndW5zYWZlOicrbm9ybWFsaXplZFZhbDsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHVyaTsKICAgIH07CiAgfTsKfQoKdmFyICRzY2VNaW5FcnIgPSBtaW5FcnIoJyRzY2UnKTsKCnZhciBTQ0VfQ09OVEVYVFMgPSB7CiAgSFRNTDogJ2h0bWwnLAogIENTUzogJ2NzcycsCiAgVVJMOiAndXJsJywKICAvLyBSRVNPVVJDRV9VUkwgaXMgYSBzdWJ0eXBlIG9mIFVSTCB1c2VkIGluIGNvbnRleHRzIHdoZXJlIGEgcHJpdmlsZWdlZCByZXNvdXJjZSBpcyBzb3VyY2VkIGZyb20gYQogIC8vIHVybC4gIChlLmcuIG5nLWluY2x1ZGUsIHNjcmlwdCBzcmMsIHRlbXBsYXRlVXJsKQogIFJFU09VUkNFX1VSTDogJ3Jlc291cmNlVXJsJywKICBKUzogJ2pzJwp9OwoKLy8gSGVscGVyIGZ1bmN0aW9ucyBmb2xsb3cuCgovLyBDb3BpZWQgZnJvbToKLy8gaHR0cDovL2RvY3MuY2xvc3VyZS1saWJyYXJ5Lmdvb2dsZWNvZGUuY29tL2dpdC9jbG9zdXJlX2dvb2dfc3RyaW5nX3N0cmluZy5qcy5zb3VyY2UuaHRtbCNsaW5lOTYyCi8vIFByZXJlcTogcyBpcyBhIHN0cmluZy4KZnVuY3Rpb24gZXNjYXBlRm9yUmVnZXhwKHMpIHsKICByZXR1cm4gcy5yZXBsYWNlKC8oWy0oKVxbXF17fSs/Ki4kXF58LDojPCFcXF0pL2csICdcXCQxJykuCiAgICAgICAgICAgcmVwbGFjZSgvXHgwOC9nLCAnXFx4MDgnKTsKfQoKCmZ1bmN0aW9uIGFkanVzdE1hdGNoZXIobWF0Y2hlcikgewogIGlmIChtYXRjaGVyID09PSAnc2VsZicpIHsKICAgIHJldHVybiBtYXRjaGVyOwogIH0gZWxzZSBpZiAoaXNTdHJpbmcobWF0Y2hlcikpIHsKICAgIC8vIFN0cmluZ3MgbWF0Y2ggZXhhY3RseSBleGNlcHQgZm9yIDIgd2lsZGNhcmRzIC0gJyonIGFuZCAnKionLgogICAgLy8gJyonIG1hdGNoZXMgYW55IGNoYXJhY3RlciBleGNlcHQgdGhvc2UgZnJvbSB0aGUgc2V0ICc6Ly4/JicuCiAgICAvLyAnKionIG1hdGNoZXMgYW55IGNoYXJhY3RlciAobGlrZSAuKiBpbiBhIFJlZ0V4cCkuCiAgICAvLyBNb3JlIHRoYW4gMiAqJ3MgcmFpc2VzIGFuIGVycm9yIGFzIGl0J3MgaWxsIGRlZmluZWQuCiAgICBpZiAobWF0Y2hlci5pbmRleE9mKCcqKionKSA+IC0xKSB7CiAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2l3Y2FyZCcsCiAgICAgICAgICAnSWxsZWdhbCBzZXF1ZW5jZSAqKiogaW4gc3RyaW5nIG1hdGNoZXIuICBTdHJpbmc6IHswfScsIG1hdGNoZXIpOwogICAgfQogICAgbWF0Y2hlciA9IGVzY2FwZUZvclJlZ2V4cChtYXRjaGVyKS4KICAgICAgICAgICAgICAgICAgcmVwbGFjZSgnXFwqXFwqJywgJy4qJykuCiAgICAgICAgICAgICAgICAgIHJlcGxhY2UoJ1xcKicsICdbXjovLj8mO10qJyk7CiAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXicgKyBtYXRjaGVyICsgJyQnKTsKICB9IGVsc2UgaWYgKGlzUmVnRXhwKG1hdGNoZXIpKSB7CiAgICAvLyBUaGUgb25seSBvdGhlciB0eXBlIG9mIG1hdGNoZXIgYWxsb3dlZCBpcyBhIFJlZ2V4cC4KICAgIC8vIE1hdGNoIGVudGlyZSBVUkwgLyBkaXNhbGxvdyBwYXJ0aWFsIG1hdGNoZXMuCiAgICAvLyBGbGFncyBhcmUgcmVzZXQgKGkuZS4gbm8gZ2xvYmFsLCBpZ25vcmVDYXNlIG9yIG11bHRpbGluZSkKICAgIHJldHVybiBuZXcgUmVnRXhwKCdeJyArIG1hdGNoZXIuc291cmNlICsgJyQnKTsKICB9IGVsc2UgewogICAgdGhyb3cgJHNjZU1pbkVycignaW1hdGNoZXInLAogICAgICAgICdNYXRjaGVycyBtYXkgb25seSBiZSAic2VsZiIsIHN0cmluZyBwYXR0ZXJucyBvciBSZWdFeHAgb2JqZWN0cycpOwogIH0KfQoKCmZ1bmN0aW9uIGFkanVzdE1hdGNoZXJzKG1hdGNoZXJzKSB7CiAgdmFyIGFkanVzdGVkTWF0Y2hlcnMgPSBbXTsKICBpZiAoaXNEZWZpbmVkKG1hdGNoZXJzKSkgewogICAgZm9yRWFjaChtYXRjaGVycywgZnVuY3Rpb24obWF0Y2hlcikgewogICAgICBhZGp1c3RlZE1hdGNoZXJzLnB1c2goYWRqdXN0TWF0Y2hlcihtYXRjaGVyKSk7CiAgICB9KTsKICB9CiAgcmV0dXJuIGFkanVzdGVkTWF0Y2hlcnM7Cn0KCgovKioKICogQG5nZG9jIHNlcnZpY2UKICogQG5hbWUgJHNjZURlbGVnYXRlCiAqIEBraW5kIGZ1bmN0aW9uCiAqCiAqIEBkZXNjcmlwdGlvbgogKgogKiBgJHNjZURlbGVnYXRlYCBpcyBhIHNlcnZpY2UgdGhhdCBpcyB1c2VkIGJ5IHRoZSBgJHNjZWAgc2VydmljZSB0byBwcm92aWRlIHtAbGluayBuZy4kc2NlIFN0cmljdAogKiBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfSBzZXJ2aWNlcyB0byBBbmd1bGFySlMuCiAqCiAqIFR5cGljYWxseSwgeW91IHdvdWxkIGNvbmZpZ3VyZSBvciBvdmVycmlkZSB0aGUge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSAkc2NlRGVsZWdhdGV9IGluc3RlYWQgb2YKICogdGhlIGAkc2NlYCBzZXJ2aWNlIHRvIGN1c3RvbWl6ZSB0aGUgd2F5IFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIHdvcmtzIGluIEFuZ3VsYXJKUy4gIFRoaXMgaXMKICogYmVjYXVzZSwgd2hpbGUgdGhlIGAkc2NlYCBwcm92aWRlcyBudW1lcm91cyBzaG9ydGhhbmQgbWV0aG9kcywgZXRjLiwgeW91IHJlYWxseSBvbmx5IG5lZWQgdG8KICogb3ZlcnJpZGUgMyBjb3JlIGZ1bmN0aW9ucyAoYHRydXN0QXNgLCBgZ2V0VHJ1c3RlZGAgYW5kIGB2YWx1ZU9mYCkgdG8gcmVwbGFjZSB0aGUgd2F5IHRoaW5ncwogKiB3b3JrIGJlY2F1c2UgYCRzY2VgIGRlbGVnYXRlcyB0byBgJHNjZURlbGVnYXRlYCBmb3IgdGhlc2Ugb3BlcmF0aW9ucy4KICoKICogUmVmZXIge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyICRzY2VEZWxlZ2F0ZVByb3ZpZGVyfSB0byBjb25maWd1cmUgdGhpcyBzZXJ2aWNlLgogKgogKiBUaGUgZGVmYXVsdCBpbnN0YW5jZSBvZiBgJHNjZURlbGVnYXRlYCBzaG91bGQgd29yayBvdXQgb2YgdGhlIGJveCB3aXRoIGxpdHRsZSBwYWluLiAgV2hpbGUgeW91CiAqIGNhbiBvdmVycmlkZSBpdCBjb21wbGV0ZWx5IHRvIGNoYW5nZSB0aGUgYmVoYXZpb3Igb2YgYCRzY2VgLCB0aGUgY29tbW9uIGNhc2Ugd291bGQKICogaW52b2x2ZSBjb25maWd1cmluZyB0aGUge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyICRzY2VEZWxlZ2F0ZVByb3ZpZGVyfSBpbnN0ZWFkIGJ5IHNldHRpbmcKICogeW91ciBvd24gd2hpdGVsaXN0cyBhbmQgYmxhY2tsaXN0cyBmb3IgdHJ1c3RpbmcgVVJMcyB1c2VkIGZvciBsb2FkaW5nIEFuZ3VsYXJKUyByZXNvdXJjZXMgc3VjaCBhcwogKiB0ZW1wbGF0ZXMuICBSZWZlciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3QKICogJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxXaGl0ZWxpc3R9IGFuZCB7QGxpbmsKICogbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxCbGFja2xpc3QgJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxCbGFja2xpc3R9CiAqLwoKLyoqCiAqIEBuZ2RvYyBwcm92aWRlcgogKiBAbmFtZSAkc2NlRGVsZWdhdGVQcm92aWRlcgogKiBAZGVzY3JpcHRpb24KICoKICogVGhlIGAkc2NlRGVsZWdhdGVQcm92aWRlcmAgcHJvdmlkZXIgYWxsb3dzIGRldmVsb3BlcnMgdG8gY29uZmlndXJlIHRoZSB7QGxpbmsgbmcuJHNjZURlbGVnYXRlCiAqICRzY2VEZWxlZ2F0ZX0gc2VydmljZS4gIFRoaXMgYWxsb3dzIG9uZSB0byBnZXQvc2V0IHRoZSB3aGl0ZWxpc3RzIGFuZCBibGFja2xpc3RzIHVzZWQgdG8gZW5zdXJlCiAqIHRoYXQgdGhlIFVSTHMgdXNlZCBmb3Igc291cmNpbmcgQW5ndWxhciB0ZW1wbGF0ZXMgYXJlIHNhZmUuICBSZWZlciB7QGxpbmsKICogbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3QgJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxXaGl0ZWxpc3R9IGFuZAogKiB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxCbGFja2xpc3QgJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxCbGFja2xpc3R9CiAqCiAqIEZvciB0aGUgZ2VuZXJhbCBkZXRhaWxzIGFib3V0IHRoaXMgc2VydmljZSBpbiBBbmd1bGFyLCByZWFkIHRoZSBtYWluIHBhZ2UgZm9yIHtAbGluayBuZy4kc2NlCiAqIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfS4KICoKICogKipFeGFtcGxlKio6ICBDb25zaWRlciB0aGUgZm9sbG93aW5nIGNhc2UuIDxhIG5hbWU9ImV4YW1wbGUiPjwvYT4KICoKICogLSB5b3VyIGFwcCBpcyBob3N0ZWQgYXQgdXJsIGBodHRwOi8vbXlhcHAuZXhhbXBsZS5jb20vYAogKiAtIGJ1dCBzb21lIG9mIHlvdXIgdGVtcGxhdGVzIGFyZSBob3N0ZWQgb24gb3RoZXIgZG9tYWlucyB5b3UgY29udHJvbCBzdWNoIGFzCiAqICAgYGh0dHA6Ly9zcnYwMS5hc3NldHMuZXhhbXBsZS5jb20vYCzCoCBgaHR0cDovL3NydjAyLmFzc2V0cy5leGFtcGxlLmNvbS9gLCBldGMuCiAqIC0gYW5kIHlvdSBoYXZlIGFuIG9wZW4gcmVkaXJlY3QgYXQgYGh0dHA6Ly9teWFwcC5leGFtcGxlLmNvbS9jbGlja1RocnU/Li4uYC4KICoKICogSGVyZSBpcyB3aGF0IGEgc2VjdXJlIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgc2NlbmFyaW8gbWlnaHQgbG9vayBsaWtlOgogKgogKiA8cHJlIGNsYXNzPSJwcmV0dHlwcmludCI+CiAqICAgIGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKS5jb25maWcoZnVuY3Rpb24oJHNjZURlbGVnYXRlUHJvdmlkZXIpIHsKICogICAgICAkc2NlRGVsZWdhdGVQcm92aWRlci5yZXNvdXJjZVVybFdoaXRlbGlzdChbCiAqICAgICAgICAvLyBBbGxvdyBzYW1lIG9yaWdpbiByZXNvdXJjZSBsb2Fkcy4KICogICAgICAgICdzZWxmJywKICogICAgICAgIC8vIEFsbG93IGxvYWRpbmcgZnJvbSBvdXIgYXNzZXRzIGRvbWFpbi4gIE5vdGljZSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuICogYW5kICoqLgogKiAgICAgICAgJ2h0dHA6Ly9zcnYqLmFzc2V0cy5leGFtcGxlLmNvbS8qKiddKTsKICoKICogICAgICAvLyBUaGUgYmxhY2tsaXN0IG92ZXJyaWRlcyB0aGUgd2hpdGVsaXN0IHNvIHRoZSBvcGVuIHJlZGlyZWN0IGhlcmUgaXMgYmxvY2tlZC4KICogICAgICAkc2NlRGVsZWdhdGVQcm92aWRlci5yZXNvdXJjZVVybEJsYWNrbGlzdChbCiAqICAgICAgICAnaHR0cDovL215YXBwLmV4YW1wbGUuY29tL2NsaWNrVGhydSoqJ10pOwogKiAgICAgIH0pOwogKiA8L3ByZT4KICovCgpmdW5jdGlvbiAkU2NlRGVsZWdhdGVQcm92aWRlcigpIHsKICB0aGlzLlNDRV9DT05URVhUUyA9IFNDRV9DT05URVhUUzsKCiAgLy8gUmVzb3VyY2UgVVJMcyBjYW4gYWxzbyBiZSB0cnVzdGVkIGJ5IHBvbGljeS4KICB2YXIgcmVzb3VyY2VVcmxXaGl0ZWxpc3QgPSBbJ3NlbGYnXSwKICAgICAgcmVzb3VyY2VVcmxCbGFja2xpc3QgPSBbXTsKCiAgLyoqCiAgICogQG5nZG9jIG1ldGhvZAogICAqIEBuYW1lICRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0CiAgICogQGtpbmQgZnVuY3Rpb24KICAgKgogICAqIEBwYXJhbSB7QXJyYXk9fSB3aGl0ZWxpc3QgV2hlbiBwcm92aWRlZCwgcmVwbGFjZXMgdGhlIHJlc291cmNlVXJsV2hpdGVsaXN0IHdpdGggdGhlIHZhbHVlCiAgICogICAgIHByb3ZpZGVkLiAgVGhpcyBtdXN0IGJlIGFuIGFycmF5IG9yIG51bGwuICBBIHNuYXBzaG90IG9mIHRoaXMgYXJyYXkgaXMgdXNlZCBzbyBmdXJ0aGVyCiAgICogICAgIGNoYW5nZXMgdG8gdGhlIGFycmF5IGFyZSBpZ25vcmVkLgogICAqCiAgICogICAgIEZvbGxvdyB7QGxpbmsgbmcuJHNjZSNyZXNvdXJjZVVybFBhdHRlcm5JdGVtIHRoaXMgbGlua30gZm9yIGEgZGVzY3JpcHRpb24gb2YgdGhlIGl0ZW1zCiAgICogICAgIGFsbG93ZWQgaW4gdGhpcyBhcnJheS4KICAgKgogICAqICAgICBOb3RlOiAqKmFuIGVtcHR5IHdoaXRlbGlzdCBhcnJheSB3aWxsIGJsb2NrIGFsbCBVUkxzKiohCiAgICoKICAgKiBAcmV0dXJuIHtBcnJheX0gdGhlIGN1cnJlbnRseSBzZXQgd2hpdGVsaXN0IGFycmF5LgogICAqCiAgICogVGhlICoqZGVmYXVsdCB2YWx1ZSoqIHdoZW4gbm8gd2hpdGVsaXN0IGhhcyBiZWVuIGV4cGxpY2l0bHkgc2V0IGlzIGBbJ3NlbGYnXWAgYWxsb3dpbmcgb25seQogICAqIHNhbWUgb3JpZ2luIHJlc291cmNlIHJlcXVlc3RzLgogICAqCiAgICogQGRlc2NyaXB0aW9uCiAgICogU2V0cy9HZXRzIHRoZSB3aGl0ZWxpc3Qgb2YgdHJ1c3RlZCByZXNvdXJjZSBVUkxzLgogICAqLwogIHRoaXMucmVzb3VyY2VVcmxXaGl0ZWxpc3QgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7CiAgICAgIHJlc291cmNlVXJsV2hpdGVsaXN0ID0gYWRqdXN0TWF0Y2hlcnModmFsdWUpOwogICAgfQogICAgcmV0dXJuIHJlc291cmNlVXJsV2hpdGVsaXN0OwogIH07CgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSAkc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybEJsYWNrbGlzdAogICAqIEBraW5kIGZ1bmN0aW9uCiAgICoKICAgKiBAcGFyYW0ge0FycmF5PX0gYmxhY2tsaXN0IFdoZW4gcHJvdmlkZWQsIHJlcGxhY2VzIHRoZSByZXNvdXJjZVVybEJsYWNrbGlzdCB3aXRoIHRoZSB2YWx1ZQogICAqICAgICBwcm92aWRlZC4gIFRoaXMgbXVzdCBiZSBhbiBhcnJheSBvciBudWxsLiAgQSBzbmFwc2hvdCBvZiB0aGlzIGFycmF5IGlzIHVzZWQgc28gZnVydGhlcgogICAqICAgICBjaGFuZ2VzIHRvIHRoZSBhcnJheSBhcmUgaWdub3JlZC4KICAgKgogICAqICAgICBGb2xsb3cge0BsaW5rIG5nLiRzY2UjcmVzb3VyY2VVcmxQYXR0ZXJuSXRlbSB0aGlzIGxpbmt9IGZvciBhIGRlc2NyaXB0aW9uIG9mIHRoZSBpdGVtcwogICAqICAgICBhbGxvd2VkIGluIHRoaXMgYXJyYXkuCiAgICoKICAgKiAgICAgVGhlIHR5cGljYWwgdXNhZ2UgZm9yIHRoZSBibGFja2xpc3QgaXMgdG8gKipibG9jawogICAqICAgICBbb3BlbiByZWRpcmVjdHNdKGh0dHA6Ly9jd2UubWl0cmUub3JnL2RhdGEvZGVmaW5pdGlvbnMvNjAxLmh0bWwpKiogc2VydmVkIGJ5IHlvdXIgZG9tYWluIGFzCiAgICogICAgIHRoZXNlIHdvdWxkIG90aGVyd2lzZSBiZSB0cnVzdGVkIGJ1dCBhY3R1YWxseSByZXR1cm4gY29udGVudCBmcm9tIHRoZSByZWRpcmVjdGVkIGRvbWFpbi4KICAgKgogICAqICAgICBGaW5hbGx5LCAqKnRoZSBibGFja2xpc3Qgb3ZlcnJpZGVzIHRoZSB3aGl0ZWxpc3QqKiBhbmQgaGFzIHRoZSBmaW5hbCBzYXkuCiAgICoKICAgKiBAcmV0dXJuIHtBcnJheX0gdGhlIGN1cnJlbnRseSBzZXQgYmxhY2tsaXN0IGFycmF5LgogICAqCiAgICogVGhlICoqZGVmYXVsdCB2YWx1ZSoqIHdoZW4gbm8gd2hpdGVsaXN0IGhhcyBiZWVuIGV4cGxpY2l0bHkgc2V0IGlzIHRoZSBlbXB0eSBhcnJheSAoaS5lLiB0aGVyZQogICAqIGlzIG5vIGJsYWNrbGlzdC4pCiAgICoKICAgKiBAZGVzY3JpcHRpb24KICAgKiBTZXRzL0dldHMgdGhlIGJsYWNrbGlzdCBvZiB0cnVzdGVkIHJlc291cmNlIFVSTHMuCiAgICovCgogIHRoaXMucmVzb3VyY2VVcmxCbGFja2xpc3QgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7CiAgICAgIHJlc291cmNlVXJsQmxhY2tsaXN0ID0gYWRqdXN0TWF0Y2hlcnModmFsdWUpOwogICAgfQogICAgcmV0dXJuIHJlc291cmNlVXJsQmxhY2tsaXN0OwogIH07CgogIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgZnVuY3Rpb24oJGluamVjdG9yKSB7CgogICAgdmFyIGh0bWxTYW5pdGl6ZXIgPSBmdW5jdGlvbiBodG1sU2FuaXRpemVyKGh0bWwpIHsKICAgICAgdGhyb3cgJHNjZU1pbkVycigndW5zYWZlJywgJ0F0dGVtcHRpbmcgdG8gdXNlIGFuIHVuc2FmZSB2YWx1ZSBpbiBhIHNhZmUgY29udGV4dC4nKTsKICAgIH07CgogICAgaWYgKCRpbmplY3Rvci5oYXMoJyRzYW5pdGl6ZScpKSB7CiAgICAgIGh0bWxTYW5pdGl6ZXIgPSAkaW5qZWN0b3IuZ2V0KCckc2FuaXRpemUnKTsKICAgIH0KCgogICAgZnVuY3Rpb24gbWF0Y2hVcmwobWF0Y2hlciwgcGFyc2VkVXJsKSB7CiAgICAgIGlmIChtYXRjaGVyID09PSAnc2VsZicpIHsKICAgICAgICByZXR1cm4gdXJsSXNTYW1lT3JpZ2luKHBhcnNlZFVybCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gZGVmaW5pdGVseSBhIHJlZ2V4LiAgU2VlIGFkanVzdE1hdGNoZXJzKCkKICAgICAgICByZXR1cm4gISFtYXRjaGVyLmV4ZWMocGFyc2VkVXJsLmhyZWYpOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gaXNSZXNvdXJjZVVybEFsbG93ZWRCeVBvbGljeSh1cmwpIHsKICAgICAgdmFyIHBhcnNlZFVybCA9IHVybFJlc29sdmUodXJsLnRvU3RyaW5nKCkpOwogICAgICB2YXIgaSwgbiwgYWxsb3dlZCA9IGZhbHNlOwogICAgICAvLyBFbnN1cmUgdGhhdCBhdCBsZWFzdCBvbmUgaXRlbSBmcm9tIHRoZSB3aGl0ZWxpc3QgYWxsb3dzIHRoaXMgdXJsLgogICAgICBmb3IgKGkgPSAwLCBuID0gcmVzb3VyY2VVcmxXaGl0ZWxpc3QubGVuZ3RoOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgaWYgKG1hdGNoVXJsKHJlc291cmNlVXJsV2hpdGVsaXN0W2ldLCBwYXJzZWRVcmwpKSB7CiAgICAgICAgICBhbGxvd2VkID0gdHJ1ZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoYWxsb3dlZCkgewogICAgICAgIC8vIEVuc3VyZSB0aGF0IG5vIGl0ZW0gZnJvbSB0aGUgYmxhY2tsaXN0IGJsb2NrZWQgdGhpcyB1cmwuCiAgICAgICAgZm9yIChpID0gMCwgbiA9IHJlc291cmNlVXJsQmxhY2tsaXN0Lmxlbmd0aDsgaSA8IG47IGkrKykgewogICAgICAgICAgaWYgKG1hdGNoVXJsKHJlc291cmNlVXJsQmxhY2tsaXN0W2ldLCBwYXJzZWRVcmwpKSB7CiAgICAgICAgICAgIGFsbG93ZWQgPSBmYWxzZTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBhbGxvd2VkOwogICAgfQoKICAgIGZ1bmN0aW9uIGdlbmVyYXRlSG9sZGVyVHlwZShCYXNlKSB7CiAgICAgIHZhciBob2xkZXJUeXBlID0gZnVuY3Rpb24gVHJ1c3RlZFZhbHVlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWUpIHsKICAgICAgICB0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICByZXR1cm4gdHJ1c3RlZFZhbHVlOwogICAgICAgIH07CiAgICAgIH07CiAgICAgIGlmIChCYXNlKSB7CiAgICAgICAgaG9sZGVyVHlwZS5wcm90b3R5cGUgPSBuZXcgQmFzZSgpOwogICAgICB9CiAgICAgIGhvbGRlclR5cGUucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbiBzY2VWYWx1ZU9mKCkgewogICAgICAgIHJldHVybiB0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk7CiAgICAgIH07CiAgICAgIGhvbGRlclR5cGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gc2NlVG9TdHJpbmcoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUoKS50b1N0cmluZygpOwogICAgICB9OwogICAgICByZXR1cm4gaG9sZGVyVHlwZTsKICAgIH0KCiAgICB2YXIgdHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSA9IGdlbmVyYXRlSG9sZGVyVHlwZSgpLAogICAgICAgIGJ5VHlwZSA9IHt9OwoKICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuSFRNTF0gPSBnZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSk7CiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLkNTU10gPSBnZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSk7CiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLlVSTF0gPSBnZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSk7CiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLkpTXSA9IGdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKTsKICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuUkVTT1VSQ0VfVVJMXSA9IGdlbmVyYXRlSG9sZGVyVHlwZShieVR5cGVbU0NFX0NPTlRFWFRTLlVSTF0pOwoKICAgIC8qKgogICAgICogQG5nZG9jIG1ldGhvZAogICAgICogQG5hbWUgJHNjZURlbGVnYXRlI3RydXN0QXMKICAgICAqCiAgICAgKiBAZGVzY3JpcHRpb24KICAgICAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgaXMgdHJ1c3RlZCBieSBhbmd1bGFyIGZvciB1c2UgaW4gc3BlY2lmaWVkIHN0cmljdAogICAgICogY29udGV4dHVhbCBlc2NhcGluZyBjb250ZXh0cyAoc3VjaCBhcyBuZy1iaW5kLWh0bWwsIG5nLWluY2x1ZGUsIGFueSBzcmMKICAgICAqIGF0dHJpYnV0ZSBpbnRlcnBvbGF0aW9uLCBhbnkgZG9tIGV2ZW50IGJpbmRpbmcgYXR0cmlidXRlIGludGVycG9sYXRpb24KICAgICAqIHN1Y2ggYXMgZm9yIG9uY2xpY2ssICBldGMuKSB0aGF0IHVzZXMgdGhlIHByb3ZpZGVkIHZhbHVlLgogICAgICogU2VlIHtAbGluayBuZy4kc2NlICRzY2V9IGZvciBlbmFibGluZyBzdHJpY3QgY29udGV4dHVhbCBlc2NhcGluZy4KICAgICAqCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUga2luZCBvZiBjb250ZXh0IGluIHdoaWNoIHRoaXMgdmFsdWUgaXMgc2FmZSBmb3IgdXNlLiAgZS5nLiB1cmwsCiAgICAgKiAgIHJlc291cmNlVXJsLCBodG1sLCBqcyBhbmQgY3NzLgogICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdGhhdCB0aGF0IHNob3VsZCBiZSBjb25zaWRlcmVkIHRydXN0ZWQvc2FmZS4KICAgICAqIEByZXR1cm5zIHsqfSBBIHZhbHVlIHRoYXQgY2FuIGJlIHVzZWQgdG8gc3RhbmQgaW4gZm9yIHRoZSBwcm92aWRlZCBgdmFsdWVgIGluIHBsYWNlcwogICAgICogd2hlcmUgQW5ndWxhciBleHBlY3RzIGEgJHNjZS50cnVzdEFzKCkgcmV0dXJuIHZhbHVlLgogICAgICovCiAgICBmdW5jdGlvbiB0cnVzdEFzKHR5cGUsIHRydXN0ZWRWYWx1ZSkgewogICAgICB2YXIgQ29uc3RydWN0b3IgPSAoYnlUeXBlLmhhc093blByb3BlcnR5KHR5cGUpID8gYnlUeXBlW3R5cGVdIDogbnVsbCk7CiAgICAgIGlmICghQ29uc3RydWN0b3IpIHsKICAgICAgICB0aHJvdyAkc2NlTWluRXJyKCdpY29udGV4dCcsCiAgICAgICAgICAgICdBdHRlbXB0ZWQgdG8gdHJ1c3QgYSB2YWx1ZSBpbiBpbnZhbGlkIGNvbnRleHQuIENvbnRleHQ6IHswfTsgVmFsdWU6IHsxfScsCiAgICAgICAgICAgIHR5cGUsIHRydXN0ZWRWYWx1ZSk7CiAgICAgIH0KICAgICAgaWYgKHRydXN0ZWRWYWx1ZSA9PT0gbnVsbCB8fCB0cnVzdGVkVmFsdWUgPT09IHVuZGVmaW5lZCB8fCB0cnVzdGVkVmFsdWUgPT09ICcnKSB7CiAgICAgICAgcmV0dXJuIHRydXN0ZWRWYWx1ZTsKICAgICAgfQogICAgICAvLyBBbGwgdGhlIGN1cnJlbnQgY29udGV4dHMgaW4gU0NFX0NPTlRFWFRTIGhhcHBlbiB0byBiZSBzdHJpbmdzLiAgSW4gb3JkZXIgdG8gYXZvaWQgdHJ1c3RpbmcKICAgICAgLy8gbXV0YWJsZSBvYmplY3RzLCB3ZSBlbnN1cmUgaGVyZSB0aGF0IHRoZSB2YWx1ZSBwYXNzZWQgaW4gaXMgYWN0dWFsbHkgYSBzdHJpbmcuCiAgICAgIGlmICh0eXBlb2YgdHJ1c3RlZFZhbHVlICE9PSAnc3RyaW5nJykgewogICAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2l0eXBlJywKICAgICAgICAgICAgJ0F0dGVtcHRlZCB0byB0cnVzdCBhIG5vbi1zdHJpbmcgdmFsdWUgaW4gYSBjb250ZW50IHJlcXVpcmluZyBhIHN0cmluZzogQ29udGV4dDogezB9JywKICAgICAgICAgICAgdHlwZSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0cnVzdGVkVmFsdWUpOwogICAgfQoKICAgIC8qKgogICAgICogQG5nZG9jIG1ldGhvZAogICAgICogQG5hbWUgJHNjZURlbGVnYXRlI3ZhbHVlT2YKICAgICAqCiAgICAgKiBAZGVzY3JpcHRpb24KICAgICAqIElmIHRoZSBwYXNzZWQgcGFyYW1ldGVyIGhhZCBiZWVuIHJldHVybmVkIGJ5IGEgcHJpb3IgY2FsbCB0byB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMKICAgICAqIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9LCByZXR1cm5zIHRoZSB2YWx1ZSB0aGF0IGhhZCBiZWVuIHBhc3NlZCB0byB7QGxpbmsKICAgICAqIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9LgogICAgICoKICAgICAqIElmIHRoZSBwYXNzZWQgcGFyYW1ldGVyIGlzIG5vdCBhIHZhbHVlIHRoYXQgaGFkIGJlZW4gcmV0dXJuZWQgYnkge0BsaW5rCiAgICAgKiBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXNgfSwgcmV0dXJucyBpdCBhcy1pcy4KICAgICAqCiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSByZXN1bHQgb2YgYSBwcmlvciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0KICAgICAqICAgICAgY2FsbCBvciBhbnl0aGluZyBlbHNlLgogICAgICogQHJldHVybnMgeyp9IFRoZSBgdmFsdWVgIHRoYXQgd2FzIG9yaWdpbmFsbHkgcHJvdmlkZWQgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzCiAgICAgKiAgICAgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0gaWYgYHZhbHVlYCBpcyB0aGUgcmVzdWx0IG9mIHN1Y2ggYSBjYWxsLiAgT3RoZXJ3aXNlLCByZXR1cm5zCiAgICAgKiAgICAgYHZhbHVlYCB1bmNoYW5nZWQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIHZhbHVlT2YobWF5YmVUcnVzdGVkKSB7CiAgICAgIGlmIChtYXliZVRydXN0ZWQgaW5zdGFuY2VvZiB0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKSB7CiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZC4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBtYXliZVRydXN0ZWQ7CiAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAqIEBuYW1lICRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkCiAgICAgKgogICAgICogQGRlc2NyaXB0aW9uCiAgICAgKiBUYWtlcyB0aGUgcmVzdWx0IG9mIGEge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IGNhbGwgYW5kCiAgICAgKiByZXR1cm5zIHRoZSBvcmlnaW5hbGx5IHN1cHBsaWVkIHZhbHVlIGlmIHRoZSBxdWVyaWVkIGNvbnRleHQgdHlwZSBpcyBhIHN1cGVydHlwZSBvZiB0aGUKICAgICAqIGNyZWF0ZWQgdHlwZS4gIElmIHRoaXMgY29uZGl0aW9uIGlzbid0IHNhdGlzZmllZCwgdGhyb3dzIGFuIGV4Y2VwdGlvbi4KICAgICAqCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUga2luZCBvZiBjb250ZXh0IGluIHdoaWNoIHRoaXMgdmFsdWUgaXMgdG8gYmUgdXNlZC4KICAgICAqIEBwYXJhbSB7Kn0gbWF5YmVUcnVzdGVkIFRoZSByZXN1bHQgb2YgYSBwcmlvciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMKICAgICAqICAgICBgJHNjZURlbGVnYXRlLnRydXN0QXNgfSBjYWxsLgogICAgICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGUgd2FzIG9yaWdpbmFsbHkgcHJvdmlkZWQgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzCiAgICAgKiAgICAgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0gaWYgdmFsaWQgaW4gdGhpcyBjb250ZXh0LiAgT3RoZXJ3aXNlLCB0aHJvd3MgYW4gZXhjZXB0aW9uLgogICAgICovCiAgICBmdW5jdGlvbiBnZXRUcnVzdGVkKHR5cGUsIG1heWJlVHJ1c3RlZCkgewogICAgICBpZiAobWF5YmVUcnVzdGVkID09PSBudWxsIHx8IG1heWJlVHJ1c3RlZCA9PT0gdW5kZWZpbmVkIHx8IG1heWJlVHJ1c3RlZCA9PT0gJycpIHsKICAgICAgICByZXR1cm4gbWF5YmVUcnVzdGVkOwogICAgICB9CiAgICAgIHZhciBjb25zdHJ1Y3RvciA9IChieVR5cGUuaGFzT3duUHJvcGVydHkodHlwZSkgPyBieVR5cGVbdHlwZV0gOiBudWxsKTsKICAgICAgaWYgKGNvbnN0cnVjdG9yICYmIG1heWJlVHJ1c3RlZCBpbnN0YW5jZW9mIGNvbnN0cnVjdG9yKSB7CiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZC4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpOwogICAgICB9CiAgICAgIC8vIElmIHdlIGdldCBoZXJlLCB0aGVuIHdlIG1heSBvbmx5IHRha2Ugb25lIG9mIHR3byBhY3Rpb25zLgogICAgICAvLyAxLiBzYW5pdGl6ZSB0aGUgdmFsdWUgZm9yIHRoZSByZXF1ZXN0ZWQgdHlwZSwgb3IKICAgICAgLy8gMi4gdGhyb3cgYW4gZXhjZXB0aW9uLgogICAgICBpZiAodHlwZSA9PT0gU0NFX0NPTlRFWFRTLlJFU09VUkNFX1VSTCkgewogICAgICAgIGlmIChpc1Jlc291cmNlVXJsQWxsb3dlZEJ5UG9saWN5KG1heWJlVHJ1c3RlZCkpIHsKICAgICAgICAgIHJldHVybiBtYXliZVRydXN0ZWQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2luc2VjdXJsJywKICAgICAgICAgICAgICAnQmxvY2tlZCBsb2FkaW5nIHJlc291cmNlIGZyb20gdXJsIG5vdCBhbGxvd2VkIGJ5ICRzY2VEZWxlZ2F0ZSBwb2xpY3kuICBVUkw6IHswfScsCiAgICAgICAgICAgICAgbWF5YmVUcnVzdGVkLnRvU3RyaW5nKCkpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBTQ0VfQ09OVEVYVFMuSFRNTCkgewogICAgICAgIHJldHVybiBodG1sU2FuaXRpemVyKG1heWJlVHJ1c3RlZCk7CiAgICAgIH0KICAgICAgdGhyb3cgJHNjZU1pbkVycigndW5zYWZlJywgJ0F0dGVtcHRpbmcgdG8gdXNlIGFuIHVuc2FmZSB2YWx1ZSBpbiBhIHNhZmUgY29udGV4dC4nKTsKICAgIH0KCiAgICByZXR1cm4geyB0cnVzdEFzOiB0cnVzdEFzLAogICAgICAgICAgICAgZ2V0VHJ1c3RlZDogZ2V0VHJ1c3RlZCwKICAgICAgICAgICAgIHZhbHVlT2Y6IHZhbHVlT2YgfTsKICB9XTsKfQoKCi8qKgogKiBAbmdkb2MgcHJvdmlkZXIKICogQG5hbWUgJHNjZVByb3ZpZGVyCiAqIEBkZXNjcmlwdGlvbgogKgogKiBUaGUgJHNjZVByb3ZpZGVyIHByb3ZpZGVyIGFsbG93cyBkZXZlbG9wZXJzIHRvIGNvbmZpZ3VyZSB0aGUge0BsaW5rIG5nLiRzY2UgJHNjZX0gc2VydmljZS4KICogLSAgIGVuYWJsZS9kaXNhYmxlIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpIGluIGEgbW9kdWxlCiAqIC0gICBvdmVycmlkZSB0aGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiB3aXRoIGEgY3VzdG9tIGRlbGVnYXRlCiAqCiAqIFJlYWQgbW9yZSBhYm91dCB7QGxpbmsgbmcuJHNjZSBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKX0uCiAqLwoKLyoganNoaW50IG1heGxlbjogZmFsc2UqLwoKLyoqCiAqIEBuZ2RvYyBzZXJ2aWNlCiAqIEBuYW1lICRzY2UKICogQGtpbmQgZnVuY3Rpb24KICoKICogQGRlc2NyaXB0aW9uCiAqCiAqIGAkc2NlYCBpcyBhIHNlcnZpY2UgdGhhdCBwcm92aWRlcyBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyBzZXJ2aWNlcyB0byBBbmd1bGFySlMuCiAqCiAqICMgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcKICoKICogU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgKFNDRSkgaXMgYSBtb2RlIGluIHdoaWNoIEFuZ3VsYXJKUyByZXF1aXJlcyBiaW5kaW5ncyBpbiBjZXJ0YWluCiAqIGNvbnRleHRzIHRvIHJlc3VsdCBpbiBhIHZhbHVlIHRoYXQgaXMgbWFya2VkIGFzIHNhZmUgdG8gdXNlIGZvciB0aGF0IGNvbnRleHQuICBPbmUgZXhhbXBsZSBvZgogKiBzdWNoIGEgY29udGV4dCBpcyBiaW5kaW5nIGFyYml0cmFyeSBodG1sIGNvbnRyb2xsZWQgYnkgdGhlIHVzZXIgdmlhIGBuZy1iaW5kLWh0bWxgLiAgV2UgcmVmZXIKICogdG8gdGhlc2UgY29udGV4dHMgYXMgcHJpdmlsZWdlZCBvciBTQ0UgY29udGV4dHMuCiAqCiAqIEFzIG9mIHZlcnNpb24gMS4yLCBBbmd1bGFyIHNoaXBzIHdpdGggU0NFIGVuYWJsZWQgYnkgZGVmYXVsdC4KICoKICogTm90ZTogIFdoZW4gZW5hYmxlZCAodGhlIGRlZmF1bHQpLCBJRTggaW4gcXVpcmtzIG1vZGUgaXMgbm90IHN1cHBvcnRlZC4gIEluIHRoaXMgbW9kZSwgSUU4IGFsbG93cwogKiBvbmUgdG8gZXhlY3V0ZSBhcmJpdHJhcnkgamF2YXNjcmlwdCBieSB0aGUgdXNlIG9mIHRoZSBleHByZXNzaW9uKCkgc3ludGF4LiAgUmVmZXIKICogPGh0dHA6Ly9ibG9ncy5tc2RuLmNvbS9iL2llL2FyY2hpdmUvMjAwOC8xMC8xNi9lbmRpbmctZXhwcmVzc2lvbnMuYXNweD4gdG8gbGVhcm4gbW9yZSBhYm91dCB0aGVtLgogKiBZb3UgY2FuIGVuc3VyZSB5b3VyIGRvY3VtZW50IGlzIGluIHN0YW5kYXJkcyBtb2RlIGFuZCBub3QgcXVpcmtzIG1vZGUgYnkgYWRkaW5nIGA8IWRvY3R5cGUgaHRtbD5gCiAqIHRvIHRoZSB0b3Agb2YgeW91ciBIVE1MIGRvY3VtZW50LgogKgogKiBTQ0UgYXNzaXN0cyBpbiB3cml0aW5nIGNvZGUgaW4gd2F5IHRoYXQgKGEpIGlzIHNlY3VyZSBieSBkZWZhdWx0IGFuZCAoYikgbWFrZXMgYXVkaXRpbmcgZm9yCiAqIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdGllcyBzdWNoIGFzIFhTUywgY2xpY2tqYWNraW5nLCBldGMuIGEgbG90IGVhc2llci4KICoKICogSGVyZSdzIGFuIGV4YW1wbGUgb2YgYSBiaW5kaW5nIGluIGEgcHJpdmlsZWdlZCBjb250ZXh0OgogKgogKiA8cHJlIGNsYXNzPSJwcmV0dHlwcmludCI+CiAqICAgICA8aW5wdXQgbmctbW9kZWw9InVzZXJIdG1sIj4KICogICAgIDxkaXYgbmctYmluZC1odG1sPSJ1c2VySHRtbCI+CiAqIDwvcHJlPgogKgogKiBOb3RpY2UgdGhhdCBgbmctYmluZC1odG1sYCBpcyBib3VuZCB0byBgdXNlckh0bWxgIGNvbnRyb2xsZWQgYnkgdGhlIHVzZXIuICBXaXRoIFNDRQogKiBkaXNhYmxlZCwgdGhpcyBhcHBsaWNhdGlvbiBhbGxvd3MgdGhlIHVzZXIgdG8gcmVuZGVyIGFyYml0cmFyeSBIVE1MIGludG8gdGhlIERJVi4KICogSW4gYSBtb3JlIHJlYWxpc3RpYyBleGFtcGxlLCBvbmUgbWF5IGJlIHJlbmRlcmluZyB1c2VyIGNvbW1lbnRzLCBibG9nIGFydGljbGVzLCBldGMuIHZpYQogKiBiaW5kaW5ncy4gIChIVE1MIGlzIGp1c3Qgb25lIGV4YW1wbGUgb2YgYSBjb250ZXh0IHdoZXJlIHJlbmRlcmluZyB1c2VyIGNvbnRyb2xsZWQgaW5wdXQgY3JlYXRlcwogKiBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMuKQogKgogKiBGb3IgdGhlIGNhc2Ugb2YgSFRNTCwgeW91IG1pZ2h0IHVzZSBhIGxpYnJhcnksIGVpdGhlciBvbiB0aGUgY2xpZW50IHNpZGUsIG9yIG9uIHRoZSBzZXJ2ZXIgc2lkZSwKICogdG8gc2FuaXRpemUgdW5zYWZlIEhUTUwgYmVmb3JlIGJpbmRpbmcgdG8gdGhlIHZhbHVlIGFuZCByZW5kZXJpbmcgaXQgaW4gdGhlIGRvY3VtZW50LgogKgogKiBIb3cgd291bGQgeW91IGVuc3VyZSB0aGF0IGV2ZXJ5IHBsYWNlIHRoYXQgdXNlZCB0aGVzZSB0eXBlcyBvZiBiaW5kaW5ncyB3YXMgYm91bmQgdG8gYSB2YWx1ZSB0aGF0CiAqIHdhcyBzYW5pdGl6ZWQgYnkgeW91ciBsaWJyYXJ5IChvciByZXR1cm5lZCBhcyBzYWZlIGZvciByZW5kZXJpbmcgYnkgeW91ciBzZXJ2ZXI/KSAgSG93IGNhbiB5b3UKICogZW5zdXJlIHRoYXQgeW91IGRpZG4ndCBhY2NpZGVudGFsbHkgZGVsZXRlIHRoZSBsaW5lIHRoYXQgc2FuaXRpemVkIHRoZSB2YWx1ZSwgb3IgcmVuYW1lZCBzb21lCiAqIHByb3BlcnRpZXMvZmllbGRzIGFuZCBmb3Jnb3QgdG8gdXBkYXRlIHRoZSBiaW5kaW5nIHRvIHRoZSBzYW5pdGl6ZWQgdmFsdWU/CiAqCiAqIFRvIGJlIHNlY3VyZSBieSBkZWZhdWx0LCB5b3Ugd2FudCB0byBlbnN1cmUgdGhhdCBhbnkgc3VjaCBiaW5kaW5ncyBhcmUgZGlzYWxsb3dlZCB1bmxlc3MgeW91IGNhbgogKiBkZXRlcm1pbmUgdGhhdCBzb21ldGhpbmcgZXhwbGljaXRseSBzYXlzIGl0J3Mgc2FmZSB0byB1c2UgYSB2YWx1ZSBmb3IgYmluZGluZyBpbiB0aGF0CiAqIGNvbnRleHQuICBZb3UgY2FuIHRoZW4gYXVkaXQgeW91ciBjb2RlIChhIHNpbXBsZSBncmVwIHdvdWxkIGRvKSB0byBlbnN1cmUgdGhhdCB0aGlzIGlzIG9ubHkgZG9uZQogKiBmb3IgdGhvc2UgdmFsdWVzIHRoYXQgeW91IGNhbiBlYXNpbHkgdGVsbCBhcmUgc2FmZSAtIGJlY2F1c2UgdGhleSB3ZXJlIHJlY2VpdmVkIGZyb20geW91ciBzZXJ2ZXIsCiAqIHNhbml0aXplZCBieSB5b3VyIGxpYnJhcnksIGV0Yy4gIFlvdSBjYW4gb3JnYW5pemUgeW91ciBjb2RlYmFzZSB0byBoZWxwIHdpdGggdGhpcyAtIHBlcmhhcHMKICogYWxsb3dpbmcgb25seSB0aGUgZmlsZXMgaW4gYSBzcGVjaWZpYyBkaXJlY3RvcnkgdG8gZG8gdGhpcy4gIEVuc3VyaW5nIHRoYXQgdGhlIGludGVybmFsIEFQSQogKiBleHBvc2VkIGJ5IHRoYXQgY29kZSBkb2Vzbid0IG1hcmt1cCBhcmJpdHJhcnkgdmFsdWVzIGFzIHNhZmUgdGhlbiBiZWNvbWVzIGEgbW9yZSBtYW5hZ2VhYmxlIHRhc2suCiAqCiAqIEluIHRoZSBjYXNlIG9mIEFuZ3VsYXJKUycgU0NFIHNlcnZpY2UsIG9uZSB1c2VzIHtAbGluayBuZy4kc2NlI3RydXN0QXMgJHNjZS50cnVzdEFzfQogKiAoYW5kIHNob3J0aGFuZCBtZXRob2RzIHN1Y2ggYXMge0BsaW5rIG5nLiRzY2UjdHJ1c3RBc0h0bWwgJHNjZS50cnVzdEFzSHRtbH0sIGV0Yy4pIHRvCiAqIG9idGFpbiB2YWx1ZXMgdGhhdCB3aWxsIGJlIGFjY2VwdGVkIGJ5IFNDRSAvIHByaXZpbGVnZWQgY29udGV4dHMuCiAqCiAqCiAqICMjIEhvdyBkb2VzIGl0IHdvcms/CiAqCiAqIEluIHByaXZpbGVnZWQgY29udGV4dHMsIGRpcmVjdGl2ZXMgYW5kIGNvZGUgd2lsbCBiaW5kIHRvIHRoZSByZXN1bHQgb2Yge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZAogKiAkc2NlLmdldFRydXN0ZWQoY29udGV4dCwgdmFsdWUpfSByYXRoZXIgdGhhbiB0byB0aGUgdmFsdWUgZGlyZWN0bHkuICBEaXJlY3RpdmVzIHVzZSB7QGxpbmsKICogbmcuJHNjZSNwYXJzZSAkc2NlLnBhcnNlQXN9IHJhdGhlciB0aGFuIGAkcGFyc2VgIHRvIHdhdGNoIGF0dHJpYnV0ZSBiaW5kaW5ncywgd2hpY2ggcGVyZm9ybXMgdGhlCiAqIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWQgJHNjZS5nZXRUcnVzdGVkfSBiZWhpbmQgdGhlIHNjZW5lcyBvbiBub24tY29uc3RhbnQgbGl0ZXJhbHMuCiAqCiAqIEFzIGFuIGV4YW1wbGUsIHtAbGluayBuZy5kaXJlY3RpdmU6bmdCaW5kSHRtbCBuZ0JpbmRIdG1sfSB1c2VzIHtAbGluawogKiBuZy4kc2NlI3BhcnNlQXNIdG1sICRzY2UucGFyc2VBc0h0bWwoYmluZGluZyBleHByZXNzaW9uKX0uICBIZXJlJ3MgdGhlIGFjdHVhbCBjb2RlIChzbGlnaHRseQogKiBzaW1wbGlmaWVkKToKICoKICogPHByZSBjbGFzcz0icHJldHR5cHJpbnQiPgogKiAgIHZhciBuZ0JpbmRIdG1sRGlyZWN0aXZlID0gWyckc2NlJywgZnVuY3Rpb24oJHNjZSkgewogKiAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7CiAqICAgICAgIHNjb3BlLiR3YXRjaCgkc2NlLnBhcnNlQXNIdG1sKGF0dHIubmdCaW5kSHRtbCksIGZ1bmN0aW9uKHZhbHVlKSB7CiAqICAgICAgICAgZWxlbWVudC5odG1sKHZhbHVlIHx8ICcnKTsKICogICAgICAgfSk7CiAqICAgICB9OwogKiAgIH1dOwogKiA8L3ByZT4KICoKICogIyMgSW1wYWN0IG9uIGxvYWRpbmcgdGVtcGxhdGVzCiAqCiAqIFRoaXMgYXBwbGllcyBib3RoIHRvIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nSW5jbHVkZSBgbmctaW5jbHVkZWB9IGRpcmVjdGl2ZSBhcyB3ZWxsIGFzCiAqIGB0ZW1wbGF0ZVVybGAncyBzcGVjaWZpZWQgYnkge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSBkaXJlY3RpdmVzfS4KICoKICogQnkgZGVmYXVsdCwgQW5ndWxhciBvbmx5IGxvYWRzIHRlbXBsYXRlcyBmcm9tIHRoZSBzYW1lIGRvbWFpbiBhbmQgcHJvdG9jb2wgYXMgdGhlIGFwcGxpY2F0aW9uCiAqIGRvY3VtZW50LiAgVGhpcyBpcyBkb25lIGJ5IGNhbGxpbmcge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZFJlc291cmNlVXJsCiAqICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsfSBvbiB0aGUgdGVtcGxhdGUgVVJMLiAgVG8gbG9hZCB0ZW1wbGF0ZXMgZnJvbSBvdGhlciBkb21haW5zIGFuZC9vcgogKiBwcm90b2NvbHMsIHlvdSBtYXkgZWl0aGVyIGVpdGhlciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3Qgd2hpdGVsaXN0CiAqIHRoZW19IG9yIHtAbGluayBuZy4kc2NlI3RydXN0QXNSZXNvdXJjZVVybCB3cmFwIGl0fSBpbnRvIGEgdHJ1c3RlZCB2YWx1ZS4KICoKICogKlBsZWFzZSBub3RlKjoKICogVGhlIGJyb3dzZXIncwogKiBbU2FtZSBPcmlnaW4gUG9saWN5XShodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Jyb3dzZXJzZWMvd2lraS9QYXJ0MiNTYW1lLW9yaWdpbl9wb2xpY3lfZm9yX1hNTEh0dHBSZXF1ZXN0KQogKiBhbmQgW0Nyb3NzLU9yaWdpbiBSZXNvdXJjZSBTaGFyaW5nIChDT1JTKV0oaHR0cDovL3d3dy53My5vcmcvVFIvY29ycy8pCiAqIHBvbGljeSBhcHBseSBpbiBhZGRpdGlvbiB0byB0aGlzIGFuZCBtYXkgZnVydGhlciByZXN0cmljdCB3aGV0aGVyIHRoZSB0ZW1wbGF0ZSBpcyBzdWNjZXNzZnVsbHkKICogbG9hZGVkLiAgVGhpcyBtZWFucyB0aGF0IHdpdGhvdXQgdGhlIHJpZ2h0IENPUlMgcG9saWN5LCBsb2FkaW5nIHRlbXBsYXRlcyBmcm9tIGEgZGlmZmVyZW50IGRvbWFpbgogKiB3b24ndCB3b3JrIG9uIGFsbCBicm93c2Vycy4gIEFsc28sIGxvYWRpbmcgdGVtcGxhdGVzIGZyb20gYGZpbGU6Ly9gIFVSTCBkb2VzIG5vdCB3b3JrIG9uIHNvbWUKICogYnJvd3NlcnMuCiAqCiAqICMjIFRoaXMgZmVlbHMgbGlrZSB0b28gbXVjaCBvdmVyaGVhZCBmb3IgdGhlIGRldmVsb3Blcj8KICoKICogSXQncyBpbXBvcnRhbnQgdG8gcmVtZW1iZXIgdGhhdCBTQ0Ugb25seSBhcHBsaWVzIHRvIGludGVycG9sYXRpb24gZXhwcmVzc2lvbnMuCiAqCiAqIElmIHlvdXIgZXhwcmVzc2lvbnMgYXJlIGNvbnN0YW50IGxpdGVyYWxzLCB0aGV5J3JlIGF1dG9tYXRpY2FsbHkgdHJ1c3RlZCBhbmQgeW91IGRvbid0IG5lZWQgdG8KICogY2FsbCBgJHNjZS50cnVzdEFzYCBvbiB0aGVtIChyZW1lbWJlciB0byBpbmNsdWRlIHRoZSBgbmdTYW5pdGl6ZWAgbW9kdWxlKSAoZS5nLgogKiBgPGRpdiBuZy1iaW5kLWh0bWw9Iic8Yj5pbXBsaWNpdGx5IHRydXN0ZWQ8L2I+JyI+PC9kaXY+YCkganVzdCB3b3Jrcy4KICoKICogQWRkaXRpb25hbGx5LCBgYVtocmVmXWAgYW5kIGBpbWdbc3JjXWAgYXV0b21hdGljYWxseSBzYW5pdGl6ZSB0aGVpciBVUkxzIGFuZCBkbyBub3QgcGFzcyB0aGVtCiAqIHRocm91Z2gge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZCAkc2NlLmdldFRydXN0ZWR9LiAgU0NFIGRvZXNuJ3QgcGxheSBhIHJvbGUgaGVyZS4KICoKICogVGhlIGluY2x1ZGVkIHtAbGluayBuZy4kc2NlRGVsZWdhdGUgJHNjZURlbGVnYXRlfSBjb21lcyB3aXRoIHNhbmUgZGVmYXVsdHMgdG8gYWxsb3cgeW91IHRvIGxvYWQKICogdGVtcGxhdGVzIGluIGBuZy1pbmNsdWRlYCBmcm9tIHlvdXIgYXBwbGljYXRpb24ncyBkb21haW4gd2l0aG91dCBoYXZpbmcgdG8gZXZlbiBrbm93IGFib3V0IFNDRS4KICogSXQgYmxvY2tzIGxvYWRpbmcgdGVtcGxhdGVzIGZyb20gb3RoZXIgZG9tYWlucyBvciBsb2FkaW5nIHRlbXBsYXRlcyBvdmVyIGh0dHAgZnJvbSBhbiBodHRwcwogKiBzZXJ2ZWQgZG9jdW1lbnQuICBZb3UgY2FuIGNoYW5nZSB0aGVzZSBieSBzZXR0aW5nIHlvdXIgb3duIGN1c3RvbSB7QGxpbmsKICogbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3Qgd2hpdGVsaXN0c30gYW5kIHtAbGluawogKiBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybEJsYWNrbGlzdCBibGFja2xpc3RzfSBmb3IgbWF0Y2hpbmcgc3VjaCBVUkxzLgogKgogKiBUaGlzIHNpZ25pZmljYW50bHkgcmVkdWNlcyB0aGUgb3ZlcmhlYWQuICBJdCBpcyBmYXIgZWFzaWVyIHRvIHBheSB0aGUgc21hbGwgb3ZlcmhlYWQgYW5kIGhhdmUgYW4KICogYXBwbGljYXRpb24gdGhhdCdzIHNlY3VyZSBhbmQgY2FuIGJlIGF1ZGl0ZWQgdG8gdmVyaWZ5IHRoYXQgd2l0aCBtdWNoIG1vcmUgZWFzZSB0aGFuIGJvbHRpbmcKICogc2VjdXJpdHkgb250byBhbiBhcHBsaWNhdGlvbiBsYXRlci4KICoKICogPGEgbmFtZT0iY29udGV4dHMiPjwvYT4KICogIyMgV2hhdCB0cnVzdGVkIGNvbnRleHQgdHlwZXMgYXJlIHN1cHBvcnRlZD8KICoKICogfCBDb250ZXh0ICAgICAgICAgICAgIHwgTm90ZXMgICAgICAgICAgfAogKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS18CiAqIHwgYCRzY2UuSFRNTGAgICAgICAgICB8IEZvciBIVE1MIHRoYXQncyBzYWZlIHRvIHNvdXJjZSBpbnRvIHRoZSBhcHBsaWNhdGlvbi4gIFRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQmluZEh0bWwgbmdCaW5kSHRtbH0gZGlyZWN0aXZlIHVzZXMgdGhpcyBjb250ZXh0IGZvciBiaW5kaW5ncy4gSWYgYW4gdW5zYWZlIHZhbHVlIGlzIGVuY291bnRlcmVkIGFuZCB0aGUge0BsaW5rIG5nU2FuaXRpemUgJHNhbml0aXplfSBtb2R1bGUgaXMgcHJlc2VudCB0aGlzIHdpbGwgc2FuaXRpemUgdGhlIHZhbHVlIGluc3RlYWQgb2YgdGhyb3dpbmcgYW4gZXJyb3IuIHwKICogfCBgJHNjZS5DU1NgICAgICAgICAgIHwgRm9yIENTUyB0aGF0J3Mgc2FmZSB0byBzb3VyY2UgaW50byB0aGUgYXBwbGljYXRpb24uICBDdXJyZW50bHkgdW51c2VkLiAgRmVlbCBmcmVlIHRvIHVzZSBpdCBpbiB5b3VyIG93biBkaXJlY3RpdmVzLiB8CiAqIHwgYCRzY2UuVVJMYCAgICAgICAgICB8IEZvciBVUkxzIHRoYXQgYXJlIHNhZmUgdG8gZm9sbG93IGFzIGxpbmtzLiAgQ3VycmVudGx5IHVudXNlZCAoYDxhIGhyZWY9YCBhbmQgYDxpbWcgc3JjPWAgc2FuaXRpemUgdGhlaXIgdXJscyBhbmQgZG9uJ3QgY29uc3RpdHV0ZSBhbiBTQ0UgY29udGV4dC4gfAogKiB8IGAkc2NlLlJFU09VUkNFX1VSTGAgfCBGb3IgVVJMcyB0aGF0IGFyZSBub3Qgb25seSBzYWZlIHRvIGZvbGxvdyBhcyBsaW5rcywgYnV0IHdob3NlIGNvbnRlbnRzIGFyZSBhbHNvIHNhZmUgdG8gaW5jbHVkZSBpbiB5b3VyIGFwcGxpY2F0aW9uLiAgRXhhbXBsZXMgaW5jbHVkZSBgbmctaW5jbHVkZWAsIGBzcmNgIC8gYG5nU3JjYCBiaW5kaW5ncyBmb3IgdGFncyBvdGhlciB0aGFuIGBJTUdgIChlLmcuIGBJRlJBTUVgLCBgT0JKRUNUYCwgZXRjLikgIDxicj48YnI+Tm90ZSB0aGF0IGAkc2NlLlJFU09VUkNFX1VSTGAgbWFrZXMgYSBzdHJvbmdlciBzdGF0ZW1lbnQgYWJvdXQgdGhlIFVSTCB0aGFuIGAkc2NlLlVSTGAgZG9lcyBhbmQgdGhlcmVmb3JlIGNvbnRleHRzIHJlcXVpcmluZyB2YWx1ZXMgdHJ1c3RlZCBmb3IgYCRzY2UuUkVTT1VSQ0VfVVJMYCBjYW4gYmUgdXNlZCBhbnl3aGVyZSB0aGF0IHZhbHVlcyB0cnVzdGVkIGZvciBgJHNjZS5VUkxgIGFyZSByZXF1aXJlZC4gfAogKiB8IGAkc2NlLkpTYCAgICAgICAgICAgfCBGb3IgSmF2YVNjcmlwdCB0aGF0IGlzIHNhZmUgdG8gZXhlY3V0ZSBpbiB5b3VyIGFwcGxpY2F0aW9uJ3MgY29udGV4dC4gIEN1cnJlbnRseSB1bnVzZWQuICBGZWVsIGZyZWUgdG8gdXNlIGl0IGluIHlvdXIgb3duIGRpcmVjdGl2ZXMuIHwKICoKICogIyMgRm9ybWF0IG9mIGl0ZW1zIGluIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCByZXNvdXJjZVVybFdoaXRlbGlzdH0ve0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0IEJsYWNrbGlzdH0gPGEgbmFtZT0icmVzb3VyY2VVcmxQYXR0ZXJuSXRlbSI+PC9hPgogKgogKiAgRWFjaCBlbGVtZW50IGluIHRoZXNlIGFycmF5cyBtdXN0IGJlIG9uZSBvZiB0aGUgZm9sbG93aW5nOgogKgogKiAgLSAqKidzZWxmJyoqCiAqICAgIC0gVGhlIHNwZWNpYWwgKipzdHJpbmcqKiwgYCdzZWxmJ2AsIGNhbiBiZSB1c2VkIHRvIG1hdGNoIGFnYWluc3QgYWxsIFVSTHMgb2YgdGhlICoqc2FtZQogKiAgICAgIGRvbWFpbioqIGFzIHRoZSBhcHBsaWNhdGlvbiBkb2N1bWVudCB1c2luZyB0aGUgKipzYW1lIHByb3RvY29sKiouCiAqICAtICoqU3RyaW5nKiogKGV4Y2VwdCB0aGUgc3BlY2lhbCB2YWx1ZSBgJ3NlbGYnYCkKICogICAgLSBUaGUgc3RyaW5nIGlzIG1hdGNoZWQgYWdhaW5zdCB0aGUgZnVsbCAqbm9ybWFsaXplZCAvIGFic29sdXRlIFVSTCogb2YgdGhlIHJlc291cmNlCiAqICAgICAgYmVpbmcgdGVzdGVkIChzdWJzdHJpbmcgbWF0Y2hlcyBhcmUgbm90IGdvb2QgZW5vdWdoLikKICogICAgLSBUaGVyZSBhcmUgZXhhY3RseSAqKnR3byB3aWxkY2FyZCBzZXF1ZW5jZXMqKiAtIGAqYCBhbmQgYCoqYC4gIEFsbCBvdGhlciBjaGFyYWN0ZXJzCiAqICAgICAgbWF0Y2ggdGhlbXNlbHZlcy4KICogICAgLSBgKmA6IG1hdGNoZXMgemVybyBvciBtb3JlIG9jY3VycmVuY2VzIG9mIGFueSBjaGFyYWN0ZXIgb3RoZXIgdGhhbiBvbmUgb2YgdGhlIGZvbGxvd2luZyA2CiAqICAgICAgY2hhcmFjdGVyczogJ2A6YCcsICdgL2AnLCAnYC5gJywgJ2A/YCcsICdgJmAnIGFuZCAnOycuICBJdCdzIGEgdXNlZnVsIHdpbGRjYXJkIGZvciB1c2UKICogICAgICBpbiBhIHdoaXRlbGlzdC4KICogICAgLSBgKipgOiBtYXRjaGVzIHplcm8gb3IgbW9yZSBvY2N1cnJlbmNlcyBvZiAqYW55KiBjaGFyYWN0ZXIuICBBcyBzdWNoLCBpdCdzIG5vdAogKiAgICAgIG5vdCBhcHByb3ByaWF0ZSB0byB1c2UgaW4gZm9yIGEgc2NoZW1lLCBkb21haW4sIGV0Yy4gYXMgaXQgd291bGQgbWF0Y2ggdG9vIG11Y2guICAoZS5nLgogKiAgICAgIGh0dHA6Ly8qKi5leGFtcGxlLmNvbS8gd291bGQgbWF0Y2ggaHR0cDovL2V2aWwuY29tLz9pZ25vcmU9LmV4YW1wbGUuY29tLyBhbmQgdGhhdCBtaWdodAogKiAgICAgIG5vdCBoYXZlIGJlZW4gdGhlIGludGVudGlvbi4pICBJdHMgdXNhZ2UgYXQgdGhlIHZlcnkgZW5kIG9mIHRoZSBwYXRoIGlzIG9rLiAgKGUuZy4KICogICAgICBodHRwOi8vZm9vLmV4YW1wbGUuY29tL3RlbXBsYXRlcy8qKikuCiAqICAtICoqUmVnRXhwKiogKCpzZWUgY2F2ZWF0IGJlbG93KikKICogICAgLSAqQ2F2ZWF0KjogIFdoaWxlIHJlZ3VsYXIgZXhwcmVzc2lvbnMgYXJlIHBvd2VyZnVsIGFuZCBvZmZlciBncmVhdCBmbGV4aWJpbGl0eSwgIHRoZWlyIHN5bnRheAogKiAgICAgIChhbmQgYWxsIHRoZSBpbmV2aXRhYmxlIGVzY2FwaW5nKSBtYWtlcyB0aGVtICpoYXJkZXIgdG8gbWFpbnRhaW4qLiAgSXQncyBlYXN5IHRvCiAqICAgICAgYWNjaWRlbnRhbGx5IGludHJvZHVjZSBhIGJ1ZyB3aGVuIG9uZSB1cGRhdGVzIGEgY29tcGxleCBleHByZXNzaW9uIChpbWhvLCBhbGwgcmVnZXhlcyBzaG91bGQKICogICAgICBoYXZlIGdvb2QgdGVzdCBjb3ZlcmFnZS4pLiAgRm9yIGluc3RhbmNlLCB0aGUgdXNlIG9mIGAuYCBpbiB0aGUgcmVnZXggaXMgY29ycmVjdCBvbmx5IGluIGEKICogICAgICBzbWFsbCBudW1iZXIgb2YgY2FzZXMuICBBIGAuYCBjaGFyYWN0ZXIgaW4gdGhlIHJlZ2V4IHVzZWQgd2hlbiBtYXRjaGluZyB0aGUgc2NoZW1lIG9yIGEKICogICAgICBzdWJkb21haW4gY291bGQgYmUgbWF0Y2hlZCBhZ2FpbnN0IGEgYDpgIG9yIGxpdGVyYWwgYC5gIHRoYXQgd2FzIGxpa2VseSBub3QgaW50ZW5kZWQuICAgSXQKICogICAgICBpcyBoaWdobHkgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBzdHJpbmcgcGF0dGVybnMgYW5kIG9ubHkgZmFsbCBiYWNrIHRvIHJlZ3VsYXIgZXhwcmVzc2lvbnMKICogICAgICBpZiB0aGV5IGFzIGEgbGFzdCByZXNvcnQuCiAqICAgIC0gVGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFJlZ0V4cCAoaS5lLiBub3QgYSBzdHJpbmcuKSAgSXQgaXMKICogICAgICBtYXRjaGVkIGFnYWluc3QgdGhlICoqZW50aXJlKiogKm5vcm1hbGl6ZWQgLyBhYnNvbHV0ZSBVUkwqIG9mIHRoZSByZXNvdXJjZSBiZWluZyB0ZXN0ZWQKICogICAgICAoZXZlbiB3aGVuIHRoZSBSZWdFeHAgZGlkIG5vdCBoYXZlIHRoZSBgXmAgYW5kIGAkYCBjb2Rlcy4pICBJbiBhZGRpdGlvbiwgYW55IGZsYWdzCiAqICAgICAgcHJlc2VudCBvbiB0aGUgUmVnRXhwIChzdWNoIGFzIG11bHRpbGluZSwgZ2xvYmFsLCBpZ25vcmVDYXNlKSBhcmUgaWdub3JlZC4KICogICAgLSBJZiB5b3UgYXJlIGdlbmVyYXRpbmcgeW91ciBKYXZhU2NyaXB0IGZyb20gc29tZSBvdGhlciB0ZW1wbGF0aW5nIGVuZ2luZSAobm90CiAqICAgICAgcmVjb21tZW5kZWQsIGUuZy4gaW4gaXNzdWUgWyM0MDA2XShodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy80MDA2KSksCiAqICAgICAgcmVtZW1iZXIgdG8gZXNjYXBlIHlvdXIgcmVndWxhciBleHByZXNzaW9uIChhbmQgYmUgYXdhcmUgdGhhdCB5b3UgbWlnaHQgbmVlZCBtb3JlIHRoYW4KICogICAgICBvbmUgbGV2ZWwgb2YgZXNjYXBpbmcgZGVwZW5kaW5nIG9uIHlvdXIgdGVtcGxhdGluZyBlbmdpbmUgYW5kIHRoZSB3YXkgeW91IGludGVycG9sYXRlZAogKiAgICAgIHRoZSB2YWx1ZS4pICBEbyBtYWtlIHVzZSBvZiB5b3VyIHBsYXRmb3JtJ3MgZXNjYXBpbmcgbWVjaGFuaXNtIGFzIGl0IG1pZ2h0IGJlIGdvb2QKICogICAgICBlbm91Z2ggYmVmb3JlIGNvZGluZyB5b3VyIG93bi4gIGUuZy4gUnVieSBoYXMKICogICAgICBbUmVnZXhwLmVzY2FwZShzdHIpXShodHRwOi8vd3d3LnJ1YnktZG9jLm9yZy9jb3JlLTIuMC4wL1JlZ2V4cC5odG1sI21ldGhvZC1jLWVzY2FwZSkKICogICAgICBhbmQgUHl0aG9uIGhhcyBbcmUuZXNjYXBlXShodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvcmUuaHRtbCNyZS5lc2NhcGUpLgogKiAgICAgIEphdmFzY3JpcHQgbGFja3MgYSBzaW1pbGFyIGJ1aWx0IGluIGZ1bmN0aW9uIGZvciBlc2NhcGluZy4gIFRha2UgYSBsb29rIGF0IEdvb2dsZQogKiAgICAgIENsb3N1cmUgbGlicmFyeSdzIFtnb29nLnN0cmluZy5yZWdFeHBFc2NhcGUocyldKAogKiAgICAgIGh0dHA6Ly9kb2NzLmNsb3N1cmUtbGlicmFyeS5nb29nbGVjb2RlLmNvbS9naXQvY2xvc3VyZV9nb29nX3N0cmluZ19zdHJpbmcuanMuc291cmNlLmh0bWwjbGluZTk2MikuCiAqCiAqIFJlZmVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciAkc2NlRGVsZWdhdGVQcm92aWRlcn0gZm9yIGFuIGV4YW1wbGUuCiAqCiAqICMjIFNob3cgbWUgYW4gZXhhbXBsZSB1c2luZyBTQ0UuCiAqCiAqIEBleGFtcGxlCjxleGFtcGxlIG1vZHVsZT0ibXlTY2VBcHAiIGRlcHM9ImFuZ3VsYXItc2FuaXRpemUuanMiPgo8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICA8ZGl2IG5nLWNvbnRyb2xsZXI9Im15QXBwQ29udHJvbGxlciBhcyBteUN0cmwiPgogICAgPGkgbmctYmluZC1odG1sPSJteUN0cmwuZXhwbGljaXRseVRydXN0ZWRIdG1sIiBpZD0iZXhwbGljaXRseVRydXN0ZWRIdG1sIj48L2k+PGJyPjxicj4KICAgIDxiPlVzZXIgY29tbWVudHM8L2I+PGJyPgogICAgQnkgZGVmYXVsdCwgSFRNTCB0aGF0IGlzbid0IGV4cGxpY2l0bHkgdHJ1c3RlZCAoZS5nLiBBbGljZSdzIGNvbW1lbnQpIGlzIHNhbml0aXplZCB3aGVuCiAgICAkc2FuaXRpemUgaXMgYXZhaWxhYmxlLiAgSWYgJHNhbml0aXplIGlzbid0IGF2YWlsYWJsZSwgdGhpcyByZXN1bHRzIGluIGFuIGVycm9yIGluc3RlYWQgb2YgYW4KICAgIGV4cGxvaXQuCiAgICA8ZGl2IGNsYXNzPSJ3ZWxsIj4KICAgICAgPGRpdiBuZy1yZXBlYXQ9InVzZXJDb21tZW50IGluIG15Q3RybC51c2VyQ29tbWVudHMiPgogICAgICAgIDxiPnt7dXNlckNvbW1lbnQubmFtZX19PC9iPjoKICAgICAgICA8c3BhbiBuZy1iaW5kLWh0bWw9InVzZXJDb21tZW50Lmh0bWxDb21tZW50IiBjbGFzcz0iaHRtbENvbW1lbnQiPjwvc3Bhbj4KICAgICAgICA8YnI+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgPC9kaXY+CjwvZmlsZT4KCjxmaWxlIG5hbWU9InNjcmlwdC5qcyI+CiAgdmFyIG15U2NlQXBwID0gYW5ndWxhci5tb2R1bGUoJ215U2NlQXBwJywgWyduZ1Nhbml0aXplJ10pOwoKICBteVNjZUFwcC5jb250cm9sbGVyKCJteUFwcENvbnRyb2xsZXIiLCBmdW5jdGlvbiBteUFwcENvbnRyb2xsZXIoJGh0dHAsICR0ZW1wbGF0ZUNhY2hlLCAkc2NlKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAkaHR0cC5nZXQoInRlc3RfZGF0YS5qc29uIiwge2NhY2hlOiAkdGVtcGxhdGVDYWNoZX0pLnN1Y2Nlc3MoZnVuY3Rpb24odXNlckNvbW1lbnRzKSB7CiAgICAgIHNlbGYudXNlckNvbW1lbnRzID0gdXNlckNvbW1lbnRzOwogICAgfSk7CiAgICBzZWxmLmV4cGxpY2l0bHlUcnVzdGVkSHRtbCA9ICRzY2UudHJ1c3RBc0h0bWwoCiAgICAgICAgJzxzcGFuIG9ubW91c2VvdmVyPSJ0aGlzLnRleHRDb250ZW50PSZxdW90O0V4cGxpY2l0bHkgdHJ1c3RlZCBIVE1MIGJ5cGFzc2VzICcgKwogICAgICAgICdzYW5pdGl6YXRpb24uJnF1b3Q7Ij5Ib3ZlciBvdmVyIHRoaXMgdGV4dC48L3NwYW4+Jyk7CiAgfSk7CjwvZmlsZT4KCjxmaWxlIG5hbWU9InRlc3RfZGF0YS5qc29uIj4KWwogIHsgIm5hbWUiOiAiQWxpY2UiLAogICAgImh0bWxDb21tZW50IjoKICAgICAgICAiPHNwYW4gb25tb3VzZW92ZXI9J3RoaXMudGV4dENvbnRlbnQ9XCJQV04zRCFcIic+SXMgPGk+YW55b25lPC9pPiByZWFkaW5nIHRoaXM/PC9zcGFuPiIKICB9LAogIHsgIm5hbWUiOiAiQm9iIiwKICAgICJodG1sQ29tbWVudCI6ICI8aT5ZZXMhPC9pPiAgQW0gSSB0aGUgb25seSBvdGhlciBvbmU/IgogIH0KXQo8L2ZpbGU+Cgo8ZmlsZSBuYW1lPSJwcm90cmFjdG9yLmpzIiB0eXBlPSJwcm90cmFjdG9yIj4KICBkZXNjcmliZSgnU0NFIGRvYyBkZW1vJywgZnVuY3Rpb24oKSB7CiAgICBpdCgnc2hvdWxkIHNhbml0aXplIHVudHJ1c3RlZCB2YWx1ZXMnLCBmdW5jdGlvbigpIHsKICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcuaHRtbENvbW1lbnQnKSkuZ2V0SW5uZXJIdG1sKCkpCiAgICAgICAgICAudG9CZSgnPHNwYW4+SXMgPGk+YW55b25lPC9pPiByZWFkaW5nIHRoaXM/PC9zcGFuPicpOwogICAgfSk7CgogICAgaXQoJ3Nob3VsZCBOT1Qgc2FuaXRpemUgZXhwbGljaXRseSB0cnVzdGVkIHZhbHVlcycsIGZ1bmN0aW9uKCkgewogICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZXhwbGljaXRseVRydXN0ZWRIdG1sJykpLmdldElubmVySHRtbCgpKS50b0JlKAogICAgICAgICAgJzxzcGFuIG9ubW91c2VvdmVyPSJ0aGlzLnRleHRDb250ZW50PSZxdW90O0V4cGxpY2l0bHkgdHJ1c3RlZCBIVE1MIGJ5cGFzc2VzICcgKwogICAgICAgICAgJ3Nhbml0aXphdGlvbi4mcXVvdDsiPkhvdmVyIG92ZXIgdGhpcyB0ZXh0Ljwvc3Bhbj4nKTsKICAgIH0pOwogIH0pOwo8L2ZpbGU+CjwvZXhhbXBsZT4KICoKICoKICoKICogIyMgQ2FuIEkgZGlzYWJsZSBTQ0UgY29tcGxldGVseT8KICoKICogWWVzLCB5b3UgY2FuLiAgSG93ZXZlciwgdGhpcyBpcyBzdHJvbmdseSBkaXNjb3VyYWdlZC4gIFNDRSBnaXZlcyB5b3UgYSBsb3Qgb2Ygc2VjdXJpdHkgYmVuZWZpdHMKICogZm9yIGxpdHRsZSBjb2Rpbmcgb3ZlcmhlYWQuICBJdCB3aWxsIGJlIG11Y2ggaGFyZGVyIHRvIHRha2UgYW4gU0NFIGRpc2FibGVkIGFwcGxpY2F0aW9uIGFuZAogKiBlaXRoZXIgc2VjdXJlIGl0IG9uIHlvdXIgb3duIG9yIGVuYWJsZSBTQ0UgYXQgYSBsYXRlciBzdGFnZS4gIEl0IG1pZ2h0IG1ha2Ugc2Vuc2UgdG8gZGlzYWJsZSBTQ0UKICogZm9yIGNhc2VzIHdoZXJlIHlvdSBoYXZlIGEgbG90IG9mIGV4aXN0aW5nIGNvZGUgdGhhdCB3YXMgd3JpdHRlbiBiZWZvcmUgU0NFIHdhcyBpbnRyb2R1Y2VkIGFuZAogKiB5b3UncmUgbWlncmF0aW5nIHRoZW0gYSBtb2R1bGUgYXQgYSB0aW1lLgogKgogKiBUaGF0IHNhaWQsIGhlcmUncyBob3cgeW91IGNhbiBjb21wbGV0ZWx5IGRpc2FibGUgU0NFOgogKgogKiA8cHJlIGNsYXNzPSJwcmV0dHlwcmludCI+CiAqICAgYW5ndWxhci5tb2R1bGUoJ215QXBwV2l0aFNjZURpc2FibGVkbXlBcHAnLCBbXSkuY29uZmlnKGZ1bmN0aW9uKCRzY2VQcm92aWRlcikgewogKiAgICAgLy8gQ29tcGxldGVseSBkaXNhYmxlIFNDRS4gIEZvciBkZW1vbnN0cmF0aW9uIHB1cnBvc2VzIG9ubHkhCiAqICAgICAvLyBEbyBub3QgdXNlIGluIG5ldyBwcm9qZWN0cy4KICogICAgICRzY2VQcm92aWRlci5lbmFibGVkKGZhbHNlKTsKICogICB9KTsKICogPC9wcmU+CiAqCiAqLwovKiBqc2hpbnQgbWF4bGVuOiAxMDAgKi8KCmZ1bmN0aW9uICRTY2VQcm92aWRlcigpIHsKICB2YXIgZW5hYmxlZCA9IHRydWU7CgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSAkc2NlUHJvdmlkZXIjZW5hYmxlZAogICAqIEBraW5kIGZ1bmN0aW9uCiAgICoKICAgKiBAcGFyYW0ge2Jvb2xlYW49fSB2YWx1ZSBJZiBwcm92aWRlZCwgdGhlbiBlbmFibGVzL2Rpc2FibGVzIFNDRS4KICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIFNDRSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuCiAgICoKICAgKiBAZGVzY3JpcHRpb24KICAgKiBFbmFibGVzL2Rpc2FibGVzIFNDRSBhbmQgcmV0dXJucyB0aGUgY3VycmVudCB2YWx1ZS4KICAgKi8KICB0aGlzLmVuYWJsZWQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7CiAgICAgIGVuYWJsZWQgPSAhIXZhbHVlOwogICAgfQogICAgcmV0dXJuIGVuYWJsZWQ7CiAgfTsKCgogIC8qIERlc2lnbiBub3RlcyBvbiB0aGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBmb3IgU0NFLgogICAqCiAgICogVGhlIEFQSSBjb250cmFjdCBmb3IgdGhlIFNDRSBkZWxlZ2F0ZQogICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgKiBUaGUgU0NFIGRlbGVnYXRlIG9iamVjdCBtdXN0IHByb3ZpZGUgdGhlIGZvbGxvd2luZyAzIG1ldGhvZHM6CiAgICoKICAgKiAtIHRydXN0QXMoY29udGV4dEVudW0sIHZhbHVlKQogICAqICAgICBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIHRlbGwgdGhlIFNDRSBzZXJ2aWNlIHRoYXQgdGhlIHByb3ZpZGVkIHZhbHVlIGlzIE9LIHRvIHVzZSBpbiB0aGUKICAgKiAgICAgY29udGV4dHMgc3BlY2lmaWVkIGJ5IGNvbnRleHRFbnVtLiAgSXQgbXVzdCByZXR1cm4gYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBhY2NlcHRlZCBieQogICAqICAgICBnZXRUcnVzdGVkKCkgZm9yIGEgY29tcGF0aWJsZSBjb250ZXh0RW51bSBhbmQgcmV0dXJuIHRoaXMgdmFsdWUuCiAgICoKICAgKiAtIHZhbHVlT2YodmFsdWUpCiAgICogICAgIEZvciB2YWx1ZXMgdGhhdCB3ZXJlIG5vdCBwcm9kdWNlZCBieSB0cnVzdEFzKCksIHJldHVybiB0aGVtIGFzIGlzLiAgRm9yIHZhbHVlcyB0aGF0IHdlcmUKICAgKiAgICAgcHJvZHVjZWQgYnkgdHJ1c3RBcygpLCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcgaW5wdXQgdmFsdWUgdG8gdHJ1c3RBcy4gIEJhc2ljYWxseSwgaWYKICAgKiAgICAgdHJ1c3RBcyBpcyB3cmFwcGluZyB0aGUgZ2l2ZW4gdmFsdWVzIGludG8gc29tZSB0eXBlLCB0aGlzIG9wZXJhdGlvbiB1bndyYXBzIGl0IHdoZW4gZ2l2ZW4KICAgKiAgICAgc3VjaCBhIHZhbHVlLgogICAqCiAgICogLSBnZXRUcnVzdGVkKGNvbnRleHRFbnVtLCB2YWx1ZSkKICAgKiAgICAgVGhpcyBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIHRoZSBhIHZhbHVlIHRoYXQgaXMgc2FmZSB0byB1c2UgaW4gdGhlIGNvbnRleHQgc3BlY2lmaWVkIGJ5CiAgICogICAgIGNvbnRleHRFbnVtIG9yIHRocm93IGFuZCBleGNlcHRpb24gb3RoZXJ3aXNlLgogICAqCiAgICogTk9URTogVGhpcyBjb250cmFjdCBkZWxpYmVyYXRlbHkgZG9lcyBOT1Qgc3RhdGUgdGhhdCB2YWx1ZXMgcmV0dXJuZWQgYnkgdHJ1c3RBcygpIG11c3QgYmUKICAgKiBvcGFxdWUgb3Igd3JhcHBlZCBpbiBzb21lIGhvbGRlciBvYmplY3QuICBUaGF0IGhhcHBlbnMgdG8gYmUgYW4gaW1wbGVtZW50YXRpb24gZGV0YWlsLiAgRm9yCiAgICogaW5zdGFuY2UsIGFuIGltcGxlbWVudGF0aW9uIGNvdWxkIG1haW50YWluIGEgcmVnaXN0cnkgb2YgYWxsIHRydXN0ZWQgb2JqZWN0cyBieSBjb250ZXh0LiAgSW4KICAgKiBzdWNoIGEgY2FzZSwgdHJ1c3RBcygpIHdvdWxkIHJldHVybiB0aGUgc2FtZSBvYmplY3QgdGhhdCB3YXMgcGFzc2VkIGluLiAgZ2V0VHJ1c3RlZCgpIHdvdWxkCiAgICogcmV0dXJuIHRoZSBzYW1lIG9iamVjdCBwYXNzZWQgaW4gaWYgaXQgd2FzIGZvdW5kIGluIHRoZSByZWdpc3RyeSB1bmRlciBhIGNvbXBhdGlibGUgY29udGV4dCBvcgogICAqIHRocm93IGFuIGV4Y2VwdGlvbiBvdGhlcndpc2UuICBBbiBpbXBsZW1lbnRhdGlvbiBtaWdodCBvbmx5IHdyYXAgdmFsdWVzIHNvbWUgb2YgdGhlIHRpbWUgYmFzZWQKICAgKiBvbiBzb21lIGNyaXRlcmlhLiAgZ2V0VHJ1c3RlZCgpIG1pZ2h0IHJldHVybiBhIHZhbHVlIGFuZCBub3QgdGhyb3cgYW4gZXhjZXB0aW9uIGZvciBzcGVjaWFsCiAgICogY29uc3RhbnRzIG9yIG9iamVjdHMgZXZlbiBpZiBub3Qgd3JhcHBlZC4gIEFsbCBzdWNoIGltcGxlbWVudGF0aW9ucyBmdWxmaWxsIHRoaXMgY29udHJhY3QuCiAgICoKICAgKgogICAqIEEgbm90ZSBvbiB0aGUgaW5oZXJpdGFuY2UgbW9kZWwgZm9yIFNDRSBjb250ZXh0cwogICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAqIEkndmUgdXNlZCBpbmhlcml0YW5jZSBhbmQgbWFkZSBSRVNPVVJDRV9VUkwgd3JhcHBlZCB0eXBlcyBhIHN1YnR5cGUgb2YgVVJMIHdyYXBwZWQgdHlwZXMuICBUaGlzCiAgICogaXMgcHVyZWx5IGFuIGltcGxlbWVudGF0aW9uIGRldGFpbHMuCiAgICoKICAgKiBUaGUgY29udHJhY3QgaXMgc2ltcGx5IHRoaXM6CiAgICoKICAgKiAgICAgZ2V0VHJ1c3RlZCgkc2NlLlJFU09VUkNFX1VSTCwgdmFsdWUpIHN1Y2NlZWRpbmcgaW1wbGllcyB0aGF0IGdldFRydXN0ZWQoJHNjZS5VUkwsIHZhbHVlKQogICAqICAgICB3aWxsIGFsc28gc3VjY2VlZC4KICAgKgogICAqIEluaGVyaXRhbmNlIGhhcHBlbnMgdG8gY2FwdHVyZSB0aGlzIGluIGEgbmF0dXJhbCB3YXkuICBJbiBzb21lIGZ1dHVyZSwgd2UKICAgKiBtYXkgbm90IHVzZSBpbmhlcml0YW5jZSBhbnltb3JlLiAgVGhhdCBpcyBPSyBiZWNhdXNlIG5vIGNvZGUgb3V0c2lkZSBvZgogICAqIHNjZS5qcyBhbmQgc2NlU3BlY3MuanMgd291bGQgbmVlZCB0byBiZSBhd2FyZSBvZiB0aGlzIGRldGFpbC4KICAgKi8KCiAgdGhpcy4kZ2V0ID0gWyckcGFyc2UnLCAnJHNuaWZmZXInLCAnJHNjZURlbGVnYXRlJywgZnVuY3Rpb24oCiAgICAgICAgICAgICAgICAkcGFyc2UsICAgJHNuaWZmZXIsICAgJHNjZURlbGVnYXRlKSB7CiAgICAvLyBQcmVyZXE6IEVuc3VyZSB0aGF0IHdlJ3JlIG5vdCBydW5uaW5nIGluIElFOCBxdWlya3MgbW9kZS4gIEluIHRoYXQgbW9kZSwgSUUgYWxsb3dzCiAgICAvLyB0aGUgImV4cHJlc3Npb24oamF2YXNjcmlwdCBleHByZXNzaW9uKSIgc3ludGF4IHdoaWNoIGlzIGluc2VjdXJlLgogICAgaWYgKGVuYWJsZWQgJiYgJHNuaWZmZXIubXNpZSAmJiAkc25pZmZlci5tc2llRG9jdW1lbnRNb2RlIDwgOCkgewogICAgICB0aHJvdyAkc2NlTWluRXJyKCdpZXF1aXJrcycsCiAgICAgICAgJ1N0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIGRvZXMgbm90IHN1cHBvcnQgSW50ZXJuZXQgRXhwbG9yZXIgdmVyc2lvbiA8IDkgaW4gcXVpcmtzICcgKwogICAgICAgICdtb2RlLiAgWW91IGNhbiBmaXggdGhpcyBieSBhZGRpbmcgdGhlIHRleHQgPCFkb2N0eXBlIGh0bWw+IHRvIHRoZSB0b3Agb2YgeW91ciBIVE1MICcgKwogICAgICAgICdkb2N1bWVudC4gIFNlZSBodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZy4kc2NlIGZvciBtb3JlIGluZm9ybWF0aW9uLicpOwogICAgfQoKICAgIHZhciBzY2UgPSBzaGFsbG93Q29weShTQ0VfQ09OVEVYVFMpOwoKICAgIC8qKgogICAgICogQG5nZG9jIG1ldGhvZAogICAgICogQG5hbWUgJHNjZSNpc0VuYWJsZWQKICAgICAqIEBraW5kIGZ1bmN0aW9uCiAgICAgKgogICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBTQ0UgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLiAgSWYgeW91IHdhbnQgdG8gc2V0IHRoZSB2YWx1ZSwgeW91CiAgICAgKiBoYXZlIHRvIGRvIGl0IGF0IG1vZHVsZSBjb25maWcgdGltZSBvbiB7QGxpbmsgbmcuJHNjZVByb3ZpZGVyICRzY2VQcm92aWRlcn0uCiAgICAgKgogICAgICogQGRlc2NyaXB0aW9uCiAgICAgKiBSZXR1cm5zIGEgYm9vbGVhbiBpbmRpY2F0aW5nIGlmIFNDRSBpcyBlbmFibGVkLgogICAgICovCiAgICBzY2UuaXNFbmFibGVkID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gZW5hYmxlZDsKICAgIH07CiAgICBzY2UudHJ1c3RBcyA9ICRzY2VEZWxlZ2F0ZS50cnVzdEFzOwogICAgc2NlLmdldFRydXN0ZWQgPSAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZDsKICAgIHNjZS52YWx1ZU9mID0gJHNjZURlbGVnYXRlLnZhbHVlT2Y7CgogICAgaWYgKCFlbmFibGVkKSB7CiAgICAgIHNjZS50cnVzdEFzID0gc2NlLmdldFRydXN0ZWQgPSBmdW5jdGlvbih0eXBlLCB2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07CiAgICAgIHNjZS52YWx1ZU9mID0gaWRlbnRpdHk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXMKICAgICAqCiAgICAgKiBAZGVzY3JpcHRpb24KICAgICAqIENvbnZlcnRzIEFuZ3VsYXIge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaW50byBhIGZ1bmN0aW9uLiAgVGhpcyBpcyBsaWtlIHtAbGluawogICAgICogbmcuJHBhcnNlICRwYXJzZX0gYW5kIGlzIGlkZW50aWNhbCB3aGVuIHRoZSBleHByZXNzaW9uIGlzIGEgbGl0ZXJhbCBjb25zdGFudC4gIE90aGVyd2lzZSwgaXQKICAgICAqIHdyYXBzIHRoZSBleHByZXNzaW9uIGluIGEgY2FsbCB0byB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkICRzY2UuZ2V0VHJ1c3RlZCgqdHlwZSosCiAgICAgKiAqcmVzdWx0Kil9CiAgICAgKgogICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGtpbmQgb2YgU0NFIGNvbnRleHQgaW4gd2hpY2ggdGhpcyByZXN1bHQgd2lsbCBiZSB1c2VkLgogICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS4KICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246CiAgICAgKgogICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5ncwogICAgICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuCiAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluCiAgICAgKiAgICAgIGBjb250ZXh0YC4KICAgICAqLwogICAgc2NlLnBhcnNlQXMgPSBmdW5jdGlvbiBzY2VQYXJzZUFzKHR5cGUsIGV4cHIpIHsKICAgICAgdmFyIHBhcnNlZCA9ICRwYXJzZShleHByKTsKICAgICAgaWYgKHBhcnNlZC5saXRlcmFsICYmIHBhcnNlZC5jb25zdGFudCkgewogICAgICAgIHJldHVybiBwYXJzZWQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNjZVBhcnNlQXNUcnVzdGVkKHNlbGYsIGxvY2FscykgewogICAgICAgICAgcmV0dXJuIHNjZS5nZXRUcnVzdGVkKHR5cGUsIHBhcnNlZChzZWxmLCBsb2NhbHMpKTsKICAgICAgICB9OwogICAgICB9CiAgICB9OwoKICAgIC8qKgogICAgICogQG5nZG9jIG1ldGhvZAogICAgICogQG5hbWUgJHNjZSN0cnVzdEFzCiAgICAgKgogICAgICogQGRlc2NyaXB0aW9uCiAgICAgKiBEZWxlZ2F0ZXMgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9LiAgQXMgc3VjaCwKICAgICAqIHJldHVybnMgYW4gb2JqZWN0IHRoYXQgaXMgdHJ1c3RlZCBieSBhbmd1bGFyIGZvciB1c2UgaW4gc3BlY2lmaWVkIHN0cmljdCBjb250ZXh0dWFsCiAgICAgKiBlc2NhcGluZyBjb250ZXh0cyAoc3VjaCBhcyBuZy1iaW5kLWh0bWwsIG5nLWluY2x1ZGUsIGFueSBzcmMgYXR0cmlidXRlCiAgICAgKiBpbnRlcnBvbGF0aW9uLCBhbnkgZG9tIGV2ZW50IGJpbmRpbmcgYXR0cmlidXRlIGludGVycG9sYXRpb24gc3VjaCBhcyBmb3Igb25jbGljaywgIGV0Yy4pCiAgICAgKiB0aGF0IHVzZXMgdGhlIHByb3ZpZGVkIHZhbHVlLiAgU2VlICoge0BsaW5rIG5nLiRzY2UgJHNjZX0gZm9yIGVuYWJsaW5nIHN0cmljdCBjb250ZXh0dWFsCiAgICAgKiBlc2NhcGluZy4KICAgICAqCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUga2luZCBvZiBjb250ZXh0IGluIHdoaWNoIHRoaXMgdmFsdWUgaXMgc2FmZSBmb3IgdXNlLiAgZS5nLiB1cmwsCiAgICAgKiAgIHJlc291cmNlX3VybCwgaHRtbCwganMgYW5kIGNzcy4KICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRoYXQgdGhhdCBzaG91bGQgYmUgY29uc2lkZXJlZCB0cnVzdGVkL3NhZmUuCiAgICAgKiBAcmV0dXJucyB7Kn0gQSB2YWx1ZSB0aGF0IGNhbiBiZSB1c2VkIHRvIHN0YW5kIGluIGZvciB0aGUgcHJvdmlkZWQgYHZhbHVlYCBpbiBwbGFjZXMKICAgICAqIHdoZXJlIEFuZ3VsYXIgZXhwZWN0cyBhICRzY2UudHJ1c3RBcygpIHJldHVybiB2YWx1ZS4KICAgICAqLwoKICAgIC8qKgogICAgICogQG5nZG9jIG1ldGhvZAogICAgICogQG5hbWUgJHNjZSN0cnVzdEFzSHRtbAogICAgICoKICAgICAqIEBkZXNjcmlwdGlvbgogICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnRydXN0QXNIdG1sKHZhbHVlKWAg4oaSCiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBcygkc2NlLkhUTUwsIHZhbHVlKWB9CiAgICAgKgogICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gdHJ1c3RBcy4KICAgICAqIEByZXR1cm5zIHsqfSBBbiBvYmplY3QgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWRIdG1sCiAgICAgKiAgICAgJHNjZS5nZXRUcnVzdGVkSHRtbCh2YWx1ZSl9IHRvIG9idGFpbiB0aGUgb3JpZ2luYWwgdmFsdWUuICAocHJpdmlsZWdlZCBkaXJlY3RpdmVzCiAgICAgKiAgICAgb25seSBhY2NlcHQgZXhwcmVzc2lvbnMgdGhhdCBhcmUgZWl0aGVyIGxpdGVyYWwgY29uc3RhbnRzIG9yIGFyZSB0aGUKICAgICAqICAgICByZXR1cm4gdmFsdWUgb2Yge0BsaW5rIG5nLiRzY2UjdHJ1c3RBcyAkc2NlLnRydXN0QXN9LikKICAgICAqLwoKICAgIC8qKgogICAgICogQG5nZG9jIG1ldGhvZAogICAgICogQG5hbWUgJHNjZSN0cnVzdEFzVXJsCiAgICAgKgogICAgICogQGRlc2NyaXB0aW9uCiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UudHJ1c3RBc1VybCh2YWx1ZSlgIOKGkgogICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXMoJHNjZS5VUkwsIHZhbHVlKWB9CiAgICAgKgogICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gdHJ1c3RBcy4KICAgICAqIEByZXR1cm5zIHsqfSBBbiBvYmplY3QgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWRVcmwKICAgICAqICAgICAkc2NlLmdldFRydXN0ZWRVcmwodmFsdWUpfSB0byBvYnRhaW4gdGhlIG9yaWdpbmFsIHZhbHVlLiAgKHByaXZpbGVnZWQgZGlyZWN0aXZlcwogICAgICogICAgIG9ubHkgYWNjZXB0IGV4cHJlc3Npb25zIHRoYXQgYXJlIGVpdGhlciBsaXRlcmFsIGNvbnN0YW50cyBvciBhcmUgdGhlCiAgICAgKiAgICAgcmV0dXJuIHZhbHVlIG9mIHtAbGluayBuZy4kc2NlI3RydXN0QXMgJHNjZS50cnVzdEFzfS4pCiAgICAgKi8KCiAgICAvKioKICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAqIEBuYW1lICRzY2UjdHJ1c3RBc1Jlc291cmNlVXJsCiAgICAgKgogICAgICogQGRlc2NyaXB0aW9uCiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKHZhbHVlKWAg4oaSCiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBcygkc2NlLlJFU09VUkNFX1VSTCwgdmFsdWUpYH0KICAgICAqCiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB0cnVzdEFzLgogICAgICogQHJldHVybnMgeyp9IEFuIG9iamVjdCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8ge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZFJlc291cmNlVXJsCiAgICAgKiAgICAgJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmwodmFsdWUpfSB0byBvYnRhaW4gdGhlIG9yaWdpbmFsIHZhbHVlLiAgKHByaXZpbGVnZWQgZGlyZWN0aXZlcwogICAgICogICAgIG9ubHkgYWNjZXB0IGV4cHJlc3Npb25zIHRoYXQgYXJlIGVpdGhlciBsaXRlcmFsIGNvbnN0YW50cyBvciBhcmUgdGhlIHJldHVybgogICAgICogICAgIHZhbHVlIG9mIHtAbGluayBuZy4kc2NlI3RydXN0QXMgJHNjZS50cnVzdEFzfS4pCiAgICAgKi8KCiAgICAvKioKICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAqIEBuYW1lICRzY2UjdHJ1c3RBc0pzCiAgICAgKgogICAgICogQGRlc2NyaXB0aW9uCiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UudHJ1c3RBc0pzKHZhbHVlKWAg4oaSCiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBcygkc2NlLkpTLCB2YWx1ZSlgfQogICAgICoKICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHRydXN0QXMuCiAgICAgKiBAcmV0dXJucyB7Kn0gQW4gb2JqZWN0IHRoYXQgY2FuIGJlIHBhc3NlZCB0byB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkSnMKICAgICAqICAgICAkc2NlLmdldFRydXN0ZWRKcyh2YWx1ZSl9IHRvIG9idGFpbiB0aGUgb3JpZ2luYWwgdmFsdWUuICAocHJpdmlsZWdlZCBkaXJlY3RpdmVzCiAgICAgKiAgICAgb25seSBhY2NlcHQgZXhwcmVzc2lvbnMgdGhhdCBhcmUgZWl0aGVyIGxpdGVyYWwgY29uc3RhbnRzIG9yIGFyZSB0aGUKICAgICAqICAgICByZXR1cm4gdmFsdWUgb2Yge0BsaW5rIG5nLiRzY2UjdHJ1c3RBcyAkc2NlLnRydXN0QXN9LikKICAgICAqLwoKICAgIC8qKgogICAgICogQG5nZG9jIG1ldGhvZAogICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkCiAgICAgKgogICAgICogQGRlc2NyaXB0aW9uCiAgICAgKiBEZWxlZ2F0ZXMgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZGB9LiAgQXMgc3VjaCwKICAgICAqIHRha2VzIHRoZSByZXN1bHQgb2YgYSB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzIGAkc2NlLnRydXN0QXNgfSgpIGNhbGwgYW5kIHJldHVybnMgdGhlCiAgICAgKiBvcmlnaW5hbGx5IHN1cHBsaWVkIHZhbHVlIGlmIHRoZSBxdWVyaWVkIGNvbnRleHQgdHlwZSBpcyBhIHN1cGVydHlwZSBvZiB0aGUgY3JlYXRlZCB0eXBlLgogICAgICogSWYgdGhpcyBjb25kaXRpb24gaXNuJ3Qgc2F0aXNmaWVkLCB0aHJvd3MgYW4gZXhjZXB0aW9uLgogICAgICoKICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBraW5kIG9mIGNvbnRleHQgaW4gd2hpY2ggdGhpcyB2YWx1ZSBpcyB0byBiZSB1c2VkLgogICAgICogQHBhcmFtIHsqfSBtYXliZVRydXN0ZWQgVGhlIHJlc3VsdCBvZiBhIHByaW9yIHtAbGluayBuZy4kc2NlI3RydXN0QXMgYCRzY2UudHJ1c3RBc2B9CiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsLgogICAgICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGUgd2FzIG9yaWdpbmFsbHkgcHJvdmlkZWQgdG8KICAgICAqICAgICAgICAgICAgICB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzIGAkc2NlLnRydXN0QXNgfSBpZiB2YWxpZCBpbiB0aGlzIGNvbnRleHQuCiAgICAgKiAgICAgICAgICAgICAgT3RoZXJ3aXNlLCB0aHJvd3MgYW4gZXhjZXB0aW9uLgogICAgICovCgogICAgLyoqCiAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgKiBAbmFtZSAkc2NlI2dldFRydXN0ZWRIdG1sCiAgICAgKgogICAgICogQGRlc2NyaXB0aW9uCiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UuZ2V0VHJ1c3RlZEh0bWwodmFsdWUpYCDihpIKICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI2dldFRydXN0ZWQgYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkKCRzY2UuSFRNTCwgdmFsdWUpYH0KICAgICAqCiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwYXNzIHRvIGAkc2NlLmdldFRydXN0ZWRgLgogICAgICogQHJldHVybnMgeyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLkhUTUwsIHZhbHVlKWAKICAgICAqLwoKICAgIC8qKgogICAgICogQG5nZG9jIG1ldGhvZAogICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkQ3NzCiAgICAgKgogICAgICogQGRlc2NyaXB0aW9uCiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UuZ2V0VHJ1c3RlZENzcyh2YWx1ZSlgIOKGkgogICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWQoJHNjZS5DU1MsIHZhbHVlKWB9CiAgICAgKgogICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFzcyB0byBgJHNjZS5nZXRUcnVzdGVkYC4KICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGAkc2NlLmdldFRydXN0ZWQoJHNjZS5DU1MsIHZhbHVlKWAKICAgICAqLwoKICAgIC8qKgogICAgICogQG5nZG9jIG1ldGhvZAogICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkVXJsCiAgICAgKgogICAgICogQGRlc2NyaXB0aW9uCiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UuZ2V0VHJ1c3RlZFVybCh2YWx1ZSlgIOKGkgogICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWQoJHNjZS5VUkwsIHZhbHVlKWB9CiAgICAgKgogICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFzcyB0byBgJHNjZS5nZXRUcnVzdGVkYC4KICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGAkc2NlLmdldFRydXN0ZWQoJHNjZS5VUkwsIHZhbHVlKWAKICAgICAqLwoKICAgIC8qKgogICAgICogQG5nZG9jIG1ldGhvZAogICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmwKICAgICAqCiAgICAgKiBAZGVzY3JpcHRpb24KICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmwodmFsdWUpYCDihpIKICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI2dldFRydXN0ZWQgYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkKCRzY2UuUkVTT1VSQ0VfVVJMLCB2YWx1ZSlgfQogICAgICoKICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBhc3MgdG8gYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkYC4KICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGAkc2NlLmdldFRydXN0ZWQoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKWAKICAgICAqLwoKICAgIC8qKgogICAgICogQG5nZG9jIG1ldGhvZAogICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkSnMKICAgICAqCiAgICAgKiBAZGVzY3JpcHRpb24KICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5nZXRUcnVzdGVkSnModmFsdWUpYCDihpIKICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI2dldFRydXN0ZWQgYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkKCRzY2UuSlMsIHZhbHVlKWB9CiAgICAgKgogICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFzcyB0byBgJHNjZS5nZXRUcnVzdGVkYC4KICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGAkc2NlLmdldFRydXN0ZWQoJHNjZS5KUywgdmFsdWUpYAogICAgICovCgogICAgLyoqCiAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXNIdG1sCiAgICAgKgogICAgICogQGRlc2NyaXB0aW9uCiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UucGFyc2VBc0h0bWwoZXhwcmVzc2lvbiBzdHJpbmcpYCDihpIKICAgICAqICAgICB7QGxpbmsgbmcuJHNjZSNwYXJzZSBgJHNjZS5wYXJzZUFzKCRzY2UuSFRNTCwgdmFsdWUpYH0KICAgICAqCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLgogICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IGEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjoKICAgICAqCiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzCiAgICAgKiAgICAgIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS4KICAgICAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW4KICAgICAqICAgICAgYGNvbnRleHRgLgogICAgICovCgogICAgLyoqCiAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXNDc3MKICAgICAqCiAgICAgKiBAZGVzY3JpcHRpb24KICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5wYXJzZUFzQ3NzKHZhbHVlKWAg4oaSCiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2UjcGFyc2UgYCRzY2UucGFyc2VBcygkc2NlLkNTUywgdmFsdWUpYH0KICAgICAqCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLgogICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IGEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjoKICAgICAqCiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzCiAgICAgKiAgICAgIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS4KICAgICAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW4KICAgICAqICAgICAgYGNvbnRleHRgLgogICAgICovCgogICAgLyoqCiAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXNVcmwKICAgICAqCiAgICAgKiBAZGVzY3JpcHRpb24KICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5wYXJzZUFzVXJsKHZhbHVlKWAg4oaSCiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2UjcGFyc2UgYCRzY2UucGFyc2VBcygkc2NlLlVSTCwgdmFsdWUpYH0KICAgICAqCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLgogICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IGEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjoKICAgICAqCiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzCiAgICAgKiAgICAgIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS4KICAgICAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW4KICAgICAqICAgICAgYGNvbnRleHRgLgogICAgICovCgogICAgLyoqCiAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXNSZXNvdXJjZVVybAogICAgICoKICAgICAqIEBkZXNjcmlwdGlvbgogICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNSZXNvdXJjZVVybCh2YWx1ZSlgIOKGkgogICAgICogICAgIHtAbGluayBuZy4kc2NlI3BhcnNlIGAkc2NlLnBhcnNlQXMoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKWB9CiAgICAgKgogICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS4KICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246CiAgICAgKgogICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5ncwogICAgICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuCiAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluCiAgICAgKiAgICAgIGBjb250ZXh0YC4KICAgICAqLwoKICAgIC8qKgogICAgICogQG5nZG9jIG1ldGhvZAogICAgICogQG5hbWUgJHNjZSNwYXJzZUFzSnMKICAgICAqCiAgICAgKiBAZGVzY3JpcHRpb24KICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5wYXJzZUFzSnModmFsdWUpYCDihpIKICAgICAqICAgICB7QGxpbmsgbmcuJHNjZSNwYXJzZSBgJHNjZS5wYXJzZUFzKCRzY2UuSlMsIHZhbHVlKWB9CiAgICAgKgogICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS4KICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246CiAgICAgKgogICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5ncwogICAgICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuCiAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluCiAgICAgKiAgICAgIGBjb250ZXh0YC4KICAgICAqLwoKICAgIC8vIFNob3J0aGFuZCBkZWxlZ2F0aW9ucy4KICAgIHZhciBwYXJzZSA9IHNjZS5wYXJzZUFzLAogICAgICAgIGdldFRydXN0ZWQgPSBzY2UuZ2V0VHJ1c3RlZCwKICAgICAgICB0cnVzdEFzID0gc2NlLnRydXN0QXM7CgogICAgZm9yRWFjaChTQ0VfQ09OVEVYVFMsIGZ1bmN0aW9uIChlbnVtVmFsdWUsIG5hbWUpIHsKICAgICAgdmFyIGxOYW1lID0gbG93ZXJjYXNlKG5hbWUpOwogICAgICBzY2VbY2FtZWxDYXNlKCJwYXJzZV9hc18iICsgbE5hbWUpXSA9IGZ1bmN0aW9uIChleHByKSB7CiAgICAgICAgcmV0dXJuIHBhcnNlKGVudW1WYWx1ZSwgZXhwcik7CiAgICAgIH07CiAgICAgIHNjZVtjYW1lbENhc2UoImdldF90cnVzdGVkXyIgKyBsTmFtZSldID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIGdldFRydXN0ZWQoZW51bVZhbHVlLCB2YWx1ZSk7CiAgICAgIH07CiAgICAgIHNjZVtjYW1lbENhc2UoInRydXN0X2FzXyIgKyBsTmFtZSldID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIHRydXN0QXMoZW51bVZhbHVlLCB2YWx1ZSk7CiAgICAgIH07CiAgICB9KTsKCiAgICByZXR1cm4gc2NlOwogIH1dOwp9CgovKioKICogISEhIFRoaXMgaXMgYW4gdW5kb2N1bWVudGVkICJwcml2YXRlIiBzZXJ2aWNlICEhIQogKgogKiBAbmFtZSAkc25pZmZlcgogKiBAcmVxdWlyZXMgJHdpbmRvdwogKiBAcmVxdWlyZXMgJGRvY3VtZW50CiAqCiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaGlzdG9yeSBEb2VzIHRoZSBicm93c2VyIHN1cHBvcnQgaHRtbDUgaGlzdG9yeSBhcGkgPwogKiBAcHJvcGVydHkge2Jvb2xlYW59IGhhc2hjaGFuZ2UgRG9lcyB0aGUgYnJvd3NlciBzdXBwb3J0IGhhc2hjaGFuZ2UgZXZlbnQgPwogKiBAcHJvcGVydHkge2Jvb2xlYW59IHRyYW5zaXRpb25zIERvZXMgdGhlIGJyb3dzZXIgc3VwcG9ydCBDU1MgdHJhbnNpdGlvbiBldmVudHMgPwogKiBAcHJvcGVydHkge2Jvb2xlYW59IGFuaW1hdGlvbnMgRG9lcyB0aGUgYnJvd3NlciBzdXBwb3J0IENTUyBhbmltYXRpb24gZXZlbnRzID8KICoKICogQGRlc2NyaXB0aW9uCiAqIFRoaXMgaXMgdmVyeSBzaW1wbGUgaW1wbGVtZW50YXRpb24gb2YgdGVzdGluZyBicm93c2VyJ3MgZmVhdHVyZXMuCiAqLwpmdW5jdGlvbiAkU25pZmZlclByb3ZpZGVyKCkgewogIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckZG9jdW1lbnQnLCBmdW5jdGlvbigkd2luZG93LCAkZG9jdW1lbnQpIHsKICAgIHZhciBldmVudFN1cHBvcnQgPSB7fSwKICAgICAgICBhbmRyb2lkID0KICAgICAgICAgIGludCgoL2FuZHJvaWQgKFxkKykvLmV4ZWMobG93ZXJjYXNlKCgkd2luZG93Lm5hdmlnYXRvciB8fCB7fSkudXNlckFnZW50KSkgfHwgW10pWzFdKSwKICAgICAgICBib3hlZSA9IC9Cb3hlZS9pLnRlc3QoKCR3aW5kb3cubmF2aWdhdG9yIHx8IHt9KS51c2VyQWdlbnQpLAogICAgICAgIGRvY3VtZW50ID0gJGRvY3VtZW50WzBdIHx8IHt9LAogICAgICAgIGRvY3VtZW50TW9kZSA9IGRvY3VtZW50LmRvY3VtZW50TW9kZSwKICAgICAgICB2ZW5kb3JQcmVmaXgsCiAgICAgICAgdmVuZG9yUmVnZXggPSAvXihNb3p8d2Via2l0fE98bXMpKD89W0EtWl0pLywKICAgICAgICBib2R5U3R5bGUgPSBkb2N1bWVudC5ib2R5ICYmIGRvY3VtZW50LmJvZHkuc3R5bGUsCiAgICAgICAgdHJhbnNpdGlvbnMgPSBmYWxzZSwKICAgICAgICBhbmltYXRpb25zID0gZmFsc2UsCiAgICAgICAgbWF0Y2g7CgogICAgaWYgKGJvZHlTdHlsZSkgewogICAgICBmb3IodmFyIHByb3AgaW4gYm9keVN0eWxlKSB7CiAgICAgICAgaWYobWF0Y2ggPSB2ZW5kb3JSZWdleC5leGVjKHByb3ApKSB7CiAgICAgICAgICB2ZW5kb3JQcmVmaXggPSBtYXRjaFswXTsKICAgICAgICAgIHZlbmRvclByZWZpeCA9IHZlbmRvclByZWZpeC5zdWJzdHIoMCwgMSkudG9VcHBlckNhc2UoKSArIHZlbmRvclByZWZpeC5zdWJzdHIoMSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmKCF2ZW5kb3JQcmVmaXgpIHsKICAgICAgICB2ZW5kb3JQcmVmaXggPSAoJ1dlYmtpdE9wYWNpdHknIGluIGJvZHlTdHlsZSkgJiYgJ3dlYmtpdCc7CiAgICAgIH0KCiAgICAgIHRyYW5zaXRpb25zID0gISEoKCd0cmFuc2l0aW9uJyBpbiBib2R5U3R5bGUpIHx8ICh2ZW5kb3JQcmVmaXggKyAnVHJhbnNpdGlvbicgaW4gYm9keVN0eWxlKSk7CiAgICAgIGFuaW1hdGlvbnMgID0gISEoKCdhbmltYXRpb24nIGluIGJvZHlTdHlsZSkgfHwgKHZlbmRvclByZWZpeCArICdBbmltYXRpb24nIGluIGJvZHlTdHlsZSkpOwoKICAgICAgaWYgKGFuZHJvaWQgJiYgKCF0cmFuc2l0aW9uc3x8IWFuaW1hdGlvbnMpKSB7CiAgICAgICAgdHJhbnNpdGlvbnMgPSBpc1N0cmluZyhkb2N1bWVudC5ib2R5LnN0eWxlLndlYmtpdFRyYW5zaXRpb24pOwogICAgICAgIGFuaW1hdGlvbnMgPSBpc1N0cmluZyhkb2N1bWVudC5ib2R5LnN0eWxlLndlYmtpdEFuaW1hdGlvbik7CiAgICAgIH0KICAgIH0KCgogICAgcmV0dXJuIHsKICAgICAgLy8gQW5kcm9pZCBoYXMgaGlzdG9yeS5wdXNoU3RhdGUsIGJ1dCBpdCBkb2VzIG5vdCB1cGRhdGUgbG9jYXRpb24gY29ycmVjdGx5CiAgICAgIC8vIHNvIGxldCdzIG5vdCB1c2UgdGhlIGhpc3RvcnkgQVBJIGF0IGFsbC4KICAgICAgLy8gaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2FuZHJvaWQvaXNzdWVzL2RldGFpbD9pZD0xNzQ3MQogICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy85MDQKCiAgICAgIC8vIG9sZGVyIHdlYmtpdCBicm93c2VyICg1MzMuOSkgb24gQm94ZWUgYm94IGhhcyBleGFjdGx5IHRoZSBzYW1lIHByb2JsZW0gYXMgQW5kcm9pZCBoYXMKICAgICAgLy8gc28gbGV0J3Mgbm90IHVzZSB0aGUgaGlzdG9yeSBBUEkgYWxzbwogICAgICAvLyBXZSBhcmUgcHVycG9zZWZ1bGx5IHVzaW5nIGAhKGFuZHJvaWQgPCA0KWAgdG8gY292ZXIgdGhlIGNhc2Ugd2hlbiBgYW5kcm9pZGAgaXMgdW5kZWZpbmVkCiAgICAgIC8vIGpzaGludCAtVzAxOAogICAgICBoaXN0b3J5OiAhISgkd2luZG93Lmhpc3RvcnkgJiYgJHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSAmJiAhKGFuZHJvaWQgPCA0KSAmJiAhYm94ZWUpLAogICAgICAvLyBqc2hpbnQgK1cwMTgKICAgICAgaGFzaGNoYW5nZTogJ29uaGFzaGNoYW5nZScgaW4gJHdpbmRvdyAmJgogICAgICAgICAgICAgICAgICAvLyBJRTggY29tcGF0aWJsZSBtb2RlIGxpZXMKICAgICAgICAgICAgICAgICAgKCFkb2N1bWVudE1vZGUgfHwgZG9jdW1lbnRNb2RlID4gNyksCiAgICAgIGhhc0V2ZW50OiBmdW5jdGlvbihldmVudCkgewogICAgICAgIC8vIElFOSBpbXBsZW1lbnRzICdpbnB1dCcgZXZlbnQgaXQncyBzbyBmdWJhcmVkIHRoYXQgd2UgcmF0aGVyIHByZXRlbmQgdGhhdCBpdCBkb2Vzbid0IGhhdmUKICAgICAgICAvLyBpdC4gSW4gcGFydGljdWxhciB0aGUgZXZlbnQgaXMgbm90IGZpcmVkIHdoZW4gYmFja3NwYWNlIG9yIGRlbGV0ZSBrZXkgYXJlIHByZXNzZWQgb3IKICAgICAgICAvLyB3aGVuIGN1dCBvcGVyYXRpb24gaXMgcGVyZm9ybWVkLgogICAgICAgIGlmIChldmVudCA9PSAnaW5wdXQnICYmIG1zaWUgPT0gOSkgcmV0dXJuIGZhbHNlOwoKICAgICAgICBpZiAoaXNVbmRlZmluZWQoZXZlbnRTdXBwb3J0W2V2ZW50XSkpIHsKICAgICAgICAgIHZhciBkaXZFbG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgIGV2ZW50U3VwcG9ydFtldmVudF0gPSAnb24nICsgZXZlbnQgaW4gZGl2RWxtOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGV2ZW50U3VwcG9ydFtldmVudF07CiAgICAgIH0sCiAgICAgIGNzcDogY3NwKCksCiAgICAgIHZlbmRvclByZWZpeDogdmVuZG9yUHJlZml4LAogICAgICB0cmFuc2l0aW9ucyA6IHRyYW5zaXRpb25zLAogICAgICBhbmltYXRpb25zIDogYW5pbWF0aW9ucywKICAgICAgYW5kcm9pZDogYW5kcm9pZCwKICAgICAgbXNpZSA6IG1zaWUsCiAgICAgIG1zaWVEb2N1bWVudE1vZGU6IGRvY3VtZW50TW9kZQogICAgfTsKICB9XTsKfQoKZnVuY3Rpb24gJFRpbWVvdXRQcm92aWRlcigpIHsKICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGJyb3dzZXInLCAnJHEnLCAnJGV4Y2VwdGlvbkhhbmRsZXInLAogICAgICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgICAkYnJvd3NlciwgICAkcSwgICAkZXhjZXB0aW9uSGFuZGxlcikgewogICAgdmFyIGRlZmVycmVkcyA9IHt9OwoKCiAgICAgLyoqCiAgICAgICogQG5nZG9jIHNlcnZpY2UKICAgICAgKiBAbmFtZSAkdGltZW91dAogICAgICAqCiAgICAgICogQGRlc2NyaXB0aW9uCiAgICAgICogQW5ndWxhcidzIHdyYXBwZXIgZm9yIGB3aW5kb3cuc2V0VGltZW91dGAuIFRoZSBgZm5gIGZ1bmN0aW9uIGlzIHdyYXBwZWQgaW50byBhIHRyeS9jYXRjaAogICAgICAqIGJsb2NrIGFuZCBkZWxlZ2F0ZXMgYW55IGV4Y2VwdGlvbnMgdG8KICAgICAgKiB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuCiAgICAgICoKICAgICAgKiBUaGUgcmV0dXJuIHZhbHVlIG9mIHJlZ2lzdGVyaW5nIGEgdGltZW91dCBmdW5jdGlvbiBpcyBhIHByb21pc2UsIHdoaWNoIHdpbGwgYmUgcmVzb2x2ZWQgd2hlbgogICAgICAqIHRoZSB0aW1lb3V0IGlzIHJlYWNoZWQgYW5kIHRoZSB0aW1lb3V0IGZ1bmN0aW9uIGlzIGV4ZWN1dGVkLgogICAgICAqCiAgICAgICogVG8gY2FuY2VsIGEgdGltZW91dCByZXF1ZXN0LCBjYWxsIGAkdGltZW91dC5jYW5jZWwocHJvbWlzZSlgLgogICAgICAqCiAgICAgICogSW4gdGVzdHMgeW91IGNhbiB1c2Uge0BsaW5rIG5nTW9jay4kdGltZW91dCBgJHRpbWVvdXQuZmx1c2goKWB9IHRvCiAgICAgICogc3luY2hyb25vdXNseSBmbHVzaCB0aGUgcXVldWUgb2YgZGVmZXJyZWQgZnVuY3Rpb25zLgogICAgICAqCiAgICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBBIGZ1bmN0aW9uLCB3aG9zZSBleGVjdXRpb24gc2hvdWxkIGJlIGRlbGF5ZWQuCiAgICAgICogQHBhcmFtIHtudW1iZXI9fSBbZGVsYXk9MF0gRGVsYXkgaW4gbWlsbGlzZWNvbmRzLgogICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IFtpbnZva2VBcHBseT10cnVlXSBJZiBzZXQgdG8gYGZhbHNlYCBza2lwcyBtb2RlbCBkaXJ0eSBjaGVja2luZywgb3RoZXJ3aXNlCiAgICAgICogICB3aWxsIGludm9rZSBgZm5gIHdpdGhpbiB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGFwcGx5ICRhcHBseX0gYmxvY2suCiAgICAgICogQHJldHVybnMge1Byb21pc2V9IFByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdoZW4gdGhlIHRpbWVvdXQgaXMgcmVhY2hlZC4gVGhlIHZhbHVlIHRoaXMKICAgICAgKiAgIHByb21pc2Ugd2lsbCBiZSByZXNvbHZlZCB3aXRoIGlzIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGBmbmAgZnVuY3Rpb24uCiAgICAgICoKICAgICAgKi8KICAgIGZ1bmN0aW9uIHRpbWVvdXQoZm4sIGRlbGF5LCBpbnZva2VBcHBseSkgewogICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpLAogICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2UsCiAgICAgICAgICBza2lwQXBwbHkgPSAoaXNEZWZpbmVkKGludm9rZUFwcGx5KSAmJiAhaW52b2tlQXBwbHkpLAogICAgICAgICAgdGltZW91dElkOwoKICAgICAgdGltZW91dElkID0gJGJyb3dzZXIuZGVmZXIoZnVuY3Rpb24oKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZm4oKSk7CiAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZSk7CiAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTsKICAgICAgICB9CiAgICAgICAgZmluYWxseSB7CiAgICAgICAgICBkZWxldGUgZGVmZXJyZWRzW3Byb21pc2UuJCR0aW1lb3V0SWRdOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFza2lwQXBwbHkpICRyb290U2NvcGUuJGFwcGx5KCk7CiAgICAgIH0sIGRlbGF5KTsKCiAgICAgIHByb21pc2UuJCR0aW1lb3V0SWQgPSB0aW1lb3V0SWQ7CiAgICAgIGRlZmVycmVkc1t0aW1lb3V0SWRdID0gZGVmZXJyZWQ7CgogICAgICByZXR1cm4gcHJvbWlzZTsKICAgIH0KCgogICAgIC8qKgogICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAgKiBAbmFtZSAkdGltZW91dCNjYW5jZWwKICAgICAgKgogICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAqIENhbmNlbHMgYSB0YXNrIGFzc29jaWF0ZWQgd2l0aCB0aGUgYHByb21pc2VgLiBBcyBhIHJlc3VsdCBvZiB0aGlzLCB0aGUgcHJvbWlzZSB3aWxsIGJlCiAgICAgICogcmVzb2x2ZWQgd2l0aCBhIHJlamVjdGlvbi4KICAgICAgKgogICAgICAqIEBwYXJhbSB7UHJvbWlzZT19IHByb21pc2UgUHJvbWlzZSByZXR1cm5lZCBieSB0aGUgYCR0aW1lb3V0YCBmdW5jdGlvbi4KICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHRhc2sgaGFzbid0IGV4ZWN1dGVkIHlldCBhbmQgd2FzIHN1Y2Nlc3NmdWxseQogICAgICAqICAgY2FuY2VsZWQuCiAgICAgICovCiAgICB0aW1lb3V0LmNhbmNlbCA9IGZ1bmN0aW9uKHByb21pc2UpIHsKICAgICAgaWYgKHByb21pc2UgJiYgcHJvbWlzZS4kJHRpbWVvdXRJZCBpbiBkZWZlcnJlZHMpIHsKICAgICAgICBkZWZlcnJlZHNbcHJvbWlzZS4kJHRpbWVvdXRJZF0ucmVqZWN0KCdjYW5jZWxlZCcpOwogICAgICAgIGRlbGV0ZSBkZWZlcnJlZHNbcHJvbWlzZS4kJHRpbWVvdXRJZF07CiAgICAgICAgcmV0dXJuICRicm93c2VyLmRlZmVyLmNhbmNlbChwcm9taXNlLiQkdGltZW91dElkKTsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwoKICAgIHJldHVybiB0aW1lb3V0OwogIH1dOwp9CgovLyBOT1RFOiAgVGhlIHVzYWdlIG9mIHdpbmRvdyBhbmQgZG9jdW1lbnQgaW5zdGVhZCBvZiAkd2luZG93IGFuZCAkZG9jdW1lbnQgaGVyZSBpcwovLyBkZWxpYmVyYXRlLiAgVGhpcyBzZXJ2aWNlIGRlcGVuZHMgb24gdGhlIHNwZWNpZmljIGJlaGF2aW9yIG9mIGFuY2hvciBub2RlcyBjcmVhdGVkIGJ5IHRoZQovLyBicm93c2VyIChyZXNvbHZpbmcgYW5kIHBhcnNpbmcgVVJMcykgdGhhdCBpcyB1bmxpa2VseSB0byBiZSBwcm92aWRlZCBieSBtb2NrIG9iamVjdHMgYW5kCi8vIGNhdXNlIHVzIHRvIGJyZWFrIHRlc3RzLiAgSW4gYWRkaXRpb24sIHdoZW4gdGhlIGJyb3dzZXIgcmVzb2x2ZXMgYSBVUkwgZm9yIFhIUiwgaXQKLy8gZG9lc24ndCBrbm93IGFib3V0IG1vY2tlZCBsb2NhdGlvbnMgYW5kIHJlc29sdmVzIFVSTHMgdG8gdGhlIHJlYWwgZG9jdW1lbnQgLSB3aGljaCBpcwovLyBleGFjdGx5IHRoZSBiZWhhdmlvciBuZWVkZWQgaGVyZS4gIFRoZXJlIGlzIGxpdHRsZSB2YWx1ZSBpcyBtb2NraW5nIHRoZXNlIG91dCBmb3IgdGhpcwovLyBzZXJ2aWNlLgp2YXIgdXJsUGFyc2luZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CnZhciBvcmlnaW5VcmwgPSB1cmxSZXNvbHZlKHdpbmRvdy5sb2NhdGlvbi5ocmVmLCB0cnVlKTsKCgovKioKICoKICogSW1wbGVtZW50YXRpb24gTm90ZXMgZm9yIG5vbi1JRSBicm93c2VycwogKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAqIEFzc2lnbmluZyBhIFVSTCB0byB0aGUgaHJlZiBwcm9wZXJ0eSBvZiBhbiBhbmNob3IgRE9NIG5vZGUsIGV2ZW4gb25lIGF0dGFjaGVkIHRvIHRoZSBET00sCiAqIHJlc3VsdHMgYm90aCBpbiB0aGUgbm9ybWFsaXppbmcgYW5kIHBhcnNpbmcgb2YgdGhlIFVSTC4gIE5vcm1hbGl6aW5nIG1lYW5zIHRoYXQgYSByZWxhdGl2ZQogKiBVUkwgd2lsbCBiZSByZXNvbHZlZCBpbnRvIGFuIGFic29sdXRlIFVSTCBpbiB0aGUgY29udGV4dCBvZiB0aGUgYXBwbGljYXRpb24gZG9jdW1lbnQuCiAqIFBhcnNpbmcgbWVhbnMgdGhhdCB0aGUgYW5jaG9yIG5vZGUncyBob3N0LCBob3N0bmFtZSwgcHJvdG9jb2wsIHBvcnQsIHBhdGhuYW1lIGFuZCByZWxhdGVkCiAqIHByb3BlcnRpZXMgYXJlIGFsbCBwb3B1bGF0ZWQgdG8gcmVmbGVjdCB0aGUgbm9ybWFsaXplZCBVUkwuICBUaGlzIGFwcHJvYWNoIGhhcyB3aWRlCiAqIGNvbXBhdGliaWxpdHkgLSBTYWZhcmkgMSssIE1vemlsbGEgMSssIE9wZXJhIDcrLGUgZXRjLiAgU2VlCiAqIGh0dHA6Ly93d3cuYXB0YW5hLmNvbS9yZWZlcmVuY2UvaHRtbC9hcGkvSFRNTEFuY2hvckVsZW1lbnQuaHRtbAogKgogKiBJbXBsZW1lbnRhdGlvbiBOb3RlcyBmb3IgSUUKICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAqIElFID49IDggYW5kIDw9IDEwIG5vcm1hbGl6ZXMgdGhlIFVSTCB3aGVuIGFzc2lnbmVkIHRvIHRoZSBhbmNob3Igbm9kZSBzaW1pbGFyIHRvIHRoZSBvdGhlcgogKiBicm93c2Vycy4gIEhvd2V2ZXIsIHRoZSBwYXJzZWQgY29tcG9uZW50cyB3aWxsIG5vdCBiZSBzZXQgaWYgdGhlIFVSTCBhc3NpZ25lZCBkaWQgbm90IHNwZWNpZnkKICogdGhlbS4gIChlLmcuIGlmIHlvdSBhc3NpZ24gYS5ocmVmID0gImZvbyIsIHRoZW4gYS5wcm90b2NvbCwgYS5ob3N0LCBldGMuIHdpbGwgYmUgZW1wdHkuKSAgV2UKICogd29yayBhcm91bmQgdGhhdCBieSBwZXJmb3JtaW5nIHRoZSBwYXJzaW5nIGluIGEgMm5kIHN0ZXAgYnkgdGFraW5nIGEgcHJldmlvdXNseSBub3JtYWxpemVkCiAqIFVSTCAoZS5nLiBieSBhc3NpZ25pbmcgdG8gYS5ocmVmKSBhbmQgYXNzaWduaW5nIGl0IGEuaHJlZiBhZ2Fpbi4gIFRoaXMgY29ycmVjdGx5IHBvcHVsYXRlcyB0aGUKICogcHJvcGVydGllcyBzdWNoIGFzIHByb3RvY29sLCBob3N0bmFtZSwgcG9ydCwgZXRjLgogKgogKiBJRTcgZG9lcyBub3Qgbm9ybWFsaXplIHRoZSBVUkwgd2hlbiBhc3NpZ25lZCB0byBhbiBhbmNob3Igbm9kZS4gIChBcHBhcmVudGx5LCBpdCBkb2VzLCBpZiBvbmUKICogdXNlcyB0aGUgaW5uZXIgSFRNTCBhcHByb2FjaCB0byBhc3NpZ24gdGhlIFVSTCBhcyBwYXJ0IG9mIGFuIEhUTUwgc25pcHBldCAtCiAqIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ3MjcyOSkgIEhvd2V2ZXIsIHNldHRpbmcgaW1nW3NyY10gZG9lcyBub3JtYWxpemUgdGhlIFVSTC4KICogVW5mb3J0dW5hdGVseSwgc2V0dGluZyBpbWdbc3JjXSB0byBzb21ldGhpbmcgbGlrZSAiamF2YXNjcmlwdDpmb28iIG9uIElFIHRocm93cyBhbiBleGNlcHRpb24uCiAqIFNpbmNlIHRoZSBwcmltYXJ5IHVzYWdlIGZvciBub3JtYWxpemluZyBVUkxzIGlzIHRvIHNhbml0aXplIHN1Y2ggVVJMcywgd2UgY2FuJ3QgdXNlIHRoYXQKICogbWV0aG9kIGFuZCBJRSA8IDggaXMgdW5zdXBwb3J0ZWQuCiAqCiAqIFJlZmVyZW5jZXM6CiAqICAgaHR0cDovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTEFuY2hvckVsZW1lbnQKICogICBodHRwOi8vd3d3LmFwdGFuYS5jb20vcmVmZXJlbmNlL2h0bWwvYXBpL0hUTUxBbmNob3JFbGVtZW50Lmh0bWwKICogICBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHMKICogICBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3B1bGwvMjkwMgogKiAgIGh0dHA6Ly9qYW1lcy5wYWRvbHNleS5jb20vamF2YXNjcmlwdC9wYXJzaW5nLXVybHMtd2l0aC10aGUtZG9tLwogKgogKiBAa2luZCBmdW5jdGlvbgogKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gYmUgcGFyc2VkLgogKiBAZGVzY3JpcHRpb24gTm9ybWFsaXplcyBhbmQgcGFyc2VzIGEgVVJMLgogKiBAcmV0dXJucyB7b2JqZWN0fSBSZXR1cm5zIHRoZSBub3JtYWxpemVkIFVSTCBhcyBhIGRpY3Rpb25hcnkuCiAqCiAqICAgfCBtZW1iZXIgbmFtZSAgIHwgRGVzY3JpcHRpb24gICAgfAogKiAgIHwtLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLXwKICogICB8IGhyZWYgICAgICAgICAgfCBBIG5vcm1hbGl6ZWQgdmVyc2lvbiBvZiB0aGUgcHJvdmlkZWQgVVJMIGlmIGl0IHdhcyBub3QgYW4gYWJzb2x1dGUgVVJMIHwKICogICB8IHByb3RvY29sICAgICAgfCBUaGUgcHJvdG9jb2wgaW5jbHVkaW5nIHRoZSB0cmFpbGluZyBjb2xvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwKICogICB8IGhvc3QgICAgICAgICAgfCBUaGUgaG9zdCBhbmQgcG9ydCAoaWYgdGhlIHBvcnQgaXMgbm9uLWRlZmF1bHQpIG9mIHRoZSBub3JtYWxpemVkVXJsICAgIHwKICogICB8IHNlYXJjaCAgICAgICAgfCBUaGUgc2VhcmNoIHBhcmFtcywgbWludXMgdGhlIHF1ZXN0aW9uIG1hcmsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwKICogICB8IGhhc2ggICAgICAgICAgfCBUaGUgaGFzaCBzdHJpbmcsIG1pbnVzIHRoZSBoYXNoIHN5bWJvbAogKiAgIHwgaG9zdG5hbWUgICAgICB8IFRoZSBob3N0bmFtZQogKiAgIHwgcG9ydCAgICAgICAgICB8IFRoZSBwb3J0LCB3aXRob3V0ICI6IgogKiAgIHwgcGF0aG5hbWUgICAgICB8IFRoZSBwYXRobmFtZSwgYmVnaW5uaW5nIHdpdGggIi8iCiAqCiAqLwpmdW5jdGlvbiB1cmxSZXNvbHZlKHVybCwgYmFzZSkgewogIHZhciBocmVmID0gdXJsOwoKICBpZiAobXNpZSkgewogICAgLy8gTm9ybWFsaXplIGJlZm9yZSBwYXJzZS4gIFJlZmVyIEltcGxlbWVudGF0aW9uIE5vdGVzIG9uIHdoeSB0aGlzIGlzCiAgICAvLyBkb25lIGluIHR3byBzdGVwcyBvbiBJRS4KICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgiaHJlZiIsIGhyZWYpOwogICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7CiAgfQoKICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTsKCiAgLy8gdXJsUGFyc2luZ05vZGUgcHJvdmlkZXMgdGhlIFVybFV0aWxzIGludGVyZmFjZSAtIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlscwogIHJldHVybiB7CiAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLAogICAgcHJvdG9jb2w6IHVybFBhcnNpbmdOb2RlLnByb3RvY29sID8gdXJsUGFyc2luZ05vZGUucHJvdG9jb2wucmVwbGFjZSgvOiQvLCAnJykgOiAnJywKICAgIGhvc3Q6IHVybFBhcnNpbmdOb2RlLmhvc3QsCiAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXD8vLCAnJykgOiAnJywKICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsCiAgICBob3N0bmFtZTogdXJsUGFyc2luZ05vZGUuaG9zdG5hbWUsCiAgICBwb3J0OiB1cmxQYXJzaW5nTm9kZS5wb3J0LAogICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJykKICAgICAgPyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZQogICAgICA6ICcvJyArIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lCiAgfTsKfQoKLyoqCiAqIFBhcnNlIGEgcmVxdWVzdCBVUkwgYW5kIGRldGVybWluZSB3aGV0aGVyIHRoaXMgaXMgYSBzYW1lLW9yaWdpbiByZXF1ZXN0IGFzIHRoZSBhcHBsaWNhdGlvbiBkb2N1bWVudC4KICoKICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSByZXF1ZXN0VXJsIFRoZSB1cmwgb2YgdGhlIHJlcXVlc3QgYXMgYSBzdHJpbmcgdGhhdCB3aWxsIGJlIHJlc29sdmVkCiAqIG9yIGEgcGFyc2VkIFVSTCBvYmplY3QuCiAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSByZXF1ZXN0IGlzIGZvciB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50LgogKi8KZnVuY3Rpb24gdXJsSXNTYW1lT3JpZ2luKHJlcXVlc3RVcmwpIHsKICB2YXIgcGFyc2VkID0gKGlzU3RyaW5nKHJlcXVlc3RVcmwpKSA/IHVybFJlc29sdmUocmVxdWVzdFVybCkgOiByZXF1ZXN0VXJsOwogIHJldHVybiAocGFyc2VkLnByb3RvY29sID09PSBvcmlnaW5VcmwucHJvdG9jb2wgJiYKICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VcmwuaG9zdCk7Cn0KCi8qKgogKiBAbmdkb2Mgc2VydmljZQogKiBAbmFtZSAkd2luZG93CiAqCiAqIEBkZXNjcmlwdGlvbgogKiBBIHJlZmVyZW5jZSB0byB0aGUgYnJvd3NlcidzIGB3aW5kb3dgIG9iamVjdC4gV2hpbGUgYHdpbmRvd2AKICogaXMgZ2xvYmFsbHkgYXZhaWxhYmxlIGluIEphdmFTY3JpcHQsIGl0IGNhdXNlcyB0ZXN0YWJpbGl0eSBwcm9ibGVtcywgYmVjYXVzZQogKiBpdCBpcyBhIGdsb2JhbCB2YXJpYWJsZS4gSW4gYW5ndWxhciB3ZSBhbHdheXMgcmVmZXIgdG8gaXQgdGhyb3VnaCB0aGUKICogYCR3aW5kb3dgIHNlcnZpY2UsIHNvIGl0IG1heSBiZSBvdmVycmlkZGVuLCByZW1vdmVkIG9yIG1vY2tlZCBmb3IgdGVzdGluZy4KICoKICogRXhwcmVzc2lvbnMsIGxpa2UgdGhlIG9uZSBkZWZpbmVkIGZvciB0aGUgYG5nQ2xpY2tgIGRpcmVjdGl2ZSBpbiB0aGUgZXhhbXBsZQogKiBiZWxvdywgYXJlIGV2YWx1YXRlZCB3aXRoIHJlc3BlY3QgdG8gdGhlIGN1cnJlbnQgc2NvcGUuICBUaGVyZWZvcmUsIHRoZXJlIGlzCiAqIG5vIHJpc2sgb2YgaW5hZHZlcnRlbnRseSBjb2RpbmcgaW4gYSBkZXBlbmRlbmN5IG9uIGEgZ2xvYmFsIHZhbHVlIGluIHN1Y2ggYW4KICogZXhwcmVzc2lvbi4KICoKICogQGV4YW1wbGUKICAgPGV4YW1wbGU+CiAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgICA8c2NyaXB0PgogICAgICAgICBmdW5jdGlvbiBDdHJsKCRzY29wZSwgJHdpbmRvdykgewogICAgICAgICAgICRzY29wZS5ncmVldGluZyA9ICdIZWxsbywgV29ybGQhJzsKICAgICAgICAgICAkc2NvcGUuZG9HcmVldGluZyA9IGZ1bmN0aW9uKGdyZWV0aW5nKSB7CiAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZ3JlZXRpbmcpOwogICAgICAgICAgIH07CiAgICAgICAgIH0KICAgICAgIDwvc2NyaXB0PgogICAgICAgPGRpdiBuZy1jb250cm9sbGVyPSJDdHJsIj4KICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5nLW1vZGVsPSJncmVldGluZyIgLz4KICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz0iZG9HcmVldGluZyhncmVldGluZykiPkFMRVJUPC9idXR0b24+CiAgICAgICA8L2Rpdj4KICAgICA8L2ZpbGU+CiAgICAgPGZpbGUgbmFtZT0icHJvdHJhY3Rvci5qcyIgdHlwZT0icHJvdHJhY3RvciI+CiAgICAgIGl0KCdzaG91bGQgZGlzcGxheSB0aGUgZ3JlZXRpbmcgaW4gdGhlIGlucHV0IGJveCcsIGZ1bmN0aW9uKCkgewogICAgICAgZWxlbWVudChieS5tb2RlbCgnZ3JlZXRpbmcnKSkuc2VuZEtleXMoJ0hlbGxvLCBFMkUgVGVzdHMnKTsKICAgICAgIC8vIElmIHdlIGNsaWNrIHRoZSBidXR0b24gaXQgd2lsbCBibG9jayB0aGUgdGVzdCBydW5uZXIKICAgICAgIC8vIGVsZW1lbnQoJzpidXR0b24nKS5jbGljaygpOwogICAgICB9KTsKICAgICA8L2ZpbGU+CiAgIDwvZXhhbXBsZT4KICovCmZ1bmN0aW9uICRXaW5kb3dQcm92aWRlcigpewogIHRoaXMuJGdldCA9IHZhbHVlRm4od2luZG93KTsKfQoKLyoqCiAqIEBuZ2RvYyBwcm92aWRlcgogKiBAbmFtZSAkZmlsdGVyUHJvdmlkZXIKICogQGRlc2NyaXB0aW9uCiAqCiAqIEZpbHRlcnMgYXJlIGp1c3QgZnVuY3Rpb25zIHdoaWNoIHRyYW5zZm9ybSBpbnB1dCB0byBhbiBvdXRwdXQuIEhvd2V2ZXIgZmlsdGVycyBuZWVkIHRvIGJlCiAqIERlcGVuZGVuY3kgSW5qZWN0ZWQuIFRvIGFjaGlldmUgdGhpcyBhIGZpbHRlciBkZWZpbml0aW9uIGNvbnNpc3RzIG9mIGEgZmFjdG9yeSBmdW5jdGlvbiB3aGljaCBpcwogKiBhbm5vdGF0ZWQgd2l0aCBkZXBlbmRlbmNpZXMgYW5kIGlzIHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyBhIGZpbHRlciBmdW5jdGlvbi4KICoKICogYGBganMKICogICAvLyBGaWx0ZXIgcmVnaXN0cmF0aW9uCiAqICAgZnVuY3Rpb24gTXlNb2R1bGUoJHByb3ZpZGUsICRmaWx0ZXJQcm92aWRlcikgewogKiAgICAgLy8gY3JlYXRlIGEgc2VydmljZSB0byBkZW1vbnN0cmF0ZSBpbmplY3Rpb24gKG5vdCBhbHdheXMgbmVlZGVkKQogKiAgICAgJHByb3ZpZGUudmFsdWUoJ2dyZWV0JywgZnVuY3Rpb24obmFtZSl7CiAqICAgICAgIHJldHVybiAnSGVsbG8gJyArIG5hbWUgKyAnISc7CiAqICAgICB9KTsKICoKICogICAgIC8vIHJlZ2lzdGVyIGEgZmlsdGVyIGZhY3Rvcnkgd2hpY2ggdXNlcyB0aGUKICogICAgIC8vIGdyZWV0IHNlcnZpY2UgdG8gZGVtb25zdHJhdGUgREkuCiAqICAgICAkZmlsdGVyUHJvdmlkZXIucmVnaXN0ZXIoJ2dyZWV0JywgZnVuY3Rpb24oZ3JlZXQpewogKiAgICAgICAvLyByZXR1cm4gdGhlIGZpbHRlciBmdW5jdGlvbiB3aGljaCB1c2VzIHRoZSBncmVldCBzZXJ2aWNlCiAqICAgICAgIC8vIHRvIGdlbmVyYXRlIHNhbHV0YXRpb24KICogICAgICAgcmV0dXJuIGZ1bmN0aW9uKHRleHQpIHsKICogICAgICAgICAvLyBmaWx0ZXJzIG5lZWQgdG8gYmUgZm9yZ2l2aW5nIHNvIGNoZWNrIGlucHV0IHZhbGlkaXR5CiAqICAgICAgICAgcmV0dXJuIHRleHQgJiYgZ3JlZXQodGV4dCkgfHwgdGV4dDsKICogICAgICAgfTsKICogICAgIH0pOwogKiAgIH0KICogYGBgCiAqCiAqIFRoZSBmaWx0ZXIgZnVuY3Rpb24gaXMgcmVnaXN0ZXJlZCB3aXRoIHRoZSBgJGluamVjdG9yYCB1bmRlciB0aGUgZmlsdGVyIG5hbWUgc3VmZml4IHdpdGgKICogYEZpbHRlcmAuCiAqCiAqIGBgYGpzCiAqICAgaXQoJ3Nob3VsZCBiZSB0aGUgc2FtZSBpbnN0YW5jZScsIGluamVjdCgKICogICAgIGZ1bmN0aW9uKCRmaWx0ZXJQcm92aWRlcikgewogKiAgICAgICAkZmlsdGVyUHJvdmlkZXIucmVnaXN0ZXIoJ3JldmVyc2UnLCBmdW5jdGlvbigpewogKiAgICAgICAgIHJldHVybiAuLi47CiAqICAgICAgIH0pOwogKiAgICAgfSwKICogICAgIGZ1bmN0aW9uKCRmaWx0ZXIsIHJldmVyc2VGaWx0ZXIpIHsKICogICAgICAgZXhwZWN0KCRmaWx0ZXIoJ3JldmVyc2UnKSkudG9CZShyZXZlcnNlRmlsdGVyKTsKICogICAgIH0pOwogKiBgYGAKICoKICoKICogRm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgaG93IGFuZ3VsYXIgZmlsdGVycyB3b3JrLCBhbmQgaG93IHRvIGNyZWF0ZSB5b3VyIG93biBmaWx0ZXJzLCBzZWUKICoge0BsaW5rIGd1aWRlL2ZpbHRlciBGaWx0ZXJzfSBpbiB0aGUgQW5ndWxhciBEZXZlbG9wZXIgR3VpZGUuCiAqLwovKioKICogQG5nZG9jIG1ldGhvZAogKiBAbmFtZSAkZmlsdGVyUHJvdmlkZXIjcmVnaXN0ZXIKICogQGRlc2NyaXB0aW9uCiAqIFJlZ2lzdGVyIGZpbHRlciBmYWN0b3J5IGZ1bmN0aW9uLgogKgogKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBOYW1lIG9mIHRoZSBmaWx0ZXIuCiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmaWx0ZXIgZmFjdG9yeSBmdW5jdGlvbiB3aGljaCBpcyBpbmplY3RhYmxlLgogKi8KCgovKioKICogQG5nZG9jIHNlcnZpY2UKICogQG5hbWUgJGZpbHRlcgogKiBAa2luZCBmdW5jdGlvbgogKiBAZGVzY3JpcHRpb24KICogRmlsdGVycyBhcmUgdXNlZCBmb3IgZm9ybWF0dGluZyBkYXRhIGRpc3BsYXllZCB0byB0aGUgdXNlci4KICoKICogVGhlIGdlbmVyYWwgc3ludGF4IGluIHRlbXBsYXRlcyBpcyBhcyBmb2xsb3dzOgogKgogKiAgICAgICAgIHt7IGV4cHJlc3Npb24gW3wgZmlsdGVyX25hbWVbOnBhcmFtZXRlcl92YWx1ZV0gLi4uIF0gfX0KICoKICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgZmlsdGVyIGZ1bmN0aW9uIHRvIHJldHJpZXZlCiAqIEByZXR1cm4ge0Z1bmN0aW9ufSB0aGUgZmlsdGVyIGZ1bmN0aW9uCiAqIEBleGFtcGxlCiAgIDxleGFtcGxlIG5hbWU9IiRmaWx0ZXIiIG1vZHVsZT0iZmlsdGVyRXhhbXBsZSI+CiAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9Ik1haW5DdHJsIj4KICAgICAgICA8aDM+e3sgb3JpZ2luYWxUZXh0IH19PC9oMz4KICAgICAgICA8aDM+e3sgZmlsdGVyZWRUZXh0IH19PC9oMz4KICAgICAgIDwvZGl2PgogICAgIDwvZmlsZT4KCiAgICAgPGZpbGUgbmFtZT0ic2NyaXB0LmpzIj4KICAgICAgYW5ndWxhci5tb2R1bGUoJ2ZpbHRlckV4YW1wbGUnLCBbXSkKICAgICAgLmNvbnRyb2xsZXIoJ01haW5DdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkZmlsdGVyKSB7CiAgICAgICAgJHNjb3BlLm9yaWdpbmFsVGV4dCA9ICdoZWxsbyc7CiAgICAgICAgJHNjb3BlLmZpbHRlcmVkVGV4dCA9ICRmaWx0ZXIoJ3VwcGVyY2FzZScpKCRzY29wZS5vcmlnaW5hbFRleHQpOwogICAgICB9KTsKICAgICA8L2ZpbGU+CiAgIDwvZXhhbXBsZT4KICAqLwokRmlsdGVyUHJvdmlkZXIuJGluamVjdCA9IFsnJHByb3ZpZGUnXTsKZnVuY3Rpb24gJEZpbHRlclByb3ZpZGVyKCRwcm92aWRlKSB7CiAgdmFyIHN1ZmZpeCA9ICdGaWx0ZXInOwoKICAvKioKICAgKiBAbmdkb2MgbWV0aG9kCiAgICogQG5hbWUgJGNvbnRyb2xsZXJQcm92aWRlciNyZWdpc3RlcgogICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBOYW1lIG9mIHRoZSBmaWx0ZXIgZnVuY3Rpb24sIG9yIGFuIG9iamVjdCBtYXAgb2YgZmlsdGVycyB3aGVyZQogICAqICAgIHRoZSBrZXlzIGFyZSB0aGUgZmlsdGVyIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgZmlsdGVyIGZhY3Rvcmllcy4KICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZWdpc3RlcmVkIGZpbHRlciBpbnN0YW5jZSwgb3IgaWYgYSBtYXAgb2YgZmlsdGVycyB3YXMgcHJvdmlkZWQgdGhlbiBhIG1hcAogICAqICAgIG9mIHRoZSByZWdpc3RlcmVkIGZpbHRlciBpbnN0YW5jZXMuCiAgICovCiAgZnVuY3Rpb24gcmVnaXN0ZXIobmFtZSwgZmFjdG9yeSkgewogICAgaWYoaXNPYmplY3QobmFtZSkpIHsKICAgICAgdmFyIGZpbHRlcnMgPSB7fTsKICAgICAgZm9yRWFjaChuYW1lLCBmdW5jdGlvbihmaWx0ZXIsIGtleSkgewogICAgICAgIGZpbHRlcnNba2V5XSA9IHJlZ2lzdGVyKGtleSwgZmlsdGVyKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBmaWx0ZXJzOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICRwcm92aWRlLmZhY3RvcnkobmFtZSArIHN1ZmZpeCwgZmFjdG9yeSk7CiAgICB9CiAgfQogIHRoaXMucmVnaXN0ZXIgPSByZWdpc3RlcjsKCiAgdGhpcy4kZ2V0ID0gWyckaW5qZWN0b3InLCBmdW5jdGlvbigkaW5qZWN0b3IpIHsKICAgIHJldHVybiBmdW5jdGlvbihuYW1lKSB7CiAgICAgIHJldHVybiAkaW5qZWN0b3IuZ2V0KG5hbWUgKyBzdWZmaXgpOwogICAgfTsKICB9XTsKCiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKICAvKiBnbG9iYWwKICAgIGN1cnJlbmN5RmlsdGVyOiBmYWxzZSwKICAgIGRhdGVGaWx0ZXI6IGZhbHNlLAogICAgZmlsdGVyRmlsdGVyOiBmYWxzZSwKICAgIGpzb25GaWx0ZXI6IGZhbHNlLAogICAgbGltaXRUb0ZpbHRlcjogZmFsc2UsCiAgICBsb3dlcmNhc2VGaWx0ZXI6IGZhbHNlLAogICAgbnVtYmVyRmlsdGVyOiBmYWxzZSwKICAgIG9yZGVyQnlGaWx0ZXI6IGZhbHNlLAogICAgdXBwZXJjYXNlRmlsdGVyOiBmYWxzZSwKICAqLwoKICByZWdpc3RlcignY3VycmVuY3knLCBjdXJyZW5jeUZpbHRlcik7CiAgcmVnaXN0ZXIoJ2RhdGUnLCBkYXRlRmlsdGVyKTsKICByZWdpc3RlcignZmlsdGVyJywgZmlsdGVyRmlsdGVyKTsKICByZWdpc3RlcignanNvbicsIGpzb25GaWx0ZXIpOwogIHJlZ2lzdGVyKCdsaW1pdFRvJywgbGltaXRUb0ZpbHRlcik7CiAgcmVnaXN0ZXIoJ2xvd2VyY2FzZScsIGxvd2VyY2FzZUZpbHRlcik7CiAgcmVnaXN0ZXIoJ251bWJlcicsIG51bWJlckZpbHRlcik7CiAgcmVnaXN0ZXIoJ29yZGVyQnknLCBvcmRlckJ5RmlsdGVyKTsKICByZWdpc3RlcigndXBwZXJjYXNlJywgdXBwZXJjYXNlRmlsdGVyKTsKfQoKLyoqCiAqIEBuZ2RvYyBmaWx0ZXIKICogQG5hbWUgZmlsdGVyCiAqIEBraW5kIGZ1bmN0aW9uCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBTZWxlY3RzIGEgc3Vic2V0IG9mIGl0ZW1zIGZyb20gYGFycmF5YCBhbmQgcmV0dXJucyBpdCBhcyBhIG5ldyBhcnJheS4KICoKICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvdXJjZSBhcnJheS4KICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fGZ1bmN0aW9uKCl9IGV4cHJlc3Npb24gVGhlIHByZWRpY2F0ZSB0byBiZSB1c2VkIGZvciBzZWxlY3RpbmcgaXRlbXMgZnJvbQogKiAgIGBhcnJheWAuCiAqCiAqICAgQ2FuIGJlIG9uZSBvZjoKICoKICogICAtIGBzdHJpbmdgOiBUaGUgc3RyaW5nIGlzIGV2YWx1YXRlZCBhcyBhbiBleHByZXNzaW9uIGFuZCB0aGUgcmVzdWx0aW5nIHZhbHVlIGlzIHVzZWQgZm9yIHN1YnN0cmluZyBtYXRjaCBhZ2FpbnN0CiAqICAgICB0aGUgY29udGVudHMgb2YgdGhlIGBhcnJheWAuIEFsbCBzdHJpbmdzIG9yIG9iamVjdHMgd2l0aCBzdHJpbmcgcHJvcGVydGllcyBpbiBgYXJyYXlgIHRoYXQgY29udGFpbiB0aGlzIHN0cmluZwogKiAgICAgd2lsbCBiZSByZXR1cm5lZC4gVGhlIHByZWRpY2F0ZSBjYW4gYmUgbmVnYXRlZCBieSBwcmVmaXhpbmcgdGhlIHN0cmluZyB3aXRoIGAhYC4KICoKICogICAtIGBPYmplY3RgOiBBIHBhdHRlcm4gb2JqZWN0IGNhbiBiZSB1c2VkIHRvIGZpbHRlciBzcGVjaWZpYyBwcm9wZXJ0aWVzIG9uIG9iamVjdHMgY29udGFpbmVkCiAqICAgICBieSBgYXJyYXlgLiBGb3IgZXhhbXBsZSBge25hbWU6Ik0iLCBwaG9uZToiMSJ9YCBwcmVkaWNhdGUgd2lsbCByZXR1cm4gYW4gYXJyYXkgb2YgaXRlbXMKICogICAgIHdoaWNoIGhhdmUgcHJvcGVydHkgYG5hbWVgIGNvbnRhaW5pbmcgIk0iIGFuZCBwcm9wZXJ0eSBgcGhvbmVgIGNvbnRhaW5pbmcgIjEiLiBBIHNwZWNpYWwKICogICAgIHByb3BlcnR5IG5hbWUgYCRgIGNhbiBiZSB1c2VkIChhcyBpbiBgeyQ6InRleHQifWApIHRvIGFjY2VwdCBhIG1hdGNoIGFnYWluc3QgYW55CiAqICAgICBwcm9wZXJ0eSBvZiB0aGUgb2JqZWN0LiBUaGF0J3MgZXF1aXZhbGVudCB0byB0aGUgc2ltcGxlIHN1YnN0cmluZyBtYXRjaCB3aXRoIGEgYHN0cmluZ2AKICogICAgIGFzIGRlc2NyaWJlZCBhYm92ZS4KICoKICogICAtIGBmdW5jdGlvbih2YWx1ZSlgOiBBIHByZWRpY2F0ZSBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byB3cml0ZSBhcmJpdHJhcnkgZmlsdGVycy4gVGhlIGZ1bmN0aW9uIGlzCiAqICAgICBjYWxsZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgLiBUaGUgZmluYWwgcmVzdWx0IGlzIGFuIGFycmF5IG9mIHRob3NlIGVsZW1lbnRzIHRoYXQKICogICAgIHRoZSBwcmVkaWNhdGUgcmV0dXJuZWQgdHJ1ZSBmb3IuCiAqCiAqIEBwYXJhbSB7ZnVuY3Rpb24oYWN0dWFsLCBleHBlY3RlZCl8dHJ1ZXx1bmRlZmluZWR9IGNvbXBhcmF0b3IgQ29tcGFyYXRvciB3aGljaCBpcyB1c2VkIGluCiAqICAgICBkZXRlcm1pbmluZyBpZiB0aGUgZXhwZWN0ZWQgdmFsdWUgKGZyb20gdGhlIGZpbHRlciBleHByZXNzaW9uKSBhbmQgYWN0dWFsIHZhbHVlIChmcm9tCiAqICAgICB0aGUgb2JqZWN0IGluIHRoZSBhcnJheSkgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYSBtYXRjaC4KICoKICogICBDYW4gYmUgb25lIG9mOgogKgogKiAgIC0gYGZ1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpYDoKICogICAgIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGdpdmVuIHRoZSBvYmplY3QgdmFsdWUgYW5kIHRoZSBwcmVkaWNhdGUgdmFsdWUgdG8gY29tcGFyZSBhbmQKICogICAgIHNob3VsZCByZXR1cm4gdHJ1ZSBpZiB0aGUgaXRlbSBzaG91bGQgYmUgaW5jbHVkZWQgaW4gZmlsdGVyZWQgcmVzdWx0LgogKgogKiAgIC0gYHRydWVgOiBBIHNob3J0aGFuZCBmb3IgYGZ1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpIHsgcmV0dXJuIGFuZ3VsYXIuZXF1YWxzKGV4cGVjdGVkLCBhY3R1YWwpfWAuCiAqICAgICB0aGlzIGlzIGVzc2VudGlhbGx5IHN0cmljdCBjb21wYXJpc29uIG9mIGV4cGVjdGVkIGFuZCBhY3R1YWwuCiAqCiAqICAgLSBgZmFsc2V8dW5kZWZpbmVkYDogQSBzaG9ydCBoYW5kIGZvciBhIGZ1bmN0aW9uIHdoaWNoIHdpbGwgbG9vayBmb3IgYSBzdWJzdHJpbmcgbWF0Y2ggaW4gY2FzZQogKiAgICAgaW5zZW5zaXRpdmUgd2F5LgogKgogKiBAZXhhbXBsZQogICA8ZXhhbXBsZT4KICAgICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgICAgIDxkaXYgbmctaW5pdD0iZnJpZW5kcyA9IFt7bmFtZTonSm9obicsIHBob25lOic1NTUtMTI3Nid9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOidNYXJ5JywgcGhvbmU6JzgwMC1CSUctTUFSWSd9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOidNaWtlJywgcGhvbmU6JzU1NS00MzIxJ30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J0FkYW0nLCBwaG9uZTonNTU1LTU2NzgnfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTonSnVsaWUnLCBwaG9uZTonNTU1LTg3NjUnfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTonSnVsaWV0dGUnLCBwaG9uZTonNTU1LTU2NzgnfV0iPjwvZGl2PgoKICAgICAgIFNlYXJjaDogPGlucHV0IG5nLW1vZGVsPSJzZWFyY2hUZXh0Ij4KICAgICAgIDx0YWJsZSBpZD0ic2VhcmNoVGV4dFJlc3VsdHMiPgogICAgICAgICA8dHI+PHRoPk5hbWU8L3RoPjx0aD5QaG9uZTwvdGg+PC90cj4KICAgICAgICAgPHRyIG5nLXJlcGVhdD0iZnJpZW5kIGluIGZyaWVuZHMgfCBmaWx0ZXI6c2VhcmNoVGV4dCI+CiAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+CiAgICAgICAgICAgPHRkPnt7ZnJpZW5kLnBob25lfX08L3RkPgogICAgICAgICA8L3RyPgogICAgICAgPC90YWJsZT4KICAgICAgIDxocj4KICAgICAgIEFueTogPGlucHV0IG5nLW1vZGVsPSJzZWFyY2guJCI+IDxicj4KICAgICAgIE5hbWUgb25seSA8aW5wdXQgbmctbW9kZWw9InNlYXJjaC5uYW1lIj48YnI+CiAgICAgICBQaG9uZSBvbmx5IDxpbnB1dCBuZy1tb2RlbD0ic2VhcmNoLnBob25lIj48YnI+CiAgICAgICBFcXVhbGl0eSA8aW5wdXQgdHlwZT0iY2hlY2tib3giIG5nLW1vZGVsPSJzdHJpY3QiPjxicj4KICAgICAgIDx0YWJsZSBpZD0ic2VhcmNoT2JqUmVzdWx0cyI+CiAgICAgICAgIDx0cj48dGg+TmFtZTwvdGg+PHRoPlBob25lPC90aD48L3RyPgogICAgICAgICA8dHIgbmctcmVwZWF0PSJmcmllbmRPYmogaW4gZnJpZW5kcyB8IGZpbHRlcjpzZWFyY2g6c3RyaWN0Ij4KICAgICAgICAgICA8dGQ+e3tmcmllbmRPYmoubmFtZX19PC90ZD4KICAgICAgICAgICA8dGQ+e3tmcmllbmRPYmoucGhvbmV9fTwvdGQ+CiAgICAgICAgIDwvdHI+CiAgICAgICA8L3RhYmxlPgogICAgIDwvZmlsZT4KICAgICA8ZmlsZSBuYW1lPSJwcm90cmFjdG9yLmpzIiB0eXBlPSJwcm90cmFjdG9yIj4KICAgICAgIHZhciBleHBlY3RGcmllbmROYW1lcyA9IGZ1bmN0aW9uKGV4cGVjdGVkTmFtZXMsIGtleSkgewogICAgICAgICBlbGVtZW50LmFsbChieS5yZXBlYXRlcihrZXkgKyAnIGluIGZyaWVuZHMnKS5jb2x1bW4oa2V5ICsgJy5uYW1lJykpLnRoZW4oZnVuY3Rpb24oYXJyKSB7CiAgICAgICAgICAgYXJyLmZvckVhY2goZnVuY3Rpb24od2QsIGkpIHsKICAgICAgICAgICAgIGV4cGVjdCh3ZC5nZXRUZXh0KCkpLnRvTWF0Y2goZXhwZWN0ZWROYW1lc1tpXSk7CiAgICAgICAgICAgfSk7CiAgICAgICAgIH0pOwogICAgICAgfTsKCiAgICAgICBpdCgnc2hvdWxkIHNlYXJjaCBhY3Jvc3MgYWxsIGZpZWxkcyB3aGVuIGZpbHRlcmluZyB3aXRoIGEgc3RyaW5nJywgZnVuY3Rpb24oKSB7CiAgICAgICAgIHZhciBzZWFyY2hUZXh0ID0gZWxlbWVudChieS5tb2RlbCgnc2VhcmNoVGV4dCcpKTsKICAgICAgICAgc2VhcmNoVGV4dC5jbGVhcigpOwogICAgICAgICBzZWFyY2hUZXh0LnNlbmRLZXlzKCdtJyk7CiAgICAgICAgIGV4cGVjdEZyaWVuZE5hbWVzKFsnTWFyeScsICdNaWtlJywgJ0FkYW0nXSwgJ2ZyaWVuZCcpOwoKICAgICAgICAgc2VhcmNoVGV4dC5jbGVhcigpOwogICAgICAgICBzZWFyY2hUZXh0LnNlbmRLZXlzKCc3NicpOwogICAgICAgICBleHBlY3RGcmllbmROYW1lcyhbJ0pvaG4nLCAnSnVsaWUnXSwgJ2ZyaWVuZCcpOwogICAgICAgfSk7CgogICAgICAgaXQoJ3Nob3VsZCBzZWFyY2ggaW4gc3BlY2lmaWMgZmllbGRzIHdoZW4gZmlsdGVyaW5nIHdpdGggYSBwcmVkaWNhdGUgb2JqZWN0JywgZnVuY3Rpb24oKSB7CiAgICAgICAgIHZhciBzZWFyY2hBbnkgPSBlbGVtZW50KGJ5Lm1vZGVsKCdzZWFyY2guJCcpKTsKICAgICAgICAgc2VhcmNoQW55LmNsZWFyKCk7CiAgICAgICAgIHNlYXJjaEFueS5zZW5kS2V5cygnaScpOwogICAgICAgICBleHBlY3RGcmllbmROYW1lcyhbJ01hcnknLCAnTWlrZScsICdKdWxpZScsICdKdWxpZXR0ZSddLCAnZnJpZW5kT2JqJyk7CiAgICAgICB9KTsKICAgICAgIGl0KCdzaG91bGQgdXNlIGEgZXF1YWwgY29tcGFyaXNvbiB3aGVuIGNvbXBhcmF0b3IgaXMgdHJ1ZScsIGZ1bmN0aW9uKCkgewogICAgICAgICB2YXIgc2VhcmNoTmFtZSA9IGVsZW1lbnQoYnkubW9kZWwoJ3NlYXJjaC5uYW1lJykpOwogICAgICAgICB2YXIgc3RyaWN0ID0gZWxlbWVudChieS5tb2RlbCgnc3RyaWN0JykpOwogICAgICAgICBzZWFyY2hOYW1lLmNsZWFyKCk7CiAgICAgICAgIHNlYXJjaE5hbWUuc2VuZEtleXMoJ0p1bGllJyk7CiAgICAgICAgIHN0cmljdC5jbGljaygpOwogICAgICAgICBleHBlY3RGcmllbmROYW1lcyhbJ0p1bGllJ10sICdmcmllbmRPYmonKTsKICAgICAgIH0pOwogICAgIDwvZmlsZT4KICAgPC9leGFtcGxlPgogKi8KZnVuY3Rpb24gZmlsdGVyRmlsdGVyKCkgewogIHJldHVybiBmdW5jdGlvbihhcnJheSwgZXhwcmVzc2lvbiwgY29tcGFyYXRvcikgewogICAgaWYgKCFpc0FycmF5KGFycmF5KSkgcmV0dXJuIGFycmF5OwoKICAgIHZhciBjb21wYXJhdG9yVHlwZSA9IHR5cGVvZihjb21wYXJhdG9yKSwKICAgICAgICBwcmVkaWNhdGVzID0gW107CgogICAgcHJlZGljYXRlcy5jaGVjayA9IGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcHJlZGljYXRlcy5sZW5ndGg7IGorKykgewogICAgICAgIGlmKCFwcmVkaWNhdGVzW2pdKHZhbHVlKSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gdHJ1ZTsKICAgIH07CgogICAgaWYgKGNvbXBhcmF0b3JUeXBlICE9PSAnZnVuY3Rpb24nKSB7CiAgICAgIGlmIChjb21wYXJhdG9yVHlwZSA9PT0gJ2Jvb2xlYW4nICYmIGNvbXBhcmF0b3IpIHsKICAgICAgICBjb21wYXJhdG9yID0gZnVuY3Rpb24ob2JqLCB0ZXh0KSB7CiAgICAgICAgICByZXR1cm4gYW5ndWxhci5lcXVhbHMob2JqLCB0ZXh0KTsKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIGNvbXBhcmF0b3IgPSBmdW5jdGlvbihvYmosIHRleHQpIHsKICAgICAgICAgIGlmIChvYmogJiYgdGV4dCAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdGV4dCA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgZm9yICh2YXIgb2JqS2V5IGluIG9iaikgewogICAgICAgICAgICAgIGlmIChvYmpLZXkuY2hhckF0KDApICE9PSAnJCcgJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmosIG9iaktleSkgJiYKICAgICAgICAgICAgICAgICAgY29tcGFyYXRvcihvYmpbb2JqS2V5XSwgdGV4dFtvYmpLZXldKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICAgIHRleHQgPSAoJycrdGV4dCkudG9Mb3dlckNhc2UoKTsKICAgICAgICAgIHJldHVybiAoJycrb2JqKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YodGV4dCkgPiAtMTsKICAgICAgICB9OwogICAgICB9CiAgICB9CgogICAgdmFyIHNlYXJjaCA9IGZ1bmN0aW9uKG9iaiwgdGV4dCl7CiAgICAgIGlmICh0eXBlb2YgdGV4dCA9PSAnc3RyaW5nJyAmJiB0ZXh0LmNoYXJBdCgwKSA9PT0gJyEnKSB7CiAgICAgICAgcmV0dXJuICFzZWFyY2gob2JqLCB0ZXh0LnN1YnN0cigxKSk7CiAgICAgIH0KICAgICAgc3dpdGNoICh0eXBlb2Ygb2JqKSB7CiAgICAgICAgY2FzZSAiYm9vbGVhbiI6CiAgICAgICAgY2FzZSAibnVtYmVyIjoKICAgICAgICBjYXNlICJzdHJpbmciOgogICAgICAgICAgcmV0dXJuIGNvbXBhcmF0b3Iob2JqLCB0ZXh0KTsKICAgICAgICBjYXNlICJvYmplY3QiOgogICAgICAgICAgc3dpdGNoICh0eXBlb2YgdGV4dCkgewogICAgICAgICAgICBjYXNlICJvYmplY3QiOgogICAgICAgICAgICAgIHJldHVybiBjb21wYXJhdG9yKG9iaiwgdGV4dCk7CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgZm9yICggdmFyIG9iaktleSBpbiBvYmopIHsKICAgICAgICAgICAgICAgIGlmIChvYmpLZXkuY2hhckF0KDApICE9PSAnJCcgJiYgc2VhcmNoKG9ialtvYmpLZXldLCB0ZXh0KSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgY2FzZSAiYXJyYXkiOgogICAgICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChzZWFyY2gob2JqW2ldLCB0ZXh0KSkgewogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfTsKICAgIHN3aXRjaCAodHlwZW9mIGV4cHJlc3Npb24pIHsKICAgICAgY2FzZSAiYm9vbGVhbiI6CiAgICAgIGNhc2UgIm51bWJlciI6CiAgICAgIGNhc2UgInN0cmluZyI6CiAgICAgICAgLy8gU2V0IHVwIGV4cHJlc3Npb24gb2JqZWN0IGFuZCBmYWxsIHRocm91Z2gKICAgICAgICBleHByZXNzaW9uID0geyQ6ZXhwcmVzc2lvbn07CiAgICAgICAgLy8ganNoaW50IC1XMDg2CiAgICAgIGNhc2UgIm9iamVjdCI6CiAgICAgICAgLy8ganNoaW50ICtXMDg2CiAgICAgICAgZm9yICh2YXIga2V5IGluIGV4cHJlc3Npb24pIHsKICAgICAgICAgIChmdW5jdGlvbihwYXRoKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgZXhwcmVzc2lvbltwYXRoXSA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjsKICAgICAgICAgICAgcHJlZGljYXRlcy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHNlYXJjaChwYXRoID09ICckJyA/IHZhbHVlIDogKHZhbHVlICYmIHZhbHVlW3BhdGhdKSwgZXhwcmVzc2lvbltwYXRoXSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSkoa2V5KTsKICAgICAgICB9CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ2Z1bmN0aW9uJzoKICAgICAgICBwcmVkaWNhdGVzLnB1c2goZXhwcmVzc2lvbik7CiAgICAgICAgYnJlYWs7CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmV0dXJuIGFycmF5OwogICAgfQogICAgdmFyIGZpbHRlcmVkID0gW107CiAgICBmb3IgKCB2YXIgaiA9IDA7IGogPCBhcnJheS5sZW5ndGg7IGorKykgewogICAgICB2YXIgdmFsdWUgPSBhcnJheVtqXTsKICAgICAgaWYgKHByZWRpY2F0ZXMuY2hlY2sodmFsdWUpKSB7CiAgICAgICAgZmlsdGVyZWQucHVzaCh2YWx1ZSk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBmaWx0ZXJlZDsKICB9Owp9CgovKioKICogQG5nZG9jIGZpbHRlcgogKiBAbmFtZSBjdXJyZW5jeQogKiBAa2luZCBmdW5jdGlvbgogKgogKiBAZGVzY3JpcHRpb24KICogRm9ybWF0cyBhIG51bWJlciBhcyBhIGN1cnJlbmN5IChpZSAkMSwyMzQuNTYpLiBXaGVuIG5vIGN1cnJlbmN5IHN5bWJvbCBpcyBwcm92aWRlZCwgZGVmYXVsdAogKiBzeW1ib2wgZm9yIGN1cnJlbnQgbG9jYWxlIGlzIHVzZWQuCiAqCiAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgSW5wdXQgdG8gZmlsdGVyLgogKiBAcGFyYW0ge3N0cmluZz19IHN5bWJvbCBDdXJyZW5jeSBzeW1ib2wgb3IgaWRlbnRpZmllciB0byBiZSBkaXNwbGF5ZWQuCiAqIEByZXR1cm5zIHtzdHJpbmd9IEZvcm1hdHRlZCBudW1iZXIuCiAqCiAqCiAqIEBleGFtcGxlCiAgIDxleGFtcGxlPgogICAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgICAgPHNjcmlwdD4KICAgICAgICAgZnVuY3Rpb24gQ3RybCgkc2NvcGUpIHsKICAgICAgICAgICAkc2NvcGUuYW1vdW50ID0gMTIzNC41NjsKICAgICAgICAgfQogICAgICAgPC9zY3JpcHQ+CiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9IkN0cmwiPgogICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBuZy1tb2RlbD0iYW1vdW50Ij4gPGJyPgogICAgICAgICBkZWZhdWx0IGN1cnJlbmN5IHN5bWJvbCAoJCk6IDxzcGFuIGlkPSJjdXJyZW5jeS1kZWZhdWx0Ij57e2Ftb3VudCB8IGN1cnJlbmN5fX08L3NwYW4+PGJyPgogICAgICAgICBjdXN0b20gY3VycmVuY3kgaWRlbnRpZmllciAoVVNEJCk6IDxzcGFuPnt7YW1vdW50IHwgY3VycmVuY3k6IlVTRCQifX08L3NwYW4+CiAgICAgICA8L2Rpdj4KICAgICA8L2ZpbGU+CiAgICAgPGZpbGUgbmFtZT0icHJvdHJhY3Rvci5qcyIgdHlwZT0icHJvdHJhY3RvciI+CiAgICAgICBpdCgnc2hvdWxkIGluaXQgd2l0aCAxMjM0LjU2JywgZnVuY3Rpb24oKSB7CiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1kZWZhdWx0JykpLmdldFRleHQoKSkudG9CZSgnJDEsMjM0LjU2Jyk7CiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2Ftb3VudCB8IGN1cnJlbmN5OiJVU0QkIicpKS5nZXRUZXh0KCkpLnRvQmUoJ1VTRCQxLDIzNC41NicpOwogICAgICAgfSk7CiAgICAgICBpdCgnc2hvdWxkIHVwZGF0ZScsIGZ1bmN0aW9uKCkgewogICAgICAgICBpZiAoYnJvd3Nlci5wYXJhbXMuYnJvd3NlciA9PSAnc2FmYXJpJykgewogICAgICAgICAgIC8vIFNhZmFyaSBkb2VzIG5vdCB1bmRlcnN0YW5kIHRoZSBtaW51cyBrZXkuIFNlZQogICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzQ4MQogICAgICAgICAgIHJldHVybjsKICAgICAgICAgfQogICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdhbW91bnQnKSkuY2xlYXIoKTsKICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnYW1vdW50JykpLnNlbmRLZXlzKCctMTIzNCcpOwogICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktZGVmYXVsdCcpKS5nZXRUZXh0KCkpLnRvQmUoJygkMSwyMzQuMDApJyk7CiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2Ftb3VudCB8IGN1cnJlbmN5OiJVU0QkIicpKS5nZXRUZXh0KCkpLnRvQmUoJyhVU0QkMSwyMzQuMDApJyk7CiAgICAgICB9KTsKICAgICA8L2ZpbGU+CiAgIDwvZXhhbXBsZT4KICovCmN1cnJlbmN5RmlsdGVyLiRpbmplY3QgPSBbJyRsb2NhbGUnXTsKZnVuY3Rpb24gY3VycmVuY3lGaWx0ZXIoJGxvY2FsZSkgewogIHZhciBmb3JtYXRzID0gJGxvY2FsZS5OVU1CRVJfRk9STUFUUzsKICByZXR1cm4gZnVuY3Rpb24oYW1vdW50LCBjdXJyZW5jeVN5bWJvbCl7CiAgICBpZiAoaXNVbmRlZmluZWQoY3VycmVuY3lTeW1ib2wpKSBjdXJyZW5jeVN5bWJvbCA9IGZvcm1hdHMuQ1VSUkVOQ1lfU1lNOwogICAgcmV0dXJuIGZvcm1hdE51bWJlcihhbW91bnQsIGZvcm1hdHMuUEFUVEVSTlNbMV0sIGZvcm1hdHMuR1JPVVBfU0VQLCBmb3JtYXRzLkRFQ0lNQUxfU0VQLCAyKS4KICAgICAgICAgICAgICAgIHJlcGxhY2UoL1x1MDBBNC9nLCBjdXJyZW5jeVN5bWJvbCk7CiAgfTsKfQoKLyoqCiAqIEBuZ2RvYyBmaWx0ZXIKICogQG5hbWUgbnVtYmVyCiAqIEBraW5kIGZ1bmN0aW9uCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBGb3JtYXRzIGEgbnVtYmVyIGFzIHRleHQuCiAqCiAqIElmIHRoZSBpbnB1dCBpcyBub3QgYSBudW1iZXIgYW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkLgogKgogKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IG51bWJlciBOdW1iZXIgdG8gZm9ybWF0LgogKiBAcGFyYW0geyhudW1iZXJ8c3RyaW5nKT19IGZyYWN0aW9uU2l6ZSBOdW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgdG8gcm91bmQgdGhlIG51bWJlciB0by4KICogSWYgdGhpcyBpcyBub3QgcHJvdmlkZWQgdGhlbiB0aGUgZnJhY3Rpb24gc2l6ZSBpcyBjb21wdXRlZCBmcm9tIHRoZSBjdXJyZW50IGxvY2FsZSdzIG51bWJlcgogKiBmb3JtYXR0aW5nIHBhdHRlcm4uIEluIHRoZSBjYXNlIG9mIHRoZSBkZWZhdWx0IGxvY2FsZSwgaXQgd2lsbCBiZSAzLgogKiBAcmV0dXJucyB7c3RyaW5nfSBOdW1iZXIgcm91bmRlZCB0byBkZWNpbWFsUGxhY2VzIGFuZCBwbGFjZXMgYSDigJws4oCdIGFmdGVyIGVhY2ggdGhpcmQgZGlnaXQuCiAqCiAqIEBleGFtcGxlCiAgIDxleGFtcGxlPgogICAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgICAgPHNjcmlwdD4KICAgICAgICAgZnVuY3Rpb24gQ3RybCgkc2NvcGUpIHsKICAgICAgICAgICAkc2NvcGUudmFsID0gMTIzNC41Njc4OTsKICAgICAgICAgfQogICAgICAgPC9zY3JpcHQ+CiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9IkN0cmwiPgogICAgICAgICBFbnRlciBudW1iZXI6IDxpbnB1dCBuZy1tb2RlbD0ndmFsJz48YnI+CiAgICAgICAgIERlZmF1bHQgZm9ybWF0dGluZzogPHNwYW4gaWQ9J251bWJlci1kZWZhdWx0Jz57e3ZhbCB8IG51bWJlcn19PC9zcGFuPjxicj4KICAgICAgICAgTm8gZnJhY3Rpb25zOiA8c3Bhbj57e3ZhbCB8IG51bWJlcjowfX08L3NwYW4+PGJyPgogICAgICAgICBOZWdhdGl2ZSBudW1iZXI6IDxzcGFuPnt7LXZhbCB8IG51bWJlcjo0fX08L3NwYW4+CiAgICAgICA8L2Rpdj4KICAgICA8L2ZpbGU+CiAgICAgPGZpbGUgbmFtZT0icHJvdHJhY3Rvci5qcyIgdHlwZT0icHJvdHJhY3RvciI+CiAgICAgICBpdCgnc2hvdWxkIGZvcm1hdCBudW1iZXJzJywgZnVuY3Rpb24oKSB7CiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdudW1iZXItZGVmYXVsdCcpKS5nZXRUZXh0KCkpLnRvQmUoJzEsMjM0LjU2OCcpOwogICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd2YWwgfCBudW1iZXI6MCcpKS5nZXRUZXh0KCkpLnRvQmUoJzEsMjM1Jyk7CiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJy12YWwgfCBudW1iZXI6NCcpKS5nZXRUZXh0KCkpLnRvQmUoJy0xLDIzNC41Njc5Jyk7CiAgICAgICB9KTsKCiAgICAgICBpdCgnc2hvdWxkIHVwZGF0ZScsIGZ1bmN0aW9uKCkgewogICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCd2YWwnKSkuY2xlYXIoKTsKICAgICAgICAgZWxlbWVudChieS5tb2RlbCgndmFsJykpLnNlbmRLZXlzKCczMzc0LjMzMycpOwogICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbnVtYmVyLWRlZmF1bHQnKSkuZ2V0VGV4dCgpKS50b0JlKCczLDM3NC4zMzMnKTsKICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygndmFsIHwgbnVtYmVyOjAnKSkuZ2V0VGV4dCgpKS50b0JlKCczLDM3NCcpOwogICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCctdmFsIHwgbnVtYmVyOjQnKSkuZ2V0VGV4dCgpKS50b0JlKCctMywzNzQuMzMzMCcpOwogICAgICB9KTsKICAgICA8L2ZpbGU+CiAgIDwvZXhhbXBsZT4KICovCgoKbnVtYmVyRmlsdGVyLiRpbmplY3QgPSBbJyRsb2NhbGUnXTsKZnVuY3Rpb24gbnVtYmVyRmlsdGVyKCRsb2NhbGUpIHsKICB2YXIgZm9ybWF0cyA9ICRsb2NhbGUuTlVNQkVSX0ZPUk1BVFM7CiAgcmV0dXJuIGZ1bmN0aW9uKG51bWJlciwgZnJhY3Rpb25TaXplKSB7CiAgICByZXR1cm4gZm9ybWF0TnVtYmVyKG51bWJlciwgZm9ybWF0cy5QQVRURVJOU1swXSwgZm9ybWF0cy5HUk9VUF9TRVAsIGZvcm1hdHMuREVDSU1BTF9TRVAsCiAgICAgIGZyYWN0aW9uU2l6ZSk7CiAgfTsKfQoKdmFyIERFQ0lNQUxfU0VQID0gJy4nOwpmdW5jdGlvbiBmb3JtYXROdW1iZXIobnVtYmVyLCBwYXR0ZXJuLCBncm91cFNlcCwgZGVjaW1hbFNlcCwgZnJhY3Rpb25TaXplKSB7CiAgaWYgKG51bWJlciA9PSBudWxsIHx8ICFpc0Zpbml0ZShudW1iZXIpIHx8IGlzT2JqZWN0KG51bWJlcikpIHJldHVybiAnJzsKCiAgdmFyIGlzTmVnYXRpdmUgPSBudW1iZXIgPCAwOwogIG51bWJlciA9IE1hdGguYWJzKG51bWJlcik7CiAgdmFyIG51bVN0ciA9IG51bWJlciArICcnLAogICAgICBmb3JtYXRlZFRleHQgPSAnJywKICAgICAgcGFydHMgPSBbXTsKCiAgdmFyIGhhc0V4cG9uZW50ID0gZmFsc2U7CiAgaWYgKG51bVN0ci5pbmRleE9mKCdlJykgIT09IC0xKSB7CiAgICB2YXIgbWF0Y2ggPSBudW1TdHIubWF0Y2goLyhbXGRcLl0rKWUoLT8pKFxkKykvKTsKICAgIGlmIChtYXRjaCAmJiBtYXRjaFsyXSA9PSAnLScgJiYgbWF0Y2hbM10gPiBmcmFjdGlvblNpemUgKyAxKSB7CiAgICAgIG51bVN0ciA9ICcwJzsKICAgICAgbnVtYmVyID0gMDsKICAgIH0gZWxzZSB7CiAgICAgIGZvcm1hdGVkVGV4dCA9IG51bVN0cjsKICAgICAgaGFzRXhwb25lbnQgPSB0cnVlOwogICAgfQogIH0KCiAgaWYgKCFoYXNFeHBvbmVudCkgewogICAgdmFyIGZyYWN0aW9uTGVuID0gKG51bVN0ci5zcGxpdChERUNJTUFMX1NFUClbMV0gfHwgJycpLmxlbmd0aDsKCiAgICAvLyBkZXRlcm1pbmUgZnJhY3Rpb25TaXplIGlmIGl0IGlzIG5vdCBzcGVjaWZpZWQKICAgIGlmIChpc1VuZGVmaW5lZChmcmFjdGlvblNpemUpKSB7CiAgICAgIGZyYWN0aW9uU2l6ZSA9IE1hdGgubWluKE1hdGgubWF4KHBhdHRlcm4ubWluRnJhYywgZnJhY3Rpb25MZW4pLCBwYXR0ZXJuLm1heEZyYWMpOwogICAgfQoKICAgIC8vIHNhZmVseSByb3VuZCBudW1iZXJzIGluIEpTIHdpdGhvdXQgaGl0dGluZyBpbXByZWNpc2lvbnMgb2YgZmxvYXRpbmctcG9pbnQgYXJpdGhtZXRpY3MKICAgIC8vIGluc3BpcmVkIGJ5OgogICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9yb3VuZAogICAgbnVtYmVyID0gKyhNYXRoLnJvdW5kKCsobnVtYmVyLnRvU3RyaW5nKCkgKyAnZScgKyBmcmFjdGlvblNpemUpKS50b1N0cmluZygpICsgJ2UnICsgLWZyYWN0aW9uU2l6ZSk7CgogICAgdmFyIGZyYWN0aW9uID0gKCcnICsgbnVtYmVyKS5zcGxpdChERUNJTUFMX1NFUCk7CiAgICB2YXIgd2hvbGUgPSBmcmFjdGlvblswXTsKICAgIGZyYWN0aW9uID0gZnJhY3Rpb25bMV0gfHwgJyc7CgogICAgdmFyIGksIHBvcyA9IDAsCiAgICAgICAgbGdyb3VwID0gcGF0dGVybi5sZ1NpemUsCiAgICAgICAgZ3JvdXAgPSBwYXR0ZXJuLmdTaXplOwoKICAgIGlmICh3aG9sZS5sZW5ndGggPj0gKGxncm91cCArIGdyb3VwKSkgewogICAgICBwb3MgPSB3aG9sZS5sZW5ndGggLSBsZ3JvdXA7CiAgICAgIGZvciAoaSA9IDA7IGkgPCBwb3M7IGkrKykgewogICAgICAgIGlmICgocG9zIC0gaSklZ3JvdXAgPT09IDAgJiYgaSAhPT0gMCkgewogICAgICAgICAgZm9ybWF0ZWRUZXh0ICs9IGdyb3VwU2VwOwogICAgICAgIH0KICAgICAgICBmb3JtYXRlZFRleHQgKz0gd2hvbGUuY2hhckF0KGkpOwogICAgICB9CiAgICB9CgogICAgZm9yIChpID0gcG9zOyBpIDwgd2hvbGUubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKCh3aG9sZS5sZW5ndGggLSBpKSVsZ3JvdXAgPT09IDAgJiYgaSAhPT0gMCkgewogICAgICAgIGZvcm1hdGVkVGV4dCArPSBncm91cFNlcDsKICAgICAgfQogICAgICBmb3JtYXRlZFRleHQgKz0gd2hvbGUuY2hhckF0KGkpOwogICAgfQoKICAgIC8vIGZvcm1hdCBmcmFjdGlvbiBwYXJ0LgogICAgd2hpbGUoZnJhY3Rpb24ubGVuZ3RoIDwgZnJhY3Rpb25TaXplKSB7CiAgICAgIGZyYWN0aW9uICs9ICcwJzsKICAgIH0KCiAgICBpZiAoZnJhY3Rpb25TaXplICYmIGZyYWN0aW9uU2l6ZSAhPT0gIjAiKSBmb3JtYXRlZFRleHQgKz0gZGVjaW1hbFNlcCArIGZyYWN0aW9uLnN1YnN0cigwLCBmcmFjdGlvblNpemUpOwogIH0gZWxzZSB7CgogICAgaWYgKGZyYWN0aW9uU2l6ZSA+IDAgJiYgbnVtYmVyID4gLTEgJiYgbnVtYmVyIDwgMSkgewogICAgICBmb3JtYXRlZFRleHQgPSBudW1iZXIudG9GaXhlZChmcmFjdGlvblNpemUpOwogICAgfQogIH0KCiAgcGFydHMucHVzaChpc05lZ2F0aXZlID8gcGF0dGVybi5uZWdQcmUgOiBwYXR0ZXJuLnBvc1ByZSk7CiAgcGFydHMucHVzaChmb3JtYXRlZFRleHQpOwogIHBhcnRzLnB1c2goaXNOZWdhdGl2ZSA/IHBhdHRlcm4ubmVnU3VmIDogcGF0dGVybi5wb3NTdWYpOwogIHJldHVybiBwYXJ0cy5qb2luKCcnKTsKfQoKZnVuY3Rpb24gcGFkTnVtYmVyKG51bSwgZGlnaXRzLCB0cmltKSB7CiAgdmFyIG5lZyA9ICcnOwogIGlmIChudW0gPCAwKSB7CiAgICBuZWcgPSAgJy0nOwogICAgbnVtID0gLW51bTsKICB9CiAgbnVtID0gJycgKyBudW07CiAgd2hpbGUobnVtLmxlbmd0aCA8IGRpZ2l0cykgbnVtID0gJzAnICsgbnVtOwogIGlmICh0cmltKQogICAgbnVtID0gbnVtLnN1YnN0cihudW0ubGVuZ3RoIC0gZGlnaXRzKTsKICByZXR1cm4gbmVnICsgbnVtOwp9CgoKZnVuY3Rpb24gZGF0ZUdldHRlcihuYW1lLCBzaXplLCBvZmZzZXQsIHRyaW0pIHsKICBvZmZzZXQgPSBvZmZzZXQgfHwgMDsKICByZXR1cm4gZnVuY3Rpb24oZGF0ZSkgewogICAgdmFyIHZhbHVlID0gZGF0ZVsnZ2V0JyArIG5hbWVdKCk7CiAgICBpZiAob2Zmc2V0ID4gMCB8fCB2YWx1ZSA+IC1vZmZzZXQpCiAgICAgIHZhbHVlICs9IG9mZnNldDsKICAgIGlmICh2YWx1ZSA9PT0gMCAmJiBvZmZzZXQgPT0gLTEyICkgdmFsdWUgPSAxMjsKICAgIHJldHVybiBwYWROdW1iZXIodmFsdWUsIHNpemUsIHRyaW0pOwogIH07Cn0KCmZ1bmN0aW9uIGRhdGVTdHJHZXR0ZXIobmFtZSwgc2hvcnRGb3JtKSB7CiAgcmV0dXJuIGZ1bmN0aW9uKGRhdGUsIGZvcm1hdHMpIHsKICAgIHZhciB2YWx1ZSA9IGRhdGVbJ2dldCcgKyBuYW1lXSgpOwogICAgdmFyIGdldCA9IHVwcGVyY2FzZShzaG9ydEZvcm0gPyAoJ1NIT1JUJyArIG5hbWUpIDogbmFtZSk7CgogICAgcmV0dXJuIGZvcm1hdHNbZ2V0XVt2YWx1ZV07CiAgfTsKfQoKZnVuY3Rpb24gdGltZVpvbmVHZXR0ZXIoZGF0ZSkgewogIHZhciB6b25lID0gLTEgKiBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7CiAgdmFyIHBhZGRlZFpvbmUgPSAoem9uZSA+PSAwKSA/ICIrIiA6ICIiOwoKICBwYWRkZWRab25lICs9IHBhZE51bWJlcihNYXRoW3pvbmUgPiAwID8gJ2Zsb29yJyA6ICdjZWlsJ10oem9uZSAvIDYwKSwgMikgKwogICAgICAgICAgICAgICAgcGFkTnVtYmVyKE1hdGguYWJzKHpvbmUgJSA2MCksIDIpOwoKICByZXR1cm4gcGFkZGVkWm9uZTsKfQoKZnVuY3Rpb24gYW1wbUdldHRlcihkYXRlLCBmb3JtYXRzKSB7CiAgcmV0dXJuIGRhdGUuZ2V0SG91cnMoKSA8IDEyID8gZm9ybWF0cy5BTVBNU1swXSA6IGZvcm1hdHMuQU1QTVNbMV07Cn0KCnZhciBEQVRFX0ZPUk1BVFMgPSB7CiAgeXl5eTogZGF0ZUdldHRlcignRnVsbFllYXInLCA0KSwKICAgIHl5OiBkYXRlR2V0dGVyKCdGdWxsWWVhcicsIDIsIDAsIHRydWUpLAogICAgIHk6IGRhdGVHZXR0ZXIoJ0Z1bGxZZWFyJywgMSksCiAgTU1NTTogZGF0ZVN0ckdldHRlcignTW9udGgnKSwKICAgTU1NOiBkYXRlU3RyR2V0dGVyKCdNb250aCcsIHRydWUpLAogICAgTU06IGRhdGVHZXR0ZXIoJ01vbnRoJywgMiwgMSksCiAgICAgTTogZGF0ZUdldHRlcignTW9udGgnLCAxLCAxKSwKICAgIGRkOiBkYXRlR2V0dGVyKCdEYXRlJywgMiksCiAgICAgZDogZGF0ZUdldHRlcignRGF0ZScsIDEpLAogICAgSEg6IGRhdGVHZXR0ZXIoJ0hvdXJzJywgMiksCiAgICAgSDogZGF0ZUdldHRlcignSG91cnMnLCAxKSwKICAgIGhoOiBkYXRlR2V0dGVyKCdIb3VycycsIDIsIC0xMiksCiAgICAgaDogZGF0ZUdldHRlcignSG91cnMnLCAxLCAtMTIpLAogICAgbW06IGRhdGVHZXR0ZXIoJ01pbnV0ZXMnLCAyKSwKICAgICBtOiBkYXRlR2V0dGVyKCdNaW51dGVzJywgMSksCiAgICBzczogZGF0ZUdldHRlcignU2Vjb25kcycsIDIpLAogICAgIHM6IGRhdGVHZXR0ZXIoJ1NlY29uZHMnLCAxKSwKICAgICAvLyB3aGlsZSBJU08gODYwMSByZXF1aXJlcyBmcmFjdGlvbnMgdG8gYmUgcHJlZml4ZWQgd2l0aCBgLmAgb3IgYCxgCiAgICAgLy8gd2UgY2FuIGJlIGp1c3Qgc2FmZWx5IHJlbHkgb24gdXNpbmcgYHNzc2Agc2luY2Ugd2UgY3VycmVudGx5IGRvbid0IHN1cHBvcnQgc2luZ2xlIG9yIHR3byBkaWdpdCBmcmFjdGlvbnMKICAgc3NzOiBkYXRlR2V0dGVyKCdNaWxsaXNlY29uZHMnLCAzKSwKICBFRUVFOiBkYXRlU3RyR2V0dGVyKCdEYXknKSwKICAgRUVFOiBkYXRlU3RyR2V0dGVyKCdEYXknLCB0cnVlKSwKICAgICBhOiBhbXBtR2V0dGVyLAogICAgIFo6IHRpbWVab25lR2V0dGVyCn07Cgp2YXIgREFURV9GT1JNQVRTX1NQTElUID0gLygoPzpbXnlNZEhobXNhWkUnXSspfCg/OicoPzpbXiddfCcnKSonKXwoPzpFK3x5K3xNK3xkK3xIK3xoK3xtK3xzK3xhfFopKSguKikvLAogICAgTlVNQkVSX1NUUklORyA9IC9eXC0/XGQrJC87CgovKioKICogQG5nZG9jIGZpbHRlcgogKiBAbmFtZSBkYXRlCiAqIEBraW5kIGZ1bmN0aW9uCiAqCiAqIEBkZXNjcmlwdGlvbgogKiAgIEZvcm1hdHMgYGRhdGVgIHRvIGEgc3RyaW5nIGJhc2VkIG9uIHRoZSByZXF1ZXN0ZWQgYGZvcm1hdGAuCiAqCiAqICAgYGZvcm1hdGAgc3RyaW5nIGNhbiBiZSBjb21wb3NlZCBvZiB0aGUgZm9sbG93aW5nIGVsZW1lbnRzOgogKgogKiAgICogYCd5eXl5J2A6IDQgZGlnaXQgcmVwcmVzZW50YXRpb24gb2YgeWVhciAoZS5nLiBBRCAxID0+IDAwMDEsIEFEIDIwMTAgPT4gMjAxMCkKICogICAqIGAneXknYDogMiBkaWdpdCByZXByZXNlbnRhdGlvbiBvZiB5ZWFyLCBwYWRkZWQgKDAwLTk5KS4gKGUuZy4gQUQgMjAwMSA9PiAwMSwgQUQgMjAxMCA9PiAxMCkKICogICAqIGAneSdgOiAxIGRpZ2l0IHJlcHJlc2VudGF0aW9uIG9mIHllYXIsIGUuZy4gKEFEIDEgPT4gMSwgQUQgMTk5ID0+IDE5OSkKICogICAqIGAnTU1NTSdgOiBNb250aCBpbiB5ZWFyIChKYW51YXJ5LURlY2VtYmVyKQogKiAgICogYCdNTU0nYDogTW9udGggaW4geWVhciAoSmFuLURlYykKICogICAqIGAnTU0nYDogTW9udGggaW4geWVhciwgcGFkZGVkICgwMS0xMikKICogICAqIGAnTSdgOiBNb250aCBpbiB5ZWFyICgxLTEyKQogKiAgICogYCdkZCdgOiBEYXkgaW4gbW9udGgsIHBhZGRlZCAoMDEtMzEpCiAqICAgKiBgJ2QnYDogRGF5IGluIG1vbnRoICgxLTMxKQogKiAgICogYCdFRUVFJ2A6IERheSBpbiBXZWVrLChTdW5kYXktU2F0dXJkYXkpCiAqICAgKiBgJ0VFRSdgOiBEYXkgaW4gV2VlaywgKFN1bi1TYXQpCiAqICAgKiBgJ0hIJ2A6IEhvdXIgaW4gZGF5LCBwYWRkZWQgKDAwLTIzKQogKiAgICogYCdIJ2A6IEhvdXIgaW4gZGF5ICgwLTIzKQogKiAgICogYCdoaCdgOiBIb3VyIGluIGFtL3BtLCBwYWRkZWQgKDAxLTEyKQogKiAgICogYCdoJ2A6IEhvdXIgaW4gYW0vcG0sICgxLTEyKQogKiAgICogYCdtbSdgOiBNaW51dGUgaW4gaG91ciwgcGFkZGVkICgwMC01OSkKICogICAqIGAnbSdgOiBNaW51dGUgaW4gaG91ciAoMC01OSkKICogICAqIGAnc3MnYDogU2Vjb25kIGluIG1pbnV0ZSwgcGFkZGVkICgwMC01OSkKICogICAqIGAncydgOiBTZWNvbmQgaW4gbWludXRlICgwLTU5KQogKiAgICogYCcuc3NzJyBvciAnLHNzcydgOiBNaWxsaXNlY29uZCBpbiBzZWNvbmQsIHBhZGRlZCAoMDAwLTk5OSkKICogICAqIGAnYSdgOiBhbS9wbSBtYXJrZXIKICogICAqIGAnWidgOiA0IGRpZ2l0ICgrc2lnbikgcmVwcmVzZW50YXRpb24gb2YgdGhlIHRpbWV6b25lIG9mZnNldCAoLTEyMDAtKzEyMDApCiAqCiAqICAgYGZvcm1hdGAgc3RyaW5nIGNhbiBhbHNvIGJlIG9uZSBvZiB0aGUgZm9sbG93aW5nIHByZWRlZmluZWQKICogICB7QGxpbmsgZ3VpZGUvaTE4biBsb2NhbGl6YWJsZSBmb3JtYXRzfToKICoKICogICAqIGAnbWVkaXVtJ2A6IGVxdWl2YWxlbnQgdG8gYCdNTU0gZCwgeSBoOm1tOnNzIGEnYCBmb3IgZW5fVVMgbG9jYWxlCiAqICAgICAoZS5nLiBTZXAgMywgMjAxMCAxMjowNTowOCBwbSkKICogICAqIGAnc2hvcnQnYDogZXF1aXZhbGVudCB0byBgJ00vZC95eSBoOm1tIGEnYCBmb3IgZW5fVVMgIGxvY2FsZSAoZS5nLiA5LzMvMTAgMTI6MDUgcG0pCiAqICAgKiBgJ2Z1bGxEYXRlJ2A6IGVxdWl2YWxlbnQgdG8gYCdFRUVFLCBNTU1NIGQseSdgIGZvciBlbl9VUyAgbG9jYWxlCiAqICAgICAoZS5nLiBGcmlkYXksIFNlcHRlbWJlciAzLCAyMDEwKQogKiAgICogYCdsb25nRGF0ZSdgOiBlcXVpdmFsZW50IHRvIGAnTU1NTSBkLCB5J2AgZm9yIGVuX1VTICBsb2NhbGUgKGUuZy4gU2VwdGVtYmVyIDMsIDIwMTApCiAqICAgKiBgJ21lZGl1bURhdGUnYDogZXF1aXZhbGVudCB0byBgJ01NTSBkLCB5J2AgZm9yIGVuX1VTICBsb2NhbGUgKGUuZy4gU2VwIDMsIDIwMTApCiAqICAgKiBgJ3Nob3J0RGF0ZSdgOiBlcXVpdmFsZW50IHRvIGAnTS9kL3l5J2AgZm9yIGVuX1VTIGxvY2FsZSAoZS5nLiA5LzMvMTApCiAqICAgKiBgJ21lZGl1bVRpbWUnYDogZXF1aXZhbGVudCB0byBgJ2g6bW06c3MgYSdgIGZvciBlbl9VUyBsb2NhbGUgKGUuZy4gMTI6MDU6MDggcG0pCiAqICAgKiBgJ3Nob3J0VGltZSdgOiBlcXVpdmFsZW50IHRvIGAnaDptbSBhJ2AgZm9yIGVuX1VTIGxvY2FsZSAoZS5nLiAxMjowNSBwbSkKICoKICogICBgZm9ybWF0YCBzdHJpbmcgY2FuIGNvbnRhaW4gbGl0ZXJhbCB2YWx1ZXMuIFRoZXNlIG5lZWQgdG8gYmUgcXVvdGVkIHdpdGggc2luZ2xlIHF1b3RlcyAoZS5nLgogKiAgIGAiaCAnaW4gdGhlIG1vcm5pbmcnImApLiBJbiBvcmRlciB0byBvdXRwdXQgc2luZ2xlIHF1b3RlLCB1c2UgdHdvIHNpbmdsZSBxdW90ZXMgaW4gYSBzZXF1ZW5jZQogKiAgIChlLmcuIGAiaCAnbycnY2xvY2snImApLgogKgogKiBAcGFyYW0geyhEYXRlfG51bWJlcnxzdHJpbmcpfSBkYXRlIERhdGUgdG8gZm9ybWF0IGVpdGhlciBhcyBEYXRlIG9iamVjdCwgbWlsbGlzZWNvbmRzIChzdHJpbmcgb3IKICogICAgbnVtYmVyKSBvciB2YXJpb3VzIElTTyA4NjAxIGRhdGV0aW1lIHN0cmluZyBmb3JtYXRzIChlLmcuIHl5eXktTU0tZGRUSEg6bW06c3MuU1NTWiBhbmQgaXRzCiAqICAgIHNob3J0ZXIgdmVyc2lvbnMgbGlrZSB5eXl5LU1NLWRkVEhIOm1tWiwgeXl5eS1NTS1kZCBvciB5eXl5TU1kZFRISG1tc3NaKS4gSWYgbm8gdGltZXpvbmUgaXMKICogICAgc3BlY2lmaWVkIGluIHRoZSBzdHJpbmcgaW5wdXQsIHRoZSB0aW1lIGlzIGNvbnNpZGVyZWQgdG8gYmUgaW4gdGhlIGxvY2FsIHRpbWV6b25lLgogKiBAcGFyYW0ge3N0cmluZz19IGZvcm1hdCBGb3JtYXR0aW5nIHJ1bGVzIChzZWUgRGVzY3JpcHRpb24pLiBJZiBub3Qgc3BlY2lmaWVkLAogKiAgICBgbWVkaXVtRGF0ZWAgaXMgdXNlZC4KICogQHJldHVybnMge3N0cmluZ30gRm9ybWF0dGVkIHN0cmluZyBvciB0aGUgaW5wdXQgaWYgaW5wdXQgaXMgbm90IHJlY29nbml6ZWQgYXMgZGF0ZS9taWxsaXMuCiAqCiAqIEBleGFtcGxlCiAgIDxleGFtcGxlPgogICAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgICAgPHNwYW4gbmctbm9uLWJpbmRhYmxlPnt7MTI4ODMyMzYyMzAwNiB8IGRhdGU6J21lZGl1bSd9fTwvc3Bhbj46CiAgICAgICAgICAgPHNwYW4+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTonbWVkaXVtJ319PC9zcGFuPjxicj4KICAgICAgIDxzcGFuIG5nLW5vbi1iaW5kYWJsZT57ezEyODgzMjM2MjMwMDYgfCBkYXRlOid5eXl5LU1NLWRkIEhIOm1tOnNzIFonfX08L3NwYW4+OgogICAgICAgICAgPHNwYW4+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZToneXl5eS1NTS1kZCBISDptbTpzcyBaJ319PC9zcGFuPjxicj4KICAgICAgIDxzcGFuIG5nLW5vbi1iaW5kYWJsZT57ezEyODgzMjM2MjMwMDYgfCBkYXRlOidNTS9kZC95eXl5IEAgaDptbWEnfX08L3NwYW4+OgogICAgICAgICAgPHNwYW4+e3snMTI4ODMyMzYyMzAwNicgfCBkYXRlOidNTS9kZC95eXl5IEAgaDptbWEnfX08L3NwYW4+PGJyPgogICAgIDwvZmlsZT4KICAgICA8ZmlsZSBuYW1lPSJwcm90cmFjdG9yLmpzIiB0eXBlPSJwcm90cmFjdG9yIj4KICAgICAgIGl0KCdzaG91bGQgZm9ybWF0IGRhdGUnLCBmdW5jdGlvbigpIHsKICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygiMTI4ODMyMzYyMzAwNiB8IGRhdGU6J21lZGl1bSciKSkuZ2V0VGV4dCgpKS4KICAgICAgICAgICAgdG9NYXRjaCgvT2N0IDJcZCwgMjAxMCBcZHsxLDJ9OlxkezJ9OlxkezJ9IChBTXxQTSkvKTsKICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygiMTI4ODMyMzYyMzAwNiB8IGRhdGU6J3l5eXktTU0tZGQgSEg6bW06c3MgWiciKSkuZ2V0VGV4dCgpKS4KICAgICAgICAgICAgdG9NYXRjaCgvMjAxMFwtMTBcLTJcZCBcZHsyfTpcZHsyfTpcZHsyfSAoXC18XCspP1xkezR9Lyk7CiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoIicxMjg4MzIzNjIzMDA2JyB8IGRhdGU6J01NL2RkL3l5eXkgQCBoOm1tYSciKSkuZ2V0VGV4dCgpKS4KICAgICAgICAgICAgdG9NYXRjaCgvMTBcLzJcZFwvMjAxMCBAIFxkezEsMn06XGR7Mn0oQU18UE0pLyk7CiAgICAgICB9KTsKICAgICA8L2ZpbGU+CiAgIDwvZXhhbXBsZT4KICovCmRhdGVGaWx0ZXIuJGluamVjdCA9IFsnJGxvY2FsZSddOwpmdW5jdGlvbiBkYXRlRmlsdGVyKCRsb2NhbGUpIHsKCgogIHZhciBSX0lTTzg2MDFfU1RSID0gL14oXGR7NH0pLT8oXGRcZCktPyhcZFxkKSg/OlQoXGRcZCkoPzo6PyhcZFxkKSg/Ojo/KFxkXGQpKD86XC4oXGQrKSk/KT8pPyhafChbKy1dKShcZFxkKTo/KFxkXGQpKT8pPyQvOwogICAgICAgICAgICAgICAgICAgICAvLyAxICAgICAgICAyICAgICAgIDMgICAgICAgICA0ICAgICAgICAgIDUgICAgICAgICAgNiAgICAgICAgICA3ICAgICAgICAgIDggIDkgICAgIDEwICAgICAgMTEKICBmdW5jdGlvbiBqc29uU3RyaW5nVG9EYXRlKHN0cmluZykgewogICAgdmFyIG1hdGNoOwogICAgaWYgKG1hdGNoID0gc3RyaW5nLm1hdGNoKFJfSVNPODYwMV9TVFIpKSB7CiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoMCksCiAgICAgICAgICB0ekhvdXIgPSAwLAogICAgICAgICAgdHpNaW4gID0gMCwKICAgICAgICAgIGRhdGVTZXR0ZXIgPSBtYXRjaFs4XSA/IGRhdGUuc2V0VVRDRnVsbFllYXIgOiBkYXRlLnNldEZ1bGxZZWFyLAogICAgICAgICAgdGltZVNldHRlciA9IG1hdGNoWzhdID8gZGF0ZS5zZXRVVENIb3VycyA6IGRhdGUuc2V0SG91cnM7CgogICAgICBpZiAobWF0Y2hbOV0pIHsKICAgICAgICB0ekhvdXIgPSBpbnQobWF0Y2hbOV0gKyBtYXRjaFsxMF0pOwogICAgICAgIHR6TWluID0gaW50KG1hdGNoWzldICsgbWF0Y2hbMTFdKTsKICAgICAgfQogICAgICBkYXRlU2V0dGVyLmNhbGwoZGF0ZSwgaW50KG1hdGNoWzFdKSwgaW50KG1hdGNoWzJdKSAtIDEsIGludChtYXRjaFszXSkpOwogICAgICB2YXIgaCA9IGludChtYXRjaFs0XXx8MCkgLSB0ekhvdXI7CiAgICAgIHZhciBtID0gaW50KG1hdGNoWzVdfHwwKSAtIHR6TWluOwogICAgICB2YXIgcyA9IGludChtYXRjaFs2XXx8MCk7CiAgICAgIHZhciBtcyA9IE1hdGgucm91bmQocGFyc2VGbG9hdCgnMC4nICsgKG1hdGNoWzddfHwwKSkgKiAxMDAwKTsKICAgICAgdGltZVNldHRlci5jYWxsKGRhdGUsIGgsIG0sIHMsIG1zKTsKICAgICAgcmV0dXJuIGRhdGU7CiAgICB9CiAgICByZXR1cm4gc3RyaW5nOwogIH0KCgogIHJldHVybiBmdW5jdGlvbihkYXRlLCBmb3JtYXQpIHsKICAgIHZhciB0ZXh0ID0gJycsCiAgICAgICAgcGFydHMgPSBbXSwKICAgICAgICBmbiwgbWF0Y2g7CgogICAgZm9ybWF0ID0gZm9ybWF0IHx8ICdtZWRpdW1EYXRlJzsKICAgIGZvcm1hdCA9ICRsb2NhbGUuREFURVRJTUVfRk9STUFUU1tmb3JtYXRdIHx8IGZvcm1hdDsKICAgIGlmIChpc1N0cmluZyhkYXRlKSkgewogICAgICBpZiAoTlVNQkVSX1NUUklORy50ZXN0KGRhdGUpKSB7CiAgICAgICAgZGF0ZSA9IGludChkYXRlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkYXRlID0ganNvblN0cmluZ1RvRGF0ZShkYXRlKTsKICAgICAgfQogICAgfQoKICAgIGlmIChpc051bWJlcihkYXRlKSkgewogICAgICBkYXRlID0gbmV3IERhdGUoZGF0ZSk7CiAgICB9CgogICAgaWYgKCFpc0RhdGUoZGF0ZSkpIHsKICAgICAgcmV0dXJuIGRhdGU7CiAgICB9CgogICAgd2hpbGUoZm9ybWF0KSB7CiAgICAgIG1hdGNoID0gREFURV9GT1JNQVRTX1NQTElULmV4ZWMoZm9ybWF0KTsKICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgcGFydHMgPSBjb25jYXQocGFydHMsIG1hdGNoLCAxKTsKICAgICAgICBmb3JtYXQgPSBwYXJ0cy5wb3AoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwYXJ0cy5wdXNoKGZvcm1hdCk7CiAgICAgICAgZm9ybWF0ID0gbnVsbDsKICAgICAgfQogICAgfQoKICAgIGZvckVhY2gocGFydHMsIGZ1bmN0aW9uKHZhbHVlKXsKICAgICAgZm4gPSBEQVRFX0ZPUk1BVFNbdmFsdWVdOwogICAgICB0ZXh0ICs9IGZuID8gZm4oZGF0ZSwgJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTKQogICAgICAgICAgICAgICAgIDogdmFsdWUucmVwbGFjZSgvKF4nfCckKS9nLCAnJykucmVwbGFjZSgvJycvZywgIiciKTsKICAgIH0pOwoKICAgIHJldHVybiB0ZXh0OwogIH07Cn0KCgovKioKICogQG5nZG9jIGZpbHRlcgogKiBAbmFtZSBqc29uCiAqIEBraW5kIGZ1bmN0aW9uCiAqCiAqIEBkZXNjcmlwdGlvbgogKiAgIEFsbG93cyB5b3UgdG8gY29udmVydCBhIEphdmFTY3JpcHQgb2JqZWN0IGludG8gSlNPTiBzdHJpbmcuCiAqCiAqICAgVGhpcyBmaWx0ZXIgaXMgbW9zdGx5IHVzZWZ1bCBmb3IgZGVidWdnaW5nLiBXaGVuIHVzaW5nIHRoZSBkb3VibGUgY3VybHkge3t2YWx1ZX19IG5vdGF0aW9uCiAqICAgdGhlIGJpbmRpbmcgaXMgYXV0b21hdGljYWxseSBjb252ZXJ0ZWQgdG8gSlNPTi4KICoKICogQHBhcmFtIHsqfSBvYmplY3QgQW55IEphdmFTY3JpcHQgb2JqZWN0IChpbmNsdWRpbmcgYXJyYXlzIGFuZCBwcmltaXRpdmUgdHlwZXMpIHRvIGZpbHRlci4KICogQHJldHVybnMge3N0cmluZ30gSlNPTiBzdHJpbmcuCiAqCiAqCiAqIEBleGFtcGxlCiAgIDxleGFtcGxlPgogICAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgICAgPHByZT57eyB7J25hbWUnOid2YWx1ZSd9IHwganNvbiB9fTwvcHJlPgogICAgIDwvZmlsZT4KICAgICA8ZmlsZSBuYW1lPSJwcm90cmFjdG9yLmpzIiB0eXBlPSJwcm90cmFjdG9yIj4KICAgICAgIGl0KCdzaG91bGQganNvbmlmeSBmaWx0ZXJlZCBvYmplY3RzJywgZnVuY3Rpb24oKSB7CiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoInsnbmFtZSc6J3ZhbHVlJ30iKSkuZ2V0VGV4dCgpKS50b01hdGNoKC9ce1xuICAibmFtZSI6ID8idmFsdWUiXG59Lyk7CiAgICAgICB9KTsKICAgICA8L2ZpbGU+CiAgIDwvZXhhbXBsZT4KICoKICovCmZ1bmN0aW9uIGpzb25GaWx0ZXIoKSB7CiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkgewogICAgcmV0dXJuIHRvSnNvbihvYmplY3QsIHRydWUpOwogIH07Cn0KCgovKioKICogQG5nZG9jIGZpbHRlcgogKiBAbmFtZSBsb3dlcmNhc2UKICogQGtpbmQgZnVuY3Rpb24KICogQGRlc2NyaXB0aW9uCiAqIENvbnZlcnRzIHN0cmluZyB0byBsb3dlcmNhc2UuCiAqIEBzZWUgYW5ndWxhci5sb3dlcmNhc2UKICovCnZhciBsb3dlcmNhc2VGaWx0ZXIgPSB2YWx1ZUZuKGxvd2VyY2FzZSk7CgoKLyoqCiAqIEBuZ2RvYyBmaWx0ZXIKICogQG5hbWUgdXBwZXJjYXNlCiAqIEBraW5kIGZ1bmN0aW9uCiAqIEBkZXNjcmlwdGlvbgogKiBDb252ZXJ0cyBzdHJpbmcgdG8gdXBwZXJjYXNlLgogKiBAc2VlIGFuZ3VsYXIudXBwZXJjYXNlCiAqLwp2YXIgdXBwZXJjYXNlRmlsdGVyID0gdmFsdWVGbih1cHBlcmNhc2UpOwoKLyoqCiAqIEBuZ2RvYyBmaWx0ZXIKICogQG5hbWUgbGltaXRUbwogKiBAa2luZCBmdW5jdGlvbgogKgogKiBAZGVzY3JpcHRpb24KICogQ3JlYXRlcyBhIG5ldyBhcnJheSBvciBzdHJpbmcgY29udGFpbmluZyBvbmx5IGEgc3BlY2lmaWVkIG51bWJlciBvZiBlbGVtZW50cy4gVGhlIGVsZW1lbnRzCiAqIGFyZSB0YWtlbiBmcm9tIGVpdGhlciB0aGUgYmVnaW5uaW5nIG9yIHRoZSBlbmQgb2YgdGhlIHNvdXJjZSBhcnJheSBvciBzdHJpbmcsIGFzIHNwZWNpZmllZCBieQogKiB0aGUgdmFsdWUgYW5kIHNpZ24gKHBvc2l0aXZlIG9yIG5lZ2F0aXZlKSBvZiBgbGltaXRgLgogKgogKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gaW5wdXQgU291cmNlIGFycmF5IG9yIHN0cmluZyB0byBiZSBsaW1pdGVkLgogKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IGxpbWl0IFRoZSBsZW5ndGggb2YgdGhlIHJldHVybmVkIGFycmF5IG9yIHN0cmluZy4gSWYgdGhlIGBsaW1pdGAgbnVtYmVyCiAqICAgICBpcyBwb3NpdGl2ZSwgYGxpbWl0YCBudW1iZXIgb2YgaXRlbXMgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBzb3VyY2UgYXJyYXkvc3RyaW5nIGFyZSBjb3BpZWQuCiAqICAgICBJZiB0aGUgbnVtYmVyIGlzIG5lZ2F0aXZlLCBgbGltaXRgIG51bWJlciAgb2YgaXRlbXMgZnJvbSB0aGUgZW5kIG9mIHRoZSBzb3VyY2UgYXJyYXkvc3RyaW5nCiAqICAgICBhcmUgY29waWVkLiBUaGUgYGxpbWl0YCB3aWxsIGJlIHRyaW1tZWQgaWYgaXQgZXhjZWVkcyBgYXJyYXkubGVuZ3RoYAogKiBAcmV0dXJucyB7QXJyYXl8c3RyaW5nfSBBIG5ldyBzdWItYXJyYXkgb3Igc3Vic3RyaW5nIG9mIGxlbmd0aCBgbGltaXRgIG9yIGxlc3MgaWYgaW5wdXQgYXJyYXkKICogICAgIGhhZCBsZXNzIHRoYW4gYGxpbWl0YCBlbGVtZW50cy4KICoKICogQGV4YW1wbGUKICAgPGV4YW1wbGU+CiAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgICA8c2NyaXB0PgogICAgICAgICBmdW5jdGlvbiBDdHJsKCRzY29wZSkgewogICAgICAgICAgICRzY29wZS5udW1iZXJzID0gWzEsMiwzLDQsNSw2LDcsOCw5XTsKICAgICAgICAgICAkc2NvcGUubGV0dGVycyA9ICJhYmNkZWZnaGkiOwogICAgICAgICAgICRzY29wZS5udW1MaW1pdCA9IDM7CiAgICAgICAgICAgJHNjb3BlLmxldHRlckxpbWl0ID0gMzsKICAgICAgICAgfQogICAgICAgPC9zY3JpcHQ+CiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9IkN0cmwiPgogICAgICAgICBMaW1pdCB7e251bWJlcnN9fSB0bzogPGlucHV0IHR5cGU9ImludGVnZXIiIG5nLW1vZGVsPSJudW1MaW1pdCI+CiAgICAgICAgIDxwPk91dHB1dCBudW1iZXJzOiB7eyBudW1iZXJzIHwgbGltaXRUbzpudW1MaW1pdCB9fTwvcD4KICAgICAgICAgTGltaXQge3tsZXR0ZXJzfX0gdG86IDxpbnB1dCB0eXBlPSJpbnRlZ2VyIiBuZy1tb2RlbD0ibGV0dGVyTGltaXQiPgogICAgICAgICA8cD5PdXRwdXQgbGV0dGVyczoge3sgbGV0dGVycyB8IGxpbWl0VG86bGV0dGVyTGltaXQgfX08L3A+CiAgICAgICA8L2Rpdj4KICAgICA8L2ZpbGU+CiAgICAgPGZpbGUgbmFtZT0icHJvdHJhY3Rvci5qcyIgdHlwZT0icHJvdHJhY3RvciI+CiAgICAgICB2YXIgbnVtTGltaXRJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ251bUxpbWl0JykpOwogICAgICAgdmFyIGxldHRlckxpbWl0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdsZXR0ZXJMaW1pdCcpKTsKICAgICAgIHZhciBsaW1pdGVkTnVtYmVycyA9IGVsZW1lbnQoYnkuYmluZGluZygnbnVtYmVycyB8IGxpbWl0VG86bnVtTGltaXQnKSk7CiAgICAgICB2YXIgbGltaXRlZExldHRlcnMgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2xldHRlcnMgfCBsaW1pdFRvOmxldHRlckxpbWl0JykpOwoKICAgICAgIGl0KCdzaG91bGQgbGltaXQgdGhlIG51bWJlciBhcnJheSB0byBmaXJzdCB0aHJlZSBpdGVtcycsIGZ1bmN0aW9uKCkgewogICAgICAgICBleHBlY3QobnVtTGltaXRJbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvQmUoJzMnKTsKICAgICAgICAgZXhwZWN0KGxldHRlckxpbWl0SW5wdXQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0JlKCczJyk7CiAgICAgICAgIGV4cGVjdChsaW1pdGVkTnVtYmVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBudW1iZXJzOiBbMSwyLDNdJyk7CiAgICAgICAgIGV4cGVjdChsaW1pdGVkTGV0dGVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsZXR0ZXJzOiBhYmMnKTsKICAgICAgIH0pOwoKICAgICAgIGl0KCdzaG91bGQgdXBkYXRlIHRoZSBvdXRwdXQgd2hlbiAtMyBpcyBlbnRlcmVkJywgZnVuY3Rpb24oKSB7CiAgICAgICAgIG51bUxpbWl0SW5wdXQuY2xlYXIoKTsKICAgICAgICAgbnVtTGltaXRJbnB1dC5zZW5kS2V5cygnLTMnKTsKICAgICAgICAgbGV0dGVyTGltaXRJbnB1dC5jbGVhcigpOwogICAgICAgICBsZXR0ZXJMaW1pdElucHV0LnNlbmRLZXlzKCctMycpOwogICAgICAgICBleHBlY3QobGltaXRlZE51bWJlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbnVtYmVyczogWzcsOCw5XScpOwogICAgICAgICBleHBlY3QobGltaXRlZExldHRlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbGV0dGVyczogZ2hpJyk7CiAgICAgICB9KTsKCiAgICAgICBpdCgnc2hvdWxkIG5vdCBleGNlZWQgdGhlIG1heGltdW0gc2l6ZSBvZiBpbnB1dCBhcnJheScsIGZ1bmN0aW9uKCkgewogICAgICAgICBudW1MaW1pdElucHV0LmNsZWFyKCk7CiAgICAgICAgIG51bUxpbWl0SW5wdXQuc2VuZEtleXMoJzEwMCcpOwogICAgICAgICBsZXR0ZXJMaW1pdElucHV0LmNsZWFyKCk7CiAgICAgICAgIGxldHRlckxpbWl0SW5wdXQuc2VuZEtleXMoJzEwMCcpOwogICAgICAgICBleHBlY3QobGltaXRlZE51bWJlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbnVtYmVyczogWzEsMiwzLDQsNSw2LDcsOCw5XScpOwogICAgICAgICBleHBlY3QobGltaXRlZExldHRlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbGV0dGVyczogYWJjZGVmZ2hpJyk7CiAgICAgICB9KTsKICAgICA8L2ZpbGU+CiAgIDwvZXhhbXBsZT4KICovCmZ1bmN0aW9uIGxpbWl0VG9GaWx0ZXIoKXsKICByZXR1cm4gZnVuY3Rpb24oaW5wdXQsIGxpbWl0KSB7CiAgICBpZiAoIWlzQXJyYXkoaW5wdXQpICYmICFpc1N0cmluZyhpbnB1dCkpIHJldHVybiBpbnB1dDsKCiAgICBpZiAoTWF0aC5hYnMoTnVtYmVyKGxpbWl0KSkgPT09IEluZmluaXR5KSB7CiAgICAgIGxpbWl0ID0gTnVtYmVyKGxpbWl0KTsKICAgIH0gZWxzZSB7CiAgICAgIGxpbWl0ID0gaW50KGxpbWl0KTsKICAgIH0KCiAgICBpZiAoaXNTdHJpbmcoaW5wdXQpKSB7CiAgICAgIC8vTmFOIGNoZWNrIG9uIGxpbWl0CiAgICAgIGlmIChsaW1pdCkgewogICAgICAgIHJldHVybiBsaW1pdCA+PSAwID8gaW5wdXQuc2xpY2UoMCwgbGltaXQpIDogaW5wdXQuc2xpY2UobGltaXQsIGlucHV0Lmxlbmd0aCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9CgogICAgdmFyIG91dCA9IFtdLAogICAgICBpLCBuOwoKICAgIC8vIGlmIGFicyhsaW1pdCkgZXhjZWVkcyBtYXhpbXVtIGxlbmd0aCwgdHJpbSBpdAogICAgaWYgKGxpbWl0ID4gaW5wdXQubGVuZ3RoKQogICAgICBsaW1pdCA9IGlucHV0Lmxlbmd0aDsKICAgIGVsc2UgaWYgKGxpbWl0IDwgLWlucHV0Lmxlbmd0aCkKICAgICAgbGltaXQgPSAtaW5wdXQubGVuZ3RoOwoKICAgIGlmIChsaW1pdCA+IDApIHsKICAgICAgaSA9IDA7CiAgICAgIG4gPSBsaW1pdDsKICAgIH0gZWxzZSB7CiAgICAgIGkgPSBpbnB1dC5sZW5ndGggKyBsaW1pdDsKICAgICAgbiA9IGlucHV0Lmxlbmd0aDsKICAgIH0KCiAgICBmb3IgKDsgaTxuOyBpKyspIHsKICAgICAgb3V0LnB1c2goaW5wdXRbaV0pOwogICAgfQoKICAgIHJldHVybiBvdXQ7CiAgfTsKfQoKLyoqCiAqIEBuZ2RvYyBmaWx0ZXIKICogQG5hbWUgb3JkZXJCeQogKiBAa2luZCBmdW5jdGlvbgogKgogKiBAZGVzY3JpcHRpb24KICogT3JkZXJzIGEgc3BlY2lmaWVkIGBhcnJheWAgYnkgdGhlIGBleHByZXNzaW9uYCBwcmVkaWNhdGUuIEl0IGlzIG9yZGVyZWQgYWxwaGFiZXRpY2FsbHkKICogZm9yIHN0cmluZ3MgYW5kIG51bWVyaWNhbGx5IGZvciBudW1iZXJzLiBOb3RlOiBpZiB5b3Ugbm90aWNlIG51bWJlcnMgYXJlIG5vdCBiZWluZyBzb3J0ZWQKICogY29ycmVjdGx5LCBtYWtlIHN1cmUgdGhleSBhcmUgYWN0dWFsbHkgYmVpbmcgc2F2ZWQgYXMgbnVtYmVycyBhbmQgbm90IHN0cmluZ3MuCiAqCiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzb3J0LgogKiBAcGFyYW0ge2Z1bmN0aW9uKCopfHN0cmluZ3xBcnJheS48KGZ1bmN0aW9uKCopfHN0cmluZyk+fSBleHByZXNzaW9uIEEgcHJlZGljYXRlIHRvIGJlCiAqICAgIHVzZWQgYnkgdGhlIGNvbXBhcmF0b3IgdG8gZGV0ZXJtaW5lIHRoZSBvcmRlciBvZiBlbGVtZW50cy4KICoKICogICAgQ2FuIGJlIG9uZSBvZjoKICoKICogICAgLSBgZnVuY3Rpb25gOiBHZXR0ZXIgZnVuY3Rpb24uIFRoZSByZXN1bHQgb2YgdGhpcyBmdW5jdGlvbiB3aWxsIGJlIHNvcnRlZCB1c2luZyB0aGUKICogICAgICBgPGAsIGA9YCwgYD5gIG9wZXJhdG9yLgogKiAgICAtIGBzdHJpbmdgOiBBbiBBbmd1bGFyIGV4cHJlc3Npb24gd2hpY2ggZXZhbHVhdGVzIHRvIGFuIG9iamVjdCB0byBvcmRlciBieSwgc3VjaCBhcyAnbmFtZScKICogICAgICB0byBzb3J0IGJ5IGEgcHJvcGVydHkgY2FsbGVkICduYW1lJy4gT3B0aW9uYWxseSBwcmVmaXhlZCB3aXRoIGArYCBvciBgLWAgdG8gY29udHJvbAogKiAgICAgIGFzY2VuZGluZyBvciBkZXNjZW5kaW5nIHNvcnQgb3JkZXIgKGZvciBleGFtcGxlLCArbmFtZSBvciAtbmFtZSkuCiAqICAgIC0gYEFycmF5YDogQW4gYXJyYXkgb2YgZnVuY3Rpb24gb3Igc3RyaW5nIHByZWRpY2F0ZXMuIFRoZSBmaXJzdCBwcmVkaWNhdGUgaW4gdGhlIGFycmF5CiAqICAgICAgaXMgdXNlZCBmb3Igc29ydGluZywgYnV0IHdoZW4gdHdvIGl0ZW1zIGFyZSBlcXVpdmFsZW50LCB0aGUgbmV4dCBwcmVkaWNhdGUgaXMgdXNlZC4KICoKICogQHBhcmFtIHtib29sZWFuPX0gcmV2ZXJzZSBSZXZlcnNlIHRoZSBvcmRlciBvZiB0aGUgYXJyYXkuCiAqIEByZXR1cm5zIHtBcnJheX0gU29ydGVkIGNvcHkgb2YgdGhlIHNvdXJjZSBhcnJheS4KICoKICogQGV4YW1wbGUKICAgPGV4YW1wbGU+CiAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgICA8c2NyaXB0PgogICAgICAgICBmdW5jdGlvbiBDdHJsKCRzY29wZSkgewogICAgICAgICAgICRzY29wZS5mcmllbmRzID0KICAgICAgICAgICAgICAgW3tuYW1lOidKb2huJywgcGhvbmU6JzU1NS0xMjEyJywgYWdlOjEwfSwKICAgICAgICAgICAgICAgIHtuYW1lOidNYXJ5JywgcGhvbmU6JzU1NS05ODc2JywgYWdlOjE5fSwKICAgICAgICAgICAgICAgIHtuYW1lOidNaWtlJywgcGhvbmU6JzU1NS00MzIxJywgYWdlOjIxfSwKICAgICAgICAgICAgICAgIHtuYW1lOidBZGFtJywgcGhvbmU6JzU1NS01Njc4JywgYWdlOjM1fSwKICAgICAgICAgICAgICAgIHtuYW1lOidKdWxpZScsIHBob25lOic1NTUtODc2NScsIGFnZToyOX1dCiAgICAgICAgICAgJHNjb3BlLnByZWRpY2F0ZSA9ICctYWdlJzsKICAgICAgICAgfQogICAgICAgPC9zY3JpcHQ+CiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9IkN0cmwiPgogICAgICAgICA8cHJlPlNvcnRpbmcgcHJlZGljYXRlID0ge3twcmVkaWNhdGV9fTsgcmV2ZXJzZSA9IHt7cmV2ZXJzZX19PC9wcmU+CiAgICAgICAgIDxoci8+CiAgICAgICAgIFsgPGEgaHJlZj0iIiBuZy1jbGljaz0icHJlZGljYXRlPScnIj51bnNvcnRlZDwvYT4gXQogICAgICAgICA8dGFibGUgY2xhc3M9ImZyaWVuZCI+CiAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgPHRoPjxhIGhyZWY9IiIgbmctY2xpY2s9InByZWRpY2F0ZSA9ICduYW1lJzsgcmV2ZXJzZT1mYWxzZSI+TmFtZTwvYT4KICAgICAgICAgICAgICAgICAoPGEgaHJlZj0iIiBuZy1jbGljaz0icHJlZGljYXRlID0gJy1uYW1lJzsgcmV2ZXJzZT1mYWxzZSI+XjwvYT4pPC90aD4KICAgICAgICAgICAgIDx0aD48YSBocmVmPSIiIG5nLWNsaWNrPSJwcmVkaWNhdGUgPSAncGhvbmUnOyByZXZlcnNlPSFyZXZlcnNlIj5QaG9uZSBOdW1iZXI8L2E+PC90aD4KICAgICAgICAgICAgIDx0aD48YSBocmVmPSIiIG5nLWNsaWNrPSJwcmVkaWNhdGUgPSAnYWdlJzsgcmV2ZXJzZT0hcmV2ZXJzZSI+QWdlPC9hPjwvdGg+CiAgICAgICAgICAgPC90cj4KICAgICAgICAgICA8dHIgbmctcmVwZWF0PSJmcmllbmQgaW4gZnJpZW5kcyB8IG9yZGVyQnk6cHJlZGljYXRlOnJldmVyc2UiPgogICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+CiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQucGhvbmV9fTwvdGQ+CiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQuYWdlfX08L3RkPgogICAgICAgICAgIDwvdHI+CiAgICAgICAgIDwvdGFibGU+CiAgICAgICA8L2Rpdj4KICAgICA8L2ZpbGU+CiAgIDwvZXhhbXBsZT4KICoKICogSXQncyBhbHNvIHBvc3NpYmxlIHRvIGNhbGwgdGhlIG9yZGVyQnkgZmlsdGVyIG1hbnVhbGx5LCBieSBpbmplY3RpbmcgYCRmaWx0ZXJgLCByZXRyaWV2aW5nIHRoZQogKiBmaWx0ZXIgcm91dGluZSB3aXRoIGAkZmlsdGVyKCdvcmRlckJ5JylgLCBhbmQgY2FsbGluZyB0aGUgcmV0dXJuZWQgZmlsdGVyIHJvdXRpbmUgd2l0aCB0aGUKICogZGVzaXJlZCBwYXJhbWV0ZXJzLgogKgogKiBFeGFtcGxlOgogKgogKiBAZXhhbXBsZQogIDxleGFtcGxlPgogICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgIDxkaXYgbmctY29udHJvbGxlcj0iQ3RybCI+CiAgICAgICAgPHRhYmxlIGNsYXNzPSJmcmllbmQiPgogICAgICAgICAgPHRyPgogICAgICAgICAgICA8dGg+PGEgaHJlZj0iIiBuZy1jbGljaz0icmV2ZXJzZT1mYWxzZTtvcmRlcignbmFtZScsIGZhbHNlKSI+TmFtZTwvYT4KICAgICAgICAgICAgICAoPGEgaHJlZj0iIiBuZy1jbGljaz0ib3JkZXIoJy1uYW1lJyxmYWxzZSkiPl48L2E+KTwvdGg+CiAgICAgICAgICAgIDx0aD48YSBocmVmPSIiIG5nLWNsaWNrPSJyZXZlcnNlPSFyZXZlcnNlO29yZGVyKCdwaG9uZScsIHJldmVyc2UpIj5QaG9uZSBOdW1iZXI8L2E+PC90aD4KICAgICAgICAgICAgPHRoPjxhIGhyZWY9IiIgbmctY2xpY2s9InJldmVyc2U9IXJldmVyc2U7b3JkZXIoJ2FnZScscmV2ZXJzZSkiPkFnZTwvYT48L3RoPgogICAgICAgICAgPC90cj4KICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9ImZyaWVuZCBpbiBmcmllbmRzIj4KICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+CiAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5waG9uZX19PC90ZD4KICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLmFnZX19PC90ZD4KICAgICAgICAgIDwvdHI+CiAgICAgICAgPC90YWJsZT4KICAgICAgPC9kaXY+CiAgICA8L2ZpbGU+CgogICAgPGZpbGUgbmFtZT0ic2NyaXB0LmpzIj4KICAgICAgZnVuY3Rpb24gQ3RybCgkc2NvcGUsICRmaWx0ZXIpIHsKICAgICAgICB2YXIgb3JkZXJCeSA9ICRmaWx0ZXIoJ29yZGVyQnknKTsKICAgICAgICAkc2NvcGUuZnJpZW5kcyA9IFsKICAgICAgICAgIHsgbmFtZTogJ0pvaG4nLCAgICBwaG9uZTogJzU1NS0xMjEyJywgICAgYWdlOiAxMCB9LAogICAgICAgICAgeyBuYW1lOiAnTWFyeScsICAgIHBob25lOiAnNTU1LTk4NzYnLCAgICBhZ2U6IDE5IH0sCiAgICAgICAgICB7IG5hbWU6ICdNaWtlJywgICAgcGhvbmU6ICc1NTUtNDMyMScsICAgIGFnZTogMjEgfSwKICAgICAgICAgIHsgbmFtZTogJ0FkYW0nLCAgICBwaG9uZTogJzU1NS01Njc4JywgICAgYWdlOiAzNSB9LAogICAgICAgICAgeyBuYW1lOiAnSnVsaWUnLCAgIHBob25lOiAnNTU1LTg3NjUnLCAgICBhZ2U6IDI5IH0KICAgICAgICBdOwoKICAgICAgICAkc2NvcGUub3JkZXIgPSBmdW5jdGlvbihwcmVkaWNhdGUsIHJldmVyc2UpIHsKICAgICAgICAgICRzY29wZS5mcmllbmRzID0gb3JkZXJCeSgkc2NvcGUuZnJpZW5kcywgcHJlZGljYXRlLCByZXZlcnNlKTsKICAgICAgICB9OwogICAgICAgICRzY29wZS5vcmRlcignLWFnZScsZmFsc2UpOwogICAgICB9CiAgICA8L2ZpbGU+CjwvZXhhbXBsZT4KICovCm9yZGVyQnlGaWx0ZXIuJGluamVjdCA9IFsnJHBhcnNlJ107CmZ1bmN0aW9uIG9yZGVyQnlGaWx0ZXIoJHBhcnNlKXsKICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIHNvcnRQcmVkaWNhdGUsIHJldmVyc2VPcmRlcikgewogICAgaWYgKCFpc0FycmF5KGFycmF5KSkgcmV0dXJuIGFycmF5OwogICAgaWYgKCFzb3J0UHJlZGljYXRlKSByZXR1cm4gYXJyYXk7CiAgICBzb3J0UHJlZGljYXRlID0gaXNBcnJheShzb3J0UHJlZGljYXRlKSA/IHNvcnRQcmVkaWNhdGU6IFtzb3J0UHJlZGljYXRlXTsKICAgIHNvcnRQcmVkaWNhdGUgPSBtYXAoc29ydFByZWRpY2F0ZSwgZnVuY3Rpb24ocHJlZGljYXRlKXsKICAgICAgdmFyIGRlc2NlbmRpbmcgPSBmYWxzZSwgZ2V0ID0gcHJlZGljYXRlIHx8IGlkZW50aXR5OwogICAgICBpZiAoaXNTdHJpbmcocHJlZGljYXRlKSkgewogICAgICAgIGlmICgocHJlZGljYXRlLmNoYXJBdCgwKSA9PSAnKycgfHwgcHJlZGljYXRlLmNoYXJBdCgwKSA9PSAnLScpKSB7CiAgICAgICAgICBkZXNjZW5kaW5nID0gcHJlZGljYXRlLmNoYXJBdCgwKSA9PSAnLSc7CiAgICAgICAgICBwcmVkaWNhdGUgPSBwcmVkaWNhdGUuc3Vic3RyaW5nKDEpOwogICAgICAgIH0KICAgICAgICBnZXQgPSAkcGFyc2UocHJlZGljYXRlKTsKICAgICAgICBpZiAoZ2V0LmNvbnN0YW50KSB7CiAgICAgICAgICB2YXIga2V5ID0gZ2V0KCk7CiAgICAgICAgICByZXR1cm4gcmV2ZXJzZUNvbXBhcmF0b3IoZnVuY3Rpb24oYSxiKSB7CiAgICAgICAgICAgIHJldHVybiBjb21wYXJlKGFba2V5XSwgYltrZXldKTsKICAgICAgICAgIH0sIGRlc2NlbmRpbmcpOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gcmV2ZXJzZUNvbXBhcmF0b3IoZnVuY3Rpb24oYSxiKXsKICAgICAgICByZXR1cm4gY29tcGFyZShnZXQoYSksZ2V0KGIpKTsKICAgICAgfSwgZGVzY2VuZGluZyk7CiAgICB9KTsKICAgIHZhciBhcnJheUNvcHkgPSBbXTsKICAgIGZvciAoIHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7IGFycmF5Q29weS5wdXNoKGFycmF5W2ldKTsgfQogICAgcmV0dXJuIGFycmF5Q29weS5zb3J0KHJldmVyc2VDb21wYXJhdG9yKGNvbXBhcmF0b3IsIHJldmVyc2VPcmRlcikpOwoKICAgIGZ1bmN0aW9uIGNvbXBhcmF0b3IobzEsIG8yKXsKICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDwgc29ydFByZWRpY2F0ZS5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBjb21wID0gc29ydFByZWRpY2F0ZVtpXShvMSwgbzIpOwogICAgICAgIGlmIChjb21wICE9PSAwKSByZXR1cm4gY29tcDsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGZ1bmN0aW9uIHJldmVyc2VDb21wYXJhdG9yKGNvbXAsIGRlc2NlbmRpbmcpIHsKICAgICAgcmV0dXJuIHRvQm9vbGVhbihkZXNjZW5kaW5nKQogICAgICAgICAgPyBmdW5jdGlvbihhLGIpe3JldHVybiBjb21wKGIsYSk7fQogICAgICAgICAgOiBjb21wOwogICAgfQogICAgZnVuY3Rpb24gY29tcGFyZSh2MSwgdjIpewogICAgICB2YXIgdDEgPSB0eXBlb2YgdjE7CiAgICAgIHZhciB0MiA9IHR5cGVvZiB2MjsKICAgICAgaWYgKHQxID09IHQyKSB7CiAgICAgICAgaWYgKHQxID09ICJzdHJpbmciKSB7CiAgICAgICAgICAgdjEgPSB2MS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgIHYyID0gdjIudG9Mb3dlckNhc2UoKTsKICAgICAgICB9CiAgICAgICAgaWYgKHYxID09PSB2MikgcmV0dXJuIDA7CiAgICAgICAgcmV0dXJuIHYxIDwgdjIgPyAtMSA6IDE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHQxIDwgdDIgPyAtMSA6IDE7CiAgICAgIH0KICAgIH0KICB9Owp9CgpmdW5jdGlvbiBuZ0RpcmVjdGl2ZShkaXJlY3RpdmUpIHsKICBpZiAoaXNGdW5jdGlvbihkaXJlY3RpdmUpKSB7CiAgICBkaXJlY3RpdmUgPSB7CiAgICAgIGxpbms6IGRpcmVjdGl2ZQogICAgfTsKICB9CiAgZGlyZWN0aXZlLnJlc3RyaWN0ID0gZGlyZWN0aXZlLnJlc3RyaWN0IHx8ICdBQyc7CiAgcmV0dXJuIHZhbHVlRm4oZGlyZWN0aXZlKTsKfQoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgYQogKiBAcmVzdHJpY3QgRQogKgogKiBAZGVzY3JpcHRpb24KICogTW9kaWZpZXMgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb2YgdGhlIGh0bWwgQSB0YWcgc28gdGhhdCB0aGUgZGVmYXVsdCBhY3Rpb24gaXMgcHJldmVudGVkIHdoZW4KICogdGhlIGhyZWYgYXR0cmlidXRlIGlzIGVtcHR5LgogKgogKiBUaGlzIGNoYW5nZSBwZXJtaXRzIHRoZSBlYXN5IGNyZWF0aW9uIG9mIGFjdGlvbiBsaW5rcyB3aXRoIHRoZSBgbmdDbGlja2AgZGlyZWN0aXZlCiAqIHdpdGhvdXQgY2hhbmdpbmcgdGhlIGxvY2F0aW9uIG9yIGNhdXNpbmcgcGFnZSByZWxvYWRzLCBlLmcuOgogKiBgPGEgaHJlZj0iIiBuZy1jbGljaz0ibGlzdC5hZGRJdGVtKCkiPkFkZCBJdGVtPC9hPmAKICovCnZhciBodG1sQW5jaG9yRGlyZWN0aXZlID0gdmFsdWVGbih7CiAgcmVzdHJpY3Q6ICdFJywKICBjb21waWxlOiBmdW5jdGlvbihlbGVtZW50LCBhdHRyKSB7CgogICAgaWYgKG1zaWUgPD0gOCkgewoKICAgICAgLy8gdHVybiA8YSBocmVmIG5nLWNsaWNrPSIuLiI+bGluazwvYT4gaW50byBhIHN0eWxhYmxlIGxpbmsgaW4gSUUKICAgICAgLy8gYnV0IG9ubHkgaWYgaXQgZG9lc24ndCBoYXZlIG5hbWUgYXR0cmlidXRlLCBpbiB3aGljaCBjYXNlIGl0J3MgYW4gYW5jaG9yCiAgICAgIGlmICghYXR0ci5ocmVmICYmICFhdHRyLm5hbWUpIHsKICAgICAgICBhdHRyLiRzZXQoJ2hyZWYnLCAnJyk7CiAgICAgIH0KCiAgICAgIC8vIGFkZCBhIGNvbW1lbnQgbm9kZSB0byBhbmNob3JzIHRvIHdvcmthcm91bmQgSUUgYnVnIHRoYXQgY2F1c2VzIGVsZW1lbnQgY29udGVudCB0byBiZSByZXNldAogICAgICAvLyB0byBuZXcgYXR0cmlidXRlIGNvbnRlbnQgaWYgYXR0cmlidXRlIGlzIHVwZGF0ZWQgd2l0aCB2YWx1ZSBjb250YWluaW5nIEAgYW5kIGVsZW1lbnQgYWxzbwogICAgICAvLyBjb250YWlucyB2YWx1ZSB3aXRoIEAKICAgICAgLy8gc2VlIGlzc3VlICMxOTQ5CiAgICAgIGVsZW1lbnQuYXBwZW5kKGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJ0lFIGZpeCcpKTsKICAgIH0KCiAgICBpZiAoIWF0dHIuaHJlZiAmJiAhYXR0ci54bGlua0hyZWYgJiYgIWF0dHIubmFtZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQpIHsKICAgICAgICAvLyBTVkdBRWxlbWVudCBkb2VzIG5vdCB1c2UgdGhlIGhyZWYgYXR0cmlidXRlLCBidXQgcmF0aGVyIHRoZSAneGxpbmtIcmVmJyBhdHRyaWJ1dGUuCiAgICAgICAgdmFyIGhyZWYgPSB0b1N0cmluZy5jYWxsKGVsZW1lbnQucHJvcCgnaHJlZicpKSA9PT0gJ1tvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddJyA/CiAgICAgICAgICAgICAgICAgICAneGxpbms6aHJlZicgOiAnaHJlZic7CiAgICAgICAgZWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAvLyBpZiB3ZSBoYXZlIG5vIGhyZWYgdXJsLCB0aGVuIGRvbid0IG5hdmlnYXRlIGFueXdoZXJlLgogICAgICAgICAgaWYgKCFlbGVtZW50LmF0dHIoaHJlZikpIHsKICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfTsKICAgIH0KICB9Cn0pOwoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgbmdIcmVmCiAqIEByZXN0cmljdCBBCiAqIEBwcmlvcml0eSA5OQogKgogKiBAZGVzY3JpcHRpb24KICogVXNpbmcgQW5ndWxhciBtYXJrdXAgbGlrZSBge3toYXNofX1gIGluIGFuIGhyZWYgYXR0cmlidXRlIHdpbGwKICogbWFrZSB0aGUgbGluayBnbyB0byB0aGUgd3JvbmcgVVJMIGlmIHRoZSB1c2VyIGNsaWNrcyBpdCBiZWZvcmUKICogQW5ndWxhciBoYXMgYSBjaGFuY2UgdG8gcmVwbGFjZSB0aGUgYHt7aGFzaH19YCBtYXJrdXAgd2l0aCBpdHMKICogdmFsdWUuIFVudGlsIEFuZ3VsYXIgcmVwbGFjZXMgdGhlIG1hcmt1cCB0aGUgbGluayB3aWxsIGJlIGJyb2tlbgogKiBhbmQgd2lsbCBtb3N0IGxpa2VseSByZXR1cm4gYSA0MDQgZXJyb3IuCiAqCiAqIFRoZSBgbmdIcmVmYCBkaXJlY3RpdmUgc29sdmVzIHRoaXMgcHJvYmxlbS4KICoKICogVGhlIHdyb25nIHdheSB0byB3cml0ZSBpdDoKICogYGBgaHRtbAogKiA8YSBocmVmPSJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX0iLz4KICogYGBgCiAqCiAqIFRoZSBjb3JyZWN0IHdheSB0byB3cml0ZSBpdDoKICogYGBgaHRtbAogKiA8YSBuZy1ocmVmPSJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX0iLz4KICogYGBgCiAqCiAqIEBlbGVtZW50IEEKICogQHBhcmFtIHt0ZW1wbGF0ZX0gbmdIcmVmIGFueSBzdHJpbmcgd2hpY2ggY2FuIGNvbnRhaW4gYHt7fX1gIG1hcmt1cC4KICoKICogQGV4YW1wbGUKICogVGhpcyBleGFtcGxlIHNob3dzIHZhcmlvdXMgY29tYmluYXRpb25zIG9mIGBocmVmYCwgYG5nLWhyZWZgIGFuZCBgbmctY2xpY2tgIGF0dHJpYnV0ZXMKICogaW4gbGlua3MgYW5kIHRoZWlyIGRpZmZlcmVudCBiZWhhdmlvcnM6CiAgICA8ZXhhbXBsZT4KICAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgICAgPGlucHV0IG5nLW1vZGVsPSJ2YWx1ZSIgLz48YnIgLz4KICAgICAgICA8YSBpZD0ibGluay0xIiBocmVmIG5nLWNsaWNrPSJ2YWx1ZSA9IDEiPmxpbmsgMTwvYT4gKGxpbmssIGRvbid0IHJlbG9hZCk8YnIgLz4KICAgICAgICA8YSBpZD0ibGluay0yIiBocmVmPSIiIG5nLWNsaWNrPSJ2YWx1ZSA9IDIiPmxpbmsgMjwvYT4gKGxpbmssIGRvbid0IHJlbG9hZCk8YnIgLz4KICAgICAgICA8YSBpZD0ibGluay0zIiBuZy1ocmVmPSIve3snMTIzJ319Ij5saW5rIDM8L2E+IChsaW5rLCByZWxvYWQhKTxiciAvPgogICAgICAgIDxhIGlkPSJsaW5rLTQiIGhyZWY9IiIgbmFtZT0ieHgiIG5nLWNsaWNrPSJ2YWx1ZSA9IDQiPmFuY2hvcjwvYT4gKGxpbmssIGRvbid0IHJlbG9hZCk8YnIgLz4KICAgICAgICA8YSBpZD0ibGluay01IiBuYW1lPSJ4eHgiIG5nLWNsaWNrPSJ2YWx1ZSA9IDUiPmFuY2hvcjwvYT4gKG5vIGxpbmspPGJyIC8+CiAgICAgICAgPGEgaWQ9ImxpbmstNiIgbmctaHJlZj0ie3t2YWx1ZX19Ij5saW5rPC9hPiAobGluaywgY2hhbmdlIGxvY2F0aW9uKQogICAgICA8L2ZpbGU+CiAgICAgIDxmaWxlIG5hbWU9InByb3RyYWN0b3IuanMiIHR5cGU9InByb3RyYWN0b3IiPgogICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBuZy1jbGljayBidXQgbm90IHJlbG9hZCB3aGVuIGhyZWYgd2l0aG91dCB2YWx1ZScsIGZ1bmN0aW9uKCkgewogICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay0xJykpLmNsaWNrKCk7CiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCcxJyk7CiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay0xJykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b0JlKCcnKTsKICAgICAgICB9KTsKCiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGJ1dCBub3QgcmVsb2FkIHdoZW4gaHJlZiBlbXB0eSBzdHJpbmcnLCBmdW5jdGlvbigpIHsKICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstMicpKS5jbGljaygpOwogICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnMicpOwogICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstMicpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9CZSgnJyk7CiAgICAgICAgfSk7CgogICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBuZy1jbGljayBhbmQgY2hhbmdlIHVybCB3aGVuIG5nLWhyZWYgc3BlY2lmaWVkJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay0zJykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b01hdGNoKC9cLzEyMyQvKTsKCiAgICAgICAgICBlbGVtZW50KGJ5LmlkKCdsaW5rLTMnKSkuY2xpY2soKTsKCiAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCB3ZSBuYXZpZ2F0ZSBhd2F5IGZyb20gYW4gQW5ndWxhciBwYWdlLCBzbyB3ZSBuZWVkCiAgICAgICAgICAvLyB0byB1c2UgYnJvd3Nlci5kcml2ZXIgdG8gZ2V0IHRoZSBiYXNlIHdlYmRyaXZlci4KCiAgICAgICAgICBicm93c2VyLndhaXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiBicm93c2VyLmRyaXZlci5nZXRDdXJyZW50VXJsKCkudGhlbihmdW5jdGlvbih1cmwpIHsKICAgICAgICAgICAgICByZXR1cm4gdXJsLm1hdGNoKC9cLzEyMyQvKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LCAxMDAwLCAncGFnZSBzaG91bGQgbmF2aWdhdGUgdG8gLzEyMycpOwogICAgICAgIH0pOwoKICAgICAgICB4aXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGJ1dCBub3QgcmVsb2FkIHdoZW4gaHJlZiBlbXB0eSBzdHJpbmcgYW5kIG5hbWUgc3BlY2lmaWVkJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICBlbGVtZW50KGJ5LmlkKCdsaW5rLTQnKSkuY2xpY2soKTsKICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJzQnKTsKICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5rLTQnKSkuZ2V0QXR0cmlidXRlKCdocmVmJykpLnRvQmUoJycpOwogICAgICAgIH0pOwoKICAgICAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgbmctY2xpY2sgYnV0IG5vdCByZWxvYWQgd2hlbiBubyBocmVmIGJ1dCBuYW1lIHNwZWNpZmllZCcsIGZ1bmN0aW9uKCkgewogICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay01JykpLmNsaWNrKCk7CiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCc1Jyk7CiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay01JykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b0JlKG51bGwpOwogICAgICAgIH0pOwoKICAgICAgICBpdCgnc2hvdWxkIG9ubHkgY2hhbmdlIHVybCB3aGVuIG9ubHkgbmctaHJlZicsIGZ1bmN0aW9uKCkgewogICAgICAgICAgZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuY2xlYXIoKTsKICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLnNlbmRLZXlzKCc2Jyk7CiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay02JykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b01hdGNoKC9cLzYkLyk7CgogICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay02JykpLmNsaWNrKCk7CgogICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgd2UgbmF2aWdhdGUgYXdheSBmcm9tIGFuIEFuZ3VsYXIgcGFnZSwgc28gd2UgbmVlZAogICAgICAgICAgLy8gdG8gdXNlIGJyb3dzZXIuZHJpdmVyIHRvIGdldCB0aGUgYmFzZSB3ZWJkcml2ZXIuCiAgICAgICAgICBicm93c2VyLndhaXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiBicm93c2VyLmRyaXZlci5nZXRDdXJyZW50VXJsKCkudGhlbihmdW5jdGlvbih1cmwpIHsKICAgICAgICAgICAgICByZXR1cm4gdXJsLm1hdGNoKC9cLzYkLyk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSwgMTAwMCwgJ3BhZ2Ugc2hvdWxkIG5hdmlnYXRlIHRvIC82Jyk7CiAgICAgICAgfSk7CiAgICAgIDwvZmlsZT4KICAgIDwvZXhhbXBsZT4KICovCgovKioKICogQG5nZG9jIGRpcmVjdGl2ZQogKiBAbmFtZSBuZ1NyYwogKiBAcmVzdHJpY3QgQQogKiBAcHJpb3JpdHkgOTkKICoKICogQGRlc2NyaXB0aW9uCiAqIFVzaW5nIEFuZ3VsYXIgbWFya3VwIGxpa2UgYHt7aGFzaH19YCBpbiBhIGBzcmNgIGF0dHJpYnV0ZSBkb2Vzbid0CiAqIHdvcmsgcmlnaHQ6IFRoZSBicm93c2VyIHdpbGwgZmV0Y2ggZnJvbSB0aGUgVVJMIHdpdGggdGhlIGxpdGVyYWwKICogdGV4dCBge3toYXNofX1gIHVudGlsIEFuZ3VsYXIgcmVwbGFjZXMgdGhlIGV4cHJlc3Npb24gaW5zaWRlCiAqIGB7e2hhc2h9fWAuIFRoZSBgbmdTcmNgIGRpcmVjdGl2ZSBzb2x2ZXMgdGhpcyBwcm9ibGVtLgogKgogKiBUaGUgYnVnZ3kgd2F5IHRvIHdyaXRlIGl0OgogKiBgYGBodG1sCiAqIDxpbWcgc3JjPSJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX0iLz4KICogYGBgCiAqCiAqIFRoZSBjb3JyZWN0IHdheSB0byB3cml0ZSBpdDoKICogYGBgaHRtbAogKiA8aW1nIG5nLXNyYz0iaHR0cDovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyL3t7aGFzaH19Ii8+CiAqIGBgYAogKgogKiBAZWxlbWVudCBJTUcKICogQHBhcmFtIHt0ZW1wbGF0ZX0gbmdTcmMgYW55IHN0cmluZyB3aGljaCBjYW4gY29udGFpbiBge3t9fWAgbWFya3VwLgogKi8KCi8qKgogKiBAbmdkb2MgZGlyZWN0aXZlCiAqIEBuYW1lIG5nU3Jjc2V0CiAqIEByZXN0cmljdCBBCiAqIEBwcmlvcml0eSA5OQogKgogKiBAZGVzY3JpcHRpb24KICogVXNpbmcgQW5ndWxhciBtYXJrdXAgbGlrZSBge3toYXNofX1gIGluIGEgYHNyY3NldGAgYXR0cmlidXRlIGRvZXNuJ3QKICogd29yayByaWdodDogVGhlIGJyb3dzZXIgd2lsbCBmZXRjaCBmcm9tIHRoZSBVUkwgd2l0aCB0aGUgbGl0ZXJhbAogKiB0ZXh0IGB7e2hhc2h9fWAgdW50aWwgQW5ndWxhciByZXBsYWNlcyB0aGUgZXhwcmVzc2lvbiBpbnNpZGUKICogYHt7aGFzaH19YC4gVGhlIGBuZ1NyY3NldGAgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0uCiAqCiAqIFRoZSBidWdneSB3YXkgdG8gd3JpdGUgaXQ6CiAqIGBgYGh0bWwKICogPGltZyBzcmNzZXQ9Imh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fSAyeCIvPgogKiBgYGAKICoKICogVGhlIGNvcnJlY3Qgd2F5IHRvIHdyaXRlIGl0OgogKiBgYGBodG1sCiAqIDxpbWcgbmctc3Jjc2V0PSJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX0gMngiLz4KICogYGBgCiAqCiAqIEBlbGVtZW50IElNRwogKiBAcGFyYW0ge3RlbXBsYXRlfSBuZ1NyY3NldCBhbnkgc3RyaW5nIHdoaWNoIGNhbiBjb250YWluIGB7e319YCBtYXJrdXAuCiAqLwoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgbmdEaXNhYmxlZAogKiBAcmVzdHJpY3QgQQogKiBAcHJpb3JpdHkgMTAwCiAqCiAqIEBkZXNjcmlwdGlvbgogKgogKiBUaGUgZm9sbG93aW5nIG1hcmt1cCB3aWxsIG1ha2UgdGhlIGJ1dHRvbiBlbmFibGVkIG9uIENocm9tZS9GaXJlZm94IGJ1dCBub3Qgb24gSUU4IGFuZCBvbGRlciBJRXM6CiAqIGBgYGh0bWwKICogPGRpdiBuZy1pbml0PSJzY29wZSA9IHsgaXNEaXNhYmxlZDogZmFsc2UgfSI+CiAqICA8YnV0dG9uIGRpc2FibGVkPSJ7e3Njb3BlLmlzRGlzYWJsZWR9fSI+RGlzYWJsZWQ8L2J1dHRvbj4KICogPC9kaXY+CiAqIGBgYAogKgogKiBUaGUgSFRNTCBzcGVjaWZpY2F0aW9uIGRvZXMgbm90IHJlcXVpcmUgYnJvd3NlcnMgdG8gcHJlc2VydmUgdGhlIHZhbHVlcyBvZiBib29sZWFuIGF0dHJpYnV0ZXMKICogc3VjaCBhcyBkaXNhYmxlZC4gKFRoZWlyIHByZXNlbmNlIG1lYW5zIHRydWUgYW5kIHRoZWlyIGFic2VuY2UgbWVhbnMgZmFsc2UuKQogKiBJZiB3ZSBwdXQgYW4gQW5ndWxhciBpbnRlcnBvbGF0aW9uIGV4cHJlc3Npb24gaW50byBzdWNoIGFuIGF0dHJpYnV0ZSB0aGVuIHRoZQogKiBiaW5kaW5nIGluZm9ybWF0aW9uIHdvdWxkIGJlIGxvc3Qgd2hlbiB0aGUgYnJvd3NlciByZW1vdmVzIHRoZSBhdHRyaWJ1dGUuCiAqIFRoZSBgbmdEaXNhYmxlZGAgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0gZm9yIHRoZSBgZGlzYWJsZWRgIGF0dHJpYnV0ZS4KICogVGhpcyBjb21wbGVtZW50YXJ5IGRpcmVjdGl2ZSBpcyBub3QgcmVtb3ZlZCBieSB0aGUgYnJvd3NlciBhbmQgc28gcHJvdmlkZXMKICogYSBwZXJtYW5lbnQgcmVsaWFibGUgcGxhY2UgdG8gc3RvcmUgdGhlIGJpbmRpbmcgaW5mb3JtYXRpb24uCiAqCiAqIEBleGFtcGxlCiAgICA8ZXhhbXBsZT4KICAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgICAgQ2xpY2sgbWUgdG8gdG9nZ2xlOiA8aW5wdXQgdHlwZT0iY2hlY2tib3giIG5nLW1vZGVsPSJjaGVja2VkIj48YnIvPgogICAgICAgIDxidXR0b24gbmctbW9kZWw9ImJ1dHRvbiIgbmctZGlzYWJsZWQ9ImNoZWNrZWQiPkJ1dHRvbjwvYnV0dG9uPgogICAgICA8L2ZpbGU+CiAgICAgIDxmaWxlIG5hbWU9InByb3RyYWN0b3IuanMiIHR5cGU9InByb3RyYWN0b3IiPgogICAgICAgIGl0KCdzaG91bGQgdG9nZ2xlIGJ1dHRvbicsIGZ1bmN0aW9uKCkgewogICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCdidXR0b24nKSkuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpKS50b0JlRmFsc3koKTsKICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrZWQnKSkuY2xpY2soKTsKICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnYnV0dG9uJykpLmdldEF0dHJpYnV0ZSgnZGlzYWJsZWQnKSkudG9CZVRydXRoeSgpOwogICAgICAgIH0pOwogICAgICA8L2ZpbGU+CiAgICA8L2V4YW1wbGU+CiAqCiAqIEBlbGVtZW50IElOUFVUCiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdEaXNhYmxlZCBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LAogKiAgICAgdGhlbiBzcGVjaWFsIGF0dHJpYnV0ZSAiZGlzYWJsZWQiIHdpbGwgYmUgc2V0IG9uIHRoZSBlbGVtZW50CiAqLwoKCi8qKgogKiBAbmdkb2MgZGlyZWN0aXZlCiAqIEBuYW1lIG5nQ2hlY2tlZAogKiBAcmVzdHJpY3QgQQogKiBAcHJpb3JpdHkgMTAwCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBUaGUgSFRNTCBzcGVjaWZpY2F0aW9uIGRvZXMgbm90IHJlcXVpcmUgYnJvd3NlcnMgdG8gcHJlc2VydmUgdGhlIHZhbHVlcyBvZiBib29sZWFuIGF0dHJpYnV0ZXMKICogc3VjaCBhcyBjaGVja2VkLiAoVGhlaXIgcHJlc2VuY2UgbWVhbnMgdHJ1ZSBhbmQgdGhlaXIgYWJzZW5jZSBtZWFucyBmYWxzZS4pCiAqIElmIHdlIHB1dCBhbiBBbmd1bGFyIGludGVycG9sYXRpb24gZXhwcmVzc2lvbiBpbnRvIHN1Y2ggYW4gYXR0cmlidXRlIHRoZW4gdGhlCiAqIGJpbmRpbmcgaW5mb3JtYXRpb24gd291bGQgYmUgbG9zdCB3aGVuIHRoZSBicm93c2VyIHJlbW92ZXMgdGhlIGF0dHJpYnV0ZS4KICogVGhlIGBuZ0NoZWNrZWRgIGRpcmVjdGl2ZSBzb2x2ZXMgdGhpcyBwcm9ibGVtIGZvciB0aGUgYGNoZWNrZWRgIGF0dHJpYnV0ZS4KICogVGhpcyBjb21wbGVtZW50YXJ5IGRpcmVjdGl2ZSBpcyBub3QgcmVtb3ZlZCBieSB0aGUgYnJvd3NlciBhbmQgc28gcHJvdmlkZXMKICogYSBwZXJtYW5lbnQgcmVsaWFibGUgcGxhY2UgdG8gc3RvcmUgdGhlIGJpbmRpbmcgaW5mb3JtYXRpb24uCiAqIEBleGFtcGxlCiAgICA8ZXhhbXBsZT4KICAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgICAgQ2hlY2sgbWUgdG8gY2hlY2sgYm90aDogPGlucHV0IHR5cGU9ImNoZWNrYm94IiBuZy1tb2RlbD0ibWFzdGVyIj48YnIvPgogICAgICAgIDxpbnB1dCBpZD0iY2hlY2tTbGF2ZSIgdHlwZT0iY2hlY2tib3giIG5nLWNoZWNrZWQ9Im1hc3RlciI+CiAgICAgIDwvZmlsZT4KICAgICAgPGZpbGUgbmFtZT0icHJvdHJhY3Rvci5qcyIgdHlwZT0icHJvdHJhY3RvciI+CiAgICAgICAgaXQoJ3Nob3VsZCBjaGVjayBib3RoIGNoZWNrQm94ZXMnLCBmdW5jdGlvbigpIHsKICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjaGVja1NsYXZlJykpLmdldEF0dHJpYnV0ZSgnY2hlY2tlZCcpKS50b0JlRmFsc3koKTsKICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ21hc3RlcicpKS5jbGljaygpOwogICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2NoZWNrU2xhdmUnKSkuZ2V0QXR0cmlidXRlKCdjaGVja2VkJykpLnRvQmVUcnV0aHkoKTsKICAgICAgICB9KTsKICAgICAgPC9maWxlPgogICAgPC9leGFtcGxlPgogKgogKiBAZWxlbWVudCBJTlBVVAogKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2hlY2tlZCBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LAogKiAgICAgdGhlbiBzcGVjaWFsIGF0dHJpYnV0ZSAiY2hlY2tlZCIgd2lsbCBiZSBzZXQgb24gdGhlIGVsZW1lbnQKICovCgoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgbmdSZWFkb25seQogKiBAcmVzdHJpY3QgQQogKiBAcHJpb3JpdHkgMTAwCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBUaGUgSFRNTCBzcGVjaWZpY2F0aW9uIGRvZXMgbm90IHJlcXVpcmUgYnJvd3NlcnMgdG8gcHJlc2VydmUgdGhlIHZhbHVlcyBvZiBib29sZWFuIGF0dHJpYnV0ZXMKICogc3VjaCBhcyByZWFkb25seS4gKFRoZWlyIHByZXNlbmNlIG1lYW5zIHRydWUgYW5kIHRoZWlyIGFic2VuY2UgbWVhbnMgZmFsc2UuKQogKiBJZiB3ZSBwdXQgYW4gQW5ndWxhciBpbnRlcnBvbGF0aW9uIGV4cHJlc3Npb24gaW50byBzdWNoIGFuIGF0dHJpYnV0ZSB0aGVuIHRoZQogKiBiaW5kaW5nIGluZm9ybWF0aW9uIHdvdWxkIGJlIGxvc3Qgd2hlbiB0aGUgYnJvd3NlciByZW1vdmVzIHRoZSBhdHRyaWJ1dGUuCiAqIFRoZSBgbmdSZWFkb25seWAgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0gZm9yIHRoZSBgcmVhZG9ubHlgIGF0dHJpYnV0ZS4KICogVGhpcyBjb21wbGVtZW50YXJ5IGRpcmVjdGl2ZSBpcyBub3QgcmVtb3ZlZCBieSB0aGUgYnJvd3NlciBhbmQgc28gcHJvdmlkZXMKICogYSBwZXJtYW5lbnQgcmVsaWFibGUgcGxhY2UgdG8gc3RvcmUgdGhlIGJpbmRpbmcgaW5mb3JtYXRpb24uCiAqIEBleGFtcGxlCiAgICA8ZXhhbXBsZT4KICAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgICAgQ2hlY2sgbWUgdG8gbWFrZSB0ZXh0IHJlYWRvbmx5OiA8aW5wdXQgdHlwZT0iY2hlY2tib3giIG5nLW1vZGVsPSJjaGVja2VkIj48YnIvPgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuZy1yZWFkb25seT0iY2hlY2tlZCIgdmFsdWU9IkknbSBBbmd1bGFyIi8+CiAgICAgIDwvZmlsZT4KICAgICAgPGZpbGUgbmFtZT0icHJvdHJhY3Rvci5qcyIgdHlwZT0icHJvdHJhY3RvciI+CiAgICAgICAgaXQoJ3Nob3VsZCB0b2dnbGUgcmVhZG9ubHkgYXR0cicsIGZ1bmN0aW9uKCkgewogICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCdbdHlwZT0idGV4dCJdJykpLmdldEF0dHJpYnV0ZSgncmVhZG9ubHknKSkudG9CZUZhbHN5KCk7CiAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdjaGVja2VkJykpLmNsaWNrKCk7CiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJ1t0eXBlPSJ0ZXh0Il0nKSkuZ2V0QXR0cmlidXRlKCdyZWFkb25seScpKS50b0JlVHJ1dGh5KCk7CiAgICAgICAgfSk7CiAgICAgIDwvZmlsZT4KICAgIDwvZXhhbXBsZT4KICoKICogQGVsZW1lbnQgSU5QVVQKICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ1JlYWRvbmx5IElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyB0cnV0aHksCiAqICAgICB0aGVuIHNwZWNpYWwgYXR0cmlidXRlICJyZWFkb25seSIgd2lsbCBiZSBzZXQgb24gdGhlIGVsZW1lbnQKICovCgoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgbmdTZWxlY3RlZAogKiBAcmVzdHJpY3QgQQogKiBAcHJpb3JpdHkgMTAwCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBUaGUgSFRNTCBzcGVjaWZpY2F0aW9uIGRvZXMgbm90IHJlcXVpcmUgYnJvd3NlcnMgdG8gcHJlc2VydmUgdGhlIHZhbHVlcyBvZiBib29sZWFuIGF0dHJpYnV0ZXMKICogc3VjaCBhcyBzZWxlY3RlZC4gKFRoZWlyIHByZXNlbmNlIG1lYW5zIHRydWUgYW5kIHRoZWlyIGFic2VuY2UgbWVhbnMgZmFsc2UuKQogKiBJZiB3ZSBwdXQgYW4gQW5ndWxhciBpbnRlcnBvbGF0aW9uIGV4cHJlc3Npb24gaW50byBzdWNoIGFuIGF0dHJpYnV0ZSB0aGVuIHRoZQogKiBiaW5kaW5nIGluZm9ybWF0aW9uIHdvdWxkIGJlIGxvc3Qgd2hlbiB0aGUgYnJvd3NlciByZW1vdmVzIHRoZSBhdHRyaWJ1dGUuCiAqIFRoZSBgbmdTZWxlY3RlZGAgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0gZm9yIHRoZSBgc2VsZWN0ZWRgIGF0dHJpYnV0ZS4KICogVGhpcyBjb21wbGVtZW50YXJ5IGRpcmVjdGl2ZSBpcyBub3QgcmVtb3ZlZCBieSB0aGUgYnJvd3NlciBhbmQgc28gcHJvdmlkZXMKICogYSBwZXJtYW5lbnQgcmVsaWFibGUgcGxhY2UgdG8gc3RvcmUgdGhlIGJpbmRpbmcgaW5mb3JtYXRpb24uCiAqCiAqIEBleGFtcGxlCiAgICA8ZXhhbXBsZT4KICAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgICAgQ2hlY2sgbWUgdG8gc2VsZWN0OiA8aW5wdXQgdHlwZT0iY2hlY2tib3giIG5nLW1vZGVsPSJzZWxlY3RlZCI+PGJyLz4KICAgICAgICA8c2VsZWN0PgogICAgICAgICAgPG9wdGlvbj5IZWxsbyE8L29wdGlvbj4KICAgICAgICAgIDxvcHRpb24gaWQ9ImdyZWV0IiBuZy1zZWxlY3RlZD0ic2VsZWN0ZWQiPkdyZWV0aW5ncyE8L29wdGlvbj4KICAgICAgICA8L3NlbGVjdD4KICAgICAgPC9maWxlPgogICAgICA8ZmlsZSBuYW1lPSJwcm90cmFjdG9yLmpzIiB0eXBlPSJwcm90cmFjdG9yIj4KICAgICAgICBpdCgnc2hvdWxkIHNlbGVjdCBHcmVldGluZ3MhJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZ3JlZXQnKSkuZ2V0QXR0cmlidXRlKCdzZWxlY3RlZCcpKS50b0JlRmFsc3koKTsKICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3NlbGVjdGVkJykpLmNsaWNrKCk7CiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZ3JlZXQnKSkuZ2V0QXR0cmlidXRlKCdzZWxlY3RlZCcpKS50b0JlVHJ1dGh5KCk7CiAgICAgICAgfSk7CiAgICAgIDwvZmlsZT4KICAgIDwvZXhhbXBsZT4KICoKICogQGVsZW1lbnQgT1BUSU9OCiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdTZWxlY3RlZCBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LAogKiAgICAgdGhlbiBzcGVjaWFsIGF0dHJpYnV0ZSAic2VsZWN0ZWQiIHdpbGwgYmUgc2V0IG9uIHRoZSBlbGVtZW50CiAqLwoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgbmdPcGVuCiAqIEByZXN0cmljdCBBCiAqIEBwcmlvcml0eSAxMDAKICoKICogQGRlc2NyaXB0aW9uCiAqIFRoZSBIVE1MIHNwZWNpZmljYXRpb24gZG9lcyBub3QgcmVxdWlyZSBicm93c2VycyB0byBwcmVzZXJ2ZSB0aGUgdmFsdWVzIG9mIGJvb2xlYW4gYXR0cmlidXRlcwogKiBzdWNoIGFzIG9wZW4uIChUaGVpciBwcmVzZW5jZSBtZWFucyB0cnVlIGFuZCB0aGVpciBhYnNlbmNlIG1lYW5zIGZhbHNlLikKICogSWYgd2UgcHV0IGFuIEFuZ3VsYXIgaW50ZXJwb2xhdGlvbiBleHByZXNzaW9uIGludG8gc3VjaCBhbiBhdHRyaWJ1dGUgdGhlbiB0aGUKICogYmluZGluZyBpbmZvcm1hdGlvbiB3b3VsZCBiZSBsb3N0IHdoZW4gdGhlIGJyb3dzZXIgcmVtb3ZlcyB0aGUgYXR0cmlidXRlLgogKiBUaGUgYG5nT3BlbmAgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0gZm9yIHRoZSBgb3BlbmAgYXR0cmlidXRlLgogKiBUaGlzIGNvbXBsZW1lbnRhcnkgZGlyZWN0aXZlIGlzIG5vdCByZW1vdmVkIGJ5IHRoZSBicm93c2VyIGFuZCBzbyBwcm92aWRlcwogKiBhIHBlcm1hbmVudCByZWxpYWJsZSBwbGFjZSB0byBzdG9yZSB0aGUgYmluZGluZyBpbmZvcm1hdGlvbi4KICogQGV4YW1wbGUKICAgICA8ZXhhbXBsZT4KICAgICAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgICAgICBDaGVjayBtZSBjaGVjayBtdWx0aXBsZTogPGlucHV0IHR5cGU9ImNoZWNrYm94IiBuZy1tb2RlbD0ib3BlbiI+PGJyLz4KICAgICAgICAgPGRldGFpbHMgaWQ9ImRldGFpbHMiIG5nLW9wZW49Im9wZW4iPgogICAgICAgICAgICA8c3VtbWFyeT5TaG93L0hpZGUgbWU8L3N1bW1hcnk+CiAgICAgICAgIDwvZGV0YWlscz4KICAgICAgIDwvZmlsZT4KICAgICAgIDxmaWxlIG5hbWU9InByb3RyYWN0b3IuanMiIHR5cGU9InByb3RyYWN0b3IiPgogICAgICAgICBpdCgnc2hvdWxkIHRvZ2dsZSBvcGVuJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2RldGFpbHMnKSkuZ2V0QXR0cmlidXRlKCdvcGVuJykpLnRvQmVGYWxzeSgpOwogICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ29wZW4nKSkuY2xpY2soKTsKICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZGV0YWlscycpKS5nZXRBdHRyaWJ1dGUoJ29wZW4nKSkudG9CZVRydXRoeSgpOwogICAgICAgICB9KTsKICAgICAgIDwvZmlsZT4KICAgICA8L2V4YW1wbGU+CiAqCiAqIEBlbGVtZW50IERFVEFJTFMKICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ09wZW4gSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeSwKICogICAgIHRoZW4gc3BlY2lhbCBhdHRyaWJ1dGUgIm9wZW4iIHdpbGwgYmUgc2V0IG9uIHRoZSBlbGVtZW50CiAqLwoKdmFyIG5nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzID0ge307CgoKLy8gYm9vbGVhbiBhdHRycyBhcmUgZXZhbHVhdGVkCmZvckVhY2goQk9PTEVBTl9BVFRSLCBmdW5jdGlvbihwcm9wTmFtZSwgYXR0ck5hbWUpIHsKICAvLyBiaW5kaW5nIHRvIG11bHRpcGxlIGlzIG5vdCBzdXBwb3J0ZWQKICBpZiAocHJvcE5hbWUgPT0gIm11bHRpcGxlIikgcmV0dXJuOwoKICB2YXIgbm9ybWFsaXplZCA9IGRpcmVjdGl2ZU5vcm1hbGl6ZSgnbmctJyArIGF0dHJOYW1lKTsKICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlc1tub3JtYWxpemVkXSA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJpb3JpdHk6IDEwMCwKICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHsKICAgICAgICBzY29wZS4kd2F0Y2goYXR0cltub3JtYWxpemVkXSwgZnVuY3Rpb24gbmdCb29sZWFuQXR0cldhdGNoQWN0aW9uKHZhbHVlKSB7CiAgICAgICAgICBhdHRyLiRzZXQoYXR0ck5hbWUsICEhdmFsdWUpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9OwogIH07Cn0pOwoKCi8vIG5nLXNyYywgbmctc3Jjc2V0LCBuZy1ocmVmIGFyZSBpbnRlcnBvbGF0ZWQKZm9yRWFjaChbJ3NyYycsICdzcmNzZXQnLCAnaHJlZiddLCBmdW5jdGlvbihhdHRyTmFtZSkgewogIHZhciBub3JtYWxpemVkID0gZGlyZWN0aXZlTm9ybWFsaXplKCduZy0nICsgYXR0ck5hbWUpOwogIG5nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzW25vcm1hbGl6ZWRdID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICBwcmlvcml0eTogOTksIC8vIGl0IG5lZWRzIHRvIHJ1biBhZnRlciB0aGUgYXR0cmlidXRlcyBhcmUgaW50ZXJwb2xhdGVkCiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7CiAgICAgICAgdmFyIHByb3BOYW1lID0gYXR0ck5hbWUsCiAgICAgICAgICAgIG5hbWUgPSBhdHRyTmFtZTsKCiAgICAgICAgaWYgKGF0dHJOYW1lID09PSAnaHJlZicgJiYKICAgICAgICAgICAgdG9TdHJpbmcuY2FsbChlbGVtZW50LnByb3AoJ2hyZWYnKSkgPT09ICdbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXScpIHsKICAgICAgICAgIG5hbWUgPSAneGxpbmtIcmVmJzsKICAgICAgICAgIGF0dHIuJGF0dHJbbmFtZV0gPSAneGxpbms6aHJlZic7CiAgICAgICAgICBwcm9wTmFtZSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICBhdHRyLiRvYnNlcnZlKG5vcm1hbGl6ZWQsIGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgICBpZiAoIXZhbHVlKQogICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICAgIGF0dHIuJHNldChuYW1lLCB2YWx1ZSk7CgogICAgICAgICAgLy8gb24gSUUsIGlmICJuZzpzcmMiIGRpcmVjdGl2ZSBkZWNsYXJhdGlvbiBpcyB1c2VkIGFuZCAic3JjIiBhdHRyaWJ1dGUgZG9lc24ndCBleGlzdAogICAgICAgICAgLy8gdGhlbiBjYWxsaW5nIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzcmMnLCAnZm9vJykgZG9lc24ndCBkbyBhbnl0aGluZywgc28gd2UgbmVlZAogICAgICAgICAgLy8gdG8gc2V0IHRoZSBwcm9wZXJ0eSBhcyB3ZWxsIHRvIGFjaGlldmUgdGhlIGRlc2lyZWQgZWZmZWN0LgogICAgICAgICAgLy8gd2UgdXNlIGF0dHJbYXR0ck5hbWVdIHZhbHVlIHNpbmNlICRzZXQgY2FuIHNhbml0aXplIHRoZSB1cmwuCiAgICAgICAgICBpZiAobXNpZSAmJiBwcm9wTmFtZSkgZWxlbWVudC5wcm9wKHByb3BOYW1lLCBhdHRyW25hbWVdKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfTsKICB9Owp9KTsKCi8qIGdsb2JhbCAtbnVsbEZvcm1DdHJsICovCnZhciBudWxsRm9ybUN0cmwgPSB7CiAgJGFkZENvbnRyb2w6IG5vb3AsCiAgJHJlbW92ZUNvbnRyb2w6IG5vb3AsCiAgJHNldFZhbGlkaXR5OiBub29wLAogICRzZXREaXJ0eTogbm9vcCwKICAkc2V0UHJpc3RpbmU6IG5vb3AKfTsKCi8qKgogKiBAbmdkb2MgdHlwZQogKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyCiAqCiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHByaXN0aW5lIFRydWUgaWYgdXNlciBoYXMgbm90IGludGVyYWN0ZWQgd2l0aCB0aGUgZm9ybSB5ZXQuCiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJGRpcnR5IFRydWUgaWYgdXNlciBoYXMgYWxyZWFkeSBpbnRlcmFjdGVkIHdpdGggdGhlIGZvcm0uCiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHZhbGlkIFRydWUgaWYgYWxsIG9mIHRoZSBjb250YWluaW5nIGZvcm1zIGFuZCBjb250cm9scyBhcmUgdmFsaWQuCiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJGludmFsaWQgVHJ1ZSBpZiBhdCBsZWFzdCBvbmUgY29udGFpbmluZyBjb250cm9sIG9yIGZvcm0gaXMgaW52YWxpZC4KICoKICogQHByb3BlcnR5IHtPYmplY3R9ICRlcnJvciBJcyBhbiBvYmplY3QgaGFzaCwgY29udGFpbmluZyByZWZlcmVuY2VzIHRvIGFsbCBpbnZhbGlkIGNvbnRyb2xzIG9yCiAqICBmb3Jtcywgd2hlcmU6CiAqCiAqICAtIGtleXMgYXJlIHZhbGlkYXRpb24gdG9rZW5zIChlcnJvciBuYW1lcyksCiAqICAtIHZhbHVlcyBhcmUgYXJyYXlzIG9mIGNvbnRyb2xzIG9yIGZvcm1zIHRoYXQgYXJlIGludmFsaWQgZm9yIGdpdmVuIGVycm9yIG5hbWUuCiAqCiAqCiAqICBCdWlsdC1pbiB2YWxpZGF0aW9uIHRva2VuczoKICoKICogIC0gYGVtYWlsYAogKiAgLSBgbWF4YAogKiAgLSBgbWF4bGVuZ3RoYAogKiAgLSBgbWluYAogKiAgLSBgbWlubGVuZ3RoYAogKiAgLSBgbnVtYmVyYAogKiAgLSBgcGF0dGVybmAKICogIC0gYHJlcXVpcmVkYAogKiAgLSBgdXJsYAogKgogKiBAZGVzY3JpcHRpb24KICogYEZvcm1Db250cm9sbGVyYCBrZWVwcyB0cmFjayBvZiBhbGwgaXRzIGNvbnRyb2xzIGFuZCBuZXN0ZWQgZm9ybXMgYXMgd2VsbCBhcyB0aGUgc3RhdGUgb2YgdGhlbSwKICogc3VjaCBhcyBiZWluZyB2YWxpZC9pbnZhbGlkIG9yIGRpcnR5L3ByaXN0aW5lLgogKgogKiBFYWNoIHtAbGluayBuZy5kaXJlY3RpdmU6Zm9ybSBmb3JtfSBkaXJlY3RpdmUgY3JlYXRlcyBhbiBpbnN0YW5jZQogKiBvZiBgRm9ybUNvbnRyb2xsZXJgLgogKgogKi8KLy9hc2tzIGZvciAkc2NvcGUgdG8gZm9vbCB0aGUgQkMgY29udHJvbGxlciBtb2R1bGUKRm9ybUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJGVsZW1lbnQnLCAnJGF0dHJzJywgJyRzY29wZScsICckYW5pbWF0ZSddOwpmdW5jdGlvbiBGb3JtQ29udHJvbGxlcihlbGVtZW50LCBhdHRycywgJHNjb3BlLCAkYW5pbWF0ZSkgewogIHZhciBmb3JtID0gdGhpcywKICAgICAgcGFyZW50Rm9ybSA9IGVsZW1lbnQucGFyZW50KCkuY29udHJvbGxlcignZm9ybScpIHx8IG51bGxGb3JtQ3RybCwKICAgICAgaW52YWxpZENvdW50ID0gMCwgLy8gdXNlZCB0byBlYXNpbHkgZGV0ZXJtaW5lIGlmIHdlIGFyZSB2YWxpZAogICAgICBlcnJvcnMgPSBmb3JtLiRlcnJvciA9IHt9LAogICAgICBjb250cm9scyA9IFtdOwoKICAvLyBpbml0IHN0YXRlCiAgZm9ybS4kbmFtZSA9IGF0dHJzLm5hbWUgfHwgYXR0cnMubmdGb3JtOwogIGZvcm0uJGRpcnR5ID0gZmFsc2U7CiAgZm9ybS4kcHJpc3RpbmUgPSB0cnVlOwogIGZvcm0uJHZhbGlkID0gdHJ1ZTsKICBmb3JtLiRpbnZhbGlkID0gZmFsc2U7CgogIHBhcmVudEZvcm0uJGFkZENvbnRyb2woZm9ybSk7CgogIC8vIFNldHVwIGluaXRpYWwgc3RhdGUgb2YgdGhlIGNvbnRyb2wKICBlbGVtZW50LmFkZENsYXNzKFBSSVNUSU5FX0NMQVNTKTsKICB0b2dnbGVWYWxpZENzcyh0cnVlKTsKCiAgLy8gY29udmVuaWVuY2UgbWV0aG9kIGZvciBlYXN5IHRvZ2dsaW5nIG9mIGNsYXNzZXMKICBmdW5jdGlvbiB0b2dnbGVWYWxpZENzcyhpc1ZhbGlkLCB2YWxpZGF0aW9uRXJyb3JLZXkpIHsKICAgIHZhbGlkYXRpb25FcnJvcktleSA9IHZhbGlkYXRpb25FcnJvcktleSA/ICctJyArIHNuYWtlX2Nhc2UodmFsaWRhdGlvbkVycm9yS2V5LCAnLScpIDogJyc7CiAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LCAoaXNWYWxpZCA/IElOVkFMSURfQ0xBU1MgOiBWQUxJRF9DTEFTUykgKyB2YWxpZGF0aW9uRXJyb3JLZXkpOwogICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgKGlzVmFsaWQgPyBWQUxJRF9DTEFTUyA6IElOVkFMSURfQ0xBU1MpICsgdmFsaWRhdGlvbkVycm9yS2V5KTsKICB9CgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRhZGRDb250cm9sCiAgICoKICAgKiBAZGVzY3JpcHRpb24KICAgKiBSZWdpc3RlciBhIGNvbnRyb2wgd2l0aCB0aGUgZm9ybS4KICAgKgogICAqIElucHV0IGVsZW1lbnRzIHVzaW5nIG5nTW9kZWxDb250cm9sbGVyIGRvIHRoaXMgYXV0b21hdGljYWxseSB3aGVuIHRoZXkgYXJlIGxpbmtlZC4KICAgKi8KICBmb3JtLiRhZGRDb250cm9sID0gZnVuY3Rpb24oY29udHJvbCkgewogICAgLy8gQnJlYWtpbmcgY2hhbmdlIC0gYmVmb3JlLCBpbnB1dHMgd2hvc2UgbmFtZSB3YXMgImhhc093blByb3BlcnR5IiB3ZXJlIHF1aWV0bHkgaWdub3JlZAogICAgLy8gYW5kIG5vdCBhZGRlZCB0byB0aGUgc2NvcGUuICBOb3cgd2UgdGhyb3cgYW4gZXJyb3IuCiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShjb250cm9sLiRuYW1lLCAnaW5wdXQnKTsKICAgIGNvbnRyb2xzLnB1c2goY29udHJvbCk7CgogICAgaWYgKGNvbnRyb2wuJG5hbWUpIHsKICAgICAgZm9ybVtjb250cm9sLiRuYW1lXSA9IGNvbnRyb2w7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogQG5nZG9jIG1ldGhvZAogICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHJlbW92ZUNvbnRyb2wKICAgKgogICAqIEBkZXNjcmlwdGlvbgogICAqIERlcmVnaXN0ZXIgYSBjb250cm9sIGZyb20gdGhlIGZvcm0uCiAgICoKICAgKiBJbnB1dCBlbGVtZW50cyB1c2luZyBuZ01vZGVsQ29udHJvbGxlciBkbyB0aGlzIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGV5IGFyZSBkZXN0cm95ZWQuCiAgICovCiAgZm9ybS4kcmVtb3ZlQ29udHJvbCA9IGZ1bmN0aW9uKGNvbnRyb2wpIHsKICAgIGlmIChjb250cm9sLiRuYW1lICYmIGZvcm1bY29udHJvbC4kbmFtZV0gPT09IGNvbnRyb2wpIHsKICAgICAgZGVsZXRlIGZvcm1bY29udHJvbC4kbmFtZV07CiAgICB9CiAgICBmb3JFYWNoKGVycm9ycywgZnVuY3Rpb24ocXVldWUsIHZhbGlkYXRpb25Ub2tlbikgewogICAgICBmb3JtLiRzZXRWYWxpZGl0eSh2YWxpZGF0aW9uVG9rZW4sIHRydWUsIGNvbnRyb2wpOwogICAgfSk7CgogICAgYXJyYXlSZW1vdmUoY29udHJvbHMsIGNvbnRyb2wpOwogIH07CgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXRWYWxpZGl0eQogICAqCiAgICogQGRlc2NyaXB0aW9uCiAgICogU2V0cyB0aGUgdmFsaWRpdHkgb2YgYSBmb3JtIGNvbnRyb2wuCiAgICoKICAgKiBUaGlzIG1ldGhvZCB3aWxsIGFsc28gcHJvcGFnYXRlIHRvIHBhcmVudCBmb3Jtcy4KICAgKi8KICBmb3JtLiRzZXRWYWxpZGl0eSA9IGZ1bmN0aW9uKHZhbGlkYXRpb25Ub2tlbiwgaXNWYWxpZCwgY29udHJvbCkgewogICAgdmFyIHF1ZXVlID0gZXJyb3JzW3ZhbGlkYXRpb25Ub2tlbl07CgogICAgaWYgKGlzVmFsaWQpIHsKICAgICAgaWYgKHF1ZXVlKSB7CiAgICAgICAgYXJyYXlSZW1vdmUocXVldWUsIGNvbnRyb2wpOwogICAgICAgIGlmICghcXVldWUubGVuZ3RoKSB7CiAgICAgICAgICBpbnZhbGlkQ291bnQtLTsKICAgICAgICAgIGlmICghaW52YWxpZENvdW50KSB7CiAgICAgICAgICAgIHRvZ2dsZVZhbGlkQ3NzKGlzVmFsaWQpOwogICAgICAgICAgICBmb3JtLiR2YWxpZCA9IHRydWU7CiAgICAgICAgICAgIGZvcm0uJGludmFsaWQgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICAgIGVycm9yc1t2YWxpZGF0aW9uVG9rZW5dID0gZmFsc2U7CiAgICAgICAgICB0b2dnbGVWYWxpZENzcyh0cnVlLCB2YWxpZGF0aW9uVG9rZW4pOwogICAgICAgICAgcGFyZW50Rm9ybS4kc2V0VmFsaWRpdHkodmFsaWRhdGlvblRva2VuLCB0cnVlLCBmb3JtKTsKICAgICAgICB9CiAgICAgIH0KCiAgICB9IGVsc2UgewogICAgICBpZiAoIWludmFsaWRDb3VudCkgewogICAgICAgIHRvZ2dsZVZhbGlkQ3NzKGlzVmFsaWQpOwogICAgICB9CiAgICAgIGlmIChxdWV1ZSkgewogICAgICAgIGlmIChpbmNsdWRlcyhxdWV1ZSwgY29udHJvbCkpIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICBlcnJvcnNbdmFsaWRhdGlvblRva2VuXSA9IHF1ZXVlID0gW107CiAgICAgICAgaW52YWxpZENvdW50Kys7CiAgICAgICAgdG9nZ2xlVmFsaWRDc3MoZmFsc2UsIHZhbGlkYXRpb25Ub2tlbik7CiAgICAgICAgcGFyZW50Rm9ybS4kc2V0VmFsaWRpdHkodmFsaWRhdGlvblRva2VuLCBmYWxzZSwgZm9ybSk7CiAgICAgIH0KICAgICAgcXVldWUucHVzaChjb250cm9sKTsKCiAgICAgIGZvcm0uJHZhbGlkID0gZmFsc2U7CiAgICAgIGZvcm0uJGludmFsaWQgPSB0cnVlOwogICAgfQogIH07CgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXREaXJ0eQogICAqCiAgICogQGRlc2NyaXB0aW9uCiAgICogU2V0cyB0aGUgZm9ybSB0byBhIGRpcnR5IHN0YXRlLgogICAqCiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byBhZGQgdGhlICduZy1kaXJ0eScgY2xhc3MgYW5kIHNldCB0aGUgZm9ybSB0byBhIGRpcnR5CiAgICogc3RhdGUgKG5nLWRpcnR5IGNsYXNzKS4gVGhpcyBtZXRob2Qgd2lsbCBhbHNvIHByb3BhZ2F0ZSB0byBwYXJlbnQgZm9ybXMuCiAgICovCiAgZm9ybS4kc2V0RGlydHkgPSBmdW5jdGlvbigpIHsKICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIFBSSVNUSU5FX0NMQVNTKTsKICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsIERJUlRZX0NMQVNTKTsKICAgIGZvcm0uJGRpcnR5ID0gdHJ1ZTsKICAgIGZvcm0uJHByaXN0aW5lID0gZmFsc2U7CiAgICBwYXJlbnRGb3JtLiRzZXREaXJ0eSgpOwogIH07CgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXRQcmlzdGluZQogICAqCiAgICogQGRlc2NyaXB0aW9uCiAgICogU2V0cyB0aGUgZm9ybSB0byBpdHMgcHJpc3RpbmUgc3RhdGUuCiAgICoKICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgJ25nLWRpcnR5JyBjbGFzcyBhbmQgc2V0IHRoZSBmb3JtIHRvIGl0cyBwcmlzdGluZQogICAqIHN0YXRlIChuZy1wcmlzdGluZSBjbGFzcykuIFRoaXMgbWV0aG9kIHdpbGwgYWxzbyBwcm9wYWdhdGUgdG8gYWxsIHRoZSBjb250cm9scyBjb250YWluZWQKICAgKiBpbiB0aGlzIGZvcm0uCiAgICoKICAgKiBTZXR0aW5nIGEgZm9ybSBiYWNrIHRvIGEgcHJpc3RpbmUgc3RhdGUgaXMgb2Z0ZW4gdXNlZnVsIHdoZW4gd2Ugd2FudCB0byAncmV1c2UnIGEgZm9ybSBhZnRlcgogICAqIHNhdmluZyBvciByZXNldHRpbmcgaXQuCiAgICovCiAgZm9ybS4kc2V0UHJpc3RpbmUgPSBmdW5jdGlvbiAoKSB7CiAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LCBESVJUWV9DTEFTUyk7CiAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCBQUklTVElORV9DTEFTUyk7CiAgICBmb3JtLiRkaXJ0eSA9IGZhbHNlOwogICAgZm9ybS4kcHJpc3RpbmUgPSB0cnVlOwogICAgZm9yRWFjaChjb250cm9scywgZnVuY3Rpb24oY29udHJvbCkgewogICAgICBjb250cm9sLiRzZXRQcmlzdGluZSgpOwogICAgfSk7CiAgfTsKfQoKCi8qKgogKiBAbmdkb2MgZGlyZWN0aXZlCiAqIEBuYW1lIG5nRm9ybQogKiBAcmVzdHJpY3QgRUFDCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBOZXN0YWJsZSBhbGlhcyBvZiB7QGxpbmsgbmcuZGlyZWN0aXZlOmZvcm0gYGZvcm1gfSBkaXJlY3RpdmUuIEhUTUwKICogZG9lcyBub3QgYWxsb3cgbmVzdGluZyBvZiBmb3JtIGVsZW1lbnRzLiBJdCBpcyB1c2VmdWwgdG8gbmVzdCBmb3JtcywgZm9yIGV4YW1wbGUgaWYgdGhlIHZhbGlkaXR5IG9mIGEKICogc3ViLWdyb3VwIG9mIGNvbnRyb2xzIG5lZWRzIHRvIGJlIGRldGVybWluZWQuCiAqCiAqIE5vdGU6IHRoZSBwdXJwb3NlIG9mIGBuZ0Zvcm1gIGlzIHRvIGdyb3VwIGNvbnRyb2xzLAogKiBidXQgbm90IHRvIGJlIGEgcmVwbGFjZW1lbnQgZm9yIHRoZSBgPGZvcm0+YCB0YWcgd2l0aCBhbGwgb2YgaXRzIGNhcGFiaWxpdGllcwogKiAoZS5nLiBwb3N0aW5nIHRvIHRoZSBzZXJ2ZXIsIC4uLikuCiAqCiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdGb3JtfG5hbWUgTmFtZSBvZiB0aGUgZm9ybS4gSWYgc3BlY2lmaWVkLCB0aGUgZm9ybSBjb250cm9sbGVyIHdpbGwgYmUgcHVibGlzaGVkIGludG8KICogICAgICAgICAgICAgICAgICAgICAgIHJlbGF0ZWQgc2NvcGUsIHVuZGVyIHRoaXMgbmFtZS4KICoKICovCgogLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgZm9ybQogKiBAcmVzdHJpY3QgRQogKgogKiBAZGVzY3JpcHRpb24KICogRGlyZWN0aXZlIHRoYXQgaW5zdGFudGlhdGVzCiAqIHtAbGluayBmb3JtLkZvcm1Db250cm9sbGVyIEZvcm1Db250cm9sbGVyfS4KICoKICogSWYgdGhlIGBuYW1lYCBhdHRyaWJ1dGUgaXMgc3BlY2lmaWVkLCB0aGUgZm9ybSBjb250cm9sbGVyIGlzIHB1Ymxpc2hlZCBvbnRvIHRoZSBjdXJyZW50IHNjb3BlIHVuZGVyCiAqIHRoaXMgbmFtZS4KICoKICogIyBBbGlhczoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0Zvcm0gYG5nRm9ybWB9CiAqCiAqIEluIEFuZ3VsYXIgZm9ybXMgY2FuIGJlIG5lc3RlZC4gVGhpcyBtZWFucyB0aGF0IHRoZSBvdXRlciBmb3JtIGlzIHZhbGlkIHdoZW4gYWxsIG9mIHRoZSBjaGlsZAogKiBmb3JtcyBhcmUgdmFsaWQgYXMgd2VsbC4gSG93ZXZlciwgYnJvd3NlcnMgZG8gbm90IGFsbG93IG5lc3Rpbmcgb2YgYDxmb3JtPmAgZWxlbWVudHMsIHNvCiAqIEFuZ3VsYXIgcHJvdmlkZXMgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdGb3JtIGBuZ0Zvcm1gfSBkaXJlY3RpdmUgd2hpY2ggYmVoYXZlcyBpZGVudGljYWxseSB0bwogKiBgPGZvcm0+YCBidXQgY2FuIGJlIG5lc3RlZC4gIFRoaXMgYWxsb3dzIHlvdSB0byBoYXZlIG5lc3RlZCBmb3Jtcywgd2hpY2ggaXMgdmVyeSB1c2VmdWwgd2hlbgogKiB1c2luZyBBbmd1bGFyIHZhbGlkYXRpb24gZGlyZWN0aXZlcyBpbiBmb3JtcyB0aGF0IGFyZSBkeW5hbWljYWxseSBnZW5lcmF0ZWQgdXNpbmcgdGhlCiAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdSZXBlYXQgYG5nUmVwZWF0YH0gZGlyZWN0aXZlLiBTaW5jZSB5b3UgY2Fubm90IGR5bmFtaWNhbGx5IGdlbmVyYXRlIHRoZSBgbmFtZWAKICogYXR0cmlidXRlIG9mIGlucHV0IGVsZW1lbnRzIHVzaW5nIGludGVycG9sYXRpb24sIHlvdSBoYXZlIHRvIHdyYXAgZWFjaCBzZXQgb2YgcmVwZWF0ZWQgaW5wdXRzIGluIGFuCiAqIGBuZ0Zvcm1gIGRpcmVjdGl2ZSBhbmQgbmVzdCB0aGVzZSBpbiBhbiBvdXRlciBgZm9ybWAgZWxlbWVudC4KICoKICoKICogIyBDU1MgY2xhc3NlcwogKiAgLSBgbmctdmFsaWRgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyB2YWxpZC4KICogIC0gYG5nLWludmFsaWRgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBpbnZhbGlkLgogKiAgLSBgbmctcHJpc3RpbmVgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBwcmlzdGluZS4KICogIC0gYG5nLWRpcnR5YCBpcyBzZXQgaWYgdGhlIGZvcm0gaXMgZGlydHkuCiAqCiAqIEtlZXAgaW4gbWluZCB0aGF0IG5nQW5pbWF0ZSBjYW4gZGV0ZWN0IGVhY2ggb2YgdGhlc2UgY2xhc3NlcyB3aGVuIGFkZGVkIGFuZCByZW1vdmVkLgogKgogKgogKiAjIFN1Ym1pdHRpbmcgYSBmb3JtIGFuZCBwcmV2ZW50aW5nIHRoZSBkZWZhdWx0IGFjdGlvbgogKgogKiBTaW5jZSB0aGUgcm9sZSBvZiBmb3JtcyBpbiBjbGllbnQtc2lkZSBBbmd1bGFyIGFwcGxpY2F0aW9ucyBpcyBkaWZmZXJlbnQgdGhhbiBpbiBjbGFzc2ljYWwKICogcm91bmR0cmlwIGFwcHMsIGl0IGlzIGRlc2lyYWJsZSBmb3IgdGhlIGJyb3dzZXIgbm90IHRvIHRyYW5zbGF0ZSB0aGUgZm9ybSBzdWJtaXNzaW9uIGludG8gYSBmdWxsCiAqIHBhZ2UgcmVsb2FkIHRoYXQgc2VuZHMgdGhlIGRhdGEgdG8gdGhlIHNlcnZlci4gSW5zdGVhZCBzb21lIGphdmFzY3JpcHQgbG9naWMgc2hvdWxkIGJlIHRyaWdnZXJlZAogKiB0byBoYW5kbGUgdGhlIGZvcm0gc3VibWlzc2lvbiBpbiBhbiBhcHBsaWNhdGlvbi1zcGVjaWZpYyB3YXkuCiAqCiAqIEZvciB0aGlzIHJlYXNvbiwgQW5ndWxhciBwcmV2ZW50cyB0aGUgZGVmYXVsdCBhY3Rpb24gKGZvcm0gc3VibWlzc2lvbiB0byB0aGUgc2VydmVyKSB1bmxlc3MgdGhlCiAqIGA8Zm9ybT5gIGVsZW1lbnQgaGFzIGFuIGBhY3Rpb25gIGF0dHJpYnV0ZSBzcGVjaWZpZWQuCiAqCiAqIFlvdSBjYW4gdXNlIG9uZSBvZiB0aGUgZm9sbG93aW5nIHR3byB3YXlzIHRvIHNwZWNpZnkgd2hhdCBqYXZhc2NyaXB0IG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIHdoZW4KICogYSBmb3JtIGlzIHN1Ym1pdHRlZDoKICoKICogLSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nU3VibWl0IG5nU3VibWl0fSBkaXJlY3RpdmUgb24gdGhlIGZvcm0gZWxlbWVudAogKiAtIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDbGljayBuZ0NsaWNrfSBkaXJlY3RpdmUgb24gdGhlIGZpcnN0CiAgKiAgYnV0dG9uIG9yIGlucHV0IGZpZWxkIG9mIHR5cGUgc3VibWl0IChpbnB1dFt0eXBlPXN1Ym1pdF0pCiAqCiAqIFRvIHByZXZlbnQgZG91YmxlIGV4ZWN1dGlvbiBvZiB0aGUgaGFuZGxlciwgdXNlIG9ubHkgb25lIG9mIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nU3VibWl0IG5nU3VibWl0fQogKiBvciB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xpY2sgbmdDbGlja30gZGlyZWN0aXZlcy4KICogVGhpcyBpcyBiZWNhdXNlIG9mIHRoZSBmb2xsb3dpbmcgZm9ybSBzdWJtaXNzaW9uIHJ1bGVzIGluIHRoZSBIVE1MIHNwZWNpZmljYXRpb246CiAqCiAqIC0gSWYgYSBmb3JtIGhhcyBvbmx5IG9uZSBpbnB1dCBmaWVsZCB0aGVuIGhpdHRpbmcgZW50ZXIgaW4gdGhpcyBmaWVsZCB0cmlnZ2VycyBmb3JtIHN1Ym1pdAogKiAoYG5nU3VibWl0YCkKICogLSBpZiBhIGZvcm0gaGFzIDIrIGlucHV0IGZpZWxkcyBhbmQgbm8gYnV0dG9ucyBvciBpbnB1dFt0eXBlPXN1Ym1pdF0gdGhlbiBoaXR0aW5nIGVudGVyCiAqIGRvZXNuJ3QgdHJpZ2dlciBzdWJtaXQKICogLSBpZiBhIGZvcm0gaGFzIG9uZSBvciBtb3JlIGlucHV0IGZpZWxkcyBhbmQgb25lIG9yIG1vcmUgYnV0dG9ucyBvciBpbnB1dFt0eXBlPXN1Ym1pdF0gdGhlbgogKiBoaXR0aW5nIGVudGVyIGluIGFueSBvZiB0aGUgaW5wdXQgZmllbGRzIHdpbGwgdHJpZ2dlciB0aGUgY2xpY2sgaGFuZGxlciBvbiB0aGUgKmZpcnN0KiBidXR0b24gb3IKICogaW5wdXRbdHlwZT1zdWJtaXRdIChgbmdDbGlja2ApICphbmQqIGEgc3VibWl0IGhhbmRsZXIgb24gdGhlIGVuY2xvc2luZyBmb3JtIChgbmdTdWJtaXRgKQogKgogKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgTmFtZSBvZiB0aGUgZm9ybS4gSWYgc3BlY2lmaWVkLCB0aGUgZm9ybSBjb250cm9sbGVyIHdpbGwgYmUgcHVibGlzaGVkIGludG8KICogICAgICAgICAgICAgICAgICAgICAgIHJlbGF0ZWQgc2NvcGUsIHVuZGVyIHRoaXMgbmFtZS4KICoKICogIyMgQW5pbWF0aW9uIEhvb2tzCiAqCiAqIEFuaW1hdGlvbnMgaW4gbmdGb3JtIGFyZSB0cmlnZ2VyZWQgd2hlbiBhbnkgb2YgdGhlIGFzc29jaWF0ZWQgQ1NTIGNsYXNzZXMgYXJlIGFkZGVkIGFuZCByZW1vdmVkLgogKiBUaGVzZSBjbGFzc2VzIGFyZTogYC5uZy1wcmlzdGluZWAsIGAubmctZGlydHlgLCBgLm5nLWludmFsaWRgIGFuZCBgLm5nLXZhbGlkYCBhcyB3ZWxsIGFzIGFueQogKiBvdGhlciB2YWxpZGF0aW9ucyB0aGF0IGFyZSBwZXJmb3JtZWQgd2l0aGluIHRoZSBmb3JtLiBBbmltYXRpb25zIGluIG5nRm9ybSBhcmUgc2ltaWxhciB0byBob3cKICogdGhleSB3b3JrIGluIG5nQ2xhc3MgYW5kIGFuaW1hdGlvbnMgY2FuIGJlIGhvb2tlZCBpbnRvIHVzaW5nIENTUyB0cmFuc2l0aW9ucywga2V5ZnJhbWVzIGFzIHdlbGwKICogYXMgSlMgYW5pbWF0aW9ucy4KICoKICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGEgc2ltcGxlIHdheSB0byB1dGlsaXplIENTUyB0cmFuc2l0aW9ucyB0byBzdHlsZSBhIGZvcm0gZWxlbWVudAogKiB0aGF0IGhhcyBiZWVuIHJlbmRlcmVkIGFzIGludmFsaWQgYWZ0ZXIgaXQgaGFzIGJlZW4gdmFsaWRhdGVkOgogKgogKiA8cHJlPgogKiAvL2JlIHN1cmUgdG8gaW5jbHVkZSBuZ0FuaW1hdGUgYXMgYSBtb2R1bGUgdG8gaG9vayBpbnRvIG1vcmUKICogLy9hZHZhbmNlZCBhbmltYXRpb25zCiAqIC5teS1mb3JtIHsKICogICB0cmFuc2l0aW9uOjAuNXMgbGluZWFyIGFsbDsKICogICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICogfQogKiAubXktZm9ybS5uZy1pbnZhbGlkIHsKICogICBiYWNrZ3JvdW5kOiByZWQ7CiAqICAgY29sb3I6d2hpdGU7CiAqIH0KICogPC9wcmU+CiAqCiAqIEBleGFtcGxlCiAgICA8ZXhhbXBsZSBkZXBzPSJhbmd1bGFyLWFuaW1hdGUuanMiIGFuaW1hdGlvbnM9InRydWUiIGZpeEJhc2U9InRydWUiPgogICAgICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgICAgIDxzY3JpcHQ+CiAgICAgICAgIGZ1bmN0aW9uIEN0cmwoJHNjb3BlKSB7CiAgICAgICAgICAgJHNjb3BlLnVzZXJUeXBlID0gJ2d1ZXN0JzsKICAgICAgICAgfQogICAgICAgPC9zY3JpcHQ+CiAgICAgICA8c3R5bGU+CiAgICAgICAgLm15LWZvcm0gewogICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOmFsbCBsaW5lYXIgMC41czsKICAgICAgICAgIHRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzOwogICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgICAgICAgfQogICAgICAgIC5teS1mb3JtLm5nLWludmFsaWQgewogICAgICAgICAgYmFja2dyb3VuZDogcmVkOwogICAgICAgIH0KICAgICAgIDwvc3R5bGU+CiAgICAgICA8Zm9ybSBuYW1lPSJteUZvcm0iIG5nLWNvbnRyb2xsZXI9IkN0cmwiIGNsYXNzPSJteS1mb3JtIj4KICAgICAgICAgdXNlclR5cGU6IDxpbnB1dCBuYW1lPSJpbnB1dCIgbmctbW9kZWw9InVzZXJUeXBlIiByZXF1aXJlZD4KICAgICAgICAgPHNwYW4gY2xhc3M9ImVycm9yIiBuZy1zaG93PSJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkIj5SZXF1aXJlZCE8L3NwYW4+PGJyPgogICAgICAgICA8dHQ+dXNlclR5cGUgPSB7e3VzZXJUeXBlfX08L3R0Pjxicj4KICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyPgogICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnI+CiAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxicj4KICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnI+CiAgICAgICAgPC9mb3JtPgogICAgICA8L2ZpbGU+CiAgICAgIDxmaWxlIG5hbWU9InByb3RyYWN0b3IuanMiIHR5cGU9InByb3RyYWN0b3IiPgogICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkgewogICAgICAgICAgdmFyIHVzZXJUeXBlID0gZWxlbWVudChieS5iaW5kaW5nKCd1c2VyVHlwZScpKTsKICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTsKCiAgICAgICAgICBleHBlY3QodXNlclR5cGUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2d1ZXN0Jyk7CiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTsKICAgICAgICB9KTsKCiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7CiAgICAgICAgICB2YXIgdXNlclR5cGUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3VzZXJUeXBlJykpOwogICAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpOwogICAgICAgICAgdmFyIHVzZXJJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3VzZXJUeXBlJykpOwoKICAgICAgICAgIHVzZXJJbnB1dC5jbGVhcigpOwogICAgICAgICAgdXNlcklucHV0LnNlbmRLZXlzKCcnKTsKCiAgICAgICAgICBleHBlY3QodXNlclR5cGUuZ2V0VGV4dCgpKS50b0VxdWFsKCd1c2VyVHlwZSA9Jyk7CiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7CiAgICAgICAgfSk7CiAgICAgIDwvZmlsZT4KICAgIDwvZXhhbXBsZT4KICoKICovCnZhciBmb3JtRGlyZWN0aXZlRmFjdG9yeSA9IGZ1bmN0aW9uKGlzTmdGb3JtKSB7CiAgcmV0dXJuIFsnJHRpbWVvdXQnLCBmdW5jdGlvbigkdGltZW91dCkgewogICAgdmFyIGZvcm1EaXJlY3RpdmUgPSB7CiAgICAgIG5hbWU6ICdmb3JtJywKICAgICAgcmVzdHJpY3Q6IGlzTmdGb3JtID8gJ0VBQycgOiAnRScsCiAgICAgIGNvbnRyb2xsZXI6IEZvcm1Db250cm9sbGVyLAogICAgICBjb21waWxlOiBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgcHJlOiBmdW5jdGlvbihzY29wZSwgZm9ybUVsZW1lbnQsIGF0dHIsIGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgaWYgKCFhdHRyLmFjdGlvbikgewogICAgICAgICAgICAgIC8vIHdlIGNhbid0IHVzZSBqcSBldmVudHMgYmVjYXVzZSBpZiBhIGZvcm0gaXMgZGVzdHJveWVkIGR1cmluZyBzdWJtaXNzaW9uIHRoZSBkZWZhdWx0CiAgICAgICAgICAgICAgLy8gYWN0aW9uIGlzIG5vdCBwcmV2ZW50ZWQuIHNlZSAjMTIzOAogICAgICAgICAgICAgIC8vCiAgICAgICAgICAgICAgLy8gSUUgOSBpcyBub3QgYWZmZWN0ZWQgYmVjYXVzZSBpdCBkb2Vzbid0IGZpcmUgYSBzdWJtaXQgZXZlbnQgYW5kIHRyeSB0byBkbyBhIGZ1bGwKICAgICAgICAgICAgICAvLyBwYWdlIHJlbG9hZCBpZiB0aGUgZm9ybSB3YXMgZGVzdHJveWVkIGJ5IHN1Ym1pc3Npb24gb2YgdGhlIGZvcm0gdmlhIGEgY2xpY2sgaGFuZGxlcgogICAgICAgICAgICAgIC8vIG9uIGEgYnV0dG9uIGluIHRoZSBmb3JtLiBMb29rcyBsaWtlIGFuIElFOSBzcGVjaWZpYyBidWcuCiAgICAgICAgICAgICAgdmFyIHByZXZlbnREZWZhdWx0TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQKICAgICAgICAgICAgICAgICAgPyBldmVudC5wcmV2ZW50RGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgIDogZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTsgLy8gSUUKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyRm4oZm9ybUVsZW1lbnRbMF0sICdzdWJtaXQnLCBwcmV2ZW50RGVmYXVsdExpc3RlbmVyKTsKCiAgICAgICAgICAgICAgLy8gdW5yZWdpc3RlciB0aGUgcHJldmVudERlZmF1bHQgbGlzdGVuZXIgc28gdGhhdCB3ZSBkb24ndCBub3QgbGVhayBtZW1vcnkgYnV0IGluIGEKICAgICAgICAgICAgICAvLyB3YXkgdGhhdCB3aWxsIGFjaGlldmUgdGhlIHByZXZlbnRpb24gb2YgdGhlIGRlZmF1bHQgYWN0aW9uLgogICAgICAgICAgICAgIGZvcm1FbGVtZW50Lm9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJGbihmb3JtRWxlbWVudFswXSwgJ3N1Ym1pdCcsIHByZXZlbnREZWZhdWx0TGlzdGVuZXIpOwogICAgICAgICAgICAgICAgfSwgMCwgZmFsc2UpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgcGFyZW50Rm9ybUN0cmwgPSBmb3JtRWxlbWVudC5wYXJlbnQoKS5jb250cm9sbGVyKCdmb3JtJyksCiAgICAgICAgICAgICAgICBhbGlhcyA9IGF0dHIubmFtZSB8fCBhdHRyLm5nRm9ybTsKCiAgICAgICAgICAgIGlmIChhbGlhcykgewogICAgICAgICAgICAgIHNldHRlcihzY29wZSwgYWxpYXMsIGNvbnRyb2xsZXIsIGFsaWFzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAocGFyZW50Rm9ybUN0cmwpIHsKICAgICAgICAgICAgICBmb3JtRWxlbWVudC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHBhcmVudEZvcm1DdHJsLiRyZW1vdmVDb250cm9sKGNvbnRyb2xsZXIpOwogICAgICAgICAgICAgICAgaWYgKGFsaWFzKSB7CiAgICAgICAgICAgICAgICAgIHNldHRlcihzY29wZSwgYWxpYXMsIHVuZGVmaW5lZCwgYWxpYXMpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZXh0ZW5kKGNvbnRyb2xsZXIsIG51bGxGb3JtQ3RybCk7IC8vc3RvcCBwcm9wYWdhdGluZyBjaGlsZCBkZXN0cnVjdGlvbiBoYW5kbGVycyB1cHdhcmRzCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9CiAgICB9OwoKICAgIHJldHVybiBmb3JtRGlyZWN0aXZlOwogIH1dOwp9OwoKdmFyIGZvcm1EaXJlY3RpdmUgPSBmb3JtRGlyZWN0aXZlRmFjdG9yeSgpOwp2YXIgbmdGb3JtRGlyZWN0aXZlID0gZm9ybURpcmVjdGl2ZUZhY3RvcnkodHJ1ZSk7CgovKiBnbG9iYWwKCiAgICAtVkFMSURfQ0xBU1MsCiAgICAtSU5WQUxJRF9DTEFTUywKICAgIC1QUklTVElORV9DTEFTUywKICAgIC1ESVJUWV9DTEFTUwoqLwoKdmFyIFVSTF9SRUdFWFAgPSAvXihmdHB8aHR0cHxodHRwcyk6XC9cLyhcdys6ezAsMX1cdypAKT8oXFMrKSg6WzAtOV0rKT8oXC98XC8oW1x3IyE6Lj8rPSYlQCFcLVwvXSkpPyQvOwp2YXIgRU1BSUxfUkVHRVhQID0gL15bYS16MC05ISMkJSYnKitcLz0/Xl9ge3x9fi4tXStAW2EtejAtOS1dKyhcLlthLXowLTktXSspKiQvaTsKdmFyIE5VTUJFUl9SRUdFWFAgPSAvXlxzKihcLXxcKyk/KFxkK3woXGQqKFwuXGQqKSkpXHMqJC87Cgp2YXIgaW5wdXRUeXBlID0gewoKICAvKioKICAgKiBAbmdkb2MgaW5wdXQKICAgKiBAbmFtZSBpbnB1dFt0ZXh0XQogICAqCiAgICogQGRlc2NyaXB0aW9uCiAgICogU3RhbmRhcmQgSFRNTCB0ZXh0IGlucHV0IHdpdGggYW5ndWxhciBkYXRhIGJpbmRpbmcuCiAgICoKICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uCiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLgogICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC4KICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8KICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZgogICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLgogICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuCiAgICogICAgbWlubGVuZ3RoLgogICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW4KICAgKiAgICBtYXhsZW5ndGguCiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1BhdHRlcm4gU2V0cyBgcGF0dGVybmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGRvZXMgbm90IG1hdGNoIHRoZQogICAqICAgIFJlZ0V4cCBwYXR0ZXJuIGV4cHJlc3Npb24uIEV4cGVjdGVkIHZhbHVlIGlzIGAvcmVnZXhwL2AgZm9yIGlubGluZSBwYXR0ZXJucyBvciBgcmVnZXhwYCBmb3IKICAgKiAgICBwYXR0ZXJucyBkZWZpbmVkIGFzIHNjb3BlIGV4cHJlc3Npb25zLgogICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlcgogICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuCiAgICogQHBhcmFtIHtib29sZWFuPX0gW25nVHJpbT10cnVlXSBJZiBzZXQgdG8gZmFsc2UgQW5ndWxhciB3aWxsIG5vdCBhdXRvbWF0aWNhbGx5IHRyaW0gdGhlIGlucHV0LgogICAqCiAgICogQGV4YW1wbGUKICAgICAgPGV4YW1wbGUgbmFtZT0idGV4dC1pbnB1dC1kaXJlY3RpdmUiPgogICAgICAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgICAgICA8c2NyaXB0PgogICAgICAgICAgIGZ1bmN0aW9uIEN0cmwoJHNjb3BlKSB7CiAgICAgICAgICAgICAkc2NvcGUudGV4dCA9ICdndWVzdCc7CiAgICAgICAgICAgICAkc2NvcGUud29yZCA9IC9eXHMqXHcqXHMqJC87CiAgICAgICAgICAgfQogICAgICAgICA8L3NjcmlwdD4KICAgICAgICAgPGZvcm0gbmFtZT0ibXlGb3JtIiBuZy1jb250cm9sbGVyPSJDdHJsIj4KICAgICAgICAgICBTaW5nbGUgd29yZDogPGlucHV0IHR5cGU9InRleHQiIG5hbWU9ImlucHV0IiBuZy1tb2RlbD0idGV4dCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nLXBhdHRlcm49IndvcmQiIHJlcXVpcmVkIG5nLXRyaW09ImZhbHNlIj4KICAgICAgICAgICA8c3BhbiBjbGFzcz0iZXJyb3IiIG5nLXNob3c9Im15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWQiPgogICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPgogICAgICAgICAgIDxzcGFuIGNsYXNzPSJlcnJvciIgbmctc2hvdz0ibXlGb3JtLmlucHV0LiRlcnJvci5wYXR0ZXJuIj4KICAgICAgICAgICAgIFNpbmdsZSB3b3JkIG9ubHkhPC9zcGFuPgoKICAgICAgICAgICA8dHQ+dGV4dCA9IHt7dGV4dH19PC90dD48YnIvPgogICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+CiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz4KICAgICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPgogICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz4KICAgICAgICAgIDwvZm9ybT4KICAgICAgICA8L2ZpbGU+CiAgICAgICAgPGZpbGUgbmFtZT0icHJvdHJhY3Rvci5qcyIgdHlwZT0icHJvdHJhY3RvciI+CiAgICAgICAgICB2YXIgdGV4dCA9IGVsZW1lbnQoYnkuYmluZGluZygndGV4dCcpKTsKICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTsKICAgICAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3RleHQnKSk7CgogICAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGV4cGVjdCh0ZXh0LmdldFRleHQoKSkudG9Db250YWluKCdndWVzdCcpOwogICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpbnB1dC5jbGVhcigpOwogICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnJyk7CgogICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvRXF1YWwoJ3RleHQgPScpOwogICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgbXVsdGkgd29yZCcsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpbnB1dC5jbGVhcigpOwogICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnaGVsbG8gd29ybGQnKTsKCiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTsKICAgICAgICAgIH0pOwogICAgICAgIDwvZmlsZT4KICAgICAgPC9leGFtcGxlPgogICAqLwogICd0ZXh0JzogdGV4dElucHV0VHlwZSwKCgogIC8qKgogICAqIEBuZ2RvYyBpbnB1dAogICAqIEBuYW1lIGlucHV0W251bWJlcl0KICAgKgogICAqIEBkZXNjcmlwdGlvbgogICAqIFRleHQgaW5wdXQgd2l0aCBudW1iZXIgdmFsaWRhdGlvbiBhbmQgdHJhbnNmb3JtYXRpb24uIFNldHMgdGhlIGBudW1iZXJgIHZhbGlkYXRpb24KICAgKiBlcnJvciBpZiBub3QgYSB2YWxpZCBudW1iZXIuCiAgICoKICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uCiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLgogICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC4KICAgKiBAcGFyYW0ge3N0cmluZz19IG1heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBncmVhdGVyIHRoYW4gYG1heGAuCiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLgogICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0bwogICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mCiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuCiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW4KICAgKiAgICBtaW5sZW5ndGguCiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhbgogICAqICAgIG1heGxlbmd0aC4KICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZG9lcyBub3QgbWF0Y2ggdGhlCiAgICogICAgUmVnRXhwIHBhdHRlcm4gZXhwcmVzc2lvbi4gRXhwZWN0ZWQgdmFsdWUgaXMgYC9yZWdleHAvYCBmb3IgaW5saW5lIHBhdHRlcm5zIG9yIGByZWdleHBgIGZvcgogICAqICAgIHBhdHRlcm5zIGRlZmluZWQgYXMgc2NvcGUgZXhwcmVzc2lvbnMuCiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyCiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC4KICAgKgogICAqIEBleGFtcGxlCiAgICAgIDxleGFtcGxlIG5hbWU9Im51bWJlci1pbnB1dC1kaXJlY3RpdmUiPgogICAgICAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgICAgICA8c2NyaXB0PgogICAgICAgICAgIGZ1bmN0aW9uIEN0cmwoJHNjb3BlKSB7CiAgICAgICAgICAgICAkc2NvcGUudmFsdWUgPSAxMjsKICAgICAgICAgICB9CiAgICAgICAgIDwvc2NyaXB0PgogICAgICAgICA8Zm9ybSBuYW1lPSJteUZvcm0iIG5nLWNvbnRyb2xsZXI9IkN0cmwiPgogICAgICAgICAgIE51bWJlcjogPGlucHV0IHR5cGU9Im51bWJlciIgbmFtZT0iaW5wdXQiIG5nLW1vZGVsPSJ2YWx1ZSIKICAgICAgICAgICAgICAgICAgICAgICAgICBtaW49IjAiIG1heD0iOTkiIHJlcXVpcmVkPgogICAgICAgICAgIDxzcGFuIGNsYXNzPSJlcnJvciIgbmctc2hvdz0ibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZCI+CiAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+CiAgICAgICAgICAgPHNwYW4gY2xhc3M9ImVycm9yIiBuZy1zaG93PSJteUZvcm0uaW5wdXQuJGVycm9yLm51bWJlciI+CiAgICAgICAgICAgICBOb3QgdmFsaWQgbnVtYmVyITwvc3Bhbj4KICAgICAgICAgICA8dHQ+dmFsdWUgPSB7e3ZhbHVlfX08L3R0Pjxici8+CiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz4KICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPgogICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+CiAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPgogICAgICAgICAgPC9mb3JtPgogICAgICAgIDwvZmlsZT4KICAgICAgICA8ZmlsZSBuYW1lPSJwcm90cmFjdG9yLmpzIiB0eXBlPSJwcm90cmFjdG9yIj4KICAgICAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQoYnkuYmluZGluZygndmFsdWUnKSk7CiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7CiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKTsKCiAgICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcxMicpOwogICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpbnB1dC5jbGVhcigpOwogICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnJyk7CiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTsKICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpOwogICAgICAgICAgfSk7CgogICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7CiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcxMjMnKTsKICAgICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpOwogICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7CiAgICAgICAgICB9KTsKICAgICAgICA8L2ZpbGU+CiAgICAgIDwvZXhhbXBsZT4KICAgKi8KICAnbnVtYmVyJzogbnVtYmVySW5wdXRUeXBlLAoKCiAgLyoqCiAgICogQG5nZG9jIGlucHV0CiAgICogQG5hbWUgaW5wdXRbdXJsXQogICAqCiAgICogQGRlc2NyaXB0aW9uCiAgICogVGV4dCBpbnB1dCB3aXRoIFVSTCB2YWxpZGF0aW9uLiBTZXRzIHRoZSBgdXJsYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgY29udGVudCBpcyBub3QgYQogICAqIHZhbGlkIFVSTC4KICAgKgogICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by4KICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuCiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLgogICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0bwogICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mCiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuCiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW4KICAgKiAgICBtaW5sZW5ndGguCiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhbgogICAqICAgIG1heGxlbmd0aC4KICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZG9lcyBub3QgbWF0Y2ggdGhlCiAgICogICAgUmVnRXhwIHBhdHRlcm4gZXhwcmVzc2lvbi4gRXhwZWN0ZWQgdmFsdWUgaXMgYC9yZWdleHAvYCBmb3IgaW5saW5lIHBhdHRlcm5zIG9yIGByZWdleHBgIGZvcgogICAqICAgIHBhdHRlcm5zIGRlZmluZWQgYXMgc2NvcGUgZXhwcmVzc2lvbnMuCiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyCiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC4KICAgKgogICAqIEBleGFtcGxlCiAgICAgIDxleGFtcGxlIG5hbWU9InVybC1pbnB1dC1kaXJlY3RpdmUiPgogICAgICAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgICAgICA8c2NyaXB0PgogICAgICAgICAgIGZ1bmN0aW9uIEN0cmwoJHNjb3BlKSB7CiAgICAgICAgICAgICAkc2NvcGUudGV4dCA9ICdodHRwOi8vZ29vZ2xlLmNvbSc7CiAgICAgICAgICAgfQogICAgICAgICA8L3NjcmlwdD4KICAgICAgICAgPGZvcm0gbmFtZT0ibXlGb3JtIiBuZy1jb250cm9sbGVyPSJDdHJsIj4KICAgICAgICAgICBVUkw6IDxpbnB1dCB0eXBlPSJ1cmwiIG5hbWU9ImlucHV0IiBuZy1tb2RlbD0idGV4dCIgcmVxdWlyZWQ+CiAgICAgICAgICAgPHNwYW4gY2xhc3M9ImVycm9yIiBuZy1zaG93PSJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkIj4KICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj4KICAgICAgICAgICA8c3BhbiBjbGFzcz0iZXJyb3IiIG5nLXNob3c9Im15Rm9ybS5pbnB1dC4kZXJyb3IudXJsIj4KICAgICAgICAgICAgIE5vdCB2YWxpZCB1cmwhPC9zcGFuPgogICAgICAgICAgIDx0dD50ZXh0ID0ge3t0ZXh0fX08L3R0Pjxici8+CiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz4KICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPgogICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+CiAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPgogICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnVybCA9IHt7ISFteUZvcm0uJGVycm9yLnVybH19PC90dD48YnIvPgogICAgICAgICAgPC9mb3JtPgogICAgICAgIDwvZmlsZT4KICAgICAgICA8ZmlsZSBuYW1lPSJwcm90cmFjdG9yLmpzIiB0eXBlPSJwcm90cmFjdG9yIj4KICAgICAgICAgIHZhciB0ZXh0ID0gZWxlbWVudChieS5iaW5kaW5nKCd0ZXh0JykpOwogICAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpOwogICAgICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgndGV4dCcpKTsKCiAgICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2h0dHA6Ly9nb29nbGUuY29tJyk7CiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpOwogICAgICAgICAgfSk7CgogICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7CiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcnKTsKCiAgICAgICAgICAgIGV4cGVjdCh0ZXh0LmdldFRleHQoKSkudG9FcXVhbCgndGV4dCA9Jyk7CiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBub3QgdXJsJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7CiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCdib3gnKTsKCiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTsKICAgICAgICAgIH0pOwogICAgICAgIDwvZmlsZT4KICAgICAgPC9leGFtcGxlPgogICAqLwogICd1cmwnOiB1cmxJbnB1dFR5cGUsCgoKICAvKioKICAgKiBAbmdkb2MgaW5wdXQKICAgKiBAbmFtZSBpbnB1dFtlbWFpbF0KICAgKgogICAqIEBkZXNjcmlwdGlvbgogICAqIFRleHQgaW5wdXQgd2l0aCBlbWFpbCB2YWxpZGF0aW9uLiBTZXRzIHRoZSBgZW1haWxgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIG5vdCBhIHZhbGlkIGVtYWlsCiAgICogYWRkcmVzcy4KICAgKgogICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by4KICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuCiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLgogICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0bwogICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mCiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuCiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW4KICAgKiAgICBtaW5sZW5ndGguCiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhbgogICAqICAgIG1heGxlbmd0aC4KICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZG9lcyBub3QgbWF0Y2ggdGhlCiAgICogICAgUmVnRXhwIHBhdHRlcm4gZXhwcmVzc2lvbi4gRXhwZWN0ZWQgdmFsdWUgaXMgYC9yZWdleHAvYCBmb3IgaW5saW5lIHBhdHRlcm5zIG9yIGByZWdleHBgIGZvcgogICAqICAgIHBhdHRlcm5zIGRlZmluZWQgYXMgc2NvcGUgZXhwcmVzc2lvbnMuCiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyCiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC4KICAgKgogICAqIEBleGFtcGxlCiAgICAgIDxleGFtcGxlIG5hbWU9ImVtYWlsLWlucHV0LWRpcmVjdGl2ZSI+CiAgICAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgICAgIDxzY3JpcHQ+CiAgICAgICAgICAgZnVuY3Rpb24gQ3RybCgkc2NvcGUpIHsKICAgICAgICAgICAgICRzY29wZS50ZXh0ID0gJ21lQGV4YW1wbGUuY29tJzsKICAgICAgICAgICB9CiAgICAgICAgIDwvc2NyaXB0PgogICAgICAgICAgIDxmb3JtIG5hbWU9Im15Rm9ybSIgbmctY29udHJvbGxlcj0iQ3RybCI+CiAgICAgICAgICAgICBFbWFpbDogPGlucHV0IHR5cGU9ImVtYWlsIiBuYW1lPSJpbnB1dCIgbmctbW9kZWw9InRleHQiIHJlcXVpcmVkPgogICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImVycm9yIiBuZy1zaG93PSJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkIj4KICAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPgogICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImVycm9yIiBuZy1zaG93PSJteUZvcm0uaW5wdXQuJGVycm9yLmVtYWlsIj4KICAgICAgICAgICAgICAgTm90IHZhbGlkIGVtYWlsITwvc3Bhbj4KICAgICAgICAgICAgIDx0dD50ZXh0ID0ge3t0ZXh0fX08L3R0Pjxici8+CiAgICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPgogICAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz4KICAgICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+CiAgICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+CiAgICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5lbWFpbCA9IHt7ISFteUZvcm0uJGVycm9yLmVtYWlsfX08L3R0Pjxici8+CiAgICAgICAgICAgPC9mb3JtPgogICAgICAgICA8L2ZpbGU+CiAgICAgICAgPGZpbGUgbmFtZT0icHJvdHJhY3Rvci5qcyIgdHlwZT0icHJvdHJhY3RvciI+CiAgICAgICAgICB2YXIgdGV4dCA9IGVsZW1lbnQoYnkuYmluZGluZygndGV4dCcpKTsKICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTsKICAgICAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3RleHQnKSk7CgogICAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGV4cGVjdCh0ZXh0LmdldFRleHQoKSkudG9Db250YWluKCdtZUBleGFtcGxlLmNvbScpOwogICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpbnB1dC5jbGVhcigpOwogICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnJyk7CiAgICAgICAgICAgIGV4cGVjdCh0ZXh0LmdldFRleHQoKSkudG9FcXVhbCgndGV4dCA9Jyk7CiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBub3QgZW1haWwnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTsKICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ3h4eCcpOwoKICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpOwogICAgICAgICAgfSk7CiAgICAgICAgPC9maWxlPgogICAgICA8L2V4YW1wbGU+CiAgICovCiAgJ2VtYWlsJzogZW1haWxJbnB1dFR5cGUsCgoKICAvKioKICAgKiBAbmdkb2MgaW5wdXQKICAgKiBAbmFtZSBpbnB1dFtyYWRpb10KICAgKgogICAqIEBkZXNjcmlwdGlvbgogICAqIEhUTUwgcmFkaW8gYnV0dG9uLgogICAqCiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLgogICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd2hpY2ggdGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIHNlbGVjdGVkLgogICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC4KICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXIKICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LgogICAqIEBwYXJhbSB7c3RyaW5nfSBuZ1ZhbHVlIEFuZ3VsYXIgZXhwcmVzc2lvbiB3aGljaCBzZXRzIHRoZSB2YWx1ZSB0byB3aGljaCB0aGUgZXhwcmVzc2lvbiBzaG91bGQKICAgKiAgICBiZSBzZXQgd2hlbiBzZWxlY3RlZC4KICAgKgogICAqIEBleGFtcGxlCiAgICAgIDxleGFtcGxlIG5hbWU9InJhZGlvLWlucHV0LWRpcmVjdGl2ZSI+CiAgICAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgICAgIDxzY3JpcHQ+CiAgICAgICAgICAgZnVuY3Rpb24gQ3RybCgkc2NvcGUpIHsKICAgICAgICAgICAgICRzY29wZS5jb2xvciA9ICdibHVlJzsKICAgICAgICAgICAgICRzY29wZS5zcGVjaWFsVmFsdWUgPSB7CiAgICAgICAgICAgICAgICJpZCI6ICIxMjM0NSIsCiAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJncmVlbiIKICAgICAgICAgICAgIH07CiAgICAgICAgICAgfQogICAgICAgICA8L3NjcmlwdD4KICAgICAgICAgPGZvcm0gbmFtZT0ibXlGb3JtIiBuZy1jb250cm9sbGVyPSJDdHJsIj4KICAgICAgICAgICA8aW5wdXQgdHlwZT0icmFkaW8iIG5nLW1vZGVsPSJjb2xvciIgdmFsdWU9InJlZCI+ICBSZWQgPGJyLz4KICAgICAgICAgICA8aW5wdXQgdHlwZT0icmFkaW8iIG5nLW1vZGVsPSJjb2xvciIgbmctdmFsdWU9InNwZWNpYWxWYWx1ZSI+IEdyZWVuIDxici8+CiAgICAgICAgICAgPGlucHV0IHR5cGU9InJhZGlvIiBuZy1tb2RlbD0iY29sb3IiIHZhbHVlPSJibHVlIj4gQmx1ZSA8YnIvPgogICAgICAgICAgIDx0dD5jb2xvciA9IHt7Y29sb3IgfCBqc29ufX08L3R0Pjxici8+CiAgICAgICAgICA8L2Zvcm0+CiAgICAgICAgICBOb3RlIHRoYXQgYG5nLXZhbHVlPSJzcGVjaWFsVmFsdWUiYCBzZXRzIHJhZGlvIGl0ZW0ncyB2YWx1ZSB0byBiZSB0aGUgdmFsdWUgb2YgYCRzY29wZS5zcGVjaWFsVmFsdWVgLgogICAgICAgIDwvZmlsZT4KICAgICAgICA8ZmlsZSBuYW1lPSJwcm90cmFjdG9yLmpzIiB0eXBlPSJwcm90cmFjdG9yIj4KICAgICAgICAgIGl0KCdzaG91bGQgY2hhbmdlIHN0YXRlJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBjb2xvciA9IGVsZW1lbnQoYnkuYmluZGluZygnY29sb3InKSk7CgogICAgICAgICAgICBleHBlY3QoY29sb3IuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2JsdWUnKTsKCiAgICAgICAgICAgIGVsZW1lbnQuYWxsKGJ5Lm1vZGVsKCdjb2xvcicpKS5nZXQoMCkuY2xpY2soKTsKCiAgICAgICAgICAgIGV4cGVjdChjb2xvci5nZXRUZXh0KCkpLnRvQ29udGFpbigncmVkJyk7CiAgICAgICAgICB9KTsKICAgICAgICA8L2ZpbGU+CiAgICAgIDwvZXhhbXBsZT4KICAgKi8KICAncmFkaW8nOiByYWRpb0lucHV0VHlwZSwKCgogIC8qKgogICAqIEBuZ2RvYyBpbnB1dAogICAqIEBuYW1lIGlucHV0W2NoZWNrYm94XQogICAqCiAgICogQGRlc2NyaXB0aW9uCiAgICogSFRNTCBjaGVja2JveC4KICAgKgogICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by4KICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuCiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1RydWVWYWx1ZSBUaGUgdmFsdWUgdG8gd2hpY2ggdGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIHNlbGVjdGVkLgogICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdGYWxzZVZhbHVlIFRoZSB2YWx1ZSB0byB3aGljaCB0aGUgZXhwcmVzc2lvbiBzaG91bGQgYmUgc2V0IHdoZW4gbm90IHNlbGVjdGVkLgogICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlcgogICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuCiAgICoKICAgKiBAZXhhbXBsZQogICAgICA8ZXhhbXBsZSBuYW1lPSJjaGVja2JveC1pbnB1dC1kaXJlY3RpdmUiPgogICAgICAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgICAgICA8c2NyaXB0PgogICAgICAgICAgIGZ1bmN0aW9uIEN0cmwoJHNjb3BlKSB7CiAgICAgICAgICAgICAkc2NvcGUudmFsdWUxID0gdHJ1ZTsKICAgICAgICAgICAgICRzY29wZS52YWx1ZTIgPSAnWUVTJwogICAgICAgICAgIH0KICAgICAgICAgPC9zY3JpcHQ+CiAgICAgICAgIDxmb3JtIG5hbWU9Im15Rm9ybSIgbmctY29udHJvbGxlcj0iQ3RybCI+CiAgICAgICAgICAgVmFsdWUxOiA8aW5wdXQgdHlwZT0iY2hlY2tib3giIG5nLW1vZGVsPSJ2YWx1ZTEiPiA8YnIvPgogICAgICAgICAgIFZhbHVlMjogPGlucHV0IHR5cGU9ImNoZWNrYm94IiBuZy1tb2RlbD0idmFsdWUyIgogICAgICAgICAgICAgICAgICAgICAgICAgIG5nLXRydWUtdmFsdWU9IllFUyIgbmctZmFsc2UtdmFsdWU9Ik5PIj4gPGJyLz4KICAgICAgICAgICA8dHQ+dmFsdWUxID0ge3t2YWx1ZTF9fTwvdHQ+PGJyLz4KICAgICAgICAgICA8dHQ+dmFsdWUyID0ge3t2YWx1ZTJ9fTwvdHQ+PGJyLz4KICAgICAgICAgIDwvZm9ybT4KICAgICAgICA8L2ZpbGU+CiAgICAgICAgPGZpbGUgbmFtZT0icHJvdHJhY3Rvci5qcyIgdHlwZT0icHJvdHJhY3RvciI+CiAgICAgICAgICBpdCgnc2hvdWxkIGNoYW5nZSBzdGF0ZScsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgdmFsdWUxID0gZWxlbWVudChieS5iaW5kaW5nKCd2YWx1ZTEnKSk7CiAgICAgICAgICAgIHZhciB2YWx1ZTIgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3ZhbHVlMicpKTsKCiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZTEuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTsKICAgICAgICAgICAgZXhwZWN0KHZhbHVlMi5nZXRUZXh0KCkpLnRvQ29udGFpbignWUVTJyk7CgogICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZTEnKSkuY2xpY2soKTsKICAgICAgICAgICAgZWxlbWVudChieS5tb2RlbCgndmFsdWUyJykpLmNsaWNrKCk7CgogICAgICAgICAgICBleHBlY3QodmFsdWUxLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpOwogICAgICAgICAgICBleHBlY3QodmFsdWUyLmdldFRleHQoKSkudG9Db250YWluKCdOTycpOwogICAgICAgICAgfSk7CiAgICAgICAgPC9maWxlPgogICAgICA8L2V4YW1wbGU+CiAgICovCiAgJ2NoZWNrYm94JzogY2hlY2tib3hJbnB1dFR5cGUsCgogICdoaWRkZW4nOiBub29wLAogICdidXR0b24nOiBub29wLAogICdzdWJtaXQnOiBub29wLAogICdyZXNldCc6IG5vb3AsCiAgJ2ZpbGUnOiBub29wCn07CgovLyBBIGhlbHBlciBmdW5jdGlvbiB0byBjYWxsICRzZXRWYWxpZGl0eSBhbmQgcmV0dXJuIHRoZSB2YWx1ZSAvIHVuZGVmaW5lZCwKLy8gYSBwYXR0ZXJuIHRoYXQgaXMgcmVwZWF0ZWQgYSBsb3QgaW4gdGhlIGlucHV0IHZhbGlkYXRpb24gbG9naWMuCmZ1bmN0aW9uIHZhbGlkYXRlKGN0cmwsIHZhbGlkYXRvck5hbWUsIHZhbGlkaXR5LCB2YWx1ZSl7CiAgY3RybC4kc2V0VmFsaWRpdHkodmFsaWRhdG9yTmFtZSwgdmFsaWRpdHkpOwogIHJldHVybiB2YWxpZGl0eSA/IHZhbHVlIDogdW5kZWZpbmVkOwp9CgpmdW5jdGlvbiB0ZXN0RmxhZ3ModmFsaWRpdHksIGZsYWdzKSB7CiAgdmFyIGksIGZsYWc7CiAgaWYgKGZsYWdzKSB7CiAgICBmb3IgKGk9MDsgaTxmbGFncy5sZW5ndGg7ICsraSkgewogICAgICBmbGFnID0gZmxhZ3NbaV07CiAgICAgIGlmICh2YWxpZGl0eVtmbGFnXSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9CiAgfQogIHJldHVybiBmYWxzZTsKfQoKLy8gUGFzcyB2YWxpZGl0eSBzbyB0aGF0IGJlaGF2aW91ciBjYW4gYmUgbW9ja2VkIGVhc2llci4KZnVuY3Rpb24gYWRkTmF0aXZlSHRtbDVWYWxpZGF0b3JzKGN0cmwsIHZhbGlkYXRvck5hbWUsIGJhZEZsYWdzLCBpZ25vcmVGbGFncywgdmFsaWRpdHkpIHsKICBpZiAoaXNPYmplY3QodmFsaWRpdHkpKSB7CiAgICBjdHJsLiQkaGFzTmF0aXZlVmFsaWRhdG9ycyA9IHRydWU7CiAgICB2YXIgdmFsaWRhdG9yID0gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgLy8gRG9uJ3Qgb3ZlcndyaXRlIHByZXZpb3VzIHZhbGlkYXRpb24sIGRvbid0IGNvbnNpZGVyIHZhbHVlTWlzc2luZyB0byBhcHBseSAobmctcmVxdWlyZWQgY2FuCiAgICAgIC8vIHBlcmZvcm0gdGhlIHJlcXVpcmVkIHZhbGlkYXRpb24pCiAgICAgIGlmICghY3RybC4kZXJyb3JbdmFsaWRhdG9yTmFtZV0gJiYKICAgICAgICAgICF0ZXN0RmxhZ3ModmFsaWRpdHksIGlnbm9yZUZsYWdzKSAmJgogICAgICAgICAgdGVzdEZsYWdzKHZhbGlkaXR5LCBiYWRGbGFncykpIHsKICAgICAgICBjdHJsLiRzZXRWYWxpZGl0eSh2YWxpZGF0b3JOYW1lLCBmYWxzZSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHJldHVybiB2YWx1ZTsKICAgIH07CiAgICBjdHJsLiRwYXJzZXJzLnB1c2godmFsaWRhdG9yKTsKICB9Cn0KCmZ1bmN0aW9uIHRleHRJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3NlcikgewogIHZhciB2YWxpZGl0eSA9IGVsZW1lbnQucHJvcChWQUxJRElUWV9TVEFURV9QUk9QRVJUWSk7CiAgdmFyIHBsYWNlaG9sZGVyID0gZWxlbWVudFswXS5wbGFjZWhvbGRlciwgbm9ldmVudCA9IHt9OwogIGN0cmwuJCR2YWxpZGl0eVN0YXRlID0gdmFsaWRpdHk7CgogIC8vIEluIGNvbXBvc2l0aW9uIG1vZGUsIHVzZXJzIGFyZSBzdGlsbCBpbnB1dGluZyBpbnRlcm1lZGlhdGUgdGV4dCBidWZmZXIsCiAgLy8gaG9sZCB0aGUgbGlzdGVuZXIgdW50aWwgY29tcG9zaXRpb24gaXMgZG9uZS4KICAvLyBNb3JlIGFib3V0IGNvbXBvc2l0aW9uIGV2ZW50czogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NvbXBvc2l0aW9uRXZlbnQKICBpZiAoISRzbmlmZmVyLmFuZHJvaWQpIHsKICAgIHZhciBjb21wb3NpbmcgPSBmYWxzZTsKCiAgICBlbGVtZW50Lm9uKCdjb21wb3NpdGlvbnN0YXJ0JywgZnVuY3Rpb24oZGF0YSkgewogICAgICBjb21wb3NpbmcgPSB0cnVlOwogICAgfSk7CgogICAgZWxlbWVudC5vbignY29tcG9zaXRpb25lbmQnLCBmdW5jdGlvbigpIHsKICAgICAgY29tcG9zaW5nID0gZmFsc2U7CiAgICAgIGxpc3RlbmVyKCk7CiAgICB9KTsKICB9CgogIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uKGV2KSB7CiAgICBpZiAoY29tcG9zaW5nKSByZXR1cm47CiAgICB2YXIgdmFsdWUgPSBlbGVtZW50LnZhbCgpOwoKICAgIC8vIElFICgxMSBhbmQgdW5kZXIpIHNlZW0gdG8gZW1pdCBhbiAnaW5wdXQnIGV2ZW50IGlmIHRoZSBwbGFjZWhvbGRlciB2YWx1ZSBjaGFuZ2VzLgogICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBkaXJ0eSB0aGUgdmFsdWUgd2hlbiB0aGlzIGhhcHBlbnMsIHNvIHdlIGFib3J0IGhlcmUuIFVuZm9ydHVuYXRlbHksCiAgICAvLyBJRSBhbHNvIHNlbmRzIGlucHV0IGV2ZW50cyBmb3Igb3RoZXIgbm9uLWlucHV0LXJlbGF0ZWQgdGhpbmdzLCAoc3VjaCBhcyBmb2N1c2luZyBvbiBhCiAgICAvLyBmb3JtIGNvbnRyb2wpLCBzbyB0aGlzIGNoYW5nZSBpcyBub3QgZW50aXJlbHkgZW5vdWdoIHRvIHNvbHZlIHRoaXMuCiAgICBpZiAobXNpZSAmJiAoZXYgfHwgbm9ldmVudCkudHlwZSA9PT0gJ2lucHV0JyAmJiBlbGVtZW50WzBdLnBsYWNlaG9sZGVyICE9PSBwbGFjZWhvbGRlcikgewogICAgICBwbGFjZWhvbGRlciA9IGVsZW1lbnRbMF0ucGxhY2Vob2xkZXI7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICAvLyBCeSBkZWZhdWx0IHdlIHdpbGwgdHJpbSB0aGUgdmFsdWUKICAgIC8vIElmIHRoZSBhdHRyaWJ1dGUgbmctdHJpbSBleGlzdHMgd2Ugd2lsbCBhdm9pZCB0cmltbWluZwogICAgLy8gZS5nLiA8aW5wdXQgbmctbW9kZWw9ImZvbyIgbmctdHJpbT0iZmFsc2UiPgogICAgaWYgKHRvQm9vbGVhbihhdHRyLm5nVHJpbSB8fCAnVCcpKSB7CiAgICAgIHZhbHVlID0gdHJpbSh2YWx1ZSk7CiAgICB9CgogICAgLy8gSWYgYSBjb250cm9sIGlzIHN1ZmZlcmluZyBmcm9tIGJhZCBpbnB1dCwgYnJvd3NlcnMgZGlzY2FyZCBpdHMgdmFsdWUsIHNvIGl0IG1heSBiZQogICAgLy8gbmVjZXNzYXJ5IHRvIHJldmFsaWRhdGUgZXZlbiBpZiB0aGUgY29udHJvbCdzIHZhbHVlIGlzIHRoZSBzYW1lIGVtcHR5IHZhbHVlIHR3aWNlIGluCiAgICAvLyBhIHJvdy4KICAgIHZhciByZXZhbGlkYXRlID0gdmFsaWRpdHkgJiYgY3RybC4kJGhhc05hdGl2ZVZhbGlkYXRvcnM7CiAgICBpZiAoY3RybC4kdmlld1ZhbHVlICE9PSB2YWx1ZSB8fCAodmFsdWUgPT09ICcnICYmIHJldmFsaWRhdGUpKSB7CiAgICAgIGlmIChzY29wZS4kJHBoYXNlKSB7CiAgICAgICAgY3RybC4kc2V0Vmlld1ZhbHVlKHZhbHVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7CiAgICAgICAgICBjdHJsLiRzZXRWaWV3VmFsdWUodmFsdWUpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gaWYgdGhlIGJyb3dzZXIgZG9lcyBzdXBwb3J0ICJpbnB1dCIgZXZlbnQsIHdlIGFyZSBmaW5lIC0gZXhjZXB0IG9uIElFOSB3aGljaCBkb2Vzbid0IGZpcmUgdGhlCiAgLy8gaW5wdXQgZXZlbnQgb24gYmFja3NwYWNlLCBkZWxldGUgb3IgY3V0CiAgaWYgKCRzbmlmZmVyLmhhc0V2ZW50KCdpbnB1dCcpKSB7CiAgICBlbGVtZW50Lm9uKCdpbnB1dCcsIGxpc3RlbmVyKTsKICB9IGVsc2UgewogICAgdmFyIHRpbWVvdXQ7CgogICAgdmFyIGRlZmVyTGlzdGVuZXIgPSBmdW5jdGlvbigpIHsKICAgICAgaWYgKCF0aW1lb3V0KSB7CiAgICAgICAgdGltZW91dCA9ICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkgewogICAgICAgICAgbGlzdGVuZXIoKTsKICAgICAgICAgIHRpbWVvdXQgPSBudWxsOwogICAgICAgIH0pOwogICAgICB9CiAgICB9OwoKICAgIGVsZW1lbnQub24oJ2tleWRvd24nLCBmdW5jdGlvbihldmVudCkgewogICAgICB2YXIga2V5ID0gZXZlbnQua2V5Q29kZTsKCiAgICAgIC8vIGlnbm9yZQogICAgICAvLyAgICBjb21tYW5kICAgICAgICAgICAgbW9kaWZpZXJzICAgICAgICAgICAgICAgICAgIGFycm93cwogICAgICBpZiAoa2V5ID09PSA5MSB8fCAoMTUgPCBrZXkgJiYga2V5IDwgMTkpIHx8ICgzNyA8PSBrZXkgJiYga2V5IDw9IDQwKSkgcmV0dXJuOwoKICAgICAgZGVmZXJMaXN0ZW5lcigpOwogICAgfSk7CgogICAgLy8gaWYgdXNlciBtb2RpZmllcyBpbnB1dCB2YWx1ZSB1c2luZyBjb250ZXh0IG1lbnUgaW4gSUUsIHdlIG5lZWQgInBhc3RlIiBhbmQgImN1dCIgZXZlbnRzIHRvIGNhdGNoIGl0CiAgICBpZiAoJHNuaWZmZXIuaGFzRXZlbnQoJ3Bhc3RlJykpIHsKICAgICAgZWxlbWVudC5vbigncGFzdGUgY3V0JywgZGVmZXJMaXN0ZW5lcik7CiAgICB9CiAgfQoKICAvLyBpZiB1c2VyIHBhc3RlIGludG8gaW5wdXQgdXNpbmcgbW91c2Ugb24gb2xkZXIgYnJvd3NlcgogIC8vIG9yIGZvcm0gYXV0b2NvbXBsZXRlIG9uIG5ld2VyIGJyb3dzZXIsIHdlIG5lZWQgImNoYW5nZSIgZXZlbnQgdG8gY2F0Y2ggaXQKICBlbGVtZW50Lm9uKCdjaGFuZ2UnLCBsaXN0ZW5lcik7CgogIGN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkgewogICAgZWxlbWVudC52YWwoY3RybC4kaXNFbXB0eShjdHJsLiR2aWV3VmFsdWUpID8gJycgOiBjdHJsLiR2aWV3VmFsdWUpOwogIH07CgogIC8vIHBhdHRlcm4gdmFsaWRhdG9yCiAgdmFyIHBhdHRlcm4gPSBhdHRyLm5nUGF0dGVybiwKICAgICAgcGF0dGVyblZhbGlkYXRvciwKICAgICAgbWF0Y2g7CgogIGlmIChwYXR0ZXJuKSB7CiAgICB2YXIgdmFsaWRhdGVSZWdleCA9IGZ1bmN0aW9uKHJlZ2V4cCwgdmFsdWUpIHsKICAgICAgcmV0dXJuIHZhbGlkYXRlKGN0cmwsICdwYXR0ZXJuJywgY3RybC4kaXNFbXB0eSh2YWx1ZSkgfHwgcmVnZXhwLnRlc3QodmFsdWUpLCB2YWx1ZSk7CiAgICB9OwogICAgbWF0Y2ggPSBwYXR0ZXJuLm1hdGNoKC9eXC8oLiopXC8oW2dpbV0qKSQvKTsKICAgIGlmIChtYXRjaCkgewogICAgICBwYXR0ZXJuID0gbmV3IFJlZ0V4cChtYXRjaFsxXSwgbWF0Y2hbMl0pOwogICAgICBwYXR0ZXJuVmFsaWRhdG9yID0gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICByZXR1cm4gdmFsaWRhdGVSZWdleChwYXR0ZXJuLCB2YWx1ZSk7CiAgICAgIH07CiAgICB9IGVsc2UgewogICAgICBwYXR0ZXJuVmFsaWRhdG9yID0gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICB2YXIgcGF0dGVybk9iaiA9IHNjb3BlLiRldmFsKHBhdHRlcm4pOwoKICAgICAgICBpZiAoIXBhdHRlcm5PYmogfHwgIXBhdHRlcm5PYmoudGVzdCkgewogICAgICAgICAgdGhyb3cgbWluRXJyKCduZ1BhdHRlcm4nKSgnbm9yZWdleHAnLAogICAgICAgICAgICAnRXhwZWN0ZWQgezB9IHRvIGJlIGEgUmVnRXhwIGJ1dCB3YXMgezF9LiBFbGVtZW50OiB7Mn0nLCBwYXR0ZXJuLAogICAgICAgICAgICBwYXR0ZXJuT2JqLCBzdGFydGluZ1RhZyhlbGVtZW50KSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB2YWxpZGF0ZVJlZ2V4KHBhdHRlcm5PYmosIHZhbHVlKTsKICAgICAgfTsKICAgIH0KCiAgICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2gocGF0dGVyblZhbGlkYXRvcik7CiAgICBjdHJsLiRwYXJzZXJzLnB1c2gocGF0dGVyblZhbGlkYXRvcik7CiAgfQoKICAvLyBtaW4gbGVuZ3RoIHZhbGlkYXRvcgogIGlmIChhdHRyLm5nTWlubGVuZ3RoKSB7CiAgICB2YXIgbWlubGVuZ3RoID0gaW50KGF0dHIubmdNaW5sZW5ndGgpOwogICAgdmFyIG1pbkxlbmd0aFZhbGlkYXRvciA9IGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIHJldHVybiB2YWxpZGF0ZShjdHJsLCAnbWlubGVuZ3RoJywgY3RybC4kaXNFbXB0eSh2YWx1ZSkgfHwgdmFsdWUubGVuZ3RoID49IG1pbmxlbmd0aCwgdmFsdWUpOwogICAgfTsKCiAgICBjdHJsLiRwYXJzZXJzLnB1c2gobWluTGVuZ3RoVmFsaWRhdG9yKTsKICAgIGN0cmwuJGZvcm1hdHRlcnMucHVzaChtaW5MZW5ndGhWYWxpZGF0b3IpOwogIH0KCiAgLy8gbWF4IGxlbmd0aCB2YWxpZGF0b3IKICBpZiAoYXR0ci5uZ01heGxlbmd0aCkgewogICAgdmFyIG1heGxlbmd0aCA9IGludChhdHRyLm5nTWF4bGVuZ3RoKTsKICAgIHZhciBtYXhMZW5ndGhWYWxpZGF0b3IgPSBmdW5jdGlvbih2YWx1ZSkgewogICAgICByZXR1cm4gdmFsaWRhdGUoY3RybCwgJ21heGxlbmd0aCcsIGN0cmwuJGlzRW1wdHkodmFsdWUpIHx8IHZhbHVlLmxlbmd0aCA8PSBtYXhsZW5ndGgsIHZhbHVlKTsKICAgIH07CgogICAgY3RybC4kcGFyc2Vycy5wdXNoKG1heExlbmd0aFZhbGlkYXRvcik7CiAgICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2gobWF4TGVuZ3RoVmFsaWRhdG9yKTsKICB9Cn0KCnZhciBudW1iZXJCYWRGbGFncyA9IFsnYmFkSW5wdXQnXTsKCmZ1bmN0aW9uIG51bWJlcklucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKSB7CiAgdGV4dElucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTsKCiAgY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7CiAgICB2YXIgZW1wdHkgPSBjdHJsLiRpc0VtcHR5KHZhbHVlKTsKICAgIGlmIChlbXB0eSB8fCBOVU1CRVJfUkVHRVhQLnRlc3QodmFsdWUpKSB7CiAgICAgIGN0cmwuJHNldFZhbGlkaXR5KCdudW1iZXInLCB0cnVlKTsKICAgICAgcmV0dXJuIHZhbHVlID09PSAnJyA/IG51bGwgOiAoZW1wdHkgPyB2YWx1ZSA6IHBhcnNlRmxvYXQodmFsdWUpKTsKICAgIH0gZWxzZSB7CiAgICAgIGN0cmwuJHNldFZhbGlkaXR5KCdudW1iZXInLCBmYWxzZSk7CiAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9CiAgfSk7CgogIGFkZE5hdGl2ZUh0bWw1VmFsaWRhdG9ycyhjdHJsLCAnbnVtYmVyJywgbnVtYmVyQmFkRmxhZ3MsIG51bGwsIGN0cmwuJCR2YWxpZGl0eVN0YXRlKTsKCiAgY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7CiAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSkgPyAnJyA6ICcnICsgdmFsdWU7CiAgfSk7CgogIGlmIChhdHRyLm1pbikgewogICAgdmFyIG1pblZhbGlkYXRvciA9IGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIHZhciBtaW4gPSBwYXJzZUZsb2F0KGF0dHIubWluKTsKICAgICAgcmV0dXJuIHZhbGlkYXRlKGN0cmwsICdtaW4nLCBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCB2YWx1ZSA+PSBtaW4sIHZhbHVlKTsKICAgIH07CgogICAgY3RybC4kcGFyc2Vycy5wdXNoKG1pblZhbGlkYXRvcik7CiAgICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2gobWluVmFsaWRhdG9yKTsKICB9CgogIGlmIChhdHRyLm1heCkgewogICAgdmFyIG1heFZhbGlkYXRvciA9IGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIHZhciBtYXggPSBwYXJzZUZsb2F0KGF0dHIubWF4KTsKICAgICAgcmV0dXJuIHZhbGlkYXRlKGN0cmwsICdtYXgnLCBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCB2YWx1ZSA8PSBtYXgsIHZhbHVlKTsKICAgIH07CgogICAgY3RybC4kcGFyc2Vycy5wdXNoKG1heFZhbGlkYXRvcik7CiAgICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2gobWF4VmFsaWRhdG9yKTsKICB9CgogIGN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkgewogICAgcmV0dXJuIHZhbGlkYXRlKGN0cmwsICdudW1iZXInLCBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCBpc051bWJlcih2YWx1ZSksIHZhbHVlKTsKICB9KTsKfQoKZnVuY3Rpb24gdXJsSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpIHsKICB0ZXh0SW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpOwoKICB2YXIgdXJsVmFsaWRhdG9yID0gZnVuY3Rpb24odmFsdWUpIHsKICAgIHJldHVybiB2YWxpZGF0ZShjdHJsLCAndXJsJywgY3RybC4kaXNFbXB0eSh2YWx1ZSkgfHwgVVJMX1JFR0VYUC50ZXN0KHZhbHVlKSwgdmFsdWUpOwogIH07CgogIGN0cmwuJGZvcm1hdHRlcnMucHVzaCh1cmxWYWxpZGF0b3IpOwogIGN0cmwuJHBhcnNlcnMucHVzaCh1cmxWYWxpZGF0b3IpOwp9CgpmdW5jdGlvbiBlbWFpbElucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKSB7CiAgdGV4dElucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTsKCiAgdmFyIGVtYWlsVmFsaWRhdG9yID0gZnVuY3Rpb24odmFsdWUpIHsKICAgIHJldHVybiB2YWxpZGF0ZShjdHJsLCAnZW1haWwnLCBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCBFTUFJTF9SRUdFWFAudGVzdCh2YWx1ZSksIHZhbHVlKTsKICB9OwoKICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZW1haWxWYWxpZGF0b3IpOwogIGN0cmwuJHBhcnNlcnMucHVzaChlbWFpbFZhbGlkYXRvcik7Cn0KCmZ1bmN0aW9uIHJhZGlvSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7CiAgLy8gbWFrZSB0aGUgbmFtZSB1bmlxdWUsIGlmIG5vdCBkZWZpbmVkCiAgaWYgKGlzVW5kZWZpbmVkKGF0dHIubmFtZSkpIHsKICAgIGVsZW1lbnQuYXR0cignbmFtZScsIG5leHRVaWQoKSk7CiAgfQoKICBlbGVtZW50Lm9uKCdjbGljaycsIGZ1bmN0aW9uKCkgewogICAgaWYgKGVsZW1lbnRbMF0uY2hlY2tlZCkgewogICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7CiAgICAgICAgY3RybC4kc2V0Vmlld1ZhbHVlKGF0dHIudmFsdWUpOwogICAgICB9KTsKICAgIH0KICB9KTsKCiAgY3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgdmFsdWUgPSBhdHRyLnZhbHVlOwogICAgZWxlbWVudFswXS5jaGVja2VkID0gKHZhbHVlID09IGN0cmwuJHZpZXdWYWx1ZSk7CiAgfTsKCiAgYXR0ci4kb2JzZXJ2ZSgndmFsdWUnLCBjdHJsLiRyZW5kZXIpOwp9CgpmdW5jdGlvbiBjaGVja2JveElucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCkgewogIHZhciB0cnVlVmFsdWUgPSBhdHRyLm5nVHJ1ZVZhbHVlLAogICAgICBmYWxzZVZhbHVlID0gYXR0ci5uZ0ZhbHNlVmFsdWU7CgogIGlmICghaXNTdHJpbmcodHJ1ZVZhbHVlKSkgdHJ1ZVZhbHVlID0gdHJ1ZTsKICBpZiAoIWlzU3RyaW5nKGZhbHNlVmFsdWUpKSBmYWxzZVZhbHVlID0gZmFsc2U7CgogIGVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7CiAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7CiAgICAgIGN0cmwuJHNldFZpZXdWYWx1ZShlbGVtZW50WzBdLmNoZWNrZWQpOwogICAgfSk7CiAgfSk7CgogIGN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkgewogICAgZWxlbWVudFswXS5jaGVja2VkID0gY3RybC4kdmlld1ZhbHVlOwogIH07CgogIC8vIE92ZXJyaWRlIHRoZSBzdGFuZGFyZCBgJGlzRW1wdHlgIGJlY2F1c2UgYSB2YWx1ZSBvZiBgZmFsc2VgIG1lYW5zIGVtcHR5IGluIGEgY2hlY2tib3guCiAgY3RybC4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7CiAgICByZXR1cm4gdmFsdWUgIT09IHRydWVWYWx1ZTsKICB9OwoKICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHsKICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZVZhbHVlOwogIH0pOwoKICBjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHsKICAgIHJldHVybiB2YWx1ZSA/IHRydWVWYWx1ZSA6IGZhbHNlVmFsdWU7CiAgfSk7Cn0KCgovKioKICogQG5nZG9jIGRpcmVjdGl2ZQogKiBAbmFtZSB0ZXh0YXJlYQogKiBAcmVzdHJpY3QgRQogKgogKiBAZGVzY3JpcHRpb24KICogSFRNTCB0ZXh0YXJlYSBlbGVtZW50IGNvbnRyb2wgd2l0aCBhbmd1bGFyIGRhdGEtYmluZGluZy4gVGhlIGRhdGEtYmluZGluZyBhbmQgdmFsaWRhdGlvbgogKiBwcm9wZXJ0aWVzIG9mIHRoaXMgZWxlbWVudCBhcmUgZXhhY3RseSB0aGUgc2FtZSBhcyB0aG9zZSBvZiB0aGUKICoge0BsaW5rIG5nLmRpcmVjdGl2ZTppbnB1dCBpbnB1dCBlbGVtZW50fS4KICoKICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLgogKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuCiAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC4KICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvCiAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mCiAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLgogKiBAcGFyYW0ge251bWJlcj19IG5nTWlubGVuZ3RoIFNldHMgYG1pbmxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIHNob3J0ZXIgdGhhbgogKiAgICBtaW5sZW5ndGguCiAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW4KICogICAgbWF4bGVuZ3RoLgogKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZG9lcyBub3QgbWF0Y2ggdGhlCiAqICAgIFJlZ0V4cCBwYXR0ZXJuIGV4cHJlc3Npb24uIEV4cGVjdGVkIHZhbHVlIGlzIGAvcmVnZXhwL2AgZm9yIGlubGluZSBwYXR0ZXJucyBvciBgcmVnZXhwYCBmb3IKICogICAgcGF0dGVybnMgZGVmaW5lZCBhcyBzY29wZSBleHByZXNzaW9ucy4KICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyCiAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuCiAqIEBwYXJhbSB7Ym9vbGVhbj19IFtuZ1RyaW09dHJ1ZV0gSWYgc2V0IHRvIGZhbHNlIEFuZ3VsYXIgd2lsbCBub3QgYXV0b21hdGljYWxseSB0cmltIHRoZSBpbnB1dC4KICovCgoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgaW5wdXQKICogQHJlc3RyaWN0IEUKICoKICogQGRlc2NyaXB0aW9uCiAqIEhUTUwgaW5wdXQgZWxlbWVudCBjb250cm9sIHdpdGggYW5ndWxhciBkYXRhLWJpbmRpbmcuIElucHV0IGNvbnRyb2wgZm9sbG93cyBIVE1MNSBpbnB1dCB0eXBlcwogKiBhbmQgcG9seWZpbGxzIHRoZSBIVE1MNSB2YWxpZGF0aW9uIGJlaGF2aW9yIGZvciBvbGRlciBicm93c2Vycy4KICoKICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLgogKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuCiAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC4KICogQHBhcmFtIHtib29sZWFuPX0gbmdSZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGlmIHNldCB0byB0cnVlCiAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuCiAqICAgIG1pbmxlbmd0aC4KICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhbgogKiAgICBtYXhsZW5ndGguCiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBkb2VzIG5vdCBtYXRjaCB0aGUKICogICAgUmVnRXhwIHBhdHRlcm4gZXhwcmVzc2lvbi4gRXhwZWN0ZWQgdmFsdWUgaXMgYC9yZWdleHAvYCBmb3IgaW5saW5lIHBhdHRlcm5zIG9yIGByZWdleHBgIGZvcgogKiAgICBwYXR0ZXJucyBkZWZpbmVkIGFzIHNjb3BlIGV4cHJlc3Npb25zLgogKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXIKICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC4KICoKICogQGV4YW1wbGUKICAgIDxleGFtcGxlIG5hbWU9ImlucHV0LWRpcmVjdGl2ZSI+CiAgICAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgICAgPHNjcmlwdD4KICAgICAgICAgZnVuY3Rpb24gQ3RybCgkc2NvcGUpIHsKICAgICAgICAgICAkc2NvcGUudXNlciA9IHtuYW1lOiAnZ3Vlc3QnLCBsYXN0OiAndmlzaXRvcid9OwogICAgICAgICB9CiAgICAgICA8L3NjcmlwdD4KICAgICAgIDxkaXYgbmctY29udHJvbGxlcj0iQ3RybCI+CiAgICAgICAgIDxmb3JtIG5hbWU9Im15Rm9ybSI+CiAgICAgICAgICAgVXNlciBuYW1lOiA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0idXNlck5hbWUiIG5nLW1vZGVsPSJ1c2VyLm5hbWUiIHJlcXVpcmVkPgogICAgICAgICAgIDxzcGFuIGNsYXNzPSJlcnJvciIgbmctc2hvdz0ibXlGb3JtLnVzZXJOYW1lLiRlcnJvci5yZXF1aXJlZCI+CiAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+PGJyPgogICAgICAgICAgIExhc3QgbmFtZTogPGlucHV0IHR5cGU9InRleHQiIG5hbWU9Imxhc3ROYW1lIiBuZy1tb2RlbD0idXNlci5sYXN0IgogICAgICAgICAgICAgbmctbWlubGVuZ3RoPSIzIiBuZy1tYXhsZW5ndGg9IjEwIj4KICAgICAgICAgICA8c3BhbiBjbGFzcz0iZXJyb3IiIG5nLXNob3c9Im15Rm9ybS5sYXN0TmFtZS4kZXJyb3IubWlubGVuZ3RoIj4KICAgICAgICAgICAgIFRvbyBzaG9ydCE8L3NwYW4+CiAgICAgICAgICAgPHNwYW4gY2xhc3M9ImVycm9yIiBuZy1zaG93PSJteUZvcm0ubGFzdE5hbWUuJGVycm9yLm1heGxlbmd0aCI+CiAgICAgICAgICAgICBUb28gbG9uZyE8L3NwYW4+PGJyPgogICAgICAgICA8L2Zvcm0+CiAgICAgICAgIDxocj4KICAgICAgICAgPHR0PnVzZXIgPSB7e3VzZXJ9fTwvdHQ+PGJyLz4KICAgICAgICAgPHR0Pm15Rm9ybS51c2VyTmFtZS4kdmFsaWQgPSB7e215Rm9ybS51c2VyTmFtZS4kdmFsaWR9fTwvdHQ+PGJyPgogICAgICAgICA8dHQ+bXlGb3JtLnVzZXJOYW1lLiRlcnJvciA9IHt7bXlGb3JtLnVzZXJOYW1lLiRlcnJvcn19PC90dD48YnI+CiAgICAgICAgIDx0dD5teUZvcm0ubGFzdE5hbWUuJHZhbGlkID0ge3tteUZvcm0ubGFzdE5hbWUuJHZhbGlkfX08L3R0Pjxicj4KICAgICAgICAgPHR0Pm15Rm9ybS5sYXN0TmFtZS4kZXJyb3IgPSB7e215Rm9ybS5sYXN0TmFtZS4kZXJyb3J9fTwvdHQ+PGJyPgogICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnI+CiAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyPgogICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5taW5sZW5ndGggPSB7eyEhbXlGb3JtLiRlcnJvci5taW5sZW5ndGh9fTwvdHQ+PGJyPgogICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5tYXhsZW5ndGggPSB7eyEhbXlGb3JtLiRlcnJvci5tYXhsZW5ndGh9fTwvdHQ+PGJyPgogICAgICAgPC9kaXY+CiAgICAgIDwvZmlsZT4KICAgICAgPGZpbGUgbmFtZT0icHJvdHJhY3Rvci5qcyIgdHlwZT0icHJvdHJhY3RvciI+CiAgICAgICAgdmFyIHVzZXIgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3t7dXNlcn19JykpOwogICAgICAgIHZhciB1c2VyTmFtZVZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0udXNlck5hbWUuJHZhbGlkJykpOwogICAgICAgIHZhciBsYXN0TmFtZVZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0ubGFzdE5hbWUuJHZhbGlkJykpOwogICAgICAgIHZhciBsYXN0TmFtZUVycm9yID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0ubGFzdE5hbWUuJGVycm9yJykpOwogICAgICAgIHZhciBmb3JtVmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS4kdmFsaWQnKSk7CiAgICAgICAgdmFyIHVzZXJOYW1lSW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1c2VyLm5hbWUnKSk7CiAgICAgICAgdmFyIHVzZXJMYXN0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1c2VyLmxhc3QnKSk7CgogICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkgewogICAgICAgICAgZXhwZWN0KHVzZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3sibmFtZSI6Imd1ZXN0IiwibGFzdCI6InZpc2l0b3IifScpOwogICAgICAgICAgZXhwZWN0KHVzZXJOYW1lVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTsKICAgICAgICAgIGV4cGVjdChmb3JtVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTsKICAgICAgICB9KTsKCiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5IHdoZW4gcmVxdWlyZWQnLCBmdW5jdGlvbigpIHsKICAgICAgICAgIHVzZXJOYW1lSW5wdXQuY2xlYXIoKTsKICAgICAgICAgIHVzZXJOYW1lSW5wdXQuc2VuZEtleXMoJycpOwoKICAgICAgICAgIGV4cGVjdCh1c2VyLmdldFRleHQoKSkudG9Db250YWluKCd7Imxhc3QiOiJ2aXNpdG9yIn0nKTsKICAgICAgICAgIGV4cGVjdCh1c2VyTmFtZVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpOwogICAgICAgICAgZXhwZWN0KGZvcm1WYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTsKICAgICAgICB9KTsKCiAgICAgICAgaXQoJ3Nob3VsZCBiZSB2YWxpZCBpZiBlbXB0eSB3aGVuIG1pbiBsZW5ndGggaXMgc2V0JywgZnVuY3Rpb24oKSB7CiAgICAgICAgICB1c2VyTGFzdElucHV0LmNsZWFyKCk7CiAgICAgICAgICB1c2VyTGFzdElucHV0LnNlbmRLZXlzKCcnKTsKCiAgICAgICAgICBleHBlY3QodXNlci5nZXRUZXh0KCkpLnRvQ29udGFpbigneyJuYW1lIjoiZ3Vlc3QiLCJsYXN0IjoiIn0nKTsKICAgICAgICAgIGV4cGVjdChsYXN0TmFtZVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7CiAgICAgICAgICBleHBlY3QoZm9ybVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7CiAgICAgICAgfSk7CgogICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBsZXNzIHRoYW4gcmVxdWlyZWQgbWluIGxlbmd0aCcsIGZ1bmN0aW9uKCkgewogICAgICAgICAgdXNlckxhc3RJbnB1dC5jbGVhcigpOwogICAgICAgICAgdXNlckxhc3RJbnB1dC5zZW5kS2V5cygneHgnKTsKCiAgICAgICAgICBleHBlY3QodXNlci5nZXRUZXh0KCkpLnRvQ29udGFpbigneyJuYW1lIjoiZ3Vlc3QifScpOwogICAgICAgICAgZXhwZWN0KGxhc3ROYW1lVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7CiAgICAgICAgICBleHBlY3QobGFzdE5hbWVFcnJvci5nZXRUZXh0KCkpLnRvQ29udGFpbignbWlubGVuZ3RoJyk7CiAgICAgICAgICBleHBlY3QoZm9ybVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpOwogICAgICAgIH0pOwoKICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgbG9uZ2VyIHRoYW4gbWF4IGxlbmd0aCcsIGZ1bmN0aW9uKCkgewogICAgICAgICAgdXNlckxhc3RJbnB1dC5jbGVhcigpOwogICAgICAgICAgdXNlckxhc3RJbnB1dC5zZW5kS2V5cygnc29tZSByaWRpY3Vsb3VzbHkgbG9uZyBuYW1lJyk7CgogICAgICAgICAgZXhwZWN0KHVzZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3sibmFtZSI6Imd1ZXN0In0nKTsKICAgICAgICAgIGV4cGVjdChsYXN0TmFtZVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpOwogICAgICAgICAgZXhwZWN0KGxhc3ROYW1lRXJyb3IuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ21heGxlbmd0aCcpOwogICAgICAgICAgZXhwZWN0KGZvcm1WYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTsKICAgICAgICB9KTsKICAgICAgPC9maWxlPgogICAgPC9leGFtcGxlPgogKi8KdmFyIGlucHV0RGlyZWN0aXZlID0gWyckYnJvd3NlcicsICckc25pZmZlcicsIGZ1bmN0aW9uKCRicm93c2VyLCAkc25pZmZlcikgewogIHJldHVybiB7CiAgICByZXN0cmljdDogJ0UnLAogICAgcmVxdWlyZTogJz9uZ01vZGVsJywKICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7CiAgICAgIGlmIChjdHJsKSB7CiAgICAgICAgKGlucHV0VHlwZVtsb3dlcmNhc2UoYXR0ci50eXBlKV0gfHwgaW5wdXRUeXBlLnRleHQpKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGJyb3dzZXIpOwogICAgICB9CiAgICB9CiAgfTsKfV07Cgp2YXIgVkFMSURfQ0xBU1MgPSAnbmctdmFsaWQnLAogICAgSU5WQUxJRF9DTEFTUyA9ICduZy1pbnZhbGlkJywKICAgIFBSSVNUSU5FX0NMQVNTID0gJ25nLXByaXN0aW5lJywKICAgIERJUlRZX0NMQVNTID0gJ25nLWRpcnR5JzsKCi8qKgogKiBAbmdkb2MgdHlwZQogKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyCiAqCiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSAkdmlld1ZhbHVlIEFjdHVhbCBzdHJpbmcgdmFsdWUgaW4gdGhlIHZpZXcuCiAqIEBwcm9wZXJ0eSB7Kn0gJG1vZGVsVmFsdWUgVGhlIHZhbHVlIGluIHRoZSBtb2RlbCwgdGhhdCB0aGUgY29udHJvbCBpcyBib3VuZCB0by4KICogQHByb3BlcnR5IHtBcnJheS48RnVuY3Rpb24+fSAkcGFyc2VycyBBcnJheSBvZiBmdW5jdGlvbnMgdG8gZXhlY3V0ZSwgYXMgYSBwaXBlbGluZSwgd2hlbmV2ZXIKICAgICAgIHRoZSBjb250cm9sIHJlYWRzIHZhbHVlIGZyb20gdGhlIERPTS4gIEVhY2ggZnVuY3Rpb24gaXMgY2FsbGVkLCBpbiB0dXJuLCBwYXNzaW5nIHRoZSB2YWx1ZQogICAgICAgdGhyb3VnaCB0byB0aGUgbmV4dC4gVGhlIGxhc3QgcmV0dXJuIHZhbHVlIGlzIHVzZWQgdG8gcG9wdWxhdGUgdGhlIG1vZGVsLgogICAgICAgVXNlZCB0byBzYW5pdGl6ZSAvIGNvbnZlcnQgdGhlIHZhbHVlIGFzIHdlbGwgYXMgdmFsaWRhdGlvbi4gRm9yIHZhbGlkYXRpb24sCiAgICAgICB0aGUgcGFyc2VycyBzaG91bGQgdXBkYXRlIHRoZSB2YWxpZGl0eSBzdGF0ZSB1c2luZwogICAgICAge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldFZhbGlkaXR5ICRzZXRWYWxpZGl0eSgpfSwKICAgICAgIGFuZCByZXR1cm4gYHVuZGVmaW5lZGAgZm9yIGludmFsaWQgdmFsdWVzLgoKICoKICogQHByb3BlcnR5IHtBcnJheS48RnVuY3Rpb24+fSAkZm9ybWF0dGVycyBBcnJheSBvZiBmdW5jdGlvbnMgdG8gZXhlY3V0ZSwgYXMgYSBwaXBlbGluZSwgd2hlbmV2ZXIKICAgICAgIHRoZSBtb2RlbCB2YWx1ZSBjaGFuZ2VzLiBFYWNoIGZ1bmN0aW9uIGlzIGNhbGxlZCwgaW4gdHVybiwgcGFzc2luZyB0aGUgdmFsdWUgdGhyb3VnaCB0byB0aGUKICAgICAgIG5leHQuIFVzZWQgdG8gZm9ybWF0IC8gY29udmVydCB2YWx1ZXMgZm9yIGRpc3BsYXkgaW4gdGhlIGNvbnRyb2wgYW5kIHZhbGlkYXRpb24uCiAqIGBgYGpzCiAqIGZ1bmN0aW9uIGZvcm1hdHRlcih2YWx1ZSkgewogKiAgIGlmICh2YWx1ZSkgewogKiAgICAgcmV0dXJuIHZhbHVlLnRvVXBwZXJDYXNlKCk7CiAqICAgfQogKiB9CiAqIG5nTW9kZWwuJGZvcm1hdHRlcnMucHVzaChmb3JtYXR0ZXIpOwogKiBgYGAKICoKICogQHByb3BlcnR5IHtBcnJheS48RnVuY3Rpb24+fSAkdmlld0NoYW5nZUxpc3RlbmVycyBBcnJheSBvZiBmdW5jdGlvbnMgdG8gZXhlY3V0ZSB3aGVuZXZlciB0aGUKICogICAgIHZpZXcgdmFsdWUgaGFzIGNoYW5nZWQuIEl0IGlzIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50cywgYW5kIGl0cyByZXR1cm4gdmFsdWUgaXMgaWdub3JlZC4KICogICAgIFRoaXMgY2FuIGJlIHVzZWQgaW4gcGxhY2Ugb2YgYWRkaXRpb25hbCAkd2F0Y2hlcyBhZ2FpbnN0IHRoZSBtb2RlbCB2YWx1ZS4KICoKICogQHByb3BlcnR5IHtPYmplY3R9ICRlcnJvciBBbiBvYmplY3QgaGFzaCB3aXRoIGFsbCBlcnJvcnMgYXMga2V5cy4KICoKICogQHByb3BlcnR5IHtib29sZWFufSAkcHJpc3RpbmUgVHJ1ZSBpZiB1c2VyIGhhcyBub3QgaW50ZXJhY3RlZCB3aXRoIHRoZSBjb250cm9sIHlldC4KICogQHByb3BlcnR5IHtib29sZWFufSAkZGlydHkgVHJ1ZSBpZiB1c2VyIGhhcyBhbHJlYWR5IGludGVyYWN0ZWQgd2l0aCB0aGUgY29udHJvbC4KICogQHByb3BlcnR5IHtib29sZWFufSAkdmFsaWQgVHJ1ZSBpZiB0aGVyZSBpcyBubyBlcnJvci4KICogQHByb3BlcnR5IHtib29sZWFufSAkaW52YWxpZCBUcnVlIGlmIGF0IGxlYXN0IG9uZSBlcnJvciBvbiB0aGUgY29udHJvbC4KICoKICogQGRlc2NyaXB0aW9uCiAqCiAqIGBOZ01vZGVsQ29udHJvbGxlcmAgcHJvdmlkZXMgQVBJIGZvciB0aGUgYG5nLW1vZGVsYCBkaXJlY3RpdmUuIFRoZSBjb250cm9sbGVyIGNvbnRhaW5zCiAqIHNlcnZpY2VzIGZvciBkYXRhLWJpbmRpbmcsIHZhbGlkYXRpb24sIENTUyB1cGRhdGVzLCBhbmQgdmFsdWUgZm9ybWF0dGluZyBhbmQgcGFyc2luZy4gSXQKICogcHVycG9zZWZ1bGx5IGRvZXMgbm90IGNvbnRhaW4gYW55IGxvZ2ljIHdoaWNoIGRlYWxzIHdpdGggRE9NIHJlbmRlcmluZyBvciBsaXN0ZW5pbmcgdG8KICogRE9NIGV2ZW50cy4gU3VjaCBET00gcmVsYXRlZCBsb2dpYyBzaG91bGQgYmUgcHJvdmlkZWQgYnkgb3RoZXIgZGlyZWN0aXZlcyB3aGljaCBtYWtlIHVzZSBvZgogKiBgTmdNb2RlbENvbnRyb2xsZXJgIGZvciBkYXRhLWJpbmRpbmcuCiAqCiAqICMjIEN1c3RvbSBDb250cm9sIEV4YW1wbGUKICogVGhpcyBleGFtcGxlIHNob3dzIGhvdyB0byB1c2UgYE5nTW9kZWxDb250cm9sbGVyYCB3aXRoIGEgY3VzdG9tIGNvbnRyb2wgdG8gYWNoaWV2ZQogKiBkYXRhLWJpbmRpbmcuIE5vdGljZSBob3cgZGlmZmVyZW50IGRpcmVjdGl2ZXMgKGBjb250ZW50ZWRpdGFibGVgLCBgbmctbW9kZWxgLCBhbmQgYHJlcXVpcmVkYCkKICogY29sbGFib3JhdGUgdG9nZXRoZXIgdG8gYWNoaWV2ZSB0aGUgZGVzaXJlZCByZXN1bHQuCiAqCiAqIE5vdGUgdGhhdCBgY29udGVudGVkaXRhYmxlYCBpcyBhbiBIVE1MNSBhdHRyaWJ1dGUsIHdoaWNoIHRlbGxzIHRoZSBicm93c2VyIHRvIGxldCB0aGUgZWxlbWVudAogKiBjb250ZW50cyBiZSBlZGl0ZWQgaW4gcGxhY2UgYnkgdGhlIHVzZXIuICBUaGlzIHdpbGwgbm90IHdvcmsgb24gb2xkZXIgYnJvd3NlcnMuCiAqCiAqIFdlIGFyZSB1c2luZyB0aGUge0BsaW5rIG5nLnNlcnZpY2U6JHNjZSAkc2NlfSBzZXJ2aWNlIGhlcmUgYW5kIGluY2x1ZGUgdGhlIHtAbGluayBuZ1Nhbml0aXplICRzYW5pdGl6ZX0KICogbW9kdWxlIHRvIGF1dG9tYXRpY2FsbHkgcmVtb3ZlICJiYWQiIGNvbnRlbnQgbGlrZSBpbmxpbmUgZXZlbnQgbGlzdGVuZXIgKGUuZy4gYDxzcGFuIG9uY2xpY2s9Ii4uLiI+YCkuCiAqIEhvd2V2ZXIsIGFzIHdlIGFyZSB1c2luZyBgJHNjZWAgdGhlIG1vZGVsIGNhbiBzdGlsbCBkZWNpZGUgdG8gdG8gcHJvdmlkZSB1bnNhZmUgY29udGVudCBpZiBpdCBtYXJrcwogKiB0aGF0IGNvbnRlbnQgdXNpbmcgdGhlIGAkc2NlYCBzZXJ2aWNlLgogKgogKiA8ZXhhbXBsZSBuYW1lPSJOZ01vZGVsQ29udHJvbGxlciIgbW9kdWxlPSJjdXN0b21Db250cm9sIiBkZXBzPSJhbmd1bGFyLXNhbml0aXplLmpzIj4KICAgIDxmaWxlIG5hbWU9InN0eWxlLmNzcyI+CiAgICAgIFtjb250ZW50ZWRpdGFibGVdIHsKICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjazsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgICAgICBtaW4taGVpZ2h0OiAyMHB4OwogICAgICB9CgogICAgICAubmctaW52YWxpZCB7CiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmVkOwogICAgICB9CgogICAgPC9maWxlPgogICAgPGZpbGUgbmFtZT0ic2NyaXB0LmpzIj4KICAgICAgYW5ndWxhci5tb2R1bGUoJ2N1c3RvbUNvbnRyb2wnLCBbJ25nU2FuaXRpemUnXSkuCiAgICAgICAgZGlyZWN0aXZlKCdjb250ZW50ZWRpdGFibGUnLCBbJyRzY2UnLCBmdW5jdGlvbigkc2NlKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICByZXN0cmljdDogJ0EnLCAvLyBvbmx5IGFjdGl2YXRlIG9uIGVsZW1lbnQgYXR0cmlidXRlCiAgICAgICAgICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsIC8vIGdldCBhIGhvbGQgb2YgTmdNb2RlbENvbnRyb2xsZXIKICAgICAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7CiAgICAgICAgICAgICAgaWYoIW5nTW9kZWwpIHJldHVybjsgLy8gZG8gbm90aGluZyBpZiBubyBuZy1tb2RlbAoKICAgICAgICAgICAgICAvLyBTcGVjaWZ5IGhvdyBVSSBzaG91bGQgYmUgdXBkYXRlZAogICAgICAgICAgICAgIG5nTW9kZWwuJHJlbmRlciA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgZWxlbWVudC5odG1sKCRzY2UuZ2V0VHJ1c3RlZEh0bWwobmdNb2RlbC4kdmlld1ZhbHVlIHx8ICcnKSk7CiAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgLy8gTGlzdGVuIGZvciBjaGFuZ2UgZXZlbnRzIHRvIGVuYWJsZSBiaW5kaW5nCiAgICAgICAgICAgICAgZWxlbWVudC5vbignYmx1ciBrZXl1cCBjaGFuZ2UnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseShyZWFkKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICByZWFkKCk7IC8vIGluaXRpYWxpemUKCiAgICAgICAgICAgICAgLy8gV3JpdGUgZGF0YSB0byB0aGUgbW9kZWwKICAgICAgICAgICAgICBmdW5jdGlvbiByZWFkKCkgewogICAgICAgICAgICAgICAgdmFyIGh0bWwgPSBlbGVtZW50Lmh0bWwoKTsKICAgICAgICAgICAgICAgIC8vIFdoZW4gd2UgY2xlYXIgdGhlIGNvbnRlbnQgZWRpdGFibGUgdGhlIGJyb3dzZXIgbGVhdmVzIGEgPGJyPiBiZWhpbmQKICAgICAgICAgICAgICAgIC8vIElmIHN0cmlwLWJyIGF0dHJpYnV0ZSBpcyBwcm92aWRlZCB0aGVuIHdlIHN0cmlwIHRoaXMgb3V0CiAgICAgICAgICAgICAgICBpZiggYXR0cnMuc3RyaXBCciAmJiBodG1sID09ICc8YnI+JyApIHsKICAgICAgICAgICAgICAgICAgaHRtbCA9ICcnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKGh0bWwpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICB9XSk7CiAgICA8L2ZpbGU+CiAgICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgICAgPGZvcm0gbmFtZT0ibXlGb3JtIj4KICAgICAgIDxkaXYgY29udGVudGVkaXRhYmxlCiAgICAgICAgICAgIG5hbWU9Im15V2lkZ2V0IiBuZy1tb2RlbD0idXNlckNvbnRlbnQiCiAgICAgICAgICAgIHN0cmlwLWJyPSJ0cnVlIgogICAgICAgICAgICByZXF1aXJlZD5DaGFuZ2UgbWUhPC9kaXY+CiAgICAgICAgPHNwYW4gbmctc2hvdz0ibXlGb3JtLm15V2lkZ2V0LiRlcnJvci5yZXF1aXJlZCI+UmVxdWlyZWQhPC9zcGFuPgogICAgICAgPGhyPgogICAgICAgPHRleHRhcmVhIG5nLW1vZGVsPSJ1c2VyQ29udGVudCI+PC90ZXh0YXJlYT4KICAgICAgPC9mb3JtPgogICAgPC9maWxlPgogICAgPGZpbGUgbmFtZT0icHJvdHJhY3Rvci5qcyIgdHlwZT0icHJvdHJhY3RvciI+CiAgICBpdCgnc2hvdWxkIGRhdGEtYmluZCBhbmQgYmVjb21lIGludmFsaWQnLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgPT0gJ3NhZmFyaScgfHwgYnJvd3Nlci5wYXJhbXMuYnJvd3NlciA9PSAnZmlyZWZveCcpIHsKICAgICAgICAvLyBTYWZhcmlEcml2ZXIgY2FuJ3QgaGFuZGxlIGNvbnRlbnRlZGl0YWJsZQogICAgICAgIC8vIGFuZCBGaXJlZm94IGRyaXZlciBjYW4ndCBjbGVhciBjb250ZW50ZWRpdGFibGVzIHZlcnkgd2VsbAogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgY29udGVudEVkaXRhYmxlID0gZWxlbWVudChieS5jc3MoJ1tjb250ZW50ZWRpdGFibGVdJykpOwogICAgICB2YXIgY29udGVudCA9ICdDaGFuZ2UgbWUhJzsKCiAgICAgIGV4cGVjdChjb250ZW50RWRpdGFibGUuZ2V0VGV4dCgpKS50b0VxdWFsKGNvbnRlbnQpOwoKICAgICAgY29udGVudEVkaXRhYmxlLmNsZWFyKCk7CiAgICAgIGNvbnRlbnRFZGl0YWJsZS5zZW5kS2V5cyhwcm90cmFjdG9yLktleS5CQUNLX1NQQUNFKTsKICAgICAgZXhwZWN0KGNvbnRlbnRFZGl0YWJsZS5nZXRUZXh0KCkpLnRvRXF1YWwoJycpOwogICAgICBleHBlY3QoY29udGVudEVkaXRhYmxlLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9NYXRjaCgvbmctaW52YWxpZC1yZXF1aXJlZC8pOwogICAgfSk7CiAgICA8L2ZpbGU+CiAqIDwvZXhhbXBsZT4KICoKICoKICovCnZhciBOZ01vZGVsQ29udHJvbGxlciA9IFsnJHNjb3BlJywgJyRleGNlcHRpb25IYW5kbGVyJywgJyRhdHRycycsICckZWxlbWVudCcsICckcGFyc2UnLCAnJGFuaW1hdGUnLAogICAgZnVuY3Rpb24oJHNjb3BlLCAkZXhjZXB0aW9uSGFuZGxlciwgJGF0dHIsICRlbGVtZW50LCAkcGFyc2UsICRhbmltYXRlKSB7CiAgdGhpcy4kdmlld1ZhbHVlID0gTnVtYmVyLk5hTjsKICB0aGlzLiRtb2RlbFZhbHVlID0gTnVtYmVyLk5hTjsKICB0aGlzLiRwYXJzZXJzID0gW107CiAgdGhpcy4kZm9ybWF0dGVycyA9IFtdOwogIHRoaXMuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMgPSBbXTsKICB0aGlzLiRwcmlzdGluZSA9IHRydWU7CiAgdGhpcy4kZGlydHkgPSBmYWxzZTsKICB0aGlzLiR2YWxpZCA9IHRydWU7CiAgdGhpcy4kaW52YWxpZCA9IGZhbHNlOwogIHRoaXMuJG5hbWUgPSAkYXR0ci5uYW1lOwoKICB2YXIgbmdNb2RlbEdldCA9ICRwYXJzZSgkYXR0ci5uZ01vZGVsKSwKICAgICAgbmdNb2RlbFNldCA9IG5nTW9kZWxHZXQuYXNzaWduOwoKICBpZiAoIW5nTW9kZWxTZXQpIHsKICAgIHRocm93IG1pbkVycignbmdNb2RlbCcpKCdub25hc3NpZ24nLCAiRXhwcmVzc2lvbiAnezB9JyBpcyBub24tYXNzaWduYWJsZS4gRWxlbWVudDogezF9IiwKICAgICAgICAkYXR0ci5uZ01vZGVsLCBzdGFydGluZ1RhZygkZWxlbWVudCkpOwogIH0KCiAgLyoqCiAgICogQG5nZG9jIG1ldGhvZAogICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHJlbmRlcgogICAqCiAgICogQGRlc2NyaXB0aW9uCiAgICogQ2FsbGVkIHdoZW4gdGhlIHZpZXcgbmVlZHMgdG8gYmUgdXBkYXRlZC4gSXQgaXMgZXhwZWN0ZWQgdGhhdCB0aGUgdXNlciBvZiB0aGUgbmctbW9kZWwKICAgKiBkaXJlY3RpdmUgd2lsbCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuCiAgICovCiAgdGhpcy4kcmVuZGVyID0gbm9vcDsKCiAgLyoqCiAgICogQG5nZG9jIG1ldGhvZAogICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJGlzRW1wdHkKICAgKgogICAqIEBkZXNjcmlwdGlvbgogICAqIFRoaXMgaXMgY2FsbGVkIHdoZW4gd2UgbmVlZCB0byBkZXRlcm1pbmUgaWYgdGhlIHZhbHVlIG9mIHRoZSBpbnB1dCBpcyBlbXB0eS4KICAgKgogICAqIEZvciBpbnN0YW5jZSwgdGhlIHJlcXVpcmVkIGRpcmVjdGl2ZSBkb2VzIHRoaXMgdG8gd29yayBvdXQgaWYgdGhlIGlucHV0IGhhcyBkYXRhIG9yIG5vdC4KICAgKiBUaGUgZGVmYXVsdCBgJGlzRW1wdHlgIGZ1bmN0aW9uIGNoZWNrcyB3aGV0aGVyIHRoZSB2YWx1ZSBpcyBgdW5kZWZpbmVkYCwgYCcnYCwgYG51bGxgIG9yIGBOYU5gLgogICAqCiAgICogWW91IGNhbiBvdmVycmlkZSB0aGlzIGZvciBpbnB1dCBkaXJlY3RpdmVzIHdob3NlIGNvbmNlcHQgb2YgYmVpbmcgZW1wdHkgaXMgZGlmZmVyZW50IHRvIHRoZQogICAqIGRlZmF1bHQuIFRoZSBgY2hlY2tib3hJbnB1dFR5cGVgIGRpcmVjdGl2ZSBkb2VzIHRoaXMgYmVjYXVzZSBpbiBpdHMgY2FzZSBhIHZhbHVlIG9mIGBmYWxzZWAKICAgKiBpbXBsaWVzIGVtcHR5LgogICAqCiAgICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suCiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBlbXB0eS4KICAgKi8KICB0aGlzLiRpc0VtcHR5ID0gZnVuY3Rpb24odmFsdWUpIHsKICAgIHJldHVybiBpc1VuZGVmaW5lZCh2YWx1ZSkgfHwgdmFsdWUgPT09ICcnIHx8IHZhbHVlID09PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZTsKICB9OwoKICB2YXIgcGFyZW50Rm9ybSA9ICRlbGVtZW50LmluaGVyaXRlZERhdGEoJyRmb3JtQ29udHJvbGxlcicpIHx8IG51bGxGb3JtQ3RybCwKICAgICAgaW52YWxpZENvdW50ID0gMCwgLy8gdXNlZCB0byBlYXNpbHkgZGV0ZXJtaW5lIGlmIHdlIGFyZSB2YWxpZAogICAgICAkZXJyb3IgPSB0aGlzLiRlcnJvciA9IHt9OyAvLyBrZWVwIGludmFsaWQga2V5cyBoZXJlCgoKICAvLyBTZXR1cCBpbml0aWFsIHN0YXRlIG9mIHRoZSBjb250cm9sCiAgJGVsZW1lbnQuYWRkQ2xhc3MoUFJJU1RJTkVfQ0xBU1MpOwogIHRvZ2dsZVZhbGlkQ3NzKHRydWUpOwoKICAvLyBjb252ZW5pZW5jZSBtZXRob2QgZm9yIGVhc3kgdG9nZ2xpbmcgb2YgY2xhc3NlcwogIGZ1bmN0aW9uIHRvZ2dsZVZhbGlkQ3NzKGlzVmFsaWQsIHZhbGlkYXRpb25FcnJvcktleSkgewogICAgdmFsaWRhdGlvbkVycm9yS2V5ID0gdmFsaWRhdGlvbkVycm9yS2V5ID8gJy0nICsgc25ha2VfY2FzZSh2YWxpZGF0aW9uRXJyb3JLZXksICctJykgOiAnJzsKICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKCRlbGVtZW50LCAoaXNWYWxpZCA/IElOVkFMSURfQ0xBU1MgOiBWQUxJRF9DTEFTUykgKyB2YWxpZGF0aW9uRXJyb3JLZXkpOwogICAgJGFuaW1hdGUuYWRkQ2xhc3MoJGVsZW1lbnQsIChpc1ZhbGlkID8gVkFMSURfQ0xBU1MgOiBJTlZBTElEX0NMQVNTKSArIHZhbGlkYXRpb25FcnJvcktleSk7CiAgfQoKICAvKioKICAgKiBAbmdkb2MgbWV0aG9kCiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0VmFsaWRpdHkKICAgKgogICAqIEBkZXNjcmlwdGlvbgogICAqIENoYW5nZSB0aGUgdmFsaWRpdHkgc3RhdGUsIGFuZCBub3RpZmllcyB0aGUgZm9ybSB3aGVuIHRoZSBjb250cm9sIGNoYW5nZXMgdmFsaWRpdHkuIChpLmUuIGl0CiAgICogZG9lcyBub3Qgbm90aWZ5IGZvcm0gaWYgZ2l2ZW4gdmFsaWRhdG9yIGlzIGFscmVhZHkgbWFya2VkIGFzIGludmFsaWQpLgogICAqCiAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCBieSB2YWxpZGF0b3JzIC0gaS5lLiB0aGUgcGFyc2VyIG9yIGZvcm1hdHRlciBmdW5jdGlvbnMuCiAgICoKICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsaWRhdGlvbkVycm9yS2V5IE5hbWUgb2YgdGhlIHZhbGlkYXRvci4gdGhlIGB2YWxpZGF0aW9uRXJyb3JLZXlgIHdpbGwgYXNzaWduCiAgICogICAgICAgIHRvIGAkZXJyb3JbdmFsaWRhdGlvbkVycm9yS2V5XT0haXNWYWxpZGAgc28gdGhhdCBpdCBpcyBhdmFpbGFibGUgZm9yIGRhdGEtYmluZGluZy4KICAgKiAgICAgICAgVGhlIGB2YWxpZGF0aW9uRXJyb3JLZXlgIHNob3VsZCBiZSBpbiBjYW1lbENhc2UgYW5kIHdpbGwgZ2V0IGNvbnZlcnRlZCBpbnRvIGRhc2gtY2FzZQogICAqICAgICAgICBmb3IgY2xhc3MgbmFtZS4gRXhhbXBsZTogYG15RXJyb3JgIHdpbGwgcmVzdWx0IGluIGBuZy12YWxpZC1teS1lcnJvcmAgYW5kIGBuZy1pbnZhbGlkLW15LWVycm9yYAogICAqICAgICAgICBjbGFzcyBhbmQgY2FuIGJlIGJvdW5kIHRvIGFzICBge3tzb21lRm9ybS5zb21lQ29udHJvbC4kZXJyb3IubXlFcnJvcn19YCAuCiAgICogQHBhcmFtIHtib29sZWFufSBpc1ZhbGlkIFdoZXRoZXIgdGhlIGN1cnJlbnQgc3RhdGUgaXMgdmFsaWQgKHRydWUpIG9yIGludmFsaWQgKGZhbHNlKS4KICAgKi8KICB0aGlzLiRzZXRWYWxpZGl0eSA9IGZ1bmN0aW9uKHZhbGlkYXRpb25FcnJvcktleSwgaXNWYWxpZCkgewogICAgLy8gUHVycG9zZWZ1bCB1c2Ugb2YgISBoZXJlIHRvIGNhc3QgaXNWYWxpZCB0byBib29sZWFuIGluIGNhc2UgaXQgaXMgdW5kZWZpbmVkCiAgICAvLyBqc2hpbnQgLVcwMTgKICAgIGlmICgkZXJyb3JbdmFsaWRhdGlvbkVycm9yS2V5XSA9PT0gIWlzVmFsaWQpIHJldHVybjsKICAgIC8vIGpzaGludCArVzAxOAoKICAgIGlmIChpc1ZhbGlkKSB7CiAgICAgIGlmICgkZXJyb3JbdmFsaWRhdGlvbkVycm9yS2V5XSkgaW52YWxpZENvdW50LS07CiAgICAgIGlmICghaW52YWxpZENvdW50KSB7CiAgICAgICAgdG9nZ2xlVmFsaWRDc3ModHJ1ZSk7CiAgICAgICAgdGhpcy4kdmFsaWQgPSB0cnVlOwogICAgICAgIHRoaXMuJGludmFsaWQgPSBmYWxzZTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdG9nZ2xlVmFsaWRDc3MoZmFsc2UpOwogICAgICB0aGlzLiRpbnZhbGlkID0gdHJ1ZTsKICAgICAgdGhpcy4kdmFsaWQgPSBmYWxzZTsKICAgICAgaW52YWxpZENvdW50Kys7CiAgICB9CgogICAgJGVycm9yW3ZhbGlkYXRpb25FcnJvcktleV0gPSAhaXNWYWxpZDsKICAgIHRvZ2dsZVZhbGlkQ3NzKGlzVmFsaWQsIHZhbGlkYXRpb25FcnJvcktleSk7CgogICAgcGFyZW50Rm9ybS4kc2V0VmFsaWRpdHkodmFsaWRhdGlvbkVycm9yS2V5LCBpc1ZhbGlkLCB0aGlzKTsKICB9OwoKICAvKioKICAgKiBAbmdkb2MgbWV0aG9kCiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0UHJpc3RpbmUKICAgKgogICAqIEBkZXNjcmlwdGlvbgogICAqIFNldHMgdGhlIGNvbnRyb2wgdG8gaXRzIHByaXN0aW5lIHN0YXRlLgogICAqCiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlICduZy1kaXJ0eScgY2xhc3MgYW5kIHNldCB0aGUgY29udHJvbCB0byBpdHMgcHJpc3RpbmUKICAgKiBzdGF0ZSAobmctcHJpc3RpbmUgY2xhc3MpLgogICAqLwogIHRoaXMuJHNldFByaXN0aW5lID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy4kZGlydHkgPSBmYWxzZTsKICAgIHRoaXMuJHByaXN0aW5lID0gdHJ1ZTsKICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKCRlbGVtZW50LCBESVJUWV9DTEFTUyk7CiAgICAkYW5pbWF0ZS5hZGRDbGFzcygkZWxlbWVudCwgUFJJU1RJTkVfQ0xBU1MpOwogIH07CgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRWaWV3VmFsdWUKICAgKgogICAqIEBkZXNjcmlwdGlvbgogICAqIFVwZGF0ZSB0aGUgdmlldyB2YWx1ZS4KICAgKgogICAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBjYWxsZWQgd2hlbiB0aGUgdmlldyB2YWx1ZSBjaGFuZ2VzLCB0eXBpY2FsbHkgZnJvbSB3aXRoaW4gYSBET00gZXZlbnQgaGFuZGxlci4KICAgKiBGb3IgZXhhbXBsZSB7QGxpbmsgbmcuZGlyZWN0aXZlOmlucHV0IGlucHV0fSBhbmQKICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOnNlbGVjdCBzZWxlY3R9IGRpcmVjdGl2ZXMgY2FsbCBpdC4KICAgKgogICAqIEl0IHdpbGwgdXBkYXRlIHRoZSAkdmlld1ZhbHVlLCB0aGVuIHBhc3MgdGhpcyB2YWx1ZSB0aHJvdWdoIGVhY2ggb2YgdGhlIGZ1bmN0aW9ucyBpbiBgJHBhcnNlcnNgLAogICAqIHdoaWNoIGluY2x1ZGVzIGFueSB2YWxpZGF0b3JzLiBUaGUgdmFsdWUgdGhhdCBjb21lcyBvdXQgb2YgdGhpcyBgJHBhcnNlcnNgIHBpcGVsaW5lLCBiZSBhcHBsaWVkIHRvCiAgICogYCRtb2RlbFZhbHVlYCBhbmQgdGhlICoqZXhwcmVzc2lvbioqIHNwZWNpZmllZCBpbiB0aGUgYG5nLW1vZGVsYCBhdHRyaWJ1dGUuCiAgICoKICAgKiBMYXN0bHksIGFsbCB0aGUgcmVnaXN0ZXJlZCBjaGFuZ2UgbGlzdGVuZXJzLCBpbiB0aGUgYCR2aWV3Q2hhbmdlTGlzdGVuZXJzYCBsaXN0LCBhcmUgY2FsbGVkLgogICAqCiAgICogTm90ZSB0aGF0IGNhbGxpbmcgdGhpcyBmdW5jdGlvbiBkb2VzIG5vdCB0cmlnZ2VyIGEgYCRkaWdlc3RgLgogICAqCiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFZhbHVlIGZyb20gdGhlIHZpZXcuCiAgICovCiAgdGhpcy4kc2V0Vmlld1ZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHsKICAgIHRoaXMuJHZpZXdWYWx1ZSA9IHZhbHVlOwoKICAgIC8vIGNoYW5nZSB0byBkaXJ0eQogICAgaWYgKHRoaXMuJHByaXN0aW5lKSB7CiAgICAgIHRoaXMuJGRpcnR5ID0gdHJ1ZTsKICAgICAgdGhpcy4kcHJpc3RpbmUgPSBmYWxzZTsKICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoJGVsZW1lbnQsIFBSSVNUSU5FX0NMQVNTKTsKICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoJGVsZW1lbnQsIERJUlRZX0NMQVNTKTsKICAgICAgcGFyZW50Rm9ybS4kc2V0RGlydHkoKTsKICAgIH0KCiAgICBmb3JFYWNoKHRoaXMuJHBhcnNlcnMsIGZ1bmN0aW9uKGZuKSB7CiAgICAgIHZhbHVlID0gZm4odmFsdWUpOwogICAgfSk7CgogICAgaWYgKHRoaXMuJG1vZGVsVmFsdWUgIT09IHZhbHVlKSB7CiAgICAgIHRoaXMuJG1vZGVsVmFsdWUgPSB2YWx1ZTsKICAgICAgbmdNb2RlbFNldCgkc2NvcGUsIHZhbHVlKTsKICAgICAgZm9yRWFjaCh0aGlzLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLCBmdW5jdGlvbihsaXN0ZW5lcikgewogICAgICAgIHRyeSB7CiAgICAgICAgICBsaXN0ZW5lcigpOwogICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9OwoKICAvLyBtb2RlbCAtPiB2YWx1ZQogIHZhciBjdHJsID0gdGhpczsKCiAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiBuZ01vZGVsV2F0Y2goKSB7CiAgICB2YXIgdmFsdWUgPSBuZ01vZGVsR2V0KCRzY29wZSk7CgogICAgLy8gaWYgc2NvcGUgbW9kZWwgdmFsdWUgYW5kIG5nTW9kZWwgdmFsdWUgYXJlIG91dCBvZiBzeW5jCiAgICBpZiAoY3RybC4kbW9kZWxWYWx1ZSAhPT0gdmFsdWUpIHsKCiAgICAgIHZhciBmb3JtYXR0ZXJzID0gY3RybC4kZm9ybWF0dGVycywKICAgICAgICAgIGlkeCA9IGZvcm1hdHRlcnMubGVuZ3RoOwoKICAgICAgY3RybC4kbW9kZWxWYWx1ZSA9IHZhbHVlOwogICAgICB3aGlsZShpZHgtLSkgewogICAgICAgIHZhbHVlID0gZm9ybWF0dGVyc1tpZHhdKHZhbHVlKTsKICAgICAgfQoKICAgICAgaWYgKGN0cmwuJHZpZXdWYWx1ZSAhPT0gdmFsdWUpIHsKICAgICAgICBjdHJsLiR2aWV3VmFsdWUgPSB2YWx1ZTsKICAgICAgICBjdHJsLiRyZW5kZXIoKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB2YWx1ZTsKICB9KTsKfV07CgoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgbmdNb2RlbAogKgogKiBAZWxlbWVudCBpbnB1dAogKgogKiBAZGVzY3JpcHRpb24KICogVGhlIGBuZ01vZGVsYCBkaXJlY3RpdmUgYmluZHMgYW4gYGlucHV0YCxgc2VsZWN0YCwgYHRleHRhcmVhYCAob3IgY3VzdG9tIGZvcm0gY29udHJvbCkgdG8gYQogKiBwcm9wZXJ0eSBvbiB0aGUgc2NvcGUgdXNpbmcge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIgTmdNb2RlbENvbnRyb2xsZXJ9LAogKiB3aGljaCBpcyBjcmVhdGVkIGFuZCBleHBvc2VkIGJ5IHRoaXMgZGlyZWN0aXZlLgogKgogKiBgbmdNb2RlbGAgaXMgcmVzcG9uc2libGUgZm9yOgogKgogKiAtIEJpbmRpbmcgdGhlIHZpZXcgaW50byB0aGUgbW9kZWwsIHdoaWNoIG90aGVyIGRpcmVjdGl2ZXMgc3VjaCBhcyBgaW5wdXRgLCBgdGV4dGFyZWFgIG9yIGBzZWxlY3RgCiAqICAgcmVxdWlyZS4KICogLSBQcm92aWRpbmcgdmFsaWRhdGlvbiBiZWhhdmlvciAoaS5lLiByZXF1aXJlZCwgbnVtYmVyLCBlbWFpbCwgdXJsKS4KICogLSBLZWVwaW5nIHRoZSBzdGF0ZSBvZiB0aGUgY29udHJvbCAodmFsaWQvaW52YWxpZCwgZGlydHkvcHJpc3RpbmUsIHZhbGlkYXRpb24gZXJyb3JzKS4KICogLSBTZXR0aW5nIHJlbGF0ZWQgY3NzIGNsYXNzZXMgb24gdGhlIGVsZW1lbnQgKGBuZy12YWxpZGAsIGBuZy1pbnZhbGlkYCwgYG5nLWRpcnR5YCwgYG5nLXByaXN0aW5lYCkgaW5jbHVkaW5nIGFuaW1hdGlvbnMuCiAqIC0gUmVnaXN0ZXJpbmcgdGhlIGNvbnRyb2wgd2l0aCBpdHMgcGFyZW50IHtAbGluayBuZy5kaXJlY3RpdmU6Zm9ybSBmb3JtfS4KICoKICogTm90ZTogYG5nTW9kZWxgIHdpbGwgdHJ5IHRvIGJpbmQgdG8gdGhlIHByb3BlcnR5IGdpdmVuIGJ5IGV2YWx1YXRpbmcgdGhlIGV4cHJlc3Npb24gb24gdGhlCiAqIGN1cnJlbnQgc2NvcGUuIElmIHRoZSBwcm9wZXJ0eSBkb2Vzbid0IGFscmVhZHkgZXhpc3Qgb24gdGhpcyBzY29wZSwgaXQgd2lsbCBiZSBjcmVhdGVkCiAqIGltcGxpY2l0bHkgYW5kIGFkZGVkIHRvIHRoZSBzY29wZS4KICoKICogRm9yIGJlc3QgcHJhY3RpY2VzIG9uIHVzaW5nIGBuZ01vZGVsYCwgc2VlOgogKgogKiAgLSBbaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy93aWtpL1VuZGVyc3RhbmRpbmctU2NvcGVzXQogKgogKiBGb3IgYmFzaWMgZXhhbXBsZXMsIGhvdyB0byB1c2UgYG5nTW9kZWxgLCBzZWU6CiAqCiAqICAtIHtAbGluayBuZy5kaXJlY3RpdmU6aW5wdXQgaW5wdXR9CiAqICAgIC0ge0BsaW5rIGlucHV0W3RleHRdIHRleHR9CiAqICAgIC0ge0BsaW5rIGlucHV0W2NoZWNrYm94XSBjaGVja2JveH0KICogICAgLSB7QGxpbmsgaW5wdXRbcmFkaW9dIHJhZGlvfQogKiAgICAtIHtAbGluayBpbnB1dFtudW1iZXJdIG51bWJlcn0KICogICAgLSB7QGxpbmsgaW5wdXRbZW1haWxdIGVtYWlsfQogKiAgICAtIHtAbGluayBpbnB1dFt1cmxdIHVybH0KICogIC0ge0BsaW5rIG5nLmRpcmVjdGl2ZTpzZWxlY3Qgc2VsZWN0fQogKiAgLSB7QGxpbmsgbmcuZGlyZWN0aXZlOnRleHRhcmVhIHRleHRhcmVhfQogKgogKiAjIENTUyBjbGFzc2VzCiAqIFRoZSBmb2xsb3dpbmcgQ1NTIGNsYXNzZXMgYXJlIGFkZGVkIGFuZCByZW1vdmVkIG9uIHRoZSBhc3NvY2lhdGVkIGlucHV0L3NlbGVjdC90ZXh0YXJlYSBlbGVtZW50CiAqIGRlcGVuZGluZyBvbiB0aGUgdmFsaWRpdHkgb2YgdGhlIG1vZGVsLgogKgogKiAgLSBgbmctdmFsaWRgIGlzIHNldCBpZiB0aGUgbW9kZWwgaXMgdmFsaWQuCiAqICAtIGBuZy1pbnZhbGlkYCBpcyBzZXQgaWYgdGhlIG1vZGVsIGlzIGludmFsaWQuCiAqICAtIGBuZy1wcmlzdGluZWAgaXMgc2V0IGlmIHRoZSBtb2RlbCBpcyBwcmlzdGluZS4KICogIC0gYG5nLWRpcnR5YCBpcyBzZXQgaWYgdGhlIG1vZGVsIGlzIGRpcnR5LgogKgogKiBLZWVwIGluIG1pbmQgdGhhdCBuZ0FuaW1hdGUgY2FuIGRldGVjdCBlYWNoIG9mIHRoZXNlIGNsYXNzZXMgd2hlbiBhZGRlZCBhbmQgcmVtb3ZlZC4KICoKICogIyMgQW5pbWF0aW9uIEhvb2tzCiAqCiAqIEFuaW1hdGlvbnMgd2l0aGluIG1vZGVscyBhcmUgdHJpZ2dlcmVkIHdoZW4gYW55IG9mIHRoZSBhc3NvY2lhdGVkIENTUyBjbGFzc2VzIGFyZSBhZGRlZCBhbmQgcmVtb3ZlZAogKiBvbiB0aGUgaW5wdXQgZWxlbWVudCB3aGljaCBpcyBhdHRhY2hlZCB0byB0aGUgbW9kZWwuIFRoZXNlIGNsYXNzZXMgYXJlOiBgLm5nLXByaXN0aW5lYCwgYC5uZy1kaXJ0eWAsCiAqIGAubmctaW52YWxpZGAgYW5kIGAubmctdmFsaWRgIGFzIHdlbGwgYXMgYW55IG90aGVyIHZhbGlkYXRpb25zIHRoYXQgYXJlIHBlcmZvcm1lZCBvbiB0aGUgbW9kZWwgaXRzZWxmLgogKiBUaGUgYW5pbWF0aW9ucyB0aGF0IGFyZSB0cmlnZ2VyZWQgd2l0aGluIG5nTW9kZWwgYXJlIHNpbWlsYXIgdG8gaG93IHRoZXkgd29yayBpbiBuZ0NsYXNzIGFuZAogKiBhbmltYXRpb25zIGNhbiBiZSBob29rZWQgaW50byB1c2luZyBDU1MgdHJhbnNpdGlvbnMsIGtleWZyYW1lcyBhcyB3ZWxsIGFzIEpTIGFuaW1hdGlvbnMuCiAqCiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBhIHNpbXBsZSB3YXkgdG8gdXRpbGl6ZSBDU1MgdHJhbnNpdGlvbnMgdG8gc3R5bGUgYW4gaW5wdXQgZWxlbWVudAogKiB0aGF0IGhhcyBiZWVuIHJlbmRlcmVkIGFzIGludmFsaWQgYWZ0ZXIgaXQgaGFzIGJlZW4gdmFsaWRhdGVkOgogKgogKiA8cHJlPgogKiAvL2JlIHN1cmUgdG8gaW5jbHVkZSBuZ0FuaW1hdGUgYXMgYSBtb2R1bGUgdG8gaG9vayBpbnRvIG1vcmUKICogLy9hZHZhbmNlZCBhbmltYXRpb25zCiAqIC5teS1pbnB1dCB7CiAqICAgdHJhbnNpdGlvbjowLjVzIGxpbmVhciBhbGw7CiAqICAgYmFja2dyb3VuZDogd2hpdGU7CiAqIH0KICogLm15LWlucHV0Lm5nLWludmFsaWQgewogKiAgIGJhY2tncm91bmQ6IHJlZDsKICogICBjb2xvcjp3aGl0ZTsKICogfQogKiA8L3ByZT4KICoKICogQGV4YW1wbGUKICogPGV4YW1wbGUgZGVwcz0iYW5ndWxhci1hbmltYXRlLmpzIiBhbmltYXRpb25zPSJ0cnVlIiBmaXhCYXNlPSJ0cnVlIj4KICAgICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgICAgIDxzY3JpcHQ+CiAgICAgICAgZnVuY3Rpb24gQ3RybCgkc2NvcGUpIHsKICAgICAgICAgICRzY29wZS52YWwgPSAnMSc7CiAgICAgICAgfQogICAgICAgPC9zY3JpcHQ+CiAgICAgICA8c3R5bGU+CiAgICAgICAgIC5teS1pbnB1dCB7CiAgICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOmFsbCBsaW5lYXIgMC41czsKICAgICAgICAgICB0cmFuc2l0aW9uOmFsbCBsaW5lYXIgMC41czsKICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICAgICAgICAgfQogICAgICAgICAubXktaW5wdXQubmctaW52YWxpZCB7CiAgICAgICAgICAgY29sb3I6d2hpdGU7CiAgICAgICAgICAgYmFja2dyb3VuZDogcmVkOwogICAgICAgICB9CiAgICAgICA8L3N0eWxlPgogICAgICAgVXBkYXRlIGlucHV0IHRvIHNlZSB0cmFuc2l0aW9ucyB3aGVuIHZhbGlkL2ludmFsaWQuCiAgICAgICBJbnRlZ2VyIGlzIGEgdmFsaWQgdmFsdWUuCiAgICAgICA8Zm9ybSBuYW1lPSJ0ZXN0Rm9ybSIgbmctY29udHJvbGxlcj0iQ3RybCI+CiAgICAgICAgIDxpbnB1dCBuZy1tb2RlbD0idmFsIiBuZy1wYXR0ZXJuPSIvXlxkKyQvIiBuYW1lPSJhbmltIiBjbGFzcz0ibXktaW5wdXQiIC8+CiAgICAgICA8L2Zvcm0+CiAgICAgPC9maWxlPgogKiA8L2V4YW1wbGU+CiAqLwp2YXIgbmdNb2RlbERpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkgewogIHJldHVybiB7CiAgICByZXF1aXJlOiBbJ25nTW9kZWwnLCAnXj9mb3JtJ10sCiAgICBjb250cm9sbGVyOiBOZ01vZGVsQ29udHJvbGxlciwKICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykgewogICAgICAvLyBub3RpZnkgb3RoZXJzLCBlc3BlY2lhbGx5IHBhcmVudCBmb3JtcwoKICAgICAgdmFyIG1vZGVsQ3RybCA9IGN0cmxzWzBdLAogICAgICAgICAgZm9ybUN0cmwgPSBjdHJsc1sxXSB8fCBudWxsRm9ybUN0cmw7CgogICAgICBmb3JtQ3RybC4kYWRkQ29udHJvbChtb2RlbEN0cmwpOwoKICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkgewogICAgICAgIGZvcm1DdHJsLiRyZW1vdmVDb250cm9sKG1vZGVsQ3RybCk7CiAgICAgIH0pOwogICAgfQogIH07Cn07CgoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgbmdDaGFuZ2UKICoKICogQGRlc2NyaXB0aW9uCiAqIEV2YWx1YXRlIHRoZSBnaXZlbiBleHByZXNzaW9uIHdoZW4gdGhlIHVzZXIgY2hhbmdlcyB0aGUgaW5wdXQuCiAqIFRoZSBleHByZXNzaW9uIGlzIGV2YWx1YXRlZCBpbW1lZGlhdGVseSwgdW5saWtlIHRoZSBKYXZhU2NyaXB0IG9uY2hhbmdlIGV2ZW50CiAqIHdoaWNoIG9ubHkgdHJpZ2dlcnMgYXQgdGhlIGVuZCBvZiBhIGNoYW5nZSAodXN1YWxseSwgd2hlbiB0aGUgdXNlciBsZWF2ZXMgdGhlCiAqIGZvcm0gZWxlbWVudCBvciBwcmVzc2VzIHRoZSByZXR1cm4ga2V5KS4KICogVGhlIGV4cHJlc3Npb24gaXMgbm90IGV2YWx1YXRlZCB3aGVuIHRoZSB2YWx1ZSBjaGFuZ2UgaXMgY29taW5nIGZyb20gdGhlIG1vZGVsLgogKgogKiBOb3RlLCB0aGlzIGRpcmVjdGl2ZSByZXF1aXJlcyBgbmdNb2RlbGAgdG8gYmUgcHJlc2VudC4KICoKICogQGVsZW1lbnQgaW5wdXQKICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NoYW5nZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uIGNoYW5nZQogKiBpbiBpbnB1dCB2YWx1ZS4KICoKICogQGV4YW1wbGUKICogPGV4YW1wbGUgbmFtZT0ibmdDaGFuZ2UtZGlyZWN0aXZlIj4KICogICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICogICAgIDxzY3JpcHQ+CiAqICAgICAgIGZ1bmN0aW9uIENvbnRyb2xsZXIoJHNjb3BlKSB7CiAqICAgICAgICAgJHNjb3BlLmNvdW50ZXIgPSAwOwogKiAgICAgICAgICRzY29wZS5jaGFuZ2UgPSBmdW5jdGlvbigpIHsKICogICAgICAgICAgICRzY29wZS5jb3VudGVyKys7CiAqICAgICAgICAgfTsKICogICAgICAgfQogKiAgICAgPC9zY3JpcHQ+CiAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9IkNvbnRyb2xsZXIiPgogKiAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIG5nLW1vZGVsPSJjb25maXJtZWQiIG5nLWNoYW5nZT0iY2hhbmdlKCkiIGlkPSJuZy1jaGFuZ2UtZXhhbXBsZTEiIC8+CiAqICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmctbW9kZWw9ImNvbmZpcm1lZCIgaWQ9Im5nLWNoYW5nZS1leGFtcGxlMiIgLz4KICogICAgICAgPGxhYmVsIGZvcj0ibmctY2hhbmdlLWV4YW1wbGUyIj5Db25maXJtZWQ8L2xhYmVsPjxiciAvPgogKiAgICAgICA8dHQ+ZGVidWcgPSB7e2NvbmZpcm1lZH19PC90dD48YnIvPgogKiAgICAgICA8dHQ+Y291bnRlciA9IHt7Y291bnRlcn19PC90dD48YnIvPgogKiAgICAgPC9kaXY+CiAqICAgPC9maWxlPgogKiAgIDxmaWxlIG5hbWU9InByb3RyYWN0b3IuanMiIHR5cGU9InByb3RyYWN0b3IiPgogKiAgICAgdmFyIGNvdW50ZXIgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2NvdW50ZXInKSk7CiAqICAgICB2YXIgZGVidWcgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2NvbmZpcm1lZCcpKTsKICoKICogICAgIGl0KCdzaG91bGQgZXZhbHVhdGUgdGhlIGV4cHJlc3Npb24gaWYgY2hhbmdpbmcgZnJvbSB2aWV3JywgZnVuY3Rpb24oKSB7CiAqICAgICAgIGV4cGVjdChjb3VudGVyLmdldFRleHQoKSkudG9Db250YWluKCcwJyk7CiAqCiAqICAgICAgIGVsZW1lbnQoYnkuaWQoJ25nLWNoYW5nZS1leGFtcGxlMScpKS5jbGljaygpOwogKgogKiAgICAgICBleHBlY3QoY291bnRlci5nZXRUZXh0KCkpLnRvQ29udGFpbignMScpOwogKiAgICAgICBleHBlY3QoZGVidWcuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTsKICogICAgIH0pOwogKgogKiAgICAgaXQoJ3Nob3VsZCBub3QgZXZhbHVhdGUgdGhlIGV4cHJlc3Npb24gaWYgY2hhbmdpbmcgZnJvbSBtb2RlbCcsIGZ1bmN0aW9uKCkgewogKiAgICAgICBlbGVtZW50KGJ5LmlkKCduZy1jaGFuZ2UtZXhhbXBsZTInKSkuY2xpY2soKTsKCiAqICAgICAgIGV4cGVjdChjb3VudGVyLmdldFRleHQoKSkudG9Db250YWluKCcwJyk7CiAqICAgICAgIGV4cGVjdChkZWJ1Zy5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpOwogKiAgICAgfSk7CiAqICAgPC9maWxlPgogKiA8L2V4YW1wbGU+CiAqLwp2YXIgbmdDaGFuZ2VEaXJlY3RpdmUgPSB2YWx1ZUZuKHsKICByZXF1aXJlOiAnbmdNb2RlbCcsCiAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpIHsKICAgIGN0cmwuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMucHVzaChmdW5jdGlvbigpIHsKICAgICAgc2NvcGUuJGV2YWwoYXR0ci5uZ0NoYW5nZSk7CiAgICB9KTsKICB9Cn0pOwoKCnZhciByZXF1aXJlZERpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkgewogIHJldHVybiB7CiAgICByZXF1aXJlOiAnP25nTW9kZWwnLAogICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0ciwgY3RybCkgewogICAgICBpZiAoIWN0cmwpIHJldHVybjsKICAgICAgYXR0ci5yZXF1aXJlZCA9IHRydWU7IC8vIGZvcmNlIHRydXRoeSBpbiBjYXNlIHdlIGFyZSBvbiBub24gaW5wdXQgZWxlbWVudAoKICAgICAgdmFyIHZhbGlkYXRvciA9IGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgaWYgKGF0dHIucmVxdWlyZWQgJiYgY3RybC4kaXNFbXB0eSh2YWx1ZSkpIHsKICAgICAgICAgIGN0cmwuJHNldFZhbGlkaXR5KCdyZXF1aXJlZCcsIGZhbHNlKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY3RybC4kc2V0VmFsaWRpdHkoJ3JlcXVpcmVkJywgdHJ1ZSk7CiAgICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgY3RybC4kZm9ybWF0dGVycy5wdXNoKHZhbGlkYXRvcik7CiAgICAgIGN0cmwuJHBhcnNlcnMudW5zaGlmdCh2YWxpZGF0b3IpOwoKICAgICAgYXR0ci4kb2JzZXJ2ZSgncmVxdWlyZWQnLCBmdW5jdGlvbigpIHsKICAgICAgICB2YWxpZGF0b3IoY3RybC4kdmlld1ZhbHVlKTsKICAgICAgfSk7CiAgICB9CiAgfTsKfTsKCgovKioKICogQG5nZG9jIGRpcmVjdGl2ZQogKiBAbmFtZSBuZ0xpc3QKICoKICogQGRlc2NyaXB0aW9uCiAqIFRleHQgaW5wdXQgdGhhdCBjb252ZXJ0cyBiZXR3ZWVuIGEgZGVsaW1pdGVkIHN0cmluZyBhbmQgYW4gYXJyYXkgb2Ygc3RyaW5ncy4gVGhlIGRlbGltaXRlcgogKiBjYW4gYmUgYSBmaXhlZCBzdHJpbmcgKGJ5IGRlZmF1bHQgYSBjb21tYSkgb3IgYSByZWd1bGFyIGV4cHJlc3Npb24uCiAqCiAqIEBlbGVtZW50IGlucHV0CiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdMaXN0IG9wdGlvbmFsIGRlbGltaXRlciB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIHNwbGl0IHRoZSB2YWx1ZS4gSWYKICogICBzcGVjaWZpZWQgaW4gZm9ybSBgL3NvbWV0aGluZy9gIHRoZW4gdGhlIHZhbHVlIHdpbGwgYmUgY29udmVydGVkIGludG8gYSByZWd1bGFyIGV4cHJlc3Npb24uCiAqCiAqIEBleGFtcGxlCiAgICA8ZXhhbXBsZSBuYW1lPSJuZ0xpc3QtZGlyZWN0aXZlIj4KICAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgICA8c2NyaXB0PgogICAgICAgICBmdW5jdGlvbiBDdHJsKCRzY29wZSkgewogICAgICAgICAgICRzY29wZS5uYW1lcyA9IFsnaWdvcicsICdtaXNrbycsICd2b2p0YSddOwogICAgICAgICB9CiAgICAgICA8L3NjcmlwdD4KICAgICAgIDxmb3JtIG5hbWU9Im15Rm9ybSIgbmctY29udHJvbGxlcj0iQ3RybCI+CiAgICAgICAgIExpc3Q6IDxpbnB1dCBuYW1lPSJuYW1lc0lucHV0IiBuZy1tb2RlbD0ibmFtZXMiIG5nLWxpc3QgcmVxdWlyZWQ+CiAgICAgICAgIDxzcGFuIGNsYXNzPSJlcnJvciIgbmctc2hvdz0ibXlGb3JtLm5hbWVzSW5wdXQuJGVycm9yLnJlcXVpcmVkIj4KICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+CiAgICAgICAgIDxicj4KICAgICAgICAgPHR0Pm5hbWVzID0ge3tuYW1lc319PC90dD48YnIvPgogICAgICAgICA8dHQ+bXlGb3JtLm5hbWVzSW5wdXQuJHZhbGlkID0ge3tteUZvcm0ubmFtZXNJbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz4KICAgICAgICAgPHR0Pm15Rm9ybS5uYW1lc0lucHV0LiRlcnJvciA9IHt7bXlGb3JtLm5hbWVzSW5wdXQuJGVycm9yfX08L3R0Pjxici8+CiAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+CiAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz4KICAgICAgICA8L2Zvcm0+CiAgICAgIDwvZmlsZT4KICAgICAgPGZpbGUgbmFtZT0icHJvdHJhY3Rvci5qcyIgdHlwZT0icHJvdHJhY3RvciI+CiAgICAgICAgdmFyIGxpc3RJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ25hbWVzJykpOwogICAgICAgIHZhciBuYW1lcyA9IGVsZW1lbnQoYnkuYmluZGluZygne3tuYW1lc319JykpOwogICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLm5hbWVzSW5wdXQuJHZhbGlkJykpOwogICAgICAgIHZhciBlcnJvciA9IGVsZW1lbnQoYnkuY3NzKCdzcGFuLmVycm9yJykpOwoKICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHsKICAgICAgICAgIGV4cGVjdChuYW1lcy5nZXRUZXh0KCkpLnRvQ29udGFpbignWyJpZ29yIiwibWlza28iLCJ2b2p0YSJdJyk7CiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTsKICAgICAgICAgIGV4cGVjdChlcnJvci5nZXRDc3NWYWx1ZSgnZGlzcGxheScpKS50b0JlKCdub25lJyk7CiAgICAgICAgfSk7CgogICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkgewogICAgICAgICAgbGlzdElucHV0LmNsZWFyKCk7CiAgICAgICAgICBsaXN0SW5wdXQuc2VuZEtleXMoJycpOwoKICAgICAgICAgIGV4cGVjdChuYW1lcy5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7CiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7CiAgICAgICAgICBleHBlY3QoZXJyb3IuZ2V0Q3NzVmFsdWUoJ2Rpc3BsYXknKSkubm90LnRvQmUoJ25vbmUnKTsgICAgICAgIH0pOwogICAgICA8L2ZpbGU+CiAgICA8L2V4YW1wbGU+CiAqLwp2YXIgbmdMaXN0RGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7CiAgcmV0dXJuIHsKICAgIHJlcXVpcmU6ICduZ01vZGVsJywKICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7CiAgICAgIHZhciBtYXRjaCA9IC9cLyguKilcLy8uZXhlYyhhdHRyLm5nTGlzdCksCiAgICAgICAgICBzZXBhcmF0b3IgPSBtYXRjaCAmJiBuZXcgUmVnRXhwKG1hdGNoWzFdKSB8fCBhdHRyLm5nTGlzdCB8fCAnLCc7CgogICAgICB2YXIgcGFyc2UgPSBmdW5jdGlvbih2aWV3VmFsdWUpIHsKICAgICAgICAvLyBJZiB0aGUgdmlld1ZhbHVlIGlzIGludmFsaWQgKHNheSByZXF1aXJlZCBidXQgZW1wdHkpIGl0IHdpbGwgYmUgYHVuZGVmaW5lZGAKICAgICAgICBpZiAoaXNVbmRlZmluZWQodmlld1ZhbHVlKSkgcmV0dXJuOwoKICAgICAgICB2YXIgbGlzdCA9IFtdOwoKICAgICAgICBpZiAodmlld1ZhbHVlKSB7CiAgICAgICAgICBmb3JFYWNoKHZpZXdWYWx1ZS5zcGxpdChzZXBhcmF0b3IpLCBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgICAgICBpZiAodmFsdWUpIGxpc3QucHVzaCh0cmltKHZhbHVlKSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBsaXN0OwogICAgICB9OwoKICAgICAgY3RybC4kcGFyc2Vycy5wdXNoKHBhcnNlKTsKICAgICAgY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7CiAgICAgICAgICByZXR1cm4gdmFsdWUuam9pbignLCAnKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICAgIH0pOwoKICAgICAgLy8gT3ZlcnJpZGUgdGhlIHN0YW5kYXJkICRpc0VtcHR5IGJlY2F1c2UgYW4gZW1wdHkgYXJyYXkgbWVhbnMgdGhlIGlucHV0IGlzIGVtcHR5LgogICAgICBjdHJsLiRpc0VtcHR5ID0gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICByZXR1cm4gIXZhbHVlIHx8ICF2YWx1ZS5sZW5ndGg7CiAgICAgIH07CiAgICB9CiAgfTsKfTsKCgp2YXIgQ09OU1RBTlRfVkFMVUVfUkVHRVhQID0gL14odHJ1ZXxmYWxzZXxcZCspJC87Ci8qKgogKiBAbmdkb2MgZGlyZWN0aXZlCiAqIEBuYW1lIG5nVmFsdWUKICoKICogQGRlc2NyaXB0aW9uCiAqIEJpbmRzIHRoZSBnaXZlbiBleHByZXNzaW9uIHRvIHRoZSB2YWx1ZSBvZiBgaW5wdXRbc2VsZWN0XWAgb3IgYGlucHV0W3JhZGlvXWAsIHNvCiAqIHRoYXQgd2hlbiB0aGUgZWxlbWVudCBpcyBzZWxlY3RlZCwgdGhlIGBuZ01vZGVsYCBvZiB0aGF0IGVsZW1lbnQgaXMgc2V0IHRvIHRoZQogKiBib3VuZCB2YWx1ZS4KICoKICogYG5nVmFsdWVgIGlzIHVzZWZ1bCB3aGVuIGR5bmFtaWNhbGx5IGdlbmVyYXRpbmcgbGlzdHMgb2YgcmFkaW8gYnV0dG9ucyB1c2luZyBgbmctcmVwZWF0YCwgYXMKICogc2hvd24gYmVsb3cuCiAqCiAqIEBlbGVtZW50IGlucHV0CiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdWYWx1ZSBhbmd1bGFyIGV4cHJlc3Npb24sIHdob3NlIHZhbHVlIHdpbGwgYmUgYm91bmQgdG8gdGhlIGB2YWx1ZWAgYXR0cmlidXRlCiAqICAgb2YgdGhlIGBpbnB1dGAgZWxlbWVudAogKgogKiBAZXhhbXBsZQogICAgPGV4YW1wbGUgbmFtZT0ibmdWYWx1ZS1kaXJlY3RpdmUiPgogICAgICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgICAgIDxzY3JpcHQ+CiAgICAgICAgICBmdW5jdGlvbiBDdHJsKCRzY29wZSkgewogICAgICAgICAgICAkc2NvcGUubmFtZXMgPSBbJ3BpenphJywgJ3VuaWNvcm5zJywgJ3JvYm90cyddOwogICAgICAgICAgICAkc2NvcGUubXkgPSB7IGZhdm9yaXRlOiAndW5pY29ybnMnIH07CiAgICAgICAgICB9CiAgICAgICA8L3NjcmlwdD4KICAgICAgICA8Zm9ybSBuZy1jb250cm9sbGVyPSJDdHJsIj4KICAgICAgICAgIDxoMj5XaGljaCBpcyB5b3VyIGZhdm9yaXRlPzwvaDI+CiAgICAgICAgICAgIDxsYWJlbCBuZy1yZXBlYXQ9Im5hbWUgaW4gbmFtZXMiIGZvcj0ie3tuYW1lfX0iPgogICAgICAgICAgICAgIHt7bmFtZX19CiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InJhZGlvIgogICAgICAgICAgICAgICAgICAgICBuZy1tb2RlbD0ibXkuZmF2b3JpdGUiCiAgICAgICAgICAgICAgICAgICAgIG5nLXZhbHVlPSJuYW1lIgogICAgICAgICAgICAgICAgICAgICBpZD0ie3tuYW1lfX0iCiAgICAgICAgICAgICAgICAgICAgIG5hbWU9ImZhdm9yaXRlIj4KICAgICAgICAgICAgPC9sYWJlbD4KICAgICAgICAgIDxkaXY+WW91IGNob3NlIHt7bXkuZmF2b3JpdGV9fTwvZGl2PgogICAgICAgIDwvZm9ybT4KICAgICAgPC9maWxlPgogICAgICA8ZmlsZSBuYW1lPSJwcm90cmFjdG9yLmpzIiB0eXBlPSJwcm90cmFjdG9yIj4KICAgICAgICB2YXIgZmF2b3JpdGUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215LmZhdm9yaXRlJykpOwoKICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHsKICAgICAgICAgIGV4cGVjdChmYXZvcml0ZS5nZXRUZXh0KCkpLnRvQ29udGFpbigndW5pY29ybnMnKTsKICAgICAgICB9KTsKICAgICAgICBpdCgnc2hvdWxkIGJpbmQgdGhlIHZhbHVlcyB0byB0aGUgaW5wdXRzJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICBlbGVtZW50LmFsbChieS5tb2RlbCgnbXkuZmF2b3JpdGUnKSkuZ2V0KDApLmNsaWNrKCk7CiAgICAgICAgICBleHBlY3QoZmF2b3JpdGUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3BpenphJyk7CiAgICAgICAgfSk7CiAgICAgIDwvZmlsZT4KICAgIDwvZXhhbXBsZT4KICovCnZhciBuZ1ZhbHVlRGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7CiAgcmV0dXJuIHsKICAgIHByaW9yaXR5OiAxMDAsCiAgICBjb21waWxlOiBmdW5jdGlvbih0cGwsIHRwbEF0dHIpIHsKICAgICAgaWYgKENPTlNUQU5UX1ZBTFVFX1JFR0VYUC50ZXN0KHRwbEF0dHIubmdWYWx1ZSkpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmdWYWx1ZUNvbnN0YW50TGluayhzY29wZSwgZWxtLCBhdHRyKSB7CiAgICAgICAgICBhdHRyLiRzZXQoJ3ZhbHVlJywgc2NvcGUuJGV2YWwoYXR0ci5uZ1ZhbHVlKSk7CiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmdWYWx1ZUxpbmsoc2NvcGUsIGVsbSwgYXR0cikgewogICAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHIubmdWYWx1ZSwgZnVuY3Rpb24gdmFsdWVXYXRjaEFjdGlvbih2YWx1ZSkgewogICAgICAgICAgICBhdHRyLiRzZXQoJ3ZhbHVlJywgdmFsdWUpOwogICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgfQogICAgfQogIH07Cn07CgovKioKICogQG5nZG9jIGRpcmVjdGl2ZQogKiBAbmFtZSBuZ0JpbmQKICogQHJlc3RyaWN0IEFDCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBUaGUgYG5nQmluZGAgYXR0cmlidXRlIHRlbGxzIEFuZ3VsYXIgdG8gcmVwbGFjZSB0aGUgdGV4dCBjb250ZW50IG9mIHRoZSBzcGVjaWZpZWQgSFRNTCBlbGVtZW50CiAqIHdpdGggdGhlIHZhbHVlIG9mIGEgZ2l2ZW4gZXhwcmVzc2lvbiwgYW5kIHRvIHVwZGF0ZSB0aGUgdGV4dCBjb250ZW50IHdoZW4gdGhlIHZhbHVlIG9mIHRoYXQKICogZXhwcmVzc2lvbiBjaGFuZ2VzLgogKgogKiBUeXBpY2FsbHksIHlvdSBkb24ndCB1c2UgYG5nQmluZGAgZGlyZWN0bHksIGJ1dCBpbnN0ZWFkIHlvdSB1c2UgdGhlIGRvdWJsZSBjdXJseSBtYXJrdXAgbGlrZQogKiBge3sgZXhwcmVzc2lvbiB9fWAgd2hpY2ggaXMgc2ltaWxhciBidXQgbGVzcyB2ZXJib3NlLgogKgogKiBJdCBpcyBwcmVmZXJhYmxlIHRvIHVzZSBgbmdCaW5kYCBpbnN0ZWFkIG9mIGB7eyBleHByZXNzaW9uIH19YCB3aGVuIGEgdGVtcGxhdGUgaXMgbW9tZW50YXJpbHkKICogZGlzcGxheWVkIGJ5IHRoZSBicm93c2VyIGluIGl0cyByYXcgc3RhdGUgYmVmb3JlIEFuZ3VsYXIgY29tcGlsZXMgaXQuIFNpbmNlIGBuZ0JpbmRgIGlzIGFuCiAqIGVsZW1lbnQgYXR0cmlidXRlLCBpdCBtYWtlcyB0aGUgYmluZGluZ3MgaW52aXNpYmxlIHRvIHRoZSB1c2VyIHdoaWxlIHRoZSBwYWdlIGlzIGxvYWRpbmcuCiAqCiAqIEFuIGFsdGVybmF0aXZlIHNvbHV0aW9uIHRvIHRoaXMgcHJvYmxlbSB3b3VsZCBiZSB1c2luZyB0aGUKICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0Nsb2FrIG5nQ2xvYWt9IGRpcmVjdGl2ZS4KICoKICoKICogQGVsZW1lbnQgQU5ZCiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdCaW5kIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlLgogKgogKiBAZXhhbXBsZQogKiBFbnRlciBhIG5hbWUgaW4gdGhlIExpdmUgUHJldmlldyB0ZXh0IGJveDsgdGhlIGdyZWV0aW5nIGJlbG93IHRoZSB0ZXh0IGJveCBjaGFuZ2VzIGluc3RhbnRseS4KICAgPGV4YW1wbGU+CiAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgICA8c2NyaXB0PgogICAgICAgICBmdW5jdGlvbiBDdHJsKCRzY29wZSkgewogICAgICAgICAgICRzY29wZS5uYW1lID0gJ1doaXJsZWQnOwogICAgICAgICB9CiAgICAgICA8L3NjcmlwdD4KICAgICAgIDxkaXYgbmctY29udHJvbGxlcj0iQ3RybCI+CiAgICAgICAgIEVudGVyIG5hbWU6IDxpbnB1dCB0eXBlPSJ0ZXh0IiBuZy1tb2RlbD0ibmFtZSI+PGJyPgogICAgICAgICBIZWxsbyA8c3BhbiBuZy1iaW5kPSJuYW1lIj48L3NwYW4+IQogICAgICAgPC9kaXY+CiAgICAgPC9maWxlPgogICAgIDxmaWxlIG5hbWU9InByb3RyYWN0b3IuanMiIHR5cGU9InByb3RyYWN0b3IiPgogICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1iaW5kJywgZnVuY3Rpb24oKSB7CiAgICAgICAgIHZhciBuYW1lSW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCduYW1lJykpOwoKICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbmFtZScpKS5nZXRUZXh0KCkpLnRvQmUoJ1doaXJsZWQnKTsKICAgICAgICAgbmFtZUlucHV0LmNsZWFyKCk7CiAgICAgICAgIG5hbWVJbnB1dC5zZW5kS2V5cygnd29ybGQnKTsKICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbmFtZScpKS5nZXRUZXh0KCkpLnRvQmUoJ3dvcmxkJyk7CiAgICAgICB9KTsKICAgICA8L2ZpbGU+CiAgIDwvZXhhbXBsZT4KICovCnZhciBuZ0JpbmREaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7CiAgY29tcGlsZTogZnVuY3Rpb24odGVtcGxhdGVFbGVtZW50KSB7CiAgICB0ZW1wbGF0ZUVsZW1lbnQuYWRkQ2xhc3MoJ25nLWJpbmRpbmcnKTsKICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHsKICAgICAgZWxlbWVudC5kYXRhKCckYmluZGluZycsIGF0dHIubmdCaW5kKTsKICAgICAgc2NvcGUuJHdhdGNoKGF0dHIubmdCaW5kLCBmdW5jdGlvbiBuZ0JpbmRXYXRjaEFjdGlvbih2YWx1ZSkgewogICAgICAgIC8vIFdlIGFyZSBwdXJwb3NlZnVsbHkgdXNpbmcgPT0gaGVyZSByYXRoZXIgdGhhbiA9PT0gYmVjYXVzZSB3ZSB3YW50IHRvCiAgICAgICAgLy8gY2F0Y2ggd2hlbiB2YWx1ZSBpcyAibnVsbCBvciB1bmRlZmluZWQiCiAgICAgICAgLy8ganNoaW50IC1XMDQxCiAgICAgICAgZWxlbWVudC50ZXh0KHZhbHVlID09IHVuZGVmaW5lZCA/ICcnIDogdmFsdWUpOwogICAgICB9KTsKICAgIH07CiAgfQp9KTsKCgovKioKICogQG5nZG9jIGRpcmVjdGl2ZQogKiBAbmFtZSBuZ0JpbmRUZW1wbGF0ZQogKgogKiBAZGVzY3JpcHRpb24KICogVGhlIGBuZ0JpbmRUZW1wbGF0ZWAgZGlyZWN0aXZlIHNwZWNpZmllcyB0aGF0IHRoZSBlbGVtZW50CiAqIHRleHQgY29udGVudCBzaG91bGQgYmUgcmVwbGFjZWQgd2l0aCB0aGUgaW50ZXJwb2xhdGlvbiBvZiB0aGUgdGVtcGxhdGUKICogaW4gdGhlIGBuZ0JpbmRUZW1wbGF0ZWAgYXR0cmlidXRlLgogKiBVbmxpa2UgYG5nQmluZGAsIHRoZSBgbmdCaW5kVGVtcGxhdGVgIGNhbiBjb250YWluIG11bHRpcGxlIGB7e2AgYH19YAogKiBleHByZXNzaW9ucy4gVGhpcyBkaXJlY3RpdmUgaXMgbmVlZGVkIHNpbmNlIHNvbWUgSFRNTCBlbGVtZW50cwogKiAoc3VjaCBhcyBUSVRMRSBhbmQgT1BUSU9OKSBjYW5ub3QgY29udGFpbiBTUEFOIGVsZW1lbnRzLgogKgogKiBAZWxlbWVudCBBTlkKICogQHBhcmFtIHtzdHJpbmd9IG5nQmluZFRlbXBsYXRlIHRlbXBsYXRlIG9mIGZvcm0KICogICA8dHQ+e3s8L3R0PiA8dHQ+ZXhwcmVzc2lvbjwvdHQ+IDx0dD59fTwvdHQ+IHRvIGV2YWwuCiAqCiAqIEBleGFtcGxlCiAqIFRyeSBpdCBoZXJlOiBlbnRlciB0ZXh0IGluIHRleHQgYm94IGFuZCB3YXRjaCB0aGUgZ3JlZXRpbmcgY2hhbmdlLgogICA8ZXhhbXBsZT4KICAgICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgICAgIDxzY3JpcHQ+CiAgICAgICAgIGZ1bmN0aW9uIEN0cmwoJHNjb3BlKSB7CiAgICAgICAgICAgJHNjb3BlLnNhbHV0YXRpb24gPSAnSGVsbG8nOwogICAgICAgICAgICRzY29wZS5uYW1lID0gJ1dvcmxkJzsKICAgICAgICAgfQogICAgICAgPC9zY3JpcHQ+CiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9IkN0cmwiPgogICAgICAgIFNhbHV0YXRpb246IDxpbnB1dCB0eXBlPSJ0ZXh0IiBuZy1tb2RlbD0ic2FsdXRhdGlvbiI+PGJyPgogICAgICAgIE5hbWU6IDxpbnB1dCB0eXBlPSJ0ZXh0IiBuZy1tb2RlbD0ibmFtZSI+PGJyPgogICAgICAgIDxwcmUgbmctYmluZC10ZW1wbGF0ZT0ie3tzYWx1dGF0aW9ufX0ge3tuYW1lfX0hIj48L3ByZT4KICAgICAgIDwvZGl2PgogICAgIDwvZmlsZT4KICAgICA8ZmlsZSBuYW1lPSJwcm90cmFjdG9yLmpzIiB0eXBlPSJwcm90cmFjdG9yIj4KICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctYmluZCcsIGZ1bmN0aW9uKCkgewogICAgICAgICB2YXIgc2FsdXRhdGlvbkVsZW0gPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3NhbHV0YXRpb24nKSk7CiAgICAgICAgIHZhciBzYWx1dGF0aW9uSW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdzYWx1dGF0aW9uJykpOwogICAgICAgICB2YXIgbmFtZUlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbmFtZScpKTsKCiAgICAgICAgIGV4cGVjdChzYWx1dGF0aW9uRWxlbS5nZXRUZXh0KCkpLnRvQmUoJ0hlbGxvIFdvcmxkIScpOwoKICAgICAgICAgc2FsdXRhdGlvbklucHV0LmNsZWFyKCk7CiAgICAgICAgIHNhbHV0YXRpb25JbnB1dC5zZW5kS2V5cygnR3JlZXRpbmdzJyk7CiAgICAgICAgIG5hbWVJbnB1dC5jbGVhcigpOwogICAgICAgICBuYW1lSW5wdXQuc2VuZEtleXMoJ3VzZXInKTsKCiAgICAgICAgIGV4cGVjdChzYWx1dGF0aW9uRWxlbS5nZXRUZXh0KCkpLnRvQmUoJ0dyZWV0aW5ncyB1c2VyIScpOwogICAgICAgfSk7CiAgICAgPC9maWxlPgogICA8L2V4YW1wbGU+CiAqLwp2YXIgbmdCaW5kVGVtcGxhdGVEaXJlY3RpdmUgPSBbJyRpbnRlcnBvbGF0ZScsIGZ1bmN0aW9uKCRpbnRlcnBvbGF0ZSkgewogIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikgewogICAgLy8gVE9ETzogbW92ZSB0aGlzIHRvIHNjZW5hcmlvIHJ1bm5lcgogICAgdmFyIGludGVycG9sYXRlRm4gPSAkaW50ZXJwb2xhdGUoZWxlbWVudC5hdHRyKGF0dHIuJGF0dHIubmdCaW5kVGVtcGxhdGUpKTsKICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ25nLWJpbmRpbmcnKS5kYXRhKCckYmluZGluZycsIGludGVycG9sYXRlRm4pOwogICAgYXR0ci4kb2JzZXJ2ZSgnbmdCaW5kVGVtcGxhdGUnLCBmdW5jdGlvbih2YWx1ZSkgewogICAgICBlbGVtZW50LnRleHQodmFsdWUpOwogICAgfSk7CiAgfTsKfV07CgoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgbmdCaW5kSHRtbAogKgogKiBAZGVzY3JpcHRpb24KICogQ3JlYXRlcyBhIGJpbmRpbmcgdGhhdCB3aWxsIGlubmVySFRNTCB0aGUgcmVzdWx0IG9mIGV2YWx1YXRpbmcgdGhlIGBleHByZXNzaW9uYCBpbnRvIHRoZSBjdXJyZW50CiAqIGVsZW1lbnQgaW4gYSBzZWN1cmUgd2F5LiAgQnkgZGVmYXVsdCwgdGhlIGlubmVySFRNTC1lZCBjb250ZW50IHdpbGwgYmUgc2FuaXRpemVkIHVzaW5nIHRoZSB7QGxpbmsKICogbmdTYW5pdGl6ZS4kc2FuaXRpemUgJHNhbml0aXplfSBzZXJ2aWNlLiAgVG8gdXRpbGl6ZSB0aGlzIGZ1bmN0aW9uYWxpdHksIGVuc3VyZSB0aGF0IGAkc2FuaXRpemVgCiAqIGlzIGF2YWlsYWJsZSwgZm9yIGV4YW1wbGUsIGJ5IGluY2x1ZGluZyB7QGxpbmsgbmdTYW5pdGl6ZX0gaW4geW91ciBtb2R1bGUncyBkZXBlbmRlbmNpZXMgKG5vdCBpbgogKiBjb3JlIEFuZ3VsYXIuKSAgWW91IG1heSBhbHNvIGJ5cGFzcyBzYW5pdGl6YXRpb24gZm9yIHZhbHVlcyB5b3Uga25vdyBhcmUgc2FmZS4gVG8gZG8gc28sIGJpbmQgdG8KICogYW4gZXhwbGljaXRseSB0cnVzdGVkIHZhbHVlIHZpYSB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzSHRtbCAkc2NlLnRydXN0QXNIdG1sfS4gIFNlZSB0aGUgZXhhbXBsZQogKiB1bmRlciB7QGxpbmsgbmcuJHNjZSNFeGFtcGxlIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfS4KICoKICogTm90ZTogSWYgYSBgJHNhbml0aXplYCBzZXJ2aWNlIGlzIHVuYXZhaWxhYmxlIGFuZCB0aGUgYm91bmQgdmFsdWUgaXNuJ3QgZXhwbGljaXRseSB0cnVzdGVkLCB5b3UKICogd2lsbCBoYXZlIGFuIGV4Y2VwdGlvbiAoaW5zdGVhZCBvZiBhbiBleHBsb2l0LikKICoKICogQGVsZW1lbnQgQU5ZCiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdCaW5kSHRtbCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZS4KICoKICogQGV4YW1wbGUKICAgVHJ5IGl0IGhlcmU6IGVudGVyIHRleHQgaW4gdGV4dCBib3ggYW5kIHdhdGNoIHRoZSBncmVldGluZyBjaGFuZ2UuCgogICA8ZXhhbXBsZSBtb2R1bGU9Im5nQmluZEh0bWxFeGFtcGxlIiBkZXBzPSJhbmd1bGFyLXNhbml0aXplLmpzIj4KICAgICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgICAgIDxkaXYgbmctY29udHJvbGxlcj0ibmdCaW5kSHRtbEN0cmwiPgogICAgICAgIDxwIG5nLWJpbmQtaHRtbD0ibXlIVE1MIj48L3A+CiAgICAgICA8L2Rpdj4KICAgICA8L2ZpbGU+CgogICAgIDxmaWxlIG5hbWU9InNjcmlwdC5qcyI+CiAgICAgICBhbmd1bGFyLm1vZHVsZSgnbmdCaW5kSHRtbEV4YW1wbGUnLCBbJ25nU2FuaXRpemUnXSkKCiAgICAgICAuY29udHJvbGxlcignbmdCaW5kSHRtbEN0cmwnLCBbJyRzY29wZScsIGZ1bmN0aW9uIG5nQmluZEh0bWxDdHJsKCRzY29wZSkgewogICAgICAgICAkc2NvcGUubXlIVE1MID0KICAgICAgICAgICAgJ0kgYW0gYW4gPGNvZGU+SFRNTDwvY29kZT5zdHJpbmcgd2l0aCA8YSBocmVmPSIjIj5saW5rcyE8L2E+IGFuZCBvdGhlciA8ZW0+c3R1ZmY8L2VtPic7CiAgICAgICB9XSk7CiAgICAgPC9maWxlPgoKICAgICA8ZmlsZSBuYW1lPSJwcm90cmFjdG9yLmpzIiB0eXBlPSJwcm90cmFjdG9yIj4KICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctYmluZC1odG1sJywgZnVuY3Rpb24oKSB7CiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ215SFRNTCcpKS5nZXRUZXh0KCkpLnRvQmUoCiAgICAgICAgICAgICAnSSBhbSBhbiBIVE1Mc3RyaW5nIHdpdGggbGlua3MhIGFuZCBvdGhlciBzdHVmZicpOwogICAgICAgfSk7CiAgICAgPC9maWxlPgogICA8L2V4YW1wbGU+CiAqLwp2YXIgbmdCaW5kSHRtbERpcmVjdGl2ZSA9IFsnJHNjZScsICckcGFyc2UnLCBmdW5jdGlvbigkc2NlLCAkcGFyc2UpIHsKICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHsKICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ25nLWJpbmRpbmcnKS5kYXRhKCckYmluZGluZycsIGF0dHIubmdCaW5kSHRtbCk7CgogICAgdmFyIHBhcnNlZCA9ICRwYXJzZShhdHRyLm5nQmluZEh0bWwpOwogICAgZnVuY3Rpb24gZ2V0U3RyaW5nVmFsdWUoKSB7IHJldHVybiAocGFyc2VkKHNjb3BlKSB8fCAnJykudG9TdHJpbmcoKTsgfQoKICAgIHNjb3BlLiR3YXRjaChnZXRTdHJpbmdWYWx1ZSwgZnVuY3Rpb24gbmdCaW5kSHRtbFdhdGNoQWN0aW9uKHZhbHVlKSB7CiAgICAgIGVsZW1lbnQuaHRtbCgkc2NlLmdldFRydXN0ZWRIdG1sKHBhcnNlZChzY29wZSkpIHx8ICcnKTsKICAgIH0pOwogIH07Cn1dOwoKZnVuY3Rpb24gY2xhc3NEaXJlY3RpdmUobmFtZSwgc2VsZWN0b3IpIHsKICBuYW1lID0gJ25nQ2xhc3MnICsgbmFtZTsKICByZXR1cm4gWyckYW5pbWF0ZScsIGZ1bmN0aW9uKCRhbmltYXRlKSB7CiAgICByZXR1cm4gewogICAgICByZXN0cmljdDogJ0FDJywKICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHsKICAgICAgICB2YXIgb2xkVmFsOwoKICAgICAgICBzY29wZS4kd2F0Y2goYXR0cltuYW1lXSwgbmdDbGFzc1dhdGNoQWN0aW9uLCB0cnVlKTsKCiAgICAgICAgYXR0ci4kb2JzZXJ2ZSgnY2xhc3MnLCBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgICAgbmdDbGFzc1dhdGNoQWN0aW9uKHNjb3BlLiRldmFsKGF0dHJbbmFtZV0pKTsKICAgICAgICB9KTsKCgogICAgICAgIGlmIChuYW1lICE9PSAnbmdDbGFzcycpIHsKICAgICAgICAgIHNjb3BlLiR3YXRjaCgnJGluZGV4JywgZnVuY3Rpb24oJGluZGV4LCBvbGQkaW5kZXgpIHsKICAgICAgICAgICAgLy8ganNoaW50IGJpdHdpc2U6IGZhbHNlCiAgICAgICAgICAgIHZhciBtb2QgPSAkaW5kZXggJiAxOwogICAgICAgICAgICBpZiAobW9kICE9PSAob2xkJGluZGV4ICYgMSkpIHsKICAgICAgICAgICAgICB2YXIgY2xhc3NlcyA9IGFycmF5Q2xhc3NlcyhzY29wZS4kZXZhbChhdHRyW25hbWVdKSk7CiAgICAgICAgICAgICAgbW9kID09PSBzZWxlY3RvciA/CiAgICAgICAgICAgICAgICBhZGRDbGFzc2VzKGNsYXNzZXMpIDoKICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzZXMoY2xhc3Nlcyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gYWRkQ2xhc3NlcyhjbGFzc2VzKSB7CiAgICAgICAgICB2YXIgbmV3Q2xhc3NlcyA9IGRpZ2VzdENsYXNzQ291bnRzKGNsYXNzZXMsIDEpOwogICAgICAgICAgYXR0ci4kYWRkQ2xhc3MobmV3Q2xhc3Nlcyk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByZW1vdmVDbGFzc2VzKGNsYXNzZXMpIHsKICAgICAgICAgIHZhciBuZXdDbGFzc2VzID0gZGlnZXN0Q2xhc3NDb3VudHMoY2xhc3NlcywgLTEpOwogICAgICAgICAgYXR0ci4kcmVtb3ZlQ2xhc3MobmV3Q2xhc3Nlcyk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBkaWdlc3RDbGFzc0NvdW50cyAoY2xhc3NlcywgY291bnQpIHsKICAgICAgICAgIHZhciBjbGFzc0NvdW50cyA9IGVsZW1lbnQuZGF0YSgnJGNsYXNzQ291bnRzJykgfHwge307CiAgICAgICAgICB2YXIgY2xhc3Nlc1RvVXBkYXRlID0gW107CiAgICAgICAgICBmb3JFYWNoKGNsYXNzZXMsIGZ1bmN0aW9uIChjbGFzc05hbWUpIHsKICAgICAgICAgICAgaWYgKGNvdW50ID4gMCB8fCBjbGFzc0NvdW50c1tjbGFzc05hbWVdKSB7CiAgICAgICAgICAgICAgY2xhc3NDb3VudHNbY2xhc3NOYW1lXSA9IChjbGFzc0NvdW50c1tjbGFzc05hbWVdIHx8IDApICsgY291bnQ7CiAgICAgICAgICAgICAgaWYgKGNsYXNzQ291bnRzW2NsYXNzTmFtZV0gPT09ICsoY291bnQgPiAwKSkgewogICAgICAgICAgICAgICAgY2xhc3Nlc1RvVXBkYXRlLnB1c2goY2xhc3NOYW1lKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgZWxlbWVudC5kYXRhKCckY2xhc3NDb3VudHMnLCBjbGFzc0NvdW50cyk7CiAgICAgICAgICByZXR1cm4gY2xhc3Nlc1RvVXBkYXRlLmpvaW4oJyAnKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUNsYXNzZXMgKG9sZENsYXNzZXMsIG5ld0NsYXNzZXMpIHsKICAgICAgICAgIHZhciB0b0FkZCA9IGFycmF5RGlmZmVyZW5jZShuZXdDbGFzc2VzLCBvbGRDbGFzc2VzKTsKICAgICAgICAgIHZhciB0b1JlbW92ZSA9IGFycmF5RGlmZmVyZW5jZShvbGRDbGFzc2VzLCBuZXdDbGFzc2VzKTsKICAgICAgICAgIHRvUmVtb3ZlID0gZGlnZXN0Q2xhc3NDb3VudHModG9SZW1vdmUsIC0xKTsKICAgICAgICAgIHRvQWRkID0gZGlnZXN0Q2xhc3NDb3VudHModG9BZGQsIDEpOwoKICAgICAgICAgIGlmICh0b0FkZC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgdG9SZW1vdmUpOwogICAgICAgICAgfSBlbHNlIGlmICh0b1JlbW92ZS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgdG9BZGQpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJGFuaW1hdGUuc2V0Q2xhc3MoZWxlbWVudCwgdG9BZGQsIHRvUmVtb3ZlKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIG5nQ2xhc3NXYXRjaEFjdGlvbihuZXdWYWwpIHsKICAgICAgICAgIGlmIChzZWxlY3RvciA9PT0gdHJ1ZSB8fCBzY29wZS4kaW5kZXggJSAyID09PSBzZWxlY3RvcikgewogICAgICAgICAgICB2YXIgbmV3Q2xhc3NlcyA9IGFycmF5Q2xhc3NlcyhuZXdWYWwgfHwgW10pOwogICAgICAgICAgICBpZiAoIW9sZFZhbCkgewogICAgICAgICAgICAgIGFkZENsYXNzZXMobmV3Q2xhc3Nlcyk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWVxdWFscyhuZXdWYWwsb2xkVmFsKSkgewogICAgICAgICAgICAgIHZhciBvbGRDbGFzc2VzID0gYXJyYXlDbGFzc2VzKG9sZFZhbCk7CiAgICAgICAgICAgICAgdXBkYXRlQ2xhc3NlcyhvbGRDbGFzc2VzLCBuZXdDbGFzc2VzKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgb2xkVmFsID0gc2hhbGxvd0NvcHkobmV3VmFsKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CgogICAgZnVuY3Rpb24gYXJyYXlEaWZmZXJlbmNlKHRva2VuczEsIHRva2VuczIpIHsKICAgICAgdmFyIHZhbHVlcyA9IFtdOwoKICAgICAgb3V0ZXI6CiAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0b2tlbnMxLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIHRva2VuID0gdG9rZW5zMVtpXTsKICAgICAgICBmb3IodmFyIGogPSAwOyBqIDwgdG9rZW5zMi5sZW5ndGg7IGorKykgewogICAgICAgICAgaWYodG9rZW4gPT0gdG9rZW5zMltqXSkgY29udGludWUgb3V0ZXI7CiAgICAgICAgfQogICAgICAgIHZhbHVlcy5wdXNoKHRva2VuKTsKICAgICAgfQogICAgICByZXR1cm4gdmFsdWVzOwogICAgfQoKICAgIGZ1bmN0aW9uIGFycmF5Q2xhc3NlcyAoY2xhc3NWYWwpIHsKICAgICAgaWYgKGlzQXJyYXkoY2xhc3NWYWwpKSB7CiAgICAgICAgcmV0dXJuIGNsYXNzVmFsOwogICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKGNsYXNzVmFsKSkgewogICAgICAgIHJldHVybiBjbGFzc1ZhbC5zcGxpdCgnICcpOwogICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGNsYXNzVmFsKSkgewogICAgICAgIHZhciBjbGFzc2VzID0gW10sIGkgPSAwOwogICAgICAgIGZvckVhY2goY2xhc3NWYWwsIGZ1bmN0aW9uKHYsIGspIHsKICAgICAgICAgIGlmICh2KSB7CiAgICAgICAgICAgIGNsYXNzZXMgPSBjbGFzc2VzLmNvbmNhdChrLnNwbGl0KCcgJykpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBjbGFzc2VzOwogICAgICB9CiAgICAgIHJldHVybiBjbGFzc1ZhbDsKICAgIH0KICB9XTsKfQoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgbmdDbGFzcwogKiBAcmVzdHJpY3QgQUMKICoKICogQGRlc2NyaXB0aW9uCiAqIFRoZSBgbmdDbGFzc2AgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gZHluYW1pY2FsbHkgc2V0IENTUyBjbGFzc2VzIG9uIGFuIEhUTUwgZWxlbWVudCBieSBkYXRhYmluZGluZwogKiBhbiBleHByZXNzaW9uIHRoYXQgcmVwcmVzZW50cyBhbGwgY2xhc3NlcyB0byBiZSBhZGRlZC4KICoKICogVGhlIGRpcmVjdGl2ZSBvcGVyYXRlcyBpbiB0aHJlZSBkaWZmZXJlbnQgd2F5cywgZGVwZW5kaW5nIG9uIHdoaWNoIG9mIHRocmVlIHR5cGVzIHRoZSBleHByZXNzaW9uCiAqIGV2YWx1YXRlcyB0bzoKICoKICogMS4gSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGUgc3RyaW5nIHNob3VsZCBiZSBvbmUgb3IgbW9yZSBzcGFjZS1kZWxpbWl0ZWQgY2xhc3MKICogbmFtZXMuCiAqCiAqIDIuIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhbiBhcnJheSwgZWFjaCBlbGVtZW50IG9mIHRoZSBhcnJheSBzaG91bGQgYmUgYSBzdHJpbmcgdGhhdCBpcwogKiBvbmUgb3IgbW9yZSBzcGFjZS1kZWxpbWl0ZWQgY2xhc3MgbmFtZXMuCiAqCiAqIDMuIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhbiBvYmplY3QsIHRoZW4gZm9yIGVhY2gga2V5LXZhbHVlIHBhaXIgb2YgdGhlCiAqIG9iamVjdCB3aXRoIGEgdHJ1dGh5IHZhbHVlIHRoZSBjb3JyZXNwb25kaW5nIGtleSBpcyB1c2VkIGFzIGEgY2xhc3MgbmFtZS4KICoKICogVGhlIGRpcmVjdGl2ZSB3b24ndCBhZGQgZHVwbGljYXRlIGNsYXNzZXMgaWYgYSBwYXJ0aWN1bGFyIGNsYXNzIHdhcyBhbHJlYWR5IHNldC4KICoKICogV2hlbiB0aGUgZXhwcmVzc2lvbiBjaGFuZ2VzLCB0aGUgcHJldmlvdXNseSBhZGRlZCBjbGFzc2VzIGFyZSByZW1vdmVkIGFuZCBvbmx5IHRoZW4gdGhlCiAqIG5ldyBjbGFzc2VzIGFyZSBhZGRlZC4KICoKICogQGFuaW1hdGlvbnMKICogYWRkIC0gaGFwcGVucyBqdXN0IGJlZm9yZSB0aGUgY2xhc3MgaXMgYXBwbGllZCB0byB0aGUgZWxlbWVudAogKiByZW1vdmUgLSBoYXBwZW5zIGp1c3QgYmVmb3JlIHRoZSBjbGFzcyBpcyByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnQKICoKICogQGVsZW1lbnQgQU5ZCiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDbGFzcyB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsLiBUaGUgcmVzdWx0CiAqICAgb2YgdGhlIGV2YWx1YXRpb24gY2FuIGJlIGEgc3RyaW5nIHJlcHJlc2VudGluZyBzcGFjZSBkZWxpbWl0ZWQgY2xhc3MKICogICBuYW1lcywgYW4gYXJyYXksIG9yIGEgbWFwIG9mIGNsYXNzIG5hbWVzIHRvIGJvb2xlYW4gdmFsdWVzLiBJbiB0aGUgY2FzZSBvZiBhIG1hcCwgdGhlCiAqICAgbmFtZXMgb2YgdGhlIHByb3BlcnRpZXMgd2hvc2UgdmFsdWVzIGFyZSB0cnV0aHkgd2lsbCBiZSBhZGRlZCBhcyBjc3MgY2xhc3NlcyB0byB0aGUKICogICBlbGVtZW50LgogKgogKiBAZXhhbXBsZSBFeGFtcGxlIHRoYXQgZGVtb25zdHJhdGVzIGJhc2ljIGJpbmRpbmdzIHZpYSBuZ0NsYXNzIGRpcmVjdGl2ZS4KICAgPGV4YW1wbGU+CiAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgICA8cCBuZy1jbGFzcz0ie3N0cmlrZTogZGVsZXRlZCwgYm9sZDogaW1wb3J0YW50LCByZWQ6IGVycm9yfSI+TWFwIFN5bnRheCBFeGFtcGxlPC9wPgogICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBuZy1tb2RlbD0iZGVsZXRlZCI+IGRlbGV0ZWQgKGFwcGx5ICJzdHJpa2UiIGNsYXNzKTxicj4KICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmctbW9kZWw9ImltcG9ydGFudCI+IGltcG9ydGFudCAoYXBwbHkgImJvbGQiIGNsYXNzKTxicj4KICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmctbW9kZWw9ImVycm9yIj4gZXJyb3IgKGFwcGx5ICJyZWQiIGNsYXNzKQogICAgICAgPGhyPgogICAgICAgPHAgbmctY2xhc3M9InN0eWxlIj5Vc2luZyBTdHJpbmcgU3ludGF4PC9wPgogICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5nLW1vZGVsPSJzdHlsZSIgcGxhY2Vob2xkZXI9IlR5cGU6IGJvbGQgc3RyaWtlIHJlZCI+CiAgICAgICA8aHI+CiAgICAgICA8cCBuZy1jbGFzcz0iW3N0eWxlMSwgc3R5bGUyLCBzdHlsZTNdIj5Vc2luZyBBcnJheSBTeW50YXg8L3A+CiAgICAgICA8aW5wdXQgbmctbW9kZWw9InN0eWxlMSIgcGxhY2Vob2xkZXI9IlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWQiPjxicj4KICAgICAgIDxpbnB1dCBuZy1tb2RlbD0ic3R5bGUyIiBwbGFjZWhvbGRlcj0iVHlwZTogYm9sZCwgc3RyaWtlIG9yIHJlZCI+PGJyPgogICAgICAgPGlucHV0IG5nLW1vZGVsPSJzdHlsZTMiIHBsYWNlaG9sZGVyPSJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkIj48YnI+CiAgICAgPC9maWxlPgogICAgIDxmaWxlIG5hbWU9InN0eWxlLmNzcyI+CiAgICAgICAuc3RyaWtlIHsKICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7CiAgICAgICB9CiAgICAgICAuYm9sZCB7CiAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICB9CiAgICAgICAucmVkIHsKICAgICAgICAgICBjb2xvcjogcmVkOwogICAgICAgfQogICAgIDwvZmlsZT4KICAgICA8ZmlsZSBuYW1lPSJwcm90cmFjdG9yLmpzIiB0eXBlPSJwcm90cmFjdG9yIj4KICAgICAgIHZhciBwcyA9IGVsZW1lbnQuYWxsKGJ5LmNzcygncCcpKTsKCiAgICAgICBpdCgnc2hvdWxkIGxldCB5b3UgdG9nZ2xlIHRoZSBjbGFzcycsIGZ1bmN0aW9uKCkgewoKICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QudG9NYXRjaCgvYm9sZC8pOwogICAgICAgICBleHBlY3QocHMuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLm5vdC50b01hdGNoKC9yZWQvKTsKCiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2ltcG9ydGFudCcpKS5jbGljaygpOwogICAgICAgICBleHBlY3QocHMuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvTWF0Y2goL2JvbGQvKTsKCiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2Vycm9yJykpLmNsaWNrKCk7CiAgICAgICAgIGV4cGVjdChwcy5maXJzdCgpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9NYXRjaCgvcmVkLyk7CiAgICAgICB9KTsKCiAgICAgICBpdCgnc2hvdWxkIGxldCB5b3UgdG9nZ2xlIHN0cmluZyBleGFtcGxlJywgZnVuY3Rpb24oKSB7CiAgICAgICAgIGV4cGVjdChwcy5nZXQoMSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b0JlKCcnKTsKICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUnKSkuY2xlYXIoKTsKICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUnKSkuc2VuZEtleXMoJ3JlZCcpOwogICAgICAgICBleHBlY3QocHMuZ2V0KDEpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9CZSgncmVkJyk7CiAgICAgICB9KTsKCiAgICAgICBpdCgnYXJyYXkgZXhhbXBsZSBzaG91bGQgaGF2ZSAzIGNsYXNzZXMnLCBmdW5jdGlvbigpIHsKICAgICAgICAgZXhwZWN0KHBzLmxhc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpOwogICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzdHlsZTEnKSkuc2VuZEtleXMoJ2JvbGQnKTsKICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUyJykpLnNlbmRLZXlzKCdzdHJpa2UnKTsKICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUzJykpLnNlbmRLZXlzKCdyZWQnKTsKICAgICAgICAgZXhwZWN0KHBzLmxhc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJ2JvbGQgc3RyaWtlIHJlZCcpOwogICAgICAgfSk7CiAgICAgPC9maWxlPgogICA8L2V4YW1wbGU+CgogICAjIyBBbmltYXRpb25zCgogICBUaGUgZXhhbXBsZSBiZWxvdyBkZW1vbnN0cmF0ZXMgaG93IHRvIHBlcmZvcm0gYW5pbWF0aW9ucyB1c2luZyBuZ0NsYXNzLgoKICAgPGV4YW1wbGUgbW9kdWxlPSJuZ0FuaW1hdGUiIGRlcHM9ImFuZ3VsYXItYW5pbWF0ZS5qcyIgYW5pbWF0aW9ucz0idHJ1ZSI+CiAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgIDxpbnB1dCBpZD0ic2V0YnRuIiB0eXBlPSJidXR0b24iIHZhbHVlPSJzZXQiIG5nLWNsaWNrPSJteVZhcj0nbXktY2xhc3MnIj4KICAgICAgPGlucHV0IGlkPSJjbGVhcmJ0biIgdHlwZT0iYnV0dG9uIiB2YWx1ZT0iY2xlYXIiIG5nLWNsaWNrPSJteVZhcj0nJyI+CiAgICAgIDxicj4KICAgICAgPHNwYW4gY2xhc3M9ImJhc2UtY2xhc3MiIG5nLWNsYXNzPSJteVZhciI+U2FtcGxlIFRleHQ8L3NwYW4+CiAgICAgPC9maWxlPgogICAgIDxmaWxlIG5hbWU9InN0eWxlLmNzcyI+CiAgICAgICAuYmFzZS1jbGFzcyB7CiAgICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjphbGwgY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSAwLjVzOwogICAgICAgICB0cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7CiAgICAgICB9CgogICAgICAgLmJhc2UtY2xhc3MubXktY2xhc3MgewogICAgICAgICBjb2xvcjogcmVkOwogICAgICAgICBmb250LXNpemU6M2VtOwogICAgICAgfQogICAgIDwvZmlsZT4KICAgICA8ZmlsZSBuYW1lPSJwcm90cmFjdG9yLmpzIiB0eXBlPSJwcm90cmFjdG9yIj4KICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctY2xhc3MnLCBmdW5jdGlvbigpIHsKICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcuYmFzZS1jbGFzcycpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLm5vdC4KICAgICAgICAgICB0b01hdGNoKC9teS1jbGFzcy8pOwoKICAgICAgICAgZWxlbWVudChieS5pZCgnc2V0YnRuJykpLmNsaWNrKCk7CgogICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJy5iYXNlLWNsYXNzJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuCiAgICAgICAgICAgdG9NYXRjaCgvbXktY2xhc3MvKTsKCiAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2NsZWFyYnRuJykpLmNsaWNrKCk7CgogICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJy5iYXNlLWNsYXNzJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkubm90LgogICAgICAgICAgIHRvTWF0Y2goL215LWNsYXNzLyk7CiAgICAgICB9KTsKICAgICA8L2ZpbGU+CiAgIDwvZXhhbXBsZT4KCgogICAjIyBuZ0NsYXNzIGFuZCBwcmUtZXhpc3RpbmcgQ1NTMyBUcmFuc2l0aW9ucy9BbmltYXRpb25zCiAgIFRoZSBuZ0NsYXNzIGRpcmVjdGl2ZSBzdGlsbCBzdXBwb3J0cyBDU1MzIFRyYW5zaXRpb25zL0FuaW1hdGlvbnMgZXZlbiBpZiB0aGV5IGRvIG5vdCBmb2xsb3cgdGhlIG5nQW5pbWF0ZSBDU1MgbmFtaW5nIHN0cnVjdHVyZS4KICAgVXBvbiBhbmltYXRpb24gbmdBbmltYXRlIHdpbGwgYXBwbHkgc3VwcGxlbWVudGFyeSBDU1MgY2xhc3NlcyB0byB0cmFjayB0aGUgc3RhcnQgYW5kIGVuZCBvZiBhbiBhbmltYXRpb24sIGJ1dCB0aGlzIHdpbGwgbm90IGhpbmRlcgogICBhbnkgcHJlLWV4aXN0aW5nIENTUyB0cmFuc2l0aW9ucyBhbHJlYWR5IG9uIHRoZSBlbGVtZW50LiBUbyBnZXQgYW4gaWRlYSBvZiB3aGF0IGhhcHBlbnMgZHVyaW5nIGEgY2xhc3MtYmFzZWQgYW5pbWF0aW9uLCBiZSBzdXJlCiAgIHRvIHZpZXcgdGhlIHN0ZXAgYnkgc3RlcCBkZXRhaWxzIG9mIHtAbGluayBuZ0FuaW1hdGUuJGFuaW1hdGUjYWRkY2xhc3MgJGFuaW1hdGUuYWRkQ2xhc3N9IGFuZAogICB7QGxpbmsgbmdBbmltYXRlLiRhbmltYXRlI3JlbW92ZWNsYXNzICRhbmltYXRlLnJlbW92ZUNsYXNzfS4KICovCnZhciBuZ0NsYXNzRGlyZWN0aXZlID0gY2xhc3NEaXJlY3RpdmUoJycsIHRydWUpOwoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgbmdDbGFzc09kZAogKiBAcmVzdHJpY3QgQUMKICoKICogQGRlc2NyaXB0aW9uCiAqIFRoZSBgbmdDbGFzc09kZGAgYW5kIGBuZ0NsYXNzRXZlbmAgZGlyZWN0aXZlcyB3b3JrIGV4YWN0bHkgYXMKICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsYXNzIG5nQ2xhc3N9LCBleGNlcHQgdGhleSB3b3JrIGluCiAqIGNvbmp1bmN0aW9uIHdpdGggYG5nUmVwZWF0YCBhbmQgdGFrZSBlZmZlY3Qgb25seSBvbiBvZGQgKGV2ZW4pIHJvd3MuCiAqCiAqIFRoaXMgZGlyZWN0aXZlIGNhbiBiZSBhcHBsaWVkIG9ubHkgd2l0aGluIHRoZSBzY29wZSBvZiBhbgogKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fS4KICoKICogQGVsZW1lbnQgQU5ZCiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDbGFzc09kZCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsLiBUaGUgcmVzdWx0CiAqICAgb2YgdGhlIGV2YWx1YXRpb24gY2FuIGJlIGEgc3RyaW5nIHJlcHJlc2VudGluZyBzcGFjZSBkZWxpbWl0ZWQgY2xhc3MgbmFtZXMgb3IgYW4gYXJyYXkuCiAqCiAqIEBleGFtcGxlCiAgIDxleGFtcGxlPgogICAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgICAgIDxvbCBuZy1pbml0PSJuYW1lcz1bJ0pvaG4nLCAnTWFyeScsICdDYXRlJywgJ1N1eiddIj4KICAgICAgICAgIDxsaSBuZy1yZXBlYXQ9Im5hbWUgaW4gbmFtZXMiPgogICAgICAgICAgIDxzcGFuIG5nLWNsYXNzLW9kZD0iJ29kZCciIG5nLWNsYXNzLWV2ZW49IidldmVuJyI+CiAgICAgICAgICAgICB7e25hbWV9fQogICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgIDwvbGk+CiAgICAgICAgPC9vbD4KICAgICA8L2ZpbGU+CiAgICAgPGZpbGUgbmFtZT0ic3R5bGUuY3NzIj4KICAgICAgIC5vZGQgewogICAgICAgICBjb2xvcjogcmVkOwogICAgICAgfQogICAgICAgLmV2ZW4gewogICAgICAgICBjb2xvcjogYmx1ZTsKICAgICAgIH0KICAgICA8L2ZpbGU+CiAgICAgPGZpbGUgbmFtZT0icHJvdHJhY3Rvci5qcyIgdHlwZT0icHJvdHJhY3RvciI+CiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWNsYXNzLW9kZCBhbmQgbmctY2xhc3MtZXZlbicsIGZ1bmN0aW9uKCkgewogICAgICAgICBleHBlY3QoZWxlbWVudChieS5yZXBlYXRlcignbmFtZSBpbiBuYW1lcycpLnJvdygwKS5jb2x1bW4oJ25hbWUnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS4KICAgICAgICAgICB0b01hdGNoKC9vZGQvKTsKICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkucmVwZWF0ZXIoJ25hbWUgaW4gbmFtZXMnKS5yb3coMSkuY29sdW1uKCduYW1lJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuCiAgICAgICAgICAgdG9NYXRjaCgvZXZlbi8pOwogICAgICAgfSk7CiAgICAgPC9maWxlPgogICA8L2V4YW1wbGU+CiAqLwp2YXIgbmdDbGFzc09kZERpcmVjdGl2ZSA9IGNsYXNzRGlyZWN0aXZlKCdPZGQnLCAwKTsKCi8qKgogKiBAbmdkb2MgZGlyZWN0aXZlCiAqIEBuYW1lIG5nQ2xhc3NFdmVuCiAqIEByZXN0cmljdCBBQwogKgogKiBAZGVzY3JpcHRpb24KICogVGhlIGBuZ0NsYXNzT2RkYCBhbmQgYG5nQ2xhc3NFdmVuYCBkaXJlY3RpdmVzIHdvcmsgZXhhY3RseSBhcwogKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xhc3MgbmdDbGFzc30sIGV4Y2VwdCB0aGV5IHdvcmsgaW4KICogY29uanVuY3Rpb24gd2l0aCBgbmdSZXBlYXRgIGFuZCB0YWtlIGVmZmVjdCBvbmx5IG9uIG9kZCAoZXZlbikgcm93cy4KICoKICogVGhpcyBkaXJlY3RpdmUgY2FuIGJlIGFwcGxpZWQgb25seSB3aXRoaW4gdGhlIHNjb3BlIG9mIGFuCiAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdSZXBlYXQgbmdSZXBlYXR9LgogKgogKiBAZWxlbWVudCBBTlkKICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NsYXNzRXZlbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsLiBUaGUKICogICByZXN1bHQgb2YgdGhlIGV2YWx1YXRpb24gY2FuIGJlIGEgc3RyaW5nIHJlcHJlc2VudGluZyBzcGFjZSBkZWxpbWl0ZWQgY2xhc3MgbmFtZXMgb3IgYW4gYXJyYXkuCiAqCiAqIEBleGFtcGxlCiAgIDxleGFtcGxlPgogICAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgICAgIDxvbCBuZy1pbml0PSJuYW1lcz1bJ0pvaG4nLCAnTWFyeScsICdDYXRlJywgJ1N1eiddIj4KICAgICAgICAgIDxsaSBuZy1yZXBlYXQ9Im5hbWUgaW4gbmFtZXMiPgogICAgICAgICAgIDxzcGFuIG5nLWNsYXNzLW9kZD0iJ29kZCciIG5nLWNsYXNzLWV2ZW49IidldmVuJyI+CiAgICAgICAgICAgICB7e25hbWV9fSAmbmJzcDsgJm5ic3A7ICZuYnNwOwogICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgIDwvbGk+CiAgICAgICAgPC9vbD4KICAgICA8L2ZpbGU+CiAgICAgPGZpbGUgbmFtZT0ic3R5bGUuY3NzIj4KICAgICAgIC5vZGQgewogICAgICAgICBjb2xvcjogcmVkOwogICAgICAgfQogICAgICAgLmV2ZW4gewogICAgICAgICBjb2xvcjogYmx1ZTsKICAgICAgIH0KICAgICA8L2ZpbGU+CiAgICAgPGZpbGUgbmFtZT0icHJvdHJhY3Rvci5qcyIgdHlwZT0icHJvdHJhY3RvciI+CiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWNsYXNzLW9kZCBhbmQgbmctY2xhc3MtZXZlbicsIGZ1bmN0aW9uKCkgewogICAgICAgICBleHBlY3QoZWxlbWVudChieS5yZXBlYXRlcignbmFtZSBpbiBuYW1lcycpLnJvdygwKS5jb2x1bW4oJ25hbWUnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS4KICAgICAgICAgICB0b01hdGNoKC9vZGQvKTsKICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkucmVwZWF0ZXIoJ25hbWUgaW4gbmFtZXMnKS5yb3coMSkuY29sdW1uKCduYW1lJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuCiAgICAgICAgICAgdG9NYXRjaCgvZXZlbi8pOwogICAgICAgfSk7CiAgICAgPC9maWxlPgogICA8L2V4YW1wbGU+CiAqLwp2YXIgbmdDbGFzc0V2ZW5EaXJlY3RpdmUgPSBjbGFzc0RpcmVjdGl2ZSgnRXZlbicsIDEpOwoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgbmdDbG9hawogKiBAcmVzdHJpY3QgQUMKICoKICogQGRlc2NyaXB0aW9uCiAqIFRoZSBgbmdDbG9ha2AgZGlyZWN0aXZlIGlzIHVzZWQgdG8gcHJldmVudCB0aGUgQW5ndWxhciBodG1sIHRlbXBsYXRlIGZyb20gYmVpbmcgYnJpZWZseQogKiBkaXNwbGF5ZWQgYnkgdGhlIGJyb3dzZXIgaW4gaXRzIHJhdyAodW5jb21waWxlZCkgZm9ybSB3aGlsZSB5b3VyIGFwcGxpY2F0aW9uIGlzIGxvYWRpbmcuIFVzZSB0aGlzCiAqIGRpcmVjdGl2ZSB0byBhdm9pZCB0aGUgdW5kZXNpcmFibGUgZmxpY2tlciBlZmZlY3QgY2F1c2VkIGJ5IHRoZSBodG1sIHRlbXBsYXRlIGRpc3BsYXkuCiAqCiAqIFRoZSBkaXJlY3RpdmUgY2FuIGJlIGFwcGxpZWQgdG8gdGhlIGA8Ym9keT5gIGVsZW1lbnQsIGJ1dCB0aGUgcHJlZmVycmVkIHVzYWdlIGlzIHRvIGFwcGx5CiAqIG11bHRpcGxlIGBuZ0Nsb2FrYCBkaXJlY3RpdmVzIHRvIHNtYWxsIHBvcnRpb25zIG9mIHRoZSBwYWdlIHRvIHBlcm1pdCBwcm9ncmVzc2l2ZSByZW5kZXJpbmcKICogb2YgdGhlIGJyb3dzZXIgdmlldy4KICoKICogYG5nQ2xvYWtgIHdvcmtzIGluIGNvb3BlcmF0aW9uIHdpdGggdGhlIGZvbGxvd2luZyBjc3MgcnVsZSBlbWJlZGRlZCB3aXRoaW4gYGFuZ3VsYXIuanNgIGFuZAogKiBgYW5ndWxhci5taW4uanNgLgogKiBGb3IgQ1NQIG1vZGUgcGxlYXNlIGFkZCBgYW5ndWxhci1jc3AuY3NzYCB0byB5b3VyIGh0bWwgZmlsZSAoc2VlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDc3AgbmdDc3B9KS4KICoKICogYGBgY3NzCiAqIFtuZ1w6Y2xvYWtdLCBbbmctY2xvYWtdLCBbZGF0YS1uZy1jbG9ha10sIFt4LW5nLWNsb2FrXSwgLm5nLWNsb2FrLCAueC1uZy1jbG9hayB7CiAqICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OwogKiB9CiAqIGBgYAogKgogKiBXaGVuIHRoaXMgY3NzIHJ1bGUgaXMgbG9hZGVkIGJ5IHRoZSBicm93c2VyLCBhbGwgaHRtbCBlbGVtZW50cyAoaW5jbHVkaW5nIHRoZWlyIGNoaWxkcmVuKSB0aGF0CiAqIGFyZSB0YWdnZWQgd2l0aCB0aGUgYG5nQ2xvYWtgIGRpcmVjdGl2ZSBhcmUgaGlkZGVuLiBXaGVuIEFuZ3VsYXIgZW5jb3VudGVycyB0aGlzIGRpcmVjdGl2ZQogKiBkdXJpbmcgdGhlIGNvbXBpbGF0aW9uIG9mIHRoZSB0ZW1wbGF0ZSBpdCBkZWxldGVzIHRoZSBgbmdDbG9ha2AgZWxlbWVudCBhdHRyaWJ1dGUsIG1ha2luZwogKiB0aGUgY29tcGlsZWQgZWxlbWVudCB2aXNpYmxlLgogKgogKiBGb3IgdGhlIGJlc3QgcmVzdWx0LCB0aGUgYGFuZ3VsYXIuanNgIHNjcmlwdCBtdXN0IGJlIGxvYWRlZCBpbiB0aGUgaGVhZCBzZWN0aW9uIG9mIHRoZSBodG1sCiAqIGRvY3VtZW50OyBhbHRlcm5hdGl2ZWx5LCB0aGUgY3NzIHJ1bGUgYWJvdmUgbXVzdCBiZSBpbmNsdWRlZCBpbiB0aGUgZXh0ZXJuYWwgc3R5bGVzaGVldCBvZiB0aGUKICogYXBwbGljYXRpb24uCiAqCiAqIExlZ2FjeSBicm93c2VycywgbGlrZSBJRTcsIGRvIG5vdCBwcm92aWRlIGF0dHJpYnV0ZSBzZWxlY3RvciBzdXBwb3J0IChhZGRlZCBpbiBDU1MgMi4xKSBzbyB0aGV5CiAqIGNhbm5vdCBtYXRjaCB0aGUgYFtuZ1w6Y2xvYWtdYCBzZWxlY3Rvci4gVG8gd29yayBhcm91bmQgdGhpcyBsaW1pdGF0aW9uLCB5b3UgbXVzdCBhZGQgdGhlIGNzcwogKiBjbGFzcyBgbmctY2xvYWtgIGluIGFkZGl0aW9uIHRvIHRoZSBgbmdDbG9ha2AgZGlyZWN0aXZlIGFzIHNob3duIGluIHRoZSBleGFtcGxlIGJlbG93LgogKgogKiBAZWxlbWVudCBBTlkKICoKICogQGV4YW1wbGUKICAgPGV4YW1wbGU+CiAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgICAgPGRpdiBpZD0idGVtcGxhdGUxIiBuZy1jbG9haz57eyAnaGVsbG8nIH19PC9kaXY+CiAgICAgICAgPGRpdiBpZD0idGVtcGxhdGUyIiBuZy1jbG9hayBjbGFzcz0ibmctY2xvYWsiPnt7ICdoZWxsbyBJRTcnIH19PC9kaXY+CiAgICAgPC9maWxlPgogICAgIDxmaWxlIG5hbWU9InByb3RyYWN0b3IuanMiIHR5cGU9InByb3RyYWN0b3IiPgogICAgICAgaXQoJ3Nob3VsZCByZW1vdmUgdGhlIHRlbXBsYXRlIGRpcmVjdGl2ZSBhbmQgY3NzIGNsYXNzJywgZnVuY3Rpb24oKSB7CiAgICAgICAgIGV4cGVjdCgkKCcjdGVtcGxhdGUxJykuZ2V0QXR0cmlidXRlKCduZy1jbG9haycpKS4KICAgICAgICAgICB0b0JlTnVsbCgpOwogICAgICAgICBleHBlY3QoJCgnI3RlbXBsYXRlMicpLmdldEF0dHJpYnV0ZSgnbmctY2xvYWsnKSkuCiAgICAgICAgICAgdG9CZU51bGwoKTsKICAgICAgIH0pOwogICAgIDwvZmlsZT4KICAgPC9leGFtcGxlPgogKgogKi8KdmFyIG5nQ2xvYWtEaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7CiAgY29tcGlsZTogZnVuY3Rpb24oZWxlbWVudCwgYXR0cikgewogICAgYXR0ci4kc2V0KCduZ0Nsb2FrJywgdW5kZWZpbmVkKTsKICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ25nLWNsb2FrJyk7CiAgfQp9KTsKCi8qKgogKiBAbmdkb2MgZGlyZWN0aXZlCiAqIEBuYW1lIG5nQ29udHJvbGxlcgogKgogKiBAZGVzY3JpcHRpb24KICogVGhlIGBuZ0NvbnRyb2xsZXJgIGRpcmVjdGl2ZSBhdHRhY2hlcyBhIGNvbnRyb2xsZXIgY2xhc3MgdG8gdGhlIHZpZXcuIFRoaXMgaXMgYSBrZXkgYXNwZWN0IG9mIGhvdyBhbmd1bGFyCiAqIHN1cHBvcnRzIHRoZSBwcmluY2lwbGVzIGJlaGluZCB0aGUgTW9kZWwtVmlldy1Db250cm9sbGVyIGRlc2lnbiBwYXR0ZXJuLgogKgogKiBNVkMgY29tcG9uZW50cyBpbiBhbmd1bGFyOgogKgogKiAqIE1vZGVsIOKAlCBNb2RlbHMgYXJlIHRoZSBwcm9wZXJ0aWVzIG9mIGEgc2NvcGU7IHNjb3BlcyBhcmUgYXR0YWNoZWQgdG8gdGhlIERPTSB3aGVyZSBzY29wZSBwcm9wZXJ0aWVzCiAqICAgYXJlIGFjY2Vzc2VkIHRocm91Z2ggYmluZGluZ3MuCiAqICogVmlldyDigJQgVGhlIHRlbXBsYXRlIChIVE1MIHdpdGggZGF0YSBiaW5kaW5ncykgdGhhdCBpcyByZW5kZXJlZCBpbnRvIHRoZSBWaWV3LgogKiAqIENvbnRyb2xsZXIg4oCUIFRoZSBgbmdDb250cm9sbGVyYCBkaXJlY3RpdmUgc3BlY2lmaWVzIGEgQ29udHJvbGxlciBjbGFzczsgdGhlIGNsYXNzIGNvbnRhaW5zIGJ1c2luZXNzCiAqICAgbG9naWMgYmVoaW5kIHRoZSBhcHBsaWNhdGlvbiB0byBkZWNvcmF0ZSB0aGUgc2NvcGUgd2l0aCBmdW5jdGlvbnMgYW5kIHZhbHVlcwogKgogKiBOb3RlIHRoYXQgeW91IGNhbiBhbHNvIGF0dGFjaCBjb250cm9sbGVycyB0byB0aGUgRE9NIGJ5IGRlY2xhcmluZyBpdCBpbiBhIHJvdXRlIGRlZmluaXRpb24KICogdmlhIHRoZSB7QGxpbmsgbmdSb3V0ZS4kcm91dGUgJHJvdXRlfSBzZXJ2aWNlLiBBIGNvbW1vbiBtaXN0YWtlIGlzIHRvIGRlY2xhcmUgdGhlIGNvbnRyb2xsZXIKICogYWdhaW4gdXNpbmcgYG5nLWNvbnRyb2xsZXJgIGluIHRoZSB0ZW1wbGF0ZSBpdHNlbGYuICBUaGlzIHdpbGwgY2F1c2UgdGhlIGNvbnRyb2xsZXIgdG8gYmUgYXR0YWNoZWQKICogYW5kIGV4ZWN1dGVkIHR3aWNlLgogKgogKiBAZWxlbWVudCBBTlkKICogQHNjb3BlCiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDb250cm9sbGVyIE5hbWUgb2YgYSBnbG9iYWxseSBhY2Nlc3NpYmxlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIG9yIGFuCiAqICAgICB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSB0aGF0IG9uIHRoZSBjdXJyZW50IHNjb3BlIGV2YWx1YXRlcyB0byBhCiAqICAgICBjb25zdHJ1Y3RvciBmdW5jdGlvbi4gVGhlIGNvbnRyb2xsZXIgaW5zdGFuY2UgY2FuIGJlIHB1Ymxpc2hlZCBpbnRvIGEgc2NvcGUgcHJvcGVydHkKICogICAgIGJ5IHNwZWNpZnlpbmcgYGFzIHByb3BlcnR5TmFtZWAuCiAqCiAqIEBleGFtcGxlCiAqIEhlcmUgaXMgYSBzaW1wbGUgZm9ybSBmb3IgZWRpdGluZyB1c2VyIGNvbnRhY3QgaW5mb3JtYXRpb24uIEFkZGluZywgcmVtb3ZpbmcsIGNsZWFyaW5nLCBhbmQKICogZ3JlZXRpbmcgYXJlIG1ldGhvZHMgZGVjbGFyZWQgb24gdGhlIGNvbnRyb2xsZXIgKHNlZSBzb3VyY2UgdGFiKS4gVGhlc2UgbWV0aG9kcyBjYW4KICogZWFzaWx5IGJlIGNhbGxlZCBmcm9tIHRoZSBhbmd1bGFyIG1hcmt1cC4gQW55IGNoYW5nZXMgdG8gdGhlIGRhdGEgYXJlIGF1dG9tYXRpY2FsbHkgcmVmbGVjdGVkCiAqIGluIHRoZSBWaWV3IHdpdGhvdXQgdGhlIG5lZWQgZm9yIGEgbWFudWFsIHVwZGF0ZS4KICoKICogVHdvIGRpZmZlcmVudCBkZWNsYXJhdGlvbiBzdHlsZXMgYXJlIGluY2x1ZGVkIGJlbG93OgogKgogKiAqIG9uZSBiaW5kcyBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIGRpcmVjdGx5IG9udG8gdGhlIGNvbnRyb2xsZXIgdXNpbmcgYHRoaXNgOgogKiBgbmctY29udHJvbGxlcj0iU2V0dGluZ3NDb250cm9sbGVyMSBhcyBzZXR0aW5ncyJgCiAqICogb25lIGluamVjdHMgYCRzY29wZWAgaW50byB0aGUgY29udHJvbGxlcjoKICogYG5nLWNvbnRyb2xsZXI9IlNldHRpbmdzQ29udHJvbGxlcjIiYAogKgogKiBUaGUgc2Vjb25kIG9wdGlvbiBpcyBtb3JlIGNvbW1vbiBpbiB0aGUgQW5ndWxhciBjb21tdW5pdHksIGFuZCBpcyBnZW5lcmFsbHkgdXNlZCBpbiBib2lsZXJwbGF0ZXMKICogYW5kIGluIHRoaXMgZ3VpZGUuIEhvd2V2ZXIsIHRoZXJlIGFyZSBhZHZhbnRhZ2VzIHRvIGJpbmRpbmcgcHJvcGVydGllcyBkaXJlY3RseSB0byB0aGUgY29udHJvbGxlcgogKiBhbmQgYXZvaWRpbmcgc2NvcGUuCiAqCiAqICogVXNpbmcgYGNvbnRyb2xsZXIgYXNgIG1ha2VzIGl0IG9idmlvdXMgd2hpY2ggY29udHJvbGxlciB5b3UgYXJlIGFjY2Vzc2luZyBpbiB0aGUgdGVtcGxhdGUgd2hlbgogKiBtdWx0aXBsZSBjb250cm9sbGVycyBhcHBseSB0byBhbiBlbGVtZW50LgogKiAqIElmIHlvdSBhcmUgd3JpdGluZyB5b3VyIGNvbnRyb2xsZXJzIGFzIGNsYXNzZXMgeW91IGhhdmUgZWFzaWVyIGFjY2VzcyB0byB0aGUgcHJvcGVydGllcyBhbmQKICogbWV0aG9kcywgd2hpY2ggd2lsbCBhcHBlYXIgb24gdGhlIHNjb3BlLCBmcm9tIGluc2lkZSB0aGUgY29udHJvbGxlciBjb2RlLgogKiAqIFNpbmNlIHRoZXJlIGlzIGFsd2F5cyBhIGAuYCBpbiB0aGUgYmluZGluZ3MsIHlvdSBkb24ndCBoYXZlIHRvIHdvcnJ5IGFib3V0IHByb3RvdHlwYWwKICogaW5oZXJpdGFuY2UgbWFza2luZyBwcmltaXRpdmVzLgogKgogKiBUaGlzIGV4YW1wbGUgZGVtb25zdHJhdGVzIHRoZSBgY29udHJvbGxlciBhc2Agc3ludGF4LgogKgogKiA8ZXhhbXBsZSBuYW1lPSJuZ0NvbnRyb2xsZXJBcyI+CiAqICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAqICAgIDxkaXYgaWQ9ImN0cmwtYXMtZXhtcGwiIG5nLWNvbnRyb2xsZXI9IlNldHRpbmdzQ29udHJvbGxlcjEgYXMgc2V0dGluZ3MiPgogKiAgICAgIE5hbWU6IDxpbnB1dCB0eXBlPSJ0ZXh0IiBuZy1tb2RlbD0ic2V0dGluZ3MubmFtZSIvPgogKiAgICAgIFsgPGEgaHJlZj0iIiBuZy1jbGljaz0ic2V0dGluZ3MuZ3JlZXQoKSI+Z3JlZXQ8L2E+IF08YnIvPgogKiAgICAgIENvbnRhY3Q6CiAqICAgICAgPHVsPgogKiAgICAgICAgPGxpIG5nLXJlcGVhdD0iY29udGFjdCBpbiBzZXR0aW5ncy5jb250YWN0cyI+CiAqICAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9ImNvbnRhY3QudHlwZSI+CiAqICAgICAgICAgICAgIDxvcHRpb24+cGhvbmU8L29wdGlvbj4KICogICAgICAgICAgICAgPG9wdGlvbj5lbWFpbDwvb3B0aW9uPgogKiAgICAgICAgICA8L3NlbGVjdD4KICogICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5nLW1vZGVsPSJjb250YWN0LnZhbHVlIi8+CiAqICAgICAgICAgIFsgPGEgaHJlZj0iIiBuZy1jbGljaz0ic2V0dGluZ3MuY2xlYXJDb250YWN0KGNvbnRhY3QpIj5jbGVhcjwvYT4KICogICAgICAgICAgfCA8YSBocmVmPSIiIG5nLWNsaWNrPSJzZXR0aW5ncy5yZW1vdmVDb250YWN0KGNvbnRhY3QpIj5YPC9hPiBdCiAqICAgICAgICA8L2xpPgogKiAgICAgICAgPGxpPlsgPGEgaHJlZj0iIiBuZy1jbGljaz0ic2V0dGluZ3MuYWRkQ29udGFjdCgpIj5hZGQ8L2E+IF08L2xpPgogKiAgICAgPC91bD4KICogICAgPC9kaXY+CiAqICAgPC9maWxlPgogKiAgIDxmaWxlIG5hbWU9ImFwcC5qcyI+CiAqICAgIGZ1bmN0aW9uIFNldHRpbmdzQ29udHJvbGxlcjEoKSB7CiAqICAgICAgdGhpcy5uYW1lID0gIkpvaG4gU21pdGgiOwogKiAgICAgIHRoaXMuY29udGFjdHMgPSBbCiAqICAgICAgICB7dHlwZTogJ3Bob25lJywgdmFsdWU6ICc0MDggNTU1IDEyMTInfSwKICogICAgICAgIHt0eXBlOiAnZW1haWwnLCB2YWx1ZTogJ2pvaG4uc21pdGhAZXhhbXBsZS5vcmcnfSBdOwogKiAgICB9CiAqCiAqICAgIFNldHRpbmdzQ29udHJvbGxlcjEucHJvdG90eXBlLmdyZWV0ID0gZnVuY3Rpb24oKSB7CiAqICAgICAgYWxlcnQodGhpcy5uYW1lKTsKICogICAgfTsKICoKICogICAgU2V0dGluZ3NDb250cm9sbGVyMS5wcm90b3R5cGUuYWRkQ29udGFjdCA9IGZ1bmN0aW9uKCkgewogKiAgICAgIHRoaXMuY29udGFjdHMucHVzaCh7dHlwZTogJ2VtYWlsJywgdmFsdWU6ICd5b3VybmFtZUBleGFtcGxlLm9yZyd9KTsKICogICAgfTsKICoKICogICAgU2V0dGluZ3NDb250cm9sbGVyMS5wcm90b3R5cGUucmVtb3ZlQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3RUb1JlbW92ZSkgewogKiAgICAgdmFyIGluZGV4ID0gdGhpcy5jb250YWN0cy5pbmRleE9mKGNvbnRhY3RUb1JlbW92ZSk7CiAqICAgICAgdGhpcy5jb250YWN0cy5zcGxpY2UoaW5kZXgsIDEpOwogKiAgICB9OwogKgogKiAgICBTZXR0aW5nc0NvbnRyb2xsZXIxLnByb3RvdHlwZS5jbGVhckNvbnRhY3QgPSBmdW5jdGlvbihjb250YWN0KSB7CiAqICAgICAgY29udGFjdC50eXBlID0gJ3Bob25lJzsKICogICAgICBjb250YWN0LnZhbHVlID0gJyc7CiAqICAgIH07CiAqICAgPC9maWxlPgogKiAgIDxmaWxlIG5hbWU9InByb3RyYWN0b3IuanMiIHR5cGU9InByb3RyYWN0b3IiPgogKiAgICAgaXQoJ3Nob3VsZCBjaGVjayBjb250cm9sbGVyIGFzJywgZnVuY3Rpb24oKSB7CiAqICAgICAgIHZhciBjb250YWluZXIgPSBlbGVtZW50KGJ5LmlkKCdjdHJsLWFzLWV4bXBsJykpOwogKiAgICAgICAgIGV4cGVjdChjb250YWluZXIuZmluZEVsZW1lbnQoYnkubW9kZWwoJ3NldHRpbmdzLm5hbWUnKSkKICogICAgICAgICAgIC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvQmUoJ0pvaG4gU21pdGgnKTsKICoKICogICAgICAgdmFyIGZpcnN0UmVwZWF0ID0KICogICAgICAgICAgIGNvbnRhaW5lci5maW5kRWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBzZXR0aW5ncy5jb250YWN0cycpLnJvdygwKSk7CiAqICAgICAgIHZhciBzZWNvbmRSZXBlYXQgPQogKiAgICAgICAgICAgY29udGFpbmVyLmZpbmRFbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIHNldHRpbmdzLmNvbnRhY3RzJykucm93KDEpKTsKICoKICogICAgICAgZXhwZWN0KGZpcnN0UmVwZWF0LmZpbmRFbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkKICogICAgICAgICAgIC50b0JlKCc0MDggNTU1IDEyMTInKTsKICoKICogICAgICAgZXhwZWN0KHNlY29uZFJlcGVhdC5maW5kRWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpCiAqICAgICAgICAgICAudG9CZSgnam9obi5zbWl0aEBleGFtcGxlLm9yZycpOwogKgogKiAgICAgICBmaXJzdFJlcGVhdC5maW5kRWxlbWVudChieS5saW5rVGV4dCgnY2xlYXInKSkuY2xpY2soKTsKICoKICogICAgICAgZXhwZWN0KGZpcnN0UmVwZWF0LmZpbmRFbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkKICogICAgICAgICAgIC50b0JlKCcnKTsKICoKICogICAgICAgY29udGFpbmVyLmZpbmRFbGVtZW50KGJ5LmxpbmtUZXh0KCdhZGQnKSkuY2xpY2soKTsKICoKICogICAgICAgZXhwZWN0KGNvbnRhaW5lci5maW5kRWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBzZXR0aW5ncy5jb250YWN0cycpLnJvdygyKSkKICogICAgICAgICAgIC5maW5kRWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKQogKiAgICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkKICogICAgICAgICAgIC50b0JlKCd5b3VybmFtZUBleGFtcGxlLm9yZycpOwogKiAgICAgfSk7CiAqICAgPC9maWxlPgogKiA8L2V4YW1wbGU+CiAqCiAqIFRoaXMgZXhhbXBsZSBkZW1vbnN0cmF0ZXMgdGhlICJhdHRhY2ggdG8gYCRzY29wZWAiIHN0eWxlIG9mIGNvbnRyb2xsZXIuCiAqCiAqIDxleGFtcGxlIG5hbWU9Im5nQ29udHJvbGxlciI+CiAqICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICogICA8ZGl2IGlkPSJjdHJsLWV4bXBsIiBuZy1jb250cm9sbGVyPSJTZXR0aW5nc0NvbnRyb2xsZXIyIj4KICogICAgIE5hbWU6IDxpbnB1dCB0eXBlPSJ0ZXh0IiBuZy1tb2RlbD0ibmFtZSIvPgogKiAgICAgWyA8YSBocmVmPSIiIG5nLWNsaWNrPSJncmVldCgpIj5ncmVldDwvYT4gXTxici8+CiAqICAgICBDb250YWN0OgogKiAgICAgPHVsPgogKiAgICAgICA8bGkgbmctcmVwZWF0PSJjb250YWN0IGluIGNvbnRhY3RzIj4KICogICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPSJjb250YWN0LnR5cGUiPgogKiAgICAgICAgICAgIDxvcHRpb24+cGhvbmU8L29wdGlvbj4KICogICAgICAgICAgICA8b3B0aW9uPmVtYWlsPC9vcHRpb24+CiAqICAgICAgICAgPC9zZWxlY3Q+CiAqICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5nLW1vZGVsPSJjb250YWN0LnZhbHVlIi8+CiAqICAgICAgICAgWyA8YSBocmVmPSIiIG5nLWNsaWNrPSJjbGVhckNvbnRhY3QoY29udGFjdCkiPmNsZWFyPC9hPgogKiAgICAgICAgIHwgPGEgaHJlZj0iIiBuZy1jbGljaz0icmVtb3ZlQ29udGFjdChjb250YWN0KSI+WDwvYT4gXQogKiAgICAgICA8L2xpPgogKiAgICAgICA8bGk+WyA8YSBocmVmPSIiIG5nLWNsaWNrPSJhZGRDb250YWN0KCkiPmFkZDwvYT4gXTwvbGk+CiAqICAgIDwvdWw+CiAqICAgPC9kaXY+CiAqICA8L2ZpbGU+CiAqICA8ZmlsZSBuYW1lPSJhcHAuanMiPgogKiAgIGZ1bmN0aW9uIFNldHRpbmdzQ29udHJvbGxlcjIoJHNjb3BlKSB7CiAqICAgICAkc2NvcGUubmFtZSA9ICJKb2huIFNtaXRoIjsKICogICAgICRzY29wZS5jb250YWN0cyA9IFsKICogICAgICAge3R5cGU6J3Bob25lJywgdmFsdWU6JzQwOCA1NTUgMTIxMid9LAogKiAgICAgICB7dHlwZTonZW1haWwnLCB2YWx1ZTonam9obi5zbWl0aEBleGFtcGxlLm9yZyd9IF07CiAqCiAqICAgICAkc2NvcGUuZ3JlZXQgPSBmdW5jdGlvbigpIHsKICogICAgICAgYWxlcnQoJHNjb3BlLm5hbWUpOwogKiAgICAgfTsKICoKICogICAgICRzY29wZS5hZGRDb250YWN0ID0gZnVuY3Rpb24oKSB7CiAqICAgICAgICRzY29wZS5jb250YWN0cy5wdXNoKHt0eXBlOidlbWFpbCcsIHZhbHVlOid5b3VybmFtZUBleGFtcGxlLm9yZyd9KTsKICogICAgIH07CiAqCiAqICAgICAkc2NvcGUucmVtb3ZlQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3RUb1JlbW92ZSkgewogKiAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUuY29udGFjdHMuaW5kZXhPZihjb250YWN0VG9SZW1vdmUpOwogKiAgICAgICAkc2NvcGUuY29udGFjdHMuc3BsaWNlKGluZGV4LCAxKTsKICogICAgIH07CiAqCiAqICAgICAkc2NvcGUuY2xlYXJDb250YWN0ID0gZnVuY3Rpb24oY29udGFjdCkgewogKiAgICAgICBjb250YWN0LnR5cGUgPSAncGhvbmUnOwogKiAgICAgICBjb250YWN0LnZhbHVlID0gJyc7CiAqICAgICB9OwogKiAgIH0KICogIDwvZmlsZT4KICogIDxmaWxlIG5hbWU9InByb3RyYWN0b3IuanMiIHR5cGU9InByb3RyYWN0b3IiPgogKiAgICBpdCgnc2hvdWxkIGNoZWNrIGNvbnRyb2xsZXInLCBmdW5jdGlvbigpIHsKICogICAgICB2YXIgY29udGFpbmVyID0gZWxlbWVudChieS5pZCgnY3RybC1leG1wbCcpKTsKICoKICogICAgICBleHBlY3QoY29udGFpbmVyLmZpbmRFbGVtZW50KGJ5Lm1vZGVsKCduYW1lJykpCiAqICAgICAgICAgIC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvQmUoJ0pvaG4gU21pdGgnKTsKICoKICogICAgICB2YXIgZmlyc3RSZXBlYXQgPQogKiAgICAgICAgICBjb250YWluZXIuZmluZEVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gY29udGFjdHMnKS5yb3coMCkpOwogKiAgICAgIHZhciBzZWNvbmRSZXBlYXQgPQogKiAgICAgICAgICBjb250YWluZXIuZmluZEVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gY29udGFjdHMnKS5yb3coMSkpOwogKgogKiAgICAgIGV4cGVjdChmaXJzdFJlcGVhdC5maW5kRWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpCiAqICAgICAgICAgIC50b0JlKCc0MDggNTU1IDEyMTInKTsKICogICAgICBleHBlY3Qoc2Vjb25kUmVwZWF0LmZpbmRFbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkKICogICAgICAgICAgLnRvQmUoJ2pvaG4uc21pdGhAZXhhbXBsZS5vcmcnKTsKICoKICogICAgICBmaXJzdFJlcGVhdC5maW5kRWxlbWVudChieS5saW5rVGV4dCgnY2xlYXInKSkuY2xpY2soKTsKICoKICogICAgICBleHBlY3QoZmlyc3RSZXBlYXQuZmluZEVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKQogKiAgICAgICAgICAudG9CZSgnJyk7CiAqCiAqICAgICAgY29udGFpbmVyLmZpbmRFbGVtZW50KGJ5LmxpbmtUZXh0KCdhZGQnKSkuY2xpY2soKTsKICoKICogICAgICBleHBlY3QoY29udGFpbmVyLmZpbmRFbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIGNvbnRhY3RzJykucm93KDIpKQogKiAgICAgICAgICAuZmluZEVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkKICogICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkKICogICAgICAgICAgLnRvQmUoJ3lvdXJuYW1lQGV4YW1wbGUub3JnJyk7CiAqICAgIH0pOwogKiAgPC9maWxlPgogKjwvZXhhbXBsZT4KCiAqLwp2YXIgbmdDb250cm9sbGVyRGlyZWN0aXZlID0gW2Z1bmN0aW9uKCkgewogIHJldHVybiB7CiAgICBzY29wZTogdHJ1ZSwKICAgIGNvbnRyb2xsZXI6ICdAJywKICAgIHByaW9yaXR5OiA1MDAKICB9Owp9XTsKCi8qKgogKiBAbmdkb2MgZGlyZWN0aXZlCiAqIEBuYW1lIG5nQ3NwCiAqCiAqIEBlbGVtZW50IGh0bWwKICogQGRlc2NyaXB0aW9uCiAqIEVuYWJsZXMgW0NTUCAoQ29udGVudCBTZWN1cml0eSBQb2xpY3kpXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9TZWN1cml0eS9DU1ApIHN1cHBvcnQuCiAqCiAqIFRoaXMgaXMgbmVjZXNzYXJ5IHdoZW4gZGV2ZWxvcGluZyB0aGluZ3MgbGlrZSBHb29nbGUgQ2hyb21lIEV4dGVuc2lvbnMuCiAqCiAqIENTUCBmb3JiaWRzIGFwcHMgdG8gdXNlIGBldmFsYCBvciBgRnVuY3Rpb24oc3RyaW5nKWAgZ2VuZXJhdGVkIGZ1bmN0aW9ucyAoYW1vbmcgb3RoZXIgdGhpbmdzKS4KICogRm9yIHVzIHRvIGJlIGNvbXBhdGlibGUsIHdlIGp1c3QgbmVlZCB0byBpbXBsZW1lbnQgdGhlICJnZXR0ZXJGbiIgaW4gJHBhcnNlIHdpdGhvdXQgdmlvbGF0aW5nCiAqIGFueSBvZiB0aGVzZSByZXN0cmljdGlvbnMuCiAqCiAqIEFuZ3VsYXJKUyB1c2VzIGBGdW5jdGlvbihzdHJpbmcpYCBnZW5lcmF0ZWQgZnVuY3Rpb25zIGFzIGEgc3BlZWQgb3B0aW1pemF0aW9uLiBBcHBseWluZyB0aGUgYG5nQ3NwYAogKiBkaXJlY3RpdmUgd2lsbCBjYXVzZSBBbmd1bGFyIHRvIHVzZSBDU1AgY29tcGF0aWJpbGl0eSBtb2RlLiBXaGVuIHRoaXMgbW9kZSBpcyBvbiBBbmd1bGFySlMgd2lsbAogKiBldmFsdWF0ZSBhbGwgZXhwcmVzc2lvbnMgdXAgdG8gMzAlIHNsb3dlciB0aGFuIGluIG5vbi1DU1AgbW9kZSwgYnV0IG5vIHNlY3VyaXR5IHZpb2xhdGlvbnMgd2lsbAogKiBiZSByYWlzZWQuCiAqCiAqIENTUCBmb3JiaWRzIEphdmFTY3JpcHQgdG8gaW5saW5lIHN0eWxlc2hlZXQgcnVsZXMuIEluIG5vbiBDU1AgbW9kZSBBbmd1bGFyIGF1dG9tYXRpY2FsbHkKICogaW5jbHVkZXMgc29tZSBDU1MgcnVsZXMgKGUuZy4ge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0Nsb2FrIG5nQ2xvYWt9KS4KICogVG8gbWFrZSB0aG9zZSBkaXJlY3RpdmVzIHdvcmsgaW4gQ1NQIG1vZGUsIGluY2x1ZGUgdGhlIGBhbmd1bGFyLWNzcC5jc3NgIG1hbnVhbGx5LgogKgogKiBJbiBvcmRlciB0byB1c2UgdGhpcyBmZWF0dXJlIHB1dCB0aGUgYG5nQ3NwYCBkaXJlY3RpdmUgb24gdGhlIHJvb3QgZWxlbWVudCBvZiB0aGUgYXBwbGljYXRpb24uCiAqCiAqICpOb3RlOiBUaGlzIGRpcmVjdGl2ZSBpcyBvbmx5IGF2YWlsYWJsZSBpbiB0aGUgYG5nLWNzcGAgYW5kIGBkYXRhLW5nLWNzcGAgYXR0cmlidXRlIGZvcm0uKgogKgogKiBAZXhhbXBsZQogKiBUaGlzIGV4YW1wbGUgc2hvd3MgaG93IHRvIGFwcGx5IHRoZSBgbmdDc3BgIGRpcmVjdGl2ZSB0byB0aGUgYGh0bWxgIHRhZy4KICAgYGBgaHRtbAogICAgIDwhZG9jdHlwZSBodG1sPgogICAgIDxodG1sIG5nLWFwcCBuZy1jc3A+CiAgICAgLi4uCiAgICAgLi4uCiAgICAgPC9odG1sPgogICBgYGAKICovCgovLyBuZ0NzcCBpcyBub3QgaW1wbGVtZW50ZWQgYXMgYSBwcm9wZXIgZGlyZWN0aXZlIGFueSBtb3JlLCBiZWNhdXNlIHdlIG5lZWQgaXQgYmUgcHJvY2Vzc2VkIHdoaWxlIHdlIGJvb3RzdHJhcAovLyB0aGUgc3lzdGVtIChiZWZvcmUgJHBhcnNlIGlzIGluc3RhbnRpYXRlZCksIGZvciB0aGlzIHJlYXNvbiB3ZSBqdXN0IGhhdmUgYSBjc3AoKSBmbiB0aGF0IGxvb2tzIGZvciBuZy1jc3AgYXR0cmlidXRlCi8vIGFueXdoZXJlIGluIHRoZSBjdXJyZW50IGRvYwoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgbmdDbGljawogKgogKiBAZGVzY3JpcHRpb24KICogVGhlIG5nQ2xpY2sgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gc3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igd2hlbgogKiBhbiBlbGVtZW50IGlzIGNsaWNrZWQuCiAqCiAqIEBlbGVtZW50IEFOWQogKiBAcHJpb3JpdHkgMAogKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2xpY2sge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvbgogKiBjbGljay4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pCiAqCiAqIEBleGFtcGxlCiAgIDxleGFtcGxlPgogICAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgICA8YnV0dG9uIG5nLWNsaWNrPSJjb3VudCA9IGNvdW50ICsgMSIgbmctaW5pdD0iY291bnQ9MCI+CiAgICAgICAgSW5jcmVtZW50CiAgICAgIDwvYnV0dG9uPgogICAgICBjb3VudDoge3tjb3VudH19CiAgICAgPC9maWxlPgogICAgIDxmaWxlIG5hbWU9InByb3RyYWN0b3IuanMiIHR5cGU9InByb3RyYWN0b3IiPgogICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1jbGljaycsIGZ1bmN0aW9uKCkgewogICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdjb3VudCcpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJzAnKTsKICAgICAgICAgZWxlbWVudChieS5jc3MoJ2J1dHRvbicpKS5jbGljaygpOwogICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdjb3VudCcpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJzEnKTsKICAgICAgIH0pOwogICAgIDwvZmlsZT4KICAgPC9leGFtcGxlPgogKi8KLyoKICogQSBkaXJlY3RpdmUgdGhhdCBhbGxvd3MgY3JlYXRpb24gb2YgY3VzdG9tIG9uY2xpY2sgaGFuZGxlcnMgdGhhdCBhcmUgZGVmaW5lZCBhcyBhbmd1bGFyCiAqIGV4cHJlc3Npb25zIGFuZCBhcmUgY29tcGlsZWQgYW5kIGV4ZWN1dGVkIHdpdGhpbiB0aGUgY3VycmVudCBzY29wZS4KICoKICogRXZlbnRzIHRoYXQgYXJlIGhhbmRsZWQgdmlhIHRoZXNlIGhhbmRsZXIgYXJlIGFsd2F5cyBjb25maWd1cmVkIG5vdCB0byBwcm9wYWdhdGUgZnVydGhlci4KICovCnZhciBuZ0V2ZW50RGlyZWN0aXZlcyA9IHt9Owpmb3JFYWNoKAogICdjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2Vtb3ZlIG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBrZXlkb3duIGtleXVwIGtleXByZXNzIHN1Ym1pdCBmb2N1cyBibHVyIGNvcHkgY3V0IHBhc3RlJy5zcGxpdCgnICcpLAogIGZ1bmN0aW9uKG5hbWUpIHsKICAgIHZhciBkaXJlY3RpdmVOYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKCduZy0nICsgbmFtZSk7CiAgICBuZ0V2ZW50RGlyZWN0aXZlc1tkaXJlY3RpdmVOYW1lXSA9IFsnJHBhcnNlJywgZnVuY3Rpb24oJHBhcnNlKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgY29tcGlsZTogZnVuY3Rpb24oJGVsZW1lbnQsIGF0dHIpIHsKICAgICAgICAgIHZhciBmbiA9ICRwYXJzZShhdHRyW2RpcmVjdGl2ZU5hbWVdKTsKICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBuZ0V2ZW50SGFuZGxlcihzY29wZSwgZWxlbWVudCkgewogICAgICAgICAgICBlbGVtZW50Lm9uKGxvd2VyY2FzZShuYW1lKSwgZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBmbihzY29wZSwgeyRldmVudDpldmVudH0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9OwogICAgfV07CiAgfQopOwoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgbmdEYmxjbGljawogKgogKiBAZGVzY3JpcHRpb24KICogVGhlIGBuZ0RibGNsaWNrYCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBzcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBhIGRibGNsaWNrIGV2ZW50LgogKgogKiBAZWxlbWVudCBBTlkKICogQHByaW9yaXR5IDAKICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0RibGNsaWNrIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb24KICogYSBkYmxjbGljay4gKFRoZSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgKQogKgogKiBAZXhhbXBsZQogICA8ZXhhbXBsZT4KICAgICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgICAgPGJ1dHRvbiBuZy1kYmxjbGljaz0iY291bnQgPSBjb3VudCArIDEiIG5nLWluaXQ9ImNvdW50PTAiPgogICAgICAgIEluY3JlbWVudCAob24gZG91YmxlIGNsaWNrKQogICAgICA8L2J1dHRvbj4KICAgICAgY291bnQ6IHt7Y291bnR9fQogICAgIDwvZmlsZT4KICAgPC9leGFtcGxlPgogKi8KCgovKioKICogQG5nZG9jIGRpcmVjdGl2ZQogKiBAbmFtZSBuZ01vdXNlZG93bgogKgogKiBAZGVzY3JpcHRpb24KICogVGhlIG5nTW91c2Vkb3duIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIHNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlZG93biBldmVudC4KICoKICogQGVsZW1lbnQgQU5ZCiAqIEBwcmlvcml0eSAwCiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdNb3VzZWRvd24ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvbgogKiBtb3VzZWRvd24uICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KQogKgogKiBAZXhhbXBsZQogICA8ZXhhbXBsZT4KICAgICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgICAgPGJ1dHRvbiBuZy1tb3VzZWRvd249ImNvdW50ID0gY291bnQgKyAxIiBuZy1pbml0PSJjb3VudD0wIj4KICAgICAgICBJbmNyZW1lbnQgKG9uIG1vdXNlIGRvd24pCiAgICAgIDwvYnV0dG9uPgogICAgICBjb3VudDoge3tjb3VudH19CiAgICAgPC9maWxlPgogICA8L2V4YW1wbGU+CiAqLwoKCi8qKgogKiBAbmdkb2MgZGlyZWN0aXZlCiAqIEBuYW1lIG5nTW91c2V1cAogKgogKiBAZGVzY3JpcHRpb24KICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2V1cCBldmVudC4KICoKICogQGVsZW1lbnQgQU5ZCiAqIEBwcmlvcml0eSAwCiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdNb3VzZXVwIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb24KICogbW91c2V1cC4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pCiAqCiAqIEBleGFtcGxlCiAgIDxleGFtcGxlPgogICAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgICA8YnV0dG9uIG5nLW1vdXNldXA9ImNvdW50ID0gY291bnQgKyAxIiBuZy1pbml0PSJjb3VudD0wIj4KICAgICAgICBJbmNyZW1lbnQgKG9uIG1vdXNlIHVwKQogICAgICA8L2J1dHRvbj4KICAgICAgY291bnQ6IHt7Y291bnR9fQogICAgIDwvZmlsZT4KICAgPC9leGFtcGxlPgogKi8KCi8qKgogKiBAbmdkb2MgZGlyZWN0aXZlCiAqIEBuYW1lIG5nTW91c2VvdmVyCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZW92ZXIgZXZlbnQuCiAqCiAqIEBlbGVtZW50IEFOWQogKiBAcHJpb3JpdHkgMAogKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2VvdmVyIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb24KICogbW91c2VvdmVyLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSkKICoKICogQGV4YW1wbGUKICAgPGV4YW1wbGU+CiAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgIDxidXR0b24gbmctbW91c2VvdmVyPSJjb3VudCA9IGNvdW50ICsgMSIgbmctaW5pdD0iY291bnQ9MCI+CiAgICAgICAgSW5jcmVtZW50ICh3aGVuIG1vdXNlIGlzIG92ZXIpCiAgICAgIDwvYnV0dG9uPgogICAgICBjb3VudDoge3tjb3VudH19CiAgICAgPC9maWxlPgogICA8L2V4YW1wbGU+CiAqLwoKCi8qKgogKiBAbmdkb2MgZGlyZWN0aXZlCiAqIEBuYW1lIG5nTW91c2VlbnRlcgogKgogKiBAZGVzY3JpcHRpb24KICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2VlbnRlciBldmVudC4KICoKICogQGVsZW1lbnQgQU5ZCiAqIEBwcmlvcml0eSAwCiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdNb3VzZWVudGVyIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb24KICogbW91c2VlbnRlci4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pCiAqCiAqIEBleGFtcGxlCiAgIDxleGFtcGxlPgogICAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgICA8YnV0dG9uIG5nLW1vdXNlZW50ZXI9ImNvdW50ID0gY291bnQgKyAxIiBuZy1pbml0PSJjb3VudD0wIj4KICAgICAgICBJbmNyZW1lbnQgKHdoZW4gbW91c2UgZW50ZXJzKQogICAgICA8L2J1dHRvbj4KICAgICAgY291bnQ6IHt7Y291bnR9fQogICAgIDwvZmlsZT4KICAgPC9leGFtcGxlPgogKi8KCgovKioKICogQG5nZG9jIGRpcmVjdGl2ZQogKiBAbmFtZSBuZ01vdXNlbGVhdmUKICoKICogQGRlc2NyaXB0aW9uCiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlbGVhdmUgZXZlbnQuCiAqCiAqIEBlbGVtZW50IEFOWQogKiBAcHJpb3JpdHkgMAogKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2VsZWF2ZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uCiAqIG1vdXNlbGVhdmUuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KQogKgogKiBAZXhhbXBsZQogICA8ZXhhbXBsZT4KICAgICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgICAgPGJ1dHRvbiBuZy1tb3VzZWxlYXZlPSJjb3VudCA9IGNvdW50ICsgMSIgbmctaW5pdD0iY291bnQ9MCI+CiAgICAgICAgSW5jcmVtZW50ICh3aGVuIG1vdXNlIGxlYXZlcykKICAgICAgPC9idXR0b24+CiAgICAgIGNvdW50OiB7e2NvdW50fX0KICAgICA8L2ZpbGU+CiAgIDwvZXhhbXBsZT4KICovCgoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgbmdNb3VzZW1vdmUKICoKICogQGRlc2NyaXB0aW9uCiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlbW92ZSBldmVudC4KICoKICogQGVsZW1lbnQgQU5ZCiAqIEBwcmlvcml0eSAwCiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdNb3VzZW1vdmUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvbgogKiBtb3VzZW1vdmUuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KQogKgogKiBAZXhhbXBsZQogICA8ZXhhbXBsZT4KICAgICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgICAgPGJ1dHRvbiBuZy1tb3VzZW1vdmU9ImNvdW50ID0gY291bnQgKyAxIiBuZy1pbml0PSJjb3VudD0wIj4KICAgICAgICBJbmNyZW1lbnQgKHdoZW4gbW91c2UgbW92ZXMpCiAgICAgIDwvYnV0dG9uPgogICAgICBjb3VudDoge3tjb3VudH19CiAgICAgPC9maWxlPgogICA8L2V4YW1wbGU+CiAqLwoKCi8qKgogKiBAbmdkb2MgZGlyZWN0aXZlCiAqIEBuYW1lIG5nS2V5ZG93bgogKgogKiBAZGVzY3JpcHRpb24KICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24ga2V5ZG93biBldmVudC4KICoKICogQGVsZW1lbnQgQU5ZCiAqIEBwcmlvcml0eSAwCiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdLZXlkb3duIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb24KICoga2V5ZG93bi4gKEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGAgYW5kIGNhbiBiZSBpbnRlcnJvZ2F0ZWQgZm9yIGtleUNvZGUsIGFsdEtleSwgZXRjLikKICoKICogQGV4YW1wbGUKICAgPGV4YW1wbGU+CiAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgIDxpbnB1dCBuZy1rZXlkb3duPSJjb3VudCA9IGNvdW50ICsgMSIgbmctaW5pdD0iY291bnQ9MCI+CiAgICAgIGtleSBkb3duIGNvdW50OiB7e2NvdW50fX0KICAgICA8L2ZpbGU+CiAgIDwvZXhhbXBsZT4KICovCgoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgbmdLZXl1cAogKgogKiBAZGVzY3JpcHRpb24KICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24ga2V5dXAgZXZlbnQuCiAqCiAqIEBlbGVtZW50IEFOWQogKiBAcHJpb3JpdHkgMAogKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nS2V5dXAge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvbgogKiBrZXl1cC4gKEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGAgYW5kIGNhbiBiZSBpbnRlcnJvZ2F0ZWQgZm9yIGtleUNvZGUsIGFsdEtleSwgZXRjLikKICoKICogQGV4YW1wbGUKICAgPGV4YW1wbGU+CiAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgICA8cD5UeXBpbmcgaW4gdGhlIGlucHV0IGJveCBiZWxvdyB1cGRhdGVzIHRoZSBrZXkgY291bnQ8L3A+CiAgICAgICA8aW5wdXQgbmcta2V5dXA9ImNvdW50ID0gY291bnQgKyAxIiBuZy1pbml0PSJjb3VudD0wIj4ga2V5IHVwIGNvdW50OiB7e2NvdW50fX0KCiAgICAgICA8cD5UeXBpbmcgaW4gdGhlIGlucHV0IGJveCBiZWxvdyB1cGRhdGVzIHRoZSBrZXljb2RlPC9wPgogICAgICAgPGlucHV0IG5nLWtleXVwPSJldmVudD0kZXZlbnQiPgogICAgICAgPHA+ZXZlbnQga2V5Q29kZToge3sgZXZlbnQua2V5Q29kZSB9fTwvcD4KICAgICAgIDxwPmV2ZW50IGFsdEtleToge3sgZXZlbnQuYWx0S2V5IH19PC9wPgogICAgIDwvZmlsZT4KICAgPC9leGFtcGxlPgogKi8KCgovKioKICogQG5nZG9jIGRpcmVjdGl2ZQogKiBAbmFtZSBuZ0tleXByZXNzCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBrZXlwcmVzcyBldmVudC4KICoKICogQGVsZW1lbnQgQU5ZCiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdLZXlwcmVzcyB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uCiAqIGtleXByZXNzLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfQogKiBhbmQgY2FuIGJlIGludGVycm9nYXRlZCBmb3Iga2V5Q29kZSwgYWx0S2V5LCBldGMuKQogKgogKiBAZXhhbXBsZQogICA8ZXhhbXBsZT4KICAgICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgICAgPGlucHV0IG5nLWtleXByZXNzPSJjb3VudCA9IGNvdW50ICsgMSIgbmctaW5pdD0iY291bnQ9MCI+CiAgICAgIGtleSBwcmVzcyBjb3VudDoge3tjb3VudH19CiAgICAgPC9maWxlPgogICA8L2V4YW1wbGU+CiAqLwoKCi8qKgogKiBAbmdkb2MgZGlyZWN0aXZlCiAqIEBuYW1lIG5nU3VibWl0CiAqCiAqIEBkZXNjcmlwdGlvbgogKiBFbmFibGVzIGJpbmRpbmcgYW5ndWxhciBleHByZXNzaW9ucyB0byBvbnN1Ym1pdCBldmVudHMuCiAqCiAqIEFkZGl0aW9uYWxseSBpdCBwcmV2ZW50cyB0aGUgZGVmYXVsdCBhY3Rpb24gKHdoaWNoIGZvciBmb3JtIG1lYW5zIHNlbmRpbmcgdGhlIHJlcXVlc3QgdG8gdGhlCiAqIHNlcnZlciBhbmQgcmVsb2FkaW5nIHRoZSBjdXJyZW50IHBhZ2UpLCBidXQgb25seSBpZiB0aGUgZm9ybSBkb2VzIG5vdCBjb250YWluIGBhY3Rpb25gLAogKiBgZGF0YS1hY3Rpb25gLCBvciBgeC1hY3Rpb25gIGF0dHJpYnV0ZXMuCiAqCiAqIEBlbGVtZW50IGZvcm0KICogQHByaW9yaXR5IDAKICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ1N1Ym1pdCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsLgogKiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSkKICoKICogQGV4YW1wbGUKICAgPGV4YW1wbGU+CiAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgIDxzY3JpcHQ+CiAgICAgICAgZnVuY3Rpb24gQ3RybCgkc2NvcGUpIHsKICAgICAgICAgICRzY29wZS5saXN0ID0gW107CiAgICAgICAgICAkc2NvcGUudGV4dCA9ICdoZWxsbyc7CiAgICAgICAgICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmICgkc2NvcGUudGV4dCkgewogICAgICAgICAgICAgICRzY29wZS5saXN0LnB1c2godGhpcy50ZXh0KTsKICAgICAgICAgICAgICAkc2NvcGUudGV4dCA9ICcnOwogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgPC9zY3JpcHQ+CiAgICAgIDxmb3JtIG5nLXN1Ym1pdD0ic3VibWl0KCkiIG5nLWNvbnRyb2xsZXI9IkN0cmwiPgogICAgICAgIEVudGVyIHRleHQgYW5kIGhpdCBlbnRlcjoKICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmctbW9kZWw9InRleHQiIG5hbWU9InRleHQiIC8+CiAgICAgICAgPGlucHV0IHR5cGU9InN1Ym1pdCIgaWQ9InN1Ym1pdCIgdmFsdWU9IlN1Ym1pdCIgLz4KICAgICAgICA8cHJlPmxpc3Q9e3tsaXN0fX08L3ByZT4KICAgICAgPC9mb3JtPgogICAgIDwvZmlsZT4KICAgICA8ZmlsZSBuYW1lPSJwcm90cmFjdG9yLmpzIiB0eXBlPSJwcm90cmFjdG9yIj4KICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctc3VibWl0JywgZnVuY3Rpb24oKSB7CiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2xpc3QnKSkuZ2V0VGV4dCgpKS50b0JlKCdsaXN0PVtdJyk7CiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCcjc3VibWl0JykpLmNsaWNrKCk7CiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2xpc3QnKSkuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2hlbGxvJyk7CiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlucHV0KCd0ZXh0JykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnJyk7CiAgICAgICB9KTsKICAgICAgIGl0KCdzaG91bGQgaWdub3JlIGVtcHR5IHN0cmluZ3MnLCBmdW5jdGlvbigpIHsKICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCcpKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3Q9W10nKTsKICAgICAgICAgZWxlbWVudChieS5jc3MoJyNzdWJtaXQnKSkuY2xpY2soKTsKICAgICAgICAgZWxlbWVudChieS5jc3MoJyNzdWJtaXQnKSkuY2xpY2soKTsKICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCcpKS5nZXRUZXh0KCkpLnRvQ29udGFpbignaGVsbG8nKTsKICAgICAgICB9KTsKICAgICA8L2ZpbGU+CiAgIDwvZXhhbXBsZT4KICovCgovKioKICogQG5nZG9jIGRpcmVjdGl2ZQogKiBAbmFtZSBuZ0ZvY3VzCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBmb2N1cyBldmVudC4KICoKICogQGVsZW1lbnQgd2luZG93LCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYQogKiBAcHJpb3JpdHkgMAogKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nRm9jdXMge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvbgogKiBmb2N1cy4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pCiAqCiAqIEBleGFtcGxlCiAqIFNlZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xpY2sgbmdDbGlja30KICovCgovKioKICogQG5nZG9jIGRpcmVjdGl2ZQogKiBAbmFtZSBuZ0JsdXIKICoKICogQGRlc2NyaXB0aW9uCiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGJsdXIgZXZlbnQuCiAqCiAqIEBlbGVtZW50IHdpbmRvdywgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGEKICogQHByaW9yaXR5IDAKICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0JsdXIge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvbgogKiBibHVyLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSkKICoKICogQGV4YW1wbGUKICogU2VlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDbGljayBuZ0NsaWNrfQogKi8KCi8qKgogKiBAbmdkb2MgZGlyZWN0aXZlCiAqIEBuYW1lIG5nQ29weQogKgogKiBAZGVzY3JpcHRpb24KICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gY29weSBldmVudC4KICoKICogQGVsZW1lbnQgd2luZG93LCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYQogKiBAcHJpb3JpdHkgMAogKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ29weSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uCiAqIGNvcHkuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KQogKgogKiBAZXhhbXBsZQogICA8ZXhhbXBsZT4KICAgICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgICAgPGlucHV0IG5nLWNvcHk9ImNvcGllZD10cnVlIiBuZy1pbml0PSJjb3BpZWQ9ZmFsc2U7IHZhbHVlPSdjb3B5IG1lJyIgbmctbW9kZWw9InZhbHVlIj4KICAgICAgY29waWVkOiB7e2NvcGllZH19CiAgICAgPC9maWxlPgogICA8L2V4YW1wbGU+CiAqLwoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgbmdDdXQKICoKICogQGRlc2NyaXB0aW9uCiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGN1dCBldmVudC4KICoKICogQGVsZW1lbnQgd2luZG93LCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYQogKiBAcHJpb3JpdHkgMAogKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ3V0IHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb24KICogY3V0LiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSkKICoKICogQGV4YW1wbGUKICAgPGV4YW1wbGU+CiAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgIDxpbnB1dCBuZy1jdXQ9ImN1dD10cnVlIiBuZy1pbml0PSJjdXQ9ZmFsc2U7IHZhbHVlPSdjdXQgbWUnIiBuZy1tb2RlbD0idmFsdWUiPgogICAgICBjdXQ6IHt7Y3V0fX0KICAgICA8L2ZpbGU+CiAgIDwvZXhhbXBsZT4KICovCgovKioKICogQG5nZG9jIGRpcmVjdGl2ZQogKiBAbmFtZSBuZ1Bhc3RlCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBwYXN0ZSBldmVudC4KICoKICogQGVsZW1lbnQgd2luZG93LCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYQogKiBAcHJpb3JpdHkgMAogKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nUGFzdGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvbgogKiBwYXN0ZS4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pCiAqCiAqIEBleGFtcGxlCiAgIDxleGFtcGxlPgogICAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgICA8aW5wdXQgbmctcGFzdGU9InBhc3RlPXRydWUiIG5nLWluaXQ9InBhc3RlPWZhbHNlIiBwbGFjZWhvbGRlcj0ncGFzdGUgaGVyZSc+CiAgICAgIHBhc3RlZDoge3twYXN0ZX19CiAgICAgPC9maWxlPgogICA8L2V4YW1wbGU+CiAqLwoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgbmdJZgogKiBAcmVzdHJpY3QgQQogKgogKiBAZGVzY3JpcHRpb24KICogVGhlIGBuZ0lmYCBkaXJlY3RpdmUgcmVtb3ZlcyBvciByZWNyZWF0ZXMgYSBwb3J0aW9uIG9mIHRoZSBET00gdHJlZSBiYXNlZCBvbiBhbgogKiB7ZXhwcmVzc2lvbn0uIElmIHRoZSBleHByZXNzaW9uIGFzc2lnbmVkIHRvIGBuZ0lmYCBldmFsdWF0ZXMgdG8gYSBmYWxzZQogKiB2YWx1ZSB0aGVuIHRoZSBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NLCBvdGhlcndpc2UgYSBjbG9uZSBvZiB0aGUKICogZWxlbWVudCBpcyByZWluc2VydGVkIGludG8gdGhlIERPTS4KICoKICogYG5nSWZgIGRpZmZlcnMgZnJvbSBgbmdTaG93YCBhbmQgYG5nSGlkZWAgaW4gdGhhdCBgbmdJZmAgY29tcGxldGVseSByZW1vdmVzIGFuZCByZWNyZWF0ZXMgdGhlCiAqIGVsZW1lbnQgaW4gdGhlIERPTSByYXRoZXIgdGhhbiBjaGFuZ2luZyBpdHMgdmlzaWJpbGl0eSB2aWEgdGhlIGBkaXNwbGF5YCBjc3MgcHJvcGVydHkuICBBIGNvbW1vbgogKiBjYXNlIHdoZW4gdGhpcyBkaWZmZXJlbmNlIGlzIHNpZ25pZmljYW50IGlzIHdoZW4gdXNpbmcgY3NzIHNlbGVjdG9ycyB0aGF0IHJlbHkgb24gYW4gZWxlbWVudCdzCiAqIHBvc2l0aW9uIHdpdGhpbiB0aGUgRE9NLCBzdWNoIGFzIHRoZSBgOmZpcnN0LWNoaWxkYCBvciBgOmxhc3QtY2hpbGRgIHBzZXVkby1jbGFzc2VzLgogKgogKiBOb3RlIHRoYXQgd2hlbiBhbiBlbGVtZW50IGlzIHJlbW92ZWQgdXNpbmcgYG5nSWZgIGl0cyBzY29wZSBpcyBkZXN0cm95ZWQgYW5kIGEgbmV3IHNjb3BlCiAqIGlzIGNyZWF0ZWQgd2hlbiB0aGUgZWxlbWVudCBpcyByZXN0b3JlZC4gIFRoZSBzY29wZSBjcmVhdGVkIHdpdGhpbiBgbmdJZmAgaW5oZXJpdHMgZnJvbQogKiBpdHMgcGFyZW50IHNjb3BlIHVzaW5nCiAqIFtwcm90b3R5cGFsIGluaGVyaXRhbmNlXShodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3dpa2kvVGhlLU51YW5jZXMtb2YtU2NvcGUtUHJvdG90eXBhbC1Jbmhlcml0YW5jZSkuCiAqIEFuIGltcG9ydGFudCBpbXBsaWNhdGlvbiBvZiB0aGlzIGlzIGlmIGBuZ01vZGVsYCBpcyB1c2VkIHdpdGhpbiBgbmdJZmAgdG8gYmluZCB0bwogKiBhIGphdmFzY3JpcHQgcHJpbWl0aXZlIGRlZmluZWQgaW4gdGhlIHBhcmVudCBzY29wZS4gSW4gdGhpcyBjYXNlIGFueSBtb2RpZmljYXRpb25zIG1hZGUgdG8gdGhlCiAqIHZhcmlhYmxlIHdpdGhpbiB0aGUgY2hpbGQgc2NvcGUgd2lsbCBvdmVycmlkZSAoaGlkZSkgdGhlIHZhbHVlIGluIHRoZSBwYXJlbnQgc2NvcGUuCiAqCiAqIEFsc28sIGBuZ0lmYCByZWNyZWF0ZXMgZWxlbWVudHMgdXNpbmcgdGhlaXIgY29tcGlsZWQgc3RhdGUuIEFuIGV4YW1wbGUgb2YgdGhpcyBiZWhhdmlvcgogKiBpcyBpZiBhbiBlbGVtZW50J3MgY2xhc3MgYXR0cmlidXRlIGlzIGRpcmVjdGx5IG1vZGlmaWVkIGFmdGVyIGl0J3MgY29tcGlsZWQsIHVzaW5nIHNvbWV0aGluZyBsaWtlCiAqIGpRdWVyeSdzIGAuYWRkQ2xhc3MoKWAgbWV0aG9kLCBhbmQgdGhlIGVsZW1lbnQgaXMgbGF0ZXIgcmVtb3ZlZC4gV2hlbiBgbmdJZmAgcmVjcmVhdGVzIHRoZSBlbGVtZW50CiAqIHRoZSBhZGRlZCBjbGFzcyB3aWxsIGJlIGxvc3QgYmVjYXVzZSB0aGUgb3JpZ2luYWwgY29tcGlsZWQgc3RhdGUgaXMgdXNlZCB0byByZWdlbmVyYXRlIHRoZSBlbGVtZW50LgogKgogKiBBZGRpdGlvbmFsbHksIHlvdSBjYW4gcHJvdmlkZSBhbmltYXRpb25zIHZpYSB0aGUgYG5nQW5pbWF0ZWAgbW9kdWxlIHRvIGFuaW1hdGUgdGhlIGBlbnRlcmAKICogYW5kIGBsZWF2ZWAgZWZmZWN0cy4KICoKICogQGFuaW1hdGlvbnMKICogZW50ZXIgLSBoYXBwZW5zIGp1c3QgYWZ0ZXIgdGhlIG5nSWYgY29udGVudHMgY2hhbmdlIGFuZCBhIG5ldyBET00gZWxlbWVudCBpcyBjcmVhdGVkIGFuZCBpbmplY3RlZCBpbnRvIHRoZSBuZ0lmIGNvbnRhaW5lcgogKiBsZWF2ZSAtIGhhcHBlbnMganVzdCBiZWZvcmUgdGhlIG5nSWYgY29udGVudHMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NCiAqCiAqIEBlbGVtZW50IEFOWQogKiBAc2NvcGUKICogQHByaW9yaXR5IDYwMAogKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nSWYgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIGZhbHN5IHRoZW4KICogICAgIHRoZSBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NIHRyZWUuIElmIGl0IGlzIHRydXRoeSBhIGNvcHkgb2YgdGhlIGNvbXBpbGVkCiAqICAgICBlbGVtZW50IGlzIGFkZGVkIHRvIHRoZSBET00gdHJlZS4KICoKICogQGV4YW1wbGUKICA8ZXhhbXBsZSBtb2R1bGU9Im5nQW5pbWF0ZSIgZGVwcz0iYW5ndWxhci1hbmltYXRlLmpzIiBhbmltYXRpb25zPSJ0cnVlIj4KICAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgICBDbGljayBtZTogPGlucHV0IHR5cGU9ImNoZWNrYm94IiBuZy1tb2RlbD0iY2hlY2tlZCIgbmctaW5pdD0iY2hlY2tlZD10cnVlIiAvPjxici8+CiAgICAgIFNob3cgd2hlbiBjaGVja2VkOgogICAgICA8c3BhbiBuZy1pZj0iY2hlY2tlZCIgY2xhc3M9ImFuaW1hdGUtaWYiPgogICAgICAgIEknbSByZW1vdmVkIHdoZW4gdGhlIGNoZWNrYm94IGlzIHVuY2hlY2tlZC4KICAgICAgPC9zcGFuPgogICAgPC9maWxlPgogICAgPGZpbGUgbmFtZT0iYW5pbWF0aW9ucy5jc3MiPgogICAgICAuYW5pbWF0ZS1pZiB7CiAgICAgICAgYmFja2dyb3VuZDp3aGl0ZTsKICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrOwogICAgICAgIHBhZGRpbmc6MTBweDsKICAgICAgfQoKICAgICAgLmFuaW1hdGUtaWYubmctZW50ZXIsIC5hbmltYXRlLWlmLm5nLWxlYXZlIHsKICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41czsKICAgICAgICB0cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7CiAgICAgIH0KCiAgICAgIC5hbmltYXRlLWlmLm5nLWVudGVyLAogICAgICAuYW5pbWF0ZS1pZi5uZy1sZWF2ZS5uZy1sZWF2ZS1hY3RpdmUgewogICAgICAgIG9wYWNpdHk6MDsKICAgICAgfQoKICAgICAgLmFuaW1hdGUtaWYubmctbGVhdmUsCiAgICAgIC5hbmltYXRlLWlmLm5nLWVudGVyLm5nLWVudGVyLWFjdGl2ZSB7CiAgICAgICAgb3BhY2l0eToxOwogICAgICB9CiAgICA8L2ZpbGU+CiAgPC9leGFtcGxlPgogKi8KdmFyIG5nSWZEaXJlY3RpdmUgPSBbJyRhbmltYXRlJywgZnVuY3Rpb24oJGFuaW1hdGUpIHsKICByZXR1cm4gewogICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLAogICAgcHJpb3JpdHk6IDYwMCwKICAgIHRlcm1pbmFsOiB0cnVlLAogICAgcmVzdHJpY3Q6ICdBJywKICAgICQkdGxiOiB0cnVlLAogICAgbGluazogZnVuY3Rpb24gKCRzY29wZSwgJGVsZW1lbnQsICRhdHRyLCBjdHJsLCAkdHJhbnNjbHVkZSkgewogICAgICAgIHZhciBibG9jaywgY2hpbGRTY29wZSwgcHJldmlvdXNFbGVtZW50czsKICAgICAgICAkc2NvcGUuJHdhdGNoKCRhdHRyLm5nSWYsIGZ1bmN0aW9uIG5nSWZXYXRjaEFjdGlvbih2YWx1ZSkgewoKICAgICAgICAgIGlmICh0b0Jvb2xlYW4odmFsdWUpKSB7CiAgICAgICAgICAgIGlmICghY2hpbGRTY29wZSkgewogICAgICAgICAgICAgIGNoaWxkU2NvcGUgPSAkc2NvcGUuJG5ldygpOwogICAgICAgICAgICAgICR0cmFuc2NsdWRlKGNoaWxkU2NvcGUsIGZ1bmN0aW9uIChjbG9uZSkgewogICAgICAgICAgICAgICAgY2xvbmVbY2xvbmUubGVuZ3RoKytdID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnIGVuZCBuZ0lmOiAnICsgJGF0dHIubmdJZiArICcgJyk7CiAgICAgICAgICAgICAgICAvLyBOb3RlOiBXZSBvbmx5IG5lZWQgdGhlIGZpcnN0L2xhc3Qgbm9kZSBvZiB0aGUgY2xvbmVkIG5vZGVzLgogICAgICAgICAgICAgICAgLy8gSG93ZXZlciwgd2UgbmVlZCB0byBrZWVwIHRoZSByZWZlcmVuY2UgdG8gdGhlIGpxbGl0ZSB3cmFwcGVyIGFzIGl0IG1pZ2h0IGJlIGNoYW5nZWQgbGF0ZXIKICAgICAgICAgICAgICAgIC8vIGJ5IGEgZGlyZWN0aXZlIHdpdGggdGVtcGxhdGVVcmwgd2hlbiBpdHMgdGVtcGxhdGUgYXJyaXZlcy4KICAgICAgICAgICAgICAgIGJsb2NrID0gewogICAgICAgICAgICAgICAgICBjbG9uZTogY2xvbmUKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihjbG9uZSwgJGVsZW1lbnQucGFyZW50KCksICRlbGVtZW50KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYocHJldmlvdXNFbGVtZW50cykgewogICAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudHMucmVtb3ZlKCk7CiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50cyA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoY2hpbGRTY29wZSkgewogICAgICAgICAgICAgIGNoaWxkU2NvcGUuJGRlc3Ryb3koKTsKICAgICAgICAgICAgICBjaGlsZFNjb3BlID0gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZihibG9jaykgewogICAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudHMgPSBnZXRCbG9ja0VsZW1lbnRzKGJsb2NrLmNsb25lKTsKICAgICAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShwcmV2aW91c0VsZW1lbnRzLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudHMgPSBudWxsOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGJsb2NrID0gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQogIH07Cn1dOwoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgbmdJbmNsdWRlCiAqIEByZXN0cmljdCBFQ0EKICoKICogQGRlc2NyaXB0aW9uCiAqIEZldGNoZXMsIGNvbXBpbGVzIGFuZCBpbmNsdWRlcyBhbiBleHRlcm5hbCBIVE1MIGZyYWdtZW50LgogKgogKiBCeSBkZWZhdWx0LCB0aGUgdGVtcGxhdGUgVVJMIGlzIHJlc3RyaWN0ZWQgdG8gdGhlIHNhbWUgZG9tYWluIGFuZCBwcm90b2NvbCBhcyB0aGUKICogYXBwbGljYXRpb24gZG9jdW1lbnQuIFRoaXMgaXMgZG9uZSBieSBjYWxsaW5nIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWRSZXNvdXJjZVVybAogKiAkc2NlLmdldFRydXN0ZWRSZXNvdXJjZVVybH0gb24gaXQuIFRvIGxvYWQgdGVtcGxhdGVzIGZyb20gb3RoZXIgZG9tYWlucyBvciBwcm90b2NvbHMKICogeW91IG1heSBlaXRoZXIge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0IHdoaXRlbGlzdCB0aGVtfSBvcgogKiBbd3JhcCB0aGVtXShuZy4kc2NlI3RydXN0QXNSZXNvdXJjZVVybCkgYXMgdHJ1c3RlZCB2YWx1ZXMuIFJlZmVyIHRvIEFuZ3VsYXIncyB7QGxpbmsKICogbmcuJHNjZSBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZ30uCiAqCiAqIEluIGFkZGl0aW9uLCB0aGUgYnJvd3NlcidzCiAqIFtTYW1lIE9yaWdpbiBQb2xpY3ldKGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvYnJvd3NlcnNlYy93aWtpL1BhcnQyI1NhbWUtb3JpZ2luX3BvbGljeV9mb3JfWE1MSHR0cFJlcXVlc3QpCiAqIGFuZCBbQ3Jvc3MtT3JpZ2luIFJlc291cmNlIFNoYXJpbmcgKENPUlMpXShodHRwOi8vd3d3LnczLm9yZy9UUi9jb3JzLykKICogcG9saWN5IG1heSBmdXJ0aGVyIHJlc3RyaWN0IHdoZXRoZXIgdGhlIHRlbXBsYXRlIGlzIHN1Y2Nlc3NmdWxseSBsb2FkZWQuCiAqIEZvciBleGFtcGxlLCBgbmdJbmNsdWRlYCB3b24ndCB3b3JrIGZvciBjcm9zcy1kb21haW4gcmVxdWVzdHMgb24gYWxsIGJyb3dzZXJzIGFuZCBmb3IgYGZpbGU6Ly9gCiAqIGFjY2VzcyBvbiBzb21lIGJyb3dzZXJzLgogKgogKiBAYW5pbWF0aW9ucwogKiBlbnRlciAtIGFuaW1hdGlvbiBpcyB1c2VkIHRvIGJyaW5nIG5ldyBjb250ZW50IGludG8gdGhlIGJyb3dzZXIuCiAqIGxlYXZlIC0gYW5pbWF0aW9uIGlzIHVzZWQgdG8gYW5pbWF0ZSBleGlzdGluZyBjb250ZW50IGF3YXkuCiAqCiAqIFRoZSBlbnRlciBhbmQgbGVhdmUgYW5pbWF0aW9uIG9jY3VyIGNvbmN1cnJlbnRseS4KICoKICogQHNjb3BlCiAqIEBwcmlvcml0eSA0MDAKICoKICogQHBhcmFtIHtzdHJpbmd9IG5nSW5jbHVkZXxzcmMgYW5ndWxhciBleHByZXNzaW9uIGV2YWx1YXRpbmcgdG8gVVJMLiBJZiB0aGUgc291cmNlIGlzIGEgc3RyaW5nIGNvbnN0YW50LAogKiAgICAgICAgICAgICAgICAgbWFrZSBzdXJlIHlvdSB3cmFwIGl0IGluICoqc2luZ2xlKiogcXVvdGVzLCBlLmcuIGBzcmM9IidteVBhcnRpYWxUZW1wbGF0ZS5odG1sJyJgLgogKiBAcGFyYW0ge3N0cmluZz19IG9ubG9hZCBFeHByZXNzaW9uIHRvIGV2YWx1YXRlIHdoZW4gYSBuZXcgcGFydGlhbCBpcyBsb2FkZWQuCiAqCiAqIEBwYXJhbSB7c3RyaW5nPX0gYXV0b3Njcm9sbCBXaGV0aGVyIGBuZ0luY2x1ZGVgIHNob3VsZCBjYWxsIHtAbGluayBuZy4kYW5jaG9yU2Nyb2xsCiAqICAgICAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbH0gdG8gc2Nyb2xsIHRoZSB2aWV3cG9ydCBhZnRlciB0aGUgY29udGVudCBpcyBsb2FkZWQuCiAqCiAqICAgICAgICAgICAgICAgICAgLSBJZiB0aGUgYXR0cmlidXRlIGlzIG5vdCBzZXQsIGRpc2FibGUgc2Nyb2xsaW5nLgogKiAgICAgICAgICAgICAgICAgIC0gSWYgdGhlIGF0dHJpYnV0ZSBpcyBzZXQgd2l0aG91dCB2YWx1ZSwgZW5hYmxlIHNjcm9sbGluZy4KICogICAgICAgICAgICAgICAgICAtIE90aGVyd2lzZSBlbmFibGUgc2Nyb2xsaW5nIG9ubHkgaWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydXRoeSB2YWx1ZS4KICoKICogQGV4YW1wbGUKICA8ZXhhbXBsZSBtb2R1bGU9Im5nQW5pbWF0ZSIgZGVwcz0iYW5ndWxhci1hbmltYXRlLmpzIiBhbmltYXRpb25zPSJ0cnVlIj4KICAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgIDxkaXYgbmctY29udHJvbGxlcj0iQ3RybCI+CiAgICAgICA8c2VsZWN0IG5nLW1vZGVsPSJ0ZW1wbGF0ZSIgbmctb3B0aW9ucz0idC5uYW1lIGZvciB0IGluIHRlbXBsYXRlcyI+CiAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj4oYmxhbmspPC9vcHRpb24+CiAgICAgICA8L3NlbGVjdD4KICAgICAgIHVybCBvZiB0aGUgdGVtcGxhdGU6IDx0dD57e3RlbXBsYXRlLnVybH19PC90dD4KICAgICAgIDxoci8+CiAgICAgICA8ZGl2IGNsYXNzPSJzbGlkZS1hbmltYXRlLWNvbnRhaW5lciI+CiAgICAgICAgIDxkaXYgY2xhc3M9InNsaWRlLWFuaW1hdGUiIG5nLWluY2x1ZGU9InRlbXBsYXRlLnVybCI+PC9kaXY+CiAgICAgICA8L2Rpdj4KICAgICA8L2Rpdj4KICAgIDwvZmlsZT4KICAgIDxmaWxlIG5hbWU9InNjcmlwdC5qcyI+CiAgICAgIGZ1bmN0aW9uIEN0cmwoJHNjb3BlKSB7CiAgICAgICAgJHNjb3BlLnRlbXBsYXRlcyA9CiAgICAgICAgICBbIHsgbmFtZTogJ3RlbXBsYXRlMS5odG1sJywgdXJsOiAndGVtcGxhdGUxLmh0bWwnfSwKICAgICAgICAgICAgeyBuYW1lOiAndGVtcGxhdGUyLmh0bWwnLCB1cmw6ICd0ZW1wbGF0ZTIuaHRtbCd9IF07CiAgICAgICAgJHNjb3BlLnRlbXBsYXRlID0gJHNjb3BlLnRlbXBsYXRlc1swXTsKICAgICAgfQogICAgIDwvZmlsZT4KICAgIDxmaWxlIG5hbWU9InRlbXBsYXRlMS5odG1sIj4KICAgICAgQ29udGVudCBvZiB0ZW1wbGF0ZTEuaHRtbAogICAgPC9maWxlPgogICAgPGZpbGUgbmFtZT0idGVtcGxhdGUyLmh0bWwiPgogICAgICBDb250ZW50IG9mIHRlbXBsYXRlMi5odG1sCiAgICA8L2ZpbGU+CiAgICA8ZmlsZSBuYW1lPSJhbmltYXRpb25zLmNzcyI+CiAgICAgIC5zbGlkZS1hbmltYXRlLWNvbnRhaW5lciB7CiAgICAgICAgcG9zaXRpb246cmVsYXRpdmU7CiAgICAgICAgYmFja2dyb3VuZDp3aGl0ZTsKICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrOwogICAgICAgIGhlaWdodDo0MHB4OwogICAgICAgIG92ZXJmbG93OmhpZGRlbjsKICAgICAgfQoKICAgICAgLnNsaWRlLWFuaW1hdGUgewogICAgICAgIHBhZGRpbmc6MTBweDsKICAgICAgfQoKICAgICAgLnNsaWRlLWFuaW1hdGUubmctZW50ZXIsIC5zbGlkZS1hbmltYXRlLm5nLWxlYXZlIHsKICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41czsKICAgICAgICB0cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7CgogICAgICAgIHBvc2l0aW9uOmFic29sdXRlOwogICAgICAgIHRvcDowOwogICAgICAgIGxlZnQ6MDsKICAgICAgICByaWdodDowOwogICAgICAgIGJvdHRvbTowOwogICAgICAgIGRpc3BsYXk6YmxvY2s7CiAgICAgICAgcGFkZGluZzoxMHB4OwogICAgICB9CgogICAgICAuc2xpZGUtYW5pbWF0ZS5uZy1lbnRlciB7CiAgICAgICAgdG9wOi01MHB4OwogICAgICB9CiAgICAgIC5zbGlkZS1hbmltYXRlLm5nLWVudGVyLm5nLWVudGVyLWFjdGl2ZSB7CiAgICAgICAgdG9wOjA7CiAgICAgIH0KCiAgICAgIC5zbGlkZS1hbmltYXRlLm5nLWxlYXZlIHsKICAgICAgICB0b3A6MDsKICAgICAgfQogICAgICAuc2xpZGUtYW5pbWF0ZS5uZy1sZWF2ZS5uZy1sZWF2ZS1hY3RpdmUgewogICAgICAgIHRvcDo1MHB4OwogICAgICB9CiAgICA8L2ZpbGU+CiAgICA8ZmlsZSBuYW1lPSJwcm90cmFjdG9yLmpzIiB0eXBlPSJwcm90cmFjdG9yIj4KICAgICAgdmFyIHRlbXBsYXRlU2VsZWN0ID0gZWxlbWVudChieS5tb2RlbCgndGVtcGxhdGUnKSk7CiAgICAgIHZhciBpbmNsdWRlRWxlbSA9IGVsZW1lbnQoYnkuY3NzKCdbbmctaW5jbHVkZV0nKSk7CgogICAgICBpdCgnc2hvdWxkIGxvYWQgdGVtcGxhdGUxLmh0bWwnLCBmdW5jdGlvbigpIHsKICAgICAgICBleHBlY3QoaW5jbHVkZUVsZW0uZ2V0VGV4dCgpKS50b01hdGNoKC9Db250ZW50IG9mIHRlbXBsYXRlMS5odG1sLyk7CiAgICAgIH0pOwoKICAgICAgaXQoJ3Nob3VsZCBsb2FkIHRlbXBsYXRlMi5odG1sJywgZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgPT0gJ2ZpcmVmb3gnKSB7CiAgICAgICAgICAvLyBGaXJlZm94IGNhbid0IGhhbmRsZSB1c2luZyBzZWxlY3RzCiAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNDgwCiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHRlbXBsYXRlU2VsZWN0LmNsaWNrKCk7CiAgICAgICAgdGVtcGxhdGVTZWxlY3QuZWxlbWVudC5hbGwoYnkuY3NzKCdvcHRpb24nKSkuZ2V0KDIpLmNsaWNrKCk7CiAgICAgICAgZXhwZWN0KGluY2x1ZGVFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvQ29udGVudCBvZiB0ZW1wbGF0ZTIuaHRtbC8pOwogICAgICB9KTsKCiAgICAgIGl0KCdzaG91bGQgY2hhbmdlIHRvIGJsYW5rJywgZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgPT0gJ2ZpcmVmb3gnKSB7CiAgICAgICAgICAvLyBGaXJlZm94IGNhbid0IGhhbmRsZSB1c2luZyBzZWxlY3RzCiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHRlbXBsYXRlU2VsZWN0LmNsaWNrKCk7CiAgICAgICAgdGVtcGxhdGVTZWxlY3QuZWxlbWVudC5hbGwoYnkuY3NzKCdvcHRpb24nKSkuZ2V0KDApLmNsaWNrKCk7CiAgICAgICAgZXhwZWN0KGluY2x1ZGVFbGVtLmlzUHJlc2VudCgpKS50b0JlKGZhbHNlKTsKICAgICAgfSk7CiAgICA8L2ZpbGU+CiAgPC9leGFtcGxlPgogKi8KCgovKioKICogQG5nZG9jIGV2ZW50CiAqIEBuYW1lIG5nSW5jbHVkZSMkaW5jbHVkZUNvbnRlbnRSZXF1ZXN0ZWQKICogQGV2ZW50VHlwZSBlbWl0IG9uIHRoZSBzY29wZSBuZ0luY2x1ZGUgd2FzIGRlY2xhcmVkIGluCiAqIEBkZXNjcmlwdGlvbgogKiBFbWl0dGVkIGV2ZXJ5IHRpbWUgdGhlIG5nSW5jbHVkZSBjb250ZW50IGlzIHJlcXVlc3RlZC4KICovCgoKLyoqCiAqIEBuZ2RvYyBldmVudAogKiBAbmFtZSBuZ0luY2x1ZGUjJGluY2x1ZGVDb250ZW50TG9hZGVkCiAqIEBldmVudFR5cGUgZW1pdCBvbiB0aGUgY3VycmVudCBuZ0luY2x1ZGUgc2NvcGUKICogQGRlc2NyaXB0aW9uCiAqIEVtaXR0ZWQgZXZlcnkgdGltZSB0aGUgbmdJbmNsdWRlIGNvbnRlbnQgaXMgcmVsb2FkZWQuCiAqLwp2YXIgbmdJbmNsdWRlRGlyZWN0aXZlID0gWyckaHR0cCcsICckdGVtcGxhdGVDYWNoZScsICckYW5jaG9yU2Nyb2xsJywgJyRhbmltYXRlJywgJyRzY2UnLAogICAgICAgICAgICAgICAgICBmdW5jdGlvbigkaHR0cCwgICAkdGVtcGxhdGVDYWNoZSwgICAkYW5jaG9yU2Nyb2xsLCAgICRhbmltYXRlLCAgICRzY2UpIHsKICByZXR1cm4gewogICAgcmVzdHJpY3Q6ICdFQ0EnLAogICAgcHJpb3JpdHk6IDQwMCwKICAgIHRlcm1pbmFsOiB0cnVlLAogICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLAogICAgY29udHJvbGxlcjogYW5ndWxhci5ub29wLAogICAgY29tcGlsZTogZnVuY3Rpb24oZWxlbWVudCwgYXR0cikgewogICAgICB2YXIgc3JjRXhwID0gYXR0ci5uZ0luY2x1ZGUgfHwgYXR0ci5zcmMsCiAgICAgICAgICBvbmxvYWRFeHAgPSBhdHRyLm9ubG9hZCB8fCAnJywKICAgICAgICAgIGF1dG9TY3JvbGxFeHAgPSBhdHRyLmF1dG9zY3JvbGw7CgogICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsICRlbGVtZW50LCAkYXR0ciwgY3RybCwgJHRyYW5zY2x1ZGUpIHsKICAgICAgICB2YXIgY2hhbmdlQ291bnRlciA9IDAsCiAgICAgICAgICAgIGN1cnJlbnRTY29wZSwKICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50LAogICAgICAgICAgICBjdXJyZW50RWxlbWVudDsKCiAgICAgICAgdmFyIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgIGlmKHByZXZpb3VzRWxlbWVudCkgewogICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQucmVtb3ZlKCk7CiAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudCA9IG51bGw7CiAgICAgICAgICB9CiAgICAgICAgICBpZihjdXJyZW50U2NvcGUpIHsKICAgICAgICAgICAgY3VycmVudFNjb3BlLiRkZXN0cm95KCk7CiAgICAgICAgICAgIGN1cnJlbnRTY29wZSA9IG51bGw7CiAgICAgICAgICB9CiAgICAgICAgICBpZihjdXJyZW50RWxlbWVudCkgewogICAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShjdXJyZW50RWxlbWVudCwgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50ID0gbnVsbDsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudCA9IGN1cnJlbnRFbGVtZW50OwogICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IG51bGw7CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgc2NvcGUuJHdhdGNoKCRzY2UucGFyc2VBc1Jlc291cmNlVXJsKHNyY0V4cCksIGZ1bmN0aW9uIG5nSW5jbHVkZVdhdGNoQWN0aW9uKHNyYykgewogICAgICAgICAgdmFyIGFmdGVyQW5pbWF0aW9uID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmIChpc0RlZmluZWQoYXV0b1Njcm9sbEV4cCkgJiYgKCFhdXRvU2Nyb2xsRXhwIHx8IHNjb3BlLiRldmFsKGF1dG9TY3JvbGxFeHApKSkgewogICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICAgIHZhciB0aGlzQ2hhbmdlSWQgPSArK2NoYW5nZUNvdW50ZXI7CgogICAgICAgICAgaWYgKHNyYykgewogICAgICAgICAgICAkaHR0cC5nZXQoc3JjLCB7Y2FjaGU6ICR0ZW1wbGF0ZUNhY2hlfSkuc3VjY2VzcyhmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICAgIGlmICh0aGlzQ2hhbmdlSWQgIT09IGNoYW5nZUNvdW50ZXIpIHJldHVybjsKICAgICAgICAgICAgICB2YXIgbmV3U2NvcGUgPSBzY29wZS4kbmV3KCk7CiAgICAgICAgICAgICAgY3RybC50ZW1wbGF0ZSA9IHJlc3BvbnNlOwoKICAgICAgICAgICAgICAvLyBOb3RlOiBUaGlzIHdpbGwgYWxzbyBsaW5rIGFsbCBjaGlsZHJlbiBvZiBuZy1pbmNsdWRlIHRoYXQgd2VyZSBjb250YWluZWQgaW4gdGhlIG9yaWdpbmFsCiAgICAgICAgICAgICAgLy8gaHRtbC4gSWYgdGhhdCBjb250ZW50IGNvbnRhaW5zIGNvbnRyb2xsZXJzLCAuLi4gdGhleSBjb3VsZCBwb2xsdXRlL2NoYW5nZSB0aGUgc2NvcGUuCiAgICAgICAgICAgICAgLy8gSG93ZXZlciwgdXNpbmcgbmctaW5jbHVkZSBvbiBhbiBlbGVtZW50IHdpdGggYWRkaXRpb25hbCBjb250ZW50IGRvZXMgbm90IG1ha2Ugc2Vuc2UuLi4KICAgICAgICAgICAgICAvLyBOb3RlOiBXZSBjYW4ndCByZW1vdmUgdGhlbSBpbiB0aGUgY2xvbmVBdHRjaEZuIG9mICR0cmFuc2NsdWRlIGFzIHRoYXQKICAgICAgICAgICAgICAvLyBmdW5jdGlvbiBpcyBjYWxsZWQgYmVmb3JlIGxpbmtpbmcgdGhlIGNvbnRlbnQsIHdoaWNoIHdvdWxkIGFwcGx5IGNoaWxkCiAgICAgICAgICAgICAgLy8gZGlyZWN0aXZlcyB0byBub24gZXhpc3RpbmcgZWxlbWVudHMuCiAgICAgICAgICAgICAgdmFyIGNsb25lID0gJHRyYW5zY2x1ZGUobmV3U2NvcGUsIGZ1bmN0aW9uKGNsb25lKSB7CiAgICAgICAgICAgICAgICBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KCk7CiAgICAgICAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihjbG9uZSwgbnVsbCwgJGVsZW1lbnQsIGFmdGVyQW5pbWF0aW9uKTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY3VycmVudFNjb3BlID0gbmV3U2NvcGU7CiAgICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBjbG9uZTsKCiAgICAgICAgICAgICAgY3VycmVudFNjb3BlLiRlbWl0KCckaW5jbHVkZUNvbnRlbnRMb2FkZWQnKTsKICAgICAgICAgICAgICBzY29wZS4kZXZhbChvbmxvYWRFeHApOwogICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbigpIHsKICAgICAgICAgICAgICBpZiAodGhpc0NoYW5nZUlkID09PSBjaGFuZ2VDb3VudGVyKSBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzY29wZS4kZW1pdCgnJGluY2x1ZGVDb250ZW50UmVxdWVzdGVkJyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KCk7CiAgICAgICAgICAgIGN0cmwudGVtcGxhdGUgPSBudWxsOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9OwogICAgfQogIH07Cn1dOwoKLy8gVGhpcyBkaXJlY3RpdmUgaXMgY2FsbGVkIGR1cmluZyB0aGUgJHRyYW5zY2x1ZGUgY2FsbCBvZiB0aGUgZmlyc3QgYG5nSW5jbHVkZWAgZGlyZWN0aXZlLgovLyBJdCB3aWxsIHJlcGxhY2UgYW5kIGNvbXBpbGUgdGhlIGNvbnRlbnQgb2YgdGhlIGVsZW1lbnQgd2l0aCB0aGUgbG9hZGVkIHRlbXBsYXRlLgovLyBXZSBuZWVkIHRoaXMgZGlyZWN0aXZlIHNvIHRoYXQgdGhlIGVsZW1lbnQgY29udGVudCBpcyBhbHJlYWR5IGZpbGxlZCB3aGVuCi8vIHRoZSBsaW5rIGZ1bmN0aW9uIG9mIGFub3RoZXIgZGlyZWN0aXZlIG9uIHRoZSBzYW1lIGVsZW1lbnQgYXMgbmdJbmNsdWRlCi8vIGlzIGNhbGxlZC4KdmFyIG5nSW5jbHVkZUZpbGxDb250ZW50RGlyZWN0aXZlID0gWyckY29tcGlsZScsCiAgZnVuY3Rpb24oJGNvbXBpbGUpIHsKICAgIHJldHVybiB7CiAgICAgIHJlc3RyaWN0OiAnRUNBJywKICAgICAgcHJpb3JpdHk6IC00MDAsCiAgICAgIHJlcXVpcmU6ICduZ0luY2x1ZGUnLAogICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgJGVsZW1lbnQsICRhdHRyLCBjdHJsKSB7CiAgICAgICAgJGVsZW1lbnQuaHRtbChjdHJsLnRlbXBsYXRlKTsKICAgICAgICAkY29tcGlsZSgkZWxlbWVudC5jb250ZW50cygpKShzY29wZSk7CiAgICAgIH0KICAgIH07CiAgfV07CgovKioKICogQG5nZG9jIGRpcmVjdGl2ZQogKiBAbmFtZSBuZ0luaXQKICogQHJlc3RyaWN0IEFDCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBUaGUgYG5nSW5pdGAgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gZXZhbHVhdGUgYW4gZXhwcmVzc2lvbiBpbiB0aGUKICogY3VycmVudCBzY29wZS4KICoKICogPGRpdiBjbGFzcz0iYWxlcnQgYWxlcnQtZXJyb3IiPgogKiBUaGUgb25seSBhcHByb3ByaWF0ZSB1c2Ugb2YgYG5nSW5pdGAgaXMgZm9yIGFsaWFzaW5nIHNwZWNpYWwgcHJvcGVydGllcyBvZgogKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IGBuZ1JlcGVhdGB9LCBhcyBzZWVuIGluIHRoZSBkZW1vIGJlbG93LiBCZXNpZGVzIHRoaXMgY2FzZSwgeW91CiAqIHNob3VsZCB1c2Uge0BsaW5rIGd1aWRlL2NvbnRyb2xsZXIgY29udHJvbGxlcnN9IHJhdGhlciB0aGFuIGBuZ0luaXRgCiAqIHRvIGluaXRpYWxpemUgdmFsdWVzIG9uIGEgc2NvcGUuCiAqIDwvZGl2PgogKiA8ZGl2IGNsYXNzPSJhbGVydCBhbGVydC13YXJuaW5nIj4KICogKipOb3RlKio6IElmIHlvdSBoYXZlIGFzc2lnbm1lbnQgaW4gYG5nSW5pdGAgYWxvbmcgd2l0aCB7QGxpbmsgbmcuJGZpbHRlciBgJGZpbHRlcmB9LCBtYWtlCiAqIHN1cmUgeW91IGhhdmUgcGFyZW50aGVzaXMgZm9yIGNvcnJlY3QgcHJlY2VkZW5jZToKICogPHByZSBjbGFzcz0icHJldHR5cHJpbnQiPgogKiAgIDxkaXYgbmctaW5pdD0idGVzdDEgPSAoZGF0YSB8IG9yZGVyQnk6J25hbWUnKSI+PC9kaXY+CiAqIDwvcHJlPgogKiA8L2Rpdj4KICoKICogQHByaW9yaXR5IDQ1MAogKgogKiBAZWxlbWVudCBBTlkKICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0luaXQge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC4KICoKICogQGV4YW1wbGUKICAgPGV4YW1wbGU+CiAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgIDxzY3JpcHQ+CiAgICAgZnVuY3Rpb24gQ3RybCgkc2NvcGUpIHsKICAgICAgICRzY29wZS5saXN0ID0gW1snYScsICdiJ10sIFsnYycsICdkJ11dOwogICAgIH0KICAgPC9zY3JpcHQ+CiAgIDxkaXYgbmctY29udHJvbGxlcj0iQ3RybCI+CiAgICAgPGRpdiBuZy1yZXBlYXQ9ImlubmVyTGlzdCBpbiBsaXN0IiBuZy1pbml0PSJvdXRlckluZGV4ID0gJGluZGV4Ij4KICAgICAgIDxkaXYgbmctcmVwZWF0PSJ2YWx1ZSBpbiBpbm5lckxpc3QiIG5nLWluaXQ9ImlubmVySW5kZXggPSAkaW5kZXgiPgogICAgICAgICAgPHNwYW4gY2xhc3M9ImV4YW1wbGUtaW5pdCI+bGlzdFsge3tvdXRlckluZGV4fX0gXVsge3tpbm5lckluZGV4fX0gXSA9IHt7dmFsdWV9fTs8L3NwYW4+CiAgICAgICA8L2Rpdj4KICAgICA8L2Rpdj4KICAgPC9kaXY+CiAgICAgPC9maWxlPgogICAgIDxmaWxlIG5hbWU9InByb3RyYWN0b3IuanMiIHR5cGU9InByb3RyYWN0b3IiPgogICAgICAgaXQoJ3Nob3VsZCBhbGlhcyBpbmRleCBwb3NpdGlvbnMnLCBmdW5jdGlvbigpIHsKICAgICAgICAgdmFyIGVsZW1lbnRzID0gZWxlbWVudC5hbGwoYnkuY3NzKCcuZXhhbXBsZS1pbml0JykpOwogICAgICAgICBleHBlY3QoZWxlbWVudHMuZ2V0KDApLmdldFRleHQoKSkudG9CZSgnbGlzdFsgMCBdWyAwIF0gPSBhOycpOwogICAgICAgICBleHBlY3QoZWxlbWVudHMuZ2V0KDEpLmdldFRleHQoKSkudG9CZSgnbGlzdFsgMCBdWyAxIF0gPSBiOycpOwogICAgICAgICBleHBlY3QoZWxlbWVudHMuZ2V0KDIpLmdldFRleHQoKSkudG9CZSgnbGlzdFsgMSBdWyAwIF0gPSBjOycpOwogICAgICAgICBleHBlY3QoZWxlbWVudHMuZ2V0KDMpLmdldFRleHQoKSkudG9CZSgnbGlzdFsgMSBdWyAxIF0gPSBkOycpOwogICAgICAgfSk7CiAgICAgPC9maWxlPgogICA8L2V4YW1wbGU+CiAqLwp2YXIgbmdJbml0RGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoewogIHByaW9yaXR5OiA0NTAsCiAgY29tcGlsZTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICBwcmU6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykgewogICAgICAgIHNjb3BlLiRldmFsKGF0dHJzLm5nSW5pdCk7CiAgICAgIH0KICAgIH07CiAgfQp9KTsKCi8qKgogKiBAbmdkb2MgZGlyZWN0aXZlCiAqIEBuYW1lIG5nTm9uQmluZGFibGUKICogQHJlc3RyaWN0IEFDCiAqIEBwcmlvcml0eSAxMDAwCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBUaGUgYG5nTm9uQmluZGFibGVgIGRpcmVjdGl2ZSB0ZWxscyBBbmd1bGFyIG5vdCB0byBjb21waWxlIG9yIGJpbmQgdGhlIGNvbnRlbnRzIG9mIHRoZSBjdXJyZW50CiAqIERPTSBlbGVtZW50LiBUaGlzIGlzIHVzZWZ1bCBpZiB0aGUgZWxlbWVudCBjb250YWlucyB3aGF0IGFwcGVhcnMgdG8gYmUgQW5ndWxhciBkaXJlY3RpdmVzIGFuZAogKiBiaW5kaW5ncyBidXQgd2hpY2ggc2hvdWxkIGJlIGlnbm9yZWQgYnkgQW5ndWxhci4gVGhpcyBjb3VsZCBiZSB0aGUgY2FzZSBpZiB5b3UgaGF2ZSBhIHNpdGUgdGhhdAogKiBkaXNwbGF5cyBzbmlwcGV0cyBvZiBjb2RlLCBmb3IgaW5zdGFuY2UuCiAqCiAqIEBlbGVtZW50IEFOWQogKgogKiBAZXhhbXBsZQogKiBJbiB0aGlzIGV4YW1wbGUgdGhlcmUgYXJlIHR3byBsb2NhdGlvbnMgd2hlcmUgYSBzaW1wbGUgaW50ZXJwb2xhdGlvbiBiaW5kaW5nIChge3t9fWApIGlzIHByZXNlbnQsCiAqIGJ1dCB0aGUgb25lIHdyYXBwZWQgaW4gYG5nTm9uQmluZGFibGVgIGlzIGxlZnQgYWxvbmUuCiAqCiAqIEBleGFtcGxlCiAgICA8ZXhhbXBsZT4KICAgICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgICAgPGRpdj5Ob3JtYWw6IHt7MSArIDJ9fTwvZGl2PgogICAgICAgIDxkaXYgbmctbm9uLWJpbmRhYmxlPklnbm9yZWQ6IHt7MSArIDJ9fTwvZGl2PgogICAgICA8L2ZpbGU+CiAgICAgIDxmaWxlIG5hbWU9InByb3RyYWN0b3IuanMiIHR5cGU9InByb3RyYWN0b3IiPgogICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1ub24tYmluZGFibGUnLCBmdW5jdGlvbigpIHsKICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnMSArIDInKSkuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzMnKTsKICAgICAgICAgZXhwZWN0KGVsZW1lbnQuYWxsKGJ5LmNzcygnZGl2JykpLmxhc3QoKS5nZXRUZXh0KCkpLnRvTWF0Y2goLzEgXCsgMi8pOwogICAgICAgfSk7CiAgICAgIDwvZmlsZT4KICAgIDwvZXhhbXBsZT4KICovCnZhciBuZ05vbkJpbmRhYmxlRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoeyB0ZXJtaW5hbDogdHJ1ZSwgcHJpb3JpdHk6IDEwMDAgfSk7CgovKioKICogQG5nZG9jIGRpcmVjdGl2ZQogKiBAbmFtZSBuZ1BsdXJhbGl6ZQogKiBAcmVzdHJpY3QgRUEKICoKICogQGRlc2NyaXB0aW9uCiAqIGBuZ1BsdXJhbGl6ZWAgaXMgYSBkaXJlY3RpdmUgdGhhdCBkaXNwbGF5cyBtZXNzYWdlcyBhY2NvcmRpbmcgdG8gZW4tVVMgbG9jYWxpemF0aW9uIHJ1bGVzLgogKiBUaGVzZSBydWxlcyBhcmUgYnVuZGxlZCB3aXRoIGFuZ3VsYXIuanMsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlbgogKiAoc2VlIHtAbGluayBndWlkZS9pMThuIEFuZ3VsYXIgaTE4bn0gZGV2IGd1aWRlKS4gWW91IGNvbmZpZ3VyZSBuZ1BsdXJhbGl6ZSBkaXJlY3RpdmUKICogYnkgc3BlY2lmeWluZyB0aGUgbWFwcGluZ3MgYmV0d2VlbgogKiBbcGx1cmFsIGNhdGVnb3JpZXNdKGh0dHA6Ly91bmljb2RlLm9yZy9yZXBvcy9jbGRyLXRtcC90cnVuay9kaWZmL3N1cHBsZW1lbnRhbC9sYW5ndWFnZV9wbHVyYWxfcnVsZXMuaHRtbCkKICogYW5kIHRoZSBzdHJpbmdzIHRvIGJlIGRpc3BsYXllZC4KICoKICogIyBQbHVyYWwgY2F0ZWdvcmllcyBhbmQgZXhwbGljaXQgbnVtYmVyIHJ1bGVzCiAqIFRoZXJlIGFyZSB0d28KICogW3BsdXJhbCBjYXRlZ29yaWVzXShodHRwOi8vdW5pY29kZS5vcmcvcmVwb3MvY2xkci10bXAvdHJ1bmsvZGlmZi9zdXBwbGVtZW50YWwvbGFuZ3VhZ2VfcGx1cmFsX3J1bGVzLmh0bWwpCiAqIGluIEFuZ3VsYXIncyBkZWZhdWx0IGVuLVVTIGxvY2FsZTogIm9uZSIgYW5kICJvdGhlciIuCiAqCiAqIFdoaWxlIGEgcGx1cmFsIGNhdGVnb3J5IG1heSBtYXRjaCBtYW55IG51bWJlcnMgKGZvciBleGFtcGxlLCBpbiBlbi1VUyBsb2NhbGUsICJvdGhlciIgY2FuIG1hdGNoCiAqIGFueSBudW1iZXIgdGhhdCBpcyBub3QgMSksIGFuIGV4cGxpY2l0IG51bWJlciBydWxlIGNhbiBvbmx5IG1hdGNoIG9uZSBudW1iZXIuIEZvciBleGFtcGxlLCB0aGUKICogZXhwbGljaXQgbnVtYmVyIHJ1bGUgZm9yICIzIiBtYXRjaGVzIHRoZSBudW1iZXIgMy4gVGhlcmUgYXJlIGV4YW1wbGVzIG9mIHBsdXJhbCBjYXRlZ29yaWVzCiAqIGFuZCBleHBsaWNpdCBudW1iZXIgcnVsZXMgdGhyb3VnaG91dCB0aGUgcmVzdCBvZiB0aGlzIGRvY3VtZW50YXRpb24uCiAqCiAqICMgQ29uZmlndXJpbmcgbmdQbHVyYWxpemUKICogWW91IGNvbmZpZ3VyZSBuZ1BsdXJhbGl6ZSBieSBwcm92aWRpbmcgMiBhdHRyaWJ1dGVzOiBgY291bnRgIGFuZCBgd2hlbmAuCiAqIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIG9wdGlvbmFsIGF0dHJpYnV0ZSwgYG9mZnNldGAuCiAqCiAqIFRoZSB2YWx1ZSBvZiB0aGUgYGNvdW50YCBhdHRyaWJ1dGUgY2FuIGJlIGVpdGhlciBhIHN0cmluZyBvciBhbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbgogKiBBbmd1bGFyIGV4cHJlc3Npb259OyB0aGVzZSBhcmUgZXZhbHVhdGVkIG9uIHRoZSBjdXJyZW50IHNjb3BlIGZvciBpdHMgYm91bmQgdmFsdWUuCiAqCiAqIFRoZSBgd2hlbmAgYXR0cmlidXRlIHNwZWNpZmllcyB0aGUgbWFwcGluZ3MgYmV0d2VlbiBwbHVyYWwgY2F0ZWdvcmllcyBhbmQgdGhlIGFjdHVhbAogKiBzdHJpbmcgdG8gYmUgZGlzcGxheWVkLiBUaGUgdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZSBzaG91bGQgYmUgYSBKU09OIG9iamVjdC4KICoKICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byBjb25maWd1cmUgbmdQbHVyYWxpemU6CiAqCiAqIGBgYGh0bWwKICogPG5nLXBsdXJhbGl6ZSBjb3VudD0icGVyc29uQ291bnQiCiAgICAgICAgICAgICAgICAgd2hlbj0ieycwJzogJ05vYm9keSBpcyB2aWV3aW5nLicsCiAqICAgICAgICAgICAgICAgICAgICAgICdvbmUnOiAnMSBwZXJzb24gaXMgdmlld2luZy4nLAogKiAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne30gcGVvcGxlIGFyZSB2aWV3aW5nLid9Ij4KICogPC9uZy1wbHVyYWxpemU+CiAqYGBgCiAqCiAqIEluIHRoZSBleGFtcGxlLCBgIjA6IE5vYm9keSBpcyB2aWV3aW5nLiJgIGlzIGFuIGV4cGxpY2l0IG51bWJlciBydWxlLiBJZiB5b3UgZGlkIG5vdAogKiBzcGVjaWZ5IHRoaXMgcnVsZSwgMCB3b3VsZCBiZSBtYXRjaGVkIHRvIHRoZSAib3RoZXIiIGNhdGVnb3J5IGFuZCAiMCBwZW9wbGUgYXJlIHZpZXdpbmciCiAqIHdvdWxkIGJlIHNob3duIGluc3RlYWQgb2YgIk5vYm9keSBpcyB2aWV3aW5nIi4gWW91IGNhbiBzcGVjaWZ5IGFuIGV4cGxpY2l0IG51bWJlciBydWxlIGZvcgogKiBvdGhlciBudW1iZXJzLCBmb3IgZXhhbXBsZSAxMiwgc28gdGhhdCBpbnN0ZWFkIG9mIHNob3dpbmcgIjEyIHBlb3BsZSBhcmUgdmlld2luZyIsIHlvdSBjYW4KICogc2hvdyAiYSBkb3plbiBwZW9wbGUgYXJlIHZpZXdpbmciLgogKgogKiBZb3UgY2FuIHVzZSBhIHNldCBvZiBjbG9zZWQgYnJhY2VzIChge31gKSBhcyBhIHBsYWNlaG9sZGVyIGZvciB0aGUgbnVtYmVyIHRoYXQgeW91IHdhbnQgc3Vic3RpdHV0ZWQKICogaW50byBwbHVyYWxpemVkIHN0cmluZ3MuIEluIHRoZSBwcmV2aW91cyBleGFtcGxlLCBBbmd1bGFyIHdpbGwgcmVwbGFjZSBge31gIHdpdGgKICogPHNwYW4gbmctbm9uLWJpbmRhYmxlPmB7e3BlcnNvbkNvdW50fX1gPC9zcGFuPi4gVGhlIGNsb3NlZCBicmFjZXMgYHt9YCBpcyBhIHBsYWNlaG9sZGVyCiAqIGZvciA8c3BhbiBuZy1ub24tYmluZGFibGU+e3tudW1iZXJFeHByZXNzaW9ufX08L3NwYW4+LgogKgogKiAjIENvbmZpZ3VyaW5nIG5nUGx1cmFsaXplIHdpdGggb2Zmc2V0CiAqIFRoZSBgb2Zmc2V0YCBhdHRyaWJ1dGUgYWxsb3dzIGZ1cnRoZXIgY3VzdG9taXphdGlvbiBvZiBwbHVyYWxpemVkIHRleHQsIHdoaWNoIGNhbiByZXN1bHQgaW4KICogYSBiZXR0ZXIgdXNlciBleHBlcmllbmNlLiBGb3IgZXhhbXBsZSwgaW5zdGVhZCBvZiB0aGUgbWVzc2FnZSAiNCBwZW9wbGUgYXJlIHZpZXdpbmcgdGhpcyBkb2N1bWVudCIsCiAqIHlvdSBtaWdodCBkaXNwbGF5ICJKb2huLCBLYXRlIGFuZCAyIG90aGVycyBhcmUgdmlld2luZyB0aGlzIGRvY3VtZW50Ii4KICogVGhlIG9mZnNldCBhdHRyaWJ1dGUgYWxsb3dzIHlvdSB0byBvZmZzZXQgYSBudW1iZXIgYnkgYW55IGRlc2lyZWQgdmFsdWUuCiAqIExldCdzIHRha2UgYSBsb29rIGF0IGFuIGV4YW1wbGU6CiAqCiAqIGBgYGh0bWwKICogPG5nLXBsdXJhbGl6ZSBjb3VudD0icGVyc29uQ291bnQiIG9mZnNldD0yCiAqICAgICAgICAgICAgICAgd2hlbj0ieycwJzogJ05vYm9keSBpcyB2aWV3aW5nLicsCiAqICAgICAgICAgICAgICAgICAgICAgICcxJzogJ3t7cGVyc29uMX19IGlzIHZpZXdpbmcuJywKICogICAgICAgICAgICAgICAgICAgICAgJzInOiAne3twZXJzb24xfX0gYW5kIHt7cGVyc29uMn19IGFyZSB2aWV3aW5nLicsCiAqICAgICAgICAgICAgICAgICAgICAgICdvbmUnOiAne3twZXJzb24xfX0sIHt7cGVyc29uMn19IGFuZCBvbmUgb3RoZXIgcGVyc29uIGFyZSB2aWV3aW5nLicsCiAqICAgICAgICAgICAgICAgICAgICAgICdvdGhlcic6ICd7e3BlcnNvbjF9fSwge3twZXJzb24yfX0gYW5kIHt9IG90aGVyIHBlb3BsZSBhcmUgdmlld2luZy4nfSI+CiAqIDwvbmctcGx1cmFsaXplPgogKiBgYGAKICoKICogTm90aWNlIHRoYXQgd2UgYXJlIHN0aWxsIHVzaW5nIHR3byBwbHVyYWwgY2F0ZWdvcmllcyhvbmUsIG90aGVyKSwgYnV0IHdlIGFkZGVkCiAqIHRocmVlIGV4cGxpY2l0IG51bWJlciBydWxlcyAwLCAxIGFuZCAyLgogKiBXaGVuIG9uZSBwZXJzb24sIHBlcmhhcHMgSm9obiwgdmlld3MgdGhlIGRvY3VtZW50LCAiSm9obiBpcyB2aWV3aW5nIiB3aWxsIGJlIHNob3duLgogKiBXaGVuIHRocmVlIHBlb3BsZSB2aWV3IHRoZSBkb2N1bWVudCwgbm8gZXhwbGljaXQgbnVtYmVyIHJ1bGUgaXMgZm91bmQsIHNvCiAqIGFuIG9mZnNldCBvZiAyIGlzIHRha2VuIG9mZiAzLCBhbmQgQW5ndWxhciB1c2VzIDEgdG8gZGVjaWRlIHRoZSBwbHVyYWwgY2F0ZWdvcnkuCiAqIEluIHRoaXMgY2FzZSwgcGx1cmFsIGNhdGVnb3J5ICdvbmUnIGlzIG1hdGNoZWQgYW5kICJKb2huLCBNYXJ5IGFuZCBvbmUgb3RoZXIgcGVyc29uIGFyZSB2aWV3aW5nIgogKiBpcyBzaG93bi4KICoKICogTm90ZSB0aGF0IHdoZW4geW91IHNwZWNpZnkgb2Zmc2V0cywgeW91IG11c3QgcHJvdmlkZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgZm9yCiAqIG51bWJlcnMgZnJvbSAwIHVwIHRvIGFuZCBpbmNsdWRpbmcgdGhlIG9mZnNldC4gSWYgeW91IHVzZSBhbiBvZmZzZXQgb2YgMywgZm9yIGV4YW1wbGUsCiAqIHlvdSBtdXN0IHByb3ZpZGUgZXhwbGljaXQgbnVtYmVyIHJ1bGVzIGZvciAwLCAxLCAyIGFuZCAzLiBZb3UgbXVzdCBhbHNvIHByb3ZpZGUgcGx1cmFsIHN0cmluZ3MgZm9yCiAqIHBsdXJhbCBjYXRlZ29yaWVzICJvbmUiIGFuZCAib3RoZXIiLgogKgogKiBAcGFyYW0ge3N0cmluZ3xleHByZXNzaW9ufSBjb3VudCBUaGUgdmFyaWFibGUgdG8gYmUgYm91bmQgdG8uCiAqIEBwYXJhbSB7c3RyaW5nfSB3aGVuIFRoZSBtYXBwaW5nIGJldHdlZW4gcGx1cmFsIGNhdGVnb3J5IHRvIGl0cyBjb3JyZXNwb25kaW5nIHN0cmluZ3MuCiAqIEBwYXJhbSB7bnVtYmVyPX0gb2Zmc2V0IE9mZnNldCB0byBkZWR1Y3QgZnJvbSB0aGUgdG90YWwgbnVtYmVyLgogKgogKiBAZXhhbXBsZQogICAgPGV4YW1wbGU+CiAgICAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgICAgIDxzY3JpcHQ+CiAgICAgICAgICBmdW5jdGlvbiBDdHJsKCRzY29wZSkgewogICAgICAgICAgICAkc2NvcGUucGVyc29uMSA9ICdJZ29yJzsKICAgICAgICAgICAgJHNjb3BlLnBlcnNvbjIgPSAnTWlza28nOwogICAgICAgICAgICAkc2NvcGUucGVyc29uQ291bnQgPSAxOwogICAgICAgICAgfQogICAgICAgIDwvc2NyaXB0PgogICAgICAgIDxkaXYgbmctY29udHJvbGxlcj0iQ3RybCI+CiAgICAgICAgICBQZXJzb24gMTo8aW5wdXQgdHlwZT0idGV4dCIgbmctbW9kZWw9InBlcnNvbjEiIHZhbHVlPSJJZ29yIiAvPjxici8+CiAgICAgICAgICBQZXJzb24gMjo8aW5wdXQgdHlwZT0idGV4dCIgbmctbW9kZWw9InBlcnNvbjIiIHZhbHVlPSJNaXNrbyIgLz48YnIvPgogICAgICAgICAgTnVtYmVyIG9mIFBlb3BsZTo8aW5wdXQgdHlwZT0idGV4dCIgbmctbW9kZWw9InBlcnNvbkNvdW50IiB2YWx1ZT0iMSIgLz48YnIvPgoKICAgICAgICAgIDwhLS0tIEV4YW1wbGUgd2l0aCBzaW1wbGUgcGx1cmFsaXphdGlvbiBydWxlcyBmb3IgZW4gbG9jYWxlIC0tLT4KICAgICAgICAgIFdpdGhvdXQgT2Zmc2V0OgogICAgICAgICAgPG5nLXBsdXJhbGl6ZSBjb3VudD0icGVyc29uQ291bnQiCiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW49InsnMCc6ICdOb2JvZHkgaXMgdmlld2luZy4nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29uZSc6ICcxIHBlcnNvbiBpcyB2aWV3aW5nLicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne30gcGVvcGxlIGFyZSB2aWV3aW5nLid9Ij4KICAgICAgICAgIDwvbmctcGx1cmFsaXplPjxicj4KCiAgICAgICAgICA8IS0tLSBFeGFtcGxlIHdpdGggb2Zmc2V0IC0tLT4KICAgICAgICAgIFdpdGggT2Zmc2V0KDIpOgogICAgICAgICAgPG5nLXBsdXJhbGl6ZSBjb3VudD0icGVyc29uQ291bnQiIG9mZnNldD0yCiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW49InsnMCc6ICdOb2JvZHkgaXMgdmlld2luZy4nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzEnOiAne3twZXJzb24xfX0gaXMgdmlld2luZy4nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzInOiAne3twZXJzb24xfX0gYW5kIHt7cGVyc29uMn19IGFyZSB2aWV3aW5nLicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb25lJzogJ3t7cGVyc29uMX19LCB7e3BlcnNvbjJ9fSBhbmQgb25lIG90aGVyIHBlcnNvbiBhcmUgdmlld2luZy4nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ290aGVyJzogJ3t7cGVyc29uMX19LCB7e3BlcnNvbjJ9fSBhbmQge30gb3RoZXIgcGVvcGxlIGFyZSB2aWV3aW5nLid9Ij4KICAgICAgICAgIDwvbmctcGx1cmFsaXplPgogICAgICAgIDwvZGl2PgogICAgICA8L2ZpbGU+CiAgICAgIDxmaWxlIG5hbWU9InByb3RyYWN0b3IuanMiIHR5cGU9InByb3RyYWN0b3IiPgogICAgICAgIGl0KCdzaG91bGQgc2hvdyBjb3JyZWN0IHBsdXJhbGl6ZWQgc3RyaW5nJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICB2YXIgd2l0aG91dE9mZnNldCA9IGVsZW1lbnQuYWxsKGJ5LmNzcygnbmctcGx1cmFsaXplJykpLmdldCgwKTsKICAgICAgICAgIHZhciB3aXRoT2Zmc2V0ID0gZWxlbWVudC5hbGwoYnkuY3NzKCduZy1wbHVyYWxpemUnKSkuZ2V0KDEpOwogICAgICAgICAgdmFyIGNvdW50SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb25Db3VudCcpKTsKCiAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJzEgcGVyc29uIGlzIHZpZXdpbmcuJyk7CiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IgaXMgdmlld2luZy4nKTsKCiAgICAgICAgICBjb3VudElucHV0LmNsZWFyKCk7CiAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCcwJyk7CgogICAgICAgICAgZXhwZWN0KHdpdGhvdXRPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCdOb2JvZHkgaXMgdmlld2luZy4nKTsKICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnTm9ib2R5IGlzIHZpZXdpbmcuJyk7CgogICAgICAgICAgY291bnRJbnB1dC5jbGVhcigpOwogICAgICAgICAgY291bnRJbnB1dC5zZW5kS2V5cygnMicpOwoKICAgICAgICAgIGV4cGVjdCh3aXRob3V0T2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnMiBwZW9wbGUgYXJlIHZpZXdpbmcuJyk7CiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IgYW5kIE1pc2tvIGFyZSB2aWV3aW5nLicpOwoKICAgICAgICAgIGNvdW50SW5wdXQuY2xlYXIoKTsKICAgICAgICAgIGNvdW50SW5wdXQuc2VuZEtleXMoJzMnKTsKCiAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJzMgcGVvcGxlIGFyZSB2aWV3aW5nLicpOwogICAgICAgICAgZXhwZWN0KHdpdGhPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCdJZ29yLCBNaXNrbyBhbmQgb25lIG90aGVyIHBlcnNvbiBhcmUgdmlld2luZy4nKTsKCiAgICAgICAgICBjb3VudElucHV0LmNsZWFyKCk7CiAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCc0Jyk7CgogICAgICAgICAgZXhwZWN0KHdpdGhvdXRPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCc0IHBlb3BsZSBhcmUgdmlld2luZy4nKTsKICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnSWdvciwgTWlza28gYW5kIDIgb3RoZXIgcGVvcGxlIGFyZSB2aWV3aW5nLicpOwogICAgICAgIH0pOwogICAgICAgIGl0KCdzaG91bGQgc2hvdyBkYXRhLWJvdW5kIG5hbWVzJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICB2YXIgd2l0aE9mZnNldCA9IGVsZW1lbnQuYWxsKGJ5LmNzcygnbmctcGx1cmFsaXplJykpLmdldCgxKTsKICAgICAgICAgIHZhciBwZXJzb25Db3VudCA9IGVsZW1lbnQoYnkubW9kZWwoJ3BlcnNvbkNvdW50JykpOwogICAgICAgICAgdmFyIHBlcnNvbjEgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb24xJykpOwogICAgICAgICAgdmFyIHBlcnNvbjIgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb24yJykpOwogICAgICAgICAgcGVyc29uQ291bnQuY2xlYXIoKTsKICAgICAgICAgIHBlcnNvbkNvdW50LnNlbmRLZXlzKCc0Jyk7CiAgICAgICAgICBwZXJzb24xLmNsZWFyKCk7CiAgICAgICAgICBwZXJzb24xLnNlbmRLZXlzKCdEaScpOwogICAgICAgICAgcGVyc29uMi5jbGVhcigpOwogICAgICAgICAgcGVyc29uMi5zZW5kS2V5cygnVm9qdGEnKTsKICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnRGksIFZvanRhIGFuZCAyIG90aGVyIHBlb3BsZSBhcmUgdmlld2luZy4nKTsKICAgICAgICB9KTsKICAgICAgPC9maWxlPgogICAgPC9leGFtcGxlPgogKi8KdmFyIG5nUGx1cmFsaXplRGlyZWN0aXZlID0gWyckbG9jYWxlJywgJyRpbnRlcnBvbGF0ZScsIGZ1bmN0aW9uKCRsb2NhbGUsICRpbnRlcnBvbGF0ZSkgewogIHZhciBCUkFDRSA9IC97fS9nOwogIHJldHVybiB7CiAgICByZXN0cmljdDogJ0VBJywKICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7CiAgICAgIHZhciBudW1iZXJFeHAgPSBhdHRyLmNvdW50LAogICAgICAgICAgd2hlbkV4cCA9IGF0dHIuJGF0dHIud2hlbiAmJiBlbGVtZW50LmF0dHIoYXR0ci4kYXR0ci53aGVuKSwgLy8gd2UgaGF2ZSB7e319IGluIGF0dHJzCiAgICAgICAgICBvZmZzZXQgPSBhdHRyLm9mZnNldCB8fCAwLAogICAgICAgICAgd2hlbnMgPSBzY29wZS4kZXZhbCh3aGVuRXhwKSB8fCB7fSwKICAgICAgICAgIHdoZW5zRXhwRm5zID0ge30sCiAgICAgICAgICBzdGFydFN5bWJvbCA9ICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpLAogICAgICAgICAgZW5kU3ltYm9sID0gJGludGVycG9sYXRlLmVuZFN5bWJvbCgpLAogICAgICAgICAgaXNXaGVuID0gL153aGVuKE1pbnVzKT8oLispJC87CgogICAgICBmb3JFYWNoKGF0dHIsIGZ1bmN0aW9uKGV4cHJlc3Npb24sIGF0dHJpYnV0ZU5hbWUpIHsKICAgICAgICBpZiAoaXNXaGVuLnRlc3QoYXR0cmlidXRlTmFtZSkpIHsKICAgICAgICAgIHdoZW5zW2xvd2VyY2FzZShhdHRyaWJ1dGVOYW1lLnJlcGxhY2UoJ3doZW4nLCAnJykucmVwbGFjZSgnTWludXMnLCAnLScpKV0gPQogICAgICAgICAgICBlbGVtZW50LmF0dHIoYXR0ci4kYXR0clthdHRyaWJ1dGVOYW1lXSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgZm9yRWFjaCh3aGVucywgZnVuY3Rpb24oZXhwcmVzc2lvbiwga2V5KSB7CiAgICAgICAgd2hlbnNFeHBGbnNba2V5XSA9CiAgICAgICAgICAkaW50ZXJwb2xhdGUoZXhwcmVzc2lvbi5yZXBsYWNlKEJSQUNFLCBzdGFydFN5bWJvbCArIG51bWJlckV4cCArICctJyArCiAgICAgICAgICAgIG9mZnNldCArIGVuZFN5bWJvbCkpOwogICAgICB9KTsKCiAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiBuZ1BsdXJhbGl6ZVdhdGNoKCkgewogICAgICAgIHZhciB2YWx1ZSA9IHBhcnNlRmxvYXQoc2NvcGUuJGV2YWwobnVtYmVyRXhwKSk7CgogICAgICAgIGlmICghaXNOYU4odmFsdWUpKSB7CiAgICAgICAgICAvL2lmIGV4cGxpY2l0IG51bWJlciBydWxlIHN1Y2ggYXMgMSwgMiwgMy4uLiBpcyBkZWZpbmVkLCBqdXN0IHVzZSBpdC4gT3RoZXJ3aXNlLAogICAgICAgICAgLy9jaGVjayBpdCBhZ2FpbnN0IHBsdXJhbGl6YXRpb24gcnVsZXMgaW4gJGxvY2FsZSBzZXJ2aWNlCiAgICAgICAgICBpZiAoISh2YWx1ZSBpbiB3aGVucykpIHZhbHVlID0gJGxvY2FsZS5wbHVyYWxDYXQodmFsdWUgLSBvZmZzZXQpOwogICAgICAgICAgIHJldHVybiB3aGVuc0V4cEZuc1t2YWx1ZV0oc2NvcGUsIGVsZW1lbnQsIHRydWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gJyc7CiAgICAgICAgfQogICAgICB9LCBmdW5jdGlvbiBuZ1BsdXJhbGl6ZVdhdGNoQWN0aW9uKG5ld1ZhbCkgewogICAgICAgIGVsZW1lbnQudGV4dChuZXdWYWwpOwogICAgICB9KTsKICAgIH0KICB9Owp9XTsKCi8qKgogKiBAbmdkb2MgZGlyZWN0aXZlCiAqIEBuYW1lIG5nUmVwZWF0CiAqCiAqIEBkZXNjcmlwdGlvbgogKiBUaGUgYG5nUmVwZWF0YCBkaXJlY3RpdmUgaW5zdGFudGlhdGVzIGEgdGVtcGxhdGUgb25jZSBwZXIgaXRlbSBmcm9tIGEgY29sbGVjdGlvbi4gRWFjaCB0ZW1wbGF0ZQogKiBpbnN0YW5jZSBnZXRzIGl0cyBvd24gc2NvcGUsIHdoZXJlIHRoZSBnaXZlbiBsb29wIHZhcmlhYmxlIGlzIHNldCB0byB0aGUgY3VycmVudCBjb2xsZWN0aW9uIGl0ZW0sCiAqIGFuZCBgJGluZGV4YCBpcyBzZXQgdG8gdGhlIGl0ZW0gaW5kZXggb3Iga2V5LgogKgogKiBTcGVjaWFsIHByb3BlcnRpZXMgYXJlIGV4cG9zZWQgb24gdGhlIGxvY2FsIHNjb3BlIG9mIGVhY2ggdGVtcGxhdGUgaW5zdGFuY2UsIGluY2x1ZGluZzoKICoKICogfCBWYXJpYWJsZSAgfCBUeXBlICAgICAgICAgICAgfCBEZXRhaWxzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfAogKiB8LS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18CiAqIHwgYCRpbmRleGAgIHwge0B0eXBlIG51bWJlcn0gIHwgaXRlcmF0b3Igb2Zmc2V0IG9mIHRoZSByZXBlYXRlZCBlbGVtZW50ICgwLi5sZW5ndGgtMSkgICAgICAgICAgICAgICAgICAgICAgIHwKICogfCBgJGZpcnN0YCAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSByZXBlYXRlZCBlbGVtZW50IGlzIGZpcnN0IGluIHRoZSBpdGVyYXRvci4gICAgICAgICAgICAgICAgICAgICAgfAogKiB8IGAkbWlkZGxlYCB8IHtAdHlwZSBib29sZWFufSB8IHRydWUgaWYgdGhlIHJlcGVhdGVkIGVsZW1lbnQgaXMgYmV0d2VlbiB0aGUgZmlyc3QgYW5kIGxhc3QgaW4gdGhlIGl0ZXJhdG9yLiB8CiAqIHwgYCRsYXN0YCAgIHwge0B0eXBlIGJvb2xlYW59IHwgdHJ1ZSBpZiB0aGUgcmVwZWF0ZWQgZWxlbWVudCBpcyBsYXN0IGluIHRoZSBpdGVyYXRvci4gICAgICAgICAgICAgICAgICAgICAgIHwKICogfCBgJGV2ZW5gICAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSBpdGVyYXRvciBwb3NpdGlvbiBgJGluZGV4YCBpcyBldmVuIChvdGhlcndpc2UgZmFsc2UpLiAgICAgICAgICAgfAogKiB8IGAkb2RkYCAgICB8IHtAdHlwZSBib29sZWFufSB8IHRydWUgaWYgdGhlIGl0ZXJhdG9yIHBvc2l0aW9uIGAkaW5kZXhgIGlzIG9kZCAob3RoZXJ3aXNlIGZhbHNlKS4gICAgICAgICAgICB8CiAqCiAqIENyZWF0aW5nIGFsaWFzZXMgZm9yIHRoZXNlIHByb3BlcnRpZXMgaXMgcG9zc2libGUgd2l0aCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nSW5pdCBgbmdJbml0YH0uCiAqIFRoaXMgbWF5IGJlIHVzZWZ1bCB3aGVuLCBmb3IgaW5zdGFuY2UsIG5lc3RpbmcgbmdSZXBlYXRzLgogKgogKiAjIFNwZWNpYWwgcmVwZWF0IHN0YXJ0IGFuZCBlbmQgcG9pbnRzCiAqIFRvIHJlcGVhdCBhIHNlcmllcyBvZiBlbGVtZW50cyBpbnN0ZWFkIG9mIGp1c3Qgb25lIHBhcmVudCBlbGVtZW50LCBuZ1JlcGVhdCAoYXMgd2VsbCBhcyBvdGhlciBuZyBkaXJlY3RpdmVzKSBzdXBwb3J0cyBleHRlbmRpbmcKICogdGhlIHJhbmdlIG9mIHRoZSByZXBlYXRlciBieSBkZWZpbmluZyBleHBsaWNpdCBzdGFydCBhbmQgZW5kIHBvaW50cyBieSB1c2luZyAqKm5nLXJlcGVhdC1zdGFydCoqIGFuZCAqKm5nLXJlcGVhdC1lbmQqKiByZXNwZWN0aXZlbHkuCiAqIFRoZSAqKm5nLXJlcGVhdC1zdGFydCoqIGRpcmVjdGl2ZSB3b3JrcyB0aGUgc2FtZSBhcyAqKm5nLXJlcGVhdCoqLCBidXQgd2lsbCByZXBlYXQgYWxsIHRoZSBIVE1MIGNvZGUgKGluY2x1ZGluZyB0aGUgdGFnIGl0J3MgZGVmaW5lZCBvbikKICogdXAgdG8gYW5kIGluY2x1ZGluZyB0aGUgZW5kaW5nIEhUTUwgdGFnIHdoZXJlICoqbmctcmVwZWF0LWVuZCoqIGlzIHBsYWNlZC4KICoKICogVGhlIGV4YW1wbGUgYmVsb3cgbWFrZXMgdXNlIG9mIHRoaXMgZmVhdHVyZToKICogYGBgaHRtbAogKiAgIDxoZWFkZXIgbmctcmVwZWF0LXN0YXJ0PSJpdGVtIGluIGl0ZW1zIj4KICogICAgIEhlYWRlciB7eyBpdGVtIH19CiAqICAgPC9oZWFkZXI+CiAqICAgPGRpdiBjbGFzcz0iYm9keSI+CiAqICAgICBCb2R5IHt7IGl0ZW0gfX0KICogICA8L2Rpdj4KICogICA8Zm9vdGVyIG5nLXJlcGVhdC1lbmQ+CiAqICAgICBGb290ZXIge3sgaXRlbSB9fQogKiAgIDwvZm9vdGVyPgogKiBgYGAKICoKICogQW5kIHdpdGggYW4gaW5wdXQgb2Yge0B0eXBlIFsnQScsJ0InXX0gZm9yIHRoZSBpdGVtcyB2YXJpYWJsZSBpbiB0aGUgZXhhbXBsZSBhYm92ZSwgdGhlIG91dHB1dCB3aWxsIGV2YWx1YXRlIHRvOgogKiBgYGBodG1sCiAqICAgPGhlYWRlcj4KICogICAgIEhlYWRlciBBCiAqICAgPC9oZWFkZXI+CiAqICAgPGRpdiBjbGFzcz0iYm9keSI+CiAqICAgICBCb2R5IEEKICogICA8L2Rpdj4KICogICA8Zm9vdGVyPgogKiAgICAgRm9vdGVyIEEKICogICA8L2Zvb3Rlcj4KICogICA8aGVhZGVyPgogKiAgICAgSGVhZGVyIEIKICogICA8L2hlYWRlcj4KICogICA8ZGl2IGNsYXNzPSJib2R5Ij4KICogICAgIEJvZHkgQgogKiAgIDwvZGl2PgogKiAgIDxmb290ZXI+CiAqICAgICBGb290ZXIgQgogKiAgIDwvZm9vdGVyPgogKiBgYGAKICoKICogVGhlIGN1c3RvbSBzdGFydCBhbmQgZW5kIHBvaW50cyBmb3IgbmdSZXBlYXQgYWxzbyBzdXBwb3J0IGFsbCBvdGhlciBIVE1MIGRpcmVjdGl2ZSBzeW50YXggZmxhdm9ycyBwcm92aWRlZCBpbiBBbmd1bGFySlMgKHN1Y2gKICogYXMgKipkYXRhLW5nLXJlcGVhdC1zdGFydCoqLCAqKngtbmctcmVwZWF0LXN0YXJ0KiogYW5kICoqbmc6cmVwZWF0LXN0YXJ0KiopLgogKgogKiBAYW5pbWF0aW9ucwogKiAqKi5lbnRlcioqIC0gd2hlbiBhIG5ldyBpdGVtIGlzIGFkZGVkIHRvIHRoZSBsaXN0IG9yIHdoZW4gYW4gaXRlbSBpcyByZXZlYWxlZCBhZnRlciBhIGZpbHRlcgogKgogKiAqKi5sZWF2ZSoqIC0gd2hlbiBhbiBpdGVtIGlzIHJlbW92ZWQgZnJvbSB0aGUgbGlzdCBvciB3aGVuIGFuIGl0ZW0gaXMgZmlsdGVyZWQgb3V0CiAqCiAqICoqLm1vdmUqKiAtIHdoZW4gYW4gYWRqYWNlbnQgaXRlbSBpcyBmaWx0ZXJlZCBvdXQgY2F1c2luZyBhIHJlb3JkZXIgb3Igd2hlbiB0aGUgaXRlbSBjb250ZW50cyBhcmUgcmVvcmRlcmVkCiAqCiAqIEBlbGVtZW50IEFOWQogKiBAc2NvcGUKICogQHByaW9yaXR5IDEwMDAKICogQHBhcmFtIHtyZXBlYXRfZXhwcmVzc2lvbn0gbmdSZXBlYXQgVGhlIGV4cHJlc3Npb24gaW5kaWNhdGluZyBob3cgdG8gZW51bWVyYXRlIGEgY29sbGVjdGlvbi4gVGhlc2UKICogICBmb3JtYXRzIGFyZSBjdXJyZW50bHkgc3VwcG9ydGVkOgogKgogKiAgICogYHZhcmlhYmxlIGluIGV4cHJlc3Npb25gIOKAkyB3aGVyZSB2YXJpYWJsZSBpcyB0aGUgdXNlciBkZWZpbmVkIGxvb3AgdmFyaWFibGUgYW5kIGBleHByZXNzaW9uYAogKiAgICAgaXMgYSBzY29wZSBleHByZXNzaW9uIGdpdmluZyB0aGUgY29sbGVjdGlvbiB0byBlbnVtZXJhdGUuCiAqCiAqICAgICBGb3IgZXhhbXBsZTogYGFsYnVtIGluIGFydGlzdC5hbGJ1bXNgLgogKgogKiAgICogYChrZXksIHZhbHVlKSBpbiBleHByZXNzaW9uYCDigJMgd2hlcmUgYGtleWAgYW5kIGB2YWx1ZWAgY2FuIGJlIGFueSB1c2VyIGRlZmluZWQgaWRlbnRpZmllcnMsCiAqICAgICBhbmQgYGV4cHJlc3Npb25gIGlzIHRoZSBzY29wZSBleHByZXNzaW9uIGdpdmluZyB0aGUgY29sbGVjdGlvbiB0byBlbnVtZXJhdGUuCiAqCiAqICAgICBGb3IgZXhhbXBsZTogYChuYW1lLCBhZ2UpIGluIHsnYWRhbSc6MTAsICdhbWFsaWUnOjEyfWAuCiAqCiAqICAgKiBgdmFyaWFibGUgaW4gZXhwcmVzc2lvbiB0cmFjayBieSB0cmFja2luZ19leHByZXNzaW9uYCDigJMgWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gb3B0aW9uYWwgdHJhY2tpbmcgZnVuY3Rpb24KICogICAgIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGFzc29jaWF0ZSB0aGUgb2JqZWN0cyBpbiB0aGUgY29sbGVjdGlvbiB3aXRoIHRoZSBET00gZWxlbWVudHMuIElmIG5vIHRyYWNraW5nIGZ1bmN0aW9uCiAqICAgICBpcyBzcGVjaWZpZWQgdGhlIG5nLXJlcGVhdCBhc3NvY2lhdGVzIGVsZW1lbnRzIGJ5IGlkZW50aXR5IGluIHRoZSBjb2xsZWN0aW9uLiBJdCBpcyBhbiBlcnJvciB0byBoYXZlCiAqICAgICBtb3JlIHRoYW4gb25lIHRyYWNraW5nIGZ1bmN0aW9uIHRvIHJlc29sdmUgdG8gdGhlIHNhbWUga2V5LiAoVGhpcyB3b3VsZCBtZWFuIHRoYXQgdHdvIGRpc3RpbmN0IG9iamVjdHMgYXJlCiAqICAgICBtYXBwZWQgdG8gdGhlIHNhbWUgRE9NIGVsZW1lbnQsIHdoaWNoIGlzIG5vdCBwb3NzaWJsZS4pICBGaWx0ZXJzIHNob3VsZCBiZSBhcHBsaWVkIHRvIHRoZSBleHByZXNzaW9uLAogKiAgICAgYmVmb3JlIHNwZWNpZnlpbmcgYSB0cmFja2luZyBleHByZXNzaW9uLgogKgogKiAgICAgRm9yIGV4YW1wbGU6IGBpdGVtIGluIGl0ZW1zYCBpcyBlcXVpdmFsZW50IHRvIGBpdGVtIGluIGl0ZW1zIHRyYWNrIGJ5ICRpZChpdGVtKWAuIFRoaXMgaW1wbGllcyB0aGF0IHRoZSBET00gZWxlbWVudHMKICogICAgIHdpbGwgYmUgYXNzb2NpYXRlZCBieSBpdGVtIGlkZW50aXR5IGluIHRoZSBhcnJheS4KICoKICogICAgIEZvciBleGFtcGxlOiBgaXRlbSBpbiBpdGVtcyB0cmFjayBieSAkaWQoaXRlbSlgLiBBIGJ1aWx0IGluIGAkaWQoKWAgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gYXNzaWduIGEgdW5pcXVlCiAqICAgICBgJCRoYXNoS2V5YCBwcm9wZXJ0eSB0byBlYWNoIGl0ZW0gaW4gdGhlIGFycmF5LiBUaGlzIHByb3BlcnR5IGlzIHRoZW4gdXNlZCBhcyBhIGtleSB0byBhc3NvY2lhdGVkIERPTSBlbGVtZW50cwogKiAgICAgd2l0aCB0aGUgY29ycmVzcG9uZGluZyBpdGVtIGluIHRoZSBhcnJheSBieSBpZGVudGl0eS4gTW92aW5nIHRoZSBzYW1lIG9iamVjdCBpbiBhcnJheSB3b3VsZCBtb3ZlIHRoZSBET00KICogICAgIGVsZW1lbnQgaW4gdGhlIHNhbWUgd2F5IGluIHRoZSBET00uCiAqCiAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXMgdHJhY2sgYnkgaXRlbS5pZGAgaXMgYSB0eXBpY2FsIHBhdHRlcm4gd2hlbiB0aGUgaXRlbXMgY29tZSBmcm9tIHRoZSBkYXRhYmFzZS4gSW4gdGhpcwogKiAgICAgY2FzZSB0aGUgb2JqZWN0IGlkZW50aXR5IGRvZXMgbm90IG1hdHRlci4gVHdvIG9iamVjdHMgYXJlIGNvbnNpZGVyZWQgZXF1aXZhbGVudCBhcyBsb25nIGFzIHRoZWlyIGBpZGAKICogICAgIHByb3BlcnR5IGlzIHNhbWUuCiAqCiAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXMgfCBmaWx0ZXI6c2VhcmNoVGV4dCB0cmFjayBieSBpdGVtLmlkYCBpcyBhIHBhdHRlcm4gdGhhdCBtaWdodCBiZSB1c2VkIHRvIGFwcGx5IGEgZmlsdGVyCiAqICAgICB0byBpdGVtcyBpbiBjb25qdW5jdGlvbiB3aXRoIGEgdHJhY2tpbmcgZXhwcmVzc2lvbi4KICoKICogQGV4YW1wbGUKICogVGhpcyBleGFtcGxlIGluaXRpYWxpemVzIHRoZSBzY29wZSB0byBhIGxpc3Qgb2YgbmFtZXMgYW5kCiAqIHRoZW4gdXNlcyBgbmdSZXBlYXRgIHRvIGRpc3BsYXkgZXZlcnkgcGVyc29uOgogIDxleGFtcGxlIG1vZHVsZT0ibmdBbmltYXRlIiBkZXBzPSJhbmd1bGFyLWFuaW1hdGUuanMiIGFuaW1hdGlvbnM9InRydWUiPgogICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgIDxkaXYgbmctaW5pdD0iZnJpZW5kcyA9IFsKICAgICAgICB7bmFtZTonSm9obicsIGFnZToyNSwgZ2VuZGVyOidib3knfSwKICAgICAgICB7bmFtZTonSmVzc2llJywgYWdlOjMwLCBnZW5kZXI6J2dpcmwnfSwKICAgICAgICB7bmFtZTonSm9oYW5uYScsIGFnZToyOCwgZ2VuZGVyOidnaXJsJ30sCiAgICAgICAge25hbWU6J0pveScsIGFnZToxNSwgZ2VuZGVyOidnaXJsJ30sCiAgICAgICAge25hbWU6J01hcnknLCBhZ2U6MjgsIGdlbmRlcjonZ2lybCd9LAogICAgICAgIHtuYW1lOidQZXRlcicsIGFnZTo5NSwgZ2VuZGVyOidib3knfSwKICAgICAgICB7bmFtZTonU2ViYXN0aWFuJywgYWdlOjUwLCBnZW5kZXI6J2JveSd9LAogICAgICAgIHtuYW1lOidFcmlrYScsIGFnZToyNywgZ2VuZGVyOidnaXJsJ30sCiAgICAgICAge25hbWU6J1BhdHJpY2snLCBhZ2U6NDAsIGdlbmRlcjonYm95J30sCiAgICAgICAge25hbWU6J1NhbWFudGhhJywgYWdlOjYwLCBnZW5kZXI6J2dpcmwnfQogICAgICBdIj4KICAgICAgICBJIGhhdmUge3tmcmllbmRzLmxlbmd0aH19IGZyaWVuZHMuIFRoZXkgYXJlOgogICAgICAgIDxpbnB1dCB0eXBlPSJzZWFyY2giIG5nLW1vZGVsPSJxIiBwbGFjZWhvbGRlcj0iZmlsdGVyIGZyaWVuZHMuLi4iIC8+CiAgICAgICAgPHVsIGNsYXNzPSJleGFtcGxlLWFuaW1hdGUtY29udGFpbmVyIj4KICAgICAgICAgIDxsaSBjbGFzcz0iYW5pbWF0ZS1yZXBlYXQiIG5nLXJlcGVhdD0iZnJpZW5kIGluIGZyaWVuZHMgfCBmaWx0ZXI6cSI+CiAgICAgICAgICAgIFt7eyRpbmRleCArIDF9fV0ge3tmcmllbmQubmFtZX19IHdobyBpcyB7e2ZyaWVuZC5hZ2V9fSB5ZWFycyBvbGQuCiAgICAgICAgICA8L2xpPgogICAgICAgIDwvdWw+CiAgICAgIDwvZGl2PgogICAgPC9maWxlPgogICAgPGZpbGUgbmFtZT0iYW5pbWF0aW9ucy5jc3MiPgogICAgICAuZXhhbXBsZS1hbmltYXRlLWNvbnRhaW5lciB7CiAgICAgICAgYmFja2dyb3VuZDp3aGl0ZTsKICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrOwogICAgICAgIGxpc3Qtc3R5bGU6bm9uZTsKICAgICAgICBtYXJnaW46MDsKICAgICAgICBwYWRkaW5nOjAgMTBweDsKICAgICAgfQoKICAgICAgLmFuaW1hdGUtcmVwZWF0IHsKICAgICAgICBsaW5lLWhlaWdodDo0MHB4OwogICAgICAgIGxpc3Qtc3R5bGU6bm9uZTsKICAgICAgICBib3gtc2l6aW5nOmJvcmRlci1ib3g7CiAgICAgIH0KCiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1tb3ZlLAogICAgICAuYW5pbWF0ZS1yZXBlYXQubmctZW50ZXIsCiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1sZWF2ZSB7CiAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOmFsbCBsaW5lYXIgMC41czsKICAgICAgICB0cmFuc2l0aW9uOmFsbCBsaW5lYXIgMC41czsKICAgICAgfQoKICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWxlYXZlLm5nLWxlYXZlLWFjdGl2ZSwKICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLW1vdmUsCiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1lbnRlciB7CiAgICAgICAgb3BhY2l0eTowOwogICAgICAgIG1heC1oZWlnaHQ6MDsKICAgICAgfQoKICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWxlYXZlLAogICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbW92ZS5uZy1tb3ZlLWFjdGl2ZSwKICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWVudGVyLm5nLWVudGVyLWFjdGl2ZSB7CiAgICAgICAgb3BhY2l0eToxOwogICAgICAgIG1heC1oZWlnaHQ6NDBweDsKICAgICAgfQogICAgPC9maWxlPgogICAgPGZpbGUgbmFtZT0icHJvdHJhY3Rvci5qcyIgdHlwZT0icHJvdHJhY3RvciI+CiAgICAgIHZhciBmcmllbmRzID0gZWxlbWVudC5hbGwoYnkucmVwZWF0ZXIoJ2ZyaWVuZCBpbiBmcmllbmRzJykpOwoKICAgICAgaXQoJ3Nob3VsZCByZW5kZXIgaW5pdGlhbCBkYXRhIHNldCcsIGZ1bmN0aW9uKCkgewogICAgICAgIGV4cGVjdChmcmllbmRzLmNvdW50KCkpLnRvQmUoMTApOwogICAgICAgIGV4cGVjdChmcmllbmRzLmdldCgwKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1sxXSBKb2huIHdobyBpcyAyNSB5ZWFycyBvbGQuJyk7CiAgICAgICAgZXhwZWN0KGZyaWVuZHMuZ2V0KDEpLmdldFRleHQoKSkudG9FcXVhbCgnWzJdIEplc3NpZSB3aG8gaXMgMzAgeWVhcnMgb2xkLicpOwogICAgICAgIGV4cGVjdChmcmllbmRzLmxhc3QoKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1sxMF0gU2FtYW50aGEgd2hvIGlzIDYwIHllYXJzIG9sZC4nKTsKICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdmcmllbmRzLmxlbmd0aCcpKS5nZXRUZXh0KCkpCiAgICAgICAgICAgIC50b01hdGNoKCJJIGhhdmUgMTAgZnJpZW5kcy4gVGhleSBhcmU6Iik7CiAgICAgIH0pOwoKICAgICAgIGl0KCdzaG91bGQgdXBkYXRlIHJlcGVhdGVyIHdoZW4gZmlsdGVyIHByZWRpY2F0ZSBjaGFuZ2VzJywgZnVuY3Rpb24oKSB7CiAgICAgICAgIGV4cGVjdChmcmllbmRzLmNvdW50KCkpLnRvQmUoMTApOwoKICAgICAgICAgZWxlbWVudChieS5tb2RlbCgncScpKS5zZW5kS2V5cygnbWEnKTsKCiAgICAgICAgIGV4cGVjdChmcmllbmRzLmNvdW50KCkpLnRvQmUoMik7CiAgICAgICAgIGV4cGVjdChmcmllbmRzLmdldCgwKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1sxXSBNYXJ5IHdobyBpcyAyOCB5ZWFycyBvbGQuJyk7CiAgICAgICAgIGV4cGVjdChmcmllbmRzLmxhc3QoKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1syXSBTYW1hbnRoYSB3aG8gaXMgNjAgeWVhcnMgb2xkLicpOwogICAgICAgfSk7CiAgICAgIDwvZmlsZT4KICAgIDwvZXhhbXBsZT4KICovCnZhciBuZ1JlcGVhdERpcmVjdGl2ZSA9IFsnJHBhcnNlJywgJyRhbmltYXRlJywgZnVuY3Rpb24oJHBhcnNlLCAkYW5pbWF0ZSkgewogIHZhciBOR19SRU1PVkVEID0gJyQkTkdfUkVNT1ZFRCc7CiAgdmFyIG5nUmVwZWF0TWluRXJyID0gbWluRXJyKCduZ1JlcGVhdCcpOwogIHJldHVybiB7CiAgICB0cmFuc2NsdWRlOiAnZWxlbWVudCcsCiAgICBwcmlvcml0eTogMTAwMCwKICAgIHRlcm1pbmFsOiB0cnVlLAogICAgJCR0bGI6IHRydWUsCiAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0ciwgY3RybCwgJHRyYW5zY2x1ZGUpewogICAgICAgIHZhciBleHByZXNzaW9uID0gJGF0dHIubmdSZXBlYXQ7CiAgICAgICAgdmFyIG1hdGNoID0gZXhwcmVzc2lvbi5tYXRjaCgvXlxzKihbXHNcU10rPylccytpblxzKyhbXHNcU10rPykoPzpccyt0cmFja1xzK2J5XHMrKFtcc1xTXSs/KSk/XHMqJC8pLAogICAgICAgICAgdHJhY2tCeUV4cCwgdHJhY2tCeUV4cEdldHRlciwgdHJhY2tCeUlkRXhwRm4sIHRyYWNrQnlJZEFycmF5Rm4sIHRyYWNrQnlJZE9iakZuLAogICAgICAgICAgbGhzLCByaHMsIHZhbHVlSWRlbnRpZmllciwga2V5SWRlbnRpZmllciwKICAgICAgICAgIGhhc2hGbkxvY2FscyA9IHskaWQ6IGhhc2hLZXl9OwoKICAgICAgICBpZiAoIW1hdGNoKSB7CiAgICAgICAgICB0aHJvdyBuZ1JlcGVhdE1pbkVycignaWV4cCcsICJFeHBlY3RlZCBleHByZXNzaW9uIGluIGZvcm0gb2YgJ19pdGVtXyBpbiBfY29sbGVjdGlvbl9bIHRyYWNrIGJ5IF9pZF9dJyBidXQgZ290ICd7MH0nLiIsCiAgICAgICAgICAgIGV4cHJlc3Npb24pOwogICAgICAgIH0KCiAgICAgICAgbGhzID0gbWF0Y2hbMV07CiAgICAgICAgcmhzID0gbWF0Y2hbMl07CiAgICAgICAgdHJhY2tCeUV4cCA9IG1hdGNoWzNdOwoKICAgICAgICBpZiAodHJhY2tCeUV4cCkgewogICAgICAgICAgdHJhY2tCeUV4cEdldHRlciA9ICRwYXJzZSh0cmFja0J5RXhwKTsKICAgICAgICAgIHRyYWNrQnlJZEV4cEZuID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSwgaW5kZXgpIHsKICAgICAgICAgICAgLy8gYXNzaWduIGtleSwgdmFsdWUsIGFuZCAkaW5kZXggdG8gdGhlIGxvY2FscyBzbyB0aGF0IHRoZXkgY2FuIGJlIHVzZWQgaW4gaGFzaCBmdW5jdGlvbnMKICAgICAgICAgICAgaWYgKGtleUlkZW50aWZpZXIpIGhhc2hGbkxvY2Fsc1trZXlJZGVudGlmaWVyXSA9IGtleTsKICAgICAgICAgICAgaGFzaEZuTG9jYWxzW3ZhbHVlSWRlbnRpZmllcl0gPSB2YWx1ZTsKICAgICAgICAgICAgaGFzaEZuTG9jYWxzLiRpbmRleCA9IGluZGV4OwogICAgICAgICAgICByZXR1cm4gdHJhY2tCeUV4cEdldHRlcigkc2NvcGUsIGhhc2hGbkxvY2Fscyk7CiAgICAgICAgICB9OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0cmFja0J5SWRBcnJheUZuID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkgewogICAgICAgICAgICByZXR1cm4gaGFzaEtleSh2YWx1ZSk7CiAgICAgICAgICB9OwogICAgICAgICAgdHJhY2tCeUlkT2JqRm4gPSBmdW5jdGlvbihrZXkpIHsKICAgICAgICAgICAgcmV0dXJuIGtleTsKICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICBtYXRjaCA9IGxocy5tYXRjaCgvXig/OihbXCRcd10rKXxcKChbXCRcd10rKVxzKixccyooW1wkXHddKylcKSkkLyk7CiAgICAgICAgaWYgKCFtYXRjaCkgewogICAgICAgICAgdGhyb3cgbmdSZXBlYXRNaW5FcnIoJ2lpZGV4cCcsICInX2l0ZW1fJyBpbiAnX2l0ZW1fIGluIF9jb2xsZWN0aW9uXycgc2hvdWxkIGJlIGFuIGlkZW50aWZpZXIgb3IgJyhfa2V5XywgX3ZhbHVlXyknIGV4cHJlc3Npb24sIGJ1dCBnb3QgJ3swfScuIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaHMpOwogICAgICAgIH0KICAgICAgICB2YWx1ZUlkZW50aWZpZXIgPSBtYXRjaFszXSB8fCBtYXRjaFsxXTsKICAgICAgICBrZXlJZGVudGlmaWVyID0gbWF0Y2hbMl07CgogICAgICAgIC8vIFN0b3JlIGEgbGlzdCBvZiBlbGVtZW50cyBmcm9tIHByZXZpb3VzIHJ1bi4gVGhpcyBpcyBhIGhhc2ggd2hlcmUga2V5IGlzIHRoZSBpdGVtIGZyb20gdGhlCiAgICAgICAgLy8gaXRlcmF0b3IsIGFuZCB0aGUgdmFsdWUgaXMgb2JqZWN0cyB3aXRoIGZvbGxvd2luZyBwcm9wZXJ0aWVzLgogICAgICAgIC8vICAgLSBzY29wZTogYm91bmQgc2NvcGUKICAgICAgICAvLyAgIC0gZWxlbWVudDogcHJldmlvdXMgZWxlbWVudC4KICAgICAgICAvLyAgIC0gaW5kZXg6IHBvc2l0aW9uCiAgICAgICAgdmFyIGxhc3RCbG9ja01hcCA9IHt9OwoKICAgICAgICAvL3dhdGNoIHByb3BzCiAgICAgICAgJHNjb3BlLiR3YXRjaENvbGxlY3Rpb24ocmhzLCBmdW5jdGlvbiBuZ1JlcGVhdEFjdGlvbihjb2xsZWN0aW9uKXsKICAgICAgICAgIHZhciBpbmRleCwgbGVuZ3RoLAogICAgICAgICAgICAgIHByZXZpb3VzTm9kZSA9ICRlbGVtZW50WzBdLCAgICAgLy8gY3VycmVudCBwb3NpdGlvbiBvZiB0aGUgbm9kZQogICAgICAgICAgICAgIG5leHROb2RlLAogICAgICAgICAgICAgIC8vIFNhbWUgYXMgbGFzdEJsb2NrTWFwIGJ1dCBpdCBoYXMgdGhlIGN1cnJlbnQgc3RhdGUuIEl0IHdpbGwgYmVjb21lIHRoZQogICAgICAgICAgICAgIC8vIGxhc3RCbG9ja01hcCBvbiB0aGUgbmV4dCBpdGVyYXRpb24uCiAgICAgICAgICAgICAgbmV4dEJsb2NrTWFwID0ge30sCiAgICAgICAgICAgICAgYXJyYXlMZW5ndGgsCiAgICAgICAgICAgICAgY2hpbGRTY29wZSwKICAgICAgICAgICAgICBrZXksIHZhbHVlLCAvLyBrZXkvdmFsdWUgb2YgaXRlcmF0aW9uCiAgICAgICAgICAgICAgdHJhY2tCeUlkLAogICAgICAgICAgICAgIHRyYWNrQnlJZEZuLAogICAgICAgICAgICAgIGNvbGxlY3Rpb25LZXlzLAogICAgICAgICAgICAgIGJsb2NrLCAgICAgICAvLyBsYXN0IG9iamVjdCBpbmZvcm1hdGlvbiB7c2NvcGUsIGVsZW1lbnQsIGlkfQogICAgICAgICAgICAgIG5leHRCbG9ja09yZGVyID0gW10sCiAgICAgICAgICAgICAgZWxlbWVudHNUb1JlbW92ZTsKCgogICAgICAgICAgaWYgKGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7CiAgICAgICAgICAgIGNvbGxlY3Rpb25LZXlzID0gY29sbGVjdGlvbjsKICAgICAgICAgICAgdHJhY2tCeUlkRm4gPSB0cmFja0J5SWRFeHBGbiB8fCB0cmFja0J5SWRBcnJheUZuOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdHJhY2tCeUlkRm4gPSB0cmFja0J5SWRFeHBGbiB8fCB0cmFja0J5SWRPYmpGbjsKICAgICAgICAgICAgLy8gaWYgb2JqZWN0LCBleHRyYWN0IGtleXMsIHNvcnQgdGhlbSBhbmQgdXNlIHRvIGRldGVybWluZSBvcmRlciBvZiBpdGVyYXRpb24gb3ZlciBvYmogcHJvcHMKICAgICAgICAgICAgY29sbGVjdGlvbktleXMgPSBbXTsKICAgICAgICAgICAgZm9yIChrZXkgaW4gY29sbGVjdGlvbikgewogICAgICAgICAgICAgIGlmIChjb2xsZWN0aW9uLmhhc093blByb3BlcnR5KGtleSkgJiYga2V5LmNoYXJBdCgwKSAhPSAnJCcpIHsKICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25LZXlzLnB1c2goa2V5KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29sbGVjdGlvbktleXMuc29ydCgpOwogICAgICAgICAgfQoKICAgICAgICAgIGFycmF5TGVuZ3RoID0gY29sbGVjdGlvbktleXMubGVuZ3RoOwoKICAgICAgICAgIC8vIGxvY2F0ZSBleGlzdGluZyBpdGVtcwogICAgICAgICAgbGVuZ3RoID0gbmV4dEJsb2NrT3JkZXIubGVuZ3RoID0gY29sbGVjdGlvbktleXMubGVuZ3RoOwogICAgICAgICAgZm9yKGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgICBrZXkgPSAoY29sbGVjdGlvbiA9PT0gY29sbGVjdGlvbktleXMpID8gaW5kZXggOiBjb2xsZWN0aW9uS2V5c1tpbmRleF07CiAgICAgICAgICAgdmFsdWUgPSBjb2xsZWN0aW9uW2tleV07CiAgICAgICAgICAgdHJhY2tCeUlkID0gdHJhY2tCeUlkRm4oa2V5LCB2YWx1ZSwgaW5kZXgpOwogICAgICAgICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KHRyYWNrQnlJZCwgJ2B0cmFjayBieWAgaWQnKTsKICAgICAgICAgICBpZihsYXN0QmxvY2tNYXAuaGFzT3duUHJvcGVydHkodHJhY2tCeUlkKSkgewogICAgICAgICAgICAgYmxvY2sgPSBsYXN0QmxvY2tNYXBbdHJhY2tCeUlkXTsKICAgICAgICAgICAgIGRlbGV0ZSBsYXN0QmxvY2tNYXBbdHJhY2tCeUlkXTsKICAgICAgICAgICAgIG5leHRCbG9ja01hcFt0cmFja0J5SWRdID0gYmxvY2s7CiAgICAgICAgICAgICBuZXh0QmxvY2tPcmRlcltpbmRleF0gPSBibG9jazsKICAgICAgICAgICB9IGVsc2UgaWYgKG5leHRCbG9ja01hcC5oYXNPd25Qcm9wZXJ0eSh0cmFja0J5SWQpKSB7CiAgICAgICAgICAgICAvLyByZXN0b3JlIGxhc3RCbG9ja01hcAogICAgICAgICAgICAgZm9yRWFjaChuZXh0QmxvY2tPcmRlciwgZnVuY3Rpb24oYmxvY2spIHsKICAgICAgICAgICAgICAgaWYgKGJsb2NrICYmIGJsb2NrLnNjb3BlKSBsYXN0QmxvY2tNYXBbYmxvY2suaWRdID0gYmxvY2s7CiAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBkdXBsaWNhdGUgYW5kIHdlIG5lZWQgdG8gdGhyb3cgYW4gZXJyb3IKICAgICAgICAgICAgIHRocm93IG5nUmVwZWF0TWluRXJyKCdkdXBlcycsICJEdXBsaWNhdGVzIGluIGEgcmVwZWF0ZXIgYXJlIG5vdCBhbGxvd2VkLiBVc2UgJ3RyYWNrIGJ5JyBleHByZXNzaW9uIHRvIHNwZWNpZnkgdW5pcXVlIGtleXMuIFJlcGVhdGVyOiB7MH0sIER1cGxpY2F0ZSBrZXk6IHsxfSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uLCAgICAgICB0cmFja0J5SWQpOwogICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAvLyBuZXcgbmV2ZXIgYmVmb3JlIHNlZW4gYmxvY2sKICAgICAgICAgICAgIG5leHRCbG9ja09yZGVyW2luZGV4XSA9IHsgaWQ6IHRyYWNrQnlJZCB9OwogICAgICAgICAgICAgbmV4dEJsb2NrTWFwW3RyYWNrQnlJZF0gPSBmYWxzZTsKICAgICAgICAgICB9CiAgICAgICAgIH0KCiAgICAgICAgICAvLyByZW1vdmUgZXhpc3RpbmcgaXRlbXMKICAgICAgICAgIGZvciAoa2V5IGluIGxhc3RCbG9ja01hcCkgewogICAgICAgICAgICAvLyBsYXN0QmxvY2tNYXAgaXMgb3VyIG93biBvYmplY3Qgc28gd2UgZG9uJ3QgbmVlZCB0byB1c2Ugc3BlY2lhbCBoYXNPd25Qcm9wZXJ0eUZuCiAgICAgICAgICAgIGlmIChsYXN0QmxvY2tNYXAuaGFzT3duUHJvcGVydHkoa2V5KSkgewogICAgICAgICAgICAgIGJsb2NrID0gbGFzdEJsb2NrTWFwW2tleV07CiAgICAgICAgICAgICAgZWxlbWVudHNUb1JlbW92ZSA9IGdldEJsb2NrRWxlbWVudHMoYmxvY2suY2xvbmUpOwogICAgICAgICAgICAgICRhbmltYXRlLmxlYXZlKGVsZW1lbnRzVG9SZW1vdmUpOwogICAgICAgICAgICAgIGZvckVhY2goZWxlbWVudHNUb1JlbW92ZSwgZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50W05HX1JFTU9WRURdID0gdHJ1ZTsgfSk7CiAgICAgICAgICAgICAgYmxvY2suc2NvcGUuJGRlc3Ryb3koKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIC8vIHdlIGFyZSBub3QgdXNpbmcgZm9yRWFjaCBmb3IgcGVyZiByZWFzb25zICh0cnlpbmcgdG8gYXZvaWQgI2NhbGwpCiAgICAgICAgICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gY29sbGVjdGlvbktleXMubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgICBrZXkgPSAoY29sbGVjdGlvbiA9PT0gY29sbGVjdGlvbktleXMpID8gaW5kZXggOiBjb2xsZWN0aW9uS2V5c1tpbmRleF07CiAgICAgICAgICAgIHZhbHVlID0gY29sbGVjdGlvbltrZXldOwogICAgICAgICAgICBibG9jayA9IG5leHRCbG9ja09yZGVyW2luZGV4XTsKICAgICAgICAgICAgaWYgKG5leHRCbG9ja09yZGVyW2luZGV4IC0gMV0pIHByZXZpb3VzTm9kZSA9IGdldEJsb2NrRW5kKG5leHRCbG9ja09yZGVyW2luZGV4IC0gMV0pOwoKICAgICAgICAgICAgaWYgKGJsb2NrLnNjb3BlKSB7CiAgICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBhbHJlYWR5IHNlZW4gdGhpcyBvYmplY3QsIHRoZW4gd2UgbmVlZCB0byByZXVzZSB0aGUKICAgICAgICAgICAgICAvLyBhc3NvY2lhdGVkIHNjb3BlL2VsZW1lbnQKICAgICAgICAgICAgICBjaGlsZFNjb3BlID0gYmxvY2suc2NvcGU7CgogICAgICAgICAgICAgIG5leHROb2RlID0gcHJldmlvdXNOb2RlOwogICAgICAgICAgICAgIGRvIHsKICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dE5vZGUubmV4dFNpYmxpbmc7CiAgICAgICAgICAgICAgfSB3aGlsZShuZXh0Tm9kZSAmJiBuZXh0Tm9kZVtOR19SRU1PVkVEXSk7CgogICAgICAgICAgICAgIGlmIChnZXRCbG9ja1N0YXJ0KGJsb2NrKSAhPSBuZXh0Tm9kZSkgewogICAgICAgICAgICAgICAgLy8gZXhpc3RpbmcgaXRlbSB3aGljaCBnb3QgbW92ZWQKICAgICAgICAgICAgICAgICRhbmltYXRlLm1vdmUoZ2V0QmxvY2tFbGVtZW50cyhibG9jay5jbG9uZSksIG51bGwsIGpxTGl0ZShwcmV2aW91c05vZGUpKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcHJldmlvdXNOb2RlID0gZ2V0QmxvY2tFbmQoYmxvY2spOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIG5ldyBpdGVtIHdoaWNoIHdlIGRvbid0IGtub3cgYWJvdXQKICAgICAgICAgICAgICBjaGlsZFNjb3BlID0gJHNjb3BlLiRuZXcoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2hpbGRTY29wZVt2YWx1ZUlkZW50aWZpZXJdID0gdmFsdWU7CiAgICAgICAgICAgIGlmIChrZXlJZGVudGlmaWVyKSBjaGlsZFNjb3BlW2tleUlkZW50aWZpZXJdID0ga2V5OwogICAgICAgICAgICBjaGlsZFNjb3BlLiRpbmRleCA9IGluZGV4OwogICAgICAgICAgICBjaGlsZFNjb3BlLiRmaXJzdCA9IChpbmRleCA9PT0gMCk7CiAgICAgICAgICAgIGNoaWxkU2NvcGUuJGxhc3QgPSAoaW5kZXggPT09IChhcnJheUxlbmd0aCAtIDEpKTsKICAgICAgICAgICAgY2hpbGRTY29wZS4kbWlkZGxlID0gIShjaGlsZFNjb3BlLiRmaXJzdCB8fCBjaGlsZFNjb3BlLiRsYXN0KTsKICAgICAgICAgICAgLy8ganNoaW50IGJpdHdpc2U6IGZhbHNlCiAgICAgICAgICAgIGNoaWxkU2NvcGUuJG9kZCA9ICEoY2hpbGRTY29wZS4kZXZlbiA9IChpbmRleCYxKSA9PT0gMCk7CiAgICAgICAgICAgIC8vIGpzaGludCBiaXR3aXNlOiB0cnVlCgogICAgICAgICAgICBpZiAoIWJsb2NrLnNjb3BlKSB7CiAgICAgICAgICAgICAgJHRyYW5zY2x1ZGUoY2hpbGRTY29wZSwgZnVuY3Rpb24oY2xvbmUpIHsKICAgICAgICAgICAgICAgIGNsb25lW2Nsb25lLmxlbmd0aCsrXSA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJyBlbmQgbmdSZXBlYXQ6ICcgKyBleHByZXNzaW9uICsgJyAnKTsKICAgICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNsb25lLCBudWxsLCBqcUxpdGUocHJldmlvdXNOb2RlKSk7CiAgICAgICAgICAgICAgICBwcmV2aW91c05vZGUgPSBjbG9uZTsKICAgICAgICAgICAgICAgIGJsb2NrLnNjb3BlID0gY2hpbGRTY29wZTsKICAgICAgICAgICAgICAgIC8vIE5vdGU6IFdlIG9ubHkgbmVlZCB0aGUgZmlyc3QvbGFzdCBub2RlIG9mIHRoZSBjbG9uZWQgbm9kZXMuCiAgICAgICAgICAgICAgICAvLyBIb3dldmVyLCB3ZSBuZWVkIHRvIGtlZXAgdGhlIHJlZmVyZW5jZSB0byB0aGUganFsaXRlIHdyYXBwZXIgYXMgaXQgbWlnaHQgYmUgY2hhbmdlZCBsYXRlcgogICAgICAgICAgICAgICAgLy8gYnkgYSBkaXJlY3RpdmUgd2l0aCB0ZW1wbGF0ZVVybCB3aGVuIGl0cyB0ZW1wbGF0ZSBhcnJpdmVzLgogICAgICAgICAgICAgICAgYmxvY2suY2xvbmUgPSBjbG9uZTsKICAgICAgICAgICAgICAgIG5leHRCbG9ja01hcFtibG9jay5pZF0gPSBibG9jazsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgbGFzdEJsb2NrTWFwID0gbmV4dEJsb2NrTWFwOwogICAgICAgIH0pOwogICAgfQogIH07CgogIGZ1bmN0aW9uIGdldEJsb2NrU3RhcnQoYmxvY2spIHsKICAgIHJldHVybiBibG9jay5jbG9uZVswXTsKICB9CgogIGZ1bmN0aW9uIGdldEJsb2NrRW5kKGJsb2NrKSB7CiAgICByZXR1cm4gYmxvY2suY2xvbmVbYmxvY2suY2xvbmUubGVuZ3RoIC0gMV07CiAgfQp9XTsKCi8qKgogKiBAbmdkb2MgZGlyZWN0aXZlCiAqIEBuYW1lIG5nU2hvdwogKgogKiBAZGVzY3JpcHRpb24KICogVGhlIGBuZ1Nob3dgIGRpcmVjdGl2ZSBzaG93cyBvciBoaWRlcyB0aGUgZ2l2ZW4gSFRNTCBlbGVtZW50IGJhc2VkIG9uIHRoZSBleHByZXNzaW9uCiAqIHByb3ZpZGVkIHRvIHRoZSBuZ1Nob3cgYXR0cmlidXRlLiBUaGUgZWxlbWVudCBpcyBzaG93biBvciBoaWRkZW4gYnkgcmVtb3Zpbmcgb3IgYWRkaW5nCiAqIHRoZSBgbmctaGlkZWAgQ1NTIGNsYXNzIG9udG8gdGhlIGVsZW1lbnQuIFRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBpcyBwcmVkZWZpbmVkCiAqIGluIEFuZ3VsYXJKUyBhbmQgc2V0cyB0aGUgZGlzcGxheSBzdHlsZSB0byBub25lICh1c2luZyBhbiAhaW1wb3J0YW50IGZsYWcpLgogKiBGb3IgQ1NQIG1vZGUgcGxlYXNlIGFkZCBgYW5ndWxhci1jc3AuY3NzYCB0byB5b3VyIGh0bWwgZmlsZSAoc2VlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDc3AgbmdDc3B9KS4KICoKICogYGBgaHRtbAogKiA8IS0tIHdoZW4gJHNjb3BlLm15VmFsdWUgaXMgdHJ1dGh5IChlbGVtZW50IGlzIHZpc2libGUpIC0tPgogKiA8ZGl2IG5nLXNob3c9Im15VmFsdWUiPjwvZGl2PgogKgogKiA8IS0tIHdoZW4gJHNjb3BlLm15VmFsdWUgaXMgZmFsc3kgKGVsZW1lbnQgaXMgaGlkZGVuKSAtLT4KICogPGRpdiBuZy1zaG93PSJteVZhbHVlIiBjbGFzcz0ibmctaGlkZSI+PC9kaXY+CiAqIGBgYAogKgogKiBXaGVuIHRoZSBuZ1Nob3cgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gZmFsc2UgdGhlbiB0aGUgbmctaGlkZSBDU1MgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIGNsYXNzIGF0dHJpYnV0ZQogKiBvbiB0aGUgZWxlbWVudCBjYXVzaW5nIGl0IHRvIGJlY29tZSBoaWRkZW4uIFdoZW4gdHJ1ZSwgdGhlIG5nLWhpZGUgQ1NTIGNsYXNzIGlzIHJlbW92ZWQKICogZnJvbSB0aGUgZWxlbWVudCBjYXVzaW5nIHRoZSBlbGVtZW50IG5vdCB0byBhcHBlYXIgaGlkZGVuLgogKgogKiA8ZGl2IGNsYXNzPSJhbGVydCBhbGVydC13YXJuaW5nIj4KICogKipOb3RlOioqIEhlcmUgaXMgYSBsaXN0IG9mIHZhbHVlcyB0aGF0IG5nU2hvdyB3aWxsIGNvbnNpZGVyIGFzIGEgZmFsc3kgdmFsdWUgKGNhc2UgaW5zZW5zaXRpdmUpOjxiciAvPgogKiAiZiIgLyAiMCIgLyAiZmFsc2UiIC8gIm5vIiAvICJuIiAvICJbXSIKICogPC9kaXY+CiAqCiAqICMjIFdoeSBpcyAhaW1wb3J0YW50IHVzZWQ/CiAqCiAqIFlvdSBtYXkgYmUgd29uZGVyaW5nIHdoeSAhaW1wb3J0YW50IGlzIHVzZWQgZm9yIHRoZSAubmctaGlkZSBDU1MgY2xhc3MuIFRoaXMgaXMgYmVjYXVzZSB0aGUgYC5uZy1oaWRlYCBzZWxlY3RvcgogKiBjYW4gYmUgZWFzaWx5IG92ZXJyaWRkZW4gYnkgaGVhdmllciBzZWxlY3RvcnMuIEZvciBleGFtcGxlLCBzb21ldGhpbmcgYXMgc2ltcGxlCiAqIGFzIGNoYW5naW5nIHRoZSBkaXNwbGF5IHN0eWxlIG9uIGEgSFRNTCBsaXN0IGl0ZW0gd291bGQgbWFrZSBoaWRkZW4gZWxlbWVudHMgYXBwZWFyIHZpc2libGUuCiAqIFRoaXMgYWxzbyBiZWNvbWVzIGEgYmlnZ2VyIGlzc3VlIHdoZW4gZGVhbGluZyB3aXRoIENTUyBmcmFtZXdvcmtzLgogKgogKiBCeSB1c2luZyAhaW1wb3J0YW50LCB0aGUgc2hvdyBhbmQgaGlkZSBiZWhhdmlvciB3aWxsIHdvcmsgYXMgZXhwZWN0ZWQgZGVzcGl0ZSBhbnkgY2xhc2ggYmV0d2VlbiBDU1Mgc2VsZWN0b3IKICogc3BlY2lmaWNpdHkgKHdoZW4gIWltcG9ydGFudCBpc24ndCB1c2VkIHdpdGggYW55IGNvbmZsaWN0aW5nIHN0eWxlcykuIElmIGEgZGV2ZWxvcGVyIGNob29zZXMgdG8gb3ZlcnJpZGUgdGhlCiAqIHN0eWxpbmcgdG8gY2hhbmdlIGhvdyB0byBoaWRlIGFuIGVsZW1lbnQgdGhlbiBpdCBpcyBqdXN0IGEgbWF0dGVyIG9mIHVzaW5nICFpbXBvcnRhbnQgaW4gdGhlaXIgb3duIENTUyBjb2RlLgogKgogKiAjIyMgT3ZlcnJpZGluZyAubmctaGlkZQogKgogKiBCeSBkZWZhdWx0LCB0aGUgYC5uZy1oaWRlYCBjbGFzcyB3aWxsIHN0eWxlIHRoZSBlbGVtZW50IHdpdGggYGRpc3BsYXk6bm9uZSFpbXBvcnRhbnRgLiBJZiB5b3Ugd2lzaCB0byBjaGFuZ2UKICogdGhlIGhpZGUgYmVoYXZpb3Igd2l0aCBuZ1Nob3cvbmdIaWRlIHRoZW4gdGhpcyBjYW4gYmUgYWNoaWV2ZWQgYnkgcmVzdGF0aW5nIHRoZSBzdHlsZXMgZm9yIHRoZSBgLm5nLWhpZGVgCiAqIGNsYXNzIGluIENTUzoKICoKICogYGBgY3NzCiAqIC5uZy1oaWRlIHsKICogICAvL3RoaXMgaXMganVzdCBhbm90aGVyIGZvcm0gb2YgaGlkaW5nIGFuIGVsZW1lbnQKICogICBkaXNwbGF5OmJsb2NrIWltcG9ydGFudDsKICogICBwb3NpdGlvbjphYnNvbHV0ZTsKICogICB0b3A6LTk5OTlweDsKICogICBsZWZ0Oi05OTk5cHg7CiAqIH0KICogYGBgCiAqCiAqIEJ5IGRlZmF1bHQgeW91IGRvbid0IG5lZWQgdG8gb3ZlcnJpZGUgaW4gQ1NTIGFueXRoaW5nIGFuZCB0aGUgYW5pbWF0aW9ucyB3aWxsIHdvcmsgYXJvdW5kIHRoZSBkaXNwbGF5IHN0eWxlLgogKgogKiAjIyBBIG5vdGUgYWJvdXQgYW5pbWF0aW9ucyB3aXRoIG5nU2hvdwogKgogKiBBbmltYXRpb25zIGluIG5nU2hvdy9uZ0hpZGUgd29yayB3aXRoIHRoZSBzaG93IGFuZCBoaWRlIGV2ZW50cyB0aGF0IGFyZSB0cmlnZ2VyZWQgd2hlbiB0aGUgZGlyZWN0aXZlIGV4cHJlc3Npb24KICogaXMgdHJ1ZSBhbmQgZmFsc2UuIFRoaXMgc3lzdGVtIHdvcmtzIGxpa2UgdGhlIGFuaW1hdGlvbiBzeXN0ZW0gcHJlc2VudCB3aXRoIG5nQ2xhc3MgZXhjZXB0IHRoYXQKICogeW91IG11c3QgYWxzbyBpbmNsdWRlIHRoZSAhaW1wb3J0YW50IGZsYWcgdG8gb3ZlcnJpZGUgdGhlIGRpc3BsYXkgcHJvcGVydHkKICogc28gdGhhdCB5b3UgY2FuIHBlcmZvcm0gYW4gYW5pbWF0aW9uIHdoZW4gdGhlIGVsZW1lbnQgaXMgaGlkZGVuIGR1cmluZyB0aGUgdGltZSBvZiB0aGUgYW5pbWF0aW9uLgogKgogKiBgYGBjc3MKICogLy8KICogLy9hIHdvcmtpbmcgZXhhbXBsZSBjYW4gYmUgZm91bmQgYXQgdGhlIGJvdHRvbSBvZiB0aGlzIHBhZ2UKICogLy8KICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQsIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlIHsKICogICB0cmFuc2l0aW9uOjAuNXMgbGluZWFyIGFsbDsKICogfQogKgogKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZCB7IC4uLiB9CiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkLm5nLWhpZGUtYWRkLWFjdGl2ZSB7IC4uLiB9CiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlIHsgLi4uIH0KICogLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUubmctaGlkZS1yZW1vdmUtYWN0aXZlIHsgLi4uIH0KICogYGBgCiAqCiAqIEtlZXAgaW4gbWluZCB0aGF0LCBhcyBvZiBBbmd1bGFySlMgdmVyc2lvbiAxLjIuMTcgKGFuZCAxLjMuMC1iZXRhLjExKSwgdGhlcmUgaXMgbm8gbmVlZCB0byBjaGFuZ2UgdGhlIGRpc3BsYXkKICogcHJvcGVydHkgdG8gYmxvY2sgZHVyaW5nIGFuaW1hdGlvbiBzdGF0ZXMtLW5nQW5pbWF0ZSB3aWxsIGhhbmRsZSB0aGUgc3R5bGUgdG9nZ2xpbmcgYXV0b21hdGljYWxseSBmb3IgeW91LgogKgogKiBAYW5pbWF0aW9ucwogKiBhZGRDbGFzczogLm5nLWhpZGUgLSBoYXBwZW5zIGFmdGVyIHRoZSBuZ1Nob3cgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSB0cnV0aHkgdmFsdWUgYW5kIHRoZSBqdXN0IGJlZm9yZSBjb250ZW50cyBhcmUgc2V0IHRvIHZpc2libGUKICogcmVtb3ZlQ2xhc3M6IC5uZy1oaWRlIC0gaGFwcGVucyBhZnRlciB0aGUgbmdTaG93IGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgbm9uIHRydXRoeSB2YWx1ZSBhbmQganVzdCBiZWZvcmUgdGhlIGNvbnRlbnRzIGFyZSBzZXQgdG8gaGlkZGVuCiAqCiAqIEBlbGVtZW50IEFOWQogKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nU2hvdyBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5CiAqICAgICB0aGVuIHRoZSBlbGVtZW50IGlzIHNob3duIG9yIGhpZGRlbiByZXNwZWN0aXZlbHkuCiAqCiAqIEBleGFtcGxlCiAgPGV4YW1wbGUgbW9kdWxlPSJuZ0FuaW1hdGUiIGRlcHM9ImFuZ3VsYXItYW5pbWF0ZS5qcyIgYW5pbWF0aW9ucz0idHJ1ZSI+CiAgICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgICAgQ2xpY2sgbWU6IDxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmctbW9kZWw9ImNoZWNrZWQiPjxici8+CiAgICAgIDxkaXY+CiAgICAgICAgU2hvdzoKICAgICAgICA8ZGl2IGNsYXNzPSJjaGVjay1lbGVtZW50IGFuaW1hdGUtc2hvdyIgbmctc2hvdz0iY2hlY2tlZCI+CiAgICAgICAgICA8c3BhbiBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi10aHVtYnMtdXAiPjwvc3Bhbj4gSSBzaG93IHVwIHdoZW4geW91ciBjaGVja2JveCBpcyBjaGVja2VkLgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgICAgPGRpdj4KICAgICAgICBIaWRlOgogICAgICAgIDxkaXYgY2xhc3M9ImNoZWNrLWVsZW1lbnQgYW5pbWF0ZS1zaG93IiBuZy1oaWRlPSJjaGVja2VkIj4KICAgICAgICAgIDxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLXRodW1icy1kb3duIj48L3NwYW4+IEkgaGlkZSB3aGVuIHlvdXIgY2hlY2tib3ggaXMgY2hlY2tlZC4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICA8L2ZpbGU+CiAgICA8ZmlsZSBuYW1lPSJnbHlwaGljb25zLmNzcyI+CiAgICAgIEBpbXBvcnQgdXJsKC8vbmV0ZG5hLmJvb3RzdHJhcGNkbi5jb20vYm9vdHN0cmFwLzMuMC4wL2Nzcy9ib290c3RyYXAtZ2x5cGhpY29ucy5jc3MpOwogICAgPC9maWxlPgogICAgPGZpbGUgbmFtZT0iYW5pbWF0aW9ucy5jc3MiPgogICAgICAuYW5pbWF0ZS1zaG93IHsKICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzOwogICAgICAgIHRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzOwogICAgICAgIGxpbmUtaGVpZ2h0OjIwcHg7CiAgICAgICAgb3BhY2l0eToxOwogICAgICAgIHBhZGRpbmc6MTBweDsKICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrOwogICAgICAgIGJhY2tncm91bmQ6d2hpdGU7CiAgICAgIH0KCiAgICAgIC5hbmltYXRlLXNob3cubmctaGlkZSB7CiAgICAgICAgbGluZS1oZWlnaHQ6MDsKICAgICAgICBvcGFjaXR5OjA7CiAgICAgICAgcGFkZGluZzowIDEwcHg7CiAgICAgIH0KCiAgICAgIC5jaGVjay1lbGVtZW50IHsKICAgICAgICBwYWRkaW5nOjEwcHg7CiAgICAgICAgYm9yZGVyOjFweCBzb2xpZCBibGFjazsKICAgICAgICBiYWNrZ3JvdW5kOndoaXRlOwogICAgICB9CiAgICA8L2ZpbGU+CiAgICA8ZmlsZSBuYW1lPSJwcm90cmFjdG9yLmpzIiB0eXBlPSJwcm90cmFjdG9yIj4KICAgICAgdmFyIHRodW1ic1VwID0gZWxlbWVudChieS5jc3MoJ3NwYW4uZ2x5cGhpY29uLXRodW1icy11cCcpKTsKICAgICAgdmFyIHRodW1ic0Rvd24gPSBlbGVtZW50KGJ5LmNzcygnc3Bhbi5nbHlwaGljb24tdGh1bWJzLWRvd24nKSk7CgogICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLXNob3cgLyBuZy1oaWRlJywgZnVuY3Rpb24oKSB7CiAgICAgICAgZXhwZWN0KHRodW1ic1VwLmlzRGlzcGxheWVkKCkpLnRvQmVGYWxzeSgpOwogICAgICAgIGV4cGVjdCh0aHVtYnNEb3duLmlzRGlzcGxheWVkKCkpLnRvQmVUcnV0aHkoKTsKCiAgICAgICAgZWxlbWVudChieS5tb2RlbCgnY2hlY2tlZCcpKS5jbGljaygpOwoKICAgICAgICBleHBlY3QodGh1bWJzVXAuaXNEaXNwbGF5ZWQoKSkudG9CZVRydXRoeSgpOwogICAgICAgIGV4cGVjdCh0aHVtYnNEb3duLmlzRGlzcGxheWVkKCkpLnRvQmVGYWxzeSgpOwogICAgICB9KTsKICAgIDwvZmlsZT4KICA8L2V4YW1wbGU+CiAqLwp2YXIgbmdTaG93RGlyZWN0aXZlID0gWyckYW5pbWF0ZScsIGZ1bmN0aW9uKCRhbmltYXRlKSB7CiAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7CiAgICBzY29wZS4kd2F0Y2goYXR0ci5uZ1Nob3csIGZ1bmN0aW9uIG5nU2hvd1dhdGNoQWN0aW9uKHZhbHVlKXsKICAgICAgJGFuaW1hdGVbdG9Cb29sZWFuKHZhbHVlKSA/ICdyZW1vdmVDbGFzcycgOiAnYWRkQ2xhc3MnXShlbGVtZW50LCAnbmctaGlkZScpOwogICAgfSk7CiAgfTsKfV07CgoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgbmdIaWRlCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBUaGUgYG5nSGlkZWAgZGlyZWN0aXZlIHNob3dzIG9yIGhpZGVzIHRoZSBnaXZlbiBIVE1MIGVsZW1lbnQgYmFzZWQgb24gdGhlIGV4cHJlc3Npb24KICogcHJvdmlkZWQgdG8gdGhlIG5nSGlkZSBhdHRyaWJ1dGUuIFRoZSBlbGVtZW50IGlzIHNob3duIG9yIGhpZGRlbiBieSByZW1vdmluZyBvciBhZGRpbmcKICogdGhlIGBuZy1oaWRlYCBDU1MgY2xhc3Mgb250byB0aGUgZWxlbWVudC4gVGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIHByZWRlZmluZWQKICogaW4gQW5ndWxhckpTIGFuZCBzZXRzIHRoZSBkaXNwbGF5IHN0eWxlIHRvIG5vbmUgKHVzaW5nIGFuICFpbXBvcnRhbnQgZmxhZykuCiAqIEZvciBDU1AgbW9kZSBwbGVhc2UgYWRkIGBhbmd1bGFyLWNzcC5jc3NgIHRvIHlvdXIgaHRtbCBmaWxlIChzZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NzcCBuZ0NzcH0pLgogKgogKiBgYGBodG1sCiAqIDwhLS0gd2hlbiAkc2NvcGUubXlWYWx1ZSBpcyB0cnV0aHkgKGVsZW1lbnQgaXMgaGlkZGVuKSAtLT4KICogPGRpdiBuZy1oaWRlPSJteVZhbHVlIiBjbGFzcz0ibmctaGlkZSI+PC9kaXY+CiAqCiAqIDwhLS0gd2hlbiAkc2NvcGUubXlWYWx1ZSBpcyBmYWxzeSAoZWxlbWVudCBpcyB2aXNpYmxlKSAtLT4KICogPGRpdiBuZy1oaWRlPSJteVZhbHVlIj48L2Rpdj4KICogYGBgCiAqCiAqIFdoZW4gdGhlIG5nSGlkZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlIHRoZW4gdGhlIC5uZy1oaWRlIENTUyBjbGFzcyBpcyBhZGRlZCB0byB0aGUgY2xhc3MgYXR0cmlidXRlCiAqIG9uIHRoZSBlbGVtZW50IGNhdXNpbmcgaXQgdG8gYmVjb21lIGhpZGRlbi4gV2hlbiBmYWxzZSwgdGhlIG5nLWhpZGUgQ1NTIGNsYXNzIGlzIHJlbW92ZWQKICogZnJvbSB0aGUgZWxlbWVudCBjYXVzaW5nIHRoZSBlbGVtZW50IG5vdCB0byBhcHBlYXIgaGlkZGVuLgogKgogKiA8ZGl2IGNsYXNzPSJhbGVydCBhbGVydC13YXJuaW5nIj4KICogKipOb3RlOioqIEhlcmUgaXMgYSBsaXN0IG9mIHZhbHVlcyB0aGF0IG5nSGlkZSB3aWxsIGNvbnNpZGVyIGFzIGEgZmFsc3kgdmFsdWUgKGNhc2UgaW5zZW5zaXRpdmUpOjxiciAvPgogKiAiZiIgLyAiMCIgLyAiZmFsc2UiIC8gIm5vIiAvICJuIiAvICJbXSIKICogPC9kaXY+CiAqCiAqICMjIFdoeSBpcyAhaW1wb3J0YW50IHVzZWQ/CiAqCiAqIFlvdSBtYXkgYmUgd29uZGVyaW5nIHdoeSAhaW1wb3J0YW50IGlzIHVzZWQgZm9yIHRoZSAubmctaGlkZSBDU1MgY2xhc3MuIFRoaXMgaXMgYmVjYXVzZSB0aGUgYC5uZy1oaWRlYCBzZWxlY3RvcgogKiBjYW4gYmUgZWFzaWx5IG92ZXJyaWRkZW4gYnkgaGVhdmllciBzZWxlY3RvcnMuIEZvciBleGFtcGxlLCBzb21ldGhpbmcgYXMgc2ltcGxlCiAqIGFzIGNoYW5naW5nIHRoZSBkaXNwbGF5IHN0eWxlIG9uIGEgSFRNTCBsaXN0IGl0ZW0gd291bGQgbWFrZSBoaWRkZW4gZWxlbWVudHMgYXBwZWFyIHZpc2libGUuCiAqIFRoaXMgYWxzbyBiZWNvbWVzIGEgYmlnZ2VyIGlzc3VlIHdoZW4gZGVhbGluZyB3aXRoIENTUyBmcmFtZXdvcmtzLgogKgogKiBCeSB1c2luZyAhaW1wb3J0YW50LCB0aGUgc2hvdyBhbmQgaGlkZSBiZWhhdmlvciB3aWxsIHdvcmsgYXMgZXhwZWN0ZWQgZGVzcGl0ZSBhbnkgY2xhc2ggYmV0d2VlbiBDU1Mgc2VsZWN0b3IKICogc3BlY2lmaWNpdHkgKHdoZW4gIWltcG9ydGFudCBpc24ndCB1c2VkIHdpdGggYW55IGNvbmZsaWN0aW5nIHN0eWxlcykuIElmIGEgZGV2ZWxvcGVyIGNob29zZXMgdG8gb3ZlcnJpZGUgdGhlCiAqIHN0eWxpbmcgdG8gY2hhbmdlIGhvdyB0byBoaWRlIGFuIGVsZW1lbnQgdGhlbiBpdCBpcyBqdXN0IGEgbWF0dGVyIG9mIHVzaW5nICFpbXBvcnRhbnQgaW4gdGhlaXIgb3duIENTUyBjb2RlLgogKgogKiAjIyMgT3ZlcnJpZGluZyAubmctaGlkZQogKgogKiBCeSBkZWZhdWx0LCB0aGUgYC5uZy1oaWRlYCBjbGFzcyB3aWxsIHN0eWxlIHRoZSBlbGVtZW50IHdpdGggYGRpc3BsYXk6bm9uZSFpbXBvcnRhbnRgLiBJZiB5b3Ugd2lzaCB0byBjaGFuZ2UKICogdGhlIGhpZGUgYmVoYXZpb3Igd2l0aCBuZ1Nob3cvbmdIaWRlIHRoZW4gdGhpcyBjYW4gYmUgYWNoaWV2ZWQgYnkgcmVzdGF0aW5nIHRoZSBzdHlsZXMgZm9yIHRoZSBgLm5nLWhpZGVgCiAqIGNsYXNzIGluIENTUzoKICoKICogYGBgY3NzCiAqIC5uZy1oaWRlIHsKICogICAvL3RoaXMgaXMganVzdCBhbm90aGVyIGZvcm0gb2YgaGlkaW5nIGFuIGVsZW1lbnQKICogICBkaXNwbGF5OmJsb2NrIWltcG9ydGFudDsKICogICBwb3NpdGlvbjphYnNvbHV0ZTsKICogICB0b3A6LTk5OTlweDsKICogICBsZWZ0Oi05OTk5cHg7CiAqIH0KICogYGBgCiAqCiAqIEJ5IGRlZmF1bHQgeW91IGRvbid0IG5lZWQgdG8gb3ZlcnJpZGUgaW4gQ1NTIGFueXRoaW5nIGFuZCB0aGUgYW5pbWF0aW9ucyB3aWxsIHdvcmsgYXJvdW5kIHRoZSBkaXNwbGF5IHN0eWxlLgogKgogKiAjIyBBIG5vdGUgYWJvdXQgYW5pbWF0aW9ucyB3aXRoIG5nSGlkZQogKgogKiBBbmltYXRpb25zIGluIG5nU2hvdy9uZ0hpZGUgd29yayB3aXRoIHRoZSBzaG93IGFuZCBoaWRlIGV2ZW50cyB0aGF0IGFyZSB0cmlnZ2VyZWQgd2hlbiB0aGUgZGlyZWN0aXZlIGV4cHJlc3Npb24KICogaXMgdHJ1ZSBhbmQgZmFsc2UuIFRoaXMgc3lzdGVtIHdvcmtzIGxpa2UgdGhlIGFuaW1hdGlvbiBzeXN0ZW0gcHJlc2VudCB3aXRoIG5nQ2xhc3MsIGV4Y2VwdCB0aGF0IHRoZSBgLm5nLWhpZGVgCiAqIENTUyBjbGFzcyBpcyBhZGRlZCBhbmQgcmVtb3ZlZCBmb3IgeW91IGluc3RlYWQgb2YgeW91ciBvd24gQ1NTIGNsYXNzLgogKgogKiBgYGBjc3MKICogLy8KICogLy9hIHdvcmtpbmcgZXhhbXBsZSBjYW4gYmUgZm91bmQgYXQgdGhlIGJvdHRvbSBvZiB0aGlzIHBhZ2UKICogLy8KICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQsIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlIHsKICogICB0cmFuc2l0aW9uOjAuNXMgbGluZWFyIGFsbDsKICogfQogKgogKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZCB7IC4uLiB9CiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkLm5nLWhpZGUtYWRkLWFjdGl2ZSB7IC4uLiB9CiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlIHsgLi4uIH0KICogLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUubmctaGlkZS1yZW1vdmUtYWN0aXZlIHsgLi4uIH0KICogYGBgCiAqCiAqIEtlZXAgaW4gbWluZCB0aGF0LCBhcyBvZiBBbmd1bGFySlMgdmVyc2lvbiAxLjIuMTcgKGFuZCAxLjMuMC1iZXRhLjExKSwgdGhlcmUgaXMgbm8gbmVlZCB0byBjaGFuZ2UgdGhlIGRpc3BsYXkKICogcHJvcGVydHkgdG8gYmxvY2sgZHVyaW5nIGFuaW1hdGlvbiBzdGF0ZXMtLW5nQW5pbWF0ZSB3aWxsIGhhbmRsZSB0aGUgc3R5bGUgdG9nZ2xpbmcgYXV0b21hdGljYWxseSBmb3IgeW91LgogKgogKiBAYW5pbWF0aW9ucwogKiByZW1vdmVDbGFzczogLm5nLWhpZGUgLSBoYXBwZW5zIGFmdGVyIHRoZSBuZ0hpZGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSB0cnV0aHkgdmFsdWUgYW5kIGp1c3QgYmVmb3JlIHRoZSBjb250ZW50cyBhcmUgc2V0IHRvIGhpZGRlbgogKiBhZGRDbGFzczogLm5nLWhpZGUgLSBoYXBwZW5zIGFmdGVyIHRoZSBuZ0hpZGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBub24gdHJ1dGh5IHZhbHVlIGFuZCBqdXN0IGJlZm9yZSB0aGUgY29udGVudHMgYXJlIHNldCB0byB2aXNpYmxlCiAqCiAqIEBlbGVtZW50IEFOWQogKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nSGlkZSBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5IHRoZW4KICogICAgIHRoZSBlbGVtZW50IGlzIHNob3duIG9yIGhpZGRlbiByZXNwZWN0aXZlbHkuCiAqCiAqIEBleGFtcGxlCiAgPGV4YW1wbGUgbW9kdWxlPSJuZ0FuaW1hdGUiIGRlcHM9ImFuZ3VsYXItYW5pbWF0ZS5qcyIgYW5pbWF0aW9ucz0idHJ1ZSI+CiAgICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgICAgQ2xpY2sgbWU6IDxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmctbW9kZWw9ImNoZWNrZWQiPjxici8+CiAgICAgIDxkaXY+CiAgICAgICAgU2hvdzoKICAgICAgICA8ZGl2IGNsYXNzPSJjaGVjay1lbGVtZW50IGFuaW1hdGUtaGlkZSIgbmctc2hvdz0iY2hlY2tlZCI+CiAgICAgICAgICA8c3BhbiBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi10aHVtYnMtdXAiPjwvc3Bhbj4gSSBzaG93IHVwIHdoZW4geW91ciBjaGVja2JveCBpcyBjaGVja2VkLgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgICAgPGRpdj4KICAgICAgICBIaWRlOgogICAgICAgIDxkaXYgY2xhc3M9ImNoZWNrLWVsZW1lbnQgYW5pbWF0ZS1oaWRlIiBuZy1oaWRlPSJjaGVja2VkIj4KICAgICAgICAgIDxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLXRodW1icy1kb3duIj48L3NwYW4+IEkgaGlkZSB3aGVuIHlvdXIgY2hlY2tib3ggaXMgY2hlY2tlZC4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICA8L2ZpbGU+CiAgICA8ZmlsZSBuYW1lPSJnbHlwaGljb25zLmNzcyI+CiAgICAgIEBpbXBvcnQgdXJsKC8vbmV0ZG5hLmJvb3RzdHJhcGNkbi5jb20vYm9vdHN0cmFwLzMuMC4wL2Nzcy9ib290c3RyYXAtZ2x5cGhpY29ucy5jc3MpOwogICAgPC9maWxlPgogICAgPGZpbGUgbmFtZT0iYW5pbWF0aW9ucy5jc3MiPgogICAgICAuYW5pbWF0ZS1oaWRlIHsKICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzOwogICAgICAgIHRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzOwogICAgICAgIGxpbmUtaGVpZ2h0OjIwcHg7CiAgICAgICAgb3BhY2l0eToxOwogICAgICAgIHBhZGRpbmc6MTBweDsKICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrOwogICAgICAgIGJhY2tncm91bmQ6d2hpdGU7CiAgICAgIH0KCiAgICAgIC5hbmltYXRlLWhpZGUubmctaGlkZSB7CiAgICAgICAgbGluZS1oZWlnaHQ6MDsKICAgICAgICBvcGFjaXR5OjA7CiAgICAgICAgcGFkZGluZzowIDEwcHg7CiAgICAgIH0KCiAgICAgIC5jaGVjay1lbGVtZW50IHsKICAgICAgICBwYWRkaW5nOjEwcHg7CiAgICAgICAgYm9yZGVyOjFweCBzb2xpZCBibGFjazsKICAgICAgICBiYWNrZ3JvdW5kOndoaXRlOwogICAgICB9CiAgICA8L2ZpbGU+CiAgICA8ZmlsZSBuYW1lPSJwcm90cmFjdG9yLmpzIiB0eXBlPSJwcm90cmFjdG9yIj4KICAgICAgdmFyIHRodW1ic1VwID0gZWxlbWVudChieS5jc3MoJ3NwYW4uZ2x5cGhpY29uLXRodW1icy11cCcpKTsKICAgICAgdmFyIHRodW1ic0Rvd24gPSBlbGVtZW50KGJ5LmNzcygnc3Bhbi5nbHlwaGljb24tdGh1bWJzLWRvd24nKSk7CgogICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLXNob3cgLyBuZy1oaWRlJywgZnVuY3Rpb24oKSB7CiAgICAgICAgZXhwZWN0KHRodW1ic1VwLmlzRGlzcGxheWVkKCkpLnRvQmVGYWxzeSgpOwogICAgICAgIGV4cGVjdCh0aHVtYnNEb3duLmlzRGlzcGxheWVkKCkpLnRvQmVUcnV0aHkoKTsKCiAgICAgICAgZWxlbWVudChieS5tb2RlbCgnY2hlY2tlZCcpKS5jbGljaygpOwoKICAgICAgICBleHBlY3QodGh1bWJzVXAuaXNEaXNwbGF5ZWQoKSkudG9CZVRydXRoeSgpOwogICAgICAgIGV4cGVjdCh0aHVtYnNEb3duLmlzRGlzcGxheWVkKCkpLnRvQmVGYWxzeSgpOwogICAgICB9KTsKICAgIDwvZmlsZT4KICA8L2V4YW1wbGU+CiAqLwp2YXIgbmdIaWRlRGlyZWN0aXZlID0gWyckYW5pbWF0ZScsIGZ1bmN0aW9uKCRhbmltYXRlKSB7CiAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7CiAgICBzY29wZS4kd2F0Y2goYXR0ci5uZ0hpZGUsIGZ1bmN0aW9uIG5nSGlkZVdhdGNoQWN0aW9uKHZhbHVlKXsKICAgICAgJGFuaW1hdGVbdG9Cb29sZWFuKHZhbHVlKSA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXShlbGVtZW50LCAnbmctaGlkZScpOwogICAgfSk7CiAgfTsKfV07CgovKioKICogQG5nZG9jIGRpcmVjdGl2ZQogKiBAbmFtZSBuZ1N0eWxlCiAqIEByZXN0cmljdCBBQwogKgogKiBAZGVzY3JpcHRpb24KICogVGhlIGBuZ1N0eWxlYCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBzZXQgQ1NTIHN0eWxlIG9uIGFuIEhUTUwgZWxlbWVudCBjb25kaXRpb25hbGx5LgogKgogKiBAZWxlbWVudCBBTlkKICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ1N0eWxlCiAqCiAqIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHdoaWNoIGV2YWxzIHRvIGFuCiAqIG9iamVjdCB3aG9zZSBrZXlzIGFyZSBDU1Mgc3R5bGUgbmFtZXMgYW5kIHZhbHVlcyBhcmUgY29ycmVzcG9uZGluZyB2YWx1ZXMgZm9yIHRob3NlIENTUwogKiBrZXlzLgogKgogKiBTaW5jZSBzb21lIENTUyBzdHlsZSBuYW1lcyBhcmUgbm90IHZhbGlkIGtleXMgZm9yIGFuIG9iamVjdCwgdGhleSBtdXN0IGJlIHF1b3RlZC4KICogU2VlIHRoZSAnYmFja2dyb3VuZC1jb2xvcicgc3R5bGUgaW4gdGhlIGV4YW1wbGUgYmVsb3cuCiAqCiAqIEBleGFtcGxlCiAgIDxleGFtcGxlPgogICAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgICAgIDxpbnB1dCB0eXBlPSJidXR0b24iIHZhbHVlPSJzZXQgY29sb3IiIG5nLWNsaWNrPSJteVN0eWxlPXtjb2xvcjoncmVkJ30iPgogICAgICAgIDxpbnB1dCB0eXBlPSJidXR0b24iIHZhbHVlPSJzZXQgYmFja2dyb3VuZCIgbmctY2xpY2s9Im15U3R5bGU9eydiYWNrZ3JvdW5kLWNvbG9yJzonYmx1ZSd9Ij4KICAgICAgICA8aW5wdXQgdHlwZT0iYnV0dG9uIiB2YWx1ZT0iY2xlYXIiIG5nLWNsaWNrPSJteVN0eWxlPXt9Ij4KICAgICAgICA8YnIvPgogICAgICAgIDxzcGFuIG5nLXN0eWxlPSJteVN0eWxlIj5TYW1wbGUgVGV4dDwvc3Bhbj4KICAgICAgICA8cHJlPm15U3R5bGU9e3tteVN0eWxlfX08L3ByZT4KICAgICA8L2ZpbGU+CiAgICAgPGZpbGUgbmFtZT0ic3R5bGUuY3NzIj4KICAgICAgIHNwYW4gewogICAgICAgICBjb2xvcjogYmxhY2s7CiAgICAgICB9CiAgICAgPC9maWxlPgogICAgIDxmaWxlIG5hbWU9InByb3RyYWN0b3IuanMiIHR5cGU9InByb3RyYWN0b3IiPgogICAgICAgdmFyIGNvbG9yU3BhbiA9IGVsZW1lbnQoYnkuY3NzKCdzcGFuJykpOwoKICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctc3R5bGUnLCBmdW5jdGlvbigpIHsKICAgICAgICAgZXhwZWN0KGNvbG9yU3Bhbi5nZXRDc3NWYWx1ZSgnY29sb3InKSkudG9CZSgncmdiYSgwLCAwLCAwLCAxKScpOwogICAgICAgICBlbGVtZW50KGJ5LmNzcygnaW5wdXRbdmFsdWU9XCdzZXQgY29sb3JcJ10nKSkuY2xpY2soKTsKICAgICAgICAgZXhwZWN0KGNvbG9yU3Bhbi5nZXRDc3NWYWx1ZSgnY29sb3InKSkudG9CZSgncmdiYSgyNTUsIDAsIDAsIDEpJyk7CiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCdpbnB1dFt2YWx1ZT1jbGVhcl0nKSkuY2xpY2soKTsKICAgICAgICAgZXhwZWN0KGNvbG9yU3Bhbi5nZXRDc3NWYWx1ZSgnY29sb3InKSkudG9CZSgncmdiYSgwLCAwLCAwLCAxKScpOwogICAgICAgfSk7CiAgICAgPC9maWxlPgogICA8L2V4YW1wbGU+CiAqLwp2YXIgbmdTdHlsZURpcmVjdGl2ZSA9IG5nRGlyZWN0aXZlKGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7CiAgc2NvcGUuJHdhdGNoKGF0dHIubmdTdHlsZSwgZnVuY3Rpb24gbmdTdHlsZVdhdGNoQWN0aW9uKG5ld1N0eWxlcywgb2xkU3R5bGVzKSB7CiAgICBpZiAob2xkU3R5bGVzICYmIChuZXdTdHlsZXMgIT09IG9sZFN0eWxlcykpIHsKICAgICAgZm9yRWFjaChvbGRTdHlsZXMsIGZ1bmN0aW9uKHZhbCwgc3R5bGUpIHsgZWxlbWVudC5jc3Moc3R5bGUsICcnKTt9KTsKICAgIH0KICAgIGlmIChuZXdTdHlsZXMpIGVsZW1lbnQuY3NzKG5ld1N0eWxlcyk7CiAgfSwgdHJ1ZSk7Cn0pOwoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgbmdTd2l0Y2gKICogQHJlc3RyaWN0IEVBCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBUaGUgYG5nU3dpdGNoYCBkaXJlY3RpdmUgaXMgdXNlZCB0byBjb25kaXRpb25hbGx5IHN3YXAgRE9NIHN0cnVjdHVyZSBvbiB5b3VyIHRlbXBsYXRlIGJhc2VkIG9uIGEgc2NvcGUgZXhwcmVzc2lvbi4KICogRWxlbWVudHMgd2l0aGluIGBuZ1N3aXRjaGAgYnV0IHdpdGhvdXQgYG5nU3dpdGNoV2hlbmAgb3IgYG5nU3dpdGNoRGVmYXVsdGAgZGlyZWN0aXZlcyB3aWxsIGJlIHByZXNlcnZlZCBhdCB0aGUgbG9jYXRpb24KICogYXMgc3BlY2lmaWVkIGluIHRoZSB0ZW1wbGF0ZS4KICoKICogVGhlIGRpcmVjdGl2ZSBpdHNlbGYgd29ya3Mgc2ltaWxhciB0byBuZ0luY2x1ZGUsIGhvd2V2ZXIsIGluc3RlYWQgb2YgZG93bmxvYWRpbmcgdGVtcGxhdGUgY29kZSAob3IgbG9hZGluZyBpdAogKiBmcm9tIHRoZSB0ZW1wbGF0ZSBjYWNoZSksIGBuZ1N3aXRjaGAgc2ltcGx5IGNob29zZXMgb25lIG9mIHRoZSBuZXN0ZWQgZWxlbWVudHMgYW5kIG1ha2VzIGl0IHZpc2libGUgYmFzZWQgb24gd2hpY2ggZWxlbWVudAogKiBtYXRjaGVzIHRoZSB2YWx1ZSBvYnRhaW5lZCBmcm9tIHRoZSBldmFsdWF0ZWQgZXhwcmVzc2lvbi4gSW4gb3RoZXIgd29yZHMsIHlvdSBkZWZpbmUgYSBjb250YWluZXIgZWxlbWVudAogKiAod2hlcmUgeW91IHBsYWNlIHRoZSBkaXJlY3RpdmUpLCBwbGFjZSBhbiBleHByZXNzaW9uIG9uIHRoZSAqKmBvbj0iLi4uImAgYXR0cmlidXRlKioKICogKG9yIHRoZSAqKmBuZy1zd2l0Y2g9Ii4uLiJgIGF0dHJpYnV0ZSoqKSwgZGVmaW5lIGFueSBpbm5lciBlbGVtZW50cyBpbnNpZGUgb2YgdGhlIGRpcmVjdGl2ZSBhbmQgcGxhY2UKICogYSB3aGVuIGF0dHJpYnV0ZSBwZXIgZWxlbWVudC4gVGhlIHdoZW4gYXR0cmlidXRlIGlzIHVzZWQgdG8gaW5mb3JtIG5nU3dpdGNoIHdoaWNoIGVsZW1lbnQgdG8gZGlzcGxheSB3aGVuIHRoZSBvbgogKiBleHByZXNzaW9uIGlzIGV2YWx1YXRlZC4gSWYgYSBtYXRjaGluZyBleHByZXNzaW9uIGlzIG5vdCBmb3VuZCB2aWEgYSB3aGVuIGF0dHJpYnV0ZSB0aGVuIGFuIGVsZW1lbnQgd2l0aCB0aGUgZGVmYXVsdAogKiBhdHRyaWJ1dGUgaXMgZGlzcGxheWVkLgogKgogKiA8ZGl2IGNsYXNzPSJhbGVydCBhbGVydC1pbmZvIj4KICogQmUgYXdhcmUgdGhhdCB0aGUgYXR0cmlidXRlIHZhbHVlcyB0byBtYXRjaCBhZ2FpbnN0IGNhbm5vdCBiZSBleHByZXNzaW9ucy4gVGhleSBhcmUgaW50ZXJwcmV0ZWQKICogYXMgbGl0ZXJhbCBzdHJpbmcgdmFsdWVzIHRvIG1hdGNoIGFnYWluc3QuCiAqIEZvciBleGFtcGxlLCAqKmBuZy1zd2l0Y2gtd2hlbj0ic29tZVZhbCJgKiogd2lsbCBtYXRjaCBhZ2FpbnN0IHRoZSBzdHJpbmcgYCJzb21lVmFsImAgbm90IGFnYWluc3QgdGhlCiAqIHZhbHVlIG9mIHRoZSBleHByZXNzaW9uIGAkc2NvcGUuc29tZVZhbGAuCiAqIDwvZGl2PgoKICogQGFuaW1hdGlvbnMKICogZW50ZXIgLSBoYXBwZW5zIGFmdGVyIHRoZSBuZ1N3aXRjaCBjb250ZW50cyBjaGFuZ2UgYW5kIHRoZSBtYXRjaGVkIGNoaWxkIGVsZW1lbnQgaXMgcGxhY2VkIGluc2lkZSB0aGUgY29udGFpbmVyCiAqIGxlYXZlIC0gaGFwcGVucyBqdXN0IGFmdGVyIHRoZSBuZ1N3aXRjaCBjb250ZW50cyBjaGFuZ2UgYW5kIGp1c3QgYmVmb3JlIHRoZSBmb3JtZXIgY29udGVudHMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NCiAqCiAqIEB1c2FnZQogKgogKiBgYGAKICogPEFOWSBuZy1zd2l0Y2g9ImV4cHJlc3Npb24iPgogKiAgIDxBTlkgbmctc3dpdGNoLXdoZW49Im1hdGNoVmFsdWUxIj4uLi48L0FOWT4KICogICA8QU5ZIG5nLXN3aXRjaC13aGVuPSJtYXRjaFZhbHVlMiI+Li4uPC9BTlk+CiAqICAgPEFOWSBuZy1zd2l0Y2gtZGVmYXVsdD4uLi48L0FOWT4KICogPC9BTlk+CiAqIGBgYAogKgogKgogKiBAc2NvcGUKICogQHByaW9yaXR5IDgwMAogKiBAcGFyYW0geyp9IG5nU3dpdGNofG9uIGV4cHJlc3Npb24gdG8gbWF0Y2ggYWdhaW5zdCA8dHQ+bmctc3dpdGNoLXdoZW48L3R0Pi4KICogT24gY2hpbGQgZWxlbWVudHMgYWRkOgogKgogKiAqIGBuZ1N3aXRjaFdoZW5gOiB0aGUgY2FzZSBzdGF0ZW1lbnQgdG8gbWF0Y2ggYWdhaW5zdC4gSWYgbWF0Y2ggdGhlbiB0aGlzCiAqICAgY2FzZSB3aWxsIGJlIGRpc3BsYXllZC4gSWYgdGhlIHNhbWUgbWF0Y2ggYXBwZWFycyBtdWx0aXBsZSB0aW1lcywgYWxsIHRoZQogKiAgIGVsZW1lbnRzIHdpbGwgYmUgZGlzcGxheWVkLgogKiAqIGBuZ1N3aXRjaERlZmF1bHRgOiB0aGUgZGVmYXVsdCBjYXNlIHdoZW4gbm8gb3RoZXIgY2FzZSBtYXRjaC4gSWYgdGhlcmUKICogICBhcmUgbXVsdGlwbGUgZGVmYXVsdCBjYXNlcywgYWxsIG9mIHRoZW0gd2lsbCBiZSBkaXNwbGF5ZWQgd2hlbiBubyBvdGhlcgogKiAgIGNhc2UgbWF0Y2guCiAqCiAqCiAqIEBleGFtcGxlCiAgPGV4YW1wbGUgbW9kdWxlPSJuZ0FuaW1hdGUiIGRlcHM9ImFuZ3VsYXItYW5pbWF0ZS5qcyIgYW5pbWF0aW9ucz0idHJ1ZSI+CiAgICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgICAgPGRpdiBuZy1jb250cm9sbGVyPSJDdHJsIj4KICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPSJzZWxlY3Rpb24iIG5nLW9wdGlvbnM9Iml0ZW0gZm9yIGl0ZW0gaW4gaXRlbXMiPgogICAgICAgIDwvc2VsZWN0PgogICAgICAgIDx0dD5zZWxlY3Rpb249e3tzZWxlY3Rpb259fTwvdHQ+CiAgICAgICAgPGhyLz4KICAgICAgICA8ZGl2IGNsYXNzPSJhbmltYXRlLXN3aXRjaC1jb250YWluZXIiCiAgICAgICAgICBuZy1zd2l0Y2ggb249InNlbGVjdGlvbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFuaW1hdGUtc3dpdGNoIiBuZy1zd2l0Y2gtd2hlbj0ic2V0dGluZ3MiPlNldHRpbmdzIERpdjwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJhbmltYXRlLXN3aXRjaCIgbmctc3dpdGNoLXdoZW49ImhvbWUiPkhvbWUgU3BhbjwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJhbmltYXRlLXN3aXRjaCIgbmctc3dpdGNoLWRlZmF1bHQ+ZGVmYXVsdDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgIDwvZmlsZT4KICAgIDxmaWxlIG5hbWU9InNjcmlwdC5qcyI+CiAgICAgIGZ1bmN0aW9uIEN0cmwoJHNjb3BlKSB7CiAgICAgICAgJHNjb3BlLml0ZW1zID0gWydzZXR0aW5ncycsICdob21lJywgJ290aGVyJ107CiAgICAgICAgJHNjb3BlLnNlbGVjdGlvbiA9ICRzY29wZS5pdGVtc1swXTsKICAgICAgfQogICAgPC9maWxlPgogICAgPGZpbGUgbmFtZT0iYW5pbWF0aW9ucy5jc3MiPgogICAgICAuYW5pbWF0ZS1zd2l0Y2gtY29udGFpbmVyIHsKICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTsKICAgICAgICBiYWNrZ3JvdW5kOndoaXRlOwogICAgICAgIGJvcmRlcjoxcHggc29saWQgYmxhY2s7CiAgICAgICAgaGVpZ2h0OjQwcHg7CiAgICAgICAgb3ZlcmZsb3c6aGlkZGVuOwogICAgICB9CgogICAgICAuYW5pbWF0ZS1zd2l0Y2ggewogICAgICAgIHBhZGRpbmc6MTBweDsKICAgICAgfQoKICAgICAgLmFuaW1hdGUtc3dpdGNoLm5nLWFuaW1hdGUgewogICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjphbGwgY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSAwLjVzOwogICAgICAgIHRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41czsKCiAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7CiAgICAgICAgdG9wOjA7CiAgICAgICAgbGVmdDowOwogICAgICAgIHJpZ2h0OjA7CiAgICAgICAgYm90dG9tOjA7CiAgICAgIH0KCiAgICAgIC5hbmltYXRlLXN3aXRjaC5uZy1sZWF2ZS5uZy1sZWF2ZS1hY3RpdmUsCiAgICAgIC5hbmltYXRlLXN3aXRjaC5uZy1lbnRlciB7CiAgICAgICAgdG9wOi01MHB4OwogICAgICB9CiAgICAgIC5hbmltYXRlLXN3aXRjaC5uZy1sZWF2ZSwKICAgICAgLmFuaW1hdGUtc3dpdGNoLm5nLWVudGVyLm5nLWVudGVyLWFjdGl2ZSB7CiAgICAgICAgdG9wOjA7CiAgICAgIH0KICAgIDwvZmlsZT4KICAgIDxmaWxlIG5hbWU9InByb3RyYWN0b3IuanMiIHR5cGU9InByb3RyYWN0b3IiPgogICAgICB2YXIgc3dpdGNoRWxlbSA9IGVsZW1lbnQoYnkuY3NzKCdbbmctc3dpdGNoXScpKTsKICAgICAgdmFyIHNlbGVjdCA9IGVsZW1lbnQoYnkubW9kZWwoJ3NlbGVjdGlvbicpKTsKCiAgICAgIGl0KCdzaG91bGQgc3RhcnQgaW4gc2V0dGluZ3MnLCBmdW5jdGlvbigpIHsKICAgICAgICBleHBlY3Qoc3dpdGNoRWxlbS5nZXRUZXh0KCkpLnRvTWF0Y2goL1NldHRpbmdzIERpdi8pOwogICAgICB9KTsKICAgICAgaXQoJ3Nob3VsZCBjaGFuZ2UgdG8gaG9tZScsIGZ1bmN0aW9uKCkgewogICAgICAgIHNlbGVjdC5lbGVtZW50LmFsbChieS5jc3MoJ29wdGlvbicpKS5nZXQoMSkuY2xpY2soKTsKICAgICAgICBleHBlY3Qoc3dpdGNoRWxlbS5nZXRUZXh0KCkpLnRvTWF0Y2goL0hvbWUgU3Bhbi8pOwogICAgICB9KTsKICAgICAgaXQoJ3Nob3VsZCBzZWxlY3QgZGVmYXVsdCcsIGZ1bmN0aW9uKCkgewogICAgICAgIHNlbGVjdC5lbGVtZW50LmFsbChieS5jc3MoJ29wdGlvbicpKS5nZXQoMikuY2xpY2soKTsKICAgICAgICBleHBlY3Qoc3dpdGNoRWxlbS5nZXRUZXh0KCkpLnRvTWF0Y2goL2RlZmF1bHQvKTsKICAgICAgfSk7CiAgICA8L2ZpbGU+CiAgPC9leGFtcGxlPgogKi8KdmFyIG5nU3dpdGNoRGlyZWN0aXZlID0gWyckYW5pbWF0ZScsIGZ1bmN0aW9uKCRhbmltYXRlKSB7CiAgcmV0dXJuIHsKICAgIHJlc3RyaWN0OiAnRUEnLAogICAgcmVxdWlyZTogJ25nU3dpdGNoJywKCiAgICAvLyBhc2tzIGZvciAkc2NvcGUgdG8gZm9vbCB0aGUgQkMgY29udHJvbGxlciBtb2R1bGUKICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgZnVuY3Rpb24gbmdTd2l0Y2hDb250cm9sbGVyKCkgewogICAgIHRoaXMuY2FzZXMgPSB7fTsKICAgIH1dLAogICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIG5nU3dpdGNoQ29udHJvbGxlcikgewogICAgICB2YXIgd2F0Y2hFeHByID0gYXR0ci5uZ1N3aXRjaCB8fCBhdHRyLm9uLAogICAgICAgICAgc2VsZWN0ZWRUcmFuc2NsdWRlcyA9IFtdLAogICAgICAgICAgc2VsZWN0ZWRFbGVtZW50cyA9IFtdLAogICAgICAgICAgcHJldmlvdXNFbGVtZW50cyA9IFtdLAogICAgICAgICAgc2VsZWN0ZWRTY29wZXMgPSBbXTsKCiAgICAgIHNjb3BlLiR3YXRjaCh3YXRjaEV4cHIsIGZ1bmN0aW9uIG5nU3dpdGNoV2F0Y2hBY3Rpb24odmFsdWUpIHsKICAgICAgICB2YXIgaSwgaWk7CiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBwcmV2aW91c0VsZW1lbnRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHsKICAgICAgICAgIHByZXZpb3VzRWxlbWVudHNbaV0ucmVtb3ZlKCk7CiAgICAgICAgfQogICAgICAgIHByZXZpb3VzRWxlbWVudHMubGVuZ3RoID0gMDsKCiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBzZWxlY3RlZFNjb3Blcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7CiAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBzZWxlY3RlZEVsZW1lbnRzW2ldOwogICAgICAgICAgc2VsZWN0ZWRTY29wZXNbaV0uJGRlc3Ryb3koKTsKICAgICAgICAgIHByZXZpb3VzRWxlbWVudHNbaV0gPSBzZWxlY3RlZDsKICAgICAgICAgICRhbmltYXRlLmxlYXZlKHNlbGVjdGVkLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50cy5zcGxpY2UoaSwgMSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHNlbGVjdGVkRWxlbWVudHMubGVuZ3RoID0gMDsKICAgICAgICBzZWxlY3RlZFNjb3Blcy5sZW5ndGggPSAwOwoKICAgICAgICBpZiAoKHNlbGVjdGVkVHJhbnNjbHVkZXMgPSBuZ1N3aXRjaENvbnRyb2xsZXIuY2FzZXNbJyEnICsgdmFsdWVdIHx8IG5nU3dpdGNoQ29udHJvbGxlci5jYXNlc1snPyddKSkgewogICAgICAgICAgc2NvcGUuJGV2YWwoYXR0ci5jaGFuZ2UpOwogICAgICAgICAgZm9yRWFjaChzZWxlY3RlZFRyYW5zY2x1ZGVzLCBmdW5jdGlvbihzZWxlY3RlZFRyYW5zY2x1ZGUpIHsKICAgICAgICAgICAgdmFyIHNlbGVjdGVkU2NvcGUgPSBzY29wZS4kbmV3KCk7CiAgICAgICAgICAgIHNlbGVjdGVkU2NvcGVzLnB1c2goc2VsZWN0ZWRTY29wZSk7CiAgICAgICAgICAgIHNlbGVjdGVkVHJhbnNjbHVkZS50cmFuc2NsdWRlKHNlbGVjdGVkU2NvcGUsIGZ1bmN0aW9uKGNhc2VFbGVtZW50KSB7CiAgICAgICAgICAgICAgdmFyIGFuY2hvciA9IHNlbGVjdGVkVHJhbnNjbHVkZS5lbGVtZW50OwoKICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnRzLnB1c2goY2FzZUVsZW1lbnQpOwogICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNhc2VFbGVtZW50LCBhbmNob3IucGFyZW50KCksIGFuY2hvcik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Owp9XTsKCnZhciBuZ1N3aXRjaFdoZW5EaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7CiAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLAogIHByaW9yaXR5OiA4MDAsCiAgcmVxdWlyZTogJ15uZ1N3aXRjaCcsCiAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsLCAkdHJhbnNjbHVkZSkgewogICAgY3RybC5jYXNlc1snIScgKyBhdHRycy5uZ1N3aXRjaFdoZW5dID0gKGN0cmwuY2FzZXNbJyEnICsgYXR0cnMubmdTd2l0Y2hXaGVuXSB8fCBbXSk7CiAgICBjdHJsLmNhc2VzWychJyArIGF0dHJzLm5nU3dpdGNoV2hlbl0ucHVzaCh7IHRyYW5zY2x1ZGU6ICR0cmFuc2NsdWRlLCBlbGVtZW50OiBlbGVtZW50IH0pOwogIH0KfSk7Cgp2YXIgbmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoewogIHRyYW5zY2x1ZGU6ICdlbGVtZW50JywKICBwcmlvcml0eTogODAwLAogIHJlcXVpcmU6ICdebmdTd2l0Y2gnLAogIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkdHJhbnNjbHVkZSkgewogICAgY3RybC5jYXNlc1snPyddID0gKGN0cmwuY2FzZXNbJz8nXSB8fCBbXSk7CiAgICBjdHJsLmNhc2VzWyc/J10ucHVzaCh7IHRyYW5zY2x1ZGU6ICR0cmFuc2NsdWRlLCBlbGVtZW50OiBlbGVtZW50IH0pOwogICB9Cn0pOwoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgbmdUcmFuc2NsdWRlCiAqIEByZXN0cmljdCBBQwogKgogKiBAZGVzY3JpcHRpb24KICogRGlyZWN0aXZlIHRoYXQgbWFya3MgdGhlIGluc2VydGlvbiBwb2ludCBmb3IgdGhlIHRyYW5zY2x1ZGVkIERPTSBvZiB0aGUgbmVhcmVzdCBwYXJlbnQgZGlyZWN0aXZlIHRoYXQgdXNlcyB0cmFuc2NsdXNpb24uCiAqCiAqIEFueSBleGlzdGluZyBjb250ZW50IG9mIHRoZSBlbGVtZW50IHRoYXQgdGhpcyBkaXJlY3RpdmUgaXMgcGxhY2VkIG9uIHdpbGwgYmUgcmVtb3ZlZCBiZWZvcmUgdGhlIHRyYW5zY2x1ZGVkIGNvbnRlbnQgaXMgaW5zZXJ0ZWQuCiAqCiAqIEBlbGVtZW50IEFOWQogKgogKiBAZXhhbXBsZQogICA8ZXhhbXBsZSBtb2R1bGU9InRyYW5zY2x1ZGUiPgogICAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgICAgPHNjcmlwdD4KICAgICAgICAgZnVuY3Rpb24gQ3RybCgkc2NvcGUpIHsKICAgICAgICAgICAkc2NvcGUudGl0bGUgPSAnTG9yZW0gSXBzdW0nOwogICAgICAgICAgICRzY29wZS50ZXh0ID0gJ05lcXVlIHBvcnJvIHF1aXNxdWFtIGVzdCBxdWkgZG9sb3JlbSBpcHN1bSBxdWlhIGRvbG9yLi4uJzsKICAgICAgICAgfQoKICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3RyYW5zY2x1ZGUnLCBbXSkKICAgICAgICAgIC5kaXJlY3RpdmUoJ3BhbmUnLCBmdW5jdGlvbigpewogICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJywKICAgICAgICAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSwKICAgICAgICAgICAgICAgc2NvcGU6IHsgdGl0bGU6J0AnIH0sCiAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBzdHlsZT0iYm9yZGVyOiAxcHggc29saWQgYmxhY2s7Ij4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6IGdyYXkiPnt7dGl0bGV9fTwvZGl2PicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBuZy10cmFuc2NsdWRlPjwvZGl2PicgKwogICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicKICAgICAgICAgICAgIH07CiAgICAgICAgIH0pOwogICAgICAgPC9zY3JpcHQ+CiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9IkN0cmwiPgogICAgICAgICA8aW5wdXQgbmctbW9kZWw9InRpdGxlIj48YnI+CiAgICAgICAgIDx0ZXh0YXJlYSBuZy1tb2RlbD0idGV4dCI+PC90ZXh0YXJlYT4gPGJyLz4KICAgICAgICAgPHBhbmUgdGl0bGU9Int7dGl0bGV9fSI+e3t0ZXh0fX08L3BhbmU+CiAgICAgICA8L2Rpdj4KICAgICA8L2ZpbGU+CiAgICAgPGZpbGUgbmFtZT0icHJvdHJhY3Rvci5qcyIgdHlwZT0icHJvdHJhY3RvciI+CiAgICAgICAgaXQoJ3Nob3VsZCBoYXZlIHRyYW5zY2x1ZGVkJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICB2YXIgdGl0bGVFbGVtZW50ID0gZWxlbWVudChieS5tb2RlbCgndGl0bGUnKSk7CiAgICAgICAgICB0aXRsZUVsZW1lbnQuY2xlYXIoKTsKICAgICAgICAgIHRpdGxlRWxlbWVudC5zZW5kS2V5cygnVElUTEUnKTsKICAgICAgICAgIHZhciB0ZXh0RWxlbWVudCA9IGVsZW1lbnQoYnkubW9kZWwoJ3RleHQnKSk7CiAgICAgICAgICB0ZXh0RWxlbWVudC5jbGVhcigpOwogICAgICAgICAgdGV4dEVsZW1lbnQuc2VuZEtleXMoJ1RFWFQnKTsKICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3RpdGxlJykpLmdldFRleHQoKSkudG9FcXVhbCgnVElUTEUnKTsKICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3RleHQnKSkuZ2V0VGV4dCgpKS50b0VxdWFsKCdURVhUJyk7CiAgICAgICAgfSk7CiAgICAgPC9maWxlPgogICA8L2V4YW1wbGU+CiAqCiAqLwp2YXIgbmdUcmFuc2NsdWRlRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoewogIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycywgY29udHJvbGxlciwgJHRyYW5zY2x1ZGUpIHsKICAgIGlmICghJHRyYW5zY2x1ZGUpIHsKICAgICAgdGhyb3cgbWluRXJyKCduZ1RyYW5zY2x1ZGUnKSgnb3JwaGFuJywKICAgICAgICdJbGxlZ2FsIHVzZSBvZiBuZ1RyYW5zY2x1ZGUgZGlyZWN0aXZlIGluIHRoZSB0ZW1wbGF0ZSEgJyArCiAgICAgICAnTm8gcGFyZW50IGRpcmVjdGl2ZSB0aGF0IHJlcXVpcmVzIGEgdHJhbnNjbHVzaW9uIGZvdW5kLiAnICsKICAgICAgICdFbGVtZW50OiB7MH0nLAogICAgICAgc3RhcnRpbmdUYWcoJGVsZW1lbnQpKTsKICAgIH0KCiAgICAkdHJhbnNjbHVkZShmdW5jdGlvbihjbG9uZSkgewogICAgICAkZWxlbWVudC5lbXB0eSgpOwogICAgICAkZWxlbWVudC5hcHBlbmQoY2xvbmUpOwogICAgfSk7CiAgfQp9KTsKCi8qKgogKiBAbmdkb2MgZGlyZWN0aXZlCiAqIEBuYW1lIHNjcmlwdAogKiBAcmVzdHJpY3QgRQogKgogKiBAZGVzY3JpcHRpb24KICogTG9hZCB0aGUgY29udGVudCBvZiBhIGA8c2NyaXB0PmAgZWxlbWVudCBpbnRvIHtAbGluayBuZy4kdGVtcGxhdGVDYWNoZSBgJHRlbXBsYXRlQ2FjaGVgfSwgc28gdGhhdCB0aGUKICogdGVtcGxhdGUgY2FuIGJlIHVzZWQgYnkge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0luY2x1ZGUgYG5nSW5jbHVkZWB9LAogKiB7QGxpbmsgbmdSb3V0ZS5kaXJlY3RpdmU6bmdWaWV3IGBuZ1ZpZXdgfSwgb3Ige0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSBkaXJlY3RpdmVzfS4gVGhlIHR5cGUgb2YgdGhlCiAqIGA8c2NyaXB0PmAgZWxlbWVudCBtdXN0IGJlIHNwZWNpZmllZCBhcyBgdGV4dC9uZy10ZW1wbGF0ZWAsIGFuZCBhIGNhY2hlIG5hbWUgZm9yIHRoZSB0ZW1wbGF0ZSBtdXN0IGJlCiAqIGFzc2lnbmVkIHRocm91Z2ggdGhlIGVsZW1lbnQncyBgaWRgLCB3aGljaCBjYW4gdGhlbiBiZSB1c2VkIGFzIGEgZGlyZWN0aXZlJ3MgYHRlbXBsYXRlVXJsYC4KICoKICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgTXVzdCBiZSBzZXQgdG8gYCd0ZXh0L25nLXRlbXBsYXRlJ2AuCiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBDYWNoZSBuYW1lIG9mIHRoZSB0ZW1wbGF0ZS4KICoKICogQGV4YW1wbGUKICA8ZXhhbXBsZT4KICAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgICA8c2NyaXB0IHR5cGU9InRleHQvbmctdGVtcGxhdGUiIGlkPSIvdHBsLmh0bWwiPgogICAgICAgIENvbnRlbnQgb2YgdGhlIHRlbXBsYXRlLgogICAgICA8L3NjcmlwdD4KCiAgICAgIDxhIG5nLWNsaWNrPSJjdXJyZW50VHBsPScvdHBsLmh0bWwnIiBpZD0idHBsLWxpbmsiPkxvYWQgaW5saW5lZCB0ZW1wbGF0ZTwvYT4KICAgICAgPGRpdiBpZD0idHBsLWNvbnRlbnQiIG5nLWluY2x1ZGUgc3JjPSJjdXJyZW50VHBsIj48L2Rpdj4KICAgIDwvZmlsZT4KICAgIDxmaWxlIG5hbWU9InByb3RyYWN0b3IuanMiIHR5cGU9InByb3RyYWN0b3IiPgogICAgICBpdCgnc2hvdWxkIGxvYWQgdGVtcGxhdGUgZGVmaW5lZCBpbnNpZGUgc2NyaXB0IHRhZycsIGZ1bmN0aW9uKCkgewogICAgICAgIGVsZW1lbnQoYnkuY3NzKCcjdHBsLWxpbmsnKSkuY2xpY2soKTsKICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyN0cGwtY29udGVudCcpKS5nZXRUZXh0KCkpLnRvTWF0Y2goL0NvbnRlbnQgb2YgdGhlIHRlbXBsYXRlLyk7CiAgICAgIH0pOwogICAgPC9maWxlPgogIDwvZXhhbXBsZT4KICovCnZhciBzY3JpcHREaXJlY3RpdmUgPSBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHsKICByZXR1cm4gewogICAgcmVzdHJpY3Q6ICdFJywKICAgIHRlcm1pbmFsOiB0cnVlLAogICAgY29tcGlsZTogZnVuY3Rpb24oZWxlbWVudCwgYXR0cikgewogICAgICBpZiAoYXR0ci50eXBlID09ICd0ZXh0L25nLXRlbXBsYXRlJykgewogICAgICAgIHZhciB0ZW1wbGF0ZVVybCA9IGF0dHIuaWQsCiAgICAgICAgICAgIC8vIElFIGlzIG5vdCBjb25zaXN0ZW50LCBpbiBzY3JpcHRzIHdlIGhhdmUgdG8gcmVhZCAudGV4dCBidXQgaW4gb3RoZXIgbm9kZXMgd2UgaGF2ZSB0byByZWFkIC50ZXh0Q29udGVudAogICAgICAgICAgICB0ZXh0ID0gZWxlbWVudFswXS50ZXh0OwoKICAgICAgICAkdGVtcGxhdGVDYWNoZS5wdXQodGVtcGxhdGVVcmwsIHRleHQpOwogICAgICB9CiAgICB9CiAgfTsKfV07Cgp2YXIgbmdPcHRpb25zTWluRXJyID0gbWluRXJyKCduZ09wdGlvbnMnKTsKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgc2VsZWN0CiAqIEByZXN0cmljdCBFCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBIVE1MIGBTRUxFQ1RgIGVsZW1lbnQgd2l0aCBhbmd1bGFyIGRhdGEtYmluZGluZy4KICoKICogIyBgbmdPcHRpb25zYAogKgogKiBUaGUgYG5nT3B0aW9uc2AgYXR0cmlidXRlIGNhbiBiZSB1c2VkIHRvIGR5bmFtaWNhbGx5IGdlbmVyYXRlIGEgbGlzdCBvZiBgPG9wdGlvbj5gCiAqIGVsZW1lbnRzIGZvciB0aGUgYDxzZWxlY3Q+YCBlbGVtZW50IHVzaW5nIHRoZSBhcnJheSBvciBvYmplY3Qgb2J0YWluZWQgYnkgZXZhbHVhdGluZyB0aGUKICogYG5nT3B0aW9uc2AgY29tcHJlaGVuc2lvbl9leHByZXNzaW9uLgogKgogKiBXaGVuIGFuIGl0ZW0gaW4gdGhlIGA8c2VsZWN0PmAgbWVudSBpcyBzZWxlY3RlZCwgdGhlIGFycmF5IGVsZW1lbnQgb3Igb2JqZWN0IHByb3BlcnR5CiAqIHJlcHJlc2VudGVkIGJ5IHRoZSBzZWxlY3RlZCBvcHRpb24gd2lsbCBiZSBib3VuZCB0byB0aGUgbW9kZWwgaWRlbnRpZmllZCBieSB0aGUgYG5nTW9kZWxgCiAqIGRpcmVjdGl2ZS4KICoKICogPGRpdiBjbGFzcz0iYWxlcnQgYWxlcnQtd2FybmluZyI+CiAqICoqTm90ZToqKiBgbmdNb2RlbGAgY29tcGFyZXMgYnkgcmVmZXJlbmNlLCBub3QgdmFsdWUuIFRoaXMgaXMgaW1wb3J0YW50IHdoZW4gYmluZGluZyB0byBhbgogKiBhcnJheSBvZiBvYmplY3RzLiBTZWUgYW4gZXhhbXBsZSBbaW4gdGhpcyBqc2ZpZGRsZV0oaHR0cDovL2pzZmlkZGxlLm5ldC9xV3pUYi8pLgogKiA8L2Rpdj4KICoKICogT3B0aW9uYWxseSwgYSBzaW5nbGUgaGFyZC1jb2RlZCBgPG9wdGlvbj5gIGVsZW1lbnQsIHdpdGggdGhlIHZhbHVlIHNldCB0byBhbiBlbXB0eSBzdHJpbmcsIGNhbgogKiBiZSBuZXN0ZWQgaW50byB0aGUgYDxzZWxlY3Q+YCBlbGVtZW50LiBUaGlzIGVsZW1lbnQgd2lsbCB0aGVuIHJlcHJlc2VudCB0aGUgYG51bGxgIG9yICJub3Qgc2VsZWN0ZWQiCiAqIG9wdGlvbi4gU2VlIGV4YW1wbGUgYmVsb3cgZm9yIGRlbW9uc3RyYXRpb24uCiAqCiAqIDxkaXYgY2xhc3M9ImFsZXJ0IGFsZXJ0LXdhcm5pbmciPgogKiAqKk5vdGU6KiogYG5nT3B0aW9uc2AgcHJvdmlkZXMgYW4gaXRlcmF0b3IgZmFjaWxpdHkgZm9yIHRoZSBgPG9wdGlvbj5gIGVsZW1lbnQgd2hpY2ggc2hvdWxkIGJlIHVzZWQgaW5zdGVhZAogKiBvZiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fSB3aGVuIHlvdSB3YW50IHRoZQogKiBgc2VsZWN0YCBtb2RlbCB0byBiZSBib3VuZCB0byBhIG5vbi1zdHJpbmcgdmFsdWUuIFRoaXMgaXMgYmVjYXVzZSBhbiBvcHRpb24gZWxlbWVudCBjYW4gb25seQogKiBiZSBib3VuZCB0byBzdHJpbmcgdmFsdWVzIGF0IHByZXNlbnQuCiAqIDwvZGl2PgogKgogKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uCiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC4KICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBUaGUgY29udHJvbCBpcyBjb25zaWRlcmVkIHZhbGlkIG9ubHkgaWYgdmFsdWUgaXMgZW50ZXJlZC4KICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvCiAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mCiAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLgogKiBAcGFyYW0ge2NvbXByZWhlbnNpb25fZXhwcmVzc2lvbj19IG5nT3B0aW9ucyBpbiBvbmUgb2YgdGhlIGZvbGxvd2luZyBmb3JtczoKICoKICogICAqIGZvciBhcnJheSBkYXRhIHNvdXJjZXM6CiAqICAgICAqIGBsYWJlbGAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YAogKiAgICAgKiBgc2VsZWN0YCAqKmBhc2AqKiBgbGFiZWxgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWAKICogICAgICogYGxhYmVsYCAgKipgZ3JvdXAgYnlgKiogYGdyb3VwYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgCiAqICAgICAqIGBzZWxlY3RgICoqYGFzYCoqIGBsYWJlbGAgKipgZ3JvdXAgYnlgKiogYGdyb3VwYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgICoqYHRyYWNrIGJ5YCoqIGB0cmFja2V4cHJgCiAqICAgKiBmb3Igb2JqZWN0IGRhdGEgc291cmNlczoKICogICAgICogYGxhYmVsYCAqKmBmb3IgKGAqKmBrZXlgICoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGAKICogICAgICogYHNlbGVjdGAgKipgYXNgKiogYGxhYmVsYCAqKmBmb3IgKGAqKmBrZXlgICoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGAKICogICAgICogYGxhYmVsYCAqKmBncm91cCBieWAqKiBgZ3JvdXBgICoqYGZvciAoYCoqYGtleWAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgCiAqICAgICAqIGBzZWxlY3RgICoqYGFzYCoqIGBsYWJlbGAgKipgZ3JvdXAgYnlgKiogYGdyb3VwYAogKiAgICAgICAgICoqYGZvcmAgYChgKipga2V5YCoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGAKICoKICogV2hlcmU6CiAqCiAqICAgKiBgYXJyYXlgIC8gYG9iamVjdGA6IGFuIGV4cHJlc3Npb24gd2hpY2ggZXZhbHVhdGVzIHRvIGFuIGFycmF5IC8gb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci4KICogICAqIGB2YWx1ZWA6IGxvY2FsIHZhcmlhYmxlIHdoaWNoIHdpbGwgcmVmZXIgdG8gZWFjaCBpdGVtIGluIHRoZSBgYXJyYXlgIG9yIGVhY2ggcHJvcGVydHkgdmFsdWUKICogICAgICBvZiBgb2JqZWN0YCBkdXJpbmcgaXRlcmF0aW9uLgogKiAgICogYGtleWA6IGxvY2FsIHZhcmlhYmxlIHdoaWNoIHdpbGwgcmVmZXIgdG8gYSBwcm9wZXJ0eSBuYW1lIGluIGBvYmplY3RgIGR1cmluZyBpdGVyYXRpb24uCiAqICAgKiBgbGFiZWxgOiBUaGUgcmVzdWx0IG9mIHRoaXMgZXhwcmVzc2lvbiB3aWxsIGJlIHRoZSBsYWJlbCBmb3IgYDxvcHRpb24+YCBlbGVtZW50LiBUaGUKICogICAgIGBleHByZXNzaW9uYCB3aWxsIG1vc3QgbGlrZWx5IHJlZmVyIHRvIHRoZSBgdmFsdWVgIHZhcmlhYmxlIChlLmcuIGB2YWx1ZS5wcm9wZXJ0eU5hbWVgKS4KICogICAqIGBzZWxlY3RgOiBUaGUgcmVzdWx0IG9mIHRoaXMgZXhwcmVzc2lvbiB3aWxsIGJlIGJvdW5kIHRvIHRoZSBtb2RlbCBvZiB0aGUgcGFyZW50IGA8c2VsZWN0PmAKICogICAgICBlbGVtZW50LiBJZiBub3Qgc3BlY2lmaWVkLCBgc2VsZWN0YCBleHByZXNzaW9uIHdpbGwgZGVmYXVsdCB0byBgdmFsdWVgLgogKiAgICogYGdyb3VwYDogVGhlIHJlc3VsdCBvZiB0aGlzIGV4cHJlc3Npb24gd2lsbCBiZSB1c2VkIHRvIGdyb3VwIG9wdGlvbnMgdXNpbmcgdGhlIGA8b3B0Z3JvdXA+YAogKiAgICAgIERPTSBlbGVtZW50LgogKiAgICogYHRyYWNrZXhwcmA6IFVzZWQgd2hlbiB3b3JraW5nIHdpdGggYW4gYXJyYXkgb2Ygb2JqZWN0cy4gVGhlIHJlc3VsdCBvZiB0aGlzIGV4cHJlc3Npb24gd2lsbCBiZQogKiAgICAgIHVzZWQgdG8gaWRlbnRpZnkgdGhlIG9iamVjdHMgaW4gdGhlIGFycmF5LiBUaGUgYHRyYWNrZXhwcmAgd2lsbCBtb3N0IGxpa2VseSByZWZlciB0byB0aGUKICogICAgIGB2YWx1ZWAgdmFyaWFibGUgKGUuZy4gYHZhbHVlLnByb3BlcnR5TmFtZWApLgogKgogKiBAZXhhbXBsZQogICAgPGV4YW1wbGU+CiAgICAgIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgICAgIDxzY3JpcHQ+CiAgICAgICAgZnVuY3Rpb24gTXlDbnRybCgkc2NvcGUpIHsKICAgICAgICAgICRzY29wZS5jb2xvcnMgPSBbCiAgICAgICAgICAgIHtuYW1lOidibGFjaycsIHNoYWRlOidkYXJrJ30sCiAgICAgICAgICAgIHtuYW1lOid3aGl0ZScsIHNoYWRlOidsaWdodCd9LAogICAgICAgICAgICB7bmFtZToncmVkJywgc2hhZGU6J2RhcmsnfSwKICAgICAgICAgICAge25hbWU6J2JsdWUnLCBzaGFkZTonZGFyayd9LAogICAgICAgICAgICB7bmFtZToneWVsbG93Jywgc2hhZGU6J2xpZ2h0J30KICAgICAgICAgIF07CiAgICAgICAgICAkc2NvcGUubXlDb2xvciA9ICRzY29wZS5jb2xvcnNbMl07IC8vIHJlZAogICAgICAgIH0KICAgICAgICA8L3NjcmlwdD4KICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9Ik15Q250cmwiPgogICAgICAgICAgPHVsPgogICAgICAgICAgICA8bGkgbmctcmVwZWF0PSJjb2xvciBpbiBjb2xvcnMiPgogICAgICAgICAgICAgIE5hbWU6IDxpbnB1dCBuZy1tb2RlbD0iY29sb3IubmFtZSI+CiAgICAgICAgICAgICAgWzxhIGhyZWYgbmctY2xpY2s9ImNvbG9ycy5zcGxpY2UoJGluZGV4LCAxKSI+WDwvYT5dCiAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgIDxsaT4KICAgICAgICAgICAgICBbPGEgaHJlZiBuZy1jbGljaz0iY29sb3JzLnB1c2goe30pIj5hZGQ8L2E+XQogICAgICAgICAgICA8L2xpPgogICAgICAgICAgPC91bD4KICAgICAgICAgIDxoci8+CiAgICAgICAgICBDb2xvciAobnVsbCBub3QgYWxsb3dlZCk6CiAgICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPSJteUNvbG9yIiBuZy1vcHRpb25zPSJjb2xvci5uYW1lIGZvciBjb2xvciBpbiBjb2xvcnMiPjwvc2VsZWN0Pjxicj4KCiAgICAgICAgICBDb2xvciAobnVsbCBhbGxvd2VkKToKICAgICAgICAgIDxzcGFuICBjbGFzcz0ibnVsbGFibGUiPgogICAgICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPSJteUNvbG9yIiBuZy1vcHRpb25zPSJjb2xvci5uYW1lIGZvciBjb2xvciBpbiBjb2xvcnMiPgogICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IiI+LS0gY2hvb3NlIGNvbG9yIC0tPC9vcHRpb24+CiAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgPC9zcGFuPjxici8+CgogICAgICAgICAgQ29sb3IgZ3JvdXBlZCBieSBzaGFkZToKICAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9Im15Q29sb3IiIG5nLW9wdGlvbnM9ImNvbG9yLm5hbWUgZ3JvdXAgYnkgY29sb3Iuc2hhZGUgZm9yIGNvbG9yIGluIGNvbG9ycyI+CiAgICAgICAgICA8L3NlbGVjdD48YnIvPgoKCiAgICAgICAgICBTZWxlY3QgPGEgaHJlZiBuZy1jbGljaz0ibXlDb2xvciA9IHsgbmFtZTonbm90IGluIGxpc3QnLCBzaGFkZTogJ290aGVyJyB9Ij5ib2d1czwvYT4uPGJyPgogICAgICAgICAgPGhyLz4KICAgICAgICAgIEN1cnJlbnRseSBzZWxlY3RlZDoge3sge3NlbGVjdGVkX2NvbG9yOm15Q29sb3J9ICB9fQogICAgICAgICAgPGRpdiBzdHlsZT0iYm9yZGVyOnNvbGlkIDFweCBibGFjazsgaGVpZ2h0OjIwcHgiCiAgICAgICAgICAgICAgIG5nLXN0eWxlPSJ7J2JhY2tncm91bmQtY29sb3InOm15Q29sb3IubmFtZX0iPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZmlsZT4KICAgICAgPGZpbGUgbmFtZT0icHJvdHJhY3Rvci5qcyIgdHlwZT0icHJvdHJhY3RvciI+CiAgICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctb3B0aW9ucycsIGZ1bmN0aW9uKCkgewogICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3tzZWxlY3RlZF9jb2xvcjpteUNvbG9yfScpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJ3JlZCcpOwogICAgICAgICAgIGVsZW1lbnQuYWxsKGJ5LnNlbGVjdCgnbXlDb2xvcicpKS5maXJzdCgpLmNsaWNrKCk7CiAgICAgICAgICAgZWxlbWVudC5hbGwoYnkuY3NzKCdzZWxlY3RbbmctbW9kZWw9Im15Q29sb3IiXSBvcHRpb24nKSkuZmlyc3QoKS5jbGljaygpOwogICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3tzZWxlY3RlZF9jb2xvcjpteUNvbG9yfScpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJ2JsYWNrJyk7CiAgICAgICAgICAgZWxlbWVudChieS5jc3MoJy5udWxsYWJsZSBzZWxlY3RbbmctbW9kZWw9Im15Q29sb3IiXScpKS5jbGljaygpOwogICAgICAgICAgIGVsZW1lbnQuYWxsKGJ5LmNzcygnLm51bGxhYmxlIHNlbGVjdFtuZy1tb2RlbD0ibXlDb2xvciJdIG9wdGlvbicpKS5maXJzdCgpLmNsaWNrKCk7CiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygne3NlbGVjdGVkX2NvbG9yOm15Q29sb3J9JykpLmdldFRleHQoKSkudG9NYXRjaCgnbnVsbCcpOwogICAgICAgICB9KTsKICAgICAgPC9maWxlPgogICAgPC9leGFtcGxlPgogKi8KCnZhciBuZ09wdGlvbnNEaXJlY3RpdmUgPSB2YWx1ZUZuKHsgdGVybWluYWw6IHRydWUgfSk7Ci8vIGpzaGludCBtYXhsZW46IGZhbHNlCnZhciBzZWxlY3REaXJlY3RpdmUgPSBbJyRjb21waWxlJywgJyRwYXJzZScsIGZ1bmN0aW9uKCRjb21waWxlLCAgICRwYXJzZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgLy8wMDAwMTExMTExMTExMTAwMDAwMDAwMDAwMjIyMjIyMjIyMjAwMDAwMDAwMDAwMDAwMDAwMDAwMDMzMzMzMzMzMzMwMDAwMDAwMDAwMDAwMDQ0NDQ0NDQ0NDQ0NDQ0NDAwMDAwMDAwMDU1NTU1NTU1NTU1NTU1NTAwMDAwMDA2NjY2NjY2NjY2NjY2NjYwMDAwMDAwMDAwMDAwMDA3Nzc3Nzc3Nzc3MDAwMDAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODgKICB2YXIgTkdfT1BUSU9OU19SRUdFWFAgPSAvXlxzKihbXHNcU10rPykoPzpccythc1xzKyhbXHNcU10rPykpPyg/OlxzK2dyb3VwXHMrYnlccysoW1xzXFNdKz8pKT9ccytmb3JccysoPzooW1wkXHddW1wkXHddKil8KD86XChccyooW1wkXHddW1wkXHddKilccyosXHMqKFtcJFx3XVtcJFx3XSopXHMqXCkpKVxzK2luXHMrKFtcc1xTXSs/KSg/OlxzK3RyYWNrXHMrYnlccysoW1xzXFNdKz8pKT8kLywKICAgICAgbnVsbE1vZGVsQ3RybCA9IHskc2V0Vmlld1ZhbHVlOiBub29wfTsKLy8ganNoaW50IG1heGxlbjogMTAwCgogIHJldHVybiB7CiAgICByZXN0cmljdDogJ0UnLAogICAgcmVxdWlyZTogWydzZWxlY3QnLCAnP25nTW9kZWwnXSwKICAgIGNvbnRyb2xsZXI6IFsnJGVsZW1lbnQnLCAnJHNjb3BlJywgJyRhdHRycycsIGZ1bmN0aW9uKCRlbGVtZW50LCAkc2NvcGUsICRhdHRycykgewogICAgICB2YXIgc2VsZiA9IHRoaXMsCiAgICAgICAgICBvcHRpb25zTWFwID0ge30sCiAgICAgICAgICBuZ01vZGVsQ3RybCA9IG51bGxNb2RlbEN0cmwsCiAgICAgICAgICBudWxsT3B0aW9uLAogICAgICAgICAgdW5rbm93bk9wdGlvbjsKCgogICAgICBzZWxmLmRhdGFib3VuZCA9ICRhdHRycy5uZ01vZGVsOwoKCiAgICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKG5nTW9kZWxDdHJsXywgbnVsbE9wdGlvbl8sIHVua25vd25PcHRpb25fKSB7CiAgICAgICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87CiAgICAgICAgbnVsbE9wdGlvbiA9IG51bGxPcHRpb25fOwogICAgICAgIHVua25vd25PcHRpb24gPSB1bmtub3duT3B0aW9uXzsKICAgICAgfTsKCgogICAgICBzZWxmLmFkZE9wdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkodmFsdWUsICcib3B0aW9uIHZhbHVlIicpOwogICAgICAgIG9wdGlvbnNNYXBbdmFsdWVdID0gdHJ1ZTsKCiAgICAgICAgaWYgKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgPT0gdmFsdWUpIHsKICAgICAgICAgICRlbGVtZW50LnZhbCh2YWx1ZSk7CiAgICAgICAgICBpZiAodW5rbm93bk9wdGlvbi5wYXJlbnQoKSkgdW5rbm93bk9wdGlvbi5yZW1vdmUoKTsKICAgICAgICB9CiAgICAgIH07CgoKICAgICAgc2VsZi5yZW1vdmVPcHRpb24gPSBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgIGlmICh0aGlzLmhhc09wdGlvbih2YWx1ZSkpIHsKICAgICAgICAgIGRlbGV0ZSBvcHRpb25zTWFwW3ZhbHVlXTsKICAgICAgICAgIGlmIChuZ01vZGVsQ3RybC4kdmlld1ZhbHVlID09IHZhbHVlKSB7CiAgICAgICAgICAgIHRoaXMucmVuZGVyVW5rbm93bk9wdGlvbih2YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwoKCiAgICAgIHNlbGYucmVuZGVyVW5rbm93bk9wdGlvbiA9IGZ1bmN0aW9uKHZhbCkgewogICAgICAgIHZhciB1bmtub3duVmFsID0gJz8gJyArIGhhc2hLZXkodmFsKSArICcgPyc7CiAgICAgICAgdW5rbm93bk9wdGlvbi52YWwodW5rbm93blZhbCk7CiAgICAgICAgJGVsZW1lbnQucHJlcGVuZCh1bmtub3duT3B0aW9uKTsKICAgICAgICAkZWxlbWVudC52YWwodW5rbm93blZhbCk7CiAgICAgICAgdW5rbm93bk9wdGlvbi5wcm9wKCdzZWxlY3RlZCcsIHRydWUpOyAvLyBuZWVkZWQgZm9yIElFCiAgICAgIH07CgoKICAgICAgc2VsZi5oYXNPcHRpb24gPSBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgIHJldHVybiBvcHRpb25zTWFwLmhhc093blByb3BlcnR5KHZhbHVlKTsKICAgICAgfTsKCiAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7CiAgICAgICAgLy8gZGlzYWJsZSB1bmtub3duIG9wdGlvbiBzbyB0aGF0IHdlIGRvbid0IGRvIHdvcmsgd2hlbiB0aGUgd2hvbGUgc2VsZWN0IGlzIGJlaW5nIGRlc3Ryb3llZAogICAgICAgIHNlbGYucmVuZGVyVW5rbm93bk9wdGlvbiA9IG5vb3A7CiAgICAgIH0pOwogICAgfV0sCgogICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7CiAgICAgIC8vIGlmIG5nTW9kZWwgaXMgbm90IGRlZmluZWQsIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmcKICAgICAgaWYgKCFjdHJsc1sxXSkgcmV0dXJuOwoKICAgICAgdmFyIHNlbGVjdEN0cmwgPSBjdHJsc1swXSwKICAgICAgICAgIG5nTW9kZWxDdHJsID0gY3RybHNbMV0sCiAgICAgICAgICBtdWx0aXBsZSA9IGF0dHIubXVsdGlwbGUsCiAgICAgICAgICBvcHRpb25zRXhwID0gYXR0ci5uZ09wdGlvbnMsCiAgICAgICAgICBudWxsT3B0aW9uID0gZmFsc2UsIC8vIGlmIGZhbHNlLCB1c2VyIHdpbGwgbm90IGJlIGFibGUgdG8gc2VsZWN0IGl0ICh1c2VkIGJ5IG5nT3B0aW9ucykKICAgICAgICAgIGVtcHR5T3B0aW9uLAogICAgICAgICAgLy8gd2UgY2FuJ3QganVzdCBqcUxpdGUoJzxvcHRpb24+Jykgc2luY2UganFMaXRlIGlzIG5vdCBzbWFydCBlbm91Z2gKICAgICAgICAgIC8vIHRvIGNyZWF0ZSBpdCBpbiA8c2VsZWN0PiBhbmQgSUUgYmFyZnMgb3RoZXJ3aXNlLgogICAgICAgICAgb3B0aW9uVGVtcGxhdGUgPSBqcUxpdGUoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJykpLAogICAgICAgICAgb3B0R3JvdXBUZW1wbGF0ZSA9anFMaXRlKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGdyb3VwJykpLAogICAgICAgICAgdW5rbm93bk9wdGlvbiA9IG9wdGlvblRlbXBsYXRlLmNsb25lKCk7CgogICAgICAvLyBmaW5kICJudWxsIiBvcHRpb24KICAgICAgZm9yKHZhciBpID0gMCwgY2hpbGRyZW4gPSBlbGVtZW50LmNoaWxkcmVuKCksIGlpID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgaWk7IGkrKykgewogICAgICAgIGlmIChjaGlsZHJlbltpXS52YWx1ZSA9PT0gJycpIHsKICAgICAgICAgIGVtcHR5T3B0aW9uID0gbnVsbE9wdGlvbiA9IGNoaWxkcmVuLmVxKGkpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CgogICAgICBzZWxlY3RDdHJsLmluaXQobmdNb2RlbEN0cmwsIG51bGxPcHRpb24sIHVua25vd25PcHRpb24pOwoKICAgICAgLy8gcmVxdWlyZWQgdmFsaWRhdG9yCiAgICAgIGlmIChtdWx0aXBsZSkgewogICAgICAgIG5nTW9kZWxDdHJsLiRpc0VtcHR5ID0gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICAgIHJldHVybiAhdmFsdWUgfHwgdmFsdWUubGVuZ3RoID09PSAwOwogICAgICAgIH07CiAgICAgIH0KCiAgICAgIGlmIChvcHRpb25zRXhwKSBzZXR1cEFzT3B0aW9ucyhzY29wZSwgZWxlbWVudCwgbmdNb2RlbEN0cmwpOwogICAgICBlbHNlIGlmIChtdWx0aXBsZSkgc2V0dXBBc011bHRpcGxlKHNjb3BlLCBlbGVtZW50LCBuZ01vZGVsQ3RybCk7CiAgICAgIGVsc2Ugc2V0dXBBc1NpbmdsZShzY29wZSwgZWxlbWVudCwgbmdNb2RlbEN0cmwsIHNlbGVjdEN0cmwpOwoKCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCgoKICAgICAgZnVuY3Rpb24gc2V0dXBBc1NpbmdsZShzY29wZSwgc2VsZWN0RWxlbWVudCwgbmdNb2RlbEN0cmwsIHNlbGVjdEN0cmwpIHsKICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICB2YXIgdmlld1ZhbHVlID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTsKCiAgICAgICAgICBpZiAoc2VsZWN0Q3RybC5oYXNPcHRpb24odmlld1ZhbHVlKSkgewogICAgICAgICAgICBpZiAodW5rbm93bk9wdGlvbi5wYXJlbnQoKSkgdW5rbm93bk9wdGlvbi5yZW1vdmUoKTsKICAgICAgICAgICAgc2VsZWN0RWxlbWVudC52YWwodmlld1ZhbHVlKTsKICAgICAgICAgICAgaWYgKHZpZXdWYWx1ZSA9PT0gJycpIGVtcHR5T3B0aW9uLnByb3AoJ3NlbGVjdGVkJywgdHJ1ZSk7IC8vIHRvIG1ha2UgSUU5IGhhcHB5CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoaXNVbmRlZmluZWQodmlld1ZhbHVlKSAmJiBlbXB0eU9wdGlvbikgewogICAgICAgICAgICAgIHNlbGVjdEVsZW1lbnQudmFsKCcnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBzZWxlY3RDdHJsLnJlbmRlclVua25vd25PcHRpb24odmlld1ZhbHVlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHNlbGVjdEVsZW1lbnQub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkgewogICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAodW5rbm93bk9wdGlvbi5wYXJlbnQoKSkgdW5rbm93bk9wdGlvbi5yZW1vdmUoKTsKICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShzZWxlY3RFbGVtZW50LnZhbCgpKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBmdW5jdGlvbiBzZXR1cEFzTXVsdGlwbGUoc2NvcGUsIHNlbGVjdEVsZW1lbnQsIGN0cmwpIHsKICAgICAgICB2YXIgbGFzdFZpZXc7CiAgICAgICAgY3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICB2YXIgaXRlbXMgPSBuZXcgSGFzaE1hcChjdHJsLiR2aWV3VmFsdWUpOwogICAgICAgICAgZm9yRWFjaChzZWxlY3RFbGVtZW50LmZpbmQoJ29wdGlvbicpLCBmdW5jdGlvbihvcHRpb24pIHsKICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gaXNEZWZpbmVkKGl0ZW1zLmdldChvcHRpb24udmFsdWUpKTsKICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIC8vIHdlIGhhdmUgdG8gZG8gaXQgb24gZWFjaCB3YXRjaCBzaW5jZSBuZ01vZGVsIHdhdGNoZXMgcmVmZXJlbmNlLCBidXQKICAgICAgICAvLyB3ZSBuZWVkIHRvIHdvcmsgb2YgYW4gYXJyYXksIHNvIHdlIG5lZWQgdG8gc2VlIGlmIGFueXRoaW5nIHdhcyBpbnNlcnRlZC9yZW1vdmVkCiAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIHNlbGVjdE11bHRpcGxlV2F0Y2goKSB7CiAgICAgICAgICBpZiAoIWVxdWFscyhsYXN0VmlldywgY3RybC4kdmlld1ZhbHVlKSkgewogICAgICAgICAgICBsYXN0VmlldyA9IHNoYWxsb3dDb3B5KGN0cmwuJHZpZXdWYWx1ZSk7CiAgICAgICAgICAgIGN0cmwuJHJlbmRlcigpOwogICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBzZWxlY3RFbGVtZW50Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHsKICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIGFycmF5ID0gW107CiAgICAgICAgICAgIGZvckVhY2goc2VsZWN0RWxlbWVudC5maW5kKCdvcHRpb24nKSwgZnVuY3Rpb24ob3B0aW9uKSB7CiAgICAgICAgICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCkgewogICAgICAgICAgICAgICAgYXJyYXkucHVzaChvcHRpb24udmFsdWUpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGN0cmwuJHNldFZpZXdWYWx1ZShhcnJheSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gc2V0dXBBc09wdGlvbnMoc2NvcGUsIHNlbGVjdEVsZW1lbnQsIGN0cmwpIHsKICAgICAgICB2YXIgbWF0Y2g7CgogICAgICAgIGlmICghKG1hdGNoID0gb3B0aW9uc0V4cC5tYXRjaChOR19PUFRJT05TX1JFR0VYUCkpKSB7CiAgICAgICAgICB0aHJvdyBuZ09wdGlvbnNNaW5FcnIoJ2lleHAnLAogICAgICAgICAgICAiRXhwZWN0ZWQgZXhwcmVzc2lvbiBpbiBmb3JtIG9mICIgKwogICAgICAgICAgICAiJ19zZWxlY3RfIChhcyBfbGFiZWxfKT8gZm9yIChfa2V5XywpP192YWx1ZV8gaW4gX2NvbGxlY3Rpb25fJyIgKwogICAgICAgICAgICAiIGJ1dCBnb3QgJ3swfScuIEVsZW1lbnQ6IHsxfSIsCiAgICAgICAgICAgIG9wdGlvbnNFeHAsIHN0YXJ0aW5nVGFnKHNlbGVjdEVsZW1lbnQpKTsKICAgICAgICB9CgogICAgICAgIHZhciBkaXNwbGF5Rm4gPSAkcGFyc2UobWF0Y2hbMl0gfHwgbWF0Y2hbMV0pLAogICAgICAgICAgICB2YWx1ZU5hbWUgPSBtYXRjaFs0XSB8fCBtYXRjaFs2XSwKICAgICAgICAgICAga2V5TmFtZSA9IG1hdGNoWzVdLAogICAgICAgICAgICBncm91cEJ5Rm4gPSAkcGFyc2UobWF0Y2hbM10gfHwgJycpLAogICAgICAgICAgICB2YWx1ZUZuID0gJHBhcnNlKG1hdGNoWzJdID8gbWF0Y2hbMV0gOiB2YWx1ZU5hbWUpLAogICAgICAgICAgICB2YWx1ZXNGbiA9ICRwYXJzZShtYXRjaFs3XSksCiAgICAgICAgICAgIHRyYWNrID0gbWF0Y2hbOF0sCiAgICAgICAgICAgIHRyYWNrRm4gPSB0cmFjayA/ICRwYXJzZShtYXRjaFs4XSkgOiBudWxsLAogICAgICAgICAgICAvLyBUaGlzIGlzIGFuIGFycmF5IG9mIGFycmF5IG9mIGV4aXN0aW5nIG9wdGlvbiBncm91cHMgaW4gRE9NLgogICAgICAgICAgICAvLyBXZSB0cnkgdG8gcmV1c2UgdGhlc2UgaWYgcG9zc2libGUKICAgICAgICAgICAgLy8gLSBvcHRpb25Hcm91cHNDYWNoZVswXSBpcyB0aGUgb3B0aW9ucyB3aXRoIG5vIG9wdGlvbiBncm91cAogICAgICAgICAgICAvLyAtIG9wdGlvbkdyb3Vwc0NhY2hlWz9dWzBdIGlzIHRoZSBwYXJlbnQ6IGVpdGhlciB0aGUgU0VMRUNUIG9yIE9QVEdST1VQIGVsZW1lbnQKICAgICAgICAgICAgb3B0aW9uR3JvdXBzQ2FjaGUgPSBbW3tlbGVtZW50OiBzZWxlY3RFbGVtZW50LCBsYWJlbDonJ31dXTsKCiAgICAgICAgaWYgKG51bGxPcHRpb24pIHsKICAgICAgICAgIC8vIGNvbXBpbGUgdGhlIGVsZW1lbnQgc2luY2UgdGhlcmUgbWlnaHQgYmUgYmluZGluZ3MgaW4gaXQKICAgICAgICAgICRjb21waWxlKG51bGxPcHRpb24pKHNjb3BlKTsKCiAgICAgICAgICAvLyByZW1vdmUgdGhlIGNsYXNzLCB3aGljaCBpcyBhZGRlZCBhdXRvbWF0aWNhbGx5IGJlY2F1c2Ugd2UgcmVjb21waWxlIHRoZSBlbGVtZW50IGFuZCBpdAogICAgICAgICAgLy8gYmVjb21lcyB0aGUgY29tcGlsYXRpb24gcm9vdAogICAgICAgICAgbnVsbE9wdGlvbi5yZW1vdmVDbGFzcygnbmctc2NvcGUnKTsKCiAgICAgICAgICAvLyB3ZSBuZWVkIHRvIHJlbW92ZSBpdCBiZWZvcmUgY2FsbGluZyBzZWxlY3RFbGVtZW50LmVtcHR5KCkgYmVjYXVzZSBvdGhlcndpc2UgSUUgd2lsbAogICAgICAgICAgLy8gcmVtb3ZlIHRoZSBsYWJlbCBmcm9tIHRoZSBlbGVtZW50LiB3dGY/CiAgICAgICAgICBudWxsT3B0aW9uLnJlbW92ZSgpOwogICAgICAgIH0KCiAgICAgICAgLy8gY2xlYXIgY29udGVudHMsIHdlJ2xsIGFkZCB3aGF0J3MgbmVlZGVkIGJhc2VkIG9uIHRoZSBtb2RlbAogICAgICAgIHNlbGVjdEVsZW1lbnQuZW1wdHkoKTsKCiAgICAgICAgc2VsZWN0RWxlbWVudC5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBvcHRpb25Hcm91cCwKICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24gPSB2YWx1ZXNGbihzY29wZSkgfHwgW10sCiAgICAgICAgICAgICAgICBsb2NhbHMgPSB7fSwKICAgICAgICAgICAgICAgIGtleSwgdmFsdWUsIG9wdGlvbkVsZW1lbnQsIGluZGV4LCBncm91cEluZGV4LCBsZW5ndGgsIGdyb3VwTGVuZ3RoLCB0cmFja0luZGV4OwoKICAgICAgICAgICAgaWYgKG11bHRpcGxlKSB7CiAgICAgICAgICAgICAgdmFsdWUgPSBbXTsKICAgICAgICAgICAgICBmb3IgKGdyb3VwSW5kZXggPSAwLCBncm91cExlbmd0aCA9IG9wdGlvbkdyb3Vwc0NhY2hlLmxlbmd0aDsKICAgICAgICAgICAgICAgICAgIGdyb3VwSW5kZXggPCBncm91cExlbmd0aDsKICAgICAgICAgICAgICAgICAgIGdyb3VwSW5kZXgrKykgewogICAgICAgICAgICAgICAgLy8gbGlzdCBvZiBvcHRpb25zIGZvciB0aGF0IGdyb3VwLiAoZmlyc3QgaXRlbSBoYXMgdGhlIHBhcmVudCkKICAgICAgICAgICAgICAgIG9wdGlvbkdyb3VwID0gb3B0aW9uR3JvdXBzQ2FjaGVbZ3JvdXBJbmRleF07CgogICAgICAgICAgICAgICAgZm9yKGluZGV4ID0gMSwgbGVuZ3RoID0gb3B0aW9uR3JvdXAubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgICAgICAgICBpZiAoKG9wdGlvbkVsZW1lbnQgPSBvcHRpb25Hcm91cFtpbmRleF0uZWxlbWVudClbMF0uc2VsZWN0ZWQpIHsKICAgICAgICAgICAgICAgICAgICBrZXkgPSBvcHRpb25FbGVtZW50LnZhbCgpOwogICAgICAgICAgICAgICAgICAgIGlmIChrZXlOYW1lKSBsb2NhbHNba2V5TmFtZV0gPSBrZXk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNrRm4pIHsKICAgICAgICAgICAgICAgICAgICAgIGZvciAodHJhY2tJbmRleCA9IDA7IHRyYWNrSW5kZXggPCBjb2xsZWN0aW9uLmxlbmd0aDsgdHJhY2tJbmRleCsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2Fsc1t2YWx1ZU5hbWVdID0gY29sbGVjdGlvblt0cmFja0luZGV4XTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNrRm4oc2NvcGUsIGxvY2FscykgPT0ga2V5KSBicmVhazsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgbG9jYWxzW3ZhbHVlTmFtZV0gPSBjb2xsZWN0aW9uW2tleV07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHZhbHVlLnB1c2godmFsdWVGbihzY29wZSwgbG9jYWxzKSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAga2V5ID0gc2VsZWN0RWxlbWVudC52YWwoKTsKICAgICAgICAgICAgICBpZiAoa2V5ID09ICc/JykgewogICAgICAgICAgICAgICAgdmFsdWUgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICcnKXsKICAgICAgICAgICAgICAgIHZhbHVlID0gbnVsbDsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaWYgKHRyYWNrRm4pIHsKICAgICAgICAgICAgICAgICAgZm9yICh0cmFja0luZGV4ID0gMDsgdHJhY2tJbmRleCA8IGNvbGxlY3Rpb24ubGVuZ3RoOyB0cmFja0luZGV4KyspIHsKICAgICAgICAgICAgICAgICAgICBsb2NhbHNbdmFsdWVOYW1lXSA9IGNvbGxlY3Rpb25bdHJhY2tJbmRleF07CiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNrRm4oc2NvcGUsIGxvY2FscykgPT0ga2V5KSB7CiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlRm4oc2NvcGUsIGxvY2Fscyk7CiAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGxvY2Fsc1t2YWx1ZU5hbWVdID0gY29sbGVjdGlvbltrZXldOwogICAgICAgICAgICAgICAgICBpZiAoa2V5TmFtZSkgbG9jYWxzW2tleU5hbWVdID0ga2V5OwogICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlRm4oc2NvcGUsIGxvY2Fscyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgbnVsbCBvcHRpb24ncyBzZWxlY3RlZCBwcm9wZXJ0eSBoZXJlIHNvICRyZW5kZXIgY2xlYW5zIGl0IHVwIGNvcnJlY3RseQogICAgICAgICAgICAgIGlmIChvcHRpb25Hcm91cHNDYWNoZVswXS5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICBpZiAob3B0aW9uR3JvdXBzQ2FjaGVbMF1bMV0uaWQgIT09IGtleSkgewogICAgICAgICAgICAgICAgICBvcHRpb25Hcm91cHNDYWNoZVswXVsxXS5zZWxlY3RlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjdHJsLiRzZXRWaWV3VmFsdWUodmFsdWUpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CgogICAgICAgIGN0cmwuJHJlbmRlciA9IHJlbmRlcjsKCiAgICAgICAgLy8gVE9ETyh2b2p0YSk6IGNhbid0IHdlIG9wdGltaXplIHRoaXMgPwogICAgICAgIHNjb3BlLiR3YXRjaChyZW5kZXIpOwoKICAgICAgICBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgICAgICAgICAgLy8gVGVtcG9yYXJ5IGxvY2F0aW9uIGZvciB0aGUgb3B0aW9uIGdyb3VwcyBiZWZvcmUgd2UgcmVuZGVyIHRoZW0KICAgICAgICAgIHZhciBvcHRpb25Hcm91cHMgPSB7Jyc6W119LAogICAgICAgICAgICAgIG9wdGlvbkdyb3VwTmFtZXMgPSBbJyddLAogICAgICAgICAgICAgIG9wdGlvbkdyb3VwTmFtZSwKICAgICAgICAgICAgICBvcHRpb25Hcm91cCwKICAgICAgICAgICAgICBvcHRpb24sCiAgICAgICAgICAgICAgZXhpc3RpbmdQYXJlbnQsIGV4aXN0aW5nT3B0aW9ucywgZXhpc3RpbmdPcHRpb24sCiAgICAgICAgICAgICAgbW9kZWxWYWx1ZSA9IGN0cmwuJG1vZGVsVmFsdWUsCiAgICAgICAgICAgICAgdmFsdWVzID0gdmFsdWVzRm4oc2NvcGUpIHx8IFtdLAogICAgICAgICAgICAgIGtleXMgPSBrZXlOYW1lID8gc29ydGVkS2V5cyh2YWx1ZXMpIDogdmFsdWVzLAogICAgICAgICAgICAgIGtleSwKICAgICAgICAgICAgICBncm91cExlbmd0aCwgbGVuZ3RoLAogICAgICAgICAgICAgIGdyb3VwSW5kZXgsIGluZGV4LAogICAgICAgICAgICAgIGxvY2FscyA9IHt9LAogICAgICAgICAgICAgIHNlbGVjdGVkLAogICAgICAgICAgICAgIHNlbGVjdGVkU2V0ID0gZmFsc2UsIC8vIG5vdGhpbmcgaXMgc2VsZWN0ZWQgeWV0CiAgICAgICAgICAgICAgbGFzdEVsZW1lbnQsCiAgICAgICAgICAgICAgZWxlbWVudCwKICAgICAgICAgICAgICBsYWJlbDsKCiAgICAgICAgICBpZiAobXVsdGlwbGUpIHsKICAgICAgICAgICAgaWYgKHRyYWNrRm4gJiYgaXNBcnJheShtb2RlbFZhbHVlKSkgewogICAgICAgICAgICAgIHNlbGVjdGVkU2V0ID0gbmV3IEhhc2hNYXAoW10pOwogICAgICAgICAgICAgIGZvciAodmFyIHRyYWNrSW5kZXggPSAwOyB0cmFja0luZGV4IDwgbW9kZWxWYWx1ZS5sZW5ndGg7IHRyYWNrSW5kZXgrKykgewogICAgICAgICAgICAgICAgbG9jYWxzW3ZhbHVlTmFtZV0gPSBtb2RlbFZhbHVlW3RyYWNrSW5kZXhdOwogICAgICAgICAgICAgICAgc2VsZWN0ZWRTZXQucHV0KHRyYWNrRm4oc2NvcGUsIGxvY2FscyksIG1vZGVsVmFsdWVbdHJhY2tJbmRleF0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBzZWxlY3RlZFNldCA9IG5ldyBIYXNoTWFwKG1vZGVsVmFsdWUpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgLy8gV2Ugbm93IGJ1aWxkIHVwIHRoZSBsaXN0IG9mIG9wdGlvbnMgd2UgbmVlZCAod2UgbWVyZ2UgbGF0ZXIpCiAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgbGVuZ3RoID0ga2V5cy5sZW5ndGgsIGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7CgogICAgICAgICAgICBrZXkgPSBpbmRleDsKICAgICAgICAgICAgaWYgKGtleU5hbWUpIHsKICAgICAgICAgICAgICBrZXkgPSBrZXlzW2luZGV4XTsKICAgICAgICAgICAgICBpZiAoIGtleS5jaGFyQXQoMCkgPT09ICckJyApIGNvbnRpbnVlOwogICAgICAgICAgICAgIGxvY2Fsc1trZXlOYW1lXSA9IGtleTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbG9jYWxzW3ZhbHVlTmFtZV0gPSB2YWx1ZXNba2V5XTsKCiAgICAgICAgICAgIG9wdGlvbkdyb3VwTmFtZSA9IGdyb3VwQnlGbihzY29wZSwgbG9jYWxzKSB8fCAnJzsKICAgICAgICAgICAgaWYgKCEob3B0aW9uR3JvdXAgPSBvcHRpb25Hcm91cHNbb3B0aW9uR3JvdXBOYW1lXSkpIHsKICAgICAgICAgICAgICBvcHRpb25Hcm91cCA9IG9wdGlvbkdyb3Vwc1tvcHRpb25Hcm91cE5hbWVdID0gW107CiAgICAgICAgICAgICAgb3B0aW9uR3JvdXBOYW1lcy5wdXNoKG9wdGlvbkdyb3VwTmFtZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG11bHRpcGxlKSB7CiAgICAgICAgICAgICAgc2VsZWN0ZWQgPSBpc0RlZmluZWQoCiAgICAgICAgICAgICAgICBzZWxlY3RlZFNldC5yZW1vdmUodHJhY2tGbiA/IHRyYWNrRm4oc2NvcGUsIGxvY2FscykgOiB2YWx1ZUZuKHNjb3BlLCBsb2NhbHMpKQogICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaWYgKHRyYWNrRm4pIHsKICAgICAgICAgICAgICAgIHZhciBtb2RlbENhc3QgPSB7fTsKICAgICAgICAgICAgICAgIG1vZGVsQ2FzdFt2YWx1ZU5hbWVdID0gbW9kZWxWYWx1ZTsKICAgICAgICAgICAgICAgIHNlbGVjdGVkID0gdHJhY2tGbihzY29wZSwgbW9kZWxDYXN0KSA9PT0gdHJhY2tGbihzY29wZSwgbG9jYWxzKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2VsZWN0ZWQgPSBtb2RlbFZhbHVlID09PSB2YWx1ZUZuKHNjb3BlLCBsb2NhbHMpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBzZWxlY3RlZFNldCA9IHNlbGVjdGVkU2V0IHx8IHNlbGVjdGVkOyAvLyBzZWUgaWYgYXQgbGVhc3Qgb25lIGl0ZW0gaXMgc2VsZWN0ZWQKICAgICAgICAgICAgfQogICAgICAgICAgICBsYWJlbCA9IGRpc3BsYXlGbihzY29wZSwgbG9jYWxzKTsgLy8gd2hhdCB3aWxsIGJlIHNlZW4gYnkgdGhlIHVzZXIKCiAgICAgICAgICAgIC8vIGRvaW5nIGRpc3BsYXlGbihzY29wZSwgbG9jYWxzKSB8fCAnJyBvdmVyd3JpdGVzIHplcm8gdmFsdWVzCiAgICAgICAgICAgIGxhYmVsID0gaXNEZWZpbmVkKGxhYmVsKSA/IGxhYmVsIDogJyc7CiAgICAgICAgICAgIG9wdGlvbkdyb3VwLnB1c2goewogICAgICAgICAgICAgIC8vIGVpdGhlciB0aGUgaW5kZXggaW50byBhcnJheSBvciBrZXkgZnJvbSBvYmplY3QKICAgICAgICAgICAgICBpZDogdHJhY2tGbiA/IHRyYWNrRm4oc2NvcGUsIGxvY2FscykgOiAoa2V5TmFtZSA/IGtleXNbaW5kZXhdIDogaW5kZXgpLAogICAgICAgICAgICAgIGxhYmVsOiBsYWJlbCwKICAgICAgICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWQgICAgICAgICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIGlmIHdlIHNob3VsZCBiZSBzZWxlY3RlZAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICghbXVsdGlwbGUpIHsKICAgICAgICAgICAgaWYgKG51bGxPcHRpb24gfHwgbW9kZWxWYWx1ZSA9PT0gbnVsbCkgewogICAgICAgICAgICAgIC8vIGluc2VydCBudWxsIG9wdGlvbiBpZiB3ZSBoYXZlIGEgcGxhY2Vob2xkZXIsIG9yIHRoZSBtb2RlbCBpcyBudWxsCiAgICAgICAgICAgICAgb3B0aW9uR3JvdXBzWycnXS51bnNoaWZ0KHtpZDonJywgbGFiZWw6JycsIHNlbGVjdGVkOiFzZWxlY3RlZFNldH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKCFzZWxlY3RlZFNldCkgewogICAgICAgICAgICAgIC8vIG9wdGlvbiBjb3VsZCBub3QgYmUgZm91bmQsIHdlIGhhdmUgdG8gaW5zZXJ0IHRoZSB1bmRlZmluZWQgaXRlbQogICAgICAgICAgICAgIG9wdGlvbkdyb3Vwc1snJ10udW5zaGlmdCh7aWQ6Jz8nLCBsYWJlbDonJywgc2VsZWN0ZWQ6dHJ1ZX0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgLy8gTm93IHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBsaXN0IG9mIERPTSBub2RlcyB0byBtYXRjaCB0aGUgb3B0aW9uR3JvdXBzIHdlIGNvbXB1dGVkIGFib3ZlCiAgICAgICAgICBmb3IgKGdyb3VwSW5kZXggPSAwLCBncm91cExlbmd0aCA9IG9wdGlvbkdyb3VwTmFtZXMubGVuZ3RoOwogICAgICAgICAgICAgICBncm91cEluZGV4IDwgZ3JvdXBMZW5ndGg7CiAgICAgICAgICAgICAgIGdyb3VwSW5kZXgrKykgewogICAgICAgICAgICAvLyBjdXJyZW50IG9wdGlvbiBncm91cCBuYW1lIG9yICcnIGlmIG5vIGdyb3VwCiAgICAgICAgICAgIG9wdGlvbkdyb3VwTmFtZSA9IG9wdGlvbkdyb3VwTmFtZXNbZ3JvdXBJbmRleF07CgogICAgICAgICAgICAvLyBsaXN0IG9mIG9wdGlvbnMgZm9yIHRoYXQgZ3JvdXAuIChmaXJzdCBpdGVtIGhhcyB0aGUgcGFyZW50KQogICAgICAgICAgICBvcHRpb25Hcm91cCA9IG9wdGlvbkdyb3Vwc1tvcHRpb25Hcm91cE5hbWVdOwoKICAgICAgICAgICAgaWYgKG9wdGlvbkdyb3Vwc0NhY2hlLmxlbmd0aCA8PSBncm91cEluZGV4KSB7CiAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBncm93IHRoZSBvcHRpb25Hcm91cHMKICAgICAgICAgICAgICBleGlzdGluZ1BhcmVudCA9IHsKICAgICAgICAgICAgICAgIGVsZW1lbnQ6IG9wdEdyb3VwVGVtcGxhdGUuY2xvbmUoKS5hdHRyKCdsYWJlbCcsIG9wdGlvbkdyb3VwTmFtZSksCiAgICAgICAgICAgICAgICBsYWJlbDogb3B0aW9uR3JvdXAubGFiZWwKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIGV4aXN0aW5nT3B0aW9ucyA9IFtleGlzdGluZ1BhcmVudF07CiAgICAgICAgICAgICAgb3B0aW9uR3JvdXBzQ2FjaGUucHVzaChleGlzdGluZ09wdGlvbnMpOwogICAgICAgICAgICAgIHNlbGVjdEVsZW1lbnQuYXBwZW5kKGV4aXN0aW5nUGFyZW50LmVsZW1lbnQpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGV4aXN0aW5nT3B0aW9ucyA9IG9wdGlvbkdyb3Vwc0NhY2hlW2dyb3VwSW5kZXhdOwogICAgICAgICAgICAgIGV4aXN0aW5nUGFyZW50ID0gZXhpc3RpbmdPcHRpb25zWzBdOyAgLy8gZWl0aGVyIFNFTEVDVCAobm8gZ3JvdXApIG9yIE9QVEdST1VQIGVsZW1lbnQKCiAgICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBPUFRHUk9VUCBsYWJlbCBpZiBub3QgdGhlIHNhbWUuCiAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nUGFyZW50LmxhYmVsICE9IG9wdGlvbkdyb3VwTmFtZSkgewogICAgICAgICAgICAgICAgZXhpc3RpbmdQYXJlbnQuZWxlbWVudC5hdHRyKCdsYWJlbCcsIGV4aXN0aW5nUGFyZW50LmxhYmVsID0gb3B0aW9uR3JvdXBOYW1lKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGxhc3RFbGVtZW50ID0gbnVsbDsgIC8vIHN0YXJ0IGF0IHRoZSBiZWdpbm5pbmcKICAgICAgICAgICAgZm9yKGluZGV4ID0gMCwgbGVuZ3RoID0gb3B0aW9uR3JvdXAubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgICAgIG9wdGlvbiA9IG9wdGlvbkdyb3VwW2luZGV4XTsKICAgICAgICAgICAgICBpZiAoKGV4aXN0aW5nT3B0aW9uID0gZXhpc3RpbmdPcHRpb25zW2luZGV4KzFdKSkgewogICAgICAgICAgICAgICAgLy8gcmV1c2UgZWxlbWVudHMKICAgICAgICAgICAgICAgIGxhc3RFbGVtZW50ID0gZXhpc3RpbmdPcHRpb24uZWxlbWVudDsKICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ09wdGlvbi5sYWJlbCAhPT0gb3B0aW9uLmxhYmVsKSB7CiAgICAgICAgICAgICAgICAgIGxhc3RFbGVtZW50LnRleHQoZXhpc3RpbmdPcHRpb24ubGFiZWwgPSBvcHRpb24ubGFiZWwpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nT3B0aW9uLmlkICE9PSBvcHRpb24uaWQpIHsKICAgICAgICAgICAgICAgICAgbGFzdEVsZW1lbnQudmFsKGV4aXN0aW5nT3B0aW9uLmlkID0gb3B0aW9uLmlkKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIGxhc3RFbGVtZW50LnByb3AoJ3NlbGVjdGVkJykgcHJvdmlkZWQgYnkgalF1ZXJ5IGhhcyBzaWRlLWVmZmVjdHMKICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ09wdGlvbi5zZWxlY3RlZCAhPT0gb3B0aW9uLnNlbGVjdGVkKSB7CiAgICAgICAgICAgICAgICAgIGxhc3RFbGVtZW50LnByb3AoJ3NlbGVjdGVkJywgKGV4aXN0aW5nT3B0aW9uLnNlbGVjdGVkID0gb3B0aW9uLnNlbGVjdGVkKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIGdyb3cgZWxlbWVudHMKCiAgICAgICAgICAgICAgICAvLyBpZiBpdCdzIGEgbnVsbCBvcHRpb24KICAgICAgICAgICAgICAgIGlmIChvcHRpb24uaWQgPT09ICcnICYmIG51bGxPcHRpb24pIHsKICAgICAgICAgICAgICAgICAgLy8gcHV0IGJhY2sgdGhlIHByZS1jb21waWxlZCBlbGVtZW50CiAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBudWxsT3B0aW9uOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgLy8galF1ZXJ5KHYxLjQuMikgQnVnOiBXZSBzaG91bGQgYmUgYWJsZSB0byBjaGFpbiB0aGUgbWV0aG9kIGNhbGxzLCBidXQKICAgICAgICAgICAgICAgICAgLy8gaW4gdGhpcyB2ZXJzaW9uIG9mIGpRdWVyeSBvbiBzb21lIGJyb3dzZXIgdGhlIC50ZXh0KCkgcmV0dXJucyBhIHN0cmluZwogICAgICAgICAgICAgICAgICAvLyByYXRoZXIgdGhlbiB0aGUgZWxlbWVudC4KICAgICAgICAgICAgICAgICAgKGVsZW1lbnQgPSBvcHRpb25UZW1wbGF0ZS5jbG9uZSgpKQogICAgICAgICAgICAgICAgICAgICAgLnZhbChvcHRpb24uaWQpCiAgICAgICAgICAgICAgICAgICAgICAucHJvcCgnc2VsZWN0ZWQnLCBvcHRpb24uc2VsZWN0ZWQpCiAgICAgICAgICAgICAgICAgICAgICAudGV4dChvcHRpb24ubGFiZWwpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGV4aXN0aW5nT3B0aW9ucy5wdXNoKGV4aXN0aW5nT3B0aW9uID0gewogICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IG9wdGlvbi5sYWJlbCwKICAgICAgICAgICAgICAgICAgICBpZDogb3B0aW9uLmlkLAogICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBvcHRpb24uc2VsZWN0ZWQKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKGxhc3RFbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgIGxhc3RFbGVtZW50LmFmdGVyKGVsZW1lbnQpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgZXhpc3RpbmdQYXJlbnQuZWxlbWVudC5hcHBlbmQoZWxlbWVudCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsYXN0RWxlbWVudCA9IGVsZW1lbnQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIHJlbW92ZSBhbnkgZXhjZXNzaXZlIE9QVElPTnMgaW4gYSBncm91cAogICAgICAgICAgICBpbmRleCsrOyAvLyBpbmNyZW1lbnQgc2luY2UgdGhlIGV4aXN0aW5nT3B0aW9uc1swXSBpcyBwYXJlbnQgZWxlbWVudCBub3QgT1BUSU9OCiAgICAgICAgICAgIHdoaWxlKGV4aXN0aW5nT3B0aW9ucy5sZW5ndGggPiBpbmRleCkgewogICAgICAgICAgICAgIGV4aXN0aW5nT3B0aW9ucy5wb3AoKS5lbGVtZW50LnJlbW92ZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICAvLyByZW1vdmUgYW55IGV4Y2Vzc2l2ZSBPUFRHUk9VUHMgZnJvbSBzZWxlY3QKICAgICAgICAgIHdoaWxlKG9wdGlvbkdyb3Vwc0NhY2hlLmxlbmd0aCA+IGdyb3VwSW5kZXgpIHsKICAgICAgICAgICAgb3B0aW9uR3JvdXBzQ2FjaGUucG9wKClbMF0uZWxlbWVudC5yZW1vdmUoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Owp9XTsKCnZhciBvcHRpb25EaXJlY3RpdmUgPSBbJyRpbnRlcnBvbGF0ZScsIGZ1bmN0aW9uKCRpbnRlcnBvbGF0ZSkgewogIHZhciBudWxsU2VsZWN0Q3RybCA9IHsKICAgIGFkZE9wdGlvbjogbm9vcCwKICAgIHJlbW92ZU9wdGlvbjogbm9vcAogIH07CgogIHJldHVybiB7CiAgICByZXN0cmljdDogJ0UnLAogICAgcHJpb3JpdHk6IDEwMCwKICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHsKICAgICAgaWYgKGlzVW5kZWZpbmVkKGF0dHIudmFsdWUpKSB7CiAgICAgICAgdmFyIGludGVycG9sYXRlRm4gPSAkaW50ZXJwb2xhdGUoZWxlbWVudC50ZXh0KCksIHRydWUpOwogICAgICAgIGlmICghaW50ZXJwb2xhdGVGbikgewogICAgICAgICAgYXR0ci4kc2V0KCd2YWx1ZScsIGVsZW1lbnQudGV4dCgpKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHsKICAgICAgICB2YXIgc2VsZWN0Q3RybE5hbWUgPSAnJHNlbGVjdENvbnRyb2xsZXInLAogICAgICAgICAgICBwYXJlbnQgPSBlbGVtZW50LnBhcmVudCgpLAogICAgICAgICAgICBzZWxlY3RDdHJsID0gcGFyZW50LmRhdGEoc2VsZWN0Q3RybE5hbWUpIHx8CiAgICAgICAgICAgICAgcGFyZW50LnBhcmVudCgpLmRhdGEoc2VsZWN0Q3RybE5hbWUpOyAvLyBpbiBjYXNlIHdlIGFyZSBpbiBvcHRncm91cAoKICAgICAgICBpZiAoc2VsZWN0Q3RybCAmJiBzZWxlY3RDdHJsLmRhdGFib3VuZCkgewogICAgICAgICAgLy8gRm9yIHNvbWUgcmVhc29uIE9wZXJhIGRlZmF1bHRzIHRvIHRydWUgYW5kIGlmIG5vdCBvdmVycmlkZGVuIHRoaXMgbWVzc2VzIHVwIHRoZSByZXBlYXRlci4KICAgICAgICAgIC8vIFdlIGRvbid0IHdhbnQgdGhlIHZpZXcgdG8gZHJpdmUgdGhlIGluaXRpYWxpemF0aW9uIG9mIHRoZSBtb2RlbCBhbnl3YXkuCiAgICAgICAgICBlbGVtZW50LnByb3AoJ3NlbGVjdGVkJywgZmFsc2UpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZWxlY3RDdHJsID0gbnVsbFNlbGVjdEN0cmw7CiAgICAgICAgfQoKICAgICAgICBpZiAoaW50ZXJwb2xhdGVGbikgewogICAgICAgICAgc2NvcGUuJHdhdGNoKGludGVycG9sYXRlRm4sIGZ1bmN0aW9uIGludGVycG9sYXRlV2F0Y2hBY3Rpb24obmV3VmFsLCBvbGRWYWwpIHsKICAgICAgICAgICAgYXR0ci4kc2V0KCd2YWx1ZScsIG5ld1ZhbCk7CiAgICAgICAgICAgIGlmIChuZXdWYWwgIT09IG9sZFZhbCkgc2VsZWN0Q3RybC5yZW1vdmVPcHRpb24ob2xkVmFsKTsKICAgICAgICAgICAgc2VsZWN0Q3RybC5hZGRPcHRpb24obmV3VmFsKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZWxlY3RDdHJsLmFkZE9wdGlvbihhdHRyLnZhbHVlKTsKICAgICAgICB9CgogICAgICAgIGVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7CiAgICAgICAgICBzZWxlY3RDdHJsLnJlbW92ZU9wdGlvbihhdHRyLnZhbHVlKTsKICAgICAgICB9KTsKICAgICAgfTsKICAgIH0KICB9Owp9XTsKCnZhciBzdHlsZURpcmVjdGl2ZSA9IHZhbHVlRm4oewogIHJlc3RyaWN0OiAnRScsCiAgdGVybWluYWw6IHRydWUKfSk7CgogIGlmICh3aW5kb3cuYW5ndWxhci5ib290c3RyYXApIHsKICAgIC8vQW5ndWxhckpTIGlzIGFscmVhZHkgbG9hZGVkLCBzbyB3ZSBjYW4gcmV0dXJuIGhlcmUuLi4KICAgIGNvbnNvbGUubG9nKCdXQVJOSU5HOiBUcmllZCB0byBsb2FkIGFuZ3VsYXIgbW9yZSB0aGFuIG9uY2UuJyk7CiAgICByZXR1cm47CiAgfQoKICAvL3RyeSB0byBiaW5kIHRvIGpxdWVyeSBub3cgc28gdGhhdCBvbmUgY2FuIHdyaXRlIGFuZ3VsYXIuZWxlbWVudCgpLnJlYWQoKQogIC8vYnV0IHdlIHdpbGwgcmViaW5kIG9uIGJvb3RzdHJhcCBhZ2Fpbi4KICBiaW5kSlF1ZXJ5KCk7CgogIHB1Ymxpc2hFeHRlcm5hbEFQSShhbmd1bGFyKTsKCiAganFMaXRlKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHsKICAgIGFuZ3VsYXJJbml0KGRvY3VtZW50LCBib290c3RyYXApOwogIH0pOwoKfSkod2luZG93LCBkb2N1bWVudCk7Cgohd2luZG93LmFuZ3VsYXIuJCRjc3AoKSAmJiB3aW5kb3cuYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5maW5kKCdoZWFkJykucHJlcGVuZCgnPHN0eWxlIHR5cGU9InRleHQvY3NzIj5AY2hhcnNldCAiVVRGLTgiO1tuZ1xcOmNsb2FrXSxbbmctY2xvYWtdLFtkYXRhLW5nLWNsb2FrXSxbeC1uZy1jbG9ha10sLm5nLWNsb2FrLC54LW5nLWNsb2FrLC5uZy1oaWRle2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50O31uZ1xcOmZvcm17ZGlzcGxheTpibG9jazt9Lm5nLWFuaW1hdGUtYmxvY2stdHJhbnNpdGlvbnN7dHJhbnNpdGlvbjowcyBhbGwhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNpdGlvbjowcyBhbGwhaW1wb3J0YW50O30ubmctaGlkZS1hZGQtYWN0aXZlLC5uZy1oaWRlLXJlbW92ZXtkaXNwbGF5OmJsb2NrIWltcG9ydGFudDt9PC9zdHlsZT4nKTs=')
},
{
'name': '/app/bower_components/angular/angular-csp.css', 'data': base64.b64decode('LyogSW5jbHVkZSB0aGlzIGZpbGUgaW4geW91ciBodG1sIGlmIHlvdSBhcmUgdXNpbmcgdGhlIENTUCBtb2RlLiAqLwoKQGNoYXJzZXQgIlVURi04IjsKCltuZ1w6Y2xvYWtdLCBbbmctY2xvYWtdLCBbZGF0YS1uZy1jbG9ha10sIFt4LW5nLWNsb2FrXSwKLm5nLWNsb2FrLCAueC1uZy1jbG9haywKLm5nLWhpZGUgewogIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsKfQoKbmdcOmZvcm0gewogIGRpc3BsYXk6IGJsb2NrOwp9CgoubmctYW5pbWF0ZS1ibG9jay10cmFuc2l0aW9ucyB7CiAgdHJhbnNpdGlvbjowcyBhbGwhaW1wb3J0YW50OwogIC13ZWJraXQtdHJhbnNpdGlvbjowcyBhbGwhaW1wb3J0YW50Owp9CgovKiBzaG93IHRoZSBlbGVtZW50IGR1cmluZyBhIHNob3cvaGlkZSBhbmltYXRpb24gd2hlbiB0aGUKICogYW5pbWF0aW9uIGlzIG9uZ29pbmcsIGJ1dCB0aGUgLm5nLWhpZGUgY2xhc3MgaXMgYWN0aXZlICovCi5uZy1oaWRlLWFkZC1hY3RpdmUsIC5uZy1oaWRlLXJlbW92ZSB7CiAgZGlzcGxheTogYmxvY2shaW1wb3J0YW50Owp9Cg==')
},
{
'name': '/app/bower_components/angular/README.md', 'data': base64.b64decode('IyBib3dlci1hbmd1bGFyCgpUaGlzIHJlcG8gaXMgZm9yIGRpc3RyaWJ1dGlvbiBvbiBgYm93ZXJgLiBUaGUgc291cmNlIGZvciB0aGlzIG1vZHVsZSBpcyBpbiB0aGUKW21haW4gQW5ndWxhckpTIHJlcG9dKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMpLgpQbGVhc2UgZmlsZSBpc3N1ZXMgYW5kIHB1bGwgcmVxdWVzdHMgYWdhaW5zdCB0aGF0IHJlcG8uCgojIyBJbnN0YWxsCgpJbnN0YWxsIHdpdGggYGJvd2VyYDoKCmBgYHNoZWxsCmJvd2VyIGluc3RhbGwgYW5ndWxhcgpgYGAKCkFkZCBhIGA8c2NyaXB0PmAgdG8geW91ciBgaW5kZXguaHRtbGA6CgpgYGBodG1sCjxzY3JpcHQgc3JjPSIvYm93ZXJfY29tcG9uZW50cy9hbmd1bGFyL2FuZ3VsYXIuanMiPjwvc2NyaXB0PgpgYGAKCiMjIERvY3VtZW50YXRpb24KCkRvY3VtZW50YXRpb24gaXMgYXZhaWxhYmxlIG9uIHRoZQpbQW5ndWxhckpTIGRvY3Mgc2l0ZV0oaHR0cDovL2RvY3MuYW5ndWxhcmpzLm9yZy8pLgoKIyMgTGljZW5zZQoKVGhlIE1JVCBMaWNlbnNlCgpDb3B5cmlnaHQgKGMpIDIwMTAtMjAxMiBHb29nbGUsIEluYy4gaHR0cDovL2FuZ3VsYXJqcy5vcmcKClBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkKb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksIHRvIGRlYWwKaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cwp0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsCmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcwpmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgoKVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4KYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCgpUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgpJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFCkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIKTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwKT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTgpUSEUgU09GVFdBUkUuCg==')
},
{
'name': '/app/bower_components/angular/angular.min.js', 'data': base64.b64decode('LyoKIEFuZ3VsYXJKUyB2MS4yLjE5CiAoYykgMjAxMC0yMDE0IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZwogTGljZW5zZTogTUlUCiovCihmdW5jdGlvbihULFYscyl7J3VzZSBzdHJpY3QnO2Z1bmN0aW9uIHYoYil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzWzBdLGMsYT0iWyIrKGI/YisiOiI6IiIpK2ErIl0gaHR0cDovL2Vycm9ycy5hbmd1bGFyanMub3JnLzEuMi4xOS8iKyhiP2IrIi8iOiIiKSthO2ZvcihjPTE7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKylhPWErKDE9PWM/Ij8iOiImIikrInAiKyhjLTEpKyI9IitlbmNvZGVVUklDb21wb25lbnQoImZ1bmN0aW9uIj09dHlwZW9mIGFyZ3VtZW50c1tjXT9hcmd1bWVudHNbY10udG9TdHJpbmcoKS5yZXBsYWNlKC8gXHtbXHNcU10qJC8sIiIpOiJ1bmRlZmluZWQiPT10eXBlb2YgYXJndW1lbnRzW2NdPyJ1bmRlZmluZWQiOiJzdHJpbmciIT10eXBlb2YgYXJndW1lbnRzW2NdP0pTT04uc3RyaW5naWZ5KGFyZ3VtZW50c1tjXSk6YXJndW1lbnRzW2NdKTtyZXR1cm4gRXJyb3IoYSl9fWZ1bmN0aW9uIGRiKGIpe2lmKG51bGw9PWJ8fEVhKGIpKXJldHVybiExOwp2YXIgYT1iLmxlbmd0aDtyZXR1cm4gMT09PWIubm9kZVR5cGUmJmE/ITA6eShiKXx8TChiKXx8MD09PWF8fCJudW1iZXIiPT09dHlwZW9mIGEmJjA8YSYmYS0xIGluIGJ9ZnVuY3Rpb24gcShiLGEsYyl7dmFyIGQ7aWYoYilpZihPKGIpKWZvcihkIGluIGIpInByb3RvdHlwZSI9PWR8fCgibGVuZ3RoIj09ZHx8Im5hbWUiPT1kfHxiLmhhc093blByb3BlcnR5JiYhYi5oYXNPd25Qcm9wZXJ0eShkKSl8fGEuY2FsbChjLGJbZF0sZCk7ZWxzZSBpZihiLmZvckVhY2gmJmIuZm9yRWFjaCE9PXEpYi5mb3JFYWNoKGEsYyk7ZWxzZSBpZihkYihiKSlmb3IoZD0wO2Q8Yi5sZW5ndGg7ZCsrKWEuY2FsbChjLGJbZF0sZCk7ZWxzZSBmb3IoZCBpbiBiKWIuaGFzT3duUHJvcGVydHkoZCkmJmEuY2FsbChjLGJbZF0sZCk7cmV0dXJuIGJ9ZnVuY3Rpb24gVmIoYil7dmFyIGE9W10sYztmb3IoYyBpbiBiKWIuaGFzT3duUHJvcGVydHkoYykmJmEucHVzaChjKTtyZXR1cm4gYS5zb3J0KCl9ZnVuY3Rpb24gVGMoYiwKYSxjKXtmb3IodmFyIGQ9VmIoYiksZT0wO2U8ZC5sZW5ndGg7ZSsrKWEuY2FsbChjLGJbZFtlXV0sZFtlXSk7cmV0dXJuIGR9ZnVuY3Rpb24gV2IoYil7cmV0dXJuIGZ1bmN0aW9uKGEsYyl7YihjLGEpfX1mdW5jdGlvbiBlYigpe2Zvcih2YXIgYj1rYS5sZW5ndGgsYTtiOyl7Yi0tO2E9a2FbYl0uY2hhckNvZGVBdCgwKTtpZig1Nz09YSlyZXR1cm4ga2FbYl09IkEiLGthLmpvaW4oIiIpO2lmKDkwPT1hKWthW2JdPSIwIjtlbHNlIHJldHVybiBrYVtiXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGErMSksa2Euam9pbigiIil9a2EudW5zaGlmdCgiMCIpO3JldHVybiBrYS5qb2luKCIiKX1mdW5jdGlvbiBYYihiLGEpe2E/Yi4kJGhhc2hLZXk9YTpkZWxldGUgYi4kJGhhc2hLZXl9ZnVuY3Rpb24gRShiKXt2YXIgYT1iLiQkaGFzaEtleTtxKGFyZ3VtZW50cyxmdW5jdGlvbihhKXthIT09YiYmcShhLGZ1bmN0aW9uKGEsYyl7YltjXT1hfSl9KTtYYihiLGEpO3JldHVybiBifWZ1bmN0aW9uIFooYil7cmV0dXJuIHBhcnNlSW50KGIsCjEwKX1mdW5jdGlvbiBZYihiLGEpe3JldHVybiBFKG5ldyAoRShmdW5jdGlvbigpe30se3Byb3RvdHlwZTpifSkpLGEpfWZ1bmN0aW9uIEEoKXt9ZnVuY3Rpb24gRmEoYil7cmV0dXJuIGJ9ZnVuY3Rpb24gJChiKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYn19ZnVuY3Rpb24gRChiKXtyZXR1cm4idW5kZWZpbmVkIj09PXR5cGVvZiBifWZ1bmN0aW9uIEIoYil7cmV0dXJuInVuZGVmaW5lZCIhPT10eXBlb2YgYn1mdW5jdGlvbiBVKGIpe3JldHVybiBudWxsIT1iJiYib2JqZWN0Ij09PXR5cGVvZiBifWZ1bmN0aW9uIHkoYil7cmV0dXJuInN0cmluZyI9PT10eXBlb2YgYn1mdW5jdGlvbiB4YihiKXtyZXR1cm4ibnVtYmVyIj09PXR5cGVvZiBifWZ1bmN0aW9uIE9hKGIpe3JldHVybiJbb2JqZWN0IERhdGVdIj09PXhhLmNhbGwoYil9ZnVuY3Rpb24gTyhiKXtyZXR1cm4iZnVuY3Rpb24iPT09dHlwZW9mIGJ9ZnVuY3Rpb24gZmIoYil7cmV0dXJuIltvYmplY3QgUmVnRXhwXSI9PT14YS5jYWxsKGIpfQpmdW5jdGlvbiBFYShiKXtyZXR1cm4gYiYmYi5kb2N1bWVudCYmYi5sb2NhdGlvbiYmYi5hbGVydCYmYi5zZXRJbnRlcnZhbH1mdW5jdGlvbiBVYyhiKXtyZXR1cm4hKCFifHwhKGIubm9kZU5hbWV8fGIucHJvcCYmYi5hdHRyJiZiLmZpbmQpKX1mdW5jdGlvbiBWYyhiLGEsYyl7dmFyIGQ9W107cShiLGZ1bmN0aW9uKGIsZyxmKXtkLnB1c2goYS5jYWxsKGMsYixnLGYpKX0pO3JldHVybiBkfWZ1bmN0aW9uIFBhKGIsYSl7aWYoYi5pbmRleE9mKXJldHVybiBiLmluZGV4T2YoYSk7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspaWYoYT09PWJbY10pcmV0dXJuIGM7cmV0dXJuLTF9ZnVuY3Rpb24gUWEoYixhKXt2YXIgYz1QYShiLGEpOzA8PWMmJmIuc3BsaWNlKGMsMSk7cmV0dXJuIGF9ZnVuY3Rpb24gR2EoYixhLGMsZCl7aWYoRWEoYil8fGImJmIuJGV2YWxBc3luYyYmYi4kd2F0Y2gpdGhyb3cgUmEoImNwd3MiKTtpZihhKXtpZihiPT09YSl0aHJvdyBSYSgiY3BpIik7Yz1jfHxbXTsKZD1kfHxbXTtpZihVKGIpKXt2YXIgZT1QYShjLGIpO2lmKC0xIT09ZSlyZXR1cm4gZFtlXTtjLnB1c2goYik7ZC5wdXNoKGEpfWlmKEwoYikpZm9yKHZhciBnPWEubGVuZ3RoPTA7ZzxiLmxlbmd0aDtnKyspZT1HYShiW2ddLG51bGwsYyxkKSxVKGJbZ10pJiYoYy5wdXNoKGJbZ10pLGQucHVzaChlKSksYS5wdXNoKGUpO2Vsc2V7dmFyIGY9YS4kJGhhc2hLZXk7cShhLGZ1bmN0aW9uKGIsYyl7ZGVsZXRlIGFbY119KTtmb3IoZyBpbiBiKWU9R2EoYltnXSxudWxsLGMsZCksVShiW2ddKSYmKGMucHVzaChiW2ddKSxkLnB1c2goZSkpLGFbZ109ZTtYYihhLGYpfX1lbHNlKGE9YikmJihMKGIpP2E9R2EoYixbXSxjLGQpOk9hKGIpP2E9bmV3IERhdGUoYi5nZXRUaW1lKCkpOmZiKGIpP2E9UmVnRXhwKGIuc291cmNlKTpVKGIpJiYoYT1HYShiLHt9LGMsZCkpKTtyZXR1cm4gYX1mdW5jdGlvbiBsYShiLGEpe2lmKEwoYikpe2E9YXx8W107Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspYVtjXT0KYltjXX1lbHNlIGlmKFUoYikpZm9yKGMgaW4gYT1hfHx7fSxiKSF5Yi5jYWxsKGIsYyl8fCIkIj09PWMuY2hhckF0KDApJiYiJCI9PT1jLmNoYXJBdCgxKXx8KGFbY109YltjXSk7cmV0dXJuIGF8fGJ9ZnVuY3Rpb24geWEoYixhKXtpZihiPT09YSlyZXR1cm4hMDtpZihudWxsPT09Ynx8bnVsbD09PWEpcmV0dXJuITE7aWYoYiE9PWImJmEhPT1hKXJldHVybiEwO3ZhciBjPXR5cGVvZiBiLGQ7aWYoYz09dHlwZW9mIGEmJiJvYmplY3QiPT1jKWlmKEwoYikpe2lmKCFMKGEpKXJldHVybiExO2lmKChjPWIubGVuZ3RoKT09YS5sZW5ndGgpe2ZvcihkPTA7ZDxjO2QrKylpZigheWEoYltkXSxhW2RdKSlyZXR1cm4hMTtyZXR1cm4hMH19ZWxzZXtpZihPYShiKSlyZXR1cm4gT2EoYSkmJmIuZ2V0VGltZSgpPT1hLmdldFRpbWUoKTtpZihmYihiKSYmZmIoYSkpcmV0dXJuIGIudG9TdHJpbmcoKT09YS50b1N0cmluZygpO2lmKGImJmIuJGV2YWxBc3luYyYmYi4kd2F0Y2h8fGEmJmEuJGV2YWxBc3luYyYmCmEuJHdhdGNofHxFYShiKXx8RWEoYSl8fEwoYSkpcmV0dXJuITE7Yz17fTtmb3IoZCBpbiBiKWlmKCIkIiE9PWQuY2hhckF0KDApJiYhTyhiW2RdKSl7aWYoIXlhKGJbZF0sYVtkXSkpcmV0dXJuITE7Y1tkXT0hMH1mb3IoZCBpbiBhKWlmKCFjLmhhc093blByb3BlcnR5KGQpJiYiJCIhPT1kLmNoYXJBdCgwKSYmYVtkXSE9PXMmJiFPKGFbZF0pKXJldHVybiExO3JldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIFpiKCl7cmV0dXJuIFYuc2VjdXJpdHlQb2xpY3kmJlYuc2VjdXJpdHlQb2xpY3kuaXNBY3RpdmV8fFYucXVlcnlTZWxlY3RvciYmISghVi5xdWVyeVNlbGVjdG9yKCJbbmctY3NwXSIpJiYhVi5xdWVyeVNlbGVjdG9yKCJbZGF0YS1uZy1jc3BdIikpfWZ1bmN0aW9uIHpiKGIsYSl7dmFyIGM9Mjxhcmd1bWVudHMubGVuZ3RoP3phLmNhbGwoYXJndW1lbnRzLDIpOltdO3JldHVybiFPKGEpfHxhIGluc3RhbmNlb2YgUmVnRXhwP2E6Yy5sZW5ndGg/ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8KYS5hcHBseShiLGMuY29uY2F0KHphLmNhbGwoYXJndW1lbnRzLDApKSk6YS5hcHBseShiLGMpfTpmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2EuYXBwbHkoYixhcmd1bWVudHMpOmEuY2FsbChiKX19ZnVuY3Rpb24gV2MoYixhKXt2YXIgYz1hOyJzdHJpbmciPT09dHlwZW9mIGImJiIkIj09PWIuY2hhckF0KDApP2M9czpFYShhKT9jPSIkV0lORE9XIjphJiZWPT09YT9jPSIkRE9DVU1FTlQiOmEmJihhLiRldmFsQXN5bmMmJmEuJHdhdGNoKSYmKGM9IiRTQ09QRSIpO3JldHVybiBjfWZ1bmN0aW9uIHNhKGIsYSl7cmV0dXJuInVuZGVmaW5lZCI9PT10eXBlb2YgYj9zOkpTT04uc3RyaW5naWZ5KGIsV2MsYT8iICAiOm51bGwpfWZ1bmN0aW9uICRiKGIpe3JldHVybiB5KGIpP0pTT04ucGFyc2UoYik6Yn1mdW5jdGlvbiBTYShiKXsiZnVuY3Rpb24iPT09dHlwZW9mIGI/Yj0hMDpiJiYwIT09Yi5sZW5ndGg/KGI9SSgiIitiKSxiPSEoImYiPT1ifHwiMCI9PWJ8fCJmYWxzZSI9PQpifHwibm8iPT1ifHwibiI9PWJ8fCJbXSI9PWIpKTpiPSExO3JldHVybiBifWZ1bmN0aW9uIGdhKGIpe2I9eChiKS5jbG9uZSgpO3RyeXtiLmVtcHR5KCl9Y2F0Y2goYSl7fXZhciBjPXgoIjxkaXY+IikuYXBwZW5kKGIpLmh0bWwoKTt0cnl7cmV0dXJuIDM9PT1iWzBdLm5vZGVUeXBlP0koYyk6Yy5tYXRjaCgvXig8W14+XSs+KS8pWzFdLnJlcGxhY2UoL148KFtcd1wtXSspLyxmdW5jdGlvbihhLGIpe3JldHVybiI8IitJKGIpfSl9Y2F0Y2goZCl7cmV0dXJuIEkoYyl9fWZ1bmN0aW9uIGFjKGIpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGIpfWNhdGNoKGEpe319ZnVuY3Rpb24gYmMoYil7dmFyIGE9e30sYyxkO3EoKGJ8fCIiKS5zcGxpdCgiJiIpLGZ1bmN0aW9uKGIpe2ImJihjPWIuc3BsaXQoIj0iKSxkPWFjKGNbMF0pLEIoZCkmJihiPUIoY1sxXSk/YWMoY1sxXSk6ITAsYVtkXT9MKGFbZF0pP2FbZF0ucHVzaChiKTphW2RdPVthW2RdLGJdOmFbZF09YikpfSk7cmV0dXJuIGF9CmZ1bmN0aW9uIEFiKGIpe3ZhciBhPVtdO3EoYixmdW5jdGlvbihiLGQpe0woYik/cShiLGZ1bmN0aW9uKGIpe2EucHVzaChBYShkLCEwKSsoITA9PT1iPyIiOiI9IitBYShiLCEwKSkpfSk6YS5wdXNoKEFhKGQsITApKyghMD09PWI/IiI6Ij0iK0FhKGIsITApKSl9KTtyZXR1cm4gYS5sZW5ndGg/YS5qb2luKCImIik6IiJ9ZnVuY3Rpb24gZ2IoYil7cmV0dXJuIEFhKGIsITApLnJlcGxhY2UoLyUyNi9naSwiJiIpLnJlcGxhY2UoLyUzRC9naSwiPSIpLnJlcGxhY2UoLyUyQi9naSwiKyIpfWZ1bmN0aW9uIEFhKGIsYSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChiKS5yZXBsYWNlKC8lNDAvZ2ksIkAiKS5yZXBsYWNlKC8lM0EvZ2ksIjoiKS5yZXBsYWNlKC8lMjQvZywiJCIpLnJlcGxhY2UoLyUyQy9naSwiLCIpLnJlcGxhY2UoLyUyMC9nLGE/IiUyMCI6IisiKX1mdW5jdGlvbiBYYyhiLGEpe2Z1bmN0aW9uIGMoYSl7YSYmZC5wdXNoKGEpfXZhciBkPVtiXSxlLGcsZj1bIm5nOmFwcCIsCiJuZy1hcHAiLCJ4LW5nLWFwcCIsImRhdGEtbmctYXBwIl0saz0vXHNuZ1s6XC1dYXBwKDpccyooW1x3XGRfXSspOz8pP1xzLztxKGYsZnVuY3Rpb24oYSl7ZlthXT0hMDtjKFYuZ2V0RWxlbWVudEJ5SWQoYSkpO2E9YS5yZXBsYWNlKCI6IiwiXFw6Iik7Yi5xdWVyeVNlbGVjdG9yQWxsJiYocShiLnF1ZXJ5U2VsZWN0b3JBbGwoIi4iK2EpLGMpLHEoYi5xdWVyeVNlbGVjdG9yQWxsKCIuIithKyJcXDoiKSxjKSxxKGIucXVlcnlTZWxlY3RvckFsbCgiWyIrYSsiXSIpLGMpKX0pO3EoZCxmdW5jdGlvbihhKXtpZighZSl7dmFyIGI9ay5leGVjKCIgIithLmNsYXNzTmFtZSsiICIpO2I/KGU9YSxnPShiWzJdfHwiIikucmVwbGFjZSgvXHMrL2csIiwiKSk6cShhLmF0dHJpYnV0ZXMsZnVuY3Rpb24oYil7IWUmJmZbYi5uYW1lXSYmKGU9YSxnPWIudmFsdWUpfSl9fSk7ZSYmYShlLGc/W2ddOltdKX1mdW5jdGlvbiBjYyhiLGEpe3ZhciBjPWZ1bmN0aW9uKCl7Yj14KGIpO2lmKGIuaW5qZWN0b3IoKSl7dmFyIGM9CmJbMF09PT1WPyJkb2N1bWVudCI6Z2EoYik7dGhyb3cgUmEoImJ0c3RycGQiLGMpO31hPWF8fFtdO2EudW5zaGlmdChbIiRwcm92aWRlIixmdW5jdGlvbihhKXthLnZhbHVlKCIkcm9vdEVsZW1lbnQiLGIpfV0pO2EudW5zaGlmdCgibmciKTtjPWRjKGEpO2MuaW52b2tlKFsiJHJvb3RTY29wZSIsIiRyb290RWxlbWVudCIsIiRjb21waWxlIiwiJGluamVjdG9yIiwiJGFuaW1hdGUiLGZ1bmN0aW9uKGEsYixjLGQsZSl7YS4kYXBwbHkoZnVuY3Rpb24oKXtiLmRhdGEoIiRpbmplY3RvciIsZCk7YyhiKShhKX0pfV0pO3JldHVybiBjfSxkPS9eTkdfREVGRVJfQk9PVFNUUkFQIS87aWYoVCYmIWQudGVzdChULm5hbWUpKXJldHVybiBjKCk7VC5uYW1lPVQubmFtZS5yZXBsYWNlKGQsIiIpO1RhLnJlc3VtZUJvb3RzdHJhcD1mdW5jdGlvbihiKXtxKGIsZnVuY3Rpb24oYil7YS5wdXNoKGIpfSk7YygpfX1mdW5jdGlvbiBoYihiLGEpe2E9YXx8Il8iO3JldHVybiBiLnJlcGxhY2UoWWMsZnVuY3Rpb24oYiwKZCl7cmV0dXJuKGQ/YToiIikrYi50b0xvd2VyQ2FzZSgpfSl9ZnVuY3Rpb24gQmIoYixhLGMpe2lmKCFiKXRocm93IFJhKCJhcmVxIixhfHwiPyIsY3x8InJlcXVpcmVkIik7cmV0dXJuIGJ9ZnVuY3Rpb24gVWEoYixhLGMpe2MmJkwoYikmJihiPWJbYi5sZW5ndGgtMV0pO0JiKE8oYiksYSwibm90IGEgZnVuY3Rpb24sIGdvdCAiKyhiJiYib2JqZWN0Ij09PXR5cGVvZiBiP2IuY29uc3RydWN0b3IubmFtZXx8Ik9iamVjdCI6dHlwZW9mIGIpKTtyZXR1cm4gYn1mdW5jdGlvbiBCYShiLGEpe2lmKCJoYXNPd25Qcm9wZXJ0eSI9PT1iKXRocm93IFJhKCJiYWRuYW1lIixhKTt9ZnVuY3Rpb24gZWMoYixhLGMpe2lmKCFhKXJldHVybiBiO2E9YS5zcGxpdCgiLiIpO2Zvcih2YXIgZCxlPWIsZz1hLmxlbmd0aCxmPTA7ZjxnO2YrKylkPWFbZl0sYiYmKGI9KGU9YilbZF0pO3JldHVybiFjJiZPKGIpP3piKGUsYik6Yn1mdW5jdGlvbiBDYihiKXt2YXIgYT1iWzBdO2I9YltiLmxlbmd0aC0xXTtpZihhPT09CmIpcmV0dXJuIHgoYSk7dmFyIGM9W2FdO2Rve2E9YS5uZXh0U2libGluZztpZighYSlicmVhaztjLnB1c2goYSl9d2hpbGUoYSE9PWIpO3JldHVybiB4KGMpfWZ1bmN0aW9uIFpjKGIpe3ZhciBhPXYoIiRpbmplY3RvciIpLGM9digibmciKTtiPWIuYW5ndWxhcnx8KGIuYW5ndWxhcj17fSk7Yi4kJG1pbkVycj1iLiQkbWluRXJyfHx2O3JldHVybiBiLm1vZHVsZXx8KGIubW9kdWxlPWZ1bmN0aW9uKCl7dmFyIGI9e307cmV0dXJuIGZ1bmN0aW9uKGUsZyxmKXtpZigiaGFzT3duUHJvcGVydHkiPT09ZSl0aHJvdyBjKCJiYWRuYW1lIiwibW9kdWxlIik7ZyYmYi5oYXNPd25Qcm9wZXJ0eShlKSYmKGJbZV09bnVsbCk7cmV0dXJuIGJbZV18fChiW2VdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhLGQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7Y1tlfHwicHVzaCJdKFthLGQsYXJndW1lbnRzXSk7cmV0dXJuIHB9fWlmKCFnKXRocm93IGEoIm5vbW9kIixlKTt2YXIgYz1bXSxkPVtdLGw9YigiJGluamVjdG9yIiwKImludm9rZSIpLHA9e19pbnZva2VRdWV1ZTpjLF9ydW5CbG9ja3M6ZCxyZXF1aXJlczpnLG5hbWU6ZSxwcm92aWRlcjpiKCIkcHJvdmlkZSIsInByb3ZpZGVyIiksZmFjdG9yeTpiKCIkcHJvdmlkZSIsImZhY3RvcnkiKSxzZXJ2aWNlOmIoIiRwcm92aWRlIiwic2VydmljZSIpLHZhbHVlOmIoIiRwcm92aWRlIiwidmFsdWUiKSxjb25zdGFudDpiKCIkcHJvdmlkZSIsImNvbnN0YW50IiwidW5zaGlmdCIpLGFuaW1hdGlvbjpiKCIkYW5pbWF0ZVByb3ZpZGVyIiwicmVnaXN0ZXIiKSxmaWx0ZXI6YigiJGZpbHRlclByb3ZpZGVyIiwicmVnaXN0ZXIiKSxjb250cm9sbGVyOmIoIiRjb250cm9sbGVyUHJvdmlkZXIiLCJyZWdpc3RlciIpLGRpcmVjdGl2ZTpiKCIkY29tcGlsZVByb3ZpZGVyIiwiZGlyZWN0aXZlIiksY29uZmlnOmwscnVuOmZ1bmN0aW9uKGEpe2QucHVzaChhKTtyZXR1cm4gdGhpc319O2YmJmwoZik7cmV0dXJuIHB9KCkpfX0oKSl9ZnVuY3Rpb24gJGMoYil7RShiLHtib290c3RyYXA6Y2MsCmNvcHk6R2EsZXh0ZW5kOkUsZXF1YWxzOnlhLGVsZW1lbnQ6eCxmb3JFYWNoOnEsaW5qZWN0b3I6ZGMsbm9vcDpBLGJpbmQ6emIsdG9Kc29uOnNhLGZyb21Kc29uOiRiLGlkZW50aXR5OkZhLGlzVW5kZWZpbmVkOkQsaXNEZWZpbmVkOkIsaXNTdHJpbmc6eSxpc0Z1bmN0aW9uOk8saXNPYmplY3Q6VSxpc051bWJlcjp4Yixpc0VsZW1lbnQ6VWMsaXNBcnJheTpMLHZlcnNpb246YWQsaXNEYXRlOk9hLGxvd2VyY2FzZTpJLHVwcGVyY2FzZTpIYSxjYWxsYmFja3M6e2NvdW50ZXI6MH0sJCRtaW5FcnI6diwkJGNzcDpaYn0pO1ZhPVpjKFQpO3RyeXtWYSgibmdMb2NhbGUiKX1jYXRjaChhKXtWYSgibmdMb2NhbGUiLFtdKS5wcm92aWRlcigiJGxvY2FsZSIsYmQpfVZhKCJuZyIsWyJuZ0xvY2FsZSJdLFsiJHByb3ZpZGUiLGZ1bmN0aW9uKGEpe2EucHJvdmlkZXIoeyQkc2FuaXRpemVVcmk6Y2R9KTthLnByb3ZpZGVyKCIkY29tcGlsZSIsZmMpLmRpcmVjdGl2ZSh7YTpkZCxpbnB1dDpnYyx0ZXh0YXJlYTpnYywKZm9ybTplZCxzY3JpcHQ6ZmQsc2VsZWN0OmdkLHN0eWxlOmhkLG9wdGlvbjppZCxuZ0JpbmQ6amQsbmdCaW5kSHRtbDprZCxuZ0JpbmRUZW1wbGF0ZTpsZCxuZ0NsYXNzOm1kLG5nQ2xhc3NFdmVuOm5kLG5nQ2xhc3NPZGQ6b2QsbmdDbG9hazpwZCxuZ0NvbnRyb2xsZXI6cWQsbmdGb3JtOnJkLG5nSGlkZTpzZCxuZ0lmOnRkLG5nSW5jbHVkZTp1ZCxuZ0luaXQ6dmQsbmdOb25CaW5kYWJsZTp3ZCxuZ1BsdXJhbGl6ZTp4ZCxuZ1JlcGVhdDp5ZCxuZ1Nob3c6emQsbmdTdHlsZTpBZCxuZ1N3aXRjaDpCZCxuZ1N3aXRjaFdoZW46Q2QsbmdTd2l0Y2hEZWZhdWx0OkRkLG5nT3B0aW9uczpFZCxuZ1RyYW5zY2x1ZGU6RmQsbmdNb2RlbDpHZCxuZ0xpc3Q6SGQsbmdDaGFuZ2U6SWQscmVxdWlyZWQ6aGMsbmdSZXF1aXJlZDpoYyxuZ1ZhbHVlOkpkfSkuZGlyZWN0aXZlKHtuZ0luY2x1ZGU6S2R9KS5kaXJlY3RpdmUoRGIpLmRpcmVjdGl2ZShpYyk7YS5wcm92aWRlcih7JGFuY2hvclNjcm9sbDpMZCwKJGFuaW1hdGU6TWQsJGJyb3dzZXI6TmQsJGNhY2hlRmFjdG9yeTpPZCwkY29udHJvbGxlcjpQZCwkZG9jdW1lbnQ6UWQsJGV4Y2VwdGlvbkhhbmRsZXI6UmQsJGZpbHRlcjpqYywkaW50ZXJwb2xhdGU6U2QsJGludGVydmFsOlRkLCRodHRwOlVkLCRodHRwQmFja2VuZDpWZCwkbG9jYXRpb246V2QsJGxvZzpYZCwkcGFyc2U6WWQsJHJvb3RTY29wZTpaZCwkcTokZCwkc2NlOmFlLCRzY2VEZWxlZ2F0ZTpiZSwkc25pZmZlcjpjZSwkdGVtcGxhdGVDYWNoZTpkZSwkdGltZW91dDplZSwkd2luZG93OmZlLCQkckFGOmdlLCQkYXN5bmNDYWxsYmFjazpoZX0pfV0pfWZ1bmN0aW9uIFdhKGIpe3JldHVybiBiLnJlcGxhY2UoaWUsZnVuY3Rpb24oYSxiLGQsZSl7cmV0dXJuIGU/ZC50b1VwcGVyQ2FzZSgpOmR9KS5yZXBsYWNlKGplLCJNb3okMSIpfWZ1bmN0aW9uIEViKGIsYSxjLGQpe2Z1bmN0aW9uIGUoYil7dmFyIGU9YyYmYj9bdGhpcy5maWx0ZXIoYildOlt0aGlzXSxtPWEsaCxsLHAsbixyLAp0O2lmKCFkfHxudWxsIT1iKWZvcig7ZS5sZW5ndGg7KWZvcihoPWUuc2hpZnQoKSxsPTAscD1oLmxlbmd0aDtsPHA7bCsrKWZvcihuPXgoaFtsXSksbT9uLnRyaWdnZXJIYW5kbGVyKCIkZGVzdHJveSIpOm09IW0scj0wLG49KHQ9bi5jaGlsZHJlbigpKS5sZW5ndGg7cjxuO3IrKyllLnB1c2goQ2EodFtyXSkpO3JldHVybiBnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgZz1DYS5mbltiXSxnPWcuJG9yaWdpbmFsfHxnO2UuJG9yaWdpbmFsPWc7Q2EuZm5bYl09ZX1mdW5jdGlvbiBTKGIpe2lmKGIgaW5zdGFuY2VvZiBTKXJldHVybiBiO3koYikmJihiPWFhKGIpKTtpZighKHRoaXMgaW5zdGFuY2VvZiBTKSl7aWYoeShiKSYmIjwiIT1iLmNoYXJBdCgwKSl0aHJvdyBGYigibm9zZWwiKTtyZXR1cm4gbmV3IFMoYil9aWYoeShiKSl7dmFyIGE9YjtiPVY7dmFyIGM7aWYoYz1rZS5leGVjKGEpKWI9W2IuY3JlYXRlRWxlbWVudChjWzFdKV07ZWxzZXt2YXIgZD1iLGU7Yj1kLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTsKYz1bXTtpZihHYi50ZXN0KGEpKXtkPWIuYXBwZW5kQ2hpbGQoZC5jcmVhdGVFbGVtZW50KCJkaXYiKSk7ZT0obGUuZXhlYyhhKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKTtlPWVhW2VdfHxlYS5fZGVmYXVsdDtkLmlubmVySFRNTD0iPGRpdj4mIzE2MDs8L2Rpdj4iK2VbMV0rYS5yZXBsYWNlKG1lLCI8JDE+PC8kMj4iKStlWzJdO2QucmVtb3ZlQ2hpbGQoZC5maXJzdENoaWxkKTtmb3IoYT1lWzBdO2EtLTspZD1kLmxhc3RDaGlsZDthPTA7Zm9yKGU9ZC5jaGlsZE5vZGVzLmxlbmd0aDthPGU7KythKWMucHVzaChkLmNoaWxkTm9kZXNbYV0pO2Q9Yi5maXJzdENoaWxkO2QudGV4dENvbnRlbnQ9IiJ9ZWxzZSBjLnB1c2goZC5jcmVhdGVUZXh0Tm9kZShhKSk7Yi50ZXh0Q29udGVudD0iIjtiLmlubmVySFRNTD0iIjtiPWN9SGIodGhpcyxiKTt4KFYuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKS5hcHBlbmQodGhpcyl9ZWxzZSBIYih0aGlzLGIpfWZ1bmN0aW9uIEliKGIpe3JldHVybiBiLmNsb25lTm9kZSghMCl9CmZ1bmN0aW9uIElhKGIpe2tjKGIpO3ZhciBhPTA7Zm9yKGI9Yi5jaGlsZE5vZGVzfHxbXTthPGIubGVuZ3RoO2ErKylJYShiW2FdKX1mdW5jdGlvbiBsYyhiLGEsYyxkKXtpZihCKGQpKXRocm93IEZiKCJvZmZhcmdzIik7dmFyIGU9bWEoYiwiZXZlbnRzIik7bWEoYiwiaGFuZGxlIikmJihEKGEpP3EoZSxmdW5jdGlvbihhLGMpe1hhKGIsYyxhKTtkZWxldGUgZVtjXX0pOnEoYS5zcGxpdCgiICIpLGZ1bmN0aW9uKGEpe0QoYyk/KFhhKGIsYSxlW2FdKSxkZWxldGUgZVthXSk6UWEoZVthXXx8W10sYyl9KSl9ZnVuY3Rpb24ga2MoYixhKXt2YXIgYz1iLm5nMzM5LGQ9WWFbY107ZCYmKGE/ZGVsZXRlIFlhW2NdLmRhdGFbYV06KGQuaGFuZGxlJiYoZC5ldmVudHMuJGRlc3Ryb3kmJmQuaGFuZGxlKHt9LCIkZGVzdHJveSIpLGxjKGIpKSxkZWxldGUgWWFbY10sYi5uZzMzOT1zKSl9ZnVuY3Rpb24gbWEoYixhLGMpe3ZhciBkPWIubmczMzksZD1ZYVtkfHwtMV07aWYoQihjKSlkfHwoYi5uZzMzOT0KZD0rK25lLGQ9WWFbZF09e30pLGRbYV09YztlbHNlIHJldHVybiBkJiZkW2FdfWZ1bmN0aW9uIG1jKGIsYSxjKXt2YXIgZD1tYShiLCJkYXRhIiksZT1CKGMpLGc9IWUmJkIoYSksZj1nJiYhVShhKTtkfHxmfHxtYShiLCJkYXRhIixkPXt9KTtpZihlKWRbYV09YztlbHNlIGlmKGcpe2lmKGYpcmV0dXJuIGQmJmRbYV07RShkLGEpfWVsc2UgcmV0dXJuIGR9ZnVuY3Rpb24gSmIoYixhKXtyZXR1cm4gYi5nZXRBdHRyaWJ1dGU/LTE8KCIgIisoYi5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKSsiICIpLnJlcGxhY2UoL1tcblx0XS9nLCIgIikuaW5kZXhPZigiICIrYSsiICIpOiExfWZ1bmN0aW9uIGliKGIsYSl7YSYmYi5zZXRBdHRyaWJ1dGUmJnEoYS5zcGxpdCgiICIpLGZ1bmN0aW9uKGEpe2Iuc2V0QXR0cmlidXRlKCJjbGFzcyIsYWEoKCIgIisoYi5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKSsiICIpLnJlcGxhY2UoL1tcblx0XS9nLCIgIikucmVwbGFjZSgiICIrYWEoYSkrIiAiLAoiICIpKSl9KX1mdW5jdGlvbiBqYihiLGEpe2lmKGEmJmIuc2V0QXR0cmlidXRlKXt2YXIgYz0oIiAiKyhiLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpKyIgIikucmVwbGFjZSgvW1xuXHRdL2csIiAiKTtxKGEuc3BsaXQoIiAiKSxmdW5jdGlvbihhKXthPWFhKGEpOy0xPT09Yy5pbmRleE9mKCIgIithKyIgIikmJihjKz1hKyIgIil9KTtiLnNldEF0dHJpYnV0ZSgiY2xhc3MiLGFhKGMpKX19ZnVuY3Rpb24gSGIoYixhKXtpZihhKXthPWEubm9kZU5hbWV8fCFCKGEubGVuZ3RoKXx8RWEoYSk/W2FdOmE7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspYi5wdXNoKGFbY10pfX1mdW5jdGlvbiBuYyhiLGEpe3JldHVybiBrYihiLCIkIisoYXx8Im5nQ29udHJvbGxlciIpKyJDb250cm9sbGVyIil9ZnVuY3Rpb24ga2IoYixhLGMpe2I9eChiKTs5PT1iWzBdLm5vZGVUeXBlJiYoYj1iLmZpbmQoImh0bWwiKSk7Zm9yKGE9TChhKT9hOlthXTtiLmxlbmd0aDspe2Zvcih2YXIgZD1iWzBdLGU9CjAsZz1hLmxlbmd0aDtlPGc7ZSsrKWlmKChjPWIuZGF0YShhW2VdKSkhPT1zKXJldHVybiBjO2I9eChkLnBhcmVudE5vZGV8fDExPT09ZC5ub2RlVHlwZSYmZC5ob3N0KX19ZnVuY3Rpb24gb2MoYil7Zm9yKHZhciBhPTAsYz1iLmNoaWxkTm9kZXM7YTxjLmxlbmd0aDthKyspSWEoY1thXSk7Zm9yKDtiLmZpcnN0Q2hpbGQ7KWIucmVtb3ZlQ2hpbGQoYi5maXJzdENoaWxkKX1mdW5jdGlvbiBwYyhiLGEpe3ZhciBjPWxiW2EudG9Mb3dlckNhc2UoKV07cmV0dXJuIGMmJnFjW2Iubm9kZU5hbWVdJiZjfWZ1bmN0aW9uIG9lKGIsYSl7dmFyIGM9ZnVuY3Rpb24oYyxlKXtjLnByZXZlbnREZWZhdWx0fHwoYy5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe2MucmV0dXJuVmFsdWU9ITF9KTtjLnN0b3BQcm9wYWdhdGlvbnx8KGMuc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7Yy5jYW5jZWxCdWJibGU9ITB9KTtjLnRhcmdldHx8KGMudGFyZ2V0PWMuc3JjRWxlbWVudHx8Vik7aWYoRChjLmRlZmF1bHRQcmV2ZW50ZWQpKXt2YXIgZz0KYy5wcmV2ZW50RGVmYXVsdDtjLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7Yy5kZWZhdWx0UHJldmVudGVkPSEwO2cuY2FsbChjKX07Yy5kZWZhdWx0UHJldmVudGVkPSExfWMuaXNEZWZhdWx0UHJldmVudGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGMuZGVmYXVsdFByZXZlbnRlZHx8ITE9PT1jLnJldHVyblZhbHVlfTt2YXIgZj1sYShhW2V8fGMudHlwZV18fFtdKTtxKGYsZnVuY3Rpb24oYSl7YS5jYWxsKGIsYyl9KTs4Pj1QPyhjLnByZXZlbnREZWZhdWx0PW51bGwsYy5zdG9wUHJvcGFnYXRpb249bnVsbCxjLmlzRGVmYXVsdFByZXZlbnRlZD1udWxsKTooZGVsZXRlIGMucHJldmVudERlZmF1bHQsZGVsZXRlIGMuc3RvcFByb3BhZ2F0aW9uLGRlbGV0ZSBjLmlzRGVmYXVsdFByZXZlbnRlZCl9O2MuZWxlbT1iO3JldHVybiBjfWZ1bmN0aW9uIEphKGIsYSl7dmFyIGM9dHlwZW9mIGIsZDsiZnVuY3Rpb24iPT1jfHwib2JqZWN0Ij09YyYmbnVsbCE9PWI/ImZ1bmN0aW9uIj09dHlwZW9mKGQ9CmIuJCRoYXNoS2V5KT9kPWIuJCRoYXNoS2V5KCk6ZD09PXMmJihkPWIuJCRoYXNoS2V5PShhfHxlYikoKSk6ZD1iO3JldHVybiBjKyI6IitkfWZ1bmN0aW9uIFphKGIsYSl7aWYoYSl7dmFyIGM9MDt0aGlzLm5leHRVaWQ9ZnVuY3Rpb24oKXtyZXR1cm4rK2N9fXEoYix0aGlzLnB1dCx0aGlzKX1mdW5jdGlvbiByYyhiKXt2YXIgYSxjOyJmdW5jdGlvbiI9PT10eXBlb2YgYj8oYT1iLiRpbmplY3QpfHwoYT1bXSxiLmxlbmd0aCYmKGM9Yi50b1N0cmluZygpLnJlcGxhY2UocGUsIiIpLGM9Yy5tYXRjaChxZSkscShjWzFdLnNwbGl0KHJlKSxmdW5jdGlvbihiKXtiLnJlcGxhY2Uoc2UsZnVuY3Rpb24oYixjLGQpe2EucHVzaChkKX0pfSkpLGIuJGluamVjdD1hKTpMKGIpPyhjPWIubGVuZ3RoLTEsVWEoYltjXSwiZm4iKSxhPWIuc2xpY2UoMCxjKSk6VWEoYiwiZm4iLCEwKTtyZXR1cm4gYX1mdW5jdGlvbiBkYyhiKXtmdW5jdGlvbiBhKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe2lmKFUoYikpcShiLApXYihhKSk7ZWxzZSByZXR1cm4gYShiLGMpfX1mdW5jdGlvbiBjKGEsYil7QmEoYSwic2VydmljZSIpO2lmKE8oYil8fEwoYikpYj1wLmluc3RhbnRpYXRlKGIpO2lmKCFiLiRnZXQpdGhyb3cgJGEoInBnZXQiLGEpO3JldHVybiBsW2Era109Yn1mdW5jdGlvbiBkKGEsYil7cmV0dXJuIGMoYSx7JGdldDpifSl9ZnVuY3Rpb24gZShhKXt2YXIgYj1bXSxjLGQsZyxrO3EoYSxmdW5jdGlvbihhKXtpZighaC5nZXQoYSkpe2gucHV0KGEsITApO3RyeXtpZih5KGEpKWZvcihjPVZhKGEpLGI9Yi5jb25jYXQoZShjLnJlcXVpcmVzKSkuY29uY2F0KGMuX3J1bkJsb2NrcyksZD1jLl9pbnZva2VRdWV1ZSxnPTAsaz1kLmxlbmd0aDtnPGs7ZysrKXt2YXIgZj1kW2ddLG09cC5nZXQoZlswXSk7bVtmWzFdXS5hcHBseShtLGZbMl0pfWVsc2UgTyhhKT9iLnB1c2gocC5pbnZva2UoYSkpOkwoYSk/Yi5wdXNoKHAuaW52b2tlKGEpKTpVYShhLCJtb2R1bGUiKX1jYXRjaChsKXt0aHJvdyBMKGEpJiYoYT0KYVthLmxlbmd0aC0xXSksbC5tZXNzYWdlJiYobC5zdGFjayYmLTE9PWwuc3RhY2suaW5kZXhPZihsLm1lc3NhZ2UpKSYmKGw9bC5tZXNzYWdlKyJcbiIrbC5zdGFjayksJGEoIm1vZHVsZXJyIixhLGwuc3RhY2t8fGwubWVzc2FnZXx8bCk7fX19KTtyZXR1cm4gYn1mdW5jdGlvbiBnKGEsYil7ZnVuY3Rpb24gYyhkKXtpZihhLmhhc093blByb3BlcnR5KGQpKXtpZihhW2RdPT09Zil0aHJvdyAkYSgiY2RlcCIsZCsiIDwtICIrbS5qb2luKCIgPC0gIikpO3JldHVybiBhW2RdfXRyeXtyZXR1cm4gbS51bnNoaWZ0KGQpLGFbZF09ZixhW2RdPWIoZCl9Y2F0Y2goZSl7dGhyb3cgYVtkXT09PWYmJmRlbGV0ZSBhW2RdLGU7fWZpbmFsbHl7bS5zaGlmdCgpfX1mdW5jdGlvbiBkKGEsYixlKXt2YXIgZz1bXSxrPXJjKGEpLGYsbSxoO209MDtmb3IoZj1rLmxlbmd0aDttPGY7bSsrKXtoPWtbbV07aWYoInN0cmluZyIhPT10eXBlb2YgaCl0aHJvdyAkYSgiaXRrbiIsaCk7Zy5wdXNoKGUmJmUuaGFzT3duUHJvcGVydHkoaCk/CmVbaF06YyhoKSl9TChhKSYmKGE9YVtmXSk7cmV0dXJuIGEuYXBwbHkoYixnKX1yZXR1cm57aW52b2tlOmQsaW5zdGFudGlhdGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbigpe30sZTtjLnByb3RvdHlwZT0oTChhKT9hW2EubGVuZ3RoLTFdOmEpLnByb3RvdHlwZTtjPW5ldyBjO2U9ZChhLGMsYik7cmV0dXJuIFUoZSl8fE8oZSk/ZTpjfSxnZXQ6Yyxhbm5vdGF0ZTpyYyxoYXM6ZnVuY3Rpb24oYil7cmV0dXJuIGwuaGFzT3duUHJvcGVydHkoYitrKXx8YS5oYXNPd25Qcm9wZXJ0eShiKX19fXZhciBmPXt9LGs9IlByb3ZpZGVyIixtPVtdLGg9bmV3IFphKFtdLCEwKSxsPXskcHJvdmlkZTp7cHJvdmlkZXI6YShjKSxmYWN0b3J5OmEoZCksc2VydmljZTphKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGQoYSxbIiRpbmplY3RvciIsZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5zdGFudGlhdGUoYil9XSl9KSx2YWx1ZTphKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGQoYSwkKGIpKX0pLGNvbnN0YW50OmEoZnVuY3Rpb24oYSwKYil7QmEoYSwiY29uc3RhbnQiKTtsW2FdPWI7blthXT1ifSksZGVjb3JhdG9yOmZ1bmN0aW9uKGEsYil7dmFyIGM9cC5nZXQoYStrKSxkPWMuJGdldDtjLiRnZXQ9ZnVuY3Rpb24oKXt2YXIgYT1yLmludm9rZShkLGMpO3JldHVybiByLmludm9rZShiLG51bGwseyRkZWxlZ2F0ZTphfSl9fX19LHA9bC4kaW5qZWN0b3I9ZyhsLGZ1bmN0aW9uKCl7dGhyb3cgJGEoInVucHIiLG0uam9pbigiIDwtICIpKTt9KSxuPXt9LHI9bi4kaW5qZWN0b3I9ZyhuLGZ1bmN0aW9uKGEpe2E9cC5nZXQoYStrKTtyZXR1cm4gci5pbnZva2UoYS4kZ2V0LGEpfSk7cShlKGIpLGZ1bmN0aW9uKGEpe3IuaW52b2tlKGF8fEEpfSk7cmV0dXJuIHJ9ZnVuY3Rpb24gTGQoKXt2YXIgYj0hMDt0aGlzLmRpc2FibGVBdXRvU2Nyb2xsaW5nPWZ1bmN0aW9uKCl7Yj0hMX07dGhpcy4kZ2V0PVsiJHdpbmRvdyIsIiRsb2NhdGlvbiIsIiRyb290U2NvcGUiLGZ1bmN0aW9uKGEsYyxkKXtmdW5jdGlvbiBlKGEpe3ZhciBiPW51bGw7CnEoYSxmdW5jdGlvbihhKXtifHwiYSIhPT1JKGEubm9kZU5hbWUpfHwoYj1hKX0pO3JldHVybiBifWZ1bmN0aW9uIGcoKXt2YXIgYj1jLmhhc2goKSxkO2I/KGQ9Zi5nZXRFbGVtZW50QnlJZChiKSk/ZC5zY3JvbGxJbnRvVmlldygpOihkPWUoZi5nZXRFbGVtZW50c0J5TmFtZShiKSkpP2Quc2Nyb2xsSW50b1ZpZXcoKToidG9wIj09PWImJmEuc2Nyb2xsVG8oMCwwKTphLnNjcm9sbFRvKDAsMCl9dmFyIGY9YS5kb2N1bWVudDtiJiZkLiR3YXRjaChmdW5jdGlvbigpe3JldHVybiBjLmhhc2goKX0sZnVuY3Rpb24oKXtkLiRldmFsQXN5bmMoZyl9KTtyZXR1cm4gZ31dfWZ1bmN0aW9uIGhlKCl7dGhpcy4kZ2V0PVsiJCRyQUYiLCIkdGltZW91dCIsZnVuY3Rpb24oYixhKXtyZXR1cm4gYi5zdXBwb3J0ZWQ/ZnVuY3Rpb24oYSl7cmV0dXJuIGIoYSl9OmZ1bmN0aW9uKGIpe3JldHVybiBhKGIsMCwhMSl9fV19ZnVuY3Rpb24gdGUoYixhLGMsZCl7ZnVuY3Rpb24gZShhKXt0cnl7YS5hcHBseShudWxsLAp6YS5jYWxsKGFyZ3VtZW50cywxKSl9ZmluYWxseXtpZih0LS0sMD09PXQpZm9yKDtKLmxlbmd0aDspdHJ5e0oucG9wKCkoKX1jYXRjaChiKXtjLmVycm9yKGIpfX19ZnVuY3Rpb24gZyhhLGIpeyhmdW5jdGlvbiBiYSgpe3EodyxmdW5jdGlvbihhKXthKCl9KTt1PWIoYmEsYSl9KSgpfWZ1bmN0aW9uIGYoKXt6PW51bGw7SyE9ay51cmwoKSYmKEs9ay51cmwoKSxxKGhhLGZ1bmN0aW9uKGEpe2Eoay51cmwoKSl9KSl9dmFyIGs9dGhpcyxtPWFbMF0saD1iLmxvY2F0aW9uLGw9Yi5oaXN0b3J5LHA9Yi5zZXRUaW1lb3V0LG49Yi5jbGVhclRpbWVvdXQscj17fTtrLmlzTW9jaz0hMTt2YXIgdD0wLEo9W107ay4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0PWU7ay4kJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50PWZ1bmN0aW9uKCl7dCsrfTtrLm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHM9ZnVuY3Rpb24oYSl7cSh3LGZ1bmN0aW9uKGEpe2EoKX0pOzA9PT10P2EoKTpKLnB1c2goYSl9Owp2YXIgdz1bXSx1O2suYWRkUG9sbEZuPWZ1bmN0aW9uKGEpe0QodSkmJmcoMTAwLHApO3cucHVzaChhKTtyZXR1cm4gYX07dmFyIEs9aC5ocmVmLFE9YS5maW5kKCJiYXNlIiksej1udWxsO2sudXJsPWZ1bmN0aW9uKGEsYyl7aCE9PWIubG9jYXRpb24mJihoPWIubG9jYXRpb24pO2whPT1iLmhpc3RvcnkmJihsPWIuaGlzdG9yeSk7aWYoYSl7aWYoSyE9YSlyZXR1cm4gSz1hLGQuaGlzdG9yeT9jP2wucmVwbGFjZVN0YXRlKG51bGwsIiIsYSk6KGwucHVzaFN0YXRlKG51bGwsIiIsYSksUS5hdHRyKCJocmVmIixRLmF0dHIoImhyZWYiKSkpOih6PWEsYz9oLnJlcGxhY2UoYSk6aC5ocmVmPWEpLGt9ZWxzZSByZXR1cm4genx8aC5ocmVmLnJlcGxhY2UoLyUyNy9nLCInIil9O3ZhciBoYT1bXSxOPSExO2sub25VcmxDaGFuZ2U9ZnVuY3Rpb24oYSl7aWYoIU4pe2lmKGQuaGlzdG9yeSl4KGIpLm9uKCJwb3BzdGF0ZSIsZik7aWYoZC5oYXNoY2hhbmdlKXgoYikub24oImhhc2hjaGFuZ2UiLGYpOwplbHNlIGsuYWRkUG9sbEZuKGYpO049ITB9aGEucHVzaChhKTtyZXR1cm4gYX07ay5iYXNlSHJlZj1mdW5jdGlvbigpe3ZhciBhPVEuYXR0cigiaHJlZiIpO3JldHVybiBhP2EucmVwbGFjZSgvXihodHRwcz9cOik/XC9cL1teXC9dKi8sIiIpOiIifTt2YXIgTT17fSxjYT0iIixDPWsuYmFzZUhyZWYoKTtrLmNvb2tpZXM9ZnVuY3Rpb24oYSxiKXt2YXIgZCxlLGcsaztpZihhKWI9PT1zP20uY29va2llPWVzY2FwZShhKSsiPTtwYXRoPSIrQysiO2V4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMCBHTVQiOnkoYikmJihkPShtLmNvb2tpZT1lc2NhcGUoYSkrIj0iK2VzY2FwZShiKSsiO3BhdGg9IitDKS5sZW5ndGgrMSw0MDk2PGQmJmMud2FybigiQ29va2llICciK2ErIicgcG9zc2libHkgbm90IHNldCBvciBvdmVyZmxvd2VkIGJlY2F1c2UgaXQgd2FzIHRvbyBsYXJnZSAoIitkKyIgPiA0MDk2IGJ5dGVzKSEiKSk7ZWxzZXtpZihtLmNvb2tpZSE9PWNhKWZvcihjYT1tLmNvb2tpZSwKZD1jYS5zcGxpdCgiOyAiKSxNPXt9LGc9MDtnPGQubGVuZ3RoO2crKyllPWRbZ10saz1lLmluZGV4T2YoIj0iKSwwPGsmJihhPXVuZXNjYXBlKGUuc3Vic3RyaW5nKDAsaykpLE1bYV09PT1zJiYoTVthXT11bmVzY2FwZShlLnN1YnN0cmluZyhrKzEpKSkpO3JldHVybiBNfX07ay5kZWZlcj1mdW5jdGlvbihhLGIpe3ZhciBjO3QrKztjPXAoZnVuY3Rpb24oKXtkZWxldGUgcltjXTtlKGEpfSxifHwwKTtyW2NdPSEwO3JldHVybiBjfTtrLmRlZmVyLmNhbmNlbD1mdW5jdGlvbihhKXtyZXR1cm4gclthXT8oZGVsZXRlIHJbYV0sbihhKSxlKEEpLCEwKTohMX19ZnVuY3Rpb24gTmQoKXt0aGlzLiRnZXQ9WyIkd2luZG93IiwiJGxvZyIsIiRzbmlmZmVyIiwiJGRvY3VtZW50IixmdW5jdGlvbihiLGEsYyxkKXtyZXR1cm4gbmV3IHRlKGIsZCxhLGMpfV19ZnVuY3Rpb24gT2QoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsZCl7ZnVuY3Rpb24gZShhKXthIT1wJiYobj9uPT1hJiYKKG49YS5uKTpuPWEsZyhhLm4sYS5wKSxnKGEscCkscD1hLHAubj1udWxsKX1mdW5jdGlvbiBnKGEsYil7YSE9YiYmKGEmJihhLnA9YiksYiYmKGIubj1hKSl9aWYoYiBpbiBhKXRocm93IHYoIiRjYWNoZUZhY3RvcnkiKSgiaWlkIixiKTt2YXIgZj0wLGs9RSh7fSxkLHtpZDpifSksbT17fSxoPWQmJmQuY2FwYWNpdHl8fE51bWJlci5NQVhfVkFMVUUsbD17fSxwPW51bGwsbj1udWxsO3JldHVybiBhW2JdPXtwdXQ6ZnVuY3Rpb24oYSxiKXtpZihoPE51bWJlci5NQVhfVkFMVUUpe3ZhciBjPWxbYV18fChsW2FdPXtrZXk6YX0pO2UoYyl9aWYoIUQoYikpcmV0dXJuIGEgaW4gbXx8ZisrLG1bYV09YixmPmgmJnRoaXMucmVtb3ZlKG4ua2V5KSxifSxnZXQ6ZnVuY3Rpb24oYSl7aWYoaDxOdW1iZXIuTUFYX1ZBTFVFKXt2YXIgYj1sW2FdO2lmKCFiKXJldHVybjtlKGIpfXJldHVybiBtW2FdfSxyZW1vdmU6ZnVuY3Rpb24oYSl7aWYoaDxOdW1iZXIuTUFYX1ZBTFVFKXt2YXIgYj1sW2FdO2lmKCFiKXJldHVybjsKYj09cCYmKHA9Yi5wKTtiPT1uJiYobj1iLm4pO2coYi5uLGIucCk7ZGVsZXRlIGxbYV19ZGVsZXRlIG1bYV07Zi0tfSxyZW1vdmVBbGw6ZnVuY3Rpb24oKXttPXt9O2Y9MDtsPXt9O3A9bj1udWxsfSxkZXN0cm95OmZ1bmN0aW9uKCl7bD1rPW09bnVsbDtkZWxldGUgYVtiXX0saW5mbzpmdW5jdGlvbigpe3JldHVybiBFKHt9LGsse3NpemU6Zn0pfX19dmFyIGE9e307Yi5pbmZvPWZ1bmN0aW9uKCl7dmFyIGI9e307cShhLGZ1bmN0aW9uKGEsZSl7YltlXT1hLmluZm8oKX0pO3JldHVybiBifTtiLmdldD1mdW5jdGlvbihiKXtyZXR1cm4gYVtiXX07cmV0dXJuIGJ9fWZ1bmN0aW9uIGRlKCl7dGhpcy4kZ2V0PVsiJGNhY2hlRmFjdG9yeSIsZnVuY3Rpb24oYil7cmV0dXJuIGIoInRlbXBsYXRlcyIpfV19ZnVuY3Rpb24gZmMoYixhKXt2YXIgYz17fSxkPSJEaXJlY3RpdmUiLGU9L15ccypkaXJlY3RpdmVcOlxzKihbXGRcd19cLV0rKVxzKyguKikkLyxnPS8oKFtcZFx3X1wtXSspKD86XDooW147XSspKT87PykvLApmPS9eKG9uW2Etel0rfGZvcm1hY3Rpb24pJC87dGhpcy5kaXJlY3RpdmU9ZnVuY3Rpb24gbShhLGUpe0JhKGEsImRpcmVjdGl2ZSIpO3koYSk/KEJiKGUsImRpcmVjdGl2ZUZhY3RvcnkiKSxjLmhhc093blByb3BlcnR5KGEpfHwoY1thXT1bXSxiLmZhY3RvcnkoYStkLFsiJGluamVjdG9yIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLGZ1bmN0aW9uKGIsZCl7dmFyIGU9W107cShjW2FdLGZ1bmN0aW9uKGMsZyl7dHJ5e3ZhciBmPWIuaW52b2tlKGMpO08oZik/Zj17Y29tcGlsZTokKGYpfTohZi5jb21waWxlJiZmLmxpbmsmJihmLmNvbXBpbGU9JChmLmxpbmspKTtmLnByaW9yaXR5PWYucHJpb3JpdHl8fDA7Zi5pbmRleD1nO2YubmFtZT1mLm5hbWV8fGE7Zi5yZXF1aXJlPWYucmVxdWlyZXx8Zi5jb250cm9sbGVyJiZmLm5hbWU7Zi5yZXN0cmljdD1mLnJlc3RyaWN0fHwiQSI7ZS5wdXNoKGYpfWNhdGNoKG0pe2QobSl9fSk7cmV0dXJuIGV9XSkpLGNbYV0ucHVzaChlKSk6cShhLFdiKG0pKTsKcmV0dXJuIHRoaXN9O3RoaXMuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3Q9ZnVuY3Rpb24oYil7cmV0dXJuIEIoYik/KGEuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QoYiksdGhpcyk6YS5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCgpfTt0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdD1mdW5jdGlvbihiKXtyZXR1cm4gQihiKT8oYS5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QoYiksdGhpcyk6YS5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QoKX07dGhpcy4kZ2V0PVsiJGluamVjdG9yIiwiJGludGVycG9sYXRlIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLCIkaHR0cCIsIiR0ZW1wbGF0ZUNhY2hlIiwiJHBhcnNlIiwiJGNvbnRyb2xsZXIiLCIkcm9vdFNjb3BlIiwiJGRvY3VtZW50IiwiJHNjZSIsIiRhbmltYXRlIiwiJCRzYW5pdGl6ZVVyaSIsZnVuY3Rpb24oYSxiLGwscCxuLHIsdCxKLHcsdSxLLFEpe2Z1bmN0aW9uIHooYSxiLGMsZCxlKXthIGluc3RhbmNlb2YKeHx8KGE9eChhKSk7cShhLGZ1bmN0aW9uKGIsYyl7Mz09Yi5ub2RlVHlwZSYmYi5ub2RlVmFsdWUubWF0Y2goL1xTKy8pJiYoYVtjXT14KGIpLndyYXAoIjxzcGFuPjwvc3Bhbj4iKS5wYXJlbnQoKVswXSl9KTt2YXIgZz1OKGEsYixhLGMsZCxlKTtoYShhLCJuZy1zY29wZSIpO3JldHVybiBmdW5jdGlvbihiLGMsZCxlKXtCYihiLCJzY29wZSIpO3ZhciBmPWM/S2EuY2xvbmUuY2FsbChhKTphO3EoZCxmdW5jdGlvbihhLGIpe2YuZGF0YSgiJCIrYisiQ29udHJvbGxlciIsYSl9KTtkPTA7Zm9yKHZhciBtPWYubGVuZ3RoO2Q8bTtkKyspe3ZhciBoPWZbZF0ubm9kZVR5cGU7MSE9PWgmJjkhPT1ofHxmLmVxKGQpLmRhdGEoIiRzY29wZSIsYil9YyYmYyhmLGIpO2cmJmcoYixmLGYsZSk7cmV0dXJuIGZ9fWZ1bmN0aW9uIGhhKGEsYil7dHJ5e2EuYWRkQ2xhc3MoYil9Y2F0Y2goYyl7fX1mdW5jdGlvbiBOKGEsYixjLGQsZSxnKXtmdW5jdGlvbiBmKGEsYyxkLGUpe3ZhciBnLGgsbCxyLHAsCm4sdDtnPWMubGVuZ3RoO3ZhciB3PUFycmF5KGcpO2ZvcihwPTA7cDxnO3ArKyl3W3BdPWNbcF07dD1wPTA7Zm9yKG49bS5sZW5ndGg7cDxuO3QrKyloPXdbdF0sYz1tW3ArK10sZz1tW3ArK10sbD14KGgpLGM/KGMuc2NvcGU/KHI9YS4kbmV3KCksbC5kYXRhKCIkc2NvcGUiLHIpKTpyPWEsbD1jLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50P00oYSxjLnRyYW5zY2x1ZGUsZSk6IWMudGVtcGxhdGVPblRoaXNFbGVtZW50JiZlP2U6IWUmJmI/TShhLGIpOm51bGwsYyhnLHIsaCxkLGwpKTpnJiZnKGEsaC5jaGlsZE5vZGVzLHMsZSl9Zm9yKHZhciBtPVtdLGgsbCxyLHAsbj0wO248YS5sZW5ndGg7bisrKWg9bmV3IEtiLGw9Y2EoYVtuXSxbXSxoLDA9PT1uP2Q6cyxlKSwoZz1sLmxlbmd0aD9IKGwsYVtuXSxoLGIsYyxudWxsLFtdLFtdLGcpOm51bGwpJiZnLnNjb3BlJiZoYSh4KGFbbl0pLCJuZy1zY29wZSIpLGg9ZyYmZy50ZXJtaW5hbHx8IShyPWFbbl0uY2hpbGROb2Rlcyl8fCFyLmxlbmd0aD8KbnVsbDpOKHIsZz8oZy50cmFuc2NsdWRlT25UaGlzRWxlbWVudHx8IWcudGVtcGxhdGVPblRoaXNFbGVtZW50KSYmZy50cmFuc2NsdWRlOmIpLG0ucHVzaChnLGgpLHA9cHx8Z3x8aCxnPW51bGw7cmV0dXJuIHA/ZjpudWxsfWZ1bmN0aW9uIE0oYSxiLGMpe3JldHVybiBmdW5jdGlvbihkLGUsZyl7dmFyIGY9ITE7ZHx8KGQ9YS4kbmV3KCksZj1kLiQkdHJhbnNjbHVkZWQ9ITApO2U9YihkLGUsZyxjKTtpZihmKWUub24oIiRkZXN0cm95IixmdW5jdGlvbigpe2QuJGRlc3Ryb3koKX0pO3JldHVybiBlfX1mdW5jdGlvbiBjYShhLGIsYyxkLGYpe3ZhciBoPWMuJGF0dHIsbTtzd2l0Y2goYS5ub2RlVHlwZSl7Y2FzZSAxOmJhKGIsbmEoTGEoYSkudG9Mb3dlckNhc2UoKSksIkUiLGQsZik7Zm9yKHZhciBsLHIscCxuPWEuYXR0cmlidXRlcyx0PTAsdz1uJiZuLmxlbmd0aDt0PHc7dCsrKXt2YXIgSj0hMSxLPSExO2w9blt0XTtpZighUHx8ODw9UHx8bC5zcGVjaWZpZWQpe209bC5uYW1lO3I9CmFhKGwudmFsdWUpO2w9bmEobSk7aWYocD1XLnRlc3QobCkpbT1oYihsLnN1YnN0cig2KSwiLSIpO3ZhciB1PWwucmVwbGFjZSgvKFN0YXJ0fEVuZCkkLywiIik7bD09PXUrIlN0YXJ0IiYmKEo9bSxLPW0uc3Vic3RyKDAsbS5sZW5ndGgtNSkrImVuZCIsbT1tLnN1YnN0cigwLG0ubGVuZ3RoLTYpKTtsPW5hKG0udG9Mb3dlckNhc2UoKSk7aFtsXT1tO2lmKHB8fCFjLmhhc093blByb3BlcnR5KGwpKWNbbF09cixwYyhhLGwpJiYoY1tsXT0hMCk7UyhhLGIscixsKTtiYShiLGwsIkEiLGQsZixKLEspfX1hPWEuY2xhc3NOYW1lO2lmKHkoYSkmJiIiIT09YSlmb3IoO209Zy5leGVjKGEpOylsPW5hKG1bMl0pLGJhKGIsbCwiQyIsZCxmKSYmKGNbbF09YWEobVszXSkpLGE9YS5zdWJzdHIobS5pbmRleCttWzBdLmxlbmd0aCk7YnJlYWs7Y2FzZSAzOnYoYixhLm5vZGVWYWx1ZSk7YnJlYWs7Y2FzZSA4OnRyeXtpZihtPWUuZXhlYyhhLm5vZGVWYWx1ZSkpbD1uYShtWzFdKSxiYShiLGwsIk0iLApkLGYpJiYoY1tsXT1hYShtWzJdKSl9Y2F0Y2goeil7fX1iLnNvcnQoRCk7cmV0dXJuIGJ9ZnVuY3Rpb24gQyhhLGIsYyl7dmFyIGQ9W10sZT0wO2lmKGImJmEuaGFzQXR0cmlidXRlJiZhLmhhc0F0dHJpYnV0ZShiKSl7ZG97aWYoIWEpdGhyb3cgaWEoInV0ZXJkaXIiLGIsYyk7MT09YS5ub2RlVHlwZSYmKGEuaGFzQXR0cmlidXRlKGIpJiZlKyssYS5oYXNBdHRyaWJ1dGUoYykmJmUtLSk7ZC5wdXNoKGEpO2E9YS5uZXh0U2libGluZ313aGlsZSgwPGUpfWVsc2UgZC5wdXNoKGEpO3JldHVybiB4KGQpfWZ1bmN0aW9uIEcoYSxiLGMpe3JldHVybiBmdW5jdGlvbihkLGUsZyxmLG0pe2U9QyhlWzBdLGIsYyk7cmV0dXJuIGEoZCxlLGcsZixtKX19ZnVuY3Rpb24gSChhLGMsZCxlLGcsZixtLHAsbil7ZnVuY3Rpb24gdyhhLGIsYyxkKXtpZihhKXtjJiYoYT1HKGEsYyxkKSk7YS5yZXF1aXJlPUYucmVxdWlyZTthLmRpcmVjdGl2ZU5hbWU9b2E7aWYoTT09PUZ8fEYuJCRpc29sYXRlU2NvcGUpYT0KdGMoYSx7aXNvbGF0ZVNjb3BlOiEwfSk7bS5wdXNoKGEpfWlmKGIpe2MmJihiPUcoYixjLGQpKTtiLnJlcXVpcmU9Ri5yZXF1aXJlO2IuZGlyZWN0aXZlTmFtZT1vYTtpZihNPT09Rnx8Ri4kJGlzb2xhdGVTY29wZSliPXRjKGIse2lzb2xhdGVTY29wZTohMH0pO3AucHVzaChiKX19ZnVuY3Rpb24gSihhLGIsYyxkKXt2YXIgZSxnPSJkYXRhIixmPSExO2lmKHkoYikpe2Zvcig7Il4iPT0oZT1iLmNoYXJBdCgwKSl8fCI/Ij09ZTspYj1iLnN1YnN0cigxKSwiXiI9PWUmJihnPSJpbmhlcml0ZWREYXRhIiksZj1mfHwiPyI9PWU7ZT1udWxsO2QmJiJkYXRhIj09PWcmJihlPWRbYl0pO2U9ZXx8Y1tnXSgiJCIrYisiQ29udHJvbGxlciIpO2lmKCFlJiYhZil0aHJvdyBpYSgiY3RyZXEiLGIsYSk7fWVsc2UgTChiKSYmKGU9W10scShiLGZ1bmN0aW9uKGIpe2UucHVzaChKKGEsYixjLGQpKX0pKTtyZXR1cm4gZX1mdW5jdGlvbiBLKGEsZSxnLGYsbil7ZnVuY3Rpb24gdyhhLGIpe3ZhciBjOzI+CmFyZ3VtZW50cy5sZW5ndGgmJihiPWEsYT1zKTtEYSYmKGM9Y2EpO3JldHVybiBuKGEsYixjKX12YXIgdSxSLHosUSxHLEMsY2E9e30sbWI7dT1jPT09Zz9kOmxhKGQsbmV3IEtiKHgoZyksZC4kYXR0cikpO1I9dS4kJGVsZW1lbnQ7aWYoTSl7dmFyIGJhPS9eXHMqKFtAPSZdKShcPz8pXHMqKFx3KilccyokLztmPXgoZyk7Qz1lLiRuZXcoITApOyFIfHxIIT09TSYmSCE9PU0uJCRvcmlnaW5hbERpcmVjdGl2ZT9mLmRhdGEoIiRpc29sYXRlU2NvcGVOb1RlbXBsYXRlIixDKTpmLmRhdGEoIiRpc29sYXRlU2NvcGUiLEMpO2hhKGYsIm5nLWlzb2xhdGUtc2NvcGUiKTtxKE0uc2NvcGUsZnVuY3Rpb24oYSxjKXt2YXIgZD1hLm1hdGNoKGJhKXx8W10sZz1kWzNdfHxjLGY9Ij8iPT1kWzJdLGQ9ZFsxXSxtLGwscCxuO0MuJCRpc29sYXRlQmluZGluZ3NbY109ZCtnO3N3aXRjaChkKXtjYXNlICJAIjp1LiRvYnNlcnZlKGcsZnVuY3Rpb24oYSl7Q1tjXT1hfSk7dS4kJG9ic2VydmVyc1tnXS4kJHNjb3BlPQplO3VbZ10mJihDW2NdPWIodVtnXSkoZSkpO2JyZWFrO2Nhc2UgIj0iOmlmKGYmJiF1W2ddKWJyZWFrO2w9cih1W2ddKTtuPWwubGl0ZXJhbD95YTpmdW5jdGlvbihhLGIpe3JldHVybiBhPT09Yn07cD1sLmFzc2lnbnx8ZnVuY3Rpb24oKXttPUNbY109bChlKTt0aHJvdyBpYSgibm9uYXNzaWduIix1W2ddLE0ubmFtZSk7fTttPUNbY109bChlKTtDLiR3YXRjaChmdW5jdGlvbigpe3ZhciBhPWwoZSk7bihhLENbY10pfHwobihhLG0pP3AoZSxhPUNbY10pOkNbY109YSk7cmV0dXJuIG09YX0sbnVsbCxsLmxpdGVyYWwpO2JyZWFrO2Nhc2UgIiYiOmw9cih1W2ddKTtDW2NdPWZ1bmN0aW9uKGEpe3JldHVybiBsKGUsYSl9O2JyZWFrO2RlZmF1bHQ6dGhyb3cgaWEoImlzY3AiLE0ubmFtZSxjLGEpO319KX1tYj1uJiZ3O04mJnEoTixmdW5jdGlvbihhKXt2YXIgYj17JHNjb3BlOmE9PT1NfHxhLiQkaXNvbGF0ZVNjb3BlP0M6ZSwkZWxlbWVudDpSLCRhdHRyczp1LCR0cmFuc2NsdWRlOm1ifSwKYztHPWEuY29udHJvbGxlcjsiQCI9PUcmJihHPXVbYS5uYW1lXSk7Yz10KEcsYik7Y2FbYS5uYW1lXT1jO0RhfHxSLmRhdGEoIiQiK2EubmFtZSsiQ29udHJvbGxlciIsYyk7YS5jb250cm9sbGVyQXMmJihiLiRzY29wZVthLmNvbnRyb2xsZXJBc109Yyl9KTtmPTA7Zm9yKHo9bS5sZW5ndGg7Zjx6O2YrKyl0cnl7UT1tW2ZdLFEoUS5pc29sYXRlU2NvcGU/QzplLFIsdSxRLnJlcXVpcmUmJkooUS5kaXJlY3RpdmVOYW1lLFEucmVxdWlyZSxSLGNhKSxtYil9Y2F0Y2goRil7bChGLGdhKFIpKX1mPWU7TSYmKE0udGVtcGxhdGV8fG51bGw9PT1NLnRlbXBsYXRlVXJsKSYmKGY9Qyk7YSYmYShmLGcuY2hpbGROb2RlcyxzLG4pO2ZvcihmPXAubGVuZ3RoLTE7MDw9ZjtmLS0pdHJ5e1E9cFtmXSxRKFEuaXNvbGF0ZVNjb3BlP0M6ZSxSLHUsUS5yZXF1aXJlJiZKKFEuZGlyZWN0aXZlTmFtZSxRLnJlcXVpcmUsUixjYSksbWIpfWNhdGNoKEIpe2woQixnYShSKSl9fW49bnx8e307Zm9yKHZhciB1PQotTnVtYmVyLk1BWF9WQUxVRSxRLE49bi5jb250cm9sbGVyRGlyZWN0aXZlcyxNPW4ubmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLEg9bi50ZW1wbGF0ZURpcmVjdGl2ZSxiYT1uLm5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUsRD0hMSxFPSExLERhPW4uaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUsdj1kLiQkZWxlbWVudD14KGMpLEYsb2EsWCxUPWUsUyxQPTAscGE9YS5sZW5ndGg7UDxwYTtQKyspe0Y9YVtQXTt2YXIgVz1GLiQkc3RhcnQsWT1GLiQkZW5kO1cmJih2PUMoYyxXLFkpKTtYPXM7aWYodT5GLnByaW9yaXR5KWJyZWFrO2lmKFg9Ri5zY29wZSlRPVF8fEYsRi50ZW1wbGF0ZVVybHx8KEkoIm5ldy9pc29sYXRlZCBzY29wZSIsTSxGLHYpLFUoWCkmJihNPUYpKTtvYT1GLm5hbWU7IUYudGVtcGxhdGVVcmwmJkYuY29udHJvbGxlciYmKFg9Ri5jb250cm9sbGVyLE49Tnx8e30sSSgiJyIrb2ErIicgY29udHJvbGxlciIsTltvYV0sRix2KSxOW29hXT1GKTtpZihYPUYudHJhbnNjbHVkZSlEPQohMCxGLiQkdGxifHwoSSgidHJhbnNjbHVzaW9uIixiYSxGLHYpLGJhPUYpLCJlbGVtZW50Ij09WD8oRGE9ITAsdT1GLnByaW9yaXR5LFg9QyhjLFcsWSksdj1kLiQkZWxlbWVudD14KFYuY3JlYXRlQ29tbWVudCgiICIrb2ErIjogIitkW29hXSsiICIpKSxjPXZbMF0sbmIoZyx4KHphLmNhbGwoWCwwKSksYyksVD16KFgsZSx1LGYmJmYubmFtZSx7bm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZTpiYX0pKTooWD14KEliKGMpKS5jb250ZW50cygpLHYuZW1wdHkoKSxUPXooWCxlKSk7aWYoRi50ZW1wbGF0ZSlpZihFPSEwLEkoInRlbXBsYXRlIixILEYsdiksSD1GLFg9TyhGLnRlbXBsYXRlKT9GLnRlbXBsYXRlKHYsZCk6Ri50ZW1wbGF0ZSxYPVooWCksRi5yZXBsYWNlKXtmPUY7WD1HYi50ZXN0KFgpP3goYWEoWCkpOltdO2M9WFswXTtpZigxIT1YLmxlbmd0aHx8MSE9PWMubm9kZVR5cGUpdGhyb3cgaWEoInRwbHJ0IixvYSwiIik7bmIoZyx2LGMpO3BhPXskYXR0cjp7fX07WD1jYShjLFtdLApwYSk7dmFyIHVlPWEuc3BsaWNlKFArMSxhLmxlbmd0aC0oUCsxKSk7TSYmc2MoWCk7YT1hLmNvbmNhdChYKS5jb25jYXQodWUpO0IoZCxwYSk7cGE9YS5sZW5ndGh9ZWxzZSB2Lmh0bWwoWCk7aWYoRi50ZW1wbGF0ZVVybClFPSEwLEkoInRlbXBsYXRlIixILEYsdiksSD1GLEYucmVwbGFjZSYmKGY9RiksSz1BKGEuc3BsaWNlKFAsYS5sZW5ndGgtUCksdixkLGcsRCYmVCxtLHAse2NvbnRyb2xsZXJEaXJlY3RpdmVzOk4sbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlOk0sdGVtcGxhdGVEaXJlY3RpdmU6SCxub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlOmJhfSkscGE9YS5sZW5ndGg7ZWxzZSBpZihGLmNvbXBpbGUpdHJ5e1M9Ri5jb21waWxlKHYsZCxUKSxPKFMpP3cobnVsbCxTLFcsWSk6UyYmdyhTLnByZSxTLnBvc3QsVyxZKX1jYXRjaCgkKXtsKCQsZ2EodikpfUYudGVybWluYWwmJihLLnRlcm1pbmFsPSEwLHU9TWF0aC5tYXgodSxGLnByaW9yaXR5KSl9Sy5zY29wZT1RJiYhMD09PVEuc2NvcGU7CksudHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQ9RDtLLnRlbXBsYXRlT25UaGlzRWxlbWVudD1FO0sudHJhbnNjbHVkZT1UO24uaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmU9RGE7cmV0dXJuIEt9ZnVuY3Rpb24gc2MoYSl7Zm9yKHZhciBiPTAsYz1hLmxlbmd0aDtiPGM7YisrKWFbYl09WWIoYVtiXSx7JCRpc29sYXRlU2NvcGU6ITB9KX1mdW5jdGlvbiBiYShiLGUsZyxmLGgscixwKXtpZihlPT09aClyZXR1cm4gbnVsbDtoPW51bGw7aWYoYy5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIG47ZT1hLmdldChlK2QpO2Zvcih2YXIgdD0wLHc9ZS5sZW5ndGg7dDx3O3QrKyl0cnl7bj1lW3RdLChmPT09c3x8Zj5uLnByaW9yaXR5KSYmLTEhPW4ucmVzdHJpY3QuaW5kZXhPZihnKSYmKHImJihuPVliKG4seyQkc3RhcnQ6ciwkJGVuZDpwfSkpLGIucHVzaChuKSxoPW4pfWNhdGNoKEope2woSil9fXJldHVybiBofWZ1bmN0aW9uIEIoYSxiKXt2YXIgYz1iLiRhdHRyLGQ9YS4kYXR0cixlPWEuJCRlbGVtZW50OwpxKGEsZnVuY3Rpb24oZCxlKXsiJCIhPWUuY2hhckF0KDApJiYoYltlXSYmYltlXSE9PWQmJihkKz0oInN0eWxlIj09PWU/IjsiOiIgIikrYltlXSksYS4kc2V0KGUsZCwhMCxjW2VdKSl9KTtxKGIsZnVuY3Rpb24oYixnKXsiY2xhc3MiPT1nPyhoYShlLGIpLGFbImNsYXNzIl09KGFbImNsYXNzIl0/YVsiY2xhc3MiXSsiICI6IiIpK2IpOiJzdHlsZSI9PWc/KGUuYXR0cigic3R5bGUiLGUuYXR0cigic3R5bGUiKSsiOyIrYiksYS5zdHlsZT0oYS5zdHlsZT9hLnN0eWxlKyI7IjoiIikrYik6IiQiPT1nLmNoYXJBdCgwKXx8YS5oYXNPd25Qcm9wZXJ0eShnKXx8KGFbZ109YixkW2ddPWNbZ10pfSl9ZnVuY3Rpb24gQShhLGIsYyxkLGUsZyxmLG0pe3ZhciBoPVtdLGwscix0PWJbMF0sdz1hLnNoaWZ0KCksSj1FKHt9LHcse3RlbXBsYXRlVXJsOm51bGwsdHJhbnNjbHVkZTpudWxsLHJlcGxhY2U6bnVsbCwkJG9yaWdpbmFsRGlyZWN0aXZlOnd9KSxLPU8ody50ZW1wbGF0ZVVybCk/dy50ZW1wbGF0ZVVybChiLApjKTp3LnRlbXBsYXRlVXJsO2IuZW1wdHkoKTtwLmdldCh1LmdldFRydXN0ZWRSZXNvdXJjZVVybChLKSx7Y2FjaGU6bn0pLnN1Y2Nlc3MoZnVuY3Rpb24ocCl7dmFyIG4sdTtwPVoocCk7aWYody5yZXBsYWNlKXtwPUdiLnRlc3QocCk/eChhYShwKSk6W107bj1wWzBdO2lmKDEhPXAubGVuZ3RofHwxIT09bi5ub2RlVHlwZSl0aHJvdyBpYSgidHBscnQiLHcubmFtZSxLKTtwPXskYXR0cjp7fX07bmIoZCxiLG4pO3ZhciB6PWNhKG4sW10scCk7VSh3LnNjb3BlKSYmc2Moeik7YT16LmNvbmNhdChhKTtCKGMscCl9ZWxzZSBuPXQsYi5odG1sKHApO2EudW5zaGlmdChKKTtsPUgoYSxuLGMsZSxiLHcsZyxmLG0pO3EoZCxmdW5jdGlvbihhLGMpe2E9PW4mJihkW2NdPWJbMF0pfSk7Zm9yKHI9TihiWzBdLmNoaWxkTm9kZXMsZSk7aC5sZW5ndGg7KXtwPWguc2hpZnQoKTt1PWguc2hpZnQoKTt2YXIgUT1oLnNoaWZ0KCksRz1oLnNoaWZ0KCksej1iWzBdO2lmKHUhPT10KXt2YXIgQz11LmNsYXNzTmFtZTsKbS5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSYmdy5yZXBsYWNlfHwoej1JYihuKSk7bmIoUSx4KHUpLHopO2hhKHgoeiksQyl9dT1sLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50P00ocCxsLnRyYW5zY2x1ZGUsRyk6RztsKHIscCx6LGQsdSl9aD1udWxsfSkuZXJyb3IoZnVuY3Rpb24oYSxiLGMsZCl7dGhyb3cgaWEoInRwbG9hZCIsZC51cmwpO30pO3JldHVybiBmdW5jdGlvbihhLGIsYyxkLGUpe2E9ZTtoPyhoLnB1c2goYiksaC5wdXNoKGMpLGgucHVzaChkKSxoLnB1c2goYSkpOihsLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50JiYoYT1NKGIsbC50cmFuc2NsdWRlLGUpKSxsKHIsYixjLGQsYSkpfX1mdW5jdGlvbiBEKGEsYil7dmFyIGM9Yi5wcmlvcml0eS1hLnByaW9yaXR5O3JldHVybiAwIT09Yz9jOmEubmFtZSE9PWIubmFtZT9hLm5hbWU8Yi5uYW1lPy0xOjE6YS5pbmRleC1iLmluZGV4fWZ1bmN0aW9uIEkoYSxiLGMsZCl7aWYoYil0aHJvdyBpYSgibXVsdGlkaXIiLGIubmFtZSwKYy5uYW1lLGEsZ2EoZCkpO31mdW5jdGlvbiB2KGEsYyl7dmFyIGQ9YihjLCEwKTtkJiZhLnB1c2goe3ByaW9yaXR5OjAsY29tcGlsZTpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudCgpLmxlbmd0aDtiJiZoYShhLnBhcmVudCgpLCJuZy1iaW5kaW5nIik7cmV0dXJuIGZ1bmN0aW9uKGEsYyl7dmFyIGU9Yy5wYXJlbnQoKSxnPWUuZGF0YSgiJGJpbmRpbmciKXx8W107Zy5wdXNoKGQpO2UuZGF0YSgiJGJpbmRpbmciLGcpO2J8fGhhKGUsIm5nLWJpbmRpbmciKTthLiR3YXRjaChkLGZ1bmN0aW9uKGEpe2NbMF0ubm9kZVZhbHVlPWF9KX19fSl9ZnVuY3Rpb24gVChhLGIpe2lmKCJzcmNkb2MiPT1iKXJldHVybiB1LkhUTUw7dmFyIGM9TGEoYSk7aWYoInhsaW5rSHJlZiI9PWJ8fCJGT1JNIj09YyYmImFjdGlvbiI9PWJ8fCJJTUciIT1jJiYoInNyYyI9PWJ8fCJuZ1NyYyI9PWIpKXJldHVybiB1LlJFU09VUkNFX1VSTH1mdW5jdGlvbiBTKGEsYyxkLGUpe3ZhciBnPWIoZCwhMCk7aWYoZyl7aWYoIm11bHRpcGxlIj09PQplJiYiU0VMRUNUIj09PUxhKGEpKXRocm93IGlhKCJzZWxtdWx0aSIsZ2EoYSkpO2MucHVzaCh7cHJpb3JpdHk6MTAwLGNvbXBpbGU6ZnVuY3Rpb24oKXtyZXR1cm57cHJlOmZ1bmN0aW9uKGMsZCxtKXtkPW0uJCRvYnNlcnZlcnN8fChtLiQkb2JzZXJ2ZXJzPXt9KTtpZihmLnRlc3QoZSkpdGhyb3cgaWEoIm5vZG9tZXZlbnRzIik7aWYoZz1iKG1bZV0sITAsVChhLGUpKSltW2VdPWcoYyksKGRbZV18fChkW2VdPVtdKSkuJCRpbnRlcj0hMCwobS4kJG9ic2VydmVycyYmbS4kJG9ic2VydmVyc1tlXS4kJHNjb3BlfHxjKS4kd2F0Y2goZyxmdW5jdGlvbihhLGIpeyJjbGFzcyI9PT1lJiZhIT1iP20uJHVwZGF0ZUNsYXNzKGEsYik6bS4kc2V0KGUsYSl9KX19fX0pfX1mdW5jdGlvbiBuYihhLGIsYyl7dmFyIGQ9YlswXSxlPWIubGVuZ3RoLGc9ZC5wYXJlbnROb2RlLGYsbTtpZihhKWZvcihmPTAsbT1hLmxlbmd0aDtmPG07ZisrKWlmKGFbZl09PWQpe2FbZisrXT1jO209ZitlLTE7Zm9yKHZhciBoPQphLmxlbmd0aDtmPGg7ZisrLG0rKyltPGg/YVtmXT1hW21dOmRlbGV0ZSBhW2ZdO2EubGVuZ3RoLT1lLTE7YnJlYWt9ZyYmZy5yZXBsYWNlQ2hpbGQoYyxkKTthPVYuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2EuYXBwZW5kQ2hpbGQoZCk7Y1t4LmV4cGFuZG9dPWRbeC5leHBhbmRvXTtkPTE7Zm9yKGU9Yi5sZW5ndGg7ZDxlO2QrKylnPWJbZF0seChnKS5yZW1vdmUoKSxhLmFwcGVuZENoaWxkKGcpLGRlbGV0ZSBiW2RdO2JbMF09YztiLmxlbmd0aD0xfWZ1bmN0aW9uIHRjKGEsYil7cmV0dXJuIEUoZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGEsYil9dmFyIEtiPWZ1bmN0aW9uKGEsYil7dGhpcy4kJGVsZW1lbnQ9YTt0aGlzLiRhdHRyPWJ8fHt9fTtLYi5wcm90b3R5cGU9eyRub3JtYWxpemU6bmEsJGFkZENsYXNzOmZ1bmN0aW9uKGEpe2EmJjA8YS5sZW5ndGgmJksuYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsYSl9LCRyZW1vdmVDbGFzczpmdW5jdGlvbihhKXthJiYKMDxhLmxlbmd0aCYmSy5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCxhKX0sJHVwZGF0ZUNsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dWMoYSxiKSxkPXVjKGIsYSk7MD09PWMubGVuZ3RoP0sucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsZCk6MD09PWQubGVuZ3RoP0suYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsYyk6Sy5zZXRDbGFzcyh0aGlzLiQkZWxlbWVudCxjLGQpfSwkc2V0OmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXBjKHRoaXMuJCRlbGVtZW50WzBdLGEpO2UmJih0aGlzLiQkZWxlbWVudC5wcm9wKGEsYiksZD1lKTt0aGlzW2FdPWI7ZD90aGlzLiRhdHRyW2FdPWQ6KGQ9dGhpcy4kYXR0clthXSl8fCh0aGlzLiRhdHRyW2FdPWQ9aGIoYSwiLSIpKTtlPUxhKHRoaXMuJCRlbGVtZW50KTtpZigiQSI9PT1lJiYiaHJlZiI9PT1hfHwiSU1HIj09PWUmJiJzcmMiPT09YSl0aGlzW2FdPWI9UShiLCJzcmMiPT09YSk7ITEhPT1jJiYobnVsbD09PWJ8fGI9PT1zP3RoaXMuJCRlbGVtZW50LnJlbW92ZUF0dHIoZCk6CnRoaXMuJCRlbGVtZW50LmF0dHIoZCxiKSk7KGM9dGhpcy4kJG9ic2VydmVycykmJnEoY1thXSxmdW5jdGlvbihhKXt0cnl7YShiKX1jYXRjaChjKXtsKGMpfX0pfSwkb2JzZXJ2ZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1jLiQkb2JzZXJ2ZXJzfHwoYy4kJG9ic2VydmVycz17fSksZT1kW2FdfHwoZFthXT1bXSk7ZS5wdXNoKGIpO0ouJGV2YWxBc3luYyhmdW5jdGlvbigpe2UuJCRpbnRlcnx8YihjW2FdKX0pO3JldHVybiBifX07dmFyIERhPWIuc3RhcnRTeW1ib2woKSxwYT1iLmVuZFN5bWJvbCgpLFo9Int7Ij09RGF8fCJ9fSI9PXBhP0ZhOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL1x7XHsvZyxEYSkucmVwbGFjZSgvfX0vZyxwYSl9LFc9L15uZ0F0dHJbQS1aXS87cmV0dXJuIHp9XX1mdW5jdGlvbiBuYShiKXtyZXR1cm4gV2EoYi5yZXBsYWNlKHZlLCIiKSl9ZnVuY3Rpb24gdWMoYixhKXt2YXIgYz0iIixkPWIuc3BsaXQoL1xzKy8pLGU9YS5zcGxpdCgvXHMrLyksCmc9MDthOmZvcig7ZzxkLmxlbmd0aDtnKyspe2Zvcih2YXIgZj1kW2ddLGs9MDtrPGUubGVuZ3RoO2srKylpZihmPT1lW2tdKWNvbnRpbnVlIGE7Yys9KDA8Yy5sZW5ndGg/IiAiOiIiKStmfXJldHVybiBjfWZ1bmN0aW9uIFBkKCl7dmFyIGI9e30sYT0vXihcUyspKFxzK2FzXHMrKFx3KykpPyQvO3RoaXMucmVnaXN0ZXI9ZnVuY3Rpb24oYSxkKXtCYShhLCJjb250cm9sbGVyIik7VShhKT9FKGIsYSk6YlthXT1kfTt0aGlzLiRnZXQ9WyIkaW5qZWN0b3IiLCIkd2luZG93IixmdW5jdGlvbihjLGQpe3JldHVybiBmdW5jdGlvbihlLGcpe3ZhciBmLGssbTt5KGUpJiYoZj1lLm1hdGNoKGEpLGs9ZlsxXSxtPWZbM10sZT1iLmhhc093blByb3BlcnR5KGspP2Jba106ZWMoZy4kc2NvcGUsaywhMCl8fGVjKGQsaywhMCksVWEoZSxrLCEwKSk7Zj1jLmluc3RhbnRpYXRlKGUsZyk7aWYobSl7aWYoIWd8fCJvYmplY3QiIT09dHlwZW9mIGcuJHNjb3BlKXRocm93IHYoIiRjb250cm9sbGVyIikoIm5vc2NwIiwKa3x8ZS5uYW1lLG0pO2cuJHNjb3BlW21dPWZ9cmV0dXJuIGZ9fV19ZnVuY3Rpb24gUWQoKXt0aGlzLiRnZXQ9WyIkd2luZG93IixmdW5jdGlvbihiKXtyZXR1cm4geChiLmRvY3VtZW50KX1dfWZ1bmN0aW9uIFJkKCl7dGhpcy4kZ2V0PVsiJGxvZyIsZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGEsYyl7Yi5lcnJvci5hcHBseShiLGFyZ3VtZW50cyl9fV19ZnVuY3Rpb24gdmMoYil7dmFyIGE9e30sYyxkLGU7aWYoIWIpcmV0dXJuIGE7cShiLnNwbGl0KCJcbiIpLGZ1bmN0aW9uKGIpe2U9Yi5pbmRleE9mKCI6Iik7Yz1JKGFhKGIuc3Vic3RyKDAsZSkpKTtkPWFhKGIuc3Vic3RyKGUrMSkpO2MmJihhW2NdPWFbY10/YVtjXSsoIiwgIitkKTpkKX0pO3JldHVybiBhfWZ1bmN0aW9uIHdjKGIpe3ZhciBhPVUoYik/YjpzO3JldHVybiBmdW5jdGlvbihjKXthfHwoYT12YyhiKSk7cmV0dXJuIGM/YVtJKGMpXXx8bnVsbDphfX1mdW5jdGlvbiB4YyhiLGEsYyl7aWYoTyhjKSlyZXR1cm4gYyhiLAphKTtxKGMsZnVuY3Rpb24oYyl7Yj1jKGIsYSl9KTtyZXR1cm4gYn1mdW5jdGlvbiBVZCgpe3ZhciBiPS9eXHMqKFxbfFx7W15ce10pLyxhPS9bXH1cXV1ccyokLyxjPS9eXClcXVx9Jyw/XG4vLGQ9eyJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgifSxlPXRoaXMuZGVmYXVsdHM9e3RyYW5zZm9ybVJlc3BvbnNlOltmdW5jdGlvbihkKXt5KGQpJiYoZD1kLnJlcGxhY2UoYywiIiksYi50ZXN0KGQpJiZhLnRlc3QoZCkmJihkPSRiKGQpKSk7cmV0dXJuIGR9XSx0cmFuc2Zvcm1SZXF1ZXN0OltmdW5jdGlvbihhKXtyZXR1cm4gVShhKSYmIltvYmplY3QgRmlsZV0iIT09eGEuY2FsbChhKSYmIltvYmplY3QgQmxvYl0iIT09eGEuY2FsbChhKT9zYShhKTphfV0saGVhZGVyczp7Y29tbW9uOntBY2NlcHQ6ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKiJ9LHBvc3Q6bGEoZCkscHV0OmxhKGQpLHBhdGNoOmxhKGQpfSx4c3JmQ29va2llTmFtZToiWFNSRi1UT0tFTiIsCnhzcmZIZWFkZXJOYW1lOiJYLVhTUkYtVE9LRU4ifSxnPXRoaXMuaW50ZXJjZXB0b3JzPVtdLGY9dGhpcy5yZXNwb25zZUludGVyY2VwdG9ycz1bXTt0aGlzLiRnZXQ9WyIkaHR0cEJhY2tlbmQiLCIkYnJvd3NlciIsIiRjYWNoZUZhY3RvcnkiLCIkcm9vdFNjb3BlIiwiJHEiLCIkaW5qZWN0b3IiLGZ1bmN0aW9uKGEsYixjLGQscCxuKXtmdW5jdGlvbiByKGEpe2Z1bmN0aW9uIGIoYSl7dmFyIGQ9RSh7fSxhLHtkYXRhOnhjKGEuZGF0YSxhLmhlYWRlcnMsYy50cmFuc2Zvcm1SZXNwb25zZSl9KTtyZXR1cm4gMjAwPD1hLnN0YXR1cyYmMzAwPmEuc3RhdHVzP2Q6cC5yZWplY3QoZCl9dmFyIGM9e21ldGhvZDoiZ2V0Iix0cmFuc2Zvcm1SZXF1ZXN0OmUudHJhbnNmb3JtUmVxdWVzdCx0cmFuc2Zvcm1SZXNwb25zZTplLnRyYW5zZm9ybVJlc3BvbnNlfSxkPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7dmFyIGM7cShhLGZ1bmN0aW9uKGIsZCl7TyhiKSYmKGM9YigpLG51bGwhPWM/YVtkXT0KYzpkZWxldGUgYVtkXSl9KX12YXIgYz1lLmhlYWRlcnMsZD1FKHt9LGEuaGVhZGVycyksZyxmLGM9RSh7fSxjLmNvbW1vbixjW0koYS5tZXRob2QpXSk7YihjKTtiKGQpO2E6Zm9yKGcgaW4gYyl7YT1JKGcpO2ZvcihmIGluIGQpaWYoSShmKT09PWEpY29udGludWUgYTtkW2ddPWNbZ119cmV0dXJuIGR9KGEpO0UoYyxhKTtjLmhlYWRlcnM9ZDtjLm1ldGhvZD1IYShjLm1ldGhvZCk7dmFyIGc9W2Z1bmN0aW9uKGEpe2Q9YS5oZWFkZXJzO3ZhciBjPXhjKGEuZGF0YSx3YyhkKSxhLnRyYW5zZm9ybVJlcXVlc3QpO0QoYS5kYXRhKSYmcShkLGZ1bmN0aW9uKGEsYil7ImNvbnRlbnQtdHlwZSI9PT1JKGIpJiZkZWxldGUgZFtiXX0pO0QoYS53aXRoQ3JlZGVudGlhbHMpJiYhRChlLndpdGhDcmVkZW50aWFscykmJihhLndpdGhDcmVkZW50aWFscz1lLndpdGhDcmVkZW50aWFscyk7cmV0dXJuIHQoYSxjLGQpLnRoZW4oYixiKX0sc10sZj1wLndoZW4oYyk7Zm9yKHEodSxmdW5jdGlvbihhKXsoYS5yZXF1ZXN0fHwKYS5yZXF1ZXN0RXJyb3IpJiZnLnVuc2hpZnQoYS5yZXF1ZXN0LGEucmVxdWVzdEVycm9yKTsoYS5yZXNwb25zZXx8YS5yZXNwb25zZUVycm9yKSYmZy5wdXNoKGEucmVzcG9uc2UsYS5yZXNwb25zZUVycm9yKX0pO2cubGVuZ3RoOyl7YT1nLnNoaWZ0KCk7dmFyIG09Zy5zaGlmdCgpLGY9Zi50aGVuKGEsbSl9Zi5zdWNjZXNzPWZ1bmN0aW9uKGEpe2YudGhlbihmdW5jdGlvbihiKXthKGIuZGF0YSxiLnN0YXR1cyxiLmhlYWRlcnMsYyl9KTtyZXR1cm4gZn07Zi5lcnJvcj1mdW5jdGlvbihhKXtmLnRoZW4obnVsbCxmdW5jdGlvbihiKXthKGIuZGF0YSxiLnN0YXR1cyxiLmhlYWRlcnMsYyl9KTtyZXR1cm4gZn07cmV0dXJuIGZ9ZnVuY3Rpb24gdChjLGcsZil7ZnVuY3Rpb24gaChhLGIsYyxlKXtHJiYoMjAwPD1hJiYzMDA+YT9HLnB1dCh4LFthLGIsdmMoYyksZV0pOkcucmVtb3ZlKHgpKTtuKGIsYSxjLGUpO2QuJCRwaGFzZXx8ZC4kYXBwbHkoKX1mdW5jdGlvbiBuKGEsYixkLGUpe2I9Ck1hdGgubWF4KGIsMCk7KDIwMDw9YiYmMzAwPmI/dS5yZXNvbHZlOnUucmVqZWN0KSh7ZGF0YTphLHN0YXR1czpiLGhlYWRlcnM6d2MoZCksY29uZmlnOmMsc3RhdHVzVGV4dDplfSl9ZnVuY3Rpb24gdCgpe3ZhciBhPVBhKHIucGVuZGluZ1JlcXVlc3RzLGMpOy0xIT09YSYmci5wZW5kaW5nUmVxdWVzdHMuc3BsaWNlKGEsMSl9dmFyIHU9cC5kZWZlcigpLHE9dS5wcm9taXNlLEcsSCx4PUooYy51cmwsYy5wYXJhbXMpO3IucGVuZGluZ1JlcXVlc3RzLnB1c2goYyk7cS50aGVuKHQsdCk7KGMuY2FjaGV8fGUuY2FjaGUpJiYoITEhPT1jLmNhY2hlJiYiR0VUIj09Yy5tZXRob2QpJiYoRz1VKGMuY2FjaGUpP2MuY2FjaGU6VShlLmNhY2hlKT9lLmNhY2hlOncpO2lmKEcpaWYoSD1HLmdldCh4KSxCKEgpKXtpZihILnRoZW4pcmV0dXJuIEgudGhlbih0LHQpLEg7TChIKT9uKEhbMV0sSFswXSxsYShIWzJdKSxIWzNdKTpuKEgsMjAwLHt9LCJPSyIpfWVsc2UgRy5wdXQoeCxxKTtEKEgpJiYoKEg9CkxiKGMudXJsKT9iLmNvb2tpZXMoKVtjLnhzcmZDb29raWVOYW1lfHxlLnhzcmZDb29raWVOYW1lXTpzKSYmKGZbYy54c3JmSGVhZGVyTmFtZXx8ZS54c3JmSGVhZGVyTmFtZV09SCksYShjLm1ldGhvZCx4LGcsaCxmLGMudGltZW91dCxjLndpdGhDcmVkZW50aWFscyxjLnJlc3BvbnNlVHlwZSkpO3JldHVybiBxfWZ1bmN0aW9uIEooYSxiKXtpZighYilyZXR1cm4gYTt2YXIgYz1bXTtUYyhiLGZ1bmN0aW9uKGEsYil7bnVsbD09PWF8fEQoYSl8fChMKGEpfHwoYT1bYV0pLHEoYSxmdW5jdGlvbihhKXtVKGEpJiYoYT1zYShhKSk7Yy5wdXNoKEFhKGIpKyI9IitBYShhKSl9KSl9KTswPGMubGVuZ3RoJiYoYSs9KC0xPT1hLmluZGV4T2YoIj8iKT8iPyI6IiYiKStjLmpvaW4oIiYiKSk7cmV0dXJuIGF9dmFyIHc9YygiJGh0dHAiKSx1PVtdO3EoZyxmdW5jdGlvbihhKXt1LnVuc2hpZnQoeShhKT9uLmdldChhKTpuLmludm9rZShhKSl9KTtxKGYsZnVuY3Rpb24oYSxiKXt2YXIgYz15KGEpPwpuLmdldChhKTpuLmludm9rZShhKTt1LnNwbGljZShiLDAse3Jlc3BvbnNlOmZ1bmN0aW9uKGEpe3JldHVybiBjKHAud2hlbihhKSl9LHJlc3BvbnNlRXJyb3I6ZnVuY3Rpb24oYSl7cmV0dXJuIGMocC5yZWplY3QoYSkpfX0pfSk7ci5wZW5kaW5nUmVxdWVzdHM9W107KGZ1bmN0aW9uKGEpe3EoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3JbYV09ZnVuY3Rpb24oYixjKXtyZXR1cm4gcihFKGN8fHt9LHttZXRob2Q6YSx1cmw6Yn0pKX19KX0pKCJnZXQiLCJkZWxldGUiLCJoZWFkIiwianNvbnAiKTsoZnVuY3Rpb24oYSl7cShhcmd1bWVudHMsZnVuY3Rpb24oYSl7clthXT1mdW5jdGlvbihiLGMsZCl7cmV0dXJuIHIoRShkfHx7fSx7bWV0aG9kOmEsdXJsOmIsZGF0YTpjfSkpfX0pfSkoInBvc3QiLCJwdXQiKTtyLmRlZmF1bHRzPWU7cmV0dXJuIHJ9XX1mdW5jdGlvbiB3ZShiKXtpZig4Pj1QJiYoIWIubWF0Y2goL14oZ2V0fHBvc3R8aGVhZHxwdXR8ZGVsZXRlfG9wdGlvbnMpJC9pKXx8IVQuWE1MSHR0cFJlcXVlc3QpKXJldHVybiBuZXcgVC5BY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MSFRUUCIpOwppZihULlhNTEh0dHBSZXF1ZXN0KXJldHVybiBuZXcgVC5YTUxIdHRwUmVxdWVzdDt0aHJvdyB2KCIkaHR0cEJhY2tlbmQiKSgibm94aHIiKTt9ZnVuY3Rpb24gVmQoKXt0aGlzLiRnZXQ9WyIkYnJvd3NlciIsIiR3aW5kb3ciLCIkZG9jdW1lbnQiLGZ1bmN0aW9uKGIsYSxjKXtyZXR1cm4geGUoYix3ZSxiLmRlZmVyLGEuYW5ndWxhci5jYWxsYmFja3MsY1swXSl9XX1mdW5jdGlvbiB4ZShiLGEsYyxkLGUpe2Z1bmN0aW9uIGcoYSxiLGMpe3ZhciBnPWUuY3JlYXRlRWxlbWVudCgic2NyaXB0IiksZj1udWxsO2cudHlwZT0idGV4dC9qYXZhc2NyaXB0IjtnLnNyYz1hO2cuYXN5bmM9ITA7Zj1mdW5jdGlvbihhKXtYYShnLCJsb2FkIixmKTtYYShnLCJlcnJvciIsZik7ZS5ib2R5LnJlbW92ZUNoaWxkKGcpO2c9bnVsbDt2YXIgaz0tMSx0PSJ1bmtub3duIjthJiYoImxvYWQiIT09YS50eXBlfHxkW2JdLmNhbGxlZHx8KGE9e3R5cGU6ImVycm9yIn0pLHQ9YS50eXBlLGs9ImVycm9yIj09PWEudHlwZT8KNDA0OjIwMCk7YyYmYyhrLHQpfTtvYihnLCJsb2FkIixmKTtvYihnLCJlcnJvciIsZik7OD49UCYmKGcub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7eShnLnJlYWR5U3RhdGUpJiYvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KGcucmVhZHlTdGF0ZSkmJihnLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGYoe3R5cGU6ImxvYWQifSkpfSk7ZS5ib2R5LmFwcGVuZENoaWxkKGcpO3JldHVybiBmfXZhciBmPS0xO3JldHVybiBmdW5jdGlvbihlLG0saCxsLHAsbixyLHQpe2Z1bmN0aW9uIEooKXt1PWY7USYmUSgpO3omJnouYWJvcnQoKX1mdW5jdGlvbiB3KGEsZCxlLGcsZil7TiYmYy5jYW5jZWwoTik7UT16PW51bGw7MD09PWQmJihkPWU/MjAwOiJmaWxlIj09dGEobSkucHJvdG9jb2w/NDA0OjApO2EoMTIyMz09PWQ/MjA0OmQsZSxnLGZ8fCIiKTtiLiQkY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QoQSl9dmFyIHU7Yi4kJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50KCk7bT1tfHxiLnVybCgpOwppZigianNvbnAiPT1JKGUpKXt2YXIgSz0iXyIrKGQuY291bnRlcisrKS50b1N0cmluZygzNik7ZFtLXT1mdW5jdGlvbihhKXtkW0tdLmRhdGE9YTtkW0tdLmNhbGxlZD0hMH07dmFyIFE9ZyhtLnJlcGxhY2UoIkpTT05fQ0FMTEJBQ0siLCJhbmd1bGFyLmNhbGxiYWNrcy4iK0spLEssZnVuY3Rpb24oYSxiKXt3KGwsYSxkW0tdLmRhdGEsIiIsYik7ZFtLXT1BfSl9ZWxzZXt2YXIgej1hKGUpO3oub3BlbihlLG0sITApO3EocCxmdW5jdGlvbihhLGIpe0IoYSkmJnouc2V0UmVxdWVzdEhlYWRlcihiLGEpfSk7ei5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZih6JiY0PT16LnJlYWR5U3RhdGUpe3ZhciBhPW51bGwsYj1udWxsLGM9IiI7dSE9PWYmJihhPXouZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCksYj0icmVzcG9uc2UiaW4gej96LnJlc3BvbnNlOnoucmVzcG9uc2VUZXh0KTt1PT09ZiYmMTA+UHx8KGM9ei5zdGF0dXNUZXh0KTt3KGwsdXx8ei5zdGF0dXMsYixhLGMpfX07ciYmCih6LndpdGhDcmVkZW50aWFscz0hMCk7aWYodCl0cnl7ei5yZXNwb25zZVR5cGU9dH1jYXRjaChzKXtpZigianNvbiIhPT10KXRocm93IHM7fXouc2VuZChofHxudWxsKX1pZigwPG4pdmFyIE49YyhKLG4pO2Vsc2UgbiYmbi50aGVuJiZuLnRoZW4oSil9fWZ1bmN0aW9uIFNkKCl7dmFyIGI9Int7IixhPSJ9fSI7dGhpcy5zdGFydFN5bWJvbD1mdW5jdGlvbihhKXtyZXR1cm4gYT8oYj1hLHRoaXMpOmJ9O3RoaXMuZW5kU3ltYm9sPWZ1bmN0aW9uKGIpe3JldHVybiBiPyhhPWIsdGhpcyk6YX07dGhpcy4kZ2V0PVsiJHBhcnNlIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLCIkc2NlIixmdW5jdGlvbihjLGQsZSl7ZnVuY3Rpb24gZyhnLGgsbCl7Zm9yKHZhciBwLG4scj0wLHQ9W10sSj1nLmxlbmd0aCx3PSExLHU9W107cjxKOyktMSE9KHA9Zy5pbmRleE9mKGIscikpJiYtMSE9KG49Zy5pbmRleE9mKGEscCtmKSk/KHIhPXAmJnQucHVzaChnLnN1YnN0cmluZyhyLHApKSx0LnB1c2gocj1jKHc9Zy5zdWJzdHJpbmcocCsKZixuKSkpLHIuZXhwPXcscj1uK2ssdz0hMCk6KHIhPUomJnQucHVzaChnLnN1YnN0cmluZyhyKSkscj1KKTsoSj10Lmxlbmd0aCl8fCh0LnB1c2goIiIpLEo9MSk7aWYobCYmMTx0Lmxlbmd0aCl0aHJvdyB5Yygibm9jb25jYXQiLGcpO2lmKCFofHx3KXJldHVybiB1Lmxlbmd0aD1KLHI9ZnVuY3Rpb24oYSl7dHJ5e2Zvcih2YXIgYj0wLGM9SixmO2I8YztiKyspe2lmKCJmdW5jdGlvbiI9PXR5cGVvZihmPXRbYl0pKWlmKGY9ZihhKSxmPWw/ZS5nZXRUcnVzdGVkKGwsZik6ZS52YWx1ZU9mKGYpLG51bGw9PWYpZj0iIjtlbHNlIHN3aXRjaCh0eXBlb2YgZil7Y2FzZSAic3RyaW5nIjpicmVhaztjYXNlICJudW1iZXIiOmY9IiIrZjticmVhaztkZWZhdWx0OmY9c2EoZil9dVtiXT1mfXJldHVybiB1LmpvaW4oIiIpfWNhdGNoKGspe2E9eWMoImludGVyciIsZyxrLnRvU3RyaW5nKCkpLGQoYSl9fSxyLmV4cD1nLHIucGFydHM9dCxyfXZhciBmPWIubGVuZ3RoLGs9YS5sZW5ndGg7Zy5zdGFydFN5bWJvbD0KZnVuY3Rpb24oKXtyZXR1cm4gYn07Zy5lbmRTeW1ib2w9ZnVuY3Rpb24oKXtyZXR1cm4gYX07cmV0dXJuIGd9XX1mdW5jdGlvbiBUZCgpe3RoaXMuJGdldD1bIiRyb290U2NvcGUiLCIkd2luZG93IiwiJHEiLGZ1bmN0aW9uKGIsYSxjKXtmdW5jdGlvbiBkKGQsZixrLG0pe3ZhciBoPWEuc2V0SW50ZXJ2YWwsbD1hLmNsZWFySW50ZXJ2YWwscD1jLmRlZmVyKCksbj1wLnByb21pc2Uscj0wLHQ9QihtKSYmIW07az1CKGspP2s6MDtuLnRoZW4obnVsbCxudWxsLGQpO24uJCRpbnRlcnZhbElkPWgoZnVuY3Rpb24oKXtwLm5vdGlmeShyKyspOzA8ayYmcj49ayYmKHAucmVzb2x2ZShyKSxsKG4uJCRpbnRlcnZhbElkKSxkZWxldGUgZVtuLiQkaW50ZXJ2YWxJZF0pO3R8fGIuJGFwcGx5KCl9LGYpO2Vbbi4kJGludGVydmFsSWRdPXA7cmV0dXJuIG59dmFyIGU9e307ZC5jYW5jZWw9ZnVuY3Rpb24oYil7cmV0dXJuIGImJmIuJCRpbnRlcnZhbElkIGluIGU/KGVbYi4kJGludGVydmFsSWRdLnJlamVjdCgiY2FuY2VsZWQiKSwKYS5jbGVhckludGVydmFsKGIuJCRpbnRlcnZhbElkKSxkZWxldGUgZVtiLiQkaW50ZXJ2YWxJZF0sITApOiExfTtyZXR1cm4gZH1dfWZ1bmN0aW9uIGJkKCl7dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJue2lkOiJlbi11cyIsTlVNQkVSX0ZPUk1BVFM6e0RFQ0lNQUxfU0VQOiIuIixHUk9VUF9TRVA6IiwiLFBBVFRFUk5TOlt7bWluSW50OjEsbWluRnJhYzowLG1heEZyYWM6Myxwb3NQcmU6IiIscG9zU3VmOiIiLG5lZ1ByZToiLSIsbmVnU3VmOiIiLGdTaXplOjMsbGdTaXplOjN9LHttaW5JbnQ6MSxtaW5GcmFjOjIsbWF4RnJhYzoyLHBvc1ByZToiXHUwMGE0Iixwb3NTdWY6IiIsbmVnUHJlOiIoXHUwMGE0IixuZWdTdWY6IikiLGdTaXplOjMsbGdTaXplOjN9XSxDVVJSRU5DWV9TWU06IiQifSxEQVRFVElNRV9GT1JNQVRTOntNT05USDoiSmFudWFyeSBGZWJydWFyeSBNYXJjaCBBcHJpbCBNYXkgSnVuZSBKdWx5IEF1Z3VzdCBTZXB0ZW1iZXIgT2N0b2JlciBOb3ZlbWJlciBEZWNlbWJlciIuc3BsaXQoIiAiKSwKU0hPUlRNT05USDoiSmFuIEZlYiBNYXIgQXByIE1heSBKdW4gSnVsIEF1ZyBTZXAgT2N0IE5vdiBEZWMiLnNwbGl0KCIgIiksREFZOiJTdW5kYXkgTW9uZGF5IFR1ZXNkYXkgV2VkbmVzZGF5IFRodXJzZGF5IEZyaWRheSBTYXR1cmRheSIuc3BsaXQoIiAiKSxTSE9SVERBWToiU3VuIE1vbiBUdWUgV2VkIFRodSBGcmkgU2F0Ii5zcGxpdCgiICIpLEFNUE1TOlsiQU0iLCJQTSJdLG1lZGl1bToiTU1NIGQsIHkgaDptbTpzcyBhIiwic2hvcnQiOiJNL2QveXkgaDptbSBhIixmdWxsRGF0ZToiRUVFRSwgTU1NTSBkLCB5Iixsb25nRGF0ZToiTU1NTSBkLCB5IixtZWRpdW1EYXRlOiJNTU0gZCwgeSIsc2hvcnREYXRlOiJNL2QveXkiLG1lZGl1bVRpbWU6Img6bW06c3MgYSIsc2hvcnRUaW1lOiJoOm1tIGEifSxwbHVyYWxDYXQ6ZnVuY3Rpb24oYil7cmV0dXJuIDE9PT1iPyJvbmUiOiJvdGhlciJ9fX19ZnVuY3Rpb24gTWIoYil7Yj1iLnNwbGl0KCIvIik7Zm9yKHZhciBhPWIubGVuZ3RoO2EtLTspYlthXT0KZ2IoYlthXSk7cmV0dXJuIGIuam9pbigiLyIpfWZ1bmN0aW9uIHpjKGIsYSxjKXtiPXRhKGIsYyk7YS4kJHByb3RvY29sPWIucHJvdG9jb2w7YS4kJGhvc3Q9Yi5ob3N0bmFtZTthLiQkcG9ydD1aKGIucG9ydCl8fHllW2IucHJvdG9jb2xdfHxudWxsfWZ1bmN0aW9uIEFjKGIsYSxjKXt2YXIgZD0iLyIhPT1iLmNoYXJBdCgwKTtkJiYoYj0iLyIrYik7Yj10YShiLGMpO2EuJCRwYXRoPWRlY29kZVVSSUNvbXBvbmVudChkJiYiLyI9PT1iLnBhdGhuYW1lLmNoYXJBdCgwKT9iLnBhdGhuYW1lLnN1YnN0cmluZygxKTpiLnBhdGhuYW1lKTthLiQkc2VhcmNoPWJjKGIuc2VhcmNoKTthLiQkaGFzaD1kZWNvZGVVUklDb21wb25lbnQoYi5oYXNoKTthLiQkcGF0aCYmIi8iIT1hLiQkcGF0aC5jaGFyQXQoMCkmJihhLiQkcGF0aD0iLyIrYS4kJHBhdGgpfWZ1bmN0aW9uIHFhKGIsYSl7aWYoMD09PWEuaW5kZXhPZihiKSlyZXR1cm4gYS5zdWJzdHIoYi5sZW5ndGgpfWZ1bmN0aW9uIGFiKGIpe3ZhciBhPQpiLmluZGV4T2YoIiMiKTtyZXR1cm4tMT09YT9iOmIuc3Vic3RyKDAsYSl9ZnVuY3Rpb24gTmIoYil7cmV0dXJuIGIuc3Vic3RyKDAsYWIoYikubGFzdEluZGV4T2YoIi8iKSsxKX1mdW5jdGlvbiBCYyhiLGEpe3RoaXMuJCRodG1sNT0hMDthPWF8fCIiO3ZhciBjPU5iKGIpO3pjKGIsdGhpcyxiKTt0aGlzLiQkcGFyc2U9ZnVuY3Rpb24oYSl7dmFyIGU9cWEoYyxhKTtpZigheShlKSl0aHJvdyBPYigiaXB0aHByZngiLGEsYyk7QWMoZSx0aGlzLGIpO3RoaXMuJCRwYXRofHwodGhpcy4kJHBhdGg9Ii8iKTt0aGlzLiQkY29tcG9zZSgpfTt0aGlzLiQkY29tcG9zZT1mdW5jdGlvbigpe3ZhciBhPUFiKHRoaXMuJCRzZWFyY2gpLGI9dGhpcy4kJGhhc2g/IiMiK2diKHRoaXMuJCRoYXNoKToiIjt0aGlzLiQkdXJsPU1iKHRoaXMuJCRwYXRoKSsoYT8iPyIrYToiIikrYjt0aGlzLiQkYWJzVXJsPWMrdGhpcy4kJHVybC5zdWJzdHIoMSl9O3RoaXMuJCRyZXdyaXRlPWZ1bmN0aW9uKGQpe3ZhciBlOwppZigoZT1xYShiLGQpKSE9PXMpcmV0dXJuIGQ9ZSwoZT1xYShhLGUpKSE9PXM/YysocWEoIi8iLGUpfHxlKTpiK2Q7aWYoKGU9cWEoYyxkKSkhPT1zKXJldHVybiBjK2U7aWYoYz09ZCsiLyIpcmV0dXJuIGN9fWZ1bmN0aW9uIFBiKGIsYSl7dmFyIGM9TmIoYik7emMoYix0aGlzLGIpO3RoaXMuJCRwYXJzZT1mdW5jdGlvbihkKXt2YXIgZT1xYShiLGQpfHxxYShjLGQpLGU9IiMiPT1lLmNoYXJBdCgwKT9xYShhLGUpOnRoaXMuJCRodG1sNT9lOiIiO2lmKCF5KGUpKXRocm93IE9iKCJpaHNocHJmeCIsZCxhKTtBYyhlLHRoaXMsYik7ZD10aGlzLiQkcGF0aDt2YXIgZz0vXlwvW0EtWl06KFwvLiopLzswPT09ZS5pbmRleE9mKGIpJiYoZT1lLnJlcGxhY2UoYiwiIikpO2cuZXhlYyhlKXx8KGQ9KGU9Zy5leGVjKGQpKT9lWzFdOmQpO3RoaXMuJCRwYXRoPWQ7dGhpcy4kJGNvbXBvc2UoKX07dGhpcy4kJGNvbXBvc2U9ZnVuY3Rpb24oKXt2YXIgYz1BYih0aGlzLiQkc2VhcmNoKSxlPXRoaXMuJCRoYXNoPwoiIyIrZ2IodGhpcy4kJGhhc2gpOiIiO3RoaXMuJCR1cmw9TWIodGhpcy4kJHBhdGgpKyhjPyI/IitjOiIiKStlO3RoaXMuJCRhYnNVcmw9YisodGhpcy4kJHVybD9hK3RoaXMuJCR1cmw6IiIpfTt0aGlzLiQkcmV3cml0ZT1mdW5jdGlvbihhKXtpZihhYihiKT09YWIoYSkpcmV0dXJuIGF9fWZ1bmN0aW9uIFFiKGIsYSl7dGhpcy4kJGh0bWw1PSEwO1BiLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgYz1OYihiKTt0aGlzLiQkcmV3cml0ZT1mdW5jdGlvbihkKXt2YXIgZTtpZihiPT1hYihkKSlyZXR1cm4gZDtpZihlPXFhKGMsZCkpcmV0dXJuIGIrYStlO2lmKGM9PT1kKyIvIilyZXR1cm4gY307dGhpcy4kJGNvbXBvc2U9ZnVuY3Rpb24oKXt2YXIgYz1BYih0aGlzLiQkc2VhcmNoKSxlPXRoaXMuJCRoYXNoPyIjIitnYih0aGlzLiQkaGFzaCk6IiI7dGhpcy4kJHVybD1NYih0aGlzLiQkcGF0aCkrKGM/Ij8iK2M6IiIpK2U7dGhpcy4kJGFic1VybD1iK2ErdGhpcy4kJHVybH19ZnVuY3Rpb24gcGIoYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbYl19fQpmdW5jdGlvbiBDYyhiLGEpe3JldHVybiBmdW5jdGlvbihjKXtpZihEKGMpKXJldHVybiB0aGlzW2JdO3RoaXNbYl09YShjKTt0aGlzLiQkY29tcG9zZSgpO3JldHVybiB0aGlzfX1mdW5jdGlvbiBXZCgpe3ZhciBiPSIiLGE9ITE7dGhpcy5oYXNoUHJlZml4PWZ1bmN0aW9uKGEpe3JldHVybiBCKGEpPyhiPWEsdGhpcyk6Yn07dGhpcy5odG1sNU1vZGU9ZnVuY3Rpb24oYil7cmV0dXJuIEIoYik/KGE9Yix0aGlzKTphfTt0aGlzLiRnZXQ9WyIkcm9vdFNjb3BlIiwiJGJyb3dzZXIiLCIkc25pZmZlciIsIiRyb290RWxlbWVudCIsZnVuY3Rpb24oYyxkLGUsZyl7ZnVuY3Rpb24gZihhKXtjLiRicm9hZGNhc3QoIiRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MiLGsuYWJzVXJsKCksYSl9dmFyIGssbSxoPWQuYmFzZUhyZWYoKSxsPWQudXJsKCkscDthPyhwPWwuc3Vic3RyaW5nKDAsbC5pbmRleE9mKCIvIixsLmluZGV4T2YoIi8vIikrMikpKyhofHwiLyIpLG09ZS5oaXN0b3J5P0JjOlFiKToocD0KYWIobCksbT1QYik7az1uZXcgbShwLCIjIitiKTtrLiQkcGFyc2Uoay4kJHJld3JpdGUobCkpO2cub24oImNsaWNrIixmdW5jdGlvbihhKXtpZighYS5jdHJsS2V5JiYhYS5tZXRhS2V5JiYyIT1hLndoaWNoKXtmb3IodmFyIGU9eChhLnRhcmdldCk7ImEiIT09SShlWzBdLm5vZGVOYW1lKTspaWYoZVswXT09PWdbMF18fCEoZT1lLnBhcmVudCgpKVswXSlyZXR1cm47dmFyIGY9ZS5wcm9wKCJocmVmIik7VShmKSYmIltvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddIj09PWYudG9TdHJpbmcoKSYmKGY9dGEoZi5hbmltVmFsKS5ocmVmKTtpZihtPT09UWIpe3ZhciBoPWUuYXR0cigiaHJlZiIpfHxlLmF0dHIoInhsaW5rOmhyZWYiKTtpZigwPmguaW5kZXhPZigiOi8vIikpaWYoZj0iIyIrYiwiLyI9PWhbMF0pZj1wK2YraDtlbHNlIGlmKCIjIj09aFswXSlmPXArZisoay5wYXRoKCl8fCIvIikraDtlbHNle2Zvcih2YXIgbD1rLnBhdGgoKS5zcGxpdCgiLyIpLGg9aC5zcGxpdCgiLyIpLG49CjA7bjxoLmxlbmd0aDtuKyspIi4iIT1oW25dJiYoIi4uIj09aFtuXT9sLnBvcCgpOmhbbl0ubGVuZ3RoJiZsLnB1c2goaFtuXSkpO2Y9cCtmK2wuam9pbigiLyIpfX1sPWsuJCRyZXdyaXRlKGYpO2YmJighZS5hdHRyKCJ0YXJnZXQiKSYmbCYmIWEuaXNEZWZhdWx0UHJldmVudGVkKCkpJiYoYS5wcmV2ZW50RGVmYXVsdCgpLGwhPWQudXJsKCkmJihrLiQkcGFyc2UobCksYy4kYXBwbHkoKSxULmFuZ3VsYXJbImZmLTY4NDIwOC1wcmV2ZW50RGVmYXVsdCJdPSEwKSl9fSk7ay5hYnNVcmwoKSE9bCYmZC51cmwoay5hYnNVcmwoKSwhMCk7ZC5vblVybENoYW5nZShmdW5jdGlvbihhKXtrLmFic1VybCgpIT1hJiYoYy4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7dmFyIGI9ay5hYnNVcmwoKTtrLiQkcGFyc2UoYSk7Yy4kYnJvYWRjYXN0KCIkbG9jYXRpb25DaGFuZ2VTdGFydCIsYSxiKS5kZWZhdWx0UHJldmVudGVkPyhrLiQkcGFyc2UoYiksZC51cmwoYikpOmYoYil9KSxjLiQkcGhhc2V8fGMuJGRpZ2VzdCgpKX0pOwp2YXIgbj0wO2MuJHdhdGNoKGZ1bmN0aW9uKCl7dmFyIGE9ZC51cmwoKSxiPWsuJCRyZXBsYWNlO24mJmE9PWsuYWJzVXJsKCl8fChuKyssYy4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7Yy4kYnJvYWRjYXN0KCIkbG9jYXRpb25DaGFuZ2VTdGFydCIsay5hYnNVcmwoKSxhKS5kZWZhdWx0UHJldmVudGVkP2suJCRwYXJzZShhKTooZC51cmwoay5hYnNVcmwoKSxiKSxmKGEpKX0pKTtrLiQkcmVwbGFjZT0hMTtyZXR1cm4gbn0pO3JldHVybiBrfV19ZnVuY3Rpb24gWGQoKXt2YXIgYj0hMCxhPXRoaXM7dGhpcy5kZWJ1Z0VuYWJsZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIEIoYSk/KGI9YSx0aGlzKTpifTt0aGlzLiRnZXQ9WyIkd2luZG93IixmdW5jdGlvbihjKXtmdW5jdGlvbiBkKGEpe2EgaW5zdGFuY2VvZiBFcnJvciYmKGEuc3RhY2s/YT1hLm1lc3NhZ2UmJi0xPT09YS5zdGFjay5pbmRleE9mKGEubWVzc2FnZSk/IkVycm9yOiAiK2EubWVzc2FnZSsiXG4iK2Euc3RhY2s6YS5zdGFjazphLnNvdXJjZVVSTCYmCihhPWEubWVzc2FnZSsiXG4iK2Euc291cmNlVVJMKyI6IithLmxpbmUpKTtyZXR1cm4gYX1mdW5jdGlvbiBlKGEpe3ZhciBiPWMuY29uc29sZXx8e30sZT1iW2FdfHxiLmxvZ3x8QTthPSExO3RyeXthPSEhZS5hcHBseX1jYXRjaChtKXt9cmV0dXJuIGE/ZnVuY3Rpb24oKXt2YXIgYT1bXTtxKGFyZ3VtZW50cyxmdW5jdGlvbihiKXthLnB1c2goZChiKSl9KTtyZXR1cm4gZS5hcHBseShiLGEpfTpmdW5jdGlvbihhLGIpe2UoYSxudWxsPT1iPyIiOmIpfX1yZXR1cm57bG9nOmUoImxvZyIpLGluZm86ZSgiaW5mbyIpLHdhcm46ZSgid2FybiIpLGVycm9yOmUoImVycm9yIiksZGVidWc6ZnVuY3Rpb24oKXt2YXIgYz1lKCJkZWJ1ZyIpO3JldHVybiBmdW5jdGlvbigpe2ImJmMuYXBwbHkoYSxhcmd1bWVudHMpfX0oKX19XX1mdW5jdGlvbiBkYShiLGEpe2lmKCJfX2RlZmluZUdldHRlcl9fIj09PWJ8fCJfX2RlZmluZVNldHRlcl9fIj09PWJ8fCJfX2xvb2t1cEdldHRlcl9fIj09PWJ8fCJfX2xvb2t1cFNldHRlcl9fIj09PQpifHwiX19wcm90b19fIj09PWIpdGhyb3cgamEoImlzZWNmbGQiLGEpO3JldHVybiBifWZ1bmN0aW9uIE1hKGIsYSl7aWYoYil7aWYoYi5jb25zdHJ1Y3Rvcj09PWIpdGhyb3cgamEoImlzZWNmbiIsYSk7aWYoYi5kb2N1bWVudCYmYi5sb2NhdGlvbiYmYi5hbGVydCYmYi5zZXRJbnRlcnZhbCl0aHJvdyBqYSgiaXNlY3dpbmRvdyIsYSk7aWYoYi5jaGlsZHJlbiYmKGIubm9kZU5hbWV8fGIucHJvcCYmYi5hdHRyJiZiLmZpbmQpKXRocm93IGphKCJpc2VjZG9tIixhKTtpZihiPT09T2JqZWN0KXRocm93IGphKCJpc2Vjb2JqIixhKTt9cmV0dXJuIGJ9ZnVuY3Rpb24gcWIoYixhLGMsZCxlKXtlPWV8fHt9O2E9YS5zcGxpdCgiLiIpO2Zvcih2YXIgZyxmPTA7MTxhLmxlbmd0aDtmKyspe2c9ZGEoYS5zaGlmdCgpLGQpO3ZhciBrPWJbZ107a3x8KGs9e30sYltnXT1rKTtiPWs7Yi50aGVuJiZlLnVud3JhcFByb21pc2VzJiYodWEoZCksIiQkdiJpbiBifHxmdW5jdGlvbihhKXthLnRoZW4oZnVuY3Rpb24oYil7YS4kJHY9CmJ9KX0oYiksYi4kJHY9PT1zJiYoYi4kJHY9e30pLGI9Yi4kJHYpfWc9ZGEoYS5zaGlmdCgpLGQpO01hKGIsZCk7TWEoYltnXSxkKTtyZXR1cm4gYltnXT1jfWZ1bmN0aW9uIERjKGIsYSxjLGQsZSxnLGYpe2RhKGIsZyk7ZGEoYSxnKTtkYShjLGcpO2RhKGQsZyk7ZGEoZSxnKTtyZXR1cm4gZi51bndyYXBQcm9taXNlcz9mdW5jdGlvbihmLG0pe3ZhciBoPW0mJm0uaGFzT3duUHJvcGVydHkoYik/bTpmLGw7aWYobnVsbD09aClyZXR1cm4gaDsoaD1oW2JdKSYmaC50aGVuJiYodWEoZyksIiQkdiJpbiBofHwobD1oLGwuJCR2PXMsbC50aGVuKGZ1bmN0aW9uKGEpe2wuJCR2PWF9KSksaD1oLiQkdik7aWYoIWEpcmV0dXJuIGg7aWYobnVsbD09aClyZXR1cm4gczsoaD1oW2FdKSYmaC50aGVuJiYodWEoZyksIiQkdiJpbiBofHwobD1oLGwuJCR2PXMsbC50aGVuKGZ1bmN0aW9uKGEpe2wuJCR2PWF9KSksaD1oLiQkdik7aWYoIWMpcmV0dXJuIGg7aWYobnVsbD09aClyZXR1cm4gczsoaD1oW2NdKSYmCmgudGhlbiYmKHVhKGcpLCIkJHYiaW4gaHx8KGw9aCxsLiQkdj1zLGwudGhlbihmdW5jdGlvbihhKXtsLiQkdj1hfSkpLGg9aC4kJHYpO2lmKCFkKXJldHVybiBoO2lmKG51bGw9PWgpcmV0dXJuIHM7KGg9aFtkXSkmJmgudGhlbiYmKHVhKGcpLCIkJHYiaW4gaHx8KGw9aCxsLiQkdj1zLGwudGhlbihmdW5jdGlvbihhKXtsLiQkdj1hfSkpLGg9aC4kJHYpO2lmKCFlKXJldHVybiBoO2lmKG51bGw9PWgpcmV0dXJuIHM7KGg9aFtlXSkmJmgudGhlbiYmKHVhKGcpLCIkJHYiaW4gaHx8KGw9aCxsLiQkdj1zLGwudGhlbihmdW5jdGlvbihhKXtsLiQkdj1hfSkpLGg9aC4kJHYpO3JldHVybiBofTpmdW5jdGlvbihnLGYpe3ZhciBoPWYmJmYuaGFzT3duUHJvcGVydHkoYik/ZjpnO2lmKG51bGw9PWgpcmV0dXJuIGg7aD1oW2JdO2lmKCFhKXJldHVybiBoO2lmKG51bGw9PWgpcmV0dXJuIHM7aD1oW2FdO2lmKCFjKXJldHVybiBoO2lmKG51bGw9PWgpcmV0dXJuIHM7aD1oW2NdO2lmKCFkKXJldHVybiBoOwppZihudWxsPT1oKXJldHVybiBzO2g9aFtkXTtyZXR1cm4gZT9udWxsPT1oP3M6aD1oW2VdOmh9fWZ1bmN0aW9uIHplKGIsYSl7ZGEoYixhKTtyZXR1cm4gZnVuY3Rpb24oYSxkKXtyZXR1cm4gbnVsbD09YT9zOihkJiZkLmhhc093blByb3BlcnR5KGIpP2Q6YSlbYl19fWZ1bmN0aW9uIEFlKGIsYSxjKXtkYShiLGMpO2RhKGEsYyk7cmV0dXJuIGZ1bmN0aW9uKGMsZSl7aWYobnVsbD09YylyZXR1cm4gcztjPShlJiZlLmhhc093blByb3BlcnR5KGIpP2U6YylbYl07cmV0dXJuIG51bGw9PWM/czpjW2FdfX1mdW5jdGlvbiBFYyhiLGEsYyl7aWYoUmIuaGFzT3duUHJvcGVydHkoYikpcmV0dXJuIFJiW2JdO3ZhciBkPWIuc3BsaXQoIi4iKSxlPWQubGVuZ3RoLGc7aWYoYS51bndyYXBQcm9taXNlc3x8MSE9PWUpaWYoYS51bndyYXBQcm9taXNlc3x8MiE9PWUpaWYoYS5jc3ApZz02PmU/RGMoZFswXSxkWzFdLGRbMl0sZFszXSxkWzRdLGMsYSk6ZnVuY3Rpb24oYixnKXt2YXIgZj0wLGs7ZG8gaz0KRGMoZFtmKytdLGRbZisrXSxkW2YrK10sZFtmKytdLGRbZisrXSxjLGEpKGIsZyksZz1zLGI9azt3aGlsZShmPGUpO3JldHVybiBrfTtlbHNle3ZhciBmPSJ2YXIgcDtcbiI7cShkLGZ1bmN0aW9uKGIsZCl7ZGEoYixjKTtmKz0iaWYocyA9PSBudWxsKSByZXR1cm4gdW5kZWZpbmVkO1xucz0iKyhkPyJzIjonKChrJiZrLmhhc093blByb3BlcnR5KCInK2IrJyIpKT9rOnMpJykrJ1siJytiKyciXTtcbicrKGEudW53cmFwUHJvbWlzZXM/J2lmIChzICYmIHMudGhlbikge1xuIHB3KCInK2MucmVwbGFjZSgvKFsiXHJcbl0pL2csIlxcJDEiKSsnIik7XG4gaWYgKCEoIiQkdiIgaW4gcykpIHtcbiBwPXM7XG4gcC4kJHYgPSB1bmRlZmluZWQ7XG4gcC50aGVuKGZ1bmN0aW9uKHYpIHtwLiQkdj12O30pO1xufVxuIHM9cy4kJHZcbn1cbic6IiIpfSk7dmFyIGY9ZisicmV0dXJuIHM7IixrPW5ldyBGdW5jdGlvbigicyIsImsiLCJwdyIsZik7ay50b1N0cmluZz0kKGYpO2c9YS51bndyYXBQcm9taXNlcz8KZnVuY3Rpb24oYSxiKXtyZXR1cm4gayhhLGIsdWEpfTprfWVsc2UgZz1BZShkWzBdLGRbMV0sYyk7ZWxzZSBnPXplKGRbMF0sYyk7Imhhc093blByb3BlcnR5IiE9PWImJihSYltiXT1nKTtyZXR1cm4gZ31mdW5jdGlvbiBZZCgpe3ZhciBiPXt9LGE9e2NzcDohMSx1bndyYXBQcm9taXNlczohMSxsb2dQcm9taXNlV2FybmluZ3M6ITB9O3RoaXMudW53cmFwUHJvbWlzZXM9ZnVuY3Rpb24oYil7cmV0dXJuIEIoYik/KGEudW53cmFwUHJvbWlzZXM9ISFiLHRoaXMpOmEudW53cmFwUHJvbWlzZXN9O3RoaXMubG9nUHJvbWlzZVdhcm5pbmdzPWZ1bmN0aW9uKGIpe3JldHVybiBCKGIpPyhhLmxvZ1Byb21pc2VXYXJuaW5ncz1iLHRoaXMpOmEubG9nUHJvbWlzZVdhcm5pbmdzfTt0aGlzLiRnZXQ9WyIkZmlsdGVyIiwiJHNuaWZmZXIiLCIkbG9nIixmdW5jdGlvbihjLGQsZSl7YS5jc3A9ZC5jc3A7dWE9ZnVuY3Rpb24oYil7YS5sb2dQcm9taXNlV2FybmluZ3MmJiFGYy5oYXNPd25Qcm9wZXJ0eShiKSYmCihGY1tiXT0hMCxlLndhcm4oIlskcGFyc2VdIFByb21pc2UgZm91bmQgaW4gdGhlIGV4cHJlc3Npb24gYCIrYisiYC4gQXV0b21hdGljIHVud3JhcHBpbmcgb2YgcHJvbWlzZXMgaW4gQW5ndWxhciBleHByZXNzaW9ucyBpcyBkZXByZWNhdGVkLiIpKX07cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBlO3N3aXRjaCh0eXBlb2YgZCl7Y2FzZSAic3RyaW5nIjppZihiLmhhc093blByb3BlcnR5KGQpKXJldHVybiBiW2RdO2U9bmV3IFNiKGEpO2U9KG5ldyBiYihlLGMsYSkpLnBhcnNlKGQpOyJoYXNPd25Qcm9wZXJ0eSIhPT1kJiYoYltkXT1lKTtyZXR1cm4gZTtjYXNlICJmdW5jdGlvbiI6cmV0dXJuIGQ7ZGVmYXVsdDpyZXR1cm4gQX19fV19ZnVuY3Rpb24gJGQoKXt0aGlzLiRnZXQ9WyIkcm9vdFNjb3BlIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLGZ1bmN0aW9uKGIsYSl7cmV0dXJuIEJlKGZ1bmN0aW9uKGEpe2IuJGV2YWxBc3luYyhhKX0sYSl9XX1mdW5jdGlvbiBCZShiLGEpe2Z1bmN0aW9uIGMoYSl7cmV0dXJuIGF9CmZ1bmN0aW9uIGQoYSl7cmV0dXJuIGYoYSl9dmFyIGU9ZnVuY3Rpb24oKXt2YXIgZj1bXSxoLGw7cmV0dXJuIGw9e3Jlc29sdmU6ZnVuY3Rpb24oYSl7aWYoZil7dmFyIGM9ZjtmPXM7aD1nKGEpO2MubGVuZ3RoJiZiKGZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9MCxkPWMubGVuZ3RoO2I8ZDtiKyspYT1jW2JdLGgudGhlbihhWzBdLGFbMV0sYVsyXSl9KX19LHJlamVjdDpmdW5jdGlvbihhKXtsLnJlc29sdmUoayhhKSl9LG5vdGlmeTpmdW5jdGlvbihhKXtpZihmKXt2YXIgYz1mO2YubGVuZ3RoJiZiKGZ1bmN0aW9uKCl7Zm9yKHZhciBiLGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspYj1jW2RdLGJbMl0oYSl9KX19LHByb21pc2U6e3RoZW46ZnVuY3Rpb24oYixnLGspe3ZhciBsPWUoKSxKPWZ1bmN0aW9uKGQpe3RyeXtsLnJlc29sdmUoKE8oYik/YjpjKShkKSl9Y2F0Y2goZSl7bC5yZWplY3QoZSksYShlKX19LHc9ZnVuY3Rpb24oYil7dHJ5e2wucmVzb2x2ZSgoTyhnKT9nOmQpKGIpKX1jYXRjaChjKXtsLnJlamVjdChjKSwKYShjKX19LHU9ZnVuY3Rpb24oYil7dHJ5e2wubm90aWZ5KChPKGspP2s6YykoYikpfWNhdGNoKGQpe2EoZCl9fTtmP2YucHVzaChbSix3LHVdKTpoLnRoZW4oSix3LHUpO3JldHVybiBsLnByb21pc2V9LCJjYXRjaCI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudGhlbihudWxsLGEpfSwiZmluYWxseSI6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGMpe3ZhciBkPWUoKTtjP2QucmVzb2x2ZShhKTpkLnJlamVjdChhKTtyZXR1cm4gZC5wcm9taXNlfWZ1bmN0aW9uIGQoZSxnKXt2YXIgZj1udWxsO3RyeXtmPShhfHxjKSgpfWNhdGNoKGspe3JldHVybiBiKGssITEpfXJldHVybiBmJiZPKGYudGhlbik/Zi50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGIoZSxnKX0sZnVuY3Rpb24oYSl7cmV0dXJuIGIoYSwhMSl9KTpiKGUsZyl9cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gZChhLCEwKX0sZnVuY3Rpb24oYSl7cmV0dXJuIGQoYSwhMSl9KX19fX0sZz1mdW5jdGlvbihhKXtyZXR1cm4gYSYmCk8oYS50aGVuKT9hOnt0aGVuOmZ1bmN0aW9uKGMpe3ZhciBkPWUoKTtiKGZ1bmN0aW9uKCl7ZC5yZXNvbHZlKGMoYSkpfSk7cmV0dXJuIGQucHJvbWlzZX19fSxmPWZ1bmN0aW9uKGEpe3ZhciBiPWUoKTtiLnJlamVjdChhKTtyZXR1cm4gYi5wcm9taXNlfSxrPWZ1bmN0aW9uKGMpe3JldHVybnt0aGVuOmZ1bmN0aW9uKGcsZil7dmFyIGs9ZSgpO2IoZnVuY3Rpb24oKXt0cnl7ay5yZXNvbHZlKChPKGYpP2Y6ZCkoYykpfWNhdGNoKGIpe2sucmVqZWN0KGIpLGEoYil9fSk7cmV0dXJuIGsucHJvbWlzZX19fTtyZXR1cm57ZGVmZXI6ZSxyZWplY3Q6Zix3aGVuOmZ1bmN0aW9uKGssaCxsLHApe3ZhciBuPWUoKSxyLHQ9ZnVuY3Rpb24oYil7dHJ5e3JldHVybihPKGgpP2g6YykoYil9Y2F0Y2goZCl7cmV0dXJuIGEoZCksZihkKX19LEo9ZnVuY3Rpb24oYil7dHJ5e3JldHVybihPKGwpP2w6ZCkoYil9Y2F0Y2goYyl7cmV0dXJuIGEoYyksZihjKX19LHc9ZnVuY3Rpb24oYil7dHJ5e3JldHVybihPKHApPwpwOmMpKGIpfWNhdGNoKGQpe2EoZCl9fTtiKGZ1bmN0aW9uKCl7ZyhrKS50aGVuKGZ1bmN0aW9uKGEpe3J8fChyPSEwLG4ucmVzb2x2ZShnKGEpLnRoZW4odCxKLHcpKSl9LGZ1bmN0aW9uKGEpe3J8fChyPSEwLG4ucmVzb2x2ZShKKGEpKSl9LGZ1bmN0aW9uKGEpe3J8fG4ubm90aWZ5KHcoYSkpfSl9KTtyZXR1cm4gbi5wcm9taXNlfSxhbGw6ZnVuY3Rpb24oYSl7dmFyIGI9ZSgpLGM9MCxkPUwoYSk/W106e307cShhLGZ1bmN0aW9uKGEsZSl7YysrO2coYSkudGhlbihmdW5jdGlvbihhKXtkLmhhc093blByb3BlcnR5KGUpfHwoZFtlXT1hLC0tY3x8Yi5yZXNvbHZlKGQpKX0sZnVuY3Rpb24oYSl7ZC5oYXNPd25Qcm9wZXJ0eShlKXx8Yi5yZWplY3QoYSl9KX0pOzA9PT1jJiZiLnJlc29sdmUoZCk7cmV0dXJuIGIucHJvbWlzZX19fWZ1bmN0aW9uIGdlKCl7dGhpcy4kZ2V0PVsiJHdpbmRvdyIsIiR0aW1lb3V0IixmdW5jdGlvbihiLGEpe3ZhciBjPWIucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHwKYi53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGIubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lLGQ9Yi5jYW5jZWxBbmltYXRpb25GcmFtZXx8Yi53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZXx8Yi5tb3pDYW5jZWxBbmltYXRpb25GcmFtZXx8Yi53ZWJraXRDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUsZT0hIWMsZz1lP2Z1bmN0aW9uKGEpe3ZhciBiPWMoYSk7cmV0dXJuIGZ1bmN0aW9uKCl7ZChiKX19OmZ1bmN0aW9uKGIpe3ZhciBjPWEoYiwxNi42NiwhMSk7cmV0dXJuIGZ1bmN0aW9uKCl7YS5jYW5jZWwoYyl9fTtnLnN1cHBvcnRlZD1lO3JldHVybiBnfV19ZnVuY3Rpb24gWmQoKXt2YXIgYj0xMCxhPXYoIiRyb290U2NvcGUiKSxjPW51bGw7dGhpcy5kaWdlc3RUdGw9ZnVuY3Rpb24oYSl7YXJndW1lbnRzLmxlbmd0aCYmKGI9YSk7cmV0dXJuIGJ9O3RoaXMuJGdldD1bIiRpbmplY3RvciIsIiRleGNlcHRpb25IYW5kbGVyIiwiJHBhcnNlIiwiJGJyb3dzZXIiLGZ1bmN0aW9uKGQsCmUsZyxmKXtmdW5jdGlvbiBrKCl7dGhpcy4kaWQ9ZWIoKTt0aGlzLiQkcGhhc2U9dGhpcy4kcGFyZW50PXRoaXMuJCR3YXRjaGVycz10aGlzLiQkbmV4dFNpYmxpbmc9dGhpcy4kJHByZXZTaWJsaW5nPXRoaXMuJCRjaGlsZEhlYWQ9dGhpcy4kJGNoaWxkVGFpbD1udWxsO3RoaXNbInRoaXMiXT10aGlzLiRyb290PXRoaXM7dGhpcy4kJGRlc3Ryb3llZD0hMTt0aGlzLiQkYXN5bmNRdWV1ZT1bXTt0aGlzLiQkcG9zdERpZ2VzdFF1ZXVlPVtdO3RoaXMuJCRsaXN0ZW5lcnM9e307dGhpcy4kJGxpc3RlbmVyQ291bnQ9e307dGhpcy4kJGlzb2xhdGVCaW5kaW5ncz17fX1mdW5jdGlvbiBtKGIpe2lmKG4uJCRwaGFzZSl0aHJvdyBhKCJpbnByb2ciLG4uJCRwaGFzZSk7bi4kJHBoYXNlPWJ9ZnVuY3Rpb24gaChhLGIpe3ZhciBjPWcoYSk7VWEoYyxiKTtyZXR1cm4gY31mdW5jdGlvbiBsKGEsYixjKXtkbyBhLiQkbGlzdGVuZXJDb3VudFtjXS09YiwwPT09YS4kJGxpc3RlbmVyQ291bnRbY10mJgpkZWxldGUgYS4kJGxpc3RlbmVyQ291bnRbY107d2hpbGUoYT1hLiRwYXJlbnQpfWZ1bmN0aW9uIHAoKXt9ay5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmssJG5ldzpmdW5jdGlvbihhKXthPyhhPW5ldyBrLGEuJHJvb3Q9dGhpcy4kcm9vdCxhLiQkYXN5bmNRdWV1ZT10aGlzLiQkYXN5bmNRdWV1ZSxhLiQkcG9zdERpZ2VzdFF1ZXVlPXRoaXMuJCRwb3N0RGlnZXN0UXVldWUpOih0aGlzLiQkY2hpbGRTY29wZUNsYXNzfHwodGhpcy4kJGNoaWxkU2NvcGVDbGFzcz1mdW5jdGlvbigpe3RoaXMuJCR3YXRjaGVycz10aGlzLiQkbmV4dFNpYmxpbmc9dGhpcy4kJGNoaWxkSGVhZD10aGlzLiQkY2hpbGRUYWlsPW51bGw7dGhpcy4kJGxpc3RlbmVycz17fTt0aGlzLiQkbGlzdGVuZXJDb3VudD17fTt0aGlzLiRpZD1lYigpO3RoaXMuJCRjaGlsZFNjb3BlQ2xhc3M9bnVsbH0sdGhpcy4kJGNoaWxkU2NvcGVDbGFzcy5wcm90b3R5cGU9dGhpcyksYT1uZXcgdGhpcy4kJGNoaWxkU2NvcGVDbGFzcyk7CmFbInRoaXMiXT1hO2EuJHBhcmVudD10aGlzO2EuJCRwcmV2U2libGluZz10aGlzLiQkY2hpbGRUYWlsO3RoaXMuJCRjaGlsZEhlYWQ/dGhpcy4kJGNoaWxkVGFpbD10aGlzLiQkY2hpbGRUYWlsLiQkbmV4dFNpYmxpbmc9YTp0aGlzLiQkY2hpbGRIZWFkPXRoaXMuJCRjaGlsZFRhaWw9YTtyZXR1cm4gYX0sJHdhdGNoOmZ1bmN0aW9uKGEsYixkKXt2YXIgZT1oKGEsIndhdGNoIiksZz10aGlzLiQkd2F0Y2hlcnMsZj17Zm46YixsYXN0OnAsZ2V0OmUsZXhwOmEsZXE6ISFkfTtjPW51bGw7aWYoIU8oYikpe3ZhciBrPWgoYnx8QSwibGlzdGVuZXIiKTtmLmZuPWZ1bmN0aW9uKGEsYixjKXtrKGMpfX1pZigic3RyaW5nIj09dHlwZW9mIGEmJmUuY29uc3RhbnQpe3ZhciBtPWYuZm47Zi5mbj1mdW5jdGlvbihhLGIsYyl7bS5jYWxsKHRoaXMsYSxiLGMpO1FhKGcsZil9fWd8fChnPXRoaXMuJCR3YXRjaGVycz1bXSk7Zy51bnNoaWZ0KGYpO3JldHVybiBmdW5jdGlvbigpe1FhKGcsZik7Yz1udWxsfX0sCiR3YXRjaENvbGxlY3Rpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQsZSxmLGs9MTxiLmxlbmd0aCxoPTAsbT1nKGEpLGw9W10sbj17fSxwPSEwLHE9MDtyZXR1cm4gdGhpcy4kd2F0Y2goZnVuY3Rpb24oKXtkPW0oYyk7dmFyIGEsYjtpZihVKGQpKWlmKGRiKGQpKWZvcihlIT09bCYmKGU9bCxxPWUubGVuZ3RoPTAsaCsrKSxhPWQubGVuZ3RoLHEhPT1hJiYoaCsrLGUubGVuZ3RoPXE9YSksYj0wO2I8YTtiKyspZVtiXSE9PWVbYl0mJmRbYl0hPT1kW2JdfHxlW2JdPT09ZFtiXXx8KGgrKyxlW2JdPWRbYl0pO2Vsc2V7ZSE9PW4mJihlPW49e30scT0wLGgrKyk7YT0wO2ZvcihiIGluIGQpZC5oYXNPd25Qcm9wZXJ0eShiKSYmKGErKyxlLmhhc093blByb3BlcnR5KGIpP2VbYl0hPT1kW2JdJiYoaCsrLGVbYl09ZFtiXSk6KHErKyxlW2JdPWRbYl0saCsrKSk7aWYocT5hKWZvcihiIGluIGgrKyxlKWUuaGFzT3duUHJvcGVydHkoYikmJiFkLmhhc093blByb3BlcnR5KGIpJiYocS0tLApkZWxldGUgZVtiXSl9ZWxzZSBlIT09ZCYmKGU9ZCxoKyspO3JldHVybiBofSxmdW5jdGlvbigpe3A/KHA9ITEsYihkLGQsYykpOmIoZCxmLGMpO2lmKGspaWYoVShkKSlpZihkYihkKSl7Zj1BcnJheShkLmxlbmd0aCk7Zm9yKHZhciBhPTA7YTxkLmxlbmd0aDthKyspZlthXT1kW2FdfWVsc2UgZm9yKGEgaW4gZj17fSxkKXliLmNhbGwoZCxhKSYmKGZbYV09ZFthXSk7ZWxzZSBmPWR9KX0sJGRpZ2VzdDpmdW5jdGlvbigpe3ZhciBkLGcsZixrLGg9dGhpcy4kJGFzeW5jUXVldWUsbD10aGlzLiQkcG9zdERpZ2VzdFF1ZXVlLHEseixzPWIsTixNPVtdLHgsQyxHO20oIiRkaWdlc3QiKTtjPW51bGw7ZG97ej0hMTtmb3IoTj10aGlzO2gubGVuZ3RoOyl7dHJ5e0c9aC5zaGlmdCgpLEcuc2NvcGUuJGV2YWwoRy5leHByZXNzaW9uKX1jYXRjaChIKXtuLiQkcGhhc2U9bnVsbCxlKEgpfWM9bnVsbH1hOmRve2lmKGs9Ti4kJHdhdGNoZXJzKWZvcihxPWsubGVuZ3RoO3EtLTspdHJ5e2lmKGQ9a1txXSlpZigoZz0KZC5nZXQoTikpIT09KGY9ZC5sYXN0KSYmIShkLmVxP3lhKGcsZik6Im51bWJlciI9PT10eXBlb2YgZyYmIm51bWJlciI9PT10eXBlb2YgZiYmaXNOYU4oZykmJmlzTmFOKGYpKSl6PSEwLGM9ZCxkLmxhc3Q9ZC5lcT9HYShnLG51bGwpOmcsZC5mbihnLGY9PT1wP2c6ZixOKSw1PnMmJih4PTQtcyxNW3hdfHwoTVt4XT1bXSksQz1PKGQuZXhwKT8iZm46ICIrKGQuZXhwLm5hbWV8fGQuZXhwLnRvU3RyaW5nKCkpOmQuZXhwLEMrPSI7IG5ld1ZhbDogIitzYShnKSsiOyBvbGRWYWw6ICIrc2EoZiksTVt4XS5wdXNoKEMpKTtlbHNlIGlmKGQ9PT1jKXt6PSExO2JyZWFrIGF9fWNhdGNoKEIpe24uJCRwaGFzZT1udWxsLGUoQil9aWYoIShrPU4uJCRjaGlsZEhlYWR8fE4hPT10aGlzJiZOLiQkbmV4dFNpYmxpbmcpKWZvcig7TiE9PXRoaXMmJiEoaz1OLiQkbmV4dFNpYmxpbmcpOylOPU4uJHBhcmVudH13aGlsZShOPWspO2lmKCh6fHxoLmxlbmd0aCkmJiFzLS0pdGhyb3cgbi4kJHBoYXNlPW51bGwsCmEoImluZmRpZyIsYixzYShNKSk7fXdoaWxlKHp8fGgubGVuZ3RoKTtmb3Iobi4kJHBoYXNlPW51bGw7bC5sZW5ndGg7KXRyeXtsLnNoaWZ0KCkoKX1jYXRjaCh2KXtlKHYpfX0sJGRlc3Ryb3k6ZnVuY3Rpb24oKXtpZighdGhpcy4kJGRlc3Ryb3llZCl7dmFyIGE9dGhpcy4kcGFyZW50O3RoaXMuJGJyb2FkY2FzdCgiJGRlc3Ryb3kiKTt0aGlzLiQkZGVzdHJveWVkPSEwO3RoaXMhPT1uJiYocSh0aGlzLiQkbGlzdGVuZXJDb3VudCx6YihudWxsLGwsdGhpcykpLGEuJCRjaGlsZEhlYWQ9PXRoaXMmJihhLiQkY2hpbGRIZWFkPXRoaXMuJCRuZXh0U2libGluZyksYS4kJGNoaWxkVGFpbD09dGhpcyYmKGEuJCRjaGlsZFRhaWw9dGhpcy4kJHByZXZTaWJsaW5nKSx0aGlzLiQkcHJldlNpYmxpbmcmJih0aGlzLiQkcHJldlNpYmxpbmcuJCRuZXh0U2libGluZz10aGlzLiQkbmV4dFNpYmxpbmcpLHRoaXMuJCRuZXh0U2libGluZyYmKHRoaXMuJCRuZXh0U2libGluZy4kJHByZXZTaWJsaW5nPQp0aGlzLiQkcHJldlNpYmxpbmcpLHRoaXMuJHBhcmVudD10aGlzLiQkbmV4dFNpYmxpbmc9dGhpcy4kJHByZXZTaWJsaW5nPXRoaXMuJCRjaGlsZEhlYWQ9dGhpcy4kJGNoaWxkVGFpbD10aGlzLiRyb290PW51bGwsdGhpcy4kJGxpc3RlbmVycz17fSx0aGlzLiQkd2F0Y2hlcnM9dGhpcy4kJGFzeW5jUXVldWU9dGhpcy4kJHBvc3REaWdlc3RRdWV1ZT1bXSx0aGlzLiRkZXN0cm95PXRoaXMuJGRpZ2VzdD10aGlzLiRhcHBseT1BLHRoaXMuJG9uPXRoaXMuJHdhdGNoPWZ1bmN0aW9uKCl7cmV0dXJuIEF9KX19LCRldmFsOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGcoYSkodGhpcyxiKX0sJGV2YWxBc3luYzpmdW5jdGlvbihhKXtuLiQkcGhhc2V8fG4uJCRhc3luY1F1ZXVlLmxlbmd0aHx8Zi5kZWZlcihmdW5jdGlvbigpe24uJCRhc3luY1F1ZXVlLmxlbmd0aCYmbi4kZGlnZXN0KCl9KTt0aGlzLiQkYXN5bmNRdWV1ZS5wdXNoKHtzY29wZTp0aGlzLGV4cHJlc3Npb246YX0pfSwkJHBvc3REaWdlc3Q6ZnVuY3Rpb24oYSl7dGhpcy4kJHBvc3REaWdlc3RRdWV1ZS5wdXNoKGEpfSwKJGFwcGx5OmZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gbSgiJGFwcGx5IiksdGhpcy4kZXZhbChhKX1jYXRjaChiKXtlKGIpfWZpbmFsbHl7bi4kJHBoYXNlPW51bGw7dHJ5e24uJGRpZ2VzdCgpfWNhdGNoKGMpe3Rocm93IGUoYyksYzt9fX0sJG9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy4kJGxpc3RlbmVyc1thXTtjfHwodGhpcy4kJGxpc3RlbmVyc1thXT1jPVtdKTtjLnB1c2goYik7dmFyIGQ9dGhpcztkbyBkLiQkbGlzdGVuZXJDb3VudFthXXx8KGQuJCRsaXN0ZW5lckNvdW50W2FdPTApLGQuJCRsaXN0ZW5lckNvdW50W2FdKys7d2hpbGUoZD1kLiRwYXJlbnQpO3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKCl7Y1tQYShjLGIpXT1udWxsO2woZSwxLGEpfX0sJGVtaXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkLGc9dGhpcyxmPSExLGs9e25hbWU6YSx0YXJnZXRTY29wZTpnLHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe2Y9ITB9LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7ay5kZWZhdWx0UHJldmVudGVkPQohMH0sZGVmYXVsdFByZXZlbnRlZDohMX0saD1ba10uY29uY2F0KHphLmNhbGwoYXJndW1lbnRzLDEpKSxtLGw7ZG97ZD1nLiQkbGlzdGVuZXJzW2FdfHxjO2suY3VycmVudFNjb3BlPWc7bT0wO2ZvcihsPWQubGVuZ3RoO208bDttKyspaWYoZFttXSl0cnl7ZFttXS5hcHBseShudWxsLGgpfWNhdGNoKG4pe2Uobil9ZWxzZSBkLnNwbGljZShtLDEpLG0tLSxsLS07aWYoZilicmVhaztnPWcuJHBhcmVudH13aGlsZShnKTtyZXR1cm4ga30sJGJyb2FkY2FzdDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLGQ9dGhpcyxnPXtuYW1lOmEsdGFyZ2V0U2NvcGU6dGhpcyxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe2cuZGVmYXVsdFByZXZlbnRlZD0hMH0sZGVmYXVsdFByZXZlbnRlZDohMX0sZj1bZ10uY29uY2F0KHphLmNhbGwoYXJndW1lbnRzLDEpKSxrLGg7Yz1kOyl7Zy5jdXJyZW50U2NvcGU9YztkPWMuJCRsaXN0ZW5lcnNbYV18fFtdO2s9MDtmb3IoaD1kLmxlbmd0aDtrPGg7aysrKWlmKGRba10pdHJ5e2Rba10uYXBwbHkobnVsbCwKZil9Y2F0Y2gobSl7ZShtKX1lbHNlIGQuc3BsaWNlKGssMSksay0tLGgtLTtpZighKGQ9Yy4kJGxpc3RlbmVyQ291bnRbYV0mJmMuJCRjaGlsZEhlYWR8fGMhPT10aGlzJiZjLiQkbmV4dFNpYmxpbmcpKWZvcig7YyE9PXRoaXMmJiEoZD1jLiQkbmV4dFNpYmxpbmcpOyljPWMuJHBhcmVudH1yZXR1cm4gZ319O3ZhciBuPW5ldyBrO3JldHVybiBufV19ZnVuY3Rpb24gY2QoKXt2YXIgYj0vXlxzKihodHRwcz98ZnRwfG1haWx0b3x0ZWx8ZmlsZSk6LyxhPS9eXHMqKGh0dHBzP3xmdHB8ZmlsZSk6fGRhdGE6aW1hZ2VcLy87dGhpcy5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdD1mdW5jdGlvbihhKXtyZXR1cm4gQihhKT8oYj1hLHRoaXMpOmJ9O3RoaXMuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0PWZ1bmN0aW9uKGIpe3JldHVybiBCKGIpPyhhPWIsdGhpcyk6YX07dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7dmFyIGU9ZD9hOmIsZztpZighUHx8ODw9ClApaWYoZz10YShjKS5ocmVmLCIiIT09ZyYmIWcubWF0Y2goZSkpcmV0dXJuInVuc2FmZToiK2c7cmV0dXJuIGN9fX1mdW5jdGlvbiBDZShiKXtpZigic2VsZiI9PT1iKXJldHVybiBiO2lmKHkoYikpe2lmKC0xPGIuaW5kZXhPZigiKioqIikpdGhyb3cgdmEoIml3Y2FyZCIsYik7Yj1iLnJlcGxhY2UoLyhbLSgpXFtcXXt9Kz8qLiRcXnwsOiM8IVxcXSkvZywiXFwkMSIpLnJlcGxhY2UoL1x4MDgvZywiXFx4MDgiKS5yZXBsYWNlKCJcXCpcXCoiLCIuKiIpLnJlcGxhY2UoIlxcKiIsIlteOi8uPyY7XSoiKTtyZXR1cm4gUmVnRXhwKCJeIitiKyIkIil9aWYoZmIoYikpcmV0dXJuIFJlZ0V4cCgiXiIrYi5zb3VyY2UrIiQiKTt0aHJvdyB2YSgiaW1hdGNoZXIiKTt9ZnVuY3Rpb24gR2MoYil7dmFyIGE9W107QihiKSYmcShiLGZ1bmN0aW9uKGIpe2EucHVzaChDZShiKSl9KTtyZXR1cm4gYX1mdW5jdGlvbiBiZSgpe3RoaXMuU0NFX0NPTlRFWFRTPWZhO3ZhciBiPVsic2VsZiJdLGE9W107dGhpcy5yZXNvdXJjZVVybFdoaXRlbGlzdD0KZnVuY3Rpb24oYSl7YXJndW1lbnRzLmxlbmd0aCYmKGI9R2MoYSkpO3JldHVybiBifTt0aGlzLnJlc291cmNlVXJsQmxhY2tsaXN0PWZ1bmN0aW9uKGIpe2FyZ3VtZW50cy5sZW5ndGgmJihhPUdjKGIpKTtyZXR1cm4gYX07dGhpcy4kZ2V0PVsiJGluamVjdG9yIixmdW5jdGlvbihjKXtmdW5jdGlvbiBkKGEpe3ZhciBiPWZ1bmN0aW9uKGEpe3RoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gYX19O2EmJihiLnByb3RvdHlwZT1uZXcgYSk7Yi5wcm90b3R5cGUudmFsdWVPZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCl9O2IucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUoKS50b1N0cmluZygpfTtyZXR1cm4gYn12YXIgZT1mdW5jdGlvbihhKXt0aHJvdyB2YSgidW5zYWZlIik7fTtjLmhhcygiJHNhbml0aXplIikmJihlPWMuZ2V0KCIkc2FuaXRpemUiKSk7CnZhciBnPWQoKSxmPXt9O2ZbZmEuSFRNTF09ZChnKTtmW2ZhLkNTU109ZChnKTtmW2ZhLlVSTF09ZChnKTtmW2ZhLkpTXT1kKGcpO2ZbZmEuUkVTT1VSQ0VfVVJMXT1kKGZbZmEuVVJMXSk7cmV0dXJue3RydXN0QXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1mLmhhc093blByb3BlcnR5KGEpP2ZbYV06bnVsbDtpZighYyl0aHJvdyB2YSgiaWNvbnRleHQiLGEsYik7aWYobnVsbD09PWJ8fGI9PT1zfHwiIj09PWIpcmV0dXJuIGI7aWYoInN0cmluZyIhPT10eXBlb2YgYil0aHJvdyB2YSgiaXR5cGUiLGEpO3JldHVybiBuZXcgYyhiKX0sZ2V0VHJ1c3RlZDpmdW5jdGlvbihjLGQpe2lmKG51bGw9PT1kfHxkPT09c3x8IiI9PT1kKXJldHVybiBkO3ZhciBnPWYuaGFzT3duUHJvcGVydHkoYyk/ZltjXTpudWxsO2lmKGcmJmQgaW5zdGFuY2VvZiBnKXJldHVybiBkLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk7aWYoYz09PWZhLlJFU09VUkNFX1VSTCl7dmFyIGc9dGEoZC50b1N0cmluZygpKSxsLHAsbj0KITE7bD0wO2ZvcihwPWIubGVuZ3RoO2w8cDtsKyspaWYoInNlbGYiPT09YltsXT9MYihnKTpiW2xdLmV4ZWMoZy5ocmVmKSl7bj0hMDticmVha31pZihuKWZvcihsPTAscD1hLmxlbmd0aDtsPHA7bCsrKWlmKCJzZWxmIj09PWFbbF0/TGIoZyk6YVtsXS5leGVjKGcuaHJlZikpe249ITE7YnJlYWt9aWYobilyZXR1cm4gZDt0aHJvdyB2YSgiaW5zZWN1cmwiLGQudG9TdHJpbmcoKSk7fWlmKGM9PT1mYS5IVE1MKXJldHVybiBlKGQpO3Rocm93IHZhKCJ1bnNhZmUiKTt9LHZhbHVlT2Y6ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBnP2EuJCR1bndyYXBUcnVzdGVkVmFsdWUoKTphfX19XX1mdW5jdGlvbiBhZSgpe3ZhciBiPSEwO3RoaXMuZW5hYmxlZD1mdW5jdGlvbihhKXthcmd1bWVudHMubGVuZ3RoJiYoYj0hIWEpO3JldHVybiBifTt0aGlzLiRnZXQ9WyIkcGFyc2UiLCIkc25pZmZlciIsIiRzY2VEZWxlZ2F0ZSIsZnVuY3Rpb24oYSxjLGQpe2lmKGImJmMubXNpZSYmOD5jLm1zaWVEb2N1bWVudE1vZGUpdGhyb3cgdmEoImllcXVpcmtzIik7CnZhciBlPWxhKGZhKTtlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiBifTtlLnRydXN0QXM9ZC50cnVzdEFzO2UuZ2V0VHJ1c3RlZD1kLmdldFRydXN0ZWQ7ZS52YWx1ZU9mPWQudmFsdWVPZjtifHwoZS50cnVzdEFzPWUuZ2V0VHJ1c3RlZD1mdW5jdGlvbihhLGIpe3JldHVybiBifSxlLnZhbHVlT2Y9RmEpO2UucGFyc2VBcz1mdW5jdGlvbihiLGMpe3ZhciBkPWEoYyk7cmV0dXJuIGQubGl0ZXJhbCYmZC5jb25zdGFudD9kOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGUuZ2V0VHJ1c3RlZChiLGQoYSxjKSl9fTt2YXIgZz1lLnBhcnNlQXMsZj1lLmdldFRydXN0ZWQsaz1lLnRydXN0QXM7cShmYSxmdW5jdGlvbihhLGIpe3ZhciBjPUkoYik7ZVtXYSgicGFyc2VfYXNfIitjKV09ZnVuY3Rpb24oYil7cmV0dXJuIGcoYSxiKX07ZVtXYSgiZ2V0X3RydXN0ZWRfIitjKV09ZnVuY3Rpb24oYil7cmV0dXJuIGYoYSxiKX07ZVtXYSgidHJ1c3RfYXNfIitjKV09ZnVuY3Rpb24oYil7cmV0dXJuIGsoYSwKYil9fSk7cmV0dXJuIGV9XX1mdW5jdGlvbiBjZSgpe3RoaXMuJGdldD1bIiR3aW5kb3ciLCIkZG9jdW1lbnQiLGZ1bmN0aW9uKGIsYSl7dmFyIGM9e30sZD1aKCgvYW5kcm9pZCAoXGQrKS8uZXhlYyhJKChiLm5hdmlnYXRvcnx8e30pLnVzZXJBZ2VudCkpfHxbXSlbMV0pLGU9L0JveGVlL2kudGVzdCgoYi5uYXZpZ2F0b3J8fHt9KS51c2VyQWdlbnQpLGc9YVswXXx8e30sZj1nLmRvY3VtZW50TW9kZSxrLG09L14oTW96fHdlYmtpdHxPfG1zKSg/PVtBLVpdKS8saD1nLmJvZHkmJmcuYm9keS5zdHlsZSxsPSExLHA9ITE7aWYoaCl7Zm9yKHZhciBuIGluIGgpaWYobD1tLmV4ZWMobikpe2s9bFswXTtrPWsuc3Vic3RyKDAsMSkudG9VcHBlckNhc2UoKStrLnN1YnN0cigxKTticmVha31rfHwoaz0iV2Via2l0T3BhY2l0eSJpbiBoJiYid2Via2l0Iik7bD0hISgidHJhbnNpdGlvbiJpbiBofHxrKyJUcmFuc2l0aW9uImluIGgpO3A9ISEoImFuaW1hdGlvbiJpbiBofHxrKyJBbmltYXRpb24iaW4KaCk7IWR8fGwmJnB8fChsPXkoZy5ib2R5LnN0eWxlLndlYmtpdFRyYW5zaXRpb24pLHA9eShnLmJvZHkuc3R5bGUud2Via2l0QW5pbWF0aW9uKSl9cmV0dXJue2hpc3Rvcnk6ISghYi5oaXN0b3J5fHwhYi5oaXN0b3J5LnB1c2hTdGF0ZXx8ND5kfHxlKSxoYXNoY2hhbmdlOiJvbmhhc2hjaGFuZ2UiaW4gYiYmKCFmfHw3PGYpLGhhc0V2ZW50OmZ1bmN0aW9uKGEpe2lmKCJpbnB1dCI9PWEmJjk9PVApcmV0dXJuITE7aWYoRChjW2FdKSl7dmFyIGI9Zy5jcmVhdGVFbGVtZW50KCJkaXYiKTtjW2FdPSJvbiIrYSBpbiBifXJldHVybiBjW2FdfSxjc3A6WmIoKSx2ZW5kb3JQcmVmaXg6ayx0cmFuc2l0aW9uczpsLGFuaW1hdGlvbnM6cCxhbmRyb2lkOmQsbXNpZTpQLG1zaWVEb2N1bWVudE1vZGU6Zn19XX1mdW5jdGlvbiBlZSgpe3RoaXMuJGdldD1bIiRyb290U2NvcGUiLCIkYnJvd3NlciIsIiRxIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLGZ1bmN0aW9uKGIsYSxjLGQpe2Z1bmN0aW9uIGUoZSxrLAptKXt2YXIgaD1jLmRlZmVyKCksbD1oLnByb21pc2UscD1CKG0pJiYhbTtrPWEuZGVmZXIoZnVuY3Rpb24oKXt0cnl7aC5yZXNvbHZlKGUoKSl9Y2F0Y2goYSl7aC5yZWplY3QoYSksZChhKX1maW5hbGx5e2RlbGV0ZSBnW2wuJCR0aW1lb3V0SWRdfXB8fGIuJGFwcGx5KCl9LGspO2wuJCR0aW1lb3V0SWQ9aztnW2tdPWg7cmV0dXJuIGx9dmFyIGc9e307ZS5jYW5jZWw9ZnVuY3Rpb24oYil7cmV0dXJuIGImJmIuJCR0aW1lb3V0SWQgaW4gZz8oZ1tiLiQkdGltZW91dElkXS5yZWplY3QoImNhbmNlbGVkIiksZGVsZXRlIGdbYi4kJHRpbWVvdXRJZF0sYS5kZWZlci5jYW5jZWwoYi4kJHRpbWVvdXRJZCkpOiExfTtyZXR1cm4gZX1dfWZ1bmN0aW9uIHRhKGIsYSl7dmFyIGM9YjtQJiYoVy5zZXRBdHRyaWJ1dGUoImhyZWYiLGMpLGM9Vy5ocmVmKTtXLnNldEF0dHJpYnV0ZSgiaHJlZiIsYyk7cmV0dXJue2hyZWY6Vy5ocmVmLHByb3RvY29sOlcucHJvdG9jb2w/Vy5wcm90b2NvbC5yZXBsYWNlKC86JC8sCiIiKToiIixob3N0OlcuaG9zdCxzZWFyY2g6Vy5zZWFyY2g/Vy5zZWFyY2gucmVwbGFjZSgvXlw/LywiIik6IiIsaGFzaDpXLmhhc2g/Vy5oYXNoLnJlcGxhY2UoL14jLywiIik6IiIsaG9zdG5hbWU6Vy5ob3N0bmFtZSxwb3J0OlcucG9ydCxwYXRobmFtZToiLyI9PT1XLnBhdGhuYW1lLmNoYXJBdCgwKT9XLnBhdGhuYW1lOiIvIitXLnBhdGhuYW1lfX1mdW5jdGlvbiBMYihiKXtiPXkoYik/dGEoYik6YjtyZXR1cm4gYi5wcm90b2NvbD09PUhjLnByb3RvY29sJiZiLmhvc3Q9PT1IYy5ob3N0fWZ1bmN0aW9uIGZlKCl7dGhpcy4kZ2V0PSQoVCl9ZnVuY3Rpb24gamMoYil7ZnVuY3Rpb24gYShkLGUpe2lmKFUoZCkpe3ZhciBnPXt9O3EoZCxmdW5jdGlvbihiLGMpe2dbY109YShjLGIpfSk7cmV0dXJuIGd9cmV0dXJuIGIuZmFjdG9yeShkK2MsZSl9dmFyIGM9IkZpbHRlciI7dGhpcy5yZWdpc3Rlcj1hO3RoaXMuJGdldD1bIiRpbmplY3RvciIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBhLmdldChiKwpjKX19XTthKCJjdXJyZW5jeSIsSWMpO2EoImRhdGUiLEpjKTthKCJmaWx0ZXIiLERlKTthKCJqc29uIixFZSk7YSgibGltaXRUbyIsRmUpO2EoImxvd2VyY2FzZSIsR2UpO2EoIm51bWJlciIsS2MpO2EoIm9yZGVyQnkiLExjKTthKCJ1cHBlcmNhc2UiLEhlKX1mdW5jdGlvbiBEZSgpe3JldHVybiBmdW5jdGlvbihiLGEsYyl7aWYoIUwoYikpcmV0dXJuIGI7dmFyIGQ9dHlwZW9mIGMsZT1bXTtlLmNoZWNrPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8ZS5sZW5ndGg7YisrKWlmKCFlW2JdKGEpKXJldHVybiExO3JldHVybiEwfTsiZnVuY3Rpb24iIT09ZCYmKGM9ImJvb2xlYW4iPT09ZCYmYz9mdW5jdGlvbihhLGIpe3JldHVybiBUYS5lcXVhbHMoYSxiKX06ZnVuY3Rpb24oYSxiKXtpZihhJiZiJiYib2JqZWN0Ij09PXR5cGVvZiBhJiYib2JqZWN0Ij09PXR5cGVvZiBiKXtmb3IodmFyIGQgaW4gYSlpZigiJCIhPT1kLmNoYXJBdCgwKSYmeWIuY2FsbChhLGQpJiZjKGFbZF0sYltkXSkpcmV0dXJuITA7CnJldHVybiExfWI9KCIiK2IpLnRvTG93ZXJDYXNlKCk7cmV0dXJuLTE8KCIiK2EpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihiKX0pO3ZhciBnPWZ1bmN0aW9uKGEsYil7aWYoInN0cmluZyI9PXR5cGVvZiBiJiYiISI9PT1iLmNoYXJBdCgwKSlyZXR1cm4hZyhhLGIuc3Vic3RyKDEpKTtzd2l0Y2godHlwZW9mIGEpe2Nhc2UgImJvb2xlYW4iOmNhc2UgIm51bWJlciI6Y2FzZSAic3RyaW5nIjpyZXR1cm4gYyhhLGIpO2Nhc2UgIm9iamVjdCI6c3dpdGNoKHR5cGVvZiBiKXtjYXNlICJvYmplY3QiOnJldHVybiBjKGEsYik7ZGVmYXVsdDpmb3IodmFyIGQgaW4gYSlpZigiJCIhPT1kLmNoYXJBdCgwKSYmZyhhW2RdLGIpKXJldHVybiEwfXJldHVybiExO2Nhc2UgImFycmF5Ijpmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKGcoYVtkXSxiKSlyZXR1cm4hMDtyZXR1cm4hMTtkZWZhdWx0OnJldHVybiExfX07c3dpdGNoKHR5cGVvZiBhKXtjYXNlICJib29sZWFuIjpjYXNlICJudW1iZXIiOmNhc2UgInN0cmluZyI6YT0KeyQ6YX07Y2FzZSAib2JqZWN0Ijpmb3IodmFyIGYgaW4gYSkoZnVuY3Rpb24oYil7InVuZGVmaW5lZCIhPT10eXBlb2YgYVtiXSYmZS5wdXNoKGZ1bmN0aW9uKGMpe3JldHVybiBnKCIkIj09Yj9jOmMmJmNbYl0sYVtiXSl9KX0pKGYpO2JyZWFrO2Nhc2UgImZ1bmN0aW9uIjplLnB1c2goYSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gYn1kPVtdO2ZvcihmPTA7ZjxiLmxlbmd0aDtmKyspe3ZhciBrPWJbZl07ZS5jaGVjayhrKSYmZC5wdXNoKGspfXJldHVybiBkfX1mdW5jdGlvbiBJYyhiKXt2YXIgYT1iLk5VTUJFUl9GT1JNQVRTO3JldHVybiBmdW5jdGlvbihiLGQpe0QoZCkmJihkPWEuQ1VSUkVOQ1lfU1lNKTtyZXR1cm4gTWMoYixhLlBBVFRFUk5TWzFdLGEuR1JPVVBfU0VQLGEuREVDSU1BTF9TRVAsMikucmVwbGFjZSgvXHUwMEE0L2csZCl9fWZ1bmN0aW9uIEtjKGIpe3ZhciBhPWIuTlVNQkVSX0ZPUk1BVFM7cmV0dXJuIGZ1bmN0aW9uKGIsZCl7cmV0dXJuIE1jKGIsYS5QQVRURVJOU1swXSwKYS5HUk9VUF9TRVAsYS5ERUNJTUFMX1NFUCxkKX19ZnVuY3Rpb24gTWMoYixhLGMsZCxlKXtpZihudWxsPT1ifHwhaXNGaW5pdGUoYil8fFUoYikpcmV0dXJuIiI7dmFyIGc9MD5iO2I9TWF0aC5hYnMoYik7dmFyIGY9YisiIixrPSIiLG09W10saD0hMTtpZigtMSE9PWYuaW5kZXhPZigiZSIpKXt2YXIgbD1mLm1hdGNoKC8oW1xkXC5dKyllKC0/KShcZCspLyk7bCYmIi0iPT1sWzJdJiZsWzNdPmUrMT8oZj0iMCIsYj0wKTooaz1mLGg9ITApfWlmKGgpMDxlJiYoLTE8YiYmMT5iKSYmKGs9Yi50b0ZpeGVkKGUpKTtlbHNle2Y9KGYuc3BsaXQoTmMpWzFdfHwiIikubGVuZ3RoO0QoZSkmJihlPU1hdGgubWluKE1hdGgubWF4KGEubWluRnJhYyxmKSxhLm1heEZyYWMpKTtiPSsoTWF0aC5yb3VuZCgrKGIudG9TdHJpbmcoKSsiZSIrZSkpLnRvU3RyaW5nKCkrImUiKy1lKTtiPSgiIitiKS5zcGxpdChOYyk7Zj1iWzBdO2I9YlsxXXx8IiI7dmFyIGw9MCxwPWEubGdTaXplLG49YS5nU2l6ZTtpZihmLmxlbmd0aD49CnArbilmb3IobD1mLmxlbmd0aC1wLGg9MDtoPGw7aCsrKTA9PT0obC1oKSVuJiYwIT09aCYmKGsrPWMpLGsrPWYuY2hhckF0KGgpO2ZvcihoPWw7aDxmLmxlbmd0aDtoKyspMD09PShmLmxlbmd0aC1oKSVwJiYwIT09aCYmKGsrPWMpLGsrPWYuY2hhckF0KGgpO2Zvcig7Yi5sZW5ndGg8ZTspYis9IjAiO2UmJiIwIiE9PWUmJihrKz1kK2Iuc3Vic3RyKDAsZSkpfW0ucHVzaChnP2EubmVnUHJlOmEucG9zUHJlKTttLnB1c2goayk7bS5wdXNoKGc/YS5uZWdTdWY6YS5wb3NTdWYpO3JldHVybiBtLmpvaW4oIiIpfWZ1bmN0aW9uIFRiKGIsYSxjKXt2YXIgZD0iIjswPmImJihkPSItIixiPS1iKTtmb3IoYj0iIitiO2IubGVuZ3RoPGE7KWI9IjAiK2I7YyYmKGI9Yi5zdWJzdHIoYi5sZW5ndGgtYSkpO3JldHVybiBkK2J9ZnVuY3Rpb24gWShiLGEsYyxkKXtjPWN8fDA7cmV0dXJuIGZ1bmN0aW9uKGUpe2U9ZVsiZ2V0IitiXSgpO2lmKDA8Y3x8ZT4tYyllKz1jOzA9PT1lJiYtMTI9PWMmJihlPQoxMik7cmV0dXJuIFRiKGUsYSxkKX19ZnVuY3Rpb24gcmIoYixhKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXt2YXIgZT1jWyJnZXQiK2JdKCksZz1IYShhPyJTSE9SVCIrYjpiKTtyZXR1cm4gZFtnXVtlXX19ZnVuY3Rpb24gSmMoYil7ZnVuY3Rpb24gYShhKXt2YXIgYjtpZihiPWEubWF0Y2goYykpe2E9bmV3IERhdGUoMCk7dmFyIGc9MCxmPTAsaz1iWzhdP2Euc2V0VVRDRnVsbFllYXI6YS5zZXRGdWxsWWVhcixtPWJbOF0/YS5zZXRVVENIb3VyczphLnNldEhvdXJzO2JbOV0mJihnPVooYls5XStiWzEwXSksZj1aKGJbOV0rYlsxMV0pKTtrLmNhbGwoYSxaKGJbMV0pLFooYlsyXSktMSxaKGJbM10pKTtnPVooYls0XXx8MCktZztmPVooYls1XXx8MCktZjtrPVooYls2XXx8MCk7Yj1NYXRoLnJvdW5kKDFFMypwYXJzZUZsb2F0KCIwLiIrKGJbN118fDApKSk7bS5jYWxsKGEsZyxmLGssYil9cmV0dXJuIGF9dmFyIGM9L14oXGR7NH0pLT8oXGRcZCktPyhcZFxkKSg/OlQoXGRcZCkoPzo6PyhcZFxkKSg/Ojo/KFxkXGQpKD86XC4oXGQrKSk/KT8pPyhafChbKy1dKShcZFxkKTo/KFxkXGQpKT8pPyQvOwpyZXR1cm4gZnVuY3Rpb24oYyxlKXt2YXIgZz0iIixmPVtdLGssbTtlPWV8fCJtZWRpdW1EYXRlIjtlPWIuREFURVRJTUVfRk9STUFUU1tlXXx8ZTt5KGMpJiYoYz1JZS50ZXN0KGMpP1ooYyk6YShjKSk7eGIoYykmJihjPW5ldyBEYXRlKGMpKTtpZighT2EoYykpcmV0dXJuIGM7Zm9yKDtlOykobT1KZS5leGVjKGUpKT8oZj1mLmNvbmNhdCh6YS5jYWxsKG0sMSkpLGU9Zi5wb3AoKSk6KGYucHVzaChlKSxlPW51bGwpO3EoZixmdW5jdGlvbihhKXtrPUtlW2FdO2crPWs/ayhjLGIuREFURVRJTUVfRk9STUFUUyk6YS5yZXBsYWNlKC8oXid8JyQpL2csIiIpLnJlcGxhY2UoLycnL2csIiciKX0pO3JldHVybiBnfX1mdW5jdGlvbiBFZSgpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gc2EoYiwhMCl9fWZ1bmN0aW9uIEZlKCl7cmV0dXJuIGZ1bmN0aW9uKGIsYSl7aWYoIUwoYikmJiF5KGIpKXJldHVybiBiO2E9SW5maW5pdHk9PT1NYXRoLmFicyhOdW1iZXIoYSkpP051bWJlcihhKTpaKGEpOwppZih5KGIpKXJldHVybiBhPzA8PWE/Yi5zbGljZSgwLGEpOmIuc2xpY2UoYSxiLmxlbmd0aCk6IiI7dmFyIGM9W10sZCxlO2E+Yi5sZW5ndGg/YT1iLmxlbmd0aDphPC1iLmxlbmd0aCYmKGE9LWIubGVuZ3RoKTswPGE/KGQ9MCxlPWEpOihkPWIubGVuZ3RoK2EsZT1iLmxlbmd0aCk7Zm9yKDtkPGU7ZCsrKWMucHVzaChiW2RdKTtyZXR1cm4gY319ZnVuY3Rpb24gTGMoYil7cmV0dXJuIGZ1bmN0aW9uKGEsYyxkKXtmdW5jdGlvbiBlKGEsYil7cmV0dXJuIFNhKGIpP2Z1bmN0aW9uKGIsYyl7cmV0dXJuIGEoYyxiKX06YX1mdW5jdGlvbiBnKGEsYil7dmFyIGM9dHlwZW9mIGEsZD10eXBlb2YgYjtyZXR1cm4gYz09ZD8oInN0cmluZyI9PWMmJihhPWEudG9Mb3dlckNhc2UoKSxiPWIudG9Mb3dlckNhc2UoKSksYT09PWI/MDphPGI/LTE6MSk6YzxkPy0xOjF9aWYoIUwoYSl8fCFjKXJldHVybiBhO2M9TChjKT9jOltjXTtjPVZjKGMsZnVuY3Rpb24oYSl7dmFyIGM9ITEsZD1hfHxGYTtpZih5KGEpKXtpZigiKyI9PQphLmNoYXJBdCgwKXx8Ii0iPT1hLmNoYXJBdCgwKSljPSItIj09YS5jaGFyQXQoMCksYT1hLnN1YnN0cmluZygxKTtkPWIoYSk7aWYoZC5jb25zdGFudCl7dmFyIGY9ZCgpO3JldHVybiBlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGcoYVtmXSxiW2ZdKX0sYyl9fXJldHVybiBlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGcoZChhKSxkKGIpKX0sYyl9KTtmb3IodmFyIGY9W10saz0wO2s8YS5sZW5ndGg7aysrKWYucHVzaChhW2tdKTtyZXR1cm4gZi5zb3J0KGUoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXShhLGIpO2lmKDAhPT1lKXJldHVybiBlfXJldHVybiAwfSxkKSl9fWZ1bmN0aW9uIHdhKGIpe08oYikmJihiPXtsaW5rOmJ9KTtiLnJlc3RyaWN0PWIucmVzdHJpY3R8fCJBQyI7cmV0dXJuICQoYil9ZnVuY3Rpb24gT2MoYixhLGMsZCl7ZnVuY3Rpb24gZShhLGMpe2M9Yz8iLSIraGIoYywiLSIpOiIiO2QucmVtb3ZlQ2xhc3MoYiwoYT9zYjoKdGIpK2MpO2QuYWRkQ2xhc3MoYiwoYT90YjpzYikrYyl9dmFyIGc9dGhpcyxmPWIucGFyZW50KCkuY29udHJvbGxlcigiZm9ybSIpfHx1YixrPTAsbT1nLiRlcnJvcj17fSxoPVtdO2cuJG5hbWU9YS5uYW1lfHxhLm5nRm9ybTtnLiRkaXJ0eT0hMTtnLiRwcmlzdGluZT0hMDtnLiR2YWxpZD0hMDtnLiRpbnZhbGlkPSExO2YuJGFkZENvbnRyb2woZyk7Yi5hZGRDbGFzcyhOYSk7ZSghMCk7Zy4kYWRkQ29udHJvbD1mdW5jdGlvbihhKXtCYShhLiRuYW1lLCJpbnB1dCIpO2gucHVzaChhKTthLiRuYW1lJiYoZ1thLiRuYW1lXT1hKX07Zy4kcmVtb3ZlQ29udHJvbD1mdW5jdGlvbihhKXthLiRuYW1lJiZnW2EuJG5hbWVdPT09YSYmZGVsZXRlIGdbYS4kbmFtZV07cShtLGZ1bmN0aW9uKGIsYyl7Zy4kc2V0VmFsaWRpdHkoYywhMCxhKX0pO1FhKGgsYSl9O2cuJHNldFZhbGlkaXR5PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1tW2FdO2lmKGIpZCYmKFFhKGQsYyksZC5sZW5ndGh8fChrLS0sa3x8CihlKGIpLGcuJHZhbGlkPSEwLGcuJGludmFsaWQ9ITEpLG1bYV09ITEsZSghMCxhKSxmLiRzZXRWYWxpZGl0eShhLCEwLGcpKSk7ZWxzZXtrfHxlKGIpO2lmKGQpe2lmKC0xIT1QYShkLGMpKXJldHVybn1lbHNlIG1bYV09ZD1bXSxrKyssZSghMSxhKSxmLiRzZXRWYWxpZGl0eShhLCExLGcpO2QucHVzaChjKTtnLiR2YWxpZD0hMTtnLiRpbnZhbGlkPSEwfX07Zy4kc2V0RGlydHk9ZnVuY3Rpb24oKXtkLnJlbW92ZUNsYXNzKGIsTmEpO2QuYWRkQ2xhc3MoYix2Yik7Zy4kZGlydHk9ITA7Zy4kcHJpc3RpbmU9ITE7Zi4kc2V0RGlydHkoKX07Zy4kc2V0UHJpc3RpbmU9ZnVuY3Rpb24oKXtkLnJlbW92ZUNsYXNzKGIsdmIpO2QuYWRkQ2xhc3MoYixOYSk7Zy4kZGlydHk9ITE7Zy4kcHJpc3RpbmU9ITA7cShoLGZ1bmN0aW9uKGEpe2EuJHNldFByaXN0aW5lKCl9KX19ZnVuY3Rpb24gcmEoYixhLGMsZCl7Yi4kc2V0VmFsaWRpdHkoYSxjKTtyZXR1cm4gYz9kOnN9ZnVuY3Rpb24gUGMoYixhKXt2YXIgYywKZDtpZihhKWZvcihjPTA7YzxhLmxlbmd0aDsrK2MpaWYoZD1hW2NdLGJbZF0pcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gTGUoYixhLGMsZCxlKXtVKGUpJiYoYi4kJGhhc05hdGl2ZVZhbGlkYXRvcnM9ITAsYi4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKGcpe2lmKGIuJGVycm9yW2FdfHxQYyhlLGQpfHwhUGMoZSxjKSlyZXR1cm4gZztiLiRzZXRWYWxpZGl0eShhLCExKX0pKX1mdW5jdGlvbiB3YihiLGEsYyxkLGUsZyl7dmFyIGY9YS5wcm9wKE1lKSxrPWFbMF0ucGxhY2Vob2xkZXIsbT17fTtkLiQkdmFsaWRpdHlTdGF0ZT1mO2lmKCFlLmFuZHJvaWQpe3ZhciBoPSExO2Eub24oImNvbXBvc2l0aW9uc3RhcnQiLGZ1bmN0aW9uKGEpe2g9ITB9KTthLm9uKCJjb21wb3NpdGlvbmVuZCIsZnVuY3Rpb24oKXtoPSExO2woKX0pfXZhciBsPWZ1bmN0aW9uKGUpe2lmKCFoKXt2YXIgZz1hLnZhbCgpO2lmKFAmJiJpbnB1dCI9PT0oZXx8bSkudHlwZSYmYVswXS5wbGFjZWhvbGRlciE9PWspaz0KYVswXS5wbGFjZWhvbGRlcjtlbHNlIGlmKFNhKGMubmdUcmltfHwiVCIpJiYoZz1hYShnKSksZT1mJiZkLiQkaGFzTmF0aXZlVmFsaWRhdG9ycyxkLiR2aWV3VmFsdWUhPT1nfHwiIj09PWcmJmUpYi4kJHBoYXNlP2QuJHNldFZpZXdWYWx1ZShnKTpiLiRhcHBseShmdW5jdGlvbigpe2QuJHNldFZpZXdWYWx1ZShnKX0pfX07aWYoZS5oYXNFdmVudCgiaW5wdXQiKSlhLm9uKCJpbnB1dCIsbCk7ZWxzZXt2YXIgcCxuPWZ1bmN0aW9uKCl7cHx8KHA9Zy5kZWZlcihmdW5jdGlvbigpe2woKTtwPW51bGx9KSl9O2Eub24oImtleWRvd24iLGZ1bmN0aW9uKGEpe2E9YS5rZXlDb2RlOzkxPT09YXx8KDE1PGEmJjE5PmF8fDM3PD1hJiY0MD49YSl8fG4oKX0pO2lmKGUuaGFzRXZlbnQoInBhc3RlIikpYS5vbigicGFzdGUgY3V0IixuKX1hLm9uKCJjaGFuZ2UiLGwpO2QuJHJlbmRlcj1mdW5jdGlvbigpe2EudmFsKGQuJGlzRW1wdHkoZC4kdmlld1ZhbHVlKT8iIjpkLiR2aWV3VmFsdWUpfTt2YXIgcj0KYy5uZ1BhdHRlcm47ciYmKChlPXIubWF0Y2goL15cLyguKilcLyhbZ2ltXSopJC8pKT8ocj1SZWdFeHAoZVsxXSxlWzJdKSxlPWZ1bmN0aW9uKGEpe3JldHVybiByYShkLCJwYXR0ZXJuIixkLiRpc0VtcHR5KGEpfHxyLnRlc3QoYSksYSl9KTplPWZ1bmN0aW9uKGMpe3ZhciBlPWIuJGV2YWwocik7aWYoIWV8fCFlLnRlc3QpdGhyb3cgdigibmdQYXR0ZXJuIikoIm5vcmVnZXhwIixyLGUsZ2EoYSkpO3JldHVybiByYShkLCJwYXR0ZXJuIixkLiRpc0VtcHR5KGMpfHxlLnRlc3QoYyksYyl9LGQuJGZvcm1hdHRlcnMucHVzaChlKSxkLiRwYXJzZXJzLnB1c2goZSkpO2lmKGMubmdNaW5sZW5ndGgpe3ZhciB0PVooYy5uZ01pbmxlbmd0aCk7ZT1mdW5jdGlvbihhKXtyZXR1cm4gcmEoZCwibWlubGVuZ3RoIixkLiRpc0VtcHR5KGEpfHxhLmxlbmd0aD49dCxhKX07ZC4kcGFyc2Vycy5wdXNoKGUpO2QuJGZvcm1hdHRlcnMucHVzaChlKX1pZihjLm5nTWF4bGVuZ3RoKXt2YXIgcT1aKGMubmdNYXhsZW5ndGgpOwplPWZ1bmN0aW9uKGEpe3JldHVybiByYShkLCJtYXhsZW5ndGgiLGQuJGlzRW1wdHkoYSl8fGEubGVuZ3RoPD1xLGEpfTtkLiRwYXJzZXJzLnB1c2goZSk7ZC4kZm9ybWF0dGVycy5wdXNoKGUpfX1mdW5jdGlvbiBVYihiLGEpe2I9Im5nQ2xhc3MiK2I7cmV0dXJuWyIkYW5pbWF0ZSIsZnVuY3Rpb24oYyl7ZnVuY3Rpb24gZChhLGIpe3ZhciBjPVtdLGQ9MDthOmZvcig7ZDxhLmxlbmd0aDtkKyspe2Zvcih2YXIgZT1hW2RdLGw9MDtsPGIubGVuZ3RoO2wrKylpZihlPT1iW2xdKWNvbnRpbnVlIGE7Yy5wdXNoKGUpfXJldHVybiBjfWZ1bmN0aW9uIGUoYSl7aWYoIUwoYSkpe2lmKHkoYSkpcmV0dXJuIGEuc3BsaXQoIiAiKTtpZihVKGEpKXt2YXIgYj1bXTtxKGEsZnVuY3Rpb24oYSxjKXthJiYoYj1iLmNvbmNhdChjLnNwbGl0KCIgIikpKX0pO3JldHVybiBifX1yZXR1cm4gYX1yZXR1cm57cmVzdHJpY3Q6IkFDIixsaW5rOmZ1bmN0aW9uKGcsZixrKXtmdW5jdGlvbiBtKGEsYil7dmFyIGM9CmYuZGF0YSgiJGNsYXNzQ291bnRzIil8fHt9LGQ9W107cShhLGZ1bmN0aW9uKGEpe2lmKDA8Ynx8Y1thXSljW2FdPShjW2FdfHwwKStiLGNbYV09PT0rKDA8YikmJmQucHVzaChhKX0pO2YuZGF0YSgiJGNsYXNzQ291bnRzIixjKTtyZXR1cm4gZC5qb2luKCIgIil9ZnVuY3Rpb24gaChiKXtpZighMD09PWF8fGcuJGluZGV4JTI9PT1hKXt2YXIgaD1lKGJ8fFtdKTtpZighbCl7dmFyIHI9bShoLDEpO2suJGFkZENsYXNzKHIpfWVsc2UgaWYoIXlhKGIsbCkpe3ZhciBxPWUobCkscj1kKGgscSksaD1kKHEsaCksaD1tKGgsLTEpLHI9bShyLDEpOzA9PT1yLmxlbmd0aD9jLnJlbW92ZUNsYXNzKGYsaCk6MD09PWgubGVuZ3RoP2MuYWRkQ2xhc3MoZixyKTpjLnNldENsYXNzKGYscixoKX19bD1sYShiKX12YXIgbDtnLiR3YXRjaChrW2JdLGgsITApO2suJG9ic2VydmUoImNsYXNzIixmdW5jdGlvbihhKXtoKGcuJGV2YWwoa1tiXSkpfSk7Im5nQ2xhc3MiIT09YiYmZy4kd2F0Y2goIiRpbmRleCIsCmZ1bmN0aW9uKGMsZCl7dmFyIGY9YyYxO2lmKGYhPT0oZCYxKSl7dmFyIGg9ZShnLiRldmFsKGtbYl0pKTtmPT09YT8oZj1tKGgsMSksay4kYWRkQ2xhc3MoZikpOihmPW0oaCwtMSksay4kcmVtb3ZlQ2xhc3MoZikpfX0pfX19XX12YXIgTWU9InZhbGlkaXR5IixJPWZ1bmN0aW9uKGIpe3JldHVybiB5KGIpP2IudG9Mb3dlckNhc2UoKTpifSx5Yj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LEhhPWZ1bmN0aW9uKGIpe3JldHVybiB5KGIpP2IudG9VcHBlckNhc2UoKTpifSxQLHgsQ2EsemE9W10uc2xpY2UsTmU9W10ucHVzaCx4YT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLFJhPXYoIm5nIiksVGE9VC5hbmd1bGFyfHwoVC5hbmd1bGFyPXt9KSxWYSxMYSxrYT1bIjAiLCIwIiwiMCJdO1A9WigoL21zaWUgKFxkKykvLmV4ZWMoSShuYXZpZ2F0b3IudXNlckFnZW50KSl8fFtdKVsxXSk7aXNOYU4oUCkmJihQPVooKC90cmlkZW50XC8uKjsgcnY6KFxkKykvLmV4ZWMoSShuYXZpZ2F0b3IudXNlckFnZW50KSl8fApbXSlbMV0pKTtBLiRpbmplY3Q9W107RmEuJGluamVjdD1bXTt2YXIgTD1mdW5jdGlvbigpe3JldHVybiBPKEFycmF5LmlzQXJyYXkpP0FycmF5LmlzQXJyYXk6ZnVuY3Rpb24oYil7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PXhhLmNhbGwoYil9fSgpLGFhPWZ1bmN0aW9uKCl7cmV0dXJuIFN0cmluZy5wcm90b3R5cGUudHJpbT9mdW5jdGlvbihiKXtyZXR1cm4geShiKT9iLnRyaW0oKTpifTpmdW5jdGlvbihiKXtyZXR1cm4geShiKT9iLnJlcGxhY2UoL15cc1xzKi8sIiIpLnJlcGxhY2UoL1xzXHMqJC8sIiIpOmJ9fSgpO0xhPTk+UD9mdW5jdGlvbihiKXtiPWIubm9kZU5hbWU/YjpiWzBdO3JldHVybiBiLnNjb3BlTmFtZSYmIkhUTUwiIT1iLnNjb3BlTmFtZT9IYShiLnNjb3BlTmFtZSsiOiIrYi5ub2RlTmFtZSk6Yi5ub2RlTmFtZX06ZnVuY3Rpb24oYil7cmV0dXJuIGIubm9kZU5hbWU/Yi5ub2RlTmFtZTpiWzBdLm5vZGVOYW1lfTt2YXIgWWM9L1tBLVpdL2csYWQ9e2Z1bGw6IjEuMi4xOSIsCm1ham9yOjEsbWlub3I6Mixkb3Q6MTksY29kZU5hbWU6InByZWNvZ25pdGl2ZS1mbGFzaGJhY2tzIn07Uy5leHBhbmRvPSJuZzMzOSI7dmFyIFlhPVMuY2FjaGU9e30sbmU9MSxvYj1ULmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oYixhLGMpe2IuYWRkRXZlbnRMaXN0ZW5lcihhLGMsITEpfTpmdW5jdGlvbihiLGEsYyl7Yi5hdHRhY2hFdmVudCgib24iK2EsYyl9LFhhPVQuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcj9mdW5jdGlvbihiLGEsYyl7Yi5yZW1vdmVFdmVudExpc3RlbmVyKGEsYywhMSl9OmZ1bmN0aW9uKGIsYSxjKXtiLmRldGFjaEV2ZW50KCJvbiIrYSxjKX07Uy5fZGF0YT1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5jYWNoZVtiW3RoaXMuZXhwYW5kb11dfHx7fX07dmFyIGllPS8oW1w6XC1cX10rKC4pKS9nLGplPS9ebW96KFtBLVpdKS8sRmI9digianFMaXRlIiksa2U9L148KFx3KylccypcLz8+KD86PFwvXDE+fCkkLyxHYj0vPHwmIz9cdys7LywKbGU9LzwoW1x3Ol0rKS8sbWU9LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1x3Ol0rKVtePl0qKVwvPi9naSxlYT17b3B0aW9uOlsxLCc8c2VsZWN0IG11bHRpcGxlPSJtdWx0aXBsZSI+JywiPC9zZWxlY3Q+Il0sdGhlYWQ6WzEsIjx0YWJsZT4iLCI8L3RhYmxlPiJdLGNvbDpbMiwiPHRhYmxlPjxjb2xncm91cD4iLCI8L2NvbGdyb3VwPjwvdGFibGU+Il0sdHI6WzIsIjx0YWJsZT48dGJvZHk+IiwiPC90Ym9keT48L3RhYmxlPiJdLHRkOlszLCI8dGFibGU+PHRib2R5Pjx0cj4iLCI8L3RyPjwvdGJvZHk+PC90YWJsZT4iXSxfZGVmYXVsdDpbMCwiIiwiIl19O2VhLm9wdGdyb3VwPWVhLm9wdGlvbjtlYS50Ym9keT1lYS50Zm9vdD1lYS5jb2xncm91cD1lYS5jYXB0aW9uPWVhLnRoZWFkO2VhLnRoPWVhLnRkO3ZhciBLYT1TLnByb3RvdHlwZT17cmVhZHk6ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYSgpe2N8fChjPSEwLGIoKSl9dmFyIGM9CiExOyJjb21wbGV0ZSI9PT1WLnJlYWR5U3RhdGU/c2V0VGltZW91dChhKToodGhpcy5vbigiRE9NQ29udGVudExvYWRlZCIsYSksUyhUKS5vbigibG9hZCIsYSkpfSx0b1N0cmluZzpmdW5jdGlvbigpe3ZhciBiPVtdO3EodGhpcyxmdW5jdGlvbihhKXtiLnB1c2goIiIrYSl9KTtyZXR1cm4iWyIrYi5qb2luKCIsICIpKyJdIn0sZXE6ZnVuY3Rpb24oYil7cmV0dXJuIDA8PWI/eCh0aGlzW2JdKTp4KHRoaXNbdGhpcy5sZW5ndGgrYl0pfSxsZW5ndGg6MCxwdXNoOk5lLHNvcnQ6W10uc29ydCxzcGxpY2U6W10uc3BsaWNlfSxsYj17fTtxKCJtdWx0aXBsZSBzZWxlY3RlZCBjaGVja2VkIGRpc2FibGVkIHJlYWRPbmx5IHJlcXVpcmVkIG9wZW4iLnNwbGl0KCIgIiksZnVuY3Rpb24oYil7bGJbSShiKV09Yn0pO3ZhciBxYz17fTtxKCJpbnB1dCBzZWxlY3Qgb3B0aW9uIHRleHRhcmVhIGJ1dHRvbiBmb3JtIGRldGFpbHMiLnNwbGl0KCIgIiksZnVuY3Rpb24oYil7cWNbSGEoYildPSEwfSk7cSh7ZGF0YTptYywKaW5oZXJpdGVkRGF0YTprYixzY29wZTpmdW5jdGlvbihiKXtyZXR1cm4geChiKS5kYXRhKCIkc2NvcGUiKXx8a2IoYi5wYXJlbnROb2RlfHxiLFsiJGlzb2xhdGVTY29wZSIsIiRzY29wZSJdKX0saXNvbGF0ZVNjb3BlOmZ1bmN0aW9uKGIpe3JldHVybiB4KGIpLmRhdGEoIiRpc29sYXRlU2NvcGUiKXx8eChiKS5kYXRhKCIkaXNvbGF0ZVNjb3BlTm9UZW1wbGF0ZSIpfSxjb250cm9sbGVyOm5jLGluamVjdG9yOmZ1bmN0aW9uKGIpe3JldHVybiBrYihiLCIkaW5qZWN0b3IiKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihiLGEpe2IucmVtb3ZlQXR0cmlidXRlKGEpfSxoYXNDbGFzczpKYixjc3M6ZnVuY3Rpb24oYixhLGMpe2E9V2EoYSk7aWYoQihjKSliLnN0eWxlW2FdPWM7ZWxzZXt2YXIgZDs4Pj1QJiYoZD1iLmN1cnJlbnRTdHlsZSYmYi5jdXJyZW50U3R5bGVbYV0sIiI9PT1kJiYoZD0iYXV0byIpKTtkPWR8fGIuc3R5bGVbYV07OD49UCYmKGQ9IiI9PT1kP3M6ZCk7cmV0dXJuIGR9fSxhdHRyOmZ1bmN0aW9uKGIsCmEsYyl7dmFyIGQ9SShhKTtpZihsYltkXSlpZihCKGMpKWM/KGJbYV09ITAsYi5zZXRBdHRyaWJ1dGUoYSxkKSk6KGJbYV09ITEsYi5yZW1vdmVBdHRyaWJ1dGUoZCkpO2Vsc2UgcmV0dXJuIGJbYV18fChiLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKGEpfHxBKS5zcGVjaWZpZWQ/ZDpzO2Vsc2UgaWYoQihjKSliLnNldEF0dHJpYnV0ZShhLGMpO2Vsc2UgaWYoYi5nZXRBdHRyaWJ1dGUpcmV0dXJuIGI9Yi5nZXRBdHRyaWJ1dGUoYSwyKSxudWxsPT09Yj9zOmJ9LHByb3A6ZnVuY3Rpb24oYixhLGMpe2lmKEIoYykpYlthXT1jO2Vsc2UgcmV0dXJuIGJbYV19LHRleHQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsZCl7dmFyIGU9YVtiLm5vZGVUeXBlXTtpZihEKGQpKXJldHVybiBlP2JbZV06IiI7YltlXT1kfXZhciBhPVtdOzk+UD8oYVsxXT0iaW5uZXJUZXh0IixhWzNdPSJub2RlVmFsdWUiKTphWzFdPWFbM109InRleHRDb250ZW50IjtiLiRkdj0iIjtyZXR1cm4gYn0oKSx2YWw6ZnVuY3Rpb24oYiwKYSl7aWYoRChhKSl7aWYoIlNFTEVDVCI9PT1MYShiKSYmYi5tdWx0aXBsZSl7dmFyIGM9W107cShiLm9wdGlvbnMsZnVuY3Rpb24oYSl7YS5zZWxlY3RlZCYmYy5wdXNoKGEudmFsdWV8fGEudGV4dCl9KTtyZXR1cm4gMD09PWMubGVuZ3RoP251bGw6Y31yZXR1cm4gYi52YWx1ZX1iLnZhbHVlPWF9LGh0bWw6ZnVuY3Rpb24oYixhKXtpZihEKGEpKXJldHVybiBiLmlubmVySFRNTDtmb3IodmFyIGM9MCxkPWIuY2hpbGROb2RlcztjPGQubGVuZ3RoO2MrKylJYShkW2NdKTtiLmlubmVySFRNTD1hfSxlbXB0eTpvY30sZnVuY3Rpb24oYixhKXtTLnByb3RvdHlwZVthXT1mdW5jdGlvbihhLGQpe3ZhciBlLGcsZj10aGlzLmxlbmd0aDtpZihiIT09b2MmJigyPT1iLmxlbmd0aCYmYiE9PUpiJiZiIT09bmM/YTpkKT09PXMpe2lmKFUoYSkpe2ZvcihlPTA7ZTxmO2UrKylpZihiPT09bWMpYih0aGlzW2VdLGEpO2Vsc2UgZm9yKGcgaW4gYSliKHRoaXNbZV0sZyxhW2ddKTtyZXR1cm4gdGhpc31lPQpiLiRkdjtmPWU9PT1zP01hdGgubWluKGYsMSk6Zjtmb3IoZz0wO2c8ZjtnKyspe3ZhciBrPWIodGhpc1tnXSxhLGQpO2U9ZT9lK2s6a31yZXR1cm4gZX1mb3IoZT0wO2U8ZjtlKyspYih0aGlzW2VdLGEsZCk7cmV0dXJuIHRoaXN9fSk7cSh7cmVtb3ZlRGF0YTprYyxkZWFsb2M6SWEsb246ZnVuY3Rpb24gYShjLGQsZSxnKXtpZihCKGcpKXRocm93IEZiKCJvbmFyZ3MiKTt2YXIgZj1tYShjLCJldmVudHMiKSxrPW1hKGMsImhhbmRsZSIpO2Z8fG1hKGMsImV2ZW50cyIsZj17fSk7a3x8bWEoYywiaGFuZGxlIixrPW9lKGMsZikpO3EoZC5zcGxpdCgiICIpLGZ1bmN0aW9uKGQpe3ZhciBnPWZbZF07aWYoIWcpe2lmKCJtb3VzZWVudGVyIj09ZHx8Im1vdXNlbGVhdmUiPT1kKXt2YXIgbD1WLmJvZHkuY29udGFpbnN8fFYuYm9keS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9mdW5jdGlvbihhLGMpe3ZhciBkPTk9PT1hLm5vZGVUeXBlP2EuZG9jdW1lbnRFbGVtZW50OmEsZT1jJiZjLnBhcmVudE5vZGU7CnJldHVybiBhPT09ZXx8ISEoZSYmMT09PWUubm9kZVR5cGUmJihkLmNvbnRhaW5zP2QuY29udGFpbnMoZSk6YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKSYxNikpfTpmdW5jdGlvbihhLGMpe2lmKGMpZm9yKDtjPWMucGFyZW50Tm9kZTspaWYoYz09PWEpcmV0dXJuITA7cmV0dXJuITF9O2ZbZF09W107YShjLHttb3VzZWxlYXZlOiJtb3VzZW91dCIsbW91c2VlbnRlcjoibW91c2VvdmVyIn1bZF0sZnVuY3Rpb24oYSl7dmFyIGM9YS5yZWxhdGVkVGFyZ2V0O2MmJihjPT09dGhpc3x8bCh0aGlzLGMpKXx8ayhhLGQpfSl9ZWxzZSBvYihjLGQsayksZltkXT1bXTtnPWZbZF19Zy5wdXNoKGUpfSl9LG9mZjpsYyxvbmU6ZnVuY3Rpb24oYSxjLGQpe2E9eChhKTthLm9uKGMsZnVuY3Rpb24gZygpe2Eub2ZmKGMsZCk7YS5vZmYoYyxnKX0pO2Eub24oYyxkKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oYSxjKXt2YXIgZCxlPWEucGFyZW50Tm9kZTsKSWEoYSk7cShuZXcgUyhjKSxmdW5jdGlvbihjKXtkP2UuaW5zZXJ0QmVmb3JlKGMsZC5uZXh0U2libGluZyk6ZS5yZXBsYWNlQ2hpbGQoYyxhKTtkPWN9KX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7dmFyIGM9W107cShhLmNoaWxkTm9kZXMsZnVuY3Rpb24oYSl7MT09PWEubm9kZVR5cGUmJmMucHVzaChhKX0pO3JldHVybiBjfSxjb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250ZW50RG9jdW1lbnR8fGEuY2hpbGROb2Rlc3x8W119LGFwcGVuZDpmdW5jdGlvbihhLGMpe3EobmV3IFMoYyksZnVuY3Rpb24oYyl7MSE9PWEubm9kZVR5cGUmJjExIT09YS5ub2RlVHlwZXx8YS5hcHBlbmRDaGlsZChjKX0pfSxwcmVwZW5kOmZ1bmN0aW9uKGEsYyl7aWYoMT09PWEubm9kZVR5cGUpe3ZhciBkPWEuZmlyc3RDaGlsZDtxKG5ldyBTKGMpLGZ1bmN0aW9uKGMpe2EuaW5zZXJ0QmVmb3JlKGMsZCl9KX19LHdyYXA6ZnVuY3Rpb24oYSxjKXtjPXgoYylbMF07dmFyIGQ9YS5wYXJlbnROb2RlOwpkJiZkLnJlcGxhY2VDaGlsZChjLGEpO2MuYXBwZW5kQ2hpbGQoYSl9LHJlbW92ZTpmdW5jdGlvbihhKXtJYShhKTt2YXIgYz1hLnBhcmVudE5vZGU7YyYmYy5yZW1vdmVDaGlsZChhKX0sYWZ0ZXI6ZnVuY3Rpb24oYSxjKXt2YXIgZD1hLGU9YS5wYXJlbnROb2RlO3EobmV3IFMoYyksZnVuY3Rpb24oYSl7ZS5pbnNlcnRCZWZvcmUoYSxkLm5leHRTaWJsaW5nKTtkPWF9KX0sYWRkQ2xhc3M6amIscmVtb3ZlQ2xhc3M6aWIsdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oYSxjLGQpe2MmJnEoYy5zcGxpdCgiICIpLGZ1bmN0aW9uKGMpe3ZhciBnPWQ7RChnKSYmKGc9IUpiKGEsYykpOyhnP2piOmliKShhLGMpfSl9LHBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4oYT1hLnBhcmVudE5vZGUpJiYxMSE9PWEubm9kZVR5cGU/YTpudWxsfSxuZXh0OmZ1bmN0aW9uKGEpe2lmKGEubmV4dEVsZW1lbnRTaWJsaW5nKXJldHVybiBhLm5leHRFbGVtZW50U2libGluZztmb3IoYT1hLm5leHRTaWJsaW5nO251bGwhPQphJiYxIT09YS5ub2RlVHlwZTspYT1hLm5leHRTaWJsaW5nO3JldHVybiBhfSxmaW5kOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWU/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShjKTpbXX0sY2xvbmU6SWIsdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oYSxjLGQpe2M9KG1hKGEsImV2ZW50cyIpfHx7fSlbY107ZD1kfHxbXTt2YXIgZT1be3ByZXZlbnREZWZhdWx0OkEsc3RvcFByb3BhZ2F0aW9uOkF9XTtxKGMsZnVuY3Rpb24oYyl7Yy5hcHBseShhLGUuY29uY2F0KGQpKX0pfX0sZnVuY3Rpb24oYSxjKXtTLnByb3RvdHlwZVtjXT1mdW5jdGlvbihjLGUsZyl7Zm9yKHZhciBmLGs9MDtrPHRoaXMubGVuZ3RoO2srKylEKGYpPyhmPWEodGhpc1trXSxjLGUsZyksQihmKSYmKGY9eChmKSkpOkhiKGYsYSh0aGlzW2tdLGMsZSxnKSk7cmV0dXJuIEIoZik/Zjp0aGlzfTtTLnByb3RvdHlwZS5iaW5kPVMucHJvdG90eXBlLm9uO1MucHJvdG90eXBlLnVuYmluZD1TLnByb3RvdHlwZS5vZmZ9KTsKWmEucHJvdG90eXBlPXtwdXQ6ZnVuY3Rpb24oYSxjKXt0aGlzW0phKGEsdGhpcy5uZXh0VWlkKV09Y30sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzW0phKGEsdGhpcy5uZXh0VWlkKV19LHJlbW92ZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzW2E9SmEoYSx0aGlzLm5leHRVaWQpXTtkZWxldGUgdGhpc1thXTtyZXR1cm4gY319O3ZhciBxZT0vXmZ1bmN0aW9uXHMqW15cKF0qXChccyooW15cKV0qKVwpL20scmU9LywvLHNlPS9eXHMqKF8/KShcUys/KVwxXHMqJC8scGU9LygoXC9cLy4qJCl8KFwvXCpbXHNcU10qP1wqXC8pKS9tZywkYT12KCIkaW5qZWN0b3IiKSxPZT12KCIkYW5pbWF0ZSIpLE1kPVsiJHByb3ZpZGUiLGZ1bmN0aW9uKGEpe3RoaXMuJCRzZWxlY3RvcnM9e307dGhpcy5yZWdpc3Rlcj1mdW5jdGlvbihjLGQpe3ZhciBlPWMrIi1hbmltYXRpb24iO2lmKGMmJiIuIiE9Yy5jaGFyQXQoMCkpdGhyb3cgT2UoIm5vdGNzZWwiLGMpO3RoaXMuJCRzZWxlY3RvcnNbYy5zdWJzdHIoMSldPQplO2EuZmFjdG9yeShlLGQpfTt0aGlzLmNsYXNzTmFtZUZpbHRlcj1mdW5jdGlvbihhKXsxPT09YXJndW1lbnRzLmxlbmd0aCYmKHRoaXMuJCRjbGFzc05hbWVGaWx0ZXI9YSBpbnN0YW5jZW9mIFJlZ0V4cD9hOm51bGwpO3JldHVybiB0aGlzLiQkY2xhc3NOYW1lRmlsdGVyfTt0aGlzLiRnZXQ9WyIkdGltZW91dCIsIiQkYXN5bmNDYWxsYmFjayIsZnVuY3Rpb24oYSxkKXtyZXR1cm57ZW50ZXI6ZnVuY3Rpb24oYSxjLGYsayl7Zj9mLmFmdGVyKGEpOihjJiZjWzBdfHwoYz1mLnBhcmVudCgpKSxjLmFwcGVuZChhKSk7ayYmZChrKX0sbGVhdmU6ZnVuY3Rpb24oYSxjKXthLnJlbW92ZSgpO2MmJmQoYyl9LG1vdmU6ZnVuY3Rpb24oYSxjLGQsayl7dGhpcy5lbnRlcihhLGMsZCxrKX0sYWRkQ2xhc3M6ZnVuY3Rpb24oYSxjLGYpe2M9eShjKT9jOkwoYyk/Yy5qb2luKCIgIik6IiI7cShhLGZ1bmN0aW9uKGEpe2piKGEsYyl9KTtmJiZkKGYpfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhLGMsZil7Yz0KeShjKT9jOkwoYyk/Yy5qb2luKCIgIik6IiI7cShhLGZ1bmN0aW9uKGEpe2liKGEsYyl9KTtmJiZkKGYpfSxzZXRDbGFzczpmdW5jdGlvbihhLGMsZixrKXtxKGEsZnVuY3Rpb24oYSl7amIoYSxjKTtpYihhLGYpfSk7ayYmZChrKX0sZW5hYmxlZDpBfX1dfV0saWE9digiJGNvbXBpbGUiKTtmYy4kaW5qZWN0PVsiJHByb3ZpZGUiLCIkJHNhbml0aXplVXJpUHJvdmlkZXIiXTt2YXIgdmU9L14oeFtcOlwtX118ZGF0YVtcOlwtX10pL2kseWM9digiJGludGVycG9sYXRlIiksUGU9L14oW15cPyNdKikoXD8oW14jXSopKT8oIyguKikpPyQvLHllPXtodHRwOjgwLGh0dHBzOjQ0MyxmdHA6MjF9LE9iPXYoIiRsb2NhdGlvbiIpO1FiLnByb3RvdHlwZT1QYi5wcm90b3R5cGU9QmMucHJvdG90eXBlPXskJGh0bWw1OiExLCQkcmVwbGFjZTohMSxhYnNVcmw6cGIoIiQkYWJzVXJsIiksdXJsOmZ1bmN0aW9uKGEsYyl7aWYoRChhKSlyZXR1cm4gdGhpcy4kJHVybDt2YXIgZD1QZS5leGVjKGEpO2RbMV0mJgp0aGlzLnBhdGgoZGVjb2RlVVJJQ29tcG9uZW50KGRbMV0pKTsoZFsyXXx8ZFsxXSkmJnRoaXMuc2VhcmNoKGRbM118fCIiKTt0aGlzLmhhc2goZFs1XXx8IiIsYyk7cmV0dXJuIHRoaXN9LHByb3RvY29sOnBiKCIkJHByb3RvY29sIiksaG9zdDpwYigiJCRob3N0IikscG9ydDpwYigiJCRwb3J0IikscGF0aDpDYygiJCRwYXRoIixmdW5jdGlvbihhKXtyZXR1cm4iLyI9PWEuY2hhckF0KDApP2E6Ii8iK2F9KSxzZWFyY2g6ZnVuY3Rpb24oYSxjKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiB0aGlzLiQkc2VhcmNoO2Nhc2UgMTppZih5KGEpKXRoaXMuJCRzZWFyY2g9YmMoYSk7ZWxzZSBpZihVKGEpKXRoaXMuJCRzZWFyY2g9YTtlbHNlIHRocm93IE9iKCJpc3JjaGFyZyIpO2JyZWFrO2RlZmF1bHQ6RChjKXx8bnVsbD09PWM/ZGVsZXRlIHRoaXMuJCRzZWFyY2hbYV06dGhpcy4kJHNlYXJjaFthXT1jfXRoaXMuJCRjb21wb3NlKCk7cmV0dXJuIHRoaXN9LGhhc2g6Q2MoIiQkaGFzaCIsCkZhKSxyZXBsYWNlOmZ1bmN0aW9uKCl7dGhpcy4kJHJlcGxhY2U9ITA7cmV0dXJuIHRoaXN9fTt2YXIgamE9digiJHBhcnNlIiksRmM9e30sdWEsUWU9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwsUmU9RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LFFjPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLGNiPXsibnVsbCI6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sInRydWUiOmZ1bmN0aW9uKCl7cmV0dXJuITB9LCJmYWxzZSI6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdW5kZWZpbmVkOkEsIisiOmZ1bmN0aW9uKGEsYyxkLGUpe2Q9ZChhLGMpO2U9ZShhLGMpO3JldHVybiBCKGQpP0IoZSk/ZCtlOmQ6QihlKT9lOnN9LCItIjpmdW5jdGlvbihhLGMsZCxlKXtkPWQoYSxjKTtlPWUoYSxjKTtyZXR1cm4oQihkKT9kOjApLShCKGUpP2U6MCl9LCIqIjpmdW5jdGlvbihhLGMsZCxlKXtyZXR1cm4gZChhLGMpKmUoYSxjKX0sIi8iOmZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBkKGEsYykvZShhLGMpfSwiJSI6ZnVuY3Rpb24oYSwKYyxkLGUpe3JldHVybiBkKGEsYyklZShhLGMpfSwiXiI6ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIGQoYSxjKV5lKGEsYyl9LCI9IjpBLCI9PT0iOmZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBkKGEsYyk9PT1lKGEsYyl9LCIhPT0iOmZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBkKGEsYykhPT1lKGEsYyl9LCI9PSI6ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIGQoYSxjKT09ZShhLGMpfSwiIT0iOmZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBkKGEsYykhPWUoYSxjKX0sIjwiOmZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBkKGEsYyk8ZShhLGMpfSwiPiI6ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIGQoYSxjKT5lKGEsYyl9LCI8PSI6ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIGQoYSxjKTw9ZShhLGMpfSwiPj0iOmZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBkKGEsYyk+PWUoYSxjKX0sIiYmIjpmdW5jdGlvbihhLGMsZCxlKXtyZXR1cm4gZChhLGMpJiZlKGEsYyl9LCJ8fCI6ZnVuY3Rpb24oYSwKYyxkLGUpe3JldHVybiBkKGEsYyl8fGUoYSxjKX0sIiYiOmZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBkKGEsYykmZShhLGMpfSwifCI6ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIGUoYSxjKShhLGMsZChhLGMpKX0sIiEiOmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4hZChhLGMpfX0sU2U9e246IlxuIixmOiJcZiIscjoiXHIiLHQ6Ilx0Iix2OiJcdiIsIiciOiInIiwnIic6JyInfSxTYj1mdW5jdGlvbihhKXt0aGlzLm9wdGlvbnM9YX07U2IucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpTYixsZXg6ZnVuY3Rpb24oYSl7dGhpcy50ZXh0PWE7dGhpcy5pbmRleD0wO3RoaXMuY2g9czt0aGlzLmxhc3RDaD0iOiI7Zm9yKHRoaXMudG9rZW5zPVtdO3RoaXMuaW5kZXg8dGhpcy50ZXh0Lmxlbmd0aDspe3RoaXMuY2g9dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KTtpZih0aGlzLmlzKCJcIiciKSl0aGlzLnJlYWRTdHJpbmcodGhpcy5jaCk7ZWxzZSBpZih0aGlzLmlzTnVtYmVyKHRoaXMuY2gpfHwKdGhpcy5pcygiLiIpJiZ0aGlzLmlzTnVtYmVyKHRoaXMucGVlaygpKSl0aGlzLnJlYWROdW1iZXIoKTtlbHNlIGlmKHRoaXMuaXNJZGVudCh0aGlzLmNoKSl0aGlzLnJlYWRJZGVudCgpO2Vsc2UgaWYodGhpcy5pcygiKCl7fVtdLiw7Oj8iKSl0aGlzLnRva2Vucy5wdXNoKHtpbmRleDp0aGlzLmluZGV4LHRleHQ6dGhpcy5jaH0pLHRoaXMuaW5kZXgrKztlbHNlIGlmKHRoaXMuaXNXaGl0ZXNwYWNlKHRoaXMuY2gpKXt0aGlzLmluZGV4Kys7Y29udGludWV9ZWxzZXthPXRoaXMuY2grdGhpcy5wZWVrKCk7dmFyIGM9YSt0aGlzLnBlZWsoMiksZD1jYlt0aGlzLmNoXSxlPWNiW2FdLGc9Y2JbY107Zz8odGhpcy50b2tlbnMucHVzaCh7aW5kZXg6dGhpcy5pbmRleCx0ZXh0OmMsZm46Z30pLHRoaXMuaW5kZXgrPTMpOmU/KHRoaXMudG9rZW5zLnB1c2goe2luZGV4OnRoaXMuaW5kZXgsdGV4dDphLGZuOmV9KSx0aGlzLmluZGV4Kz0yKTpkPyh0aGlzLnRva2Vucy5wdXNoKHtpbmRleDp0aGlzLmluZGV4LAp0ZXh0OnRoaXMuY2gsZm46ZH0pLHRoaXMuaW5kZXgrPTEpOnRoaXMudGhyb3dFcnJvcigiVW5leHBlY3RlZCBuZXh0IGNoYXJhY3RlciAiLHRoaXMuaW5kZXgsdGhpcy5pbmRleCsxKX10aGlzLmxhc3RDaD10aGlzLmNofXJldHVybiB0aGlzLnRva2Vuc30saXM6ZnVuY3Rpb24oYSl7cmV0dXJuLTEhPT1hLmluZGV4T2YodGhpcy5jaCl9LHdhczpmdW5jdGlvbihhKXtyZXR1cm4tMSE9PWEuaW5kZXhPZih0aGlzLmxhc3RDaCl9LHBlZWs6ZnVuY3Rpb24oYSl7YT1hfHwxO3JldHVybiB0aGlzLmluZGV4K2E8dGhpcy50ZXh0Lmxlbmd0aD90aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgrYSk6ITF9LGlzTnVtYmVyOmZ1bmN0aW9uKGEpe3JldHVybiIwIjw9YSYmIjkiPj1hfSxpc1doaXRlc3BhY2U6ZnVuY3Rpb24oYSl7cmV0dXJuIiAiPT09YXx8IlxyIj09PWF8fCJcdCI9PT1hfHwiXG4iPT09YXx8Ilx2Ij09PWF8fCJcdTAwYTAiPT09YX0saXNJZGVudDpmdW5jdGlvbihhKXtyZXR1cm4iYSI8PQphJiYieiI+PWF8fCJBIjw9YSYmIloiPj1hfHwiXyI9PT1hfHwiJCI9PT1hfSxpc0V4cE9wZXJhdG9yOmZ1bmN0aW9uKGEpe3JldHVybiItIj09PWF8fCIrIj09PWF8fHRoaXMuaXNOdW1iZXIoYSl9LHRocm93RXJyb3I6ZnVuY3Rpb24oYSxjLGQpe2Q9ZHx8dGhpcy5pbmRleDtjPUIoYyk/InMgIitjKyItIit0aGlzLmluZGV4KyIgWyIrdGhpcy50ZXh0LnN1YnN0cmluZyhjLGQpKyJdIjoiICIrZDt0aHJvdyBqYSgibGV4ZXJyIixhLGMsdGhpcy50ZXh0KTt9LHJlYWROdW1iZXI6ZnVuY3Rpb24oKXtmb3IodmFyIGE9IiIsYz10aGlzLmluZGV4O3RoaXMuaW5kZXg8dGhpcy50ZXh0Lmxlbmd0aDspe3ZhciBkPUkodGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KSk7aWYoIi4iPT1kfHx0aGlzLmlzTnVtYmVyKGQpKWErPWQ7ZWxzZXt2YXIgZT10aGlzLnBlZWsoKTtpZigiZSI9PWQmJnRoaXMuaXNFeHBPcGVyYXRvcihlKSlhKz1kO2Vsc2UgaWYodGhpcy5pc0V4cE9wZXJhdG9yKGQpJiYKZSYmdGhpcy5pc051bWJlcihlKSYmImUiPT1hLmNoYXJBdChhLmxlbmd0aC0xKSlhKz1kO2Vsc2UgaWYoIXRoaXMuaXNFeHBPcGVyYXRvcihkKXx8ZSYmdGhpcy5pc051bWJlcihlKXx8ImUiIT1hLmNoYXJBdChhLmxlbmd0aC0xKSlicmVhaztlbHNlIHRoaXMudGhyb3dFcnJvcigiSW52YWxpZCBleHBvbmVudCIpfXRoaXMuaW5kZXgrK31hKj0xO3RoaXMudG9rZW5zLnB1c2goe2luZGV4OmMsdGV4dDphLGxpdGVyYWw6ITAsY29uc3RhbnQ6ITAsZm46ZnVuY3Rpb24oKXtyZXR1cm4gYX19KX0scmVhZElkZW50OmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMsYz0iIixkPXRoaXMuaW5kZXgsZSxnLGYsazt0aGlzLmluZGV4PHRoaXMudGV4dC5sZW5ndGg7KXtrPXRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7aWYoIi4iPT09a3x8dGhpcy5pc0lkZW50KGspfHx0aGlzLmlzTnVtYmVyKGspKSIuIj09PWsmJihlPXRoaXMuaW5kZXgpLGMrPWs7ZWxzZSBicmVhazt0aGlzLmluZGV4Kyt9aWYoZSlmb3IoZz0KdGhpcy5pbmRleDtnPHRoaXMudGV4dC5sZW5ndGg7KXtrPXRoaXMudGV4dC5jaGFyQXQoZyk7aWYoIigiPT09ayl7Zj1jLnN1YnN0cihlLWQrMSk7Yz1jLnN1YnN0cigwLGUtZCk7dGhpcy5pbmRleD1nO2JyZWFrfWlmKHRoaXMuaXNXaGl0ZXNwYWNlKGspKWcrKztlbHNlIGJyZWFrfWQ9e2luZGV4OmQsdGV4dDpjfTtpZihjYi5oYXNPd25Qcm9wZXJ0eShjKSlkLmZuPWNiW2NdLGQubGl0ZXJhbD0hMCxkLmNvbnN0YW50PSEwO2Vsc2V7dmFyIG09RWMoYyx0aGlzLm9wdGlvbnMsdGhpcy50ZXh0KTtkLmZuPUUoZnVuY3Rpb24oYSxjKXtyZXR1cm4gbShhLGMpfSx7YXNzaWduOmZ1bmN0aW9uKGQsZSl7cmV0dXJuIHFiKGQsYyxlLGEudGV4dCxhLm9wdGlvbnMpfX0pfXRoaXMudG9rZW5zLnB1c2goZCk7ZiYmKHRoaXMudG9rZW5zLnB1c2goe2luZGV4OmUsdGV4dDoiLiJ9KSx0aGlzLnRva2Vucy5wdXNoKHtpbmRleDplKzEsdGV4dDpmfSkpfSxyZWFkU3RyaW5nOmZ1bmN0aW9uKGEpe3ZhciBjPQp0aGlzLmluZGV4O3RoaXMuaW5kZXgrKztmb3IodmFyIGQ9IiIsZT1hLGc9ITE7dGhpcy5pbmRleDx0aGlzLnRleHQubGVuZ3RoOyl7dmFyIGY9dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KSxlPWUrZjtpZihnKSJ1Ij09PWY/KGY9dGhpcy50ZXh0LnN1YnN0cmluZyh0aGlzLmluZGV4KzEsdGhpcy5pbmRleCs1KSxmLm1hdGNoKC9bXGRhLWZdezR9L2kpfHx0aGlzLnRocm93RXJyb3IoIkludmFsaWQgdW5pY29kZSBlc2NhcGUgW1xcdSIrZisiXSIpLHRoaXMuaW5kZXgrPTQsZCs9U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChmLDE2KSkpOmQ9KGc9U2VbZl0pP2QrZzpkK2YsZz0hMTtlbHNlIGlmKCJcXCI9PT1mKWc9ITA7ZWxzZXtpZihmPT09YSl7dGhpcy5pbmRleCsrO3RoaXMudG9rZW5zLnB1c2goe2luZGV4OmMsdGV4dDplLHN0cmluZzpkLGxpdGVyYWw6ITAsY29uc3RhbnQ6ITAsZm46ZnVuY3Rpb24oKXtyZXR1cm4gZH19KTtyZXR1cm59ZCs9Zn10aGlzLmluZGV4Kyt9dGhpcy50aHJvd0Vycm9yKCJVbnRlcm1pbmF0ZWQgcXVvdGUiLApjKX19O3ZhciBiYj1mdW5jdGlvbihhLGMsZCl7dGhpcy5sZXhlcj1hO3RoaXMuJGZpbHRlcj1jO3RoaXMub3B0aW9ucz1kfTtiYi5aRVJPPUUoZnVuY3Rpb24oKXtyZXR1cm4gMH0se2NvbnN0YW50OiEwfSk7YmIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpiYixwYXJzZTpmdW5jdGlvbihhKXt0aGlzLnRleHQ9YTt0aGlzLnRva2Vucz10aGlzLmxleGVyLmxleChhKTthPXRoaXMuc3RhdGVtZW50cygpOzAhPT10aGlzLnRva2Vucy5sZW5ndGgmJnRoaXMudGhyb3dFcnJvcigiaXMgYW4gdW5leHBlY3RlZCB0b2tlbiIsdGhpcy50b2tlbnNbMF0pO2EubGl0ZXJhbD0hIWEubGl0ZXJhbDthLmNvbnN0YW50PSEhYS5jb25zdGFudDtyZXR1cm4gYX0scHJpbWFyeTpmdW5jdGlvbigpe3ZhciBhO2lmKHRoaXMuZXhwZWN0KCIoIikpYT10aGlzLmZpbHRlckNoYWluKCksdGhpcy5jb25zdW1lKCIpIik7ZWxzZSBpZih0aGlzLmV4cGVjdCgiWyIpKWE9dGhpcy5hcnJheURlY2xhcmF0aW9uKCk7ZWxzZSBpZih0aGlzLmV4cGVjdCgieyIpKWE9CnRoaXMub2JqZWN0KCk7ZWxzZXt2YXIgYz10aGlzLmV4cGVjdCgpOyhhPWMuZm4pfHx0aGlzLnRocm93RXJyb3IoIm5vdCBhIHByaW1hcnkgZXhwcmVzc2lvbiIsYyk7YS5saXRlcmFsPSEhYy5saXRlcmFsO2EuY29uc3RhbnQ9ISFjLmNvbnN0YW50fWZvcih2YXIgZDtjPXRoaXMuZXhwZWN0KCIoIiwiWyIsIi4iKTspIigiPT09Yy50ZXh0PyhhPXRoaXMuZnVuY3Rpb25DYWxsKGEsZCksZD1udWxsKToiWyI9PT1jLnRleHQ/KGQ9YSxhPXRoaXMub2JqZWN0SW5kZXgoYSkpOiIuIj09PWMudGV4dD8oZD1hLGE9dGhpcy5maWVsZEFjY2VzcyhhKSk6dGhpcy50aHJvd0Vycm9yKCJJTVBPU1NJQkxFIik7cmV0dXJuIGF9LHRocm93RXJyb3I6ZnVuY3Rpb24oYSxjKXt0aHJvdyBqYSgic3ludGF4IixjLnRleHQsYSxjLmluZGV4KzEsdGhpcy50ZXh0LHRoaXMudGV4dC5zdWJzdHJpbmcoYy5pbmRleCkpO30scGVla1Rva2VuOmZ1bmN0aW9uKCl7aWYoMD09PXRoaXMudG9rZW5zLmxlbmd0aCl0aHJvdyBqYSgidWVvZSIsCnRoaXMudGV4dCk7cmV0dXJuIHRoaXMudG9rZW5zWzBdfSxwZWVrOmZ1bmN0aW9uKGEsYyxkLGUpe2lmKDA8dGhpcy50b2tlbnMubGVuZ3RoKXt2YXIgZz10aGlzLnRva2Vuc1swXSxmPWcudGV4dDtpZihmPT09YXx8Zj09PWN8fGY9PT1kfHxmPT09ZXx8IShhfHxjfHxkfHxlKSlyZXR1cm4gZ31yZXR1cm4hMX0sZXhwZWN0OmZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybihhPXRoaXMucGVlayhhLGMsZCxlKSk/KHRoaXMudG9rZW5zLnNoaWZ0KCksYSk6ITF9LGNvbnN1bWU6ZnVuY3Rpb24oYSl7dGhpcy5leHBlY3QoYSl8fHRoaXMudGhyb3dFcnJvcigiaXMgdW5leHBlY3RlZCwgZXhwZWN0aW5nIFsiK2ErIl0iLHRoaXMucGVlaygpKX0sdW5hcnlGbjpmdW5jdGlvbihhLGMpe3JldHVybiBFKGZ1bmN0aW9uKGQsZSl7cmV0dXJuIGEoZCxlLGMpfSx7Y29uc3RhbnQ6Yy5jb25zdGFudH0pfSx0ZXJuYXJ5Rm46ZnVuY3Rpb24oYSxjLGQpe3JldHVybiBFKGZ1bmN0aW9uKGUsZyl7cmV0dXJuIGEoZSwKZyk/YyhlLGcpOmQoZSxnKX0se2NvbnN0YW50OmEuY29uc3RhbnQmJmMuY29uc3RhbnQmJmQuY29uc3RhbnR9KX0sYmluYXJ5Rm46ZnVuY3Rpb24oYSxjLGQpe3JldHVybiBFKGZ1bmN0aW9uKGUsZyl7cmV0dXJuIGMoZSxnLGEsZCl9LHtjb25zdGFudDphLmNvbnN0YW50JiZkLmNvbnN0YW50fSl9LHN0YXRlbWVudHM6ZnVuY3Rpb24oKXtmb3IodmFyIGE9W107OylpZigwPHRoaXMudG9rZW5zLmxlbmd0aCYmIXRoaXMucGVlaygifSIsIikiLCI7IiwiXSIpJiZhLnB1c2godGhpcy5maWx0ZXJDaGFpbigpKSwhdGhpcy5leHBlY3QoIjsiKSlyZXR1cm4gMT09PWEubGVuZ3RoP2FbMF06ZnVuY3Rpb24oYyxkKXtmb3IodmFyIGUsZz0wO2c8YS5sZW5ndGg7ZysrKXt2YXIgZj1hW2ddO2YmJihlPWYoYyxkKSl9cmV0dXJuIGV9fSxmaWx0ZXJDaGFpbjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmV4cHJlc3Npb24oKSxjOzspaWYoYz10aGlzLmV4cGVjdCgifCIpKWE9dGhpcy5iaW5hcnlGbihhLApjLmZuLHRoaXMuZmlsdGVyKCkpO2Vsc2UgcmV0dXJuIGF9LGZpbHRlcjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmV4cGVjdCgpLGM9dGhpcy4kZmlsdGVyKGEudGV4dCksZD1bXTs7KWlmKGE9dGhpcy5leHBlY3QoIjoiKSlkLnB1c2godGhpcy5leHByZXNzaW9uKCkpO2Vsc2V7dmFyIGU9ZnVuY3Rpb24oYSxlLGspe2s9W2tdO2Zvcih2YXIgbT0wO208ZC5sZW5ndGg7bSsrKWsucHVzaChkW21dKGEsZSkpO3JldHVybiBjLmFwcGx5KGEsayl9O3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlfX19LGV4cHJlc3Npb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hc3NpZ25tZW50KCl9LGFzc2lnbm1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRlcm5hcnkoKSxjLGQ7cmV0dXJuKGQ9dGhpcy5leHBlY3QoIj0iKSk/KGEuYXNzaWdufHx0aGlzLnRocm93RXJyb3IoImltcGxpZXMgYXNzaWdubWVudCBidXQgWyIrdGhpcy50ZXh0LnN1YnN0cmluZygwLGQuaW5kZXgpKyJdIGNhbiBub3QgYmUgYXNzaWduZWQgdG8iLApkKSxjPXRoaXMudGVybmFyeSgpLGZ1bmN0aW9uKGQsZyl7cmV0dXJuIGEuYXNzaWduKGQsYyhkLGcpLGcpfSk6YX0sdGVybmFyeTpmdW5jdGlvbigpe3ZhciBhPXRoaXMubG9naWNhbE9SKCksYyxkO2lmKHRoaXMuZXhwZWN0KCI/Iikpe2M9dGhpcy50ZXJuYXJ5KCk7aWYoZD10aGlzLmV4cGVjdCgiOiIpKXJldHVybiB0aGlzLnRlcm5hcnlGbihhLGMsdGhpcy50ZXJuYXJ5KCkpO3RoaXMudGhyb3dFcnJvcigiZXhwZWN0ZWQgOiIsZCl9ZWxzZSByZXR1cm4gYX0sbG9naWNhbE9SOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMubG9naWNhbEFORCgpLGM7OylpZihjPXRoaXMuZXhwZWN0KCJ8fCIpKWE9dGhpcy5iaW5hcnlGbihhLGMuZm4sdGhpcy5sb2dpY2FsQU5EKCkpO2Vsc2UgcmV0dXJuIGF9LGxvZ2ljYWxBTkQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVxdWFsaXR5KCksYztpZihjPXRoaXMuZXhwZWN0KCImJiIpKWE9dGhpcy5iaW5hcnlGbihhLGMuZm4sdGhpcy5sb2dpY2FsQU5EKCkpOwpyZXR1cm4gYX0sZXF1YWxpdHk6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnJlbGF0aW9uYWwoKSxjO2lmKGM9dGhpcy5leHBlY3QoIj09IiwiIT0iLCI9PT0iLCIhPT0iKSlhPXRoaXMuYmluYXJ5Rm4oYSxjLmZuLHRoaXMuZXF1YWxpdHkoKSk7cmV0dXJuIGF9LHJlbGF0aW9uYWw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmFkZGl0aXZlKCksYztpZihjPXRoaXMuZXhwZWN0KCI8IiwiPiIsIjw9IiwiPj0iKSlhPXRoaXMuYmluYXJ5Rm4oYSxjLmZuLHRoaXMucmVsYXRpb25hbCgpKTtyZXR1cm4gYX0sYWRkaXRpdmU6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5tdWx0aXBsaWNhdGl2ZSgpLGM7Yz10aGlzLmV4cGVjdCgiKyIsIi0iKTspYT10aGlzLmJpbmFyeUZuKGEsYy5mbix0aGlzLm11bHRpcGxpY2F0aXZlKCkpO3JldHVybiBhfSxtdWx0aXBsaWNhdGl2ZTpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLnVuYXJ5KCksYztjPXRoaXMuZXhwZWN0KCIqIiwiLyIsIiUiKTspYT10aGlzLmJpbmFyeUZuKGEsCmMuZm4sdGhpcy51bmFyeSgpKTtyZXR1cm4gYX0sdW5hcnk6ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gdGhpcy5leHBlY3QoIisiKT90aGlzLnByaW1hcnkoKTooYT10aGlzLmV4cGVjdCgiLSIpKT90aGlzLmJpbmFyeUZuKGJiLlpFUk8sYS5mbix0aGlzLnVuYXJ5KCkpOihhPXRoaXMuZXhwZWN0KCIhIikpP3RoaXMudW5hcnlGbihhLmZuLHRoaXMudW5hcnkoKSk6dGhpcy5wcmltYXJ5KCl9LGZpZWxkQWNjZXNzOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMsZD10aGlzLmV4cGVjdCgpLnRleHQsZT1FYyhkLHRoaXMub3B0aW9ucyx0aGlzLnRleHQpO3JldHVybiBFKGZ1bmN0aW9uKGMsZCxrKXtyZXR1cm4gZShrfHxhKGMsZCkpfSx7YXNzaWduOmZ1bmN0aW9uKGUsZixrKXtyZXR1cm4gcWIoYShlLGspLGQsZixjLnRleHQsYy5vcHRpb25zKX19KX0sb2JqZWN0SW5kZXg6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcyxkPXRoaXMuZXhwcmVzc2lvbigpO3RoaXMuY29uc3VtZSgiXSIpO3JldHVybiBFKGZ1bmN0aW9uKGUsCmcpe3ZhciBmPWEoZSxnKSxrPWQoZSxnKSxtO2RhKGssYy50ZXh0KTtpZighZilyZXR1cm4gczsoZj1NYShmW2tdLGMudGV4dCkpJiYoZi50aGVuJiZjLm9wdGlvbnMudW53cmFwUHJvbWlzZXMpJiYobT1mLCIkJHYiaW4gZnx8KG0uJCR2PXMsbS50aGVuKGZ1bmN0aW9uKGEpe20uJCR2PWF9KSksZj1mLiQkdik7cmV0dXJuIGZ9LHthc3NpZ246ZnVuY3Rpb24oZSxnLGYpe3ZhciBrPWQoZSxmKTtyZXR1cm4gTWEoYShlLGYpLGMudGV4dClba109Z319KX0sZnVuY3Rpb25DYWxsOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9W107aWYoIikiIT09dGhpcy5wZWVrVG9rZW4oKS50ZXh0KXtkbyBkLnB1c2godGhpcy5leHByZXNzaW9uKCkpO3doaWxlKHRoaXMuZXhwZWN0KCIsIikpfXRoaXMuY29uc3VtZSgiKSIpO3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKGcsZil7Zm9yKHZhciBrPVtdLG09Yz9jKGcsZik6ZyxoPTA7aDxkLmxlbmd0aDtoKyspay5wdXNoKGRbaF0oZyxmKSk7aD1hKGcsZixtKXx8CkE7TWEobSxlLnRleHQpO3ZhciBsPWUudGV4dDtpZihoKXtpZihoLmNvbnN0cnVjdG9yPT09aCl0aHJvdyBqYSgiaXNlY2ZuIixsKTtpZihoPT09UWV8fGg9PT1SZXx8UWMmJmg9PT1RYyl0aHJvdyBqYSgiaXNlY2ZmIixsKTt9az1oLmFwcGx5P2guYXBwbHkobSxrKTpoKGtbMF0sa1sxXSxrWzJdLGtbM10sa1s0XSk7cmV0dXJuIE1hKGssZS50ZXh0KX19LGFycmF5RGVjbGFyYXRpb246ZnVuY3Rpb24oKXt2YXIgYT1bXSxjPSEwO2lmKCJdIiE9PXRoaXMucGVla1Rva2VuKCkudGV4dCl7ZG97aWYodGhpcy5wZWVrKCJdIikpYnJlYWs7dmFyIGQ9dGhpcy5leHByZXNzaW9uKCk7YS5wdXNoKGQpO2QuY29uc3RhbnR8fChjPSExKX13aGlsZSh0aGlzLmV4cGVjdCgiLCIpKX10aGlzLmNvbnN1bWUoIl0iKTtyZXR1cm4gRShmdW5jdGlvbihjLGQpe2Zvcih2YXIgZj1bXSxrPTA7azxhLmxlbmd0aDtrKyspZi5wdXNoKGFba10oYyxkKSk7cmV0dXJuIGZ9LHtsaXRlcmFsOiEwLGNvbnN0YW50OmN9KX0sCm9iamVjdDpmdW5jdGlvbigpe3ZhciBhPVtdLGM9ITA7aWYoIn0iIT09dGhpcy5wZWVrVG9rZW4oKS50ZXh0KXtkb3tpZih0aGlzLnBlZWsoIn0iKSlicmVhazt2YXIgZD10aGlzLmV4cGVjdCgpLGQ9ZC5zdHJpbmd8fGQudGV4dDt0aGlzLmNvbnN1bWUoIjoiKTt2YXIgZT10aGlzLmV4cHJlc3Npb24oKTthLnB1c2goe2tleTpkLHZhbHVlOmV9KTtlLmNvbnN0YW50fHwoYz0hMSl9d2hpbGUodGhpcy5leHBlY3QoIiwiKSl9dGhpcy5jb25zdW1lKCJ9Iik7cmV0dXJuIEUoZnVuY3Rpb24oYyxkKXtmb3IodmFyIGU9e30sbT0wO208YS5sZW5ndGg7bSsrKXt2YXIgaD1hW21dO2VbaC5rZXldPWgudmFsdWUoYyxkKX1yZXR1cm4gZX0se2xpdGVyYWw6ITAsY29uc3RhbnQ6Y30pfX07dmFyIFJiPXt9LHZhPXYoIiRzY2UiKSxmYT17SFRNTDoiaHRtbCIsQ1NTOiJjc3MiLFVSTDoidXJsIixSRVNPVVJDRV9VUkw6InJlc291cmNlVXJsIixKUzoianMifSxXPVYuY3JlYXRlRWxlbWVudCgiYSIpLApIYz10YShULmxvY2F0aW9uLmhyZWYsITApO2pjLiRpbmplY3Q9WyIkcHJvdmlkZSJdO0ljLiRpbmplY3Q9WyIkbG9jYWxlIl07S2MuJGluamVjdD1bIiRsb2NhbGUiXTt2YXIgTmM9Ii4iLEtlPXt5eXl5OlkoIkZ1bGxZZWFyIiw0KSx5eTpZKCJGdWxsWWVhciIsMiwwLCEwKSx5OlkoIkZ1bGxZZWFyIiwxKSxNTU1NOnJiKCJNb250aCIpLE1NTTpyYigiTW9udGgiLCEwKSxNTTpZKCJNb250aCIsMiwxKSxNOlkoIk1vbnRoIiwxLDEpLGRkOlkoIkRhdGUiLDIpLGQ6WSgiRGF0ZSIsMSksSEg6WSgiSG91cnMiLDIpLEg6WSgiSG91cnMiLDEpLGhoOlkoIkhvdXJzIiwyLC0xMiksaDpZKCJIb3VycyIsMSwtMTIpLG1tOlkoIk1pbnV0ZXMiLDIpLG06WSgiTWludXRlcyIsMSksc3M6WSgiU2Vjb25kcyIsMiksczpZKCJTZWNvbmRzIiwxKSxzc3M6WSgiTWlsbGlzZWNvbmRzIiwzKSxFRUVFOnJiKCJEYXkiKSxFRUU6cmIoIkRheSIsITApLGE6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gMTI+YS5nZXRIb3VycygpPwpjLkFNUE1TWzBdOmMuQU1QTVNbMV19LFo6ZnVuY3Rpb24oYSl7YT0tMSphLmdldFRpbWV6b25lT2Zmc2V0KCk7cmV0dXJuIGE9KDA8PWE/IisiOiIiKSsoVGIoTWF0aFswPGE/ImZsb29yIjoiY2VpbCJdKGEvNjApLDIpK1RiKE1hdGguYWJzKGElNjApLDIpKX19LEplPS8oKD86W155TWRIaG1zYVpFJ10rKXwoPzonKD86W14nXXwnJykqJyl8KD86RSt8eSt8TSt8ZCt8SCt8aCt8bSt8cyt8YXxaKSkoLiopLyxJZT0vXlwtP1xkKyQvO0pjLiRpbmplY3Q9WyIkbG9jYWxlIl07dmFyIEdlPSQoSSksSGU9JChIYSk7TGMuJGluamVjdD1bIiRwYXJzZSJdO3ZhciBkZD0kKHtyZXN0cmljdDoiRSIsY29tcGlsZTpmdW5jdGlvbihhLGMpezg+PVAmJihjLmhyZWZ8fGMubmFtZXx8Yy4kc2V0KCJocmVmIiwiIiksYS5hcHBlbmQoVi5jcmVhdGVDb21tZW50KCJJRSBmaXgiKSkpO2lmKCFjLmhyZWYmJiFjLnhsaW5rSHJlZiYmIWMubmFtZSlyZXR1cm4gZnVuY3Rpb24oYSxjKXt2YXIgZz0iW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ10iPT09CnhhLmNhbGwoYy5wcm9wKCJocmVmIikpPyJ4bGluazpocmVmIjoiaHJlZiI7Yy5vbigiY2xpY2siLGZ1bmN0aW9uKGEpe2MuYXR0cihnKXx8YS5wcmV2ZW50RGVmYXVsdCgpfSl9fX0pLERiPXt9O3EobGIsZnVuY3Rpb24oYSxjKXtpZigibXVsdGlwbGUiIT1hKXt2YXIgZD1uYSgibmctIitjKTtEYltkXT1mdW5jdGlvbigpe3JldHVybntwcmlvcml0eToxMDAsbGluazpmdW5jdGlvbihhLGcsZil7YS4kd2F0Y2goZltkXSxmdW5jdGlvbihhKXtmLiRzZXQoYywhIWEpfSl9fX19fSk7cShbInNyYyIsInNyY3NldCIsImhyZWYiXSxmdW5jdGlvbihhKXt2YXIgYz1uYSgibmctIithKTtEYltjXT1mdW5jdGlvbigpe3JldHVybntwcmlvcml0eTo5OSxsaW5rOmZ1bmN0aW9uKGQsZSxnKXt2YXIgZj1hLGs9YTsiaHJlZiI9PT1hJiYiW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ10iPT09eGEuY2FsbChlLnByb3AoImhyZWYiKSkmJihrPSJ4bGlua0hyZWYiLGcuJGF0dHJba109InhsaW5rOmhyZWYiLApmPW51bGwpO2cuJG9ic2VydmUoYyxmdW5jdGlvbihhKXthJiYoZy4kc2V0KGssYSksUCYmZiYmZS5wcm9wKGYsZ1trXSkpfSl9fX19KTt2YXIgdWI9eyRhZGRDb250cm9sOkEsJHJlbW92ZUNvbnRyb2w6QSwkc2V0VmFsaWRpdHk6QSwkc2V0RGlydHk6QSwkc2V0UHJpc3RpbmU6QX07T2MuJGluamVjdD1bIiRlbGVtZW50IiwiJGF0dHJzIiwiJHNjb3BlIiwiJGFuaW1hdGUiXTt2YXIgUmM9ZnVuY3Rpb24oYSl7cmV0dXJuWyIkdGltZW91dCIsZnVuY3Rpb24oYyl7cmV0dXJue25hbWU6ImZvcm0iLHJlc3RyaWN0OmE/IkVBQyI6IkUiLGNvbnRyb2xsZXI6T2MsY29tcGlsZTpmdW5jdGlvbigpe3JldHVybntwcmU6ZnVuY3Rpb24oYSxlLGcsZil7aWYoIWcuYWN0aW9uKXt2YXIgaz1mdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0P2EucHJldmVudERlZmF1bHQoKTphLnJldHVyblZhbHVlPSExfTtvYihlWzBdLCJzdWJtaXQiLGspO2Uub24oIiRkZXN0cm95IixmdW5jdGlvbigpe2MoZnVuY3Rpb24oKXtYYShlWzBdLAoic3VibWl0IixrKX0sMCwhMSl9KX12YXIgbT1lLnBhcmVudCgpLmNvbnRyb2xsZXIoImZvcm0iKSxoPWcubmFtZXx8Zy5uZ0Zvcm07aCYmcWIoYSxoLGYsaCk7aWYobSllLm9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXttLiRyZW1vdmVDb250cm9sKGYpO2gmJnFiKGEsaCxzLGgpO0UoZix1Yil9KX19fX19XX0sZWQ9UmMoKSxyZD1SYyghMCksVGU9L14oZnRwfGh0dHB8aHR0cHMpOlwvXC8oXHcrOnswLDF9XHcqQCk/KFxTKykoOlswLTldKyk/KFwvfFwvKFtcdyMhOi4/Kz0mJUAhXC1cL10pKT8kLyxVZT0vXlthLXowLTkhIyQlJicqK1wvPT9eX2B7fH1+Li1dK0BbYS16MC05LV0rKFwuW2EtejAtOS1dKykqJC9pLFZlPS9eXHMqKFwtfFwrKT8oXGQrfChcZCooXC5cZCopKSlccyokLyxTYz17dGV4dDp3YixudW1iZXI6ZnVuY3Rpb24oYSxjLGQsZSxnLGYpe3diKGEsYyxkLGUsZyxmKTtlLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24oYSl7dmFyIGM9ZS4kaXNFbXB0eShhKTtpZihjfHxWZS50ZXN0KGEpKXJldHVybiBlLiRzZXRWYWxpZGl0eSgibnVtYmVyIiwKITApLCIiPT09YT9udWxsOmM/YTpwYXJzZUZsb2F0KGEpO2UuJHNldFZhbGlkaXR5KCJudW1iZXIiLCExKTtyZXR1cm4gc30pO0xlKGUsIm51bWJlciIsV2UsbnVsbCxlLiQkdmFsaWRpdHlTdGF0ZSk7ZS4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKGEpe3JldHVybiBlLiRpc0VtcHR5KGEpPyIiOiIiK2F9KTtkLm1pbiYmKGE9ZnVuY3Rpb24oYSl7dmFyIGM9cGFyc2VGbG9hdChkLm1pbik7cmV0dXJuIHJhKGUsIm1pbiIsZS4kaXNFbXB0eShhKXx8YT49YyxhKX0sZS4kcGFyc2Vycy5wdXNoKGEpLGUuJGZvcm1hdHRlcnMucHVzaChhKSk7ZC5tYXgmJihhPWZ1bmN0aW9uKGEpe3ZhciBjPXBhcnNlRmxvYXQoZC5tYXgpO3JldHVybiByYShlLCJtYXgiLGUuJGlzRW1wdHkoYSl8fGE8PWMsYSl9LGUuJHBhcnNlcnMucHVzaChhKSxlLiRmb3JtYXR0ZXJzLnB1c2goYSkpO2UuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihhKXtyZXR1cm4gcmEoZSwibnVtYmVyIixlLiRpc0VtcHR5KGEpfHwKeGIoYSksYSl9KX0sdXJsOmZ1bmN0aW9uKGEsYyxkLGUsZyxmKXt3YihhLGMsZCxlLGcsZik7YT1mdW5jdGlvbihhKXtyZXR1cm4gcmEoZSwidXJsIixlLiRpc0VtcHR5KGEpfHxUZS50ZXN0KGEpLGEpfTtlLiRmb3JtYXR0ZXJzLnB1c2goYSk7ZS4kcGFyc2Vycy5wdXNoKGEpfSxlbWFpbDpmdW5jdGlvbihhLGMsZCxlLGcsZil7d2IoYSxjLGQsZSxnLGYpO2E9ZnVuY3Rpb24oYSl7cmV0dXJuIHJhKGUsImVtYWlsIixlLiRpc0VtcHR5KGEpfHxVZS50ZXN0KGEpLGEpfTtlLiRmb3JtYXR0ZXJzLnB1c2goYSk7ZS4kcGFyc2Vycy5wdXNoKGEpfSxyYWRpbzpmdW5jdGlvbihhLGMsZCxlKXtEKGQubmFtZSkmJmMuYXR0cigibmFtZSIsZWIoKSk7Yy5vbigiY2xpY2siLGZ1bmN0aW9uKCl7Y1swXS5jaGVja2VkJiZhLiRhcHBseShmdW5jdGlvbigpe2UuJHNldFZpZXdWYWx1ZShkLnZhbHVlKX0pfSk7ZS4kcmVuZGVyPWZ1bmN0aW9uKCl7Y1swXS5jaGVja2VkPWQudmFsdWU9PWUuJHZpZXdWYWx1ZX07CmQuJG9ic2VydmUoInZhbHVlIixlLiRyZW5kZXIpfSxjaGVja2JveDpmdW5jdGlvbihhLGMsZCxlKXt2YXIgZz1kLm5nVHJ1ZVZhbHVlLGY9ZC5uZ0ZhbHNlVmFsdWU7eShnKXx8KGc9ITApO3koZil8fChmPSExKTtjLm9uKCJjbGljayIsZnVuY3Rpb24oKXthLiRhcHBseShmdW5jdGlvbigpe2UuJHNldFZpZXdWYWx1ZShjWzBdLmNoZWNrZWQpfSl9KTtlLiRyZW5kZXI9ZnVuY3Rpb24oKXtjWzBdLmNoZWNrZWQ9ZS4kdmlld1ZhbHVlfTtlLiRpc0VtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiBhIT09Z307ZS4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Z30pO2UuJHBhcnNlcnMucHVzaChmdW5jdGlvbihhKXtyZXR1cm4gYT9nOmZ9KX0saGlkZGVuOkEsYnV0dG9uOkEsc3VibWl0OkEscmVzZXQ6QSxmaWxlOkF9LFdlPVsiYmFkSW5wdXQiXSxnYz1bIiRicm93c2VyIiwiJHNuaWZmZXIiLGZ1bmN0aW9uKGEsYyl7cmV0dXJue3Jlc3RyaWN0OiJFIixyZXF1aXJlOiI/bmdNb2RlbCIsCmxpbms6ZnVuY3Rpb24oZCxlLGcsZil7ZiYmKFNjW0koZy50eXBlKV18fFNjLnRleHQpKGQsZSxnLGYsYyxhKX19fV0sdGI9Im5nLXZhbGlkIixzYj0ibmctaW52YWxpZCIsTmE9Im5nLXByaXN0aW5lIix2Yj0ibmctZGlydHkiLFhlPVsiJHNjb3BlIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLCIkYXR0cnMiLCIkZWxlbWVudCIsIiRwYXJzZSIsIiRhbmltYXRlIixmdW5jdGlvbihhLGMsZCxlLGcsZil7ZnVuY3Rpb24gayhhLGMpe2M9Yz8iLSIraGIoYywiLSIpOiIiO2YucmVtb3ZlQ2xhc3MoZSwoYT9zYjp0YikrYyk7Zi5hZGRDbGFzcyhlLChhP3RiOnNiKStjKX10aGlzLiRtb2RlbFZhbHVlPXRoaXMuJHZpZXdWYWx1ZT1OdW1iZXIuTmFOO3RoaXMuJHBhcnNlcnM9W107dGhpcy4kZm9ybWF0dGVycz1bXTt0aGlzLiR2aWV3Q2hhbmdlTGlzdGVuZXJzPVtdO3RoaXMuJHByaXN0aW5lPSEwO3RoaXMuJGRpcnR5PSExO3RoaXMuJHZhbGlkPSEwO3RoaXMuJGludmFsaWQ9ITE7dGhpcy4kbmFtZT0KZC5uYW1lO3ZhciBtPWcoZC5uZ01vZGVsKSxoPW0uYXNzaWduO2lmKCFoKXRocm93IHYoIm5nTW9kZWwiKSgibm9uYXNzaWduIixkLm5nTW9kZWwsZ2EoZSkpO3RoaXMuJHJlbmRlcj1BO3RoaXMuJGlzRW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuIEQoYSl8fCIiPT09YXx8bnVsbD09PWF8fGEhPT1hfTt2YXIgbD1lLmluaGVyaXRlZERhdGEoIiRmb3JtQ29udHJvbGxlciIpfHx1YixwPTAsbj10aGlzLiRlcnJvcj17fTtlLmFkZENsYXNzKE5hKTtrKCEwKTt0aGlzLiRzZXRWYWxpZGl0eT1mdW5jdGlvbihhLGMpe25bYV0hPT0hYyYmKGM/KG5bYV0mJnAtLSxwfHwoayghMCksdGhpcy4kdmFsaWQ9ITAsdGhpcy4kaW52YWxpZD0hMSkpOihrKCExKSx0aGlzLiRpbnZhbGlkPSEwLHRoaXMuJHZhbGlkPSExLHArKyksblthXT0hYyxrKGMsYSksbC4kc2V0VmFsaWRpdHkoYSxjLHRoaXMpKX07dGhpcy4kc2V0UHJpc3RpbmU9ZnVuY3Rpb24oKXt0aGlzLiRkaXJ0eT0hMTt0aGlzLiRwcmlzdGluZT0KITA7Zi5yZW1vdmVDbGFzcyhlLHZiKTtmLmFkZENsYXNzKGUsTmEpfTt0aGlzLiRzZXRWaWV3VmFsdWU9ZnVuY3Rpb24oZCl7dGhpcy4kdmlld1ZhbHVlPWQ7dGhpcy4kcHJpc3RpbmUmJih0aGlzLiRkaXJ0eT0hMCx0aGlzLiRwcmlzdGluZT0hMSxmLnJlbW92ZUNsYXNzKGUsTmEpLGYuYWRkQ2xhc3MoZSx2YiksbC4kc2V0RGlydHkoKSk7cSh0aGlzLiRwYXJzZXJzLGZ1bmN0aW9uKGEpe2Q9YShkKX0pO3RoaXMuJG1vZGVsVmFsdWUhPT1kJiYodGhpcy4kbW9kZWxWYWx1ZT1kLGgoYSxkKSxxKHRoaXMuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMsZnVuY3Rpb24oYSl7dHJ5e2EoKX1jYXRjaChkKXtjKGQpfX0pKX07dmFyIHI9dGhpczthLiR3YXRjaChmdW5jdGlvbigpe3ZhciBjPW0oYSk7aWYoci4kbW9kZWxWYWx1ZSE9PWMpe3ZhciBkPXIuJGZvcm1hdHRlcnMsZT1kLmxlbmd0aDtmb3Ioci4kbW9kZWxWYWx1ZT1jO2UtLTspYz1kW2VdKGMpO3IuJHZpZXdWYWx1ZSE9PWMmJihyLiR2aWV3VmFsdWU9CmMsci4kcmVuZGVyKCkpfXJldHVybiBjfSl9XSxHZD1mdW5jdGlvbigpe3JldHVybntyZXF1aXJlOlsibmdNb2RlbCIsIl4/Zm9ybSJdLGNvbnRyb2xsZXI6WGUsbGluazpmdW5jdGlvbihhLGMsZCxlKXt2YXIgZz1lWzBdLGY9ZVsxXXx8dWI7Zi4kYWRkQ29udHJvbChnKTthLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7Zi4kcmVtb3ZlQ29udHJvbChnKX0pfX19LElkPSQoe3JlcXVpcmU6Im5nTW9kZWwiLGxpbms6ZnVuY3Rpb24oYSxjLGQsZSl7ZS4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKGZ1bmN0aW9uKCl7YS4kZXZhbChkLm5nQ2hhbmdlKX0pfX0pLGhjPWZ1bmN0aW9uKCl7cmV0dXJue3JlcXVpcmU6Ij9uZ01vZGVsIixsaW5rOmZ1bmN0aW9uKGEsYyxkLGUpe2lmKGUpe2QucmVxdWlyZWQ9ITA7dmFyIGc9ZnVuY3Rpb24oYSl7aWYoZC5yZXF1aXJlZCYmZS4kaXNFbXB0eShhKSllLiRzZXRWYWxpZGl0eSgicmVxdWlyZWQiLCExKTtlbHNlIHJldHVybiBlLiRzZXRWYWxpZGl0eSgicmVxdWlyZWQiLAohMCksYX07ZS4kZm9ybWF0dGVycy5wdXNoKGcpO2UuJHBhcnNlcnMudW5zaGlmdChnKTtkLiRvYnNlcnZlKCJyZXF1aXJlZCIsZnVuY3Rpb24oKXtnKGUuJHZpZXdWYWx1ZSl9KX19fX0sSGQ9ZnVuY3Rpb24oKXtyZXR1cm57cmVxdWlyZToibmdNb2RlbCIsbGluazpmdW5jdGlvbihhLGMsZCxlKXt2YXIgZz0oYT0vXC8oLiopXC8vLmV4ZWMoZC5uZ0xpc3QpKSYmUmVnRXhwKGFbMV0pfHxkLm5nTGlzdHx8IiwiO2UuJHBhcnNlcnMucHVzaChmdW5jdGlvbihhKXtpZighRChhKSl7dmFyIGM9W107YSYmcShhLnNwbGl0KGcpLGZ1bmN0aW9uKGEpe2EmJmMucHVzaChhYShhKSl9KTtyZXR1cm4gY319KTtlLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24oYSl7cmV0dXJuIEwoYSk/YS5qb2luKCIsICIpOnN9KTtlLiRpc0VtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiFhfHwhYS5sZW5ndGh9fX19LFllPS9eKHRydWV8ZmFsc2V8XGQrKSQvLEpkPWZ1bmN0aW9uKCl7cmV0dXJue3ByaW9yaXR5OjEwMCwKY29tcGlsZTpmdW5jdGlvbihhLGMpe3JldHVybiBZZS50ZXN0KGMubmdWYWx1ZSk/ZnVuY3Rpb24oYSxjLGcpe2cuJHNldCgidmFsdWUiLGEuJGV2YWwoZy5uZ1ZhbHVlKSl9OmZ1bmN0aW9uKGEsYyxnKXthLiR3YXRjaChnLm5nVmFsdWUsZnVuY3Rpb24oYSl7Zy4kc2V0KCJ2YWx1ZSIsYSl9KX19fX0samQ9d2Eoe2NvbXBpbGU6ZnVuY3Rpb24oYSl7YS5hZGRDbGFzcygibmctYmluZGluZyIpO3JldHVybiBmdW5jdGlvbihhLGQsZSl7ZC5kYXRhKCIkYmluZGluZyIsZS5uZ0JpbmQpO2EuJHdhdGNoKGUubmdCaW5kLGZ1bmN0aW9uKGEpe2QudGV4dChhPT1zPyIiOmEpfSl9fX0pLGxkPVsiJGludGVycG9sYXRlIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYyxkLGUpe2M9YShkLmF0dHIoZS4kYXR0ci5uZ0JpbmRUZW1wbGF0ZSkpO2QuYWRkQ2xhc3MoIm5nLWJpbmRpbmciKS5kYXRhKCIkYmluZGluZyIsYyk7ZS4kb2JzZXJ2ZSgibmdCaW5kVGVtcGxhdGUiLGZ1bmN0aW9uKGEpe2QudGV4dChhKX0pfX1dLAprZD1bIiRzY2UiLCIkcGFyc2UiLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGZ1bmN0aW9uKGQsZSxnKXtlLmFkZENsYXNzKCJuZy1iaW5kaW5nIikuZGF0YSgiJGJpbmRpbmciLGcubmdCaW5kSHRtbCk7dmFyIGY9YyhnLm5nQmluZEh0bWwpO2QuJHdhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuKGYoZCl8fCIiKS50b1N0cmluZygpfSxmdW5jdGlvbihjKXtlLmh0bWwoYS5nZXRUcnVzdGVkSHRtbChmKGQpKXx8IiIpfSl9fV0sbWQ9VWIoIiIsITApLG9kPVViKCJPZGQiLDApLG5kPVViKCJFdmVuIiwxKSxwZD13YSh7Y29tcGlsZTpmdW5jdGlvbihhLGMpe2MuJHNldCgibmdDbG9hayIscyk7YS5yZW1vdmVDbGFzcygibmctY2xvYWsiKX19KSxxZD1bZnVuY3Rpb24oKXtyZXR1cm57c2NvcGU6ITAsY29udHJvbGxlcjoiQCIscHJpb3JpdHk6NTAwfX1dLGljPXt9O3EoImNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZW1vdmUgbW91c2VlbnRlciBtb3VzZWxlYXZlIGtleWRvd24ga2V5dXAga2V5cHJlc3Mgc3VibWl0IGZvY3VzIGJsdXIgY29weSBjdXQgcGFzdGUiLnNwbGl0KCIgIiksCmZ1bmN0aW9uKGEpe3ZhciBjPW5hKCJuZy0iK2EpO2ljW2NdPVsiJHBhcnNlIixmdW5jdGlvbihkKXtyZXR1cm57Y29tcGlsZTpmdW5jdGlvbihlLGcpe3ZhciBmPWQoZ1tjXSk7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7ZC5vbihJKGEpLGZ1bmN0aW9uKGEpe2MuJGFwcGx5KGZ1bmN0aW9uKCl7ZihjLHskZXZlbnQ6YX0pfSl9KX19fX1dfSk7dmFyIHRkPVsiJGFuaW1hdGUiLGZ1bmN0aW9uKGEpe3JldHVybnt0cmFuc2NsdWRlOiJlbGVtZW50Iixwcmlvcml0eTo2MDAsdGVybWluYWw6ITAscmVzdHJpY3Q6IkEiLCQkdGxiOiEwLGxpbms6ZnVuY3Rpb24oYyxkLGUsZyxmKXt2YXIgayxtLGg7Yy4kd2F0Y2goZS5uZ0lmLGZ1bmN0aW9uKGcpe1NhKGcpP218fChtPWMuJG5ldygpLGYobSxmdW5jdGlvbihjKXtjW2MubGVuZ3RoKytdPVYuY3JlYXRlQ29tbWVudCgiIGVuZCBuZ0lmOiAiK2UubmdJZisiICIpO2s9e2Nsb25lOmN9O2EuZW50ZXIoYyxkLnBhcmVudCgpLGQpfSkpOihoJiYoaC5yZW1vdmUoKSwKaD1udWxsKSxtJiYobS4kZGVzdHJveSgpLG09bnVsbCksayYmKGg9Q2Ioay5jbG9uZSksYS5sZWF2ZShoLGZ1bmN0aW9uKCl7aD1udWxsfSksaz1udWxsKSl9KX19fV0sdWQ9WyIkaHR0cCIsIiR0ZW1wbGF0ZUNhY2hlIiwiJGFuY2hvclNjcm9sbCIsIiRhbmltYXRlIiwiJHNjZSIsZnVuY3Rpb24oYSxjLGQsZSxnKXtyZXR1cm57cmVzdHJpY3Q6IkVDQSIscHJpb3JpdHk6NDAwLHRlcm1pbmFsOiEwLHRyYW5zY2x1ZGU6ImVsZW1lbnQiLGNvbnRyb2xsZXI6VGEubm9vcCxjb21waWxlOmZ1bmN0aW9uKGYsayl7dmFyIG09ay5uZ0luY2x1ZGV8fGsuc3JjLGg9ay5vbmxvYWR8fCIiLGw9ay5hdXRvc2Nyb2xsO3JldHVybiBmdW5jdGlvbihmLGsscSx0LEope3ZhciB3PTAsdSxzLHgsej1mdW5jdGlvbigpe3MmJihzLnJlbW92ZSgpLHM9bnVsbCk7dSYmKHUuJGRlc3Ryb3koKSx1PW51bGwpO3gmJihlLmxlYXZlKHgsZnVuY3Rpb24oKXtzPW51bGx9KSxzPXgseD1udWxsKX07Zi4kd2F0Y2goZy5wYXJzZUFzUmVzb3VyY2VVcmwobSksCmZ1bmN0aW9uKGcpe3ZhciBtPWZ1bmN0aW9uKCl7IUIobCl8fGwmJiFmLiRldmFsKGwpfHxkKCl9LHE9Kyt3O2c/KGEuZ2V0KGcse2NhY2hlOmN9KS5zdWNjZXNzKGZ1bmN0aW9uKGEpe2lmKHE9PT13KXt2YXIgYz1mLiRuZXcoKTt0LnRlbXBsYXRlPWE7YT1KKGMsZnVuY3Rpb24oYSl7eigpO2UuZW50ZXIoYSxudWxsLGssbSl9KTt1PWM7eD1hO3UuJGVtaXQoIiRpbmNsdWRlQ29udGVudExvYWRlZCIpO2YuJGV2YWwoaCl9fSkuZXJyb3IoZnVuY3Rpb24oKXtxPT09dyYmeigpfSksZi4kZW1pdCgiJGluY2x1ZGVDb250ZW50UmVxdWVzdGVkIikpOih6KCksdC50ZW1wbGF0ZT1udWxsKX0pfX19fV0sS2Q9WyIkY29tcGlsZSIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OiJFQ0EiLHByaW9yaXR5Oi00MDAscmVxdWlyZToibmdJbmNsdWRlIixsaW5rOmZ1bmN0aW9uKGMsZCxlLGcpe2QuaHRtbChnLnRlbXBsYXRlKTthKGQuY29udGVudHMoKSkoYyl9fX1dLHZkPXdhKHtwcmlvcml0eTo0NTAsCmNvbXBpbGU6ZnVuY3Rpb24oKXtyZXR1cm57cHJlOmZ1bmN0aW9uKGEsYyxkKXthLiRldmFsKGQubmdJbml0KX19fX0pLHdkPXdhKHt0ZXJtaW5hbDohMCxwcmlvcml0eToxRTN9KSx4ZD1bIiRsb2NhbGUiLCIkaW50ZXJwb2xhdGUiLGZ1bmN0aW9uKGEsYyl7dmFyIGQ9L3t9L2c7cmV0dXJue3Jlc3RyaWN0OiJFQSIsbGluazpmdW5jdGlvbihlLGcsZil7dmFyIGs9Zi5jb3VudCxtPWYuJGF0dHIud2hlbiYmZy5hdHRyKGYuJGF0dHIud2hlbiksaD1mLm9mZnNldHx8MCxsPWUuJGV2YWwobSl8fHt9LHA9e30sbj1jLnN0YXJ0U3ltYm9sKCkscj1jLmVuZFN5bWJvbCgpLHQ9L153aGVuKE1pbnVzKT8oLispJC87cShmLGZ1bmN0aW9uKGEsYyl7dC50ZXN0KGMpJiYobFtJKGMucmVwbGFjZSgid2hlbiIsIiIpLnJlcGxhY2UoIk1pbnVzIiwiLSIpKV09Zy5hdHRyKGYuJGF0dHJbY10pKX0pO3EobCxmdW5jdGlvbihhLGUpe3BbZV09YyhhLnJlcGxhY2UoZCxuK2srIi0iK2grcikpfSk7ZS4kd2F0Y2goZnVuY3Rpb24oKXt2YXIgYz0KcGFyc2VGbG9hdChlLiRldmFsKGspKTtpZihpc05hTihjKSlyZXR1cm4iIjtjIGluIGx8fChjPWEucGx1cmFsQ2F0KGMtaCkpO3JldHVybiBwW2NdKGUsZywhMCl9LGZ1bmN0aW9uKGEpe2cudGV4dChhKX0pfX19XSx5ZD1bIiRwYXJzZSIsIiRhbmltYXRlIixmdW5jdGlvbihhLGMpe3ZhciBkPXYoIm5nUmVwZWF0Iik7cmV0dXJue3RyYW5zY2x1ZGU6ImVsZW1lbnQiLHByaW9yaXR5OjFFMyx0ZXJtaW5hbDohMCwkJHRsYjohMCxsaW5rOmZ1bmN0aW9uKGUsZyxmLGssbSl7dmFyIGg9Zi5uZ1JlcGVhdCxsPWgubWF0Y2goL15ccyooW1xzXFNdKz8pXHMraW5ccysoW1xzXFNdKz8pKD86XHMrdHJhY2tccytieVxzKyhbXHNcU10rPykpP1xzKiQvKSxwLG4scix0LHMsdyx1PXskaWQ6SmF9O2lmKCFsKXRocm93IGQoImlleHAiLGgpO2Y9bFsxXTtrPWxbMl07KGw9bFszXSk/KHA9YShsKSxuPWZ1bmN0aW9uKGEsYyxkKXt3JiYodVt3XT1hKTt1W3NdPWM7dS4kaW5kZXg9ZDtyZXR1cm4gcChlLAp1KX0pOihyPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIEphKGMpfSx0PWZ1bmN0aW9uKGEpe3JldHVybiBhfSk7bD1mLm1hdGNoKC9eKD86KFtcJFx3XSspfFwoKFtcJFx3XSspXHMqLFxzKihbXCRcd10rKVwpKSQvKTtpZighbCl0aHJvdyBkKCJpaWRleHAiLGYpO3M9bFszXXx8bFsxXTt3PWxbMl07dmFyIEI9e307ZS4kd2F0Y2hDb2xsZWN0aW9uKGssZnVuY3Rpb24oYSl7dmFyIGYsayxsPWdbMF0scCx1PXt9LEMsRyxILHYseSxBLEQ9W107aWYoZGIoYSkpeT1hLHA9bnx8cjtlbHNle3A9bnx8dDt5PVtdO2ZvcihIIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShIKSYmIiQiIT1ILmNoYXJBdCgwKSYmeS5wdXNoKEgpO3kuc29ydCgpfUM9eS5sZW5ndGg7az1ELmxlbmd0aD15Lmxlbmd0aDtmb3IoZj0wO2Y8aztmKyspaWYoSD1hPT09eT9mOnlbZl0sdj1hW0hdLHY9cChILHYsZiksQmEodiwiYHRyYWNrIGJ5YCBpZCIpLEIuaGFzT3duUHJvcGVydHkodikpQT1CW3ZdLGRlbGV0ZSBCW3ZdLHVbdl09CkEsRFtmXT1BO2Vsc2V7aWYodS5oYXNPd25Qcm9wZXJ0eSh2KSl0aHJvdyBxKEQsZnVuY3Rpb24oYSl7YSYmYS5zY29wZSYmKEJbYS5pZF09YSl9KSxkKCJkdXBlcyIsaCx2KTtEW2ZdPXtpZDp2fTt1W3ZdPSExfWZvcihIIGluIEIpQi5oYXNPd25Qcm9wZXJ0eShIKSYmKEE9QltIXSxmPUNiKEEuY2xvbmUpLGMubGVhdmUoZikscShmLGZ1bmN0aW9uKGEpe2EuJCROR19SRU1PVkVEPSEwfSksQS5zY29wZS4kZGVzdHJveSgpKTtmPTA7Zm9yKGs9eS5sZW5ndGg7ZjxrO2YrKyl7SD1hPT09eT9mOnlbZl07dj1hW0hdO0E9RFtmXTtEW2YtMV0mJihsPURbZi0xXS5jbG9uZVtEW2YtMV0uY2xvbmUubGVuZ3RoLTFdKTtpZihBLnNjb3BlKXtHPUEuc2NvcGU7cD1sO2RvIHA9cC5uZXh0U2libGluZzt3aGlsZShwJiZwLiQkTkdfUkVNT1ZFRCk7QS5jbG9uZVswXSE9cCYmYy5tb3ZlKENiKEEuY2xvbmUpLG51bGwseChsKSk7bD1BLmNsb25lW0EuY2xvbmUubGVuZ3RoLTFdfWVsc2UgRz1lLiRuZXcoKTsKR1tzXT12O3cmJihHW3ddPUgpO0cuJGluZGV4PWY7Ry4kZmlyc3Q9MD09PWY7Ry4kbGFzdD1mPT09Qy0xO0cuJG1pZGRsZT0hKEcuJGZpcnN0fHxHLiRsYXN0KTtHLiRvZGQ9IShHLiRldmVuPTA9PT0oZiYxKSk7QS5zY29wZXx8bShHLGZ1bmN0aW9uKGEpe2FbYS5sZW5ndGgrK109Vi5jcmVhdGVDb21tZW50KCIgZW5kIG5nUmVwZWF0OiAiK2grIiAiKTtjLmVudGVyKGEsbnVsbCx4KGwpKTtsPWE7QS5zY29wZT1HO0EuY2xvbmU9YTt1W0EuaWRdPUF9KX1CPXV9KX19fV0semQ9WyIkYW5pbWF0ZSIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGMsZCxlKXtjLiR3YXRjaChlLm5nU2hvdyxmdW5jdGlvbihjKXthW1NhKGMpPyJyZW1vdmVDbGFzcyI6ImFkZENsYXNzIl0oZCwibmctaGlkZSIpfSl9fV0sc2Q9WyIkYW5pbWF0ZSIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGMsZCxlKXtjLiR3YXRjaChlLm5nSGlkZSxmdW5jdGlvbihjKXthW1NhKGMpPyJhZGRDbGFzcyI6InJlbW92ZUNsYXNzIl0oZCwKIm5nLWhpZGUiKX0pfX1dLEFkPXdhKGZ1bmN0aW9uKGEsYyxkKXthLiR3YXRjaChkLm5nU3R5bGUsZnVuY3Rpb24oYSxkKXtkJiZhIT09ZCYmcShkLGZ1bmN0aW9uKGEsZCl7Yy5jc3MoZCwiIil9KTthJiZjLmNzcyhhKX0sITApfSksQmQ9WyIkYW5pbWF0ZSIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVxdWlyZToibmdTd2l0Y2giLGNvbnRyb2xsZXI6WyIkc2NvcGUiLGZ1bmN0aW9uKCl7dGhpcy5jYXNlcz17fX1dLGxpbms6ZnVuY3Rpb24oYyxkLGUsZyl7dmFyIGY9W10saz1bXSxtPVtdLGg9W107Yy4kd2F0Y2goZS5uZ1N3aXRjaHx8ZS5vbixmdW5jdGlvbihkKXt2YXIgcCxuO3A9MDtmb3Iobj1tLmxlbmd0aDtwPG47KytwKW1bcF0ucmVtb3ZlKCk7cD1tLmxlbmd0aD0wO2ZvcihuPWgubGVuZ3RoO3A8bjsrK3Ape3ZhciByPWtbcF07aFtwXS4kZGVzdHJveSgpO21bcF09cjthLmxlYXZlKHIsZnVuY3Rpb24oKXttLnNwbGljZShwLDEpfSl9ay5sZW5ndGg9MDtoLmxlbmd0aD0KMDtpZihmPWcuY2FzZXNbIiEiK2RdfHxnLmNhc2VzWyI/Il0pYy4kZXZhbChlLmNoYW5nZSkscShmLGZ1bmN0aW9uKGQpe3ZhciBlPWMuJG5ldygpO2gucHVzaChlKTtkLnRyYW5zY2x1ZGUoZSxmdW5jdGlvbihjKXt2YXIgZT1kLmVsZW1lbnQ7ay5wdXNoKGMpO2EuZW50ZXIoYyxlLnBhcmVudCgpLGUpfSl9KX0pfX19XSxDZD13YSh7dHJhbnNjbHVkZToiZWxlbWVudCIscHJpb3JpdHk6ODAwLHJlcXVpcmU6Il5uZ1N3aXRjaCIsbGluazpmdW5jdGlvbihhLGMsZCxlLGcpe2UuY2FzZXNbIiEiK2QubmdTd2l0Y2hXaGVuXT1lLmNhc2VzWyIhIitkLm5nU3dpdGNoV2hlbl18fFtdO2UuY2FzZXNbIiEiK2QubmdTd2l0Y2hXaGVuXS5wdXNoKHt0cmFuc2NsdWRlOmcsZWxlbWVudDpjfSl9fSksRGQ9d2Eoe3RyYW5zY2x1ZGU6ImVsZW1lbnQiLHByaW9yaXR5OjgwMCxyZXF1aXJlOiJebmdTd2l0Y2giLGxpbms6ZnVuY3Rpb24oYSxjLGQsZSxnKXtlLmNhc2VzWyI/Il09ZS5jYXNlc1siPyJdfHwKW107ZS5jYXNlc1siPyJdLnB1c2goe3RyYW5zY2x1ZGU6ZyxlbGVtZW50OmN9KX19KSxGZD13YSh7bGluazpmdW5jdGlvbihhLGMsZCxlLGcpe2lmKCFnKXRocm93IHYoIm5nVHJhbnNjbHVkZSIpKCJvcnBoYW4iLGdhKGMpKTtnKGZ1bmN0aW9uKGEpe2MuZW1wdHkoKTtjLmFwcGVuZChhKX0pfX0pLGZkPVsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKGEpe3JldHVybntyZXN0cmljdDoiRSIsdGVybWluYWw6ITAsY29tcGlsZTpmdW5jdGlvbihjLGQpeyJ0ZXh0L25nLXRlbXBsYXRlIj09ZC50eXBlJiZhLnB1dChkLmlkLGNbMF0udGV4dCl9fX1dLFplPXYoIm5nT3B0aW9ucyIpLEVkPSQoe3Rlcm1pbmFsOiEwfSksZ2Q9WyIkY29tcGlsZSIsIiRwYXJzZSIsZnVuY3Rpb24oYSxjKXt2YXIgZD0vXlxzKihbXHNcU10rPykoPzpccythc1xzKyhbXHNcU10rPykpPyg/OlxzK2dyb3VwXHMrYnlccysoW1xzXFNdKz8pKT9ccytmb3JccysoPzooW1wkXHddW1wkXHddKil8KD86XChccyooW1wkXHddW1wkXHddKilccyosXHMqKFtcJFx3XVtcJFx3XSopXHMqXCkpKVxzK2luXHMrKFtcc1xTXSs/KSg/OlxzK3RyYWNrXHMrYnlccysoW1xzXFNdKz8pKT8kLywKZT17JHNldFZpZXdWYWx1ZTpBfTtyZXR1cm57cmVzdHJpY3Q6IkUiLHJlcXVpcmU6WyJzZWxlY3QiLCI/bmdNb2RlbCJdLGNvbnRyb2xsZXI6WyIkZWxlbWVudCIsIiRzY29wZSIsIiRhdHRycyIsZnVuY3Rpb24oYSxjLGQpe3ZhciBtPXRoaXMsaD17fSxsPWUscDttLmRhdGFib3VuZD1kLm5nTW9kZWw7bS5pbml0PWZ1bmN0aW9uKGEsYyxkKXtsPWE7cD1kfTttLmFkZE9wdGlvbj1mdW5jdGlvbihjKXtCYShjLCcib3B0aW9uIHZhbHVlIicpO2hbY109ITA7bC4kdmlld1ZhbHVlPT1jJiYoYS52YWwoYykscC5wYXJlbnQoKSYmcC5yZW1vdmUoKSl9O20ucmVtb3ZlT3B0aW9uPWZ1bmN0aW9uKGEpe3RoaXMuaGFzT3B0aW9uKGEpJiYoZGVsZXRlIGhbYV0sbC4kdmlld1ZhbHVlPT1hJiZ0aGlzLnJlbmRlclVua25vd25PcHRpb24oYSkpfTttLnJlbmRlclVua25vd25PcHRpb249ZnVuY3Rpb24oYyl7Yz0iPyAiK0phKGMpKyIgPyI7cC52YWwoYyk7YS5wcmVwZW5kKHApO2EudmFsKGMpO3AucHJvcCgic2VsZWN0ZWQiLAohMCl9O20uaGFzT3B0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiBoLmhhc093blByb3BlcnR5KGEpfTtjLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7bS5yZW5kZXJVbmtub3duT3B0aW9uPUF9KX1dLGxpbms6ZnVuY3Rpb24oZSxmLGssbSl7ZnVuY3Rpb24gaChhLGMsZCxlKXtkLiRyZW5kZXI9ZnVuY3Rpb24oKXt2YXIgYT1kLiR2aWV3VmFsdWU7ZS5oYXNPcHRpb24oYSk/KHkucGFyZW50KCkmJnkucmVtb3ZlKCksYy52YWwoYSksIiI9PT1hJiZ3LnByb3AoInNlbGVjdGVkIiwhMCkpOkQoYSkmJnc/Yy52YWwoIiIpOmUucmVuZGVyVW5rbm93bk9wdGlvbihhKX07Yy5vbigiY2hhbmdlIixmdW5jdGlvbigpe2EuJGFwcGx5KGZ1bmN0aW9uKCl7eS5wYXJlbnQoKSYmeS5yZW1vdmUoKTtkLiRzZXRWaWV3VmFsdWUoYy52YWwoKSl9KX0pfWZ1bmN0aW9uIGwoYSxjLGQpe3ZhciBlO2QuJHJlbmRlcj1mdW5jdGlvbigpe3ZhciBhPW5ldyBaYShkLiR2aWV3VmFsdWUpO3EoYy5maW5kKCJvcHRpb24iKSwKZnVuY3Rpb24oYyl7Yy5zZWxlY3RlZD1CKGEuZ2V0KGMudmFsdWUpKX0pfTthLiR3YXRjaChmdW5jdGlvbigpe3lhKGUsZC4kdmlld1ZhbHVlKXx8KGU9bGEoZC4kdmlld1ZhbHVlKSxkLiRyZW5kZXIoKSl9KTtjLm9uKCJjaGFuZ2UiLGZ1bmN0aW9uKCl7YS4kYXBwbHkoZnVuY3Rpb24oKXt2YXIgYT1bXTtxKGMuZmluZCgib3B0aW9uIiksZnVuY3Rpb24oYyl7Yy5zZWxlY3RlZCYmYS5wdXNoKGMudmFsdWUpfSk7ZC4kc2V0Vmlld1ZhbHVlKGEpfSl9KX1mdW5jdGlvbiBwKGUsZixnKXtmdW5jdGlvbiBrKCl7dmFyIGE9eyIiOltdfSxjPVsiIl0sZCxoLHMsdCx6O3Q9Zy4kbW9kZWxWYWx1ZTt6PXgoZSl8fFtdO3ZhciBEPW4/VmIoeik6eixHLFIsQztSPXt9O3M9ITE7dmFyIEUsSTtpZihyKWlmKHcmJkwodCkpZm9yKHM9bmV3IFphKFtdKSxDPTA7Qzx0Lmxlbmd0aDtDKyspUlttXT10W0NdLHMucHV0KHcoZSxSKSx0W0NdKTtlbHNlIHM9bmV3IFphKHQpO2ZvcihDPTA7Rz1ELmxlbmd0aCwKQzxHO0MrKyl7aD1DO2lmKG4pe2g9RFtDXTtpZigiJCI9PT1oLmNoYXJBdCgwKSljb250aW51ZTtSW25dPWh9UlttXT16W2hdO2Q9cChlLFIpfHwiIjsoaD1hW2RdKXx8KGg9YVtkXT1bXSxjLnB1c2goZCkpO3I/ZD1CKHMucmVtb3ZlKHc/dyhlLFIpOnEoZSxSKSkpOih3PyhkPXt9LGRbbV09dCxkPXcoZSxkKT09PXcoZSxSKSk6ZD10PT09cShlLFIpLHM9c3x8ZCk7RT1sKGUsUik7RT1CKEUpP0U6IiI7aC5wdXNoKHtpZDp3P3coZSxSKTpuP0RbQ106QyxsYWJlbDpFLHNlbGVjdGVkOmR9KX1yfHwodnx8bnVsbD09PXQ/YVsiIl0udW5zaGlmdCh7aWQ6IiIsbGFiZWw6IiIsc2VsZWN0ZWQ6IXN9KTpzfHxhWyIiXS51bnNoaWZ0KHtpZDoiPyIsbGFiZWw6IiIsc2VsZWN0ZWQ6ITB9KSk7Uj0wO2ZvcihEPWMubGVuZ3RoO1I8RDtSKyspe2Q9Y1tSXTtoPWFbZF07eS5sZW5ndGg8PVI/KHQ9e2VsZW1lbnQ6QS5jbG9uZSgpLmF0dHIoImxhYmVsIixkKSxsYWJlbDpoLmxhYmVsfSx6PVt0XSx5LnB1c2goeiksCmYuYXBwZW5kKHQuZWxlbWVudCkpOih6PXlbUl0sdD16WzBdLHQubGFiZWwhPWQmJnQuZWxlbWVudC5hdHRyKCJsYWJlbCIsdC5sYWJlbD1kKSk7RT1udWxsO0M9MDtmb3IoRz1oLmxlbmd0aDtDPEc7QysrKXM9aFtDXSwoZD16W0MrMV0pPyhFPWQuZWxlbWVudCxkLmxhYmVsIT09cy5sYWJlbCYmRS50ZXh0KGQubGFiZWw9cy5sYWJlbCksZC5pZCE9PXMuaWQmJkUudmFsKGQuaWQ9cy5pZCksZC5zZWxlY3RlZCE9PXMuc2VsZWN0ZWQmJkUucHJvcCgic2VsZWN0ZWQiLGQuc2VsZWN0ZWQ9cy5zZWxlY3RlZCkpOigiIj09PXMuaWQmJnY/ST12OihJPXUuY2xvbmUoKSkudmFsKHMuaWQpLnByb3AoInNlbGVjdGVkIixzLnNlbGVjdGVkKS50ZXh0KHMubGFiZWwpLHoucHVzaCh7ZWxlbWVudDpJLGxhYmVsOnMubGFiZWwsaWQ6cy5pZCxzZWxlY3RlZDpzLnNlbGVjdGVkfSksRT9FLmFmdGVyKEkpOnQuZWxlbWVudC5hcHBlbmQoSSksRT1JKTtmb3IoQysrO3oubGVuZ3RoPkM7KXoucG9wKCkuZWxlbWVudC5yZW1vdmUoKX1mb3IoO3kubGVuZ3RoPgpSOyl5LnBvcCgpWzBdLmVsZW1lbnQucmVtb3ZlKCl9dmFyIGg7aWYoIShoPXQubWF0Y2goZCkpKXRocm93IFplKCJpZXhwIix0LGdhKGYpKTt2YXIgbD1jKGhbMl18fGhbMV0pLG09aFs0XXx8aFs2XSxuPWhbNV0scD1jKGhbM118fCIiKSxxPWMoaFsyXT9oWzFdOm0pLHg9YyhoWzddKSx3PWhbOF0/YyhoWzhdKTpudWxsLHk9W1t7ZWxlbWVudDpmLGxhYmVsOiIifV1dO3YmJihhKHYpKGUpLHYucmVtb3ZlQ2xhc3MoIm5nLXNjb3BlIiksdi5yZW1vdmUoKSk7Zi5lbXB0eSgpO2Yub24oImNoYW5nZSIsZnVuY3Rpb24oKXtlLiRhcHBseShmdW5jdGlvbigpe3ZhciBhLGM9eChlKXx8W10sZD17fSxoLGssbCxwLHQsdSx2O2lmKHIpZm9yKGs9W10scD0wLHU9eS5sZW5ndGg7cDx1O3ArKylmb3IoYT15W3BdLGw9MSx0PWEubGVuZ3RoO2w8dDtsKyspe2lmKChoPWFbbF0uZWxlbWVudClbMF0uc2VsZWN0ZWQpe2g9aC52YWwoKTtuJiYoZFtuXT1oKTtpZih3KWZvcih2PTA7djxjLmxlbmd0aCYmCihkW21dPWNbdl0sdyhlLGQpIT1oKTt2KyspO2Vsc2UgZFttXT1jW2hdO2sucHVzaChxKGUsZCkpfX1lbHNle2g9Zi52YWwoKTtpZigiPyI9PWgpaz1zO2Vsc2UgaWYoIiI9PT1oKWs9bnVsbDtlbHNlIGlmKHcpZm9yKHY9MDt2PGMubGVuZ3RoO3YrKyl7aWYoZFttXT1jW3ZdLHcoZSxkKT09aCl7az1xKGUsZCk7YnJlYWt9fWVsc2UgZFttXT1jW2hdLG4mJihkW25dPWgpLGs9cShlLGQpOzE8eVswXS5sZW5ndGgmJnlbMF1bMV0uaWQhPT1oJiYoeVswXVsxXS5zZWxlY3RlZD0hMSl9Zy4kc2V0Vmlld1ZhbHVlKGspfSl9KTtnLiRyZW5kZXI9aztlLiR3YXRjaChrKX1pZihtWzFdKXt2YXIgbj1tWzBdO209bVsxXTt2YXIgcj1rLm11bHRpcGxlLHQ9ay5uZ09wdGlvbnMsdj0hMSx3LHU9eChWLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSxBPXgoVi5jcmVhdGVFbGVtZW50KCJvcHRncm91cCIpKSx5PXUuY2xvbmUoKTtrPTA7Zm9yKHZhciB6PWYuY2hpbGRyZW4oKSxFPXoubGVuZ3RoO2s8RTtrKyspaWYoIiI9PT0KeltrXS52YWx1ZSl7dz12PXouZXEoayk7YnJlYWt9bi5pbml0KG0sdix5KTtyJiYobS4kaXNFbXB0eT1mdW5jdGlvbihhKXtyZXR1cm4hYXx8MD09PWEubGVuZ3RofSk7dD9wKGUsZixtKTpyP2woZSxmLG0pOmgoZSxmLG0sbil9fX19XSxpZD1bIiRpbnRlcnBvbGF0ZSIsZnVuY3Rpb24oYSl7dmFyIGM9e2FkZE9wdGlvbjpBLHJlbW92ZU9wdGlvbjpBfTtyZXR1cm57cmVzdHJpY3Q6IkUiLHByaW9yaXR5OjEwMCxjb21waWxlOmZ1bmN0aW9uKGQsZSl7aWYoRChlLnZhbHVlKSl7dmFyIGc9YShkLnRleHQoKSwhMCk7Z3x8ZS4kc2V0KCJ2YWx1ZSIsZC50ZXh0KCkpfXJldHVybiBmdW5jdGlvbihhLGQsZSl7dmFyIGg9ZC5wYXJlbnQoKSxsPWguZGF0YSgiJHNlbGVjdENvbnRyb2xsZXIiKXx8aC5wYXJlbnQoKS5kYXRhKCIkc2VsZWN0Q29udHJvbGxlciIpO2wmJmwuZGF0YWJvdW5kP2QucHJvcCgic2VsZWN0ZWQiLCExKTpsPWM7Zz9hLiR3YXRjaChnLGZ1bmN0aW9uKGEsYyl7ZS4kc2V0KCJ2YWx1ZSIsCmEpO2EhPT1jJiZsLnJlbW92ZU9wdGlvbihjKTtsLmFkZE9wdGlvbihhKX0pOmwuYWRkT3B0aW9uKGUudmFsdWUpO2Qub24oIiRkZXN0cm95IixmdW5jdGlvbigpe2wucmVtb3ZlT3B0aW9uKGUudmFsdWUpfSl9fX19XSxoZD0kKHtyZXN0cmljdDoiRSIsdGVybWluYWw6ITB9KTtULmFuZ3VsYXIuYm9vdHN0cmFwP2NvbnNvbGUubG9nKCJXQVJOSU5HOiBUcmllZCB0byBsb2FkIGFuZ3VsYXIgbW9yZSB0aGFuIG9uY2UuIik6KChDYT1ULmpRdWVyeSkmJkNhLmZuLm9uPyh4PUNhLEUoQ2EuZm4se3Njb3BlOkthLnNjb3BlLGlzb2xhdGVTY29wZTpLYS5pc29sYXRlU2NvcGUsY29udHJvbGxlcjpLYS5jb250cm9sbGVyLGluamVjdG9yOkthLmluamVjdG9yLGluaGVyaXRlZERhdGE6S2EuaW5oZXJpdGVkRGF0YX0pLEViKCJyZW1vdmUiLCEwLCEwLCExKSxFYigiZW1wdHkiLCExLCExLCExKSxFYigiaHRtbCIsITEsITEsITApKTp4PVMsVGEuZWxlbWVudD14LCRjKFRhKSx4KFYpLnJlYWR5KGZ1bmN0aW9uKCl7WGMoViwKY2MpfSkpfSkod2luZG93LGRvY3VtZW50KTshd2luZG93LmFuZ3VsYXIuJCRjc3AoKSYmd2luZG93LmFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkuZmluZCgiaGVhZCIpLnByZXBlbmQoJzxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+QGNoYXJzZXQgIlVURi04IjtbbmdcXDpjbG9ha10sW25nLWNsb2FrXSxbZGF0YS1uZy1jbG9ha10sW3gtbmctY2xvYWtdLC5uZy1jbG9haywueC1uZy1jbG9haywubmctaGlkZXtkaXNwbGF5Om5vbmUgIWltcG9ydGFudDt9bmdcXDpmb3Jte2Rpc3BsYXk6YmxvY2s7fS5uZy1hbmltYXRlLWJsb2NrLXRyYW5zaXRpb25ze3RyYW5zaXRpb246MHMgYWxsIWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb246MHMgYWxsIWltcG9ydGFudDt9Lm5nLWhpZGUtYWRkLWFjdGl2ZSwubmctaGlkZS1yZW1vdmV7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7fTwvc3R5bGU+Jyk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuZ3VsYXIubWluLmpzLm1hcAo=')
},
{
'name': '/app/bower_components/angular/bower.json', 'data': base64.b64decode('ewogICJuYW1lIjogImFuZ3VsYXIiLAogICJ2ZXJzaW9uIjogIjEuMi4xOSIsCiAgIm1haW4iOiAiLi9hbmd1bGFyLmpzIiwKICAiZGVwZW5kZW5jaWVzIjogewogIH0KfQo=')
},
{
'name': '/app/bower_components/angular/angular.min.js.map', 'data': base64.b64decode('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QXhCLENBQWtDLENBQUEsQ0FBbEMsQ0FBd0MsQ0FBQSxDQUF4QyxDQUE4QyxDQUFBLENBQTlDLENBRUEsQ0FEQUEsRUFBQSxDQUF3QixPQUF4QixDQUFpQyxDQUFBLENBQWpDLENBQXdDLENBQUEsQ0FBeEMsQ0FBK0MsQ0FBQSxDQUEvQyxDQUNBLENBQUFBLEVBQUEsQ0FBd0IsTUFBeEIsQ0FBZ0MsQ0FBQSxDQUFoQyxDQUF1QyxDQUFBLENBQXZDLENBQThDLENBQUEsQ0FBOUMsQ0FiRixFQWVFM0ssQ0FmRixDQWVXOEwsQ0E4MG5CWCxDQTUwbkJBNUksRUFBQW5ELFFBNDBuQkEsQ0E1MG5Ca0JDLENBNDBuQmxCLENBRkE2RixFQUFBLENBQW1CM0MsRUFBbkIsQ0FFQSxDQUFBbEQsQ0FBQSxDQUFPekgsQ0FBUCxDQUFBNjdDLE1BQUEsQ0FBdUIsUUFBUSxFQUFHLENBQ2hDN3lDLEVBQUEsQ0FBWWhKLENBQVo7QUFBc0JpSixFQUF0QixDQURnQyxDQUFsQyxDQVpBLENBMXZxQnFDLENBQXRDLENBQUEsQ0Ewd3FCRWxKLE1BMXdxQkYsQ0Ewd3FCVUMsUUExd3FCVixDQTR3cUJELEVBQUNELE1BQUE0SyxRQUFBNm9ELE1BQUEsRUFBRCxFQUEyQnp6RCxNQUFBNEssUUFBQW5ELFFBQUEsQ0FBdUJ4SCxRQUF2QixDQUFBa0UsS0FBQSxDQUFzQyxNQUF0QyxDQUFBMDVDLFFBQUEsQ0FBc0Qsb1ZBQXREOyIsCiJzb3VyY2VzIjpbImFuZ3VsYXIuanMiXSwKIm5hbWVzIjpbIndpbmRvdyIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwibWluRXJyIiwiaXNBcnJheUxpa2UiLCJvYmoiLCJpc1dpbmRvdyIsImxlbmd0aCIsIm5vZGVUeXBlIiwiaXNTdHJpbmciLCJpc0FycmF5IiwiZm9yRWFjaCIsIml0ZXJhdG9yIiwiY29udGV4dCIsImtleSIsImlzRnVuY3Rpb24iLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJzb3J0ZWRLZXlzIiwia2V5cyIsInB1c2giLCJzb3J0IiwiZm9yRWFjaFNvcnRlZCIsImkiLCJyZXZlcnNlUGFyYW1zIiwiaXRlcmF0b3JGbiIsInZhbHVlIiwibmV4dFVpZCIsImluZGV4IiwidWlkIiwiZGlnaXQiLCJjaGFyQ29kZUF0Iiwiam9pbiIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInVuc2hpZnQiLCJzZXRIYXNoS2V5IiwiaCIsIiQkaGFzaEtleSIsImV4dGVuZCIsImRzdCIsImFyZ3VtZW50cyIsImludCIsInN0ciIsInBhcnNlSW50IiwiaW5oZXJpdCIsInBhcmVudCIsImV4dHJhIiwibm9vcCIsImlkZW50aXR5IiwiJCIsInZhbHVlRm4iLCJpc1VuZGVmaW5lZCIsImlzRGVmaW5lZCIsImlzT2JqZWN0IiwiaXNOdW1iZXIiLCJpc0RhdGUiLCJ0b1N0cmluZyIsImlzUmVnRXhwIiwibG9jYXRpb24iLCJhbGVydCIsInNldEludGVydmFsIiwiaXNFbGVtZW50Iiwibm9kZSIsIm5vZGVOYW1lIiwicHJvcCIsImF0dHIiLCJmaW5kIiwibWFwIiwicmVzdWx0cyIsImxpc3QiLCJpbmRleE9mIiwiYXJyYXkiLCJhcnJheVJlbW92ZSIsInNwbGljZSIsImNvcHkiLCJzb3VyY2UiLCJkZXN0aW5hdGlvbiIsInN0YWNrU291cmNlIiwic3RhY2tEZXN0IiwiJGV2YWxBc3luYyIsIiR3YXRjaCIsIm5nTWluRXJyIiwicmVzdWx0IiwiRGF0ZSIsImdldFRpbWUiLCJSZWdFeHAiLCJzaGFsbG93Q29weSIsInNyYyIsImNoYXJBdCIsImVxdWFscyIsIm8xIiwibzIiLCJ0MSIsInQyIiwia2V5U2V0IiwiY3NwIiwic2VjdXJpdHlQb2xpY3kiLCJpc0FjdGl2ZSIsInF1ZXJ5U2VsZWN0b3IiLCJiaW5kIiwic2VsZiIsImZuIiwiY3VycnlBcmdzIiwic2xpY2UiLCJzdGFydEluZGV4IiwiYXBwbHkiLCJjb25jYXQiLCJ0b0pzb25SZXBsYWNlciIsInZhbCIsInRvSnNvbiIsInByZXR0eSIsIkpTT04iLCJzdHJpbmdpZnkiLCJmcm9tSnNvbiIsImpzb24iLCJwYXJzZSIsInRvQm9vbGVhbiIsInYiLCJsb3dlcmNhc2UiLCJzdGFydGluZ1RhZyIsImVsZW1lbnQiLCJqcUxpdGUiLCJjbG9uZSIsImVtcHR5IiwiZSIsImVsZW1IdG1sIiwiYXBwZW5kIiwiaHRtbCIsIlRFWFRfTk9ERSIsIm1hdGNoIiwicmVwbGFjZSIsInRyeURlY29kZVVSSUNvbXBvbmVudCIsImRlY29kZVVSSUNvbXBvbmVudCIsInBhcnNlS2V5VmFsdWUiLCJrZXlWYWx1ZSIsImtleV92YWx1ZSIsInNwbGl0IiwidG9LZXlWYWx1ZSIsInBhcnRzIiwiYXJyYXlWYWx1ZSIsImVuY29kZVVyaVF1ZXJ5IiwiZW5jb2RlVXJpU2VnbWVudCIsInBjdEVuY29kZVNwYWNlcyIsImVuY29kZVVSSUNvbXBvbmVudCIsImFuZ3VsYXJJbml0IiwiYm9vdHN0cmFwIiwiZWxlbWVudHMiLCJhcHBFbGVtZW50IiwibW9kdWxlIiwibmFtZXMiLCJOR19BUFBfQ0xBU1NfUkVHRVhQIiwibmFtZSIsImdldEVsZW1lbnRCeUlkIiwicXVlcnlTZWxlY3RvckFsbCIsImV4ZWMiLCJjbGFzc05hbWUiLCJhdHRyaWJ1dGVzIiwibW9kdWxlcyIsImRvQm9vdHN0cmFwIiwiaW5qZWN0b3IiLCJ0YWciLCIkcHJvdmlkZSIsImNyZWF0ZUluamVjdG9yIiwiaW52b2tlIiwic2NvcGUiLCJjb21waWxlIiwiYW5pbWF0ZSIsIiRhcHBseSIsImRhdGEiLCJOR19ERUZFUl9CT09UU1RSQVAiLCJ0ZXN0IiwiYW5ndWxhciIsInJlc3VtZUJvb3RzdHJhcCIsImFuZ3VsYXIucmVzdW1lQm9vdHN0cmFwIiwiZXh0cmFNb2R1bGVzIiwic25ha2VfY2FzZSIsInNlcGFyYXRvciIsIlNOQUtFX0NBU0VfUkVHRVhQIiwibGV0dGVyIiwicG9zIiwidG9Mb3dlckNhc2UiLCJhc3NlcnRBcmciLCJhcmciLCJyZWFzb24iLCJhc3NlcnRBcmdGbiIsImFjY2VwdEFycmF5QW5ub3RhdGlvbiIsImNvbnN0cnVjdG9yIiwiYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkiLCJnZXR0ZXIiLCJwYXRoIiwiYmluZEZuVG9TY29wZSIsImxhc3RJbnN0YW5jZSIsImxlbiIsImdldEJsb2NrRWxlbWVudHMiLCJub2RlcyIsInN0YXJ0Tm9kZSIsImVuZE5vZGUiLCJuZXh0U2libGluZyIsInNldHVwTW9kdWxlTG9hZGVyIiwiJGluamVjdG9yTWluRXJyIiwiJCRtaW5FcnIiLCJmYWN0b3J5IiwicmVxdWlyZXMiLCJjb25maWdGbiIsImludm9rZUxhdGVyIiwicHJvdmlkZXIiLCJtZXRob2QiLCJpbnNlcnRNZXRob2QiLCJpbnZva2VRdWV1ZSIsIm1vZHVsZUluc3RhbmNlIiwicnVuQmxvY2tzIiwiY29uZmlnIiwicnVuIiwiYmxvY2siLCJwdWJsaXNoRXh0ZXJuYWxBUEkiLCJ2ZXJzaW9uIiwidXBwZXJjYXNlIiwiYW5ndWxhck1vZHVsZSIsIiRMb2NhbGVQcm92aWRlciIsIm5nTW9kdWxlIiwiJCRTYW5pdGl6ZVVyaVByb3ZpZGVyIiwiJENvbXBpbGVQcm92aWRlciIsImRpcmVjdGl2ZSIsImh0bWxBbmNob3JEaXJlY3RpdmUiLCJpbnB1dERpcmVjdGl2ZSIsImZvcm1EaXJlY3RpdmUiLCJzY3JpcHREaXJlY3RpdmUiLCJzZWxlY3REaXJlY3RpdmUiLCJzdHlsZURpcmVjdGl2ZSIsIm9wdGlvbkRpcmVjdGl2ZSIsIm5nQmluZERpcmVjdGl2ZSIsIm5nQmluZEh0bWxEaXJlY3RpdmUiLCJuZ0JpbmRUZW1wbGF0ZURpcmVjdGl2ZSIsIm5nQ2xhc3NEaXJlY3RpdmUiLCJuZ0NsYXNzRXZlbkRpcmVjdGl2ZSIsIm5nQ2xhc3NPZGREaXJlY3RpdmUiLCJuZ0Nsb2FrRGlyZWN0aXZlIiwibmdDb250cm9sbGVyRGlyZWN0aXZlIiwibmdGb3JtRGlyZWN0aXZlIiwibmdIaWRlRGlyZWN0aXZlIiwibmdJZkRpcmVjdGl2ZSIsIm5nSW5jbHVkZURpcmVjdGl2ZSIsIm5nSW5pdERpcmVjdGl2ZSIsIm5nTm9uQmluZGFibGVEaXJlY3RpdmUiLCJuZ1BsdXJhbGl6ZURpcmVjdGl2ZSIsIm5nUmVwZWF0RGlyZWN0aXZlIiwibmdTaG93RGlyZWN0aXZlIiwibmdTdHlsZURpcmVjdGl2ZSIsIm5nU3dpdGNoRGlyZWN0aXZlIiwibmdTd2l0Y2hXaGVuRGlyZWN0aXZlIiwibmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlIiwibmdPcHRpb25zRGlyZWN0aXZlIiwibmdUcmFuc2NsdWRlRGlyZWN0aXZlIiwibmdNb2RlbERpcmVjdGl2ZSIsIm5nTGlzdERpcmVjdGl2ZSIsIm5nQ2hhbmdlRGlyZWN0aXZlIiwicmVxdWlyZWREaXJlY3RpdmUiLCJuZ1ZhbHVlRGlyZWN0aXZlIiwibmdJbmNsdWRlRmlsbENvbnRlbnREaXJlY3RpdmUiLCJuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcyIsIm5nRXZlbnREaXJlY3RpdmVzIiwiJEFuY2hvclNjcm9sbFByb3ZpZGVyIiwiJEFuaW1hdGVQcm92aWRlciIsIiRCcm93c2VyUHJvdmlkZXIiLCIkQ2FjaGVGYWN0b3J5UHJvdmlkZXIiLCIkQ29udHJvbGxlclByb3ZpZGVyIiwiJERvY3VtZW50UHJvdmlkZXIiLCIkRXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyIiwiJEZpbHRlclByb3ZpZGVyIiwiJEludGVycG9sYXRlUHJvdmlkZXIiLCIkSW50ZXJ2YWxQcm92aWRlciIsIiRIdHRwUHJvdmlkZXIiLCIkSHR0cEJhY2tlbmRQcm92aWRlciIsIiRMb2NhdGlvblByb3ZpZGVyIiwiJExvZ1Byb3ZpZGVyIiwiJFBhcnNlUHJvdmlkZXIiLCIkUm9vdFNjb3BlUHJvdmlkZXIiLCIkUVByb3ZpZGVyIiwiJFNjZVByb3ZpZGVyIiwiJFNjZURlbGVnYXRlUHJvdmlkZXIiLCIkU25pZmZlclByb3ZpZGVyIiwiJFRlbXBsYXRlQ2FjaGVQcm92aWRlciIsIiRUaW1lb3V0UHJvdmlkZXIiLCIkV2luZG93UHJvdmlkZXIiLCIkJFJBRlByb3ZpZGVyIiwiJCRBc3luY0NhbGxiYWNrUHJvdmlkZXIiLCJjYW1lbENhc2UiLCJTUEVDSUFMX0NIQVJTX1JFR0VYUCIsIl8iLCJvZmZzZXQiLCJ0b1VwcGVyQ2FzZSIsIk1PWl9IQUNLX1JFR0VYUCIsImpxTGl0ZVBhdGNoSlF1ZXJ5UmVtb3ZlIiwiZGlzcGF0Y2hUaGlzIiwiZmlsdGVyRWxlbXMiLCJnZXR0ZXJJZk5vQXJndW1lbnRzIiwicmVtb3ZlUGF0Y2giLCJwYXJhbSIsImZpbHRlciIsImZpcmVFdmVudCIsInNldCIsInNldEluZGV4Iiwic2V0TGVuZ3RoIiwiY2hpbGRJbmRleCIsImNoaWxkcmVuIiwic2hpZnQiLCJ0cmlnZ2VySGFuZGxlciIsImNoaWxkTGVuZ3RoIiwialF1ZXJ5Iiwib3JpZ2luYWxKcUZuIiwiJG9yaWdpbmFsIiwiSlFMaXRlIiwidHJpbSIsImpxTGl0ZU1pbkVyciIsInBhcnNlZCIsIlNJTkdMRV9UQUdfUkVHRVhQIiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiSFRNTF9SRUdFWFAiLCJ0bXAiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZUVsZW1lbnQiLCJUQUdfTkFNRV9SRUdFWFAiLCJ3cmFwIiwid3JhcE1hcCIsIl9kZWZhdWx0IiwiaW5uZXJIVE1MIiwiWEhUTUxfVEFHX1JFR0VYUCIsInJlbW92ZUNoaWxkIiwiZmlyc3RDaGlsZCIsImxhc3RDaGlsZCIsImoiLCJqaiIsImNoaWxkTm9kZXMiLCJ0ZXh0Q29udGVudCIsImNyZWF0ZVRleHROb2RlIiwianFMaXRlQWRkTm9kZXMiLCJqcUxpdGVDbG9uZSIsImNsb25lTm9kZSIsImpxTGl0ZURlYWxvYyIsImpxTGl0ZVJlbW92ZURhdGEiLCJqcUxpdGVPZmYiLCJ0eXBlIiwidW5zdXBwb3J0ZWQiLCJldmVudHMiLCJqcUxpdGVFeHBhbmRvU3RvcmUiLCJoYW5kbGUiLCJldmVudEhhbmRsZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyRm4iLCJleHBhbmRvSWQiLCJuZzMzOSIsImV4cGFuZG9TdG9yZSIsImpxQ2FjaGUiLCIkZGVzdHJveSIsImpxSWQiLCJqcUxpdGVEYXRhIiwiaXNTZXR0ZXIiLCJrZXlEZWZpbmVkIiwiaXNTaW1wbGVHZXR0ZXIiLCJqcUxpdGVIYXNDbGFzcyIsInNlbGVjdG9yIiwiZ2V0QXR0cmlidXRlIiwianFMaXRlUmVtb3ZlQ2xhc3MiLCJjc3NDbGFzc2VzIiwic2V0QXR0cmlidXRlIiwiY3NzQ2xhc3MiLCJqcUxpdGVBZGRDbGFzcyIsImV4aXN0aW5nQ2xhc3NlcyIsInJvb3QiLCJqcUxpdGVDb250cm9sbGVyIiwianFMaXRlSW5oZXJpdGVkRGF0YSIsImlpIiwicGFyZW50Tm9kZSIsImhvc3QiLCJqcUxpdGVFbXB0eSIsImdldEJvb2xlYW5BdHRyTmFtZSIsImJvb2xlYW5BdHRyIiwiQk9PTEVBTl9BVFRSIiwiQk9PTEVBTl9FTEVNRU5UUyIsImNyZWF0ZUV2ZW50SGFuZGxlciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJldmVudC5wcmV2ZW50RGVmYXVsdCIsInJldHVyblZhbHVlIiwic3RvcFByb3BhZ2F0aW9uIiwiZXZlbnQuc3RvcFByb3BhZ2F0aW9uIiwiY2FuY2VsQnViYmxlIiwidGFyZ2V0Iiwic3JjRWxlbWVudCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJwcmV2ZW50IiwiaXNEZWZhdWx0UHJldmVudGVkIiwiZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkIiwiZXZlbnRIYW5kbGVyc0NvcHkiLCJtc2llIiwiZWxlbSIsImhhc2hLZXkiLCJuZXh0VWlkRm4iLCJvYmpUeXBlIiwiSGFzaE1hcCIsImlzb2xhdGVkVWlkIiwidGhpcy5uZXh0VWlkIiwicHV0IiwiYW5ub3RhdGUiLCIkaW5qZWN0IiwiZm5UZXh0IiwiU1RSSVBfQ09NTUVOVFMiLCJhcmdEZWNsIiwiRk5fQVJHUyIsIkZOX0FSR19TUExJVCIsIkZOX0FSRyIsImFsbCIsInVuZGVyc2NvcmUiLCJsYXN0IiwibW9kdWxlc1RvTG9hZCIsInN1cHBvcnRPYmplY3QiLCJkZWxlZ2F0ZSIsInByb3ZpZGVyXyIsInByb3ZpZGVySW5qZWN0b3IiLCJpbnN0YW50aWF0ZSIsIiRnZXQiLCJwcm92aWRlckNhY2hlIiwicHJvdmlkZXJTdWZmaXgiLCJmYWN0b3J5Rm4iLCJsb2FkTW9kdWxlcyIsIm1vZHVsZUZuIiwibG9hZGVkTW9kdWxlcyIsImdldCIsIl9ydW5CbG9ja3MiLCJfaW52b2tlUXVldWUiLCJpbnZva2VBcmdzIiwibWVzc2FnZSIsInN0YWNrIiwiY3JlYXRlSW50ZXJuYWxJbmplY3RvciIsImNhY2hlIiwiZ2V0U2VydmljZSIsInNlcnZpY2VOYW1lIiwiSU5TVEFOVElBVElORyIsImVyciIsImxvY2FscyIsImFyZ3MiLCJUeXBlIiwiQ29uc3RydWN0b3IiLCJyZXR1cm5lZFZhbHVlIiwicHJvdG90eXBlIiwiaW5zdGFuY2UiLCJoYXMiLCJzZXJ2aWNlIiwiJGluamVjdG9yIiwiY29uc3RhbnQiLCJpbnN0YW5jZUNhY2hlIiwiZGVjb3JhdG9yIiwiZGVjb3JGbiIsIm9yaWdQcm92aWRlciIsIm9yaWckZ2V0Iiwib3JpZ1Byb3ZpZGVyLiRnZXQiLCJvcmlnSW5zdGFuY2UiLCJpbnN0YW5jZUluamVjdG9yIiwic2VydmljZW5hbWUiLCJhdXRvU2Nyb2xsaW5nRW5hYmxlZCIsImRpc2FibGVBdXRvU2Nyb2xsaW5nIiwidGhpcy5kaXNhYmxlQXV0b1Njcm9sbGluZyIsIiR3aW5kb3ciLCIkbG9jYXRpb24iLCIkcm9vdFNjb3BlIiwiZ2V0Rmlyc3RBbmNob3IiLCJzY3JvbGwiLCJoYXNoIiwiZWxtIiwic2Nyb2xsSW50b1ZpZXciLCJnZXRFbGVtZW50c0J5TmFtZSIsInNjcm9sbFRvIiwiYXV0b1Njcm9sbFdhdGNoIiwiYXV0b1Njcm9sbFdhdGNoQWN0aW9uIiwiJCRyQUYiLCIkdGltZW91dCIsInN1cHBvcnRlZCIsIkJyb3dzZXIiLCIkbG9nIiwiJHNuaWZmZXIiLCJjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdCIsIm91dHN0YW5kaW5nUmVxdWVzdENvdW50Iiwib3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzIiwicG9wIiwiZXJyb3IiLCJzdGFydFBvbGxlciIsImludGVydmFsIiwic2V0VGltZW91dCIsImNoZWNrIiwicG9sbEZucyIsInBvbGxGbiIsInBvbGxUaW1lb3V0IiwiZmlyZVVybENoYW5nZSIsIm5ld0xvY2F0aW9uIiwibGFzdEJyb3dzZXJVcmwiLCJ1cmwiLCJ1cmxDaGFuZ2VMaXN0ZW5lcnMiLCJsaXN0ZW5lciIsInJhd0RvY3VtZW50IiwiaGlzdG9yeSIsImNsZWFyVGltZW91dCIsInBlbmRpbmdEZWZlcklkcyIsImlzTW9jayIsIiQkY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QiLCIkJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50Iiwic2VsZi4kJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50Iiwibm90aWZ5V2hlbk5vT3V0c3RhbmRpbmdSZXF1ZXN0cyIsInNlbGYubm90aWZ5V2hlbk5vT3V0c3RhbmRpbmdSZXF1ZXN0cyIsImNhbGxiYWNrIiwiYWRkUG9sbEZuIiwic2VsZi5hZGRQb2xsRm4iLCJocmVmIiwiYmFzZUVsZW1lbnQiLCJzZWxmLnVybCIsInJlcGxhY2VTdGF0ZSIsInB1c2hTdGF0ZSIsInVybENoYW5nZUluaXQiLCJvblVybENoYW5nZSIsInNlbGYub25VcmxDaGFuZ2UiLCJvbiIsImhhc2hjaGFuZ2UiLCJiYXNlSHJlZiIsInNlbGYuYmFzZUhyZWYiLCJsYXN0Q29va2llcyIsImxhc3RDb29raWVTdHJpbmciLCJjb29raWVQYXRoIiwiY29va2llcyIsInNlbGYuY29va2llcyIsImNvb2tpZUxlbmd0aCIsImNvb2tpZSIsImVzY2FwZSIsIndhcm4iLCJjb29raWVBcnJheSIsInVuZXNjYXBlIiwic3Vic3RyaW5nIiwiZGVmZXIiLCJzZWxmLmRlZmVyIiwiZGVsYXkiLCJ0aW1lb3V0SWQiLCJjYW5jZWwiLCJzZWxmLmRlZmVyLmNhbmNlbCIsImRlZmVySWQiLCIkZG9jdW1lbnQiLCJ0aGlzLiRnZXQiLCJjYWNoZUZhY3RvcnkiLCJjYWNoZUlkIiwib3B0aW9ucyIsInJlZnJlc2giLCJlbnRyeSIsImZyZXNoRW5kIiwic3RhbGVFbmQiLCJuIiwibGluayIsInAiLCJuZXh0RW50cnkiLCJwcmV2RW50cnkiLCJjYWNoZXMiLCJzaXplIiwic3RhdHMiLCJjYXBhY2l0eSIsIk51bWJlciIsIk1BWF9WQUxVRSIsImxydUhhc2giLCJscnVFbnRyeSIsInJlbW92ZSIsInJlbW92ZUFsbCIsImRlc3Ryb3kiLCJpbmZvIiwiY2FjaGVGYWN0b3J5LmluZm8iLCJjYWNoZUZhY3RvcnkuZ2V0IiwiJGNhY2hlRmFjdG9yeSIsIiQkc2FuaXRpemVVcmlQcm92aWRlciIsImhhc0RpcmVjdGl2ZXMiLCJTdWZmaXgiLCJDT01NRU5UX0RJUkVDVElWRV9SRUdFWFAiLCJDTEFTU19ESVJFQ1RJVkVfUkVHRVhQIiwiRVZFTlRfSEFORExFUl9BVFRSX1JFR0VYUCIsInRoaXMuZGlyZWN0aXZlIiwicmVnaXN0ZXJEaXJlY3RpdmUiLCJkaXJlY3RpdmVGYWN0b3J5IiwiJGV4Y2VwdGlvbkhhbmRsZXIiLCJkaXJlY3RpdmVzIiwicHJpb3JpdHkiLCJyZXF1aXJlIiwiY29udHJvbGxlciIsInJlc3RyaWN0IiwiYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QiLCJ0aGlzLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0IiwicmVnZXhwIiwiaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0IiwidGhpcy5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QiLCIkaW50ZXJwb2xhdGUiLCIkaHR0cCIsIiR0ZW1wbGF0ZUNhY2hlIiwiJHBhcnNlIiwiJGNvbnRyb2xsZXIiLCIkc2NlIiwiJGFuaW1hdGUiLCIkJHNhbml0aXplVXJpIiwiJGNvbXBpbGVOb2RlcyIsInRyYW5zY2x1ZGVGbiIsIm1heFByaW9yaXR5IiwiaWdub3JlRGlyZWN0aXZlIiwicHJldmlvdXNDb21waWxlQ29udGV4dCIsIm5vZGVWYWx1ZSIsImNvbXBvc2l0ZUxpbmtGbiIsImNvbXBpbGVOb2RlcyIsInNhZmVBZGRDbGFzcyIsInB1YmxpY0xpbmtGbiIsImNsb25lQ29ubmVjdEZuIiwidHJhbnNjbHVkZUNvbnRyb2xsZXJzIiwicGFyZW50Qm91bmRUcmFuc2NsdWRlRm4iLCIkbGlua05vZGUiLCJKUUxpdGVQcm90b3R5cGUiLCJlcSIsIiRlbGVtZW50IiwiYWRkQ2xhc3MiLCJub2RlTGlzdCIsIiRyb290RWxlbWVudCIsImNoaWxkTGlua0ZuIiwiJG5vZGUiLCJjaGlsZFNjb3BlIiwibm9kZUxpc3RMZW5ndGgiLCJzdGFibGVOb2RlTGlzdCIsIkFycmF5IiwibGlua0ZucyIsIm5vZGVMaW5rRm4iLCIkbmV3IiwiY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiIsInRyYW5zY2x1ZGVPblRoaXNFbGVtZW50IiwiY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4iLCJ0cmFuc2NsdWRlIiwidGVtcGxhdGVPblRoaXNFbGVtZW50IiwiYXR0cnMiLCJsaW5rRm5Gb3VuZCIsIkF0dHJpYnV0ZXMiLCJjb2xsZWN0RGlyZWN0aXZlcyIsImFwcGx5RGlyZWN0aXZlc1RvTm9kZSIsInRlcm1pbmFsIiwicHJldmlvdXNCb3VuZFRyYW5zY2x1ZGVGbiIsImJvdW5kVHJhbnNjbHVkZUZuIiwidHJhbnNjbHVkZWRTY29wZSIsImNsb25lRm4iLCJjb250cm9sbGVycyIsInNjb3BlQ3JlYXRlZCIsIiQkdHJhbnNjbHVkZWQiLCJhdHRyc01hcCIsIiRhdHRyIiwiYWRkRGlyZWN0aXZlIiwiZGlyZWN0aXZlTm9ybWFsaXplIiwibm9kZU5hbWVfIiwiaXNOZ0F0dHIiLCJuQXR0cnMiLCJhdHRyU3RhcnROYW1lIiwiYXR0ckVuZE5hbWUiLCJzcGVjaWZpZWQiLCJuZ0F0dHJOYW1lIiwiTkdfQVRUUl9CSU5ESU5HIiwic3Vic3RyIiwiZGlyZWN0aXZlTk5hbWUiLCJuTmFtZSIsImFkZEF0dHJJbnRlcnBvbGF0ZURpcmVjdGl2ZSIsImFkZFRleHRJbnRlcnBvbGF0ZURpcmVjdGl2ZSIsImJ5UHJpb3JpdHkiLCJncm91cFNjYW4iLCJhdHRyU3RhcnQiLCJhdHRyRW5kIiwiZGVwdGgiLCJoYXNBdHRyaWJ1dGUiLCIkY29tcGlsZU1pbkVyciIsImdyb3VwRWxlbWVudHNMaW5rRm5XcmFwcGVyIiwibGlua0ZuIiwiY29tcGlsZU5vZGUiLCJ0ZW1wbGF0ZUF0dHJzIiwianFDb2xsZWN0aW9uIiwib3JpZ2luYWxSZXBsYWNlRGlyZWN0aXZlIiwicHJlTGlua0ZucyIsInBvc3RMaW5rRm5zIiwiYWRkTGlua0ZucyIsInByZSIsInBvc3QiLCJkaXJlY3RpdmVOYW1lIiwibmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlIiwiJCRpc29sYXRlU2NvcGUiLCJjbG9uZUFuZEFubm90YXRlRm4iLCJnZXRDb250cm9sbGVycyIsImVsZW1lbnRDb250cm9sbGVycyIsInJldHJpZXZhbE1ldGhvZCIsIm9wdGlvbmFsIiwibGlua05vZGUiLCJjb250cm9sbGVyc0JvdW5kVHJhbnNjbHVkZSIsImNsb25lQXR0YWNoRm4iLCJoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSIsImlzb2xhdGVTY29wZSIsIiQkZWxlbWVudCIsIkxPQ0FMX1JFR0VYUCIsInRlbXBsYXRlRGlyZWN0aXZlIiwiJCRvcmlnaW5hbERpcmVjdGl2ZSIsImRlZmluaXRpb24iLCJzY29wZU5hbWUiLCJhdHRyTmFtZSIsIm1vZGUiLCJsYXN0VmFsdWUiLCJwYXJlbnRHZXQiLCJwYXJlbnRTZXQiLCJjb21wYXJlIiwiJCRpc29sYXRlQmluZGluZ3MiLCIkb2JzZXJ2ZSIsIiQkb2JzZXJ2ZXJzIiwiJCRzY29wZSIsImxpdGVyYWwiLCJhIiwiYiIsImFzc2lnbiIsInBhcmVudFZhbHVlV2F0Y2giLCJwYXJlbnRWYWx1ZSIsImNvbnRyb2xsZXJEaXJlY3RpdmVzIiwiY29udHJvbGxlckluc3RhbmNlIiwiY29udHJvbGxlckFzIiwiJHNjb3BlIiwic2NvcGVUb0NoaWxkIiwidGVtcGxhdGUiLCJ0ZW1wbGF0ZVVybCIsInRlcm1pbmFsUHJpb3JpdHkiLCJuZXdTY29wZURpcmVjdGl2ZSIsIm5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUiLCJoYXNUcmFuc2NsdWRlRGlyZWN0aXZlIiwiaGFzVGVtcGxhdGUiLCIkY29tcGlsZU5vZGUiLCIkdGVtcGxhdGUiLCJjaGlsZFRyYW5zY2x1ZGVGbiIsIiQkc3RhcnQiLCIkJGVuZCIsImRpcmVjdGl2ZVZhbHVlIiwiYXNzZXJ0Tm9EdXBsaWNhdGUiLCIkJHRsYiIsImNyZWF0ZUNvbW1lbnQiLCJyZXBsYWNlV2l0aCIsInJlcGxhY2VEaXJlY3RpdmUiLCJjb250ZW50cyIsImRlbm9ybWFsaXplVGVtcGxhdGUiLCJuZXdUZW1wbGF0ZUF0dHJzIiwidGVtcGxhdGVEaXJlY3RpdmVzIiwidW5wcm9jZXNzZWREaXJlY3RpdmVzIiwibWFya0RpcmVjdGl2ZXNBc0lzb2xhdGUiLCJtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyIsImNvbXBpbGVUZW1wbGF0ZVVybCIsIk1hdGgiLCJtYXgiLCJ0RGlyZWN0aXZlcyIsInN0YXJ0QXR0ck5hbWUiLCJlbmRBdHRyTmFtZSIsInNyY0F0dHIiLCJkc3RBdHRyIiwiJHNldCIsInRBdHRycyIsImxpbmtRdWV1ZSIsImFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuIiwiYWZ0ZXJUZW1wbGF0ZUNoaWxkTGlua0ZuIiwiYmVmb3JlVGVtcGxhdGVDb21waWxlTm9kZSIsIm9yaWdBc3luY0RpcmVjdGl2ZSIsImRlcml2ZWRTeW5jRGlyZWN0aXZlIiwiZ2V0VHJ1c3RlZFJlc291cmNlVXJsIiwic3VjY2VzcyIsImNvbnRlbnQiLCJ0ZW1wVGVtcGxhdGVBdHRycyIsImJlZm9yZVRlbXBsYXRlTGlua05vZGUiLCJsaW5rUm9vdEVsZW1lbnQiLCJvbGRDbGFzc2VzIiwicmVzcG9uc2UiLCJjb2RlIiwiaGVhZGVycyIsImRlbGF5ZWROb2RlTGlua0ZuIiwiaWdub3JlQ2hpbGRMaW5rRm4iLCJyb290RWxlbWVudCIsImRpZmYiLCJ3aGF0IiwicHJldmlvdXNEaXJlY3RpdmUiLCJ0ZXh0IiwiaW50ZXJwb2xhdGVGbiIsInRleHRJbnRlcnBvbGF0ZUNvbXBpbGVGbiIsInRlbXBsYXRlTm9kZSIsImhhc0NvbXBpbGVQYXJlbnQiLCJ0ZXh0SW50ZXJwb2xhdGVMaW5rRm4iLCJiaW5kaW5ncyIsImludGVycG9sYXRlRm5XYXRjaEFjdGlvbiIsImdldFRydXN0ZWRDb250ZXh0IiwiYXR0ck5vcm1hbGl6ZWROYW1lIiwiSFRNTCIsIlJFU09VUkNFX1VSTCIsImF0dHJJbnRlcnBvbGF0ZVByZUxpbmtGbiIsIiQkaW50ZXIiLCJuZXdWYWx1ZSIsIm9sZFZhbHVlIiwiJHVwZGF0ZUNsYXNzIiwiZWxlbWVudHNUb1JlbW92ZSIsIm5ld05vZGUiLCJmaXJzdEVsZW1lbnRUb1JlbW92ZSIsInJlbW92ZUNvdW50IiwiajIiLCJyZXBsYWNlQ2hpbGQiLCJleHBhbmRvIiwiayIsImtrIiwiYW5ub3RhdGlvbiIsIiRhZGRDbGFzcyIsImNsYXNzVmFsIiwiJHJlbW92ZUNsYXNzIiwicmVtb3ZlQ2xhc3MiLCJuZXdDbGFzc2VzIiwidG9BZGQiLCJ0b2tlbkRpZmZlcmVuY2UiLCJ0b1JlbW92ZSIsInNldENsYXNzIiwid3JpdGVBdHRyIiwiYm9vbGVhbktleSIsInJlbW92ZUF0dHIiLCJsaXN0ZW5lcnMiLCJzdGFydFN5bWJvbCIsImVuZFN5bWJvbCIsIlBSRUZJWF9SRUdFWFAiLCJzdHIxIiwic3RyMiIsInZhbHVlcyIsInRva2VuczEiLCJ0b2tlbnMyIiwidG9rZW4iLCJDTlRSTF9SRUciLCJyZWdpc3RlciIsInRoaXMucmVnaXN0ZXIiLCJleHByZXNzaW9uIiwiaWRlbnRpZmllciIsImV4Y2VwdGlvbiIsImNhdXNlIiwicGFyc2VIZWFkZXJzIiwibGluZSIsImhlYWRlcnNHZXR0ZXIiLCJoZWFkZXJzT2JqIiwidHJhbnNmb3JtRGF0YSIsImZucyIsIkpTT05fU1RBUlQiLCJKU09OX0VORCIsIlBST1RFQ1RJT05fUFJFRklYIiwiQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04iLCJkZWZhdWx0cyIsImQiLCJpbnRlcmNlcHRvckZhY3RvcmllcyIsImludGVyY2VwdG9ycyIsInJlc3BvbnNlSW50ZXJjZXB0b3JGYWN0b3JpZXMiLCJyZXNwb25zZUludGVyY2VwdG9ycyIsIiRodHRwQmFja2VuZCIsIiRicm93c2VyIiwiJHEiLCJyZXF1ZXN0Q29uZmlnIiwidHJhbnNmb3JtUmVzcG9uc2UiLCJyZXNwIiwic3RhdHVzIiwicmVqZWN0IiwidHJhbnNmb3JtUmVxdWVzdCIsIm1lcmdlSGVhZGVycyIsImV4ZWNIZWFkZXJzIiwiaGVhZGVyQ29udGVudCIsImhlYWRlckZuIiwiaGVhZGVyIiwiZGVmSGVhZGVycyIsInJlcUhlYWRlcnMiLCJkZWZIZWFkZXJOYW1lIiwicmVxSGVhZGVyTmFtZSIsImNvbW1vbiIsImxvd2VyY2FzZURlZkhlYWRlck5hbWUiLCJjaGFpbiIsInNlcnZlclJlcXVlc3QiLCJyZXFEYXRhIiwid2l0aENyZWRlbnRpYWxzIiwic2VuZFJlcSIsInRoZW4iLCJwcm9taXNlIiwid2hlbiIsInJldmVyc2VkSW50ZXJjZXB0b3JzIiwiaW50ZXJjZXB0b3IiLCJyZXF1ZXN0IiwicmVxdWVzdEVycm9yIiwicmVzcG9uc2VFcnJvciIsInRoZW5GbiIsInJlamVjdEZuIiwicHJvbWlzZS5zdWNjZXNzIiwicHJvbWlzZS5lcnJvciIsImRvbmUiLCJoZWFkZXJzU3RyaW5nIiwic3RhdHVzVGV4dCIsInJlc29sdmVQcm9taXNlIiwiJCRwaGFzZSIsImRlZmVycmVkIiwicmVzb2x2ZSIsInJlbW92ZVBlbmRpbmdSZXEiLCJpZHgiLCJwZW5kaW5nUmVxdWVzdHMiLCJjYWNoZWRSZXNwIiwiYnVpbGRVcmwiLCJwYXJhbXMiLCJkZWZhdWx0Q2FjaGUiLCJ4c3JmVmFsdWUiLCJ1cmxJc1NhbWVPcmlnaW4iLCJ4c3JmQ29va2llTmFtZSIsInhzcmZIZWFkZXJOYW1lIiwidGltZW91dCIsInJlc3BvbnNlVHlwZSIsImludGVyY2VwdG9yRmFjdG9yeSIsInJlc3BvbnNlRm4iLCJjcmVhdGVTaG9ydE1ldGhvZHMiLCJjcmVhdGVTaG9ydE1ldGhvZHNXaXRoRGF0YSIsImNyZWF0ZVhociIsIlhNTEh0dHBSZXF1ZXN0IiwiQWN0aXZlWE9iamVjdCIsImNyZWF0ZUh0dHBCYWNrZW5kIiwiY2FsbGJhY2tzIiwiJGJyb3dzZXJEZWZlciIsImpzb25wUmVxIiwiY2FsbGJhY2tJZCIsInNjcmlwdCIsImFzeW5jIiwiYm9keSIsImNhbGxlZCIsImFkZEV2ZW50TGlzdGVuZXJGbiIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwiQUJPUlRFRCIsInRpbWVvdXRSZXF1ZXN0IiwianNvbnBEb25lIiwieGhyIiwiYWJvcnQiLCJjb21wbGV0ZVJlcXVlc3QiLCJ1cmxSZXNvbHZlIiwicHJvdG9jb2wiLCJjb3VudGVyIiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJ4aHIub25yZWFkeXN0YXRlY2hhbmdlIiwicmVzcG9uc2VIZWFkZXJzIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwicmVzcG9uc2VUZXh0Iiwic2VuZCIsInRoaXMuc3RhcnRTeW1ib2wiLCJ0aGlzLmVuZFN5bWJvbCIsIm11c3RIYXZlRXhwcmVzc2lvbiIsInRydXN0ZWRDb250ZXh0IiwiZW5kSW5kZXgiLCJoYXNJbnRlcnBvbGF0aW9uIiwic3RhcnRTeW1ib2xMZW5ndGgiLCJleHAiLCJlbmRTeW1ib2xMZW5ndGgiLCIkaW50ZXJwb2xhdGVNaW5FcnIiLCJwYXJ0IiwiZ2V0VHJ1c3RlZCIsInZhbHVlT2YiLCJuZXdFcnIiLCIkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2wiLCIkaW50ZXJwb2xhdGUuZW5kU3ltYm9sIiwiY291bnQiLCJpbnZva2VBcHBseSIsImNsZWFySW50ZXJ2YWwiLCJpdGVyYXRpb24iLCJza2lwQXBwbHkiLCIkJGludGVydmFsSWQiLCJ0aWNrIiwibm90aWZ5IiwiaW50ZXJ2YWxzIiwiaW50ZXJ2YWwuY2FuY2VsIiwic2hvcnQiLCJwbHVyYWxDYXQiLCJudW0iLCJlbmNvZGVQYXRoIiwic2VnbWVudHMiLCJwYXJzZUFic29sdXRlVXJsIiwiYWJzb2x1dGVVcmwiLCJsb2NhdGlvbk9iaiIsImFwcEJhc2UiLCJwYXJzZWRVcmwiLCIkJHByb3RvY29sIiwiJCRob3N0IiwiaG9zdG5hbWUiLCIkJHBvcnQiLCJwb3J0IiwiREVGQVVMVF9QT1JUUyIsInBhcnNlQXBwVXJsIiwicmVsYXRpdmVVcmwiLCJwcmVmaXhlZCIsIiQkcGF0aCIsInBhdGhuYW1lIiwiJCRzZWFyY2giLCJzZWFyY2giLCIkJGhhc2giLCJiZWdpbnNXaXRoIiwiYmVnaW4iLCJ3aG9sZSIsInN0cmlwSGFzaCIsInN0cmlwRmlsZSIsImxhc3RJbmRleE9mIiwiTG9jYXRpb25IdG1sNVVybCIsImJhc2VQcmVmaXgiLCIkJGh0bWw1IiwiYXBwQmFzZU5vRmlsZSIsIiQkcGFyc2UiLCJ0aGlzLiQkcGFyc2UiLCJwYXRoVXJsIiwiJGxvY2F0aW9uTWluRXJyIiwiJCRjb21wb3NlIiwidGhpcy4kJGNvbXBvc2UiLCIkJHVybCIsIiQkYWJzVXJsIiwiJCRyZXdyaXRlIiwidGhpcy4kJHJld3JpdGUiLCJhcHBVcmwiLCJwcmV2QXBwVXJsIiwiTG9jYXRpb25IYXNoYmFuZ1VybCIsImhhc2hQcmVmaXgiLCJ3aXRob3V0QmFzZVVybCIsIndpdGhvdXRIYXNoVXJsIiwid2luZG93c0ZpbGVQYXRoRXhwIiwiZmlyc3RQYXRoU2VnbWVudE1hdGNoIiwiTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmwiLCJsb2NhdGlvbkdldHRlciIsInByb3BlcnR5IiwibG9jYXRpb25HZXR0ZXJTZXR0ZXIiLCJwcmVwcm9jZXNzIiwiaHRtbDVNb2RlIiwidGhpcy5oYXNoUHJlZml4IiwicHJlZml4IiwidGhpcy5odG1sNU1vZGUiLCJhZnRlckxvY2F0aW9uQ2hhbmdlIiwib2xkVXJsIiwiJGJyb2FkY2FzdCIsImFic1VybCIsIkxvY2F0aW9uTW9kZSIsImluaXRpYWxVcmwiLCJjdHJsS2V5IiwibWV0YUtleSIsIndoaWNoIiwiYWJzSHJlZiIsImFuaW1WYWwiLCJyZXdyaXR0ZW5VcmwiLCJuZXdVcmwiLCIkZGlnZXN0IiwiY2hhbmdlQ291bnRlciIsIiRsb2NhdGlvbldhdGNoIiwiY3VycmVudFJlcGxhY2UiLCIkJHJlcGxhY2UiLCJkZWJ1ZyIsImRlYnVnRW5hYmxlZCIsInRoaXMuZGVidWdFbmFibGVkIiwiZmxhZyIsImZvcm1hdEVycm9yIiwiRXJyb3IiLCJzb3VyY2VVUkwiLCJjb25zb2xlTG9nIiwiY29uc29sZSIsImxvZ0ZuIiwibG9nIiwiaGFzQXBwbHkiLCJhcmcxIiwiYXJnMiIsImVuc3VyZVNhZmVNZW1iZXJOYW1lIiwiZnVsbEV4cHJlc3Npb24iLCIkcGFyc2VNaW5FcnIiLCJlbnN1cmVTYWZlT2JqZWN0IiwiT2JqZWN0Iiwic2V0dGVyIiwic2V0VmFsdWUiLCJmdWxsRXhwIiwicHJvcGVydHlPYmoiLCJ1bndyYXBQcm9taXNlcyIsInByb21pc2VXYXJuaW5nIiwiJCR2IiwiY3NwU2FmZUdldHRlckZuIiwia2V5MCIsImtleTEiLCJrZXkyIiwia2V5MyIsImtleTQiLCJjc3BTYWZlUHJvbWlzZUVuYWJsZWRHZXR0ZXIiLCJwYXRoVmFsIiwiY3NwU2FmZUdldHRlciIsInNpbXBsZUdldHRlckZuMSIsInNpbXBsZUdldHRlckZuMiIsImdldHRlckZuIiwiZ2V0dGVyRm5DYWNoZSIsInBhdGhLZXlzIiwicGF0aEtleXNMZW5ndGgiLCJldmFsZWRGbkdldHRlciIsIkZ1bmN0aW9uIiwiJHBhcnNlT3B0aW9ucyIsInRoaXMudW53cmFwUHJvbWlzZXMiLCJsb2dQcm9taXNlV2FybmluZ3MiLCJ0aGlzLmxvZ1Byb21pc2VXYXJuaW5ncyIsIiRmaWx0ZXIiLCJwcm9taXNlV2FybmluZ0NhY2hlIiwicGFyc2VkRXhwcmVzc2lvbiIsImxleGVyIiwiTGV4ZXIiLCJwYXJzZXIiLCJQYXJzZXIiLCJxRmFjdG9yeSIsIm5leHRUaWNrIiwiZXhjZXB0aW9uSGFuZGxlciIsImRlZmF1bHRDYWxsYmFjayIsImRlZmF1bHRFcnJiYWNrIiwicGVuZGluZyIsInJlZiIsImNyZWF0ZUludGVybmFsUmVqZWN0ZWRQcm9taXNlIiwicHJvZ3Jlc3MiLCJlcnJiYWNrIiwicHJvZ3Jlc3NiYWNrIiwid3JhcHBlZENhbGxiYWNrIiwid3JhcHBlZEVycmJhY2siLCJ3cmFwcGVkUHJvZ3Jlc3NiYWNrIiwiY2F0Y2giLCJmaW5hbGx5IiwibWFrZVByb21pc2UiLCJyZXNvbHZlZCIsImhhbmRsZUNhbGxiYWNrIiwiaXNSZXNvbHZlZCIsImNhbGxiYWNrT3V0cHV0IiwicHJvbWlzZXMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIiwibW96Q2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyYWZTdXBwb3J0ZWQiLCJyYWYiLCJpZCIsInRpbWVyIiwiVFRMIiwiJHJvb3RTY29wZU1pbkVyciIsImxhc3REaXJ0eVdhdGNoIiwiZGlnZXN0VHRsIiwidGhpcy5kaWdlc3RUdGwiLCJTY29wZSIsIiRpZCIsIiRwYXJlbnQiLCIkJHdhdGNoZXJzIiwiJCRuZXh0U2libGluZyIsIiQkcHJldlNpYmxpbmciLCIkJGNoaWxkSGVhZCIsIiQkY2hpbGRUYWlsIiwiJHJvb3QiLCIkJGRlc3Ryb3llZCIsIiQkYXN5bmNRdWV1ZSIsIiQkcG9zdERpZ2VzdFF1ZXVlIiwiJCRsaXN0ZW5lcnMiLCIkJGxpc3RlbmVyQ291bnQiLCJiZWdpblBoYXNlIiwicGhhc2UiLCJjb21waWxlVG9GbiIsImRlY3JlbWVudExpc3RlbmVyQ291bnQiLCJjdXJyZW50IiwiaW5pdFdhdGNoVmFsIiwiaXNvbGF0ZSIsImNoaWxkIiwiJCRjaGlsZFNjb3BlQ2xhc3MiLCJ0aGlzLiQkY2hpbGRTY29wZUNsYXNzIiwid2F0Y2hFeHAiLCJvYmplY3RFcXVhbGl0eSIsIndhdGNoZXIiLCJsaXN0ZW5GbiIsIndhdGNoZXIuZm4iLCJuZXdWYWwiLCJvbGRWYWwiLCJvcmlnaW5hbEZuIiwiZGVyZWdpc3RlcldhdGNoIiwiJHdhdGNoQ29sbGVjdGlvbiIsInZlcnlPbGRWYWx1ZSIsInRyYWNrVmVyeU9sZFZhbHVlIiwiY2hhbmdlRGV0ZWN0ZWQiLCJvYmpHZXR0ZXIiLCJpbnRlcm5hbEFycmF5IiwiaW50ZXJuYWxPYmplY3QiLCJpbml0UnVuIiwib2xkTGVuZ3RoIiwiJHdhdGNoQ29sbGVjdGlvbldhdGNoIiwibmV3TGVuZ3RoIiwiJHdhdGNoQ29sbGVjdGlvbkFjdGlvbiIsIndhdGNoIiwid2F0Y2hlcnMiLCJhc3luY1F1ZXVlIiwicG9zdERpZ2VzdFF1ZXVlIiwiZGlydHkiLCJ0dGwiLCJ3YXRjaExvZyIsImxvZ0lkeCIsImxvZ01zZyIsImFzeW5jVGFzayIsIiRldmFsIiwiaXNOYU4iLCJuZXh0IiwiJG9uIiwidGhpcy4kd2F0Y2giLCJleHByIiwiJCRwb3N0RGlnZXN0IiwibmFtZWRMaXN0ZW5lcnMiLCIkZW1pdCIsImxpc3RlbmVyQXJncyIsImFycmF5MSIsImN1cnJlbnRTY29wZSIsInNhbml0aXplVXJpIiwidXJpIiwiaXNJbWFnZSIsInJlZ2V4Iiwibm9ybWFsaXplZFZhbCIsImFkanVzdE1hdGNoZXIiLCJtYXRjaGVyIiwiJHNjZU1pbkVyciIsImFkanVzdE1hdGNoZXJzIiwibWF0Y2hlcnMiLCJhZGp1c3RlZE1hdGNoZXJzIiwiU0NFX0NPTlRFWFRTIiwicmVzb3VyY2VVcmxXaGl0ZWxpc3QiLCJyZXNvdXJjZVVybEJsYWNrbGlzdCIsInRoaXMucmVzb3VyY2VVcmxXaGl0ZWxpc3QiLCJ0aGlzLnJlc291cmNlVXJsQmxhY2tsaXN0IiwiZ2VuZXJhdGVIb2xkZXJUeXBlIiwiQmFzZSIsImhvbGRlclR5cGUiLCJ0cnVzdGVkVmFsdWUiLCIkJHVud3JhcFRydXN0ZWRWYWx1ZSIsInRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUiLCJob2xkZXJUeXBlLnByb3RvdHlwZS52YWx1ZU9mIiwiaG9sZGVyVHlwZS5wcm90b3R5cGUudG9TdHJpbmciLCJodG1sU2FuaXRpemVyIiwidHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSIsImJ5VHlwZSIsIkNTUyIsIlVSTCIsIkpTIiwidHJ1c3RBcyIsIm1heWJlVHJ1c3RlZCIsImFsbG93ZWQiLCJlbmFibGVkIiwidGhpcy5lbmFibGVkIiwiJHNjZURlbGVnYXRlIiwibXNpZURvY3VtZW50TW9kZSIsInNjZSIsImlzRW5hYmxlZCIsInNjZS5pc0VuYWJsZWQiLCJzY2UuZ2V0VHJ1c3RlZCIsInBhcnNlQXMiLCJzY2UucGFyc2VBcyIsInNjZVBhcnNlQXNUcnVzdGVkIiwiZW51bVZhbHVlIiwibE5hbWUiLCJldmVudFN1cHBvcnQiLCJhbmRyb2lkIiwidXNlckFnZW50IiwibmF2aWdhdG9yIiwiYm94ZWUiLCJkb2N1bWVudE1vZGUiLCJ2ZW5kb3JQcmVmaXgiLCJ2ZW5kb3JSZWdleCIsImJvZHlTdHlsZSIsInN0eWxlIiwidHJhbnNpdGlvbnMiLCJhbmltYXRpb25zIiwid2Via2l0VHJhbnNpdGlvbiIsIndlYmtpdEFuaW1hdGlvbiIsImhhc0V2ZW50IiwiZGl2RWxtIiwiZGVmZXJyZWRzIiwiJCR0aW1lb3V0SWQiLCJ0aW1lb3V0LmNhbmNlbCIsImJhc2UiLCJ1cmxQYXJzaW5nTm9kZSIsInJlcXVlc3RVcmwiLCJvcmlnaW5VcmwiLCJmaWx0ZXJzIiwic3VmZml4IiwiY3VycmVuY3lGaWx0ZXIiLCJkYXRlRmlsdGVyIiwiZmlsdGVyRmlsdGVyIiwianNvbkZpbHRlciIsImxpbWl0VG9GaWx0ZXIiLCJsb3dlcmNhc2VGaWx0ZXIiLCJudW1iZXJGaWx0ZXIiLCJvcmRlckJ5RmlsdGVyIiwidXBwZXJjYXNlRmlsdGVyIiwiY29tcGFyYXRvciIsImNvbXBhcmF0b3JUeXBlIiwicHJlZGljYXRlcyIsInByZWRpY2F0ZXMuY2hlY2siLCJvYmpLZXkiLCJmaWx0ZXJlZCIsIiRsb2NhbGUiLCJmb3JtYXRzIiwiTlVNQkVSX0ZPUk1BVFMiLCJhbW91bnQiLCJjdXJyZW5jeVN5bWJvbCIsIkNVUlJFTkNZX1NZTSIsImZvcm1hdE51bWJlciIsIlBBVFRFUk5TIiwiR1JPVVBfU0VQIiwiREVDSU1BTF9TRVAiLCJudW1iZXIiLCJmcmFjdGlvblNpemUiLCJwYXR0ZXJuIiwiZ3JvdXBTZXAiLCJkZWNpbWFsU2VwIiwiaXNGaW5pdGUiLCJpc05lZ2F0aXZlIiwiYWJzIiwibnVtU3RyIiwiZm9ybWF0ZWRUZXh0IiwiaGFzRXhwb25lbnQiLCJ0b0ZpeGVkIiwiZnJhY3Rpb25MZW4iLCJtaW4iLCJtaW5GcmFjIiwibWF4RnJhYyIsInJvdW5kIiwiZnJhY3Rpb24iLCJsZ3JvdXAiLCJsZ1NpemUiLCJncm91cCIsImdTaXplIiwibmVnUHJlIiwicG9zUHJlIiwibmVnU3VmIiwicG9zU3VmIiwicGFkTnVtYmVyIiwiZGlnaXRzIiwibmVnIiwiZGF0ZUdldHRlciIsImRhdGUiLCJkYXRlU3RyR2V0dGVyIiwic2hvcnRGb3JtIiwianNvblN0cmluZ1RvRGF0ZSIsInN0cmluZyIsIlJfSVNPODYwMV9TVFIiLCJ0ekhvdXIiLCJ0ek1pbiIsImRhdGVTZXR0ZXIiLCJzZXRVVENGdWxsWWVhciIsInNldEZ1bGxZZWFyIiwidGltZVNldHRlciIsInNldFVUQ0hvdXJzIiwic2V0SG91cnMiLCJtIiwicyIsIm1zIiwicGFyc2VGbG9hdCIsImZvcm1hdCIsIkRBVEVUSU1FX0ZPUk1BVFMiLCJOVU1CRVJfU1RSSU5HIiwiREFURV9GT1JNQVRTX1NQTElUIiwiREFURV9GT1JNQVRTIiwib2JqZWN0IiwiaW5wdXQiLCJsaW1pdCIsIkluZmluaXR5Iiwib3V0Iiwic29ydFByZWRpY2F0ZSIsInJldmVyc2VPcmRlciIsInJldmVyc2VDb21wYXJhdG9yIiwiY29tcCIsImRlc2NlbmRpbmciLCJ2MSIsInYyIiwicHJlZGljYXRlIiwiYXJyYXlDb3B5IiwibmdEaXJlY3RpdmUiLCJGb3JtQ29udHJvbGxlciIsInRvZ2dsZVZhbGlkQ3NzIiwiaXNWYWxpZCIsInZhbGlkYXRpb25FcnJvcktleSIsIklOVkFMSURfQ0xBU1MiLCJWQUxJRF9DTEFTUyIsImZvcm0iLCJwYXJlbnRGb3JtIiwibnVsbEZvcm1DdHJsIiwiaW52YWxpZENvdW50IiwiZXJyb3JzIiwiJGVycm9yIiwiY29udHJvbHMiLCIkbmFtZSIsIm5nRm9ybSIsIiRkaXJ0eSIsIiRwcmlzdGluZSIsIiR2YWxpZCIsIiRpbnZhbGlkIiwiJGFkZENvbnRyb2wiLCJQUklTVElORV9DTEFTUyIsImZvcm0uJGFkZENvbnRyb2wiLCJjb250cm9sIiwiJHJlbW92ZUNvbnRyb2wiLCJmb3JtLiRyZW1vdmVDb250cm9sIiwicXVldWUiLCJ2YWxpZGF0aW9uVG9rZW4iLCIkc2V0VmFsaWRpdHkiLCJmb3JtLiRzZXRWYWxpZGl0eSIsIiRzZXREaXJ0eSIsImZvcm0uJHNldERpcnR5IiwiRElSVFlfQ0xBU1MiLCIkc2V0UHJpc3RpbmUiLCJmb3JtLiRzZXRQcmlzdGluZSIsInZhbGlkYXRlIiwiY3RybCIsInZhbGlkYXRvck5hbWUiLCJ2YWxpZGl0eSIsInRlc3RGbGFncyIsImZsYWdzIiwiYWRkTmF0aXZlSHRtbDVWYWxpZGF0b3JzIiwiYmFkRmxhZ3MiLCJpZ25vcmVGbGFncyIsIiQkaGFzTmF0aXZlVmFsaWRhdG9ycyIsIiRwYXJzZXJzIiwidmFsaWRhdG9yIiwidGV4dElucHV0VHlwZSIsIlZBTElESVRZX1NUQVRFX1BST1BFUlRZIiwicGxhY2Vob2xkZXIiLCJub2V2ZW50IiwiJCR2YWxpZGl0eVN0YXRlIiwiY29tcG9zaW5nIiwiZXYiLCJuZ1RyaW0iLCJyZXZhbGlkYXRlIiwiJHZpZXdWYWx1ZSIsIiRzZXRWaWV3VmFsdWUiLCJkZWZlckxpc3RlbmVyIiwia2V5Q29kZSIsIiRyZW5kZXIiLCJjdHJsLiRyZW5kZXIiLCIkaXNFbXB0eSIsIm5nUGF0dGVybiIsInBhdHRlcm5WYWxpZGF0b3IiLCJwYXR0ZXJuT2JqIiwiJGZvcm1hdHRlcnMiLCJuZ01pbmxlbmd0aCIsIm1pbmxlbmd0aCIsIm1pbkxlbmd0aFZhbGlkYXRvciIsIm5nTWF4bGVuZ3RoIiwibWF4bGVuZ3RoIiwibWF4TGVuZ3RoVmFsaWRhdG9yIiwiY2xhc3NEaXJlY3RpdmUiLCJhcnJheURpZmZlcmVuY2UiLCJhcnJheUNsYXNzZXMiLCJjbGFzc2VzIiwiZGlnZXN0Q2xhc3NDb3VudHMiLCJjbGFzc0NvdW50cyIsImNsYXNzZXNUb1VwZGF0ZSIsIm5nQ2xhc3NXYXRjaEFjdGlvbiIsIiRpbmRleCIsIm9sZCRpbmRleCIsIm1vZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJhdHRhY2hFdmVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkZXRhY2hFdmVudCIsIl9kYXRhIiwiSlFMaXRlLl9kYXRhIiwib3B0Z3JvdXAiLCJvcHRpb24iLCJ0Ym9keSIsInRmb290IiwiY29sZ3JvdXAiLCJjYXB0aW9uIiwidGhlYWQiLCJ0aCIsInRkIiwicmVhZHkiLCJ0cmlnZ2VyIiwiZmlyZWQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjc3MiLCJjdXJyZW50U3R5bGUiLCJsb3dlcmNhc2VkTmFtZSIsImdldE5hbWVkSXRlbSIsInJldCIsImdldFRleHQiLCJ0ZXh0UHJvcCIsIk5PREVfVFlQRV9URVhUX1BST1BFUlRZIiwiJGR2IiwibXVsdGlwbGUiLCJzZWxlY3RlZCIsIm5vZGVDb3VudCIsIm9uRm4iLCJldmVudEZucyIsImNvbnRhaW5zIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJhZG93biIsImRvY3VtZW50RWxlbWVudCIsImJ1cCIsImV2ZW50bWFwIiwicmVsYXRlZCIsInJlbGF0ZWRUYXJnZXQiLCJvbmUiLCJvZmYiLCJyZXBsYWNlTm9kZSIsImluc2VydEJlZm9yZSIsImNvbnRlbnREb2N1bWVudCIsInByZXBlbmQiLCJ3cmFwTm9kZSIsImFmdGVyIiwibmV3RWxlbWVudCIsInRvZ2dsZUNsYXNzIiwiY29uZGl0aW9uIiwiY2xhc3NDb25kaXRpb24iLCJuZXh0RWxlbWVudFNpYmxpbmciLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImV2ZW50TmFtZSIsImV2ZW50RGF0YSIsImFyZzMiLCJ1bmJpbmQiLCIkYW5pbWF0ZU1pbkVyciIsIiQkc2VsZWN0b3JzIiwiY2xhc3NOYW1lRmlsdGVyIiwidGhpcy5jbGFzc05hbWVGaWx0ZXIiLCIkJGNsYXNzTmFtZUZpbHRlciIsIiQkYXN5bmNDYWxsYmFjayIsImVudGVyIiwibGVhdmUiLCJtb3ZlIiwiYWRkIiwiUEFUSF9NQVRDSCIsInBhcmFtVmFsdWUiLCJDQUxMIiwiQVBQTFkiLCJCSU5EIiwiT1BFUkFUT1JTIiwibnVsbCIsInRydWUiLCJmYWxzZSIsIisiLCItIiwiKiIsIi8iLCIlIiwiXiIsIj09PSIsIiE9PSIsIj09IiwiIT0iLCI8IiwiPiIsIjw9IiwiPj0iLCImJiIsInx8IiwiJiIsInwiLCIhIiwiRVNDQVBFIiwibGV4IiwiY2giLCJsYXN0Q2giLCJ0b2tlbnMiLCJpcyIsInJlYWRTdHJpbmciLCJwZWVrIiwicmVhZE51bWJlciIsImlzSWRlbnQiLCJyZWFkSWRlbnQiLCJpc1doaXRlc3BhY2UiLCJjaDIiLCJjaDMiLCJmbjIiLCJmbjMiLCJ0aHJvd0Vycm9yIiwiY2hhcnMiLCJ3YXMiLCJpc0V4cE9wZXJhdG9yIiwic3RhcnQiLCJlbmQiLCJjb2xTdHIiLCJwZWVrQ2giLCJpZGVudCIsImxhc3REb3QiLCJwZWVrSW5kZXgiLCJtZXRob2ROYW1lIiwicXVvdGUiLCJyYXdTdHJpbmciLCJoZXgiLCJyZXAiLCJaRVJPIiwic3RhdGVtZW50cyIsInByaW1hcnkiLCJleHBlY3QiLCJmaWx0ZXJDaGFpbiIsImNvbnN1bWUiLCJhcnJheURlY2xhcmF0aW9uIiwiZnVuY3Rpb25DYWxsIiwib2JqZWN0SW5kZXgiLCJmaWVsZEFjY2VzcyIsIm1zZyIsInBlZWtUb2tlbiIsImUxIiwiZTIiLCJlMyIsImU0IiwidCIsInVuYXJ5Rm4iLCJyaWdodCIsInRlcm5hcnlGbiIsImxlZnQiLCJtaWRkbGUiLCJiaW5hcnlGbiIsInN0YXRlbWVudCIsImFyZ3NGbiIsImZuSW52b2tlIiwiYXNzaWdubWVudCIsInRlcm5hcnkiLCJsb2dpY2FsT1IiLCJsb2dpY2FsQU5EIiwiZXF1YWxpdHkiLCJyZWxhdGlvbmFsIiwiYWRkaXRpdmUiLCJtdWx0aXBsaWNhdGl2ZSIsInVuYXJ5IiwiZmllbGQiLCJpbmRleEZuIiwibyIsInNhZmUiLCJjb250ZXh0R2V0dGVyIiwiZm5QdHIiLCJlbGVtZW50Rm5zIiwiYWxsQ29uc3RhbnQiLCJlbGVtZW50Rm4iLCJrZXlWYWx1ZXMiLCJhbXBtR2V0dGVyIiwiZ2V0SG91cnMiLCJBTVBNUyIsInRpbWVab25lR2V0dGVyIiwiem9uZSIsImdldFRpbWV6b25lT2Zmc2V0IiwicGFkZGVkWm9uZSIsInhsaW5rSHJlZiIsInByb3BOYW1lIiwibm9ybWFsaXplZCIsIm5nQm9vbGVhbkF0dHJXYXRjaEFjdGlvbiIsImZvcm1EaXJlY3RpdmVGYWN0b3J5IiwiaXNOZ0Zvcm0iLCJmb3JtRWxlbWVudCIsImFjdGlvbiIsInByZXZlbnREZWZhdWx0TGlzdGVuZXIiLCJwYXJlbnRGb3JtQ3RybCIsImFsaWFzIiwiVVJMX1JFR0VYUCIsIkVNQUlMX1JFR0VYUCIsIk5VTUJFUl9SRUdFWFAiLCJpbnB1dFR5cGUiLCJudW1iZXJJbnB1dFR5cGUiLCJudW1iZXJCYWRGbGFncyIsIm1pblZhbGlkYXRvciIsIm1heFZhbGlkYXRvciIsInVybElucHV0VHlwZSIsInVybFZhbGlkYXRvciIsImVtYWlsSW5wdXRUeXBlIiwiZW1haWxWYWxpZGF0b3IiLCJyYWRpb0lucHV0VHlwZSIsImNoZWNrZWQiLCJjaGVja2JveElucHV0VHlwZSIsInRydWVWYWx1ZSIsIm5nVHJ1ZVZhbHVlIiwiZmFsc2VWYWx1ZSIsIm5nRmFsc2VWYWx1ZSIsImN0cmwuJGlzRW1wdHkiLCJOZ01vZGVsQ29udHJvbGxlciIsIiRtb2RlbFZhbHVlIiwiTmFOIiwiJHZpZXdDaGFuZ2VMaXN0ZW5lcnMiLCJuZ01vZGVsR2V0IiwibmdNb2RlbCIsIm5nTW9kZWxTZXQiLCJ0aGlzLiRpc0VtcHR5IiwiaW5oZXJpdGVkRGF0YSIsInRoaXMuJHNldFZhbGlkaXR5IiwidGhpcy4kc2V0UHJpc3RpbmUiLCJ0aGlzLiRzZXRWaWV3VmFsdWUiLCJuZ01vZGVsV2F0Y2giLCJmb3JtYXR0ZXJzIiwiY3RybHMiLCJtb2RlbEN0cmwiLCJmb3JtQ3RybCIsIm5nQ2hhbmdlIiwicmVxdWlyZWQiLCJuZ0xpc3QiLCJ2aWV3VmFsdWUiLCJDT05TVEFOVF9WQUxVRV9SRUdFWFAiLCJ0cGwiLCJ0cGxBdHRyIiwibmdWYWx1ZSIsIm5nVmFsdWVDb25zdGFudExpbmsiLCJuZ1ZhbHVlTGluayIsInZhbHVlV2F0Y2hBY3Rpb24iLCJ0ZW1wbGF0ZUVsZW1lbnQiLCJuZ0JpbmQiLCJuZ0JpbmRXYXRjaEFjdGlvbiIsIm5nQmluZFRlbXBsYXRlIiwibmdCaW5kSHRtbCIsImdldFN0cmluZ1ZhbHVlIiwibmdCaW5kSHRtbFdhdGNoQWN0aW9uIiwiZ2V0VHJ1c3RlZEh0bWwiLCJuZ0V2ZW50SGFuZGxlciIsIiR0cmFuc2NsdWRlIiwicHJldmlvdXNFbGVtZW50cyIsIm5nSWYiLCJuZ0lmV2F0Y2hBY3Rpb24iLCIkYW5jaG9yU2Nyb2xsIiwic3JjRXhwIiwibmdJbmNsdWRlIiwib25sb2FkRXhwIiwib25sb2FkIiwiYXV0b1Njcm9sbEV4cCIsImF1dG9zY3JvbGwiLCJwcmV2aW91c0VsZW1lbnQiLCJjdXJyZW50RWxlbWVudCIsImNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQiLCJwYXJzZUFzUmVzb3VyY2VVcmwiLCJuZ0luY2x1ZGVXYXRjaEFjdGlvbiIsImFmdGVyQW5pbWF0aW9uIiwidGhpc0NoYW5nZUlkIiwibmV3U2NvcGUiLCIkY29tcGlsZSIsIm5nSW5pdCIsIkJSQUNFIiwibnVtYmVyRXhwIiwid2hlbkV4cCIsIndoZW5zIiwid2hlbnNFeHBGbnMiLCJpc1doZW4iLCJhdHRyaWJ1dGVOYW1lIiwibmdQbHVyYWxpemVXYXRjaCIsIm5nUGx1cmFsaXplV2F0Y2hBY3Rpb24iLCJuZ1JlcGVhdE1pbkVyciIsIm5nUmVwZWF0IiwidHJhY2tCeUV4cEdldHRlciIsInRyYWNrQnlJZEV4cEZuIiwidHJhY2tCeUlkQXJyYXlGbiIsInRyYWNrQnlJZE9iakZuIiwidmFsdWVJZGVudGlmaWVyIiwia2V5SWRlbnRpZmllciIsImhhc2hGbkxvY2FscyIsImxocyIsInJocyIsInRyYWNrQnlFeHAiLCJsYXN0QmxvY2tNYXAiLCJuZ1JlcGVhdEFjdGlvbiIsImNvbGxlY3Rpb24iLCJwcmV2aW91c05vZGUiLCJuZXh0Tm9kZSIsIm5leHRCbG9ja01hcCIsImFycmF5TGVuZ3RoIiwiY29sbGVjdGlvbktleXMiLCJuZXh0QmxvY2tPcmRlciIsInRyYWNrQnlJZEZuIiwidHJhY2tCeUlkIiwiJGZpcnN0IiwiJGxhc3QiLCIkbWlkZGxlIiwiJG9kZCIsIiRldmVuIiwibmdTaG93IiwibmdTaG93V2F0Y2hBY3Rpb24iLCJuZ0hpZGUiLCJuZ0hpZGVXYXRjaEFjdGlvbiIsIm5nU3R5bGUiLCJuZ1N0eWxlV2F0Y2hBY3Rpb24iLCJuZXdTdHlsZXMiLCJvbGRTdHlsZXMiLCJuZ1N3aXRjaENvbnRyb2xsZXIiLCJjYXNlcyIsInNlbGVjdGVkVHJhbnNjbHVkZXMiLCJzZWxlY3RlZEVsZW1lbnRzIiwic2VsZWN0ZWRTY29wZXMiLCJuZ1N3aXRjaCIsIm5nU3dpdGNoV2F0Y2hBY3Rpb24iLCJjaGFuZ2UiLCJzZWxlY3RlZFRyYW5zY2x1ZGUiLCJzZWxlY3RlZFNjb3BlIiwiY2FzZUVsZW1lbnQiLCJhbmNob3IiLCJuZ1N3aXRjaFdoZW4iLCIkYXR0cnMiLCJuZ09wdGlvbnNNaW5FcnIiLCJOR19PUFRJT05TX1JFR0VYUCIsIm51bGxNb2RlbEN0cmwiLCJvcHRpb25zTWFwIiwibmdNb2RlbEN0cmwiLCJ1bmtub3duT3B0aW9uIiwiZGF0YWJvdW5kIiwiaW5pdCIsInNlbGYuaW5pdCIsIm5nTW9kZWxDdHJsXyIsIm51bGxPcHRpb25fIiwidW5rbm93bk9wdGlvbl8iLCJhZGRPcHRpb24iLCJzZWxmLmFkZE9wdGlvbiIsInJlbW92ZU9wdGlvbiIsInNlbGYucmVtb3ZlT3B0aW9uIiwiaGFzT3B0aW9uIiwicmVuZGVyVW5rbm93bk9wdGlvbiIsInNlbGYucmVuZGVyVW5rbm93bk9wdGlvbiIsInVua25vd25WYWwiLCJzZWxmLmhhc09wdGlvbiIsInNldHVwQXNTaW5nbGUiLCJzZWxlY3RFbGVtZW50Iiwic2VsZWN0Q3RybCIsIm5nTW9kZWxDdHJsLiRyZW5kZXIiLCJlbXB0eU9wdGlvbiIsInNldHVwQXNNdWx0aXBsZSIsImxhc3RWaWV3IiwiaXRlbXMiLCJzZWxlY3RNdWx0aXBsZVdhdGNoIiwic2V0dXBBc09wdGlvbnMiLCJyZW5kZXIiLCJvcHRpb25Hcm91cHMiLCJvcHRpb25Hcm91cE5hbWVzIiwib3B0aW9uR3JvdXBOYW1lIiwib3B0aW9uR3JvdXAiLCJleGlzdGluZ1BhcmVudCIsImV4aXN0aW5nT3B0aW9ucyIsIm1vZGVsVmFsdWUiLCJ2YWx1ZXNGbiIsImtleU5hbWUiLCJncm91cEluZGV4Iiwic2VsZWN0ZWRTZXQiLCJsYXN0RWxlbWVudCIsInRyYWNrRm4iLCJ0cmFja0luZGV4IiwidmFsdWVOYW1lIiwiZ3JvdXBCeUZuIiwibW9kZWxDYXN0IiwibGFiZWwiLCJkaXNwbGF5Rm4iLCJudWxsT3B0aW9uIiwiZ3JvdXBMZW5ndGgiLCJvcHRpb25Hcm91cHNDYWNoZSIsIm9wdEdyb3VwVGVtcGxhdGUiLCJleGlzdGluZ09wdGlvbiIsIm9wdGlvblRlbXBsYXRlIiwib3B0aW9uc0V4cCIsInRyYWNrIiwib3B0aW9uRWxlbWVudCIsIm5nT3B0aW9ucyIsIm5nTW9kZWxDdHJsLiRpc0VtcHR5IiwibnVsbFNlbGVjdEN0cmwiLCJzZWxlY3RDdHJsTmFtZSIsImludGVycG9sYXRlV2F0Y2hBY3Rpb24iLCIkJGNzcCJdCn0K')
},
{
'name': '/app/bower_components/angular/.bower.json', 'data': base64.b64decode('ewogICJuYW1lIjogImFuZ3VsYXIiLAogICJ2ZXJzaW9uIjogIjEuMi4xOSIsCiAgIm1haW4iOiAiLi9hbmd1bGFyLmpzIiwKICAiZGVwZW5kZW5jaWVzIjoge30sCiAgImhvbWVwYWdlIjogImh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2Jvd2VyLWFuZ3VsYXIiLAogICJfcmVsZWFzZSI6ICIxLjIuMTkiLAogICJfcmVzb2x1dGlvbiI6IHsKICAgICJ0eXBlIjogInZlcnNpb24iLAogICAgInRhZyI6ICJ2MS4yLjE5IiwKICAgICJjb21taXQiOiAiMmUxZjhjNDYxNGQ1MTRiMmU1MjJjOTk2ZDI0ZjA1YTgyM2I0NjkzNiIKICB9LAogICJfc291cmNlIjogImdpdDovL2dpdGh1Yi5jb20vYW5ndWxhci9ib3dlci1hbmd1bGFyLmdpdCIsCiAgIl90YXJnZXQiOiAiMS4yLngiLAogICJfb3JpZ2luYWxTb3VyY2UiOiAiYW5ndWxhciIKfQ==')
},
{
'name': '/app/bower_components/angular-bootstrap/ui-bootstrap.min.js', 'data': base64.b64decode('LyoKICogYW5ndWxhci11aS1ib290c3RyYXAKICogaHR0cDovL2FuZ3VsYXItdWkuZ2l0aHViLmlvL2Jvb3RzdHJhcC8KCiAqIFZlcnNpb246IDAuMTEuMCAtIDIwMTQtMDUtMDEKICogTGljZW5zZTogTUlUCiAqLwphbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwIixbInVpLmJvb3RzdHJhcC50cmFuc2l0aW9uIiwidWkuYm9vdHN0cmFwLmNvbGxhcHNlIiwidWkuYm9vdHN0cmFwLmFjY29yZGlvbiIsInVpLmJvb3RzdHJhcC5hbGVydCIsInVpLmJvb3RzdHJhcC5iaW5kSHRtbCIsInVpLmJvb3RzdHJhcC5idXR0b25zIiwidWkuYm9vdHN0cmFwLmNhcm91c2VsIiwidWkuYm9vdHN0cmFwLmRhdGVwYXJzZXIiLCJ1aS5ib290c3RyYXAucG9zaXRpb24iLCJ1aS5ib290c3RyYXAuZGF0ZXBpY2tlciIsInVpLmJvb3RzdHJhcC5kcm9wZG93biIsInVpLmJvb3RzdHJhcC5tb2RhbCIsInVpLmJvb3RzdHJhcC5wYWdpbmF0aW9uIiwidWkuYm9vdHN0cmFwLnRvb2x0aXAiLCJ1aS5ib290c3RyYXAucG9wb3ZlciIsInVpLmJvb3RzdHJhcC5wcm9ncmVzc2JhciIsInVpLmJvb3RzdHJhcC5yYXRpbmciLCJ1aS5ib290c3RyYXAudGFicyIsInVpLmJvb3RzdHJhcC50aW1lcGlja2VyIiwidWkuYm9vdHN0cmFwLnR5cGVhaGVhZCJdKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnRyYW5zaXRpb24iLFtdKS5mYWN0b3J5KCIkdHJhbnNpdGlvbiIsWyIkcSIsIiR0aW1lb3V0IiwiJHJvb3RTY29wZSIsZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSl7Zm9yKHZhciBiIGluIGEpaWYodm9pZCAwIT09Zi5zdHlsZVtiXSlyZXR1cm4gYVtiXX12YXIgZT1mdW5jdGlvbihkLGYsZyl7Zz1nfHx7fTt2YXIgaD1hLmRlZmVyKCksaT1lW2cuYW5pbWF0aW9uPyJhbmltYXRpb25FbmRFdmVudE5hbWUiOiJ0cmFuc2l0aW9uRW5kRXZlbnROYW1lIl0saj1mdW5jdGlvbigpe2MuJGFwcGx5KGZ1bmN0aW9uKCl7ZC51bmJpbmQoaSxqKSxoLnJlc29sdmUoZCl9KX07cmV0dXJuIGkmJmQuYmluZChpLGopLGIoZnVuY3Rpb24oKXthbmd1bGFyLmlzU3RyaW5nKGYpP2QuYWRkQ2xhc3MoZik6YW5ndWxhci5pc0Z1bmN0aW9uKGYpP2YoZCk6YW5ndWxhci5pc09iamVjdChmKSYmZC5jc3MoZiksaXx8aC5yZXNvbHZlKGQpfSksaC5wcm9taXNlLmNhbmNlbD1mdW5jdGlvbigpe2kmJmQudW5iaW5kKGksaiksaC5yZWplY3QoIlRyYW5zaXRpb24gY2FuY2VsbGVkIil9LGgucHJvbWlzZX0sZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0cmFucyIpLGc9e1dlYmtpdFRyYW5zaXRpb246IndlYmtpdFRyYW5zaXRpb25FbmQiLE1velRyYW5zaXRpb246InRyYW5zaXRpb25lbmQiLE9UcmFuc2l0aW9uOiJvVHJhbnNpdGlvbkVuZCIsdHJhbnNpdGlvbjoidHJhbnNpdGlvbmVuZCJ9LGg9e1dlYmtpdFRyYW5zaXRpb246IndlYmtpdEFuaW1hdGlvbkVuZCIsTW96VHJhbnNpdGlvbjoiYW5pbWF0aW9uZW5kIixPVHJhbnNpdGlvbjoib0FuaW1hdGlvbkVuZCIsdHJhbnNpdGlvbjoiYW5pbWF0aW9uZW5kIn07cmV0dXJuIGUudHJhbnNpdGlvbkVuZEV2ZW50TmFtZT1kKGcpLGUuYW5pbWF0aW9uRW5kRXZlbnROYW1lPWQoaCksZX1dKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmNvbGxhcHNlIixbInVpLmJvb3RzdHJhcC50cmFuc2l0aW9uIl0pLmRpcmVjdGl2ZSgiY29sbGFwc2UiLFsiJHRyYW5zaXRpb24iLGZ1bmN0aW9uKGEpe3JldHVybntsaW5rOmZ1bmN0aW9uKGIsYyxkKXtmdW5jdGlvbiBlKGIpe2Z1bmN0aW9uIGQoKXtqPT09ZSYmKGo9dm9pZCAwKX12YXIgZT1hKGMsYik7cmV0dXJuIGomJmouY2FuY2VsKCksaj1lLGUudGhlbihkLGQpLGV9ZnVuY3Rpb24gZigpe2s/KGs9ITEsZygpKTooYy5yZW1vdmVDbGFzcygiY29sbGFwc2UiKS5hZGRDbGFzcygiY29sbGFwc2luZyIpLGUoe2hlaWdodDpjWzBdLnNjcm9sbEhlaWdodCsicHgifSkudGhlbihnKSl9ZnVuY3Rpb24gZygpe2MucmVtb3ZlQ2xhc3MoImNvbGxhcHNpbmciKSxjLmFkZENsYXNzKCJjb2xsYXBzZSBpbiIpLGMuY3NzKHtoZWlnaHQ6ImF1dG8ifSl9ZnVuY3Rpb24gaCgpe2lmKGspaz0hMSxpKCksYy5jc3Moe2hlaWdodDowfSk7ZWxzZXtjLmNzcyh7aGVpZ2h0OmNbMF0uc2Nyb2xsSGVpZ2h0KyJweCJ9KTt7Y1swXS5vZmZzZXRXaWR0aH1jLnJlbW92ZUNsYXNzKCJjb2xsYXBzZSBpbiIpLmFkZENsYXNzKCJjb2xsYXBzaW5nIiksZSh7aGVpZ2h0OjB9KS50aGVuKGkpfX1mdW5jdGlvbiBpKCl7Yy5yZW1vdmVDbGFzcygiY29sbGFwc2luZyIpLGMuYWRkQ2xhc3MoImNvbGxhcHNlIil9dmFyIGosaz0hMDtiLiR3YXRjaChkLmNvbGxhcHNlLGZ1bmN0aW9uKGEpe2E/aCgpOmYoKX0pfX19XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5hY2NvcmRpb24iLFsidWkuYm9vdHN0cmFwLmNvbGxhcHNlIl0pLmNvbnN0YW50KCJhY2NvcmRpb25Db25maWciLHtjbG9zZU90aGVyczohMH0pLmNvbnRyb2xsZXIoIkFjY29yZGlvbkNvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGF0dHJzIiwiYWNjb3JkaW9uQ29uZmlnIixmdW5jdGlvbihhLGIsYyl7dGhpcy5ncm91cHM9W10sdGhpcy5jbG9zZU90aGVycz1mdW5jdGlvbihkKXt2YXIgZT1hbmd1bGFyLmlzRGVmaW5lZChiLmNsb3NlT3RoZXJzKT9hLiRldmFsKGIuY2xvc2VPdGhlcnMpOmMuY2xvc2VPdGhlcnM7ZSYmYW5ndWxhci5mb3JFYWNoKHRoaXMuZ3JvdXBzLGZ1bmN0aW9uKGEpe2EhPT1kJiYoYS5pc09wZW49ITEpfSl9LHRoaXMuYWRkR3JvdXA9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczt0aGlzLmdyb3Vwcy5wdXNoKGEpLGEuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtiLnJlbW92ZUdyb3VwKGEpfSl9LHRoaXMucmVtb3ZlR3JvdXA9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ncm91cHMuaW5kZXhPZihhKTstMSE9PWImJnRoaXMuZ3JvdXBzLnNwbGljZShiLDEpfX1dKS5kaXJlY3RpdmUoImFjY29yZGlvbiIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixjb250cm9sbGVyOiJBY2NvcmRpb25Db250cm9sbGVyIix0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITEsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbCJ9fSkuZGlyZWN0aXZlKCJhY2NvcmRpb25Hcm91cCIsZnVuY3Rpb24oKXtyZXR1cm57cmVxdWlyZToiXmFjY29yZGlvbiIscmVzdHJpY3Q6IkVBIix0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbCIsc2NvcGU6e2hlYWRpbmc6IkAiLGlzT3BlbjoiPT8iLGlzRGlzYWJsZWQ6Ij0/In0sY29udHJvbGxlcjpmdW5jdGlvbigpe3RoaXMuc2V0SGVhZGluZz1mdW5jdGlvbihhKXt0aGlzLmhlYWRpbmc9YX19LGxpbms6ZnVuY3Rpb24oYSxiLGMsZCl7ZC5hZGRHcm91cChhKSxhLiR3YXRjaCgiaXNPcGVuIixmdW5jdGlvbihiKXtiJiZkLmNsb3NlT3RoZXJzKGEpfSksYS50b2dnbGVPcGVuPWZ1bmN0aW9uKCl7YS5pc0Rpc2FibGVkfHwoYS5pc09wZW49IWEuaXNPcGVuKX19fX0pLmRpcmVjdGl2ZSgiYWNjb3JkaW9uSGVhZGluZyIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIix0cmFuc2NsdWRlOiEwLHRlbXBsYXRlOiIiLHJlcGxhY2U6ITAscmVxdWlyZToiXmFjY29yZGlvbkdyb3VwIixsaW5rOmZ1bmN0aW9uKGEsYixjLGQsZSl7ZC5zZXRIZWFkaW5nKGUoYSxmdW5jdGlvbigpe30pKX19fSkuZGlyZWN0aXZlKCJhY2NvcmRpb25UcmFuc2NsdWRlIixmdW5jdGlvbigpe3JldHVybntyZXF1aXJlOiJeYWNjb3JkaW9uR3JvdXAiLGxpbms6ZnVuY3Rpb24oYSxiLGMsZCl7YS4kd2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gZFtjLmFjY29yZGlvblRyYW5zY2x1ZGVdfSxmdW5jdGlvbihhKXthJiYoYi5odG1sKCIiKSxiLmFwcGVuZChhKSl9KX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5hbGVydCIsW10pLmNvbnRyb2xsZXIoIkFsZXJ0Q29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLGZ1bmN0aW9uKGEsYil7YS5jbG9zZWFibGU9ImNsb3NlImluIGJ9XSkuZGlyZWN0aXZlKCJhbGVydCIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixjb250cm9sbGVyOiJBbGVydENvbnRyb2xsZXIiLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sIix0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITAsc2NvcGU6e3R5cGU6IkAiLGNsb3NlOiImIn19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5iaW5kSHRtbCIsW10pLmRpcmVjdGl2ZSgiYmluZEh0bWxVbnNhZmUiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYixjKXtiLmFkZENsYXNzKCJuZy1iaW5kaW5nIikuZGF0YSgiJGJpbmRpbmciLGMuYmluZEh0bWxVbnNhZmUpLGEuJHdhdGNoKGMuYmluZEh0bWxVbnNhZmUsZnVuY3Rpb24oYSl7Yi5odG1sKGF8fCIiKX0pfX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuYnV0dG9ucyIsW10pLmNvbnN0YW50KCJidXR0b25Db25maWciLHthY3RpdmVDbGFzczoiYWN0aXZlIix0b2dnbGVFdmVudDoiY2xpY2sifSkuY29udHJvbGxlcigiQnV0dG9uc0NvbnRyb2xsZXIiLFsiYnV0dG9uQ29uZmlnIixmdW5jdGlvbihhKXt0aGlzLmFjdGl2ZUNsYXNzPWEuYWN0aXZlQ2xhc3N8fCJhY3RpdmUiLHRoaXMudG9nZ2xlRXZlbnQ9YS50b2dnbGVFdmVudHx8ImNsaWNrIn1dKS5kaXJlY3RpdmUoImJ0blJhZGlvIixmdW5jdGlvbigpe3JldHVybntyZXF1aXJlOlsiYnRuUmFkaW8iLCJuZ01vZGVsIl0sY29udHJvbGxlcjoiQnV0dG9uc0NvbnRyb2xsZXIiLGxpbms6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ZFswXSxmPWRbMV07Zi4kcmVuZGVyPWZ1bmN0aW9uKCl7Yi50b2dnbGVDbGFzcyhlLmFjdGl2ZUNsYXNzLGFuZ3VsYXIuZXF1YWxzKGYuJG1vZGVsVmFsdWUsYS4kZXZhbChjLmJ0blJhZGlvKSkpfSxiLmJpbmQoZS50b2dnbGVFdmVudCxmdW5jdGlvbigpe3ZhciBkPWIuaGFzQ2xhc3MoZS5hY3RpdmVDbGFzcyk7KCFkfHxhbmd1bGFyLmlzRGVmaW5lZChjLnVuY2hlY2thYmxlKSkmJmEuJGFwcGx5KGZ1bmN0aW9uKCl7Zi4kc2V0Vmlld1ZhbHVlKGQ/bnVsbDphLiRldmFsKGMuYnRuUmFkaW8pKSxmLiRyZW5kZXIoKX0pfSl9fX0pLmRpcmVjdGl2ZSgiYnRuQ2hlY2tib3giLGZ1bmN0aW9uKCl7cmV0dXJue3JlcXVpcmU6WyJidG5DaGVja2JveCIsIm5nTW9kZWwiXSxjb250cm9sbGVyOiJCdXR0b25zQ29udHJvbGxlciIsbGluazpmdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBlKCl7cmV0dXJuIGcoYy5idG5DaGVja2JveFRydWUsITApfWZ1bmN0aW9uIGYoKXtyZXR1cm4gZyhjLmJ0bkNoZWNrYm94RmFsc2UsITEpfWZ1bmN0aW9uIGcoYixjKXt2YXIgZD1hLiRldmFsKGIpO3JldHVybiBhbmd1bGFyLmlzRGVmaW5lZChkKT9kOmN9dmFyIGg9ZFswXSxpPWRbMV07aS4kcmVuZGVyPWZ1bmN0aW9uKCl7Yi50b2dnbGVDbGFzcyhoLmFjdGl2ZUNsYXNzLGFuZ3VsYXIuZXF1YWxzKGkuJG1vZGVsVmFsdWUsZSgpKSl9LGIuYmluZChoLnRvZ2dsZUV2ZW50LGZ1bmN0aW9uKCl7YS4kYXBwbHkoZnVuY3Rpb24oKXtpLiRzZXRWaWV3VmFsdWUoYi5oYXNDbGFzcyhoLmFjdGl2ZUNsYXNzKT9mKCk6ZSgpKSxpLiRyZW5kZXIoKX0pfSl9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuY2Fyb3VzZWwiLFsidWkuYm9vdHN0cmFwLnRyYW5zaXRpb24iXSkuY29udHJvbGxlcigiQ2Fyb3VzZWxDb250cm9sbGVyIixbIiRzY29wZSIsIiR0aW1lb3V0IiwiJHRyYW5zaXRpb24iLGZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKCl7ZSgpO3ZhciBjPSthLmludGVydmFsOyFpc05hTihjKSYmYz49MCYmKGc9YihmLGMpKX1mdW5jdGlvbiBlKCl7ZyYmKGIuY2FuY2VsKGcpLGc9bnVsbCl9ZnVuY3Rpb24gZigpe2g/KGEubmV4dCgpLGQoKSk6YS5wYXVzZSgpfXZhciBnLGgsaT10aGlzLGo9aS5zbGlkZXM9YS5zbGlkZXM9W10saz0tMTtpLmN1cnJlbnRTbGlkZT1udWxsO3ZhciBsPSExO2kuc2VsZWN0PWEuc2VsZWN0PWZ1bmN0aW9uKGUsZil7ZnVuY3Rpb24gZygpe2lmKCFsKXtpZihpLmN1cnJlbnRTbGlkZSYmYW5ndWxhci5pc1N0cmluZyhmKSYmIWEubm9UcmFuc2l0aW9uJiZlLiRlbGVtZW50KXtlLiRlbGVtZW50LmFkZENsYXNzKGYpO3tlLiRlbGVtZW50WzBdLm9mZnNldFdpZHRofWFuZ3VsYXIuZm9yRWFjaChqLGZ1bmN0aW9uKGEpe2FuZ3VsYXIuZXh0ZW5kKGEse2RpcmVjdGlvbjoiIixlbnRlcmluZzohMSxsZWF2aW5nOiExLGFjdGl2ZTohMX0pfSksYW5ndWxhci5leHRlbmQoZSx7ZGlyZWN0aW9uOmYsYWN0aXZlOiEwLGVudGVyaW5nOiEwfSksYW5ndWxhci5leHRlbmQoaS5jdXJyZW50U2xpZGV8fHt9LHtkaXJlY3Rpb246ZixsZWF2aW5nOiEwfSksYS4kY3VycmVudFRyYW5zaXRpb249YyhlLiRlbGVtZW50LHt9KSxmdW5jdGlvbihiLGMpe2EuJGN1cnJlbnRUcmFuc2l0aW9uLnRoZW4oZnVuY3Rpb24oKXtoKGIsYyl9LGZ1bmN0aW9uKCl7aChiLGMpfSl9KGUsaS5jdXJyZW50U2xpZGUpfWVsc2UgaChlLGkuY3VycmVudFNsaWRlKTtpLmN1cnJlbnRTbGlkZT1lLGs9bSxkKCl9fWZ1bmN0aW9uIGgoYixjKXthbmd1bGFyLmV4dGVuZChiLHtkaXJlY3Rpb246IiIsYWN0aXZlOiEwLGxlYXZpbmc6ITEsZW50ZXJpbmc6ITF9KSxhbmd1bGFyLmV4dGVuZChjfHx7fSx7ZGlyZWN0aW9uOiIiLGFjdGl2ZTohMSxsZWF2aW5nOiExLGVudGVyaW5nOiExfSksYS4kY3VycmVudFRyYW5zaXRpb249bnVsbH12YXIgbT1qLmluZGV4T2YoZSk7dm9pZCAwPT09ZiYmKGY9bT5rPyJuZXh0IjoicHJldiIpLGUmJmUhPT1pLmN1cnJlbnRTbGlkZSYmKGEuJGN1cnJlbnRUcmFuc2l0aW9uPyhhLiRjdXJyZW50VHJhbnNpdGlvbi5jYW5jZWwoKSxiKGcpKTpnKCkpfSxhLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7bD0hMH0pLGkuaW5kZXhPZlNsaWRlPWZ1bmN0aW9uKGEpe3JldHVybiBqLmluZGV4T2YoYSl9LGEubmV4dD1mdW5jdGlvbigpe3ZhciBiPShrKzEpJWoubGVuZ3RoO3JldHVybiBhLiRjdXJyZW50VHJhbnNpdGlvbj92b2lkIDA6aS5zZWxlY3QoaltiXSwibmV4dCIpfSxhLnByZXY9ZnVuY3Rpb24oKXt2YXIgYj0wPmstMT9qLmxlbmd0aC0xOmstMTtyZXR1cm4gYS4kY3VycmVudFRyYW5zaXRpb24/dm9pZCAwOmkuc2VsZWN0KGpbYl0sInByZXYiKX0sYS5pc0FjdGl2ZT1mdW5jdGlvbihhKXtyZXR1cm4gaS5jdXJyZW50U2xpZGU9PT1hfSxhLiR3YXRjaCgiaW50ZXJ2YWwiLGQpLGEuJG9uKCIkZGVzdHJveSIsZSksYS5wbGF5PWZ1bmN0aW9uKCl7aHx8KGg9ITAsZCgpKX0sYS5wYXVzZT1mdW5jdGlvbigpe2Eubm9QYXVzZXx8KGg9ITEsZSgpKX0saS5hZGRTbGlkZT1mdW5jdGlvbihiLGMpe2IuJGVsZW1lbnQ9YyxqLnB1c2goYiksMT09PWoubGVuZ3RofHxiLmFjdGl2ZT8oaS5zZWxlY3QoaltqLmxlbmd0aC0xXSksMT09ai5sZW5ndGgmJmEucGxheSgpKTpiLmFjdGl2ZT0hMX0saS5yZW1vdmVTbGlkZT1mdW5jdGlvbihhKXt2YXIgYj1qLmluZGV4T2YoYSk7ai5zcGxpY2UoYiwxKSxqLmxlbmd0aD4wJiZhLmFjdGl2ZT9pLnNlbGVjdChiPj1qLmxlbmd0aD9qW2ItMV06altiXSk6az5iJiZrLS19fV0pLmRpcmVjdGl2ZSgiY2Fyb3VzZWwiLFtmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHRyYW5zY2x1ZGU6ITAscmVwbGFjZTohMCxjb250cm9sbGVyOiJDYXJvdXNlbENvbnRyb2xsZXIiLHJlcXVpcmU6ImNhcm91c2VsIix0ZW1wbGF0ZVVybDoidGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbCIsc2NvcGU6e2ludGVydmFsOiI9Iixub1RyYW5zaXRpb246Ij0iLG5vUGF1c2U6Ij0ifX19XSkuZGlyZWN0aXZlKCJzbGlkZSIsZnVuY3Rpb24oKXtyZXR1cm57cmVxdWlyZToiXmNhcm91c2VsIixyZXN0cmljdDoiRUEiLHRyYW5zY2x1ZGU6ITAscmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvY2Fyb3VzZWwvc2xpZGUuaHRtbCIsc2NvcGU6e2FjdGl2ZToiPT8ifSxsaW5rOmZ1bmN0aW9uKGEsYixjLGQpe2QuYWRkU2xpZGUoYSxiKSxhLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7ZC5yZW1vdmVTbGlkZShhKX0pLGEuJHdhdGNoKCJhY3RpdmUiLGZ1bmN0aW9uKGIpe2ImJmQuc2VsZWN0KGEpfSl9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuZGF0ZXBhcnNlciIsW10pLnNlcnZpY2UoImRhdGVQYXJzZXIiLFsiJGxvY2FsZSIsIm9yZGVyQnlGaWx0ZXIiLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhLGIsYyl7cmV0dXJuIDE9PT1iJiZjPjI4PzI5PT09YyYmKGElND09PTAmJmElMTAwIT09MHx8YSU0MDA9PT0wKTozPT09Ynx8NT09PWJ8fDg9PT1ifHwxMD09PWI/MzE+YzohMH10aGlzLnBhcnNlcnM9e307dmFyIGQ9e3l5eXk6e3JlZ2V4OiJcXGR7NH0iLGFwcGx5OmZ1bmN0aW9uKGEpe3RoaXMueWVhcj0rYX19LHl5OntyZWdleDoiXFxkezJ9IixhcHBseTpmdW5jdGlvbihhKXt0aGlzLnllYXI9K2ErMmUzfX0seTp7cmVnZXg6IlxcZHsxLDR9IixhcHBseTpmdW5jdGlvbihhKXt0aGlzLnllYXI9K2F9fSxNTU1NOntyZWdleDphLkRBVEVUSU1FX0ZPUk1BVFMuTU9OVEguam9pbigifCIpLGFwcGx5OmZ1bmN0aW9uKGIpe3RoaXMubW9udGg9YS5EQVRFVElNRV9GT1JNQVRTLk1PTlRILmluZGV4T2YoYil9fSxNTU06e3JlZ2V4OmEuREFURVRJTUVfRk9STUFUUy5TSE9SVE1PTlRILmpvaW4oInwiKSxhcHBseTpmdW5jdGlvbihiKXt0aGlzLm1vbnRoPWEuREFURVRJTUVfRk9STUFUUy5TSE9SVE1PTlRILmluZGV4T2YoYil9fSxNTTp7cmVnZXg6IjBbMS05XXwxWzAtMl0iLGFwcGx5OmZ1bmN0aW9uKGEpe3RoaXMubW9udGg9YS0xfX0sTTp7cmVnZXg6IlsxLTldfDFbMC0yXSIsYXBwbHk6ZnVuY3Rpb24oYSl7dGhpcy5tb250aD1hLTF9fSxkZDp7cmVnZXg6IlswLTJdWzAtOV17MX18M1swLTFdezF9IixhcHBseTpmdW5jdGlvbihhKXt0aGlzLmRhdGU9K2F9fSxkOntyZWdleDoiWzEtMl0/WzAtOV17MX18M1swLTFdezF9IixhcHBseTpmdW5jdGlvbihhKXt0aGlzLmRhdGU9K2F9fSxFRUVFOntyZWdleDphLkRBVEVUSU1FX0ZPUk1BVFMuREFZLmpvaW4oInwiKX0sRUVFOntyZWdleDphLkRBVEVUSU1FX0ZPUk1BVFMuU0hPUlREQVkuam9pbigifCIpfX07dGhpcy5jcmVhdGVQYXJzZXI9ZnVuY3Rpb24oYSl7dmFyIGM9W10sZT1hLnNwbGl0KCIiKTtyZXR1cm4gYW5ndWxhci5mb3JFYWNoKGQsZnVuY3Rpb24oYixkKXt2YXIgZj1hLmluZGV4T2YoZCk7aWYoZj4tMSl7YT1hLnNwbGl0KCIiKSxlW2ZdPSIoIitiLnJlZ2V4KyIpIixhW2ZdPSIkIjtmb3IodmFyIGc9ZisxLGg9ZitkLmxlbmd0aDtoPmc7ZysrKWVbZ109IiIsYVtnXT0iJCI7YT1hLmpvaW4oIiIpLGMucHVzaCh7aW5kZXg6ZixhcHBseTpiLmFwcGx5fSl9fSkse3JlZ2V4Om5ldyBSZWdFeHAoIl4iK2Uuam9pbigiIikrIiQiKSxtYXA6YihjLCJpbmRleCIpfX0sdGhpcy5wYXJzZT1mdW5jdGlvbihiLGQpe2lmKCFhbmd1bGFyLmlzU3RyaW5nKGIpKXJldHVybiBiO2Q9YS5EQVRFVElNRV9GT1JNQVRTW2RdfHxkLHRoaXMucGFyc2Vyc1tkXXx8KHRoaXMucGFyc2Vyc1tkXT10aGlzLmNyZWF0ZVBhcnNlcihkKSk7dmFyIGU9dGhpcy5wYXJzZXJzW2RdLGY9ZS5yZWdleCxnPWUubWFwLGg9Yi5tYXRjaChmKTtpZihoJiZoLmxlbmd0aCl7Zm9yKHZhciBpLGo9e3llYXI6MTkwMCxtb250aDowLGRhdGU6MSxob3VyczowfSxrPTEsbD1oLmxlbmd0aDtsPms7aysrKXt2YXIgbT1nW2stMV07bS5hcHBseSYmbS5hcHBseS5jYWxsKGosaFtrXSl9cmV0dXJuIGMoai55ZWFyLGoubW9udGgsai5kYXRlKSYmKGk9bmV3IERhdGUoai55ZWFyLGoubW9udGgsai5kYXRlLGouaG91cnMpKSxpfX19XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5wb3NpdGlvbiIsW10pLmZhY3RvcnkoIiRwb3NpdGlvbiIsWyIkZG9jdW1lbnQiLCIkd2luZG93IixmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSxjKXtyZXR1cm4gYS5jdXJyZW50U3R5bGU/YS5jdXJyZW50U3R5bGVbY106Yi5nZXRDb21wdXRlZFN0eWxlP2IuZ2V0Q29tcHV0ZWRTdHlsZShhKVtjXTphLnN0eWxlW2NdfWZ1bmN0aW9uIGQoYSl7cmV0dXJuInN0YXRpYyI9PT0oYyhhLCJwb3NpdGlvbiIpfHwic3RhdGljIil9dmFyIGU9ZnVuY3Rpb24oYil7Zm9yKHZhciBjPWFbMF0sZT1iLm9mZnNldFBhcmVudHx8YztlJiZlIT09YyYmZChlKTspZT1lLm9mZnNldFBhcmVudDtyZXR1cm4gZXx8Y307cmV0dXJue3Bvc2l0aW9uOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMub2Zmc2V0KGIpLGQ9e3RvcDowLGxlZnQ6MH0sZj1lKGJbMF0pO2YhPWFbMF0mJihkPXRoaXMub2Zmc2V0KGFuZ3VsYXIuZWxlbWVudChmKSksZC50b3ArPWYuY2xpZW50VG9wLWYuc2Nyb2xsVG9wLGQubGVmdCs9Zi5jbGllbnRMZWZ0LWYuc2Nyb2xsTGVmdCk7dmFyIGc9YlswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm57d2lkdGg6Zy53aWR0aHx8Yi5wcm9wKCJvZmZzZXRXaWR0aCIpLGhlaWdodDpnLmhlaWdodHx8Yi5wcm9wKCJvZmZzZXRIZWlnaHQiKSx0b3A6Yy50b3AtZC50b3AsbGVmdDpjLmxlZnQtZC5sZWZ0fX0sb2Zmc2V0OmZ1bmN0aW9uKGMpe3ZhciBkPWNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJue3dpZHRoOmQud2lkdGh8fGMucHJvcCgib2Zmc2V0V2lkdGgiKSxoZWlnaHQ6ZC5oZWlnaHR8fGMucHJvcCgib2Zmc2V0SGVpZ2h0IiksdG9wOmQudG9wKyhiLnBhZ2VZT2Zmc2V0fHxhWzBdLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApLGxlZnQ6ZC5sZWZ0KyhiLnBhZ2VYT2Zmc2V0fHxhWzBdLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0KX19LHBvc2l0aW9uRWxlbWVudHM6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnLGgsaT1jLnNwbGl0KCItIiksaj1pWzBdLGs9aVsxXXx8ImNlbnRlciI7ZT1kP3RoaXMub2Zmc2V0KGEpOnRoaXMucG9zaXRpb24oYSksZj1iLnByb3AoIm9mZnNldFdpZHRoIiksZz1iLnByb3AoIm9mZnNldEhlaWdodCIpO3ZhciBsPXtjZW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gZS5sZWZ0K2Uud2lkdGgvMi1mLzJ9LGxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5sZWZ0fSxyaWdodDpmdW5jdGlvbigpe3JldHVybiBlLmxlZnQrZS53aWR0aH19LG09e2NlbnRlcjpmdW5jdGlvbigpe3JldHVybiBlLnRvcCtlLmhlaWdodC8yLWcvMn0sdG9wOmZ1bmN0aW9uKCl7cmV0dXJuIGUudG9wfSxib3R0b206ZnVuY3Rpb24oKXtyZXR1cm4gZS50b3ArZS5oZWlnaHR9fTtzd2l0Y2goail7Y2FzZSJyaWdodCI6aD17dG9wOm1ba10oKSxsZWZ0Omxbal0oKX07YnJlYWs7Y2FzZSJsZWZ0IjpoPXt0b3A6bVtrXSgpLGxlZnQ6ZS5sZWZ0LWZ9O2JyZWFrO2Nhc2UiYm90dG9tIjpoPXt0b3A6bVtqXSgpLGxlZnQ6bFtrXSgpfTticmVhaztkZWZhdWx0Omg9e3RvcDplLnRvcC1nLGxlZnQ6bFtrXSgpfX1yZXR1cm4gaH19fV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuZGF0ZXBpY2tlciIsWyJ1aS5ib290c3RyYXAuZGF0ZXBhcnNlciIsInVpLmJvb3RzdHJhcC5wb3NpdGlvbiJdKS5jb25zdGFudCgiZGF0ZXBpY2tlckNvbmZpZyIse2Zvcm1hdERheToiZGQiLGZvcm1hdE1vbnRoOiJNTU1NIixmb3JtYXRZZWFyOiJ5eXl5Iixmb3JtYXREYXlIZWFkZXI6IkVFRSIsZm9ybWF0RGF5VGl0bGU6Ik1NTU0geXl5eSIsZm9ybWF0TW9udGhUaXRsZToieXl5eSIsZGF0ZXBpY2tlck1vZGU6ImRheSIsbWluTW9kZToiZGF5IixtYXhNb2RlOiJ5ZWFyIixzaG93V2Vla3M6ITAsc3RhcnRpbmdEYXk6MCx5ZWFyUmFuZ2U6MjAsbWluRGF0ZTpudWxsLG1heERhdGU6bnVsbH0pLmNvbnRyb2xsZXIoIkRhdGVwaWNrZXJDb250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsIiRwYXJzZSIsIiRpbnRlcnBvbGF0ZSIsIiR0aW1lb3V0IiwiJGxvZyIsImRhdGVGaWx0ZXIiLCJkYXRlcGlja2VyQ29uZmlnIixmdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBpPXRoaXMsaj17JHNldFZpZXdWYWx1ZTphbmd1bGFyLm5vb3B9O3RoaXMubW9kZXM9WyJkYXkiLCJtb250aCIsInllYXIiXSxhbmd1bGFyLmZvckVhY2goWyJmb3JtYXREYXkiLCJmb3JtYXRNb250aCIsImZvcm1hdFllYXIiLCJmb3JtYXREYXlIZWFkZXIiLCJmb3JtYXREYXlUaXRsZSIsImZvcm1hdE1vbnRoVGl0bGUiLCJtaW5Nb2RlIiwibWF4TW9kZSIsInNob3dXZWVrcyIsInN0YXJ0aW5nRGF5IiwieWVhclJhbmdlIl0sZnVuY3Rpb24oYyxlKXtpW2NdPWFuZ3VsYXIuaXNEZWZpbmVkKGJbY10pPzg+ZT9kKGJbY10pKGEuJHBhcmVudCk6YS4kcGFyZW50LiRldmFsKGJbY10pOmhbY119KSxhbmd1bGFyLmZvckVhY2goWyJtaW5EYXRlIiwibWF4RGF0ZSJdLGZ1bmN0aW9uKGQpe2JbZF0/YS4kcGFyZW50LiR3YXRjaChjKGJbZF0pLGZ1bmN0aW9uKGEpe2lbZF09YT9uZXcgRGF0ZShhKTpudWxsLGkucmVmcmVzaFZpZXcoKX0pOmlbZF09aFtkXT9uZXcgRGF0ZShoW2RdKTpudWxsfSksYS5kYXRlcGlja2VyTW9kZT1hLmRhdGVwaWNrZXJNb2RlfHxoLmRhdGVwaWNrZXJNb2RlLGEudW5pcXVlSWQ9ImRhdGVwaWNrZXItIithLiRpZCsiLSIrTWF0aC5mbG9vcigxZTQqTWF0aC5yYW5kb20oKSksdGhpcy5hY3RpdmVEYXRlPWFuZ3VsYXIuaXNEZWZpbmVkKGIuaW5pdERhdGUpP2EuJHBhcmVudC4kZXZhbChiLmluaXREYXRlKTpuZXcgRGF0ZSxhLmlzQWN0aXZlPWZ1bmN0aW9uKGIpe3JldHVybiAwPT09aS5jb21wYXJlKGIuZGF0ZSxpLmFjdGl2ZURhdGUpPyhhLmFjdGl2ZURhdGVJZD1iLnVpZCwhMCk6ITF9LHRoaXMuaW5pdD1mdW5jdGlvbihhKXtqPWEsai4kcmVuZGVyPWZ1bmN0aW9uKCl7aS5yZW5kZXIoKX19LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7aWYoai4kbW9kZWxWYWx1ZSl7dmFyIGE9bmV3IERhdGUoai4kbW9kZWxWYWx1ZSksYj0haXNOYU4oYSk7Yj90aGlzLmFjdGl2ZURhdGU9YTpmLmVycm9yKCdEYXRlcGlja2VyIGRpcmVjdGl2ZTogIm5nLW1vZGVsIiB2YWx1ZSBtdXN0IGJlIGEgRGF0ZSBvYmplY3QsIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSAwMS4wMS4xOTcwIG9yIGEgc3RyaW5nIHJlcHJlc2VudGluZyBhbiBSRkMyODIyIG9yIElTTyA4NjAxIGRhdGUuJyksai4kc2V0VmFsaWRpdHkoImRhdGUiLGIpfXRoaXMucmVmcmVzaFZpZXcoKX0sdGhpcy5yZWZyZXNoVmlldz1mdW5jdGlvbigpe2lmKHRoaXMuZWxlbWVudCl7dGhpcy5fcmVmcmVzaFZpZXcoKTt2YXIgYT1qLiRtb2RlbFZhbHVlP25ldyBEYXRlKGouJG1vZGVsVmFsdWUpOm51bGw7ai4kc2V0VmFsaWRpdHkoImRhdGUtZGlzYWJsZWQiLCFhfHx0aGlzLmVsZW1lbnQmJiF0aGlzLmlzRGlzYWJsZWQoYSkpfX0sdGhpcy5jcmVhdGVEYXRlT2JqZWN0PWZ1bmN0aW9uKGEsYil7dmFyIGM9ai4kbW9kZWxWYWx1ZT9uZXcgRGF0ZShqLiRtb2RlbFZhbHVlKTpudWxsO3JldHVybntkYXRlOmEsbGFiZWw6ZyhhLGIpLHNlbGVjdGVkOmMmJjA9PT10aGlzLmNvbXBhcmUoYSxjKSxkaXNhYmxlZDp0aGlzLmlzRGlzYWJsZWQoYSksY3VycmVudDowPT09dGhpcy5jb21wYXJlKGEsbmV3IERhdGUpfX0sdGhpcy5pc0Rpc2FibGVkPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLm1pbkRhdGUmJnRoaXMuY29tcGFyZShjLHRoaXMubWluRGF0ZSk8MHx8dGhpcy5tYXhEYXRlJiZ0aGlzLmNvbXBhcmUoYyx0aGlzLm1heERhdGUpPjB8fGIuZGF0ZURpc2FibGVkJiZhLmRhdGVEaXNhYmxlZCh7ZGF0ZTpjLG1vZGU6YS5kYXRlcGlja2VyTW9kZX0pfSx0aGlzLnNwbGl0PWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPVtdO2EubGVuZ3RoPjA7KWMucHVzaChhLnNwbGljZSgwLGIpKTtyZXR1cm4gY30sYS5zZWxlY3Q9ZnVuY3Rpb24oYil7aWYoYS5kYXRlcGlja2VyTW9kZT09PWkubWluTW9kZSl7dmFyIGM9ai4kbW9kZWxWYWx1ZT9uZXcgRGF0ZShqLiRtb2RlbFZhbHVlKTpuZXcgRGF0ZSgwLDAsMCwwLDAsMCwwKTtjLnNldEZ1bGxZZWFyKGIuZ2V0RnVsbFllYXIoKSxiLmdldE1vbnRoKCksYi5nZXREYXRlKCkpLGouJHNldFZpZXdWYWx1ZShjKSxqLiRyZW5kZXIoKX1lbHNlIGkuYWN0aXZlRGF0ZT1iLGEuZGF0ZXBpY2tlck1vZGU9aS5tb2Rlc1tpLm1vZGVzLmluZGV4T2YoYS5kYXRlcGlja2VyTW9kZSktMV19LGEubW92ZT1mdW5jdGlvbihhKXt2YXIgYj1pLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSthKihpLnN0ZXAueWVhcnN8fDApLGM9aS5hY3RpdmVEYXRlLmdldE1vbnRoKCkrYSooaS5zdGVwLm1vbnRoc3x8MCk7aS5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKGIsYywxKSxpLnJlZnJlc2hWaWV3KCl9LGEudG9nZ2xlTW9kZT1mdW5jdGlvbihiKXtiPWJ8fDEsYS5kYXRlcGlja2VyTW9kZT09PWkubWF4TW9kZSYmMT09PWJ8fGEuZGF0ZXBpY2tlck1vZGU9PT1pLm1pbk1vZGUmJi0xPT09Ynx8KGEuZGF0ZXBpY2tlck1vZGU9aS5tb2Rlc1tpLm1vZGVzLmluZGV4T2YoYS5kYXRlcGlja2VyTW9kZSkrYl0pfSxhLmtleXM9ezEzOiJlbnRlciIsMzI6InNwYWNlIiwzMzoicGFnZXVwIiwzNDoicGFnZWRvd24iLDM1OiJlbmQiLDM2OiJob21lIiwzNzoibGVmdCIsMzg6InVwIiwzOToicmlnaHQiLDQwOiJkb3duIn07dmFyIGs9ZnVuY3Rpb24oKXtlKGZ1bmN0aW9uKCl7aS5lbGVtZW50WzBdLmZvY3VzKCl9LDAsITEpfTthLiRvbigiZGF0ZXBpY2tlci5mb2N1cyIsayksYS5rZXlkb3duPWZ1bmN0aW9uKGIpe3ZhciBjPWEua2V5c1tiLndoaWNoXTtpZihjJiYhYi5zaGlmdEtleSYmIWIuYWx0S2V5KWlmKGIucHJldmVudERlZmF1bHQoKSxiLnN0b3BQcm9wYWdhdGlvbigpLCJlbnRlciI9PT1jfHwic3BhY2UiPT09Yyl7aWYoaS5pc0Rpc2FibGVkKGkuYWN0aXZlRGF0ZSkpcmV0dXJuO2Euc2VsZWN0KGkuYWN0aXZlRGF0ZSksaygpfWVsc2UhYi5jdHJsS2V5fHwidXAiIT09YyYmImRvd24iIT09Yz8oaS5oYW5kbGVLZXlEb3duKGMsYiksaS5yZWZyZXNoVmlldygpKTooYS50b2dnbGVNb2RlKCJ1cCI9PT1jPzE6LTEpLGsoKSl9fV0pLmRpcmVjdGl2ZSgiZGF0ZXBpY2tlciIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbCIsc2NvcGU6e2RhdGVwaWNrZXJNb2RlOiI9PyIsZGF0ZURpc2FibGVkOiImIn0scmVxdWlyZTpbImRhdGVwaWNrZXIiLCI/Xm5nTW9kZWwiXSxjb250cm9sbGVyOiJEYXRlcGlja2VyQ29udHJvbGxlciIsbGluazpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1kWzBdLGY9ZFsxXTtmJiZlLmluaXQoZil9fX0pLmRpcmVjdGl2ZSgiZGF5cGlja2VyIixbImRhdGVGaWx0ZXIiLGZ1bmN0aW9uKGEpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWwiLHJlcXVpcmU6Il5kYXRlcGlja2VyIixsaW5rOmZ1bmN0aW9uKGIsYyxkLGUpe2Z1bmN0aW9uIGYoYSxiKXtyZXR1cm4gMSE9PWJ8fGElNCE9PTB8fGElMTAwPT09MCYmYSU0MDAhPT0wP2lbYl06Mjl9ZnVuY3Rpb24gZyhhLGIpe3ZhciBjPW5ldyBBcnJheShiKSxkPW5ldyBEYXRlKGEpLGU9MDtmb3IoZC5zZXRIb3VycygxMik7Yj5lOyljW2UrK109bmV3IERhdGUoZCksZC5zZXREYXRlKGQuZ2V0RGF0ZSgpKzEpO3JldHVybiBjfWZ1bmN0aW9uIGgoYSl7dmFyIGI9bmV3IERhdGUoYSk7Yi5zZXREYXRlKGIuZ2V0RGF0ZSgpKzQtKGIuZ2V0RGF5KCl8fDcpKTt2YXIgYz1iLmdldFRpbWUoKTtyZXR1cm4gYi5zZXRNb250aCgwKSxiLnNldERhdGUoMSksTWF0aC5mbG9vcihNYXRoLnJvdW5kKChjLWIpLzg2NGU1KS83KSsxfWIuc2hvd1dlZWtzPWUuc2hvd1dlZWtzLGUuc3RlcD17bW9udGhzOjF9LGUuZWxlbWVudD1jO3ZhciBpPVszMSwyOCwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV07ZS5fcmVmcmVzaFZpZXc9ZnVuY3Rpb24oKXt2YXIgYz1lLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSxkPWUuYWN0aXZlRGF0ZS5nZXRNb250aCgpLGY9bmV3IERhdGUoYyxkLDEpLGk9ZS5zdGFydGluZ0RheS1mLmdldERheSgpLGo9aT4wPzctaTotaSxrPW5ldyBEYXRlKGYpO2o+MCYmay5zZXREYXRlKC1qKzEpO2Zvcih2YXIgbD1nKGssNDIpLG09MDs0Mj5tO20rKylsW21dPWFuZ3VsYXIuZXh0ZW5kKGUuY3JlYXRlRGF0ZU9iamVjdChsW21dLGUuZm9ybWF0RGF5KSx7c2Vjb25kYXJ5OmxbbV0uZ2V0TW9udGgoKSE9PWQsdWlkOmIudW5pcXVlSWQrIi0iK219KTtiLmxhYmVscz1uZXcgQXJyYXkoNyk7Zm9yKHZhciBuPTA7Nz5uO24rKyliLmxhYmVsc1tuXT17YWJicjphKGxbbl0uZGF0ZSxlLmZvcm1hdERheUhlYWRlciksZnVsbDphKGxbbl0uZGF0ZSwiRUVFRSIpfTtpZihiLnRpdGxlPWEoZS5hY3RpdmVEYXRlLGUuZm9ybWF0RGF5VGl0bGUpLGIucm93cz1lLnNwbGl0KGwsNyksYi5zaG93V2Vla3Mpe2Iud2Vla051bWJlcnM9W107Zm9yKHZhciBvPWgoYi5yb3dzWzBdWzBdLmRhdGUpLHA9Yi5yb3dzLmxlbmd0aDtiLndlZWtOdW1iZXJzLnB1c2gobysrKTxwOyk7fX0sZS5jb21wYXJlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBEYXRlKGEuZ2V0RnVsbFllYXIoKSxhLmdldE1vbnRoKCksYS5nZXREYXRlKCkpLW5ldyBEYXRlKGIuZ2V0RnVsbFllYXIoKSxiLmdldE1vbnRoKCksYi5nZXREYXRlKCkpfSxlLmhhbmRsZUtleURvd249ZnVuY3Rpb24oYSl7dmFyIGI9ZS5hY3RpdmVEYXRlLmdldERhdGUoKTtpZigibGVmdCI9PT1hKWItPTE7ZWxzZSBpZigidXAiPT09YSliLT03O2Vsc2UgaWYoInJpZ2h0Ij09PWEpYis9MTtlbHNlIGlmKCJkb3duIj09PWEpYis9NztlbHNlIGlmKCJwYWdldXAiPT09YXx8InBhZ2Vkb3duIj09PWEpe3ZhciBjPWUuYWN0aXZlRGF0ZS5nZXRNb250aCgpKygicGFnZXVwIj09PWE/LTE6MSk7ZS5hY3RpdmVEYXRlLnNldE1vbnRoKGMsMSksYj1NYXRoLm1pbihmKGUuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLGUuYWN0aXZlRGF0ZS5nZXRNb250aCgpKSxiKX1lbHNlImhvbWUiPT09YT9iPTE6ImVuZCI9PT1hJiYoYj1mKGUuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLGUuYWN0aXZlRGF0ZS5nZXRNb250aCgpKSk7ZS5hY3RpdmVEYXRlLnNldERhdGUoYil9LGUucmVmcmVzaFZpZXcoKX19fV0pLmRpcmVjdGl2ZSgibW9udGhwaWNrZXIiLFsiZGF0ZUZpbHRlciIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sIixyZXF1aXJlOiJeZGF0ZXBpY2tlciIsbGluazpmdW5jdGlvbihiLGMsZCxlKXtlLnN0ZXA9e3llYXJzOjF9LGUuZWxlbWVudD1jLGUuX3JlZnJlc2hWaWV3PWZ1bmN0aW9uKCl7Zm9yKHZhciBjPW5ldyBBcnJheSgxMiksZD1lLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSxmPTA7MTI+ZjtmKyspY1tmXT1hbmd1bGFyLmV4dGVuZChlLmNyZWF0ZURhdGVPYmplY3QobmV3IERhdGUoZCxmLDEpLGUuZm9ybWF0TW9udGgpLHt1aWQ6Yi51bmlxdWVJZCsiLSIrZn0pO2IudGl0bGU9YShlLmFjdGl2ZURhdGUsZS5mb3JtYXRNb250aFRpdGxlKSxiLnJvd3M9ZS5zcGxpdChjLDMpfSxlLmNvbXBhcmU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IERhdGUoYS5nZXRGdWxsWWVhcigpLGEuZ2V0TW9udGgoKSktbmV3IERhdGUoYi5nZXRGdWxsWWVhcigpLGIuZ2V0TW9udGgoKSl9LGUuaGFuZGxlS2V5RG93bj1mdW5jdGlvbihhKXt2YXIgYj1lLmFjdGl2ZURhdGUuZ2V0TW9udGgoKTtpZigibGVmdCI9PT1hKWItPTE7ZWxzZSBpZigidXAiPT09YSliLT0zO2Vsc2UgaWYoInJpZ2h0Ij09PWEpYis9MTtlbHNlIGlmKCJkb3duIj09PWEpYis9MztlbHNlIGlmKCJwYWdldXAiPT09YXx8InBhZ2Vkb3duIj09PWEpe3ZhciBjPWUuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpKygicGFnZXVwIj09PWE/LTE6MSk7ZS5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKGMpfWVsc2UiaG9tZSI9PT1hP2I9MDoiZW5kIj09PWEmJihiPTExKTtlLmFjdGl2ZURhdGUuc2V0TW9udGgoYil9LGUucmVmcmVzaFZpZXcoKX19fV0pLmRpcmVjdGl2ZSgieWVhcnBpY2tlciIsWyJkYXRlRmlsdGVyIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sIixyZXF1aXJlOiJeZGF0ZXBpY2tlciIsbGluazpmdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBlKGEpe3JldHVybiBwYXJzZUludCgoYS0xKS9mLDEwKSpmKzF9dmFyIGY9ZC55ZWFyUmFuZ2U7ZC5zdGVwPXt5ZWFyczpmfSxkLmVsZW1lbnQ9YixkLl9yZWZyZXNoVmlldz1mdW5jdGlvbigpe2Zvcih2YXIgYj1uZXcgQXJyYXkoZiksYz0wLGc9ZShkLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSk7Zj5jO2MrKyliW2NdPWFuZ3VsYXIuZXh0ZW5kKGQuY3JlYXRlRGF0ZU9iamVjdChuZXcgRGF0ZShnK2MsMCwxKSxkLmZvcm1hdFllYXIpLHt1aWQ6YS51bmlxdWVJZCsiLSIrY30pO2EudGl0bGU9W2JbMF0ubGFiZWwsYltmLTFdLmxhYmVsXS5qb2luKCIgLSAiKSxhLnJvd3M9ZC5zcGxpdChiLDUpfSxkLmNvbXBhcmU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5nZXRGdWxsWWVhcigpLWIuZ2V0RnVsbFllYXIoKX0sZC5oYW5kbGVLZXlEb3duPWZ1bmN0aW9uKGEpe3ZhciBiPWQuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpOyJsZWZ0Ij09PWE/Yi09MToidXAiPT09YT9iLT01OiJyaWdodCI9PT1hP2IrPTE6ImRvd24iPT09YT9iKz01OiJwYWdldXAiPT09YXx8InBhZ2Vkb3duIj09PWE/Yis9KCJwYWdldXAiPT09YT8tMToxKSpkLnN0ZXAueWVhcnM6ImhvbWUiPT09YT9iPWUoZC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpOiJlbmQiPT09YSYmKGI9ZShkLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSkrZi0xKSxkLmFjdGl2ZURhdGUuc2V0RnVsbFllYXIoYil9LGQucmVmcmVzaFZpZXcoKX19fV0pLmNvbnN0YW50KCJkYXRlcGlja2VyUG9wdXBDb25maWciLHtkYXRlcGlja2VyUG9wdXA6Inl5eXktTU0tZGQiLGN1cnJlbnRUZXh0OiJUb2RheSIsY2xlYXJUZXh0OiJDbGVhciIsY2xvc2VUZXh0OiJEb25lIixjbG9zZU9uRGF0ZVNlbGVjdGlvbjohMCxhcHBlbmRUb0JvZHk6ITEsc2hvd0J1dHRvbkJhcjohMH0pLmRpcmVjdGl2ZSgiZGF0ZXBpY2tlclBvcHVwIixbIiRjb21waWxlIiwiJHBhcnNlIiwiJGRvY3VtZW50IiwiJHBvc2l0aW9uIiwiZGF0ZUZpbHRlciIsImRhdGVQYXJzZXIiLCJkYXRlcGlja2VyUG9wdXBDb25maWciLGZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcXVpcmU6Im5nTW9kZWwiLHNjb3BlOntpc09wZW46Ij0/IixjdXJyZW50VGV4dDoiQCIsY2xlYXJUZXh0OiJAIixjbG9zZVRleHQ6IkAiLGRhdGVEaXNhYmxlZDoiJiJ9LGxpbms6ZnVuY3Rpb24oaCxpLGosayl7ZnVuY3Rpb24gbChhKXtyZXR1cm4gYS5yZXBsYWNlKC8oW0EtWl0pL2csZnVuY3Rpb24oYSl7cmV0dXJuIi0iK2EudG9Mb3dlckNhc2UoKX0pfWZ1bmN0aW9uIG0oYSl7aWYoYSl7aWYoYW5ndWxhci5pc0RhdGUoYSkmJiFpc05hTihhKSlyZXR1cm4gay4kc2V0VmFsaWRpdHkoImRhdGUiLCEwKSxhO2lmKGFuZ3VsYXIuaXNTdHJpbmcoYSkpe3ZhciBiPWYucGFyc2UoYSxuKXx8bmV3IERhdGUoYSk7cmV0dXJuIGlzTmFOKGIpP3ZvaWQgay4kc2V0VmFsaWRpdHkoImRhdGUiLCExKTooay4kc2V0VmFsaWRpdHkoImRhdGUiLCEwKSxiKX1yZXR1cm4gdm9pZCBrLiRzZXRWYWxpZGl0eSgiZGF0ZSIsITEpfXJldHVybiBrLiRzZXRWYWxpZGl0eSgiZGF0ZSIsITApLG51bGx9dmFyIG4sbz1hbmd1bGFyLmlzRGVmaW5lZChqLmNsb3NlT25EYXRlU2VsZWN0aW9uKT9oLiRwYXJlbnQuJGV2YWwoai5jbG9zZU9uRGF0ZVNlbGVjdGlvbik6Zy5jbG9zZU9uRGF0ZVNlbGVjdGlvbixwPWFuZ3VsYXIuaXNEZWZpbmVkKGouZGF0ZXBpY2tlckFwcGVuZFRvQm9keSk/aC4kcGFyZW50LiRldmFsKGouZGF0ZXBpY2tlckFwcGVuZFRvQm9keSk6Zy5hcHBlbmRUb0JvZHk7aC5zaG93QnV0dG9uQmFyPWFuZ3VsYXIuaXNEZWZpbmVkKGouc2hvd0J1dHRvbkJhcik/aC4kcGFyZW50LiRldmFsKGouc2hvd0J1dHRvbkJhcik6Zy5zaG93QnV0dG9uQmFyLGguZ2V0VGV4dD1mdW5jdGlvbihhKXtyZXR1cm4gaFthKyJUZXh0Il18fGdbYSsiVGV4dCJdfSxqLiRvYnNlcnZlKCJkYXRlcGlja2VyUG9wdXAiLGZ1bmN0aW9uKGEpe249YXx8Zy5kYXRlcGlja2VyUG9wdXAsay4kcmVuZGVyKCl9KTt2YXIgcT1hbmd1bGFyLmVsZW1lbnQoIjxkaXYgZGF0ZXBpY2tlci1wb3B1cC13cmFwPjxkaXYgZGF0ZXBpY2tlcj48L2Rpdj48L2Rpdj4iKTtxLmF0dHIoeyJuZy1tb2RlbCI6ImRhdGUiLCJuZy1jaGFuZ2UiOiJkYXRlU2VsZWN0aW9uKCkifSk7dmFyIHI9YW5ndWxhci5lbGVtZW50KHEuY2hpbGRyZW4oKVswXSk7ai5kYXRlcGlja2VyT3B0aW9ucyYmYW5ndWxhci5mb3JFYWNoKGguJHBhcmVudC4kZXZhbChqLmRhdGVwaWNrZXJPcHRpb25zKSxmdW5jdGlvbihhLGIpe3IuYXR0cihsKGIpLGEpfSksYW5ndWxhci5mb3JFYWNoKFsibWluRGF0ZSIsIm1heERhdGUiXSxmdW5jdGlvbihhKXtqW2FdJiYoaC4kcGFyZW50LiR3YXRjaChiKGpbYV0pLGZ1bmN0aW9uKGIpe2hbYV09Yn0pLHIuYXR0cihsKGEpLGEpKX0pLGouZGF0ZURpc2FibGVkJiZyLmF0dHIoImRhdGUtZGlzYWJsZWQiLCJkYXRlRGlzYWJsZWQoeyBkYXRlOiBkYXRlLCBtb2RlOiBtb2RlIH0pIiksay4kcGFyc2Vycy51bnNoaWZ0KG0pLGguZGF0ZVNlbGVjdGlvbj1mdW5jdGlvbihhKXthbmd1bGFyLmlzRGVmaW5lZChhKSYmKGguZGF0ZT1hKSxrLiRzZXRWaWV3VmFsdWUoaC5kYXRlKSxrLiRyZW5kZXIoKSxvJiYoaC5pc09wZW49ITEsaVswXS5mb2N1cygpKX0saS5iaW5kKCJpbnB1dCBjaGFuZ2Uga2V5dXAiLGZ1bmN0aW9uKCl7aC4kYXBwbHkoZnVuY3Rpb24oKXtoLmRhdGU9ay4kbW9kZWxWYWx1ZX0pfSksay4kcmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGE9ay4kdmlld1ZhbHVlP2Uoay4kdmlld1ZhbHVlLG4pOiIiO2kudmFsKGEpLGguZGF0ZT1tKGsuJG1vZGVsVmFsdWUpfTt2YXIgcz1mdW5jdGlvbihhKXtoLmlzT3BlbiYmYS50YXJnZXQhPT1pWzBdJiZoLiRhcHBseShmdW5jdGlvbigpe2guaXNPcGVuPSExfSl9LHQ9ZnVuY3Rpb24oYSl7aC5rZXlkb3duKGEpfTtpLmJpbmQoImtleWRvd24iLHQpLGgua2V5ZG93bj1mdW5jdGlvbihhKXsyNz09PWEud2hpY2g/KGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpLGguY2xvc2UoKSk6NDAhPT1hLndoaWNofHxoLmlzT3Blbnx8KGguaXNPcGVuPSEwKX0saC4kd2F0Y2goImlzT3BlbiIsZnVuY3Rpb24oYSl7YT8oaC4kYnJvYWRjYXN0KCJkYXRlcGlja2VyLmZvY3VzIiksaC5wb3NpdGlvbj1wP2Qub2Zmc2V0KGkpOmQucG9zaXRpb24oaSksaC5wb3NpdGlvbi50b3A9aC5wb3NpdGlvbi50b3AraS5wcm9wKCJvZmZzZXRIZWlnaHQiKSxjLmJpbmQoImNsaWNrIixzKSk6Yy51bmJpbmQoImNsaWNrIixzKX0pLGguc2VsZWN0PWZ1bmN0aW9uKGEpe2lmKCJ0b2RheSI9PT1hKXt2YXIgYj1uZXcgRGF0ZTthbmd1bGFyLmlzRGF0ZShrLiRtb2RlbFZhbHVlKT8oYT1uZXcgRGF0ZShrLiRtb2RlbFZhbHVlKSxhLnNldEZ1bGxZZWFyKGIuZ2V0RnVsbFllYXIoKSxiLmdldE1vbnRoKCksYi5nZXREYXRlKCkpKTphPW5ldyBEYXRlKGIuc2V0SG91cnMoMCwwLDAsMCkpfWguZGF0ZVNlbGVjdGlvbihhKX0saC5jbG9zZT1mdW5jdGlvbigpe2guaXNPcGVuPSExLGlbMF0uZm9jdXMoKX07dmFyIHU9YShxKShoKTtwP2MuZmluZCgiYm9keSIpLmFwcGVuZCh1KTppLmFmdGVyKHUpLGguJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXt1LnJlbW92ZSgpLGkudW5iaW5kKCJrZXlkb3duIix0KSxjLnVuYmluZCgiY2xpY2siLHMpfSl9fX1dKS5kaXJlY3RpdmUoImRhdGVwaWNrZXJQb3B1cFdyYXAiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0cmFuc2NsdWRlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWwiLGxpbms6ZnVuY3Rpb24oYSxiKXtiLmJpbmQoImNsaWNrIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKX0pfX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmRyb3Bkb3duIixbXSkuY29uc3RhbnQoImRyb3Bkb3duQ29uZmlnIix7b3BlbkNsYXNzOiJvcGVuIn0pLnNlcnZpY2UoImRyb3Bkb3duU2VydmljZSIsWyIkZG9jdW1lbnQiLGZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7dGhpcy5vcGVuPWZ1bmN0aW9uKGUpe2J8fChhLmJpbmQoImNsaWNrIixjKSxhLmJpbmQoImtleWRvd24iLGQpKSxiJiZiIT09ZSYmKGIuaXNPcGVuPSExKSxiPWV9LHRoaXMuY2xvc2U9ZnVuY3Rpb24oZSl7Yj09PWUmJihiPW51bGwsYS51bmJpbmQoImNsaWNrIixjKSxhLnVuYmluZCgia2V5ZG93biIsZCkpfTt2YXIgYz1mdW5jdGlvbihhKXthJiZhLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxiLiRhcHBseShmdW5jdGlvbigpe2IuaXNPcGVuPSExfSl9LGQ9ZnVuY3Rpb24oYSl7Mjc9PT1hLndoaWNoJiYoYi5mb2N1c1RvZ2dsZUVsZW1lbnQoKSxjKCkpfX1dKS5jb250cm9sbGVyKCJEcm9wZG93bkNvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGF0dHJzIiwiJHBhcnNlIiwiZHJvcGRvd25Db25maWciLCJkcm9wZG93blNlcnZpY2UiLCIkYW5pbWF0ZSIsZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnLGg9dGhpcyxpPWEuJG5ldygpLGo9ZC5vcGVuQ2xhc3Msaz1hbmd1bGFyLm5vb3AsbD1iLm9uVG9nZ2xlP2MoYi5vblRvZ2dsZSk6YW5ndWxhci5ub29wO3RoaXMuaW5pdD1mdW5jdGlvbihkKXtoLiRlbGVtZW50PWQsYi5pc09wZW4mJihnPWMoYi5pc09wZW4pLGs9Zy5hc3NpZ24sYS4kd2F0Y2goZyxmdW5jdGlvbihhKXtpLmlzT3Blbj0hIWF9KSl9LHRoaXMudG9nZ2xlPWZ1bmN0aW9uKGEpe3JldHVybiBpLmlzT3Blbj1hcmd1bWVudHMubGVuZ3RoPyEhYTohaS5pc09wZW59LHRoaXMuaXNPcGVuPWZ1bmN0aW9uKCl7cmV0dXJuIGkuaXNPcGVufSxpLmZvY3VzVG9nZ2xlRWxlbWVudD1mdW5jdGlvbigpe2gudG9nZ2xlRWxlbWVudCYmaC50b2dnbGVFbGVtZW50WzBdLmZvY3VzKCl9LGkuJHdhdGNoKCJpc09wZW4iLGZ1bmN0aW9uKGIsYyl7ZltiPyJhZGRDbGFzcyI6InJlbW92ZUNsYXNzIl0oaC4kZWxlbWVudCxqKSxiPyhpLmZvY3VzVG9nZ2xlRWxlbWVudCgpLGUub3BlbihpKSk6ZS5jbG9zZShpKSxrKGEsYiksYW5ndWxhci5pc0RlZmluZWQoYikmJmIhPT1jJiZsKGEse29wZW46ISFifSl9KSxhLiRvbigiJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcyIsZnVuY3Rpb24oKXtpLmlzT3Blbj0hMX0pLGEuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtpLiRkZXN0cm95KCl9KX1dKS5kaXJlY3RpdmUoImRyb3Bkb3duIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiQ0EiLGNvbnRyb2xsZXI6IkRyb3Bkb3duQ29udHJvbGxlciIsbGluazpmdW5jdGlvbihhLGIsYyxkKXtkLmluaXQoYil9fX0pLmRpcmVjdGl2ZSgiZHJvcGRvd25Ub2dnbGUiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJDQSIscmVxdWlyZToiP15kcm9wZG93biIsbGluazpmdW5jdGlvbihhLGIsYyxkKXtpZihkKXtkLnRvZ2dsZUVsZW1lbnQ9Yjt2YXIgZT1mdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksYi5oYXNDbGFzcygiZGlzYWJsZWQiKXx8Yy5kaXNhYmxlZHx8YS4kYXBwbHkoZnVuY3Rpb24oKXtkLnRvZ2dsZSgpfSl9O2IuYmluZCgiY2xpY2siLGUpLGIuYXR0cih7ImFyaWEtaGFzcG9wdXAiOiEwLCJhcmlhLWV4cGFuZGVkIjohMX0pLGEuJHdhdGNoKGQuaXNPcGVuLGZ1bmN0aW9uKGEpe2IuYXR0cigiYXJpYS1leHBhbmRlZCIsISFhKX0pLGEuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtiLnVuYmluZCgiY2xpY2siLGUpfSl9fX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLm1vZGFsIixbInVpLmJvb3RzdHJhcC50cmFuc2l0aW9uIl0pLmZhY3RvcnkoIiQkc3RhY2tlZE1hcCIsZnVuY3Rpb24oKXtyZXR1cm57Y3JlYXRlTmV3OmZ1bmN0aW9uKCl7dmFyIGE9W107cmV0dXJue2FkZDpmdW5jdGlvbihiLGMpe2EucHVzaCh7a2V5OmIsdmFsdWU6Y30pfSxnZXQ6ZnVuY3Rpb24oYil7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspaWYoYj09YVtjXS5rZXkpcmV0dXJuIGFbY119LGtleXM6ZnVuY3Rpb24oKXtmb3IodmFyIGI9W10sYz0wO2M8YS5sZW5ndGg7YysrKWIucHVzaChhW2NdLmtleSk7cmV0dXJuIGJ9LHRvcDpmdW5jdGlvbigpe3JldHVybiBhW2EubGVuZ3RoLTFdfSxyZW1vdmU6ZnVuY3Rpb24oYil7Zm9yKHZhciBjPS0xLGQ9MDtkPGEubGVuZ3RoO2QrKylpZihiPT1hW2RdLmtleSl7Yz1kO2JyZWFrfXJldHVybiBhLnNwbGljZShjLDEpWzBdfSxyZW1vdmVUb3A6ZnVuY3Rpb24oKXtyZXR1cm4gYS5zcGxpY2UoYS5sZW5ndGgtMSwxKVswXX0sbGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIGEubGVuZ3RofX19fX0pLmRpcmVjdGl2ZSgibW9kYWxCYWNrZHJvcCIsWyIkdGltZW91dCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbCIsbGluazpmdW5jdGlvbihiKXtiLmFuaW1hdGU9ITEsYShmdW5jdGlvbigpe2IuYW5pbWF0ZT0hMH0pfX19XSkuZGlyZWN0aXZlKCJtb2RhbFdpbmRvdyIsWyIkbW9kYWxTdGFjayIsIiR0aW1lb3V0IixmdW5jdGlvbihhLGIpe3JldHVybntyZXN0cmljdDoiRUEiLHNjb3BlOntpbmRleDoiQCIsYW5pbWF0ZToiPSJ9LHJlcGxhY2U6ITAsdHJhbnNjbHVkZTohMCx0ZW1wbGF0ZVVybDpmdW5jdGlvbihhLGIpe3JldHVybiBiLnRlbXBsYXRlVXJsfHwidGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWwifSxsaW5rOmZ1bmN0aW9uKGMsZCxlKXtkLmFkZENsYXNzKGUud2luZG93Q2xhc3N8fCIiKSxjLnNpemU9ZS5zaXplLGIoZnVuY3Rpb24oKXtjLmFuaW1hdGU9ITAsZFswXS5mb2N1cygpfSksYy5jbG9zZT1mdW5jdGlvbihiKXt2YXIgYz1hLmdldFRvcCgpO2MmJmMudmFsdWUuYmFja2Ryb3AmJiJzdGF0aWMiIT1jLnZhbHVlLmJhY2tkcm9wJiZiLnRhcmdldD09PWIuY3VycmVudFRhcmdldCYmKGIucHJldmVudERlZmF1bHQoKSxiLnN0b3BQcm9wYWdhdGlvbigpLGEuZGlzbWlzcyhjLmtleSwiYmFja2Ryb3AgY2xpY2siKSl9fX19XSkuZmFjdG9yeSgiJG1vZGFsU3RhY2siLFsiJHRyYW5zaXRpb24iLCIkdGltZW91dCIsIiRkb2N1bWVudCIsIiRjb21waWxlIiwiJHJvb3RTY29wZSIsIiQkc3RhY2tlZE1hcCIsZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2Z1bmN0aW9uIGcoKXtmb3IodmFyIGE9LTEsYj1uLmtleXMoKSxjPTA7YzxiLmxlbmd0aDtjKyspbi5nZXQoYltjXSkudmFsdWUuYmFja2Ryb3AmJihhPWMpO3JldHVybiBhfWZ1bmN0aW9uIGgoYSl7dmFyIGI9Yy5maW5kKCJib2R5IikuZXEoMCksZD1uLmdldChhKS52YWx1ZTtuLnJlbW92ZShhKSxqKGQubW9kYWxEb21FbCxkLm1vZGFsU2NvcGUsMzAwLGZ1bmN0aW9uKCl7ZC5tb2RhbFNjb3BlLiRkZXN0cm95KCksYi50b2dnbGVDbGFzcyhtLG4ubGVuZ3RoKCk+MCksaSgpfSl9ZnVuY3Rpb24gaSgpe2lmKGsmJi0xPT1nKCkpe3ZhciBhPWw7aihrLGwsMTUwLGZ1bmN0aW9uKCl7YS4kZGVzdHJveSgpLGE9bnVsbH0pLGs9dm9pZCAwLGw9dm9pZCAwfX1mdW5jdGlvbiBqKGMsZCxlLGYpe2Z1bmN0aW9uIGcoKXtnLmRvbmV8fChnLmRvbmU9ITAsYy5yZW1vdmUoKSxmJiZmKCkpfWQuYW5pbWF0ZT0hMTt2YXIgaD1hLnRyYW5zaXRpb25FbmRFdmVudE5hbWU7aWYoaCl7dmFyIGk9YihnLGUpO2MuYmluZChoLGZ1bmN0aW9uKCl7Yi5jYW5jZWwoaSksZygpLGQuJGFwcGx5KCl9KX1lbHNlIGIoZywwKX12YXIgayxsLG09Im1vZGFsLW9wZW4iLG49Zi5jcmVhdGVOZXcoKSxvPXt9O3JldHVybiBlLiR3YXRjaChnLGZ1bmN0aW9uKGEpe2wmJihsLmluZGV4PWEpfSksYy5iaW5kKCJrZXlkb3duIixmdW5jdGlvbihhKXt2YXIgYjsyNz09PWEud2hpY2gmJihiPW4udG9wKCksYiYmYi52YWx1ZS5rZXlib2FyZCYmKGEucHJldmVudERlZmF1bHQoKSxlLiRhcHBseShmdW5jdGlvbigpe28uZGlzbWlzcyhiLmtleSwiZXNjYXBlIGtleSBwcmVzcyIpfSkpKX0pLG8ub3Blbj1mdW5jdGlvbihhLGIpe24uYWRkKGEse2RlZmVycmVkOmIuZGVmZXJyZWQsbW9kYWxTY29wZTpiLnNjb3BlLGJhY2tkcm9wOmIuYmFja2Ryb3Asa2V5Ym9hcmQ6Yi5rZXlib2FyZH0pO3ZhciBmPWMuZmluZCgiYm9keSIpLmVxKDApLGg9ZygpO2g+PTAmJiFrJiYobD1lLiRuZXcoITApLGwuaW5kZXg9aCxrPWQoIjxkaXYgbW9kYWwtYmFja2Ryb3A+PC9kaXY+IikobCksZi5hcHBlbmQoaykpO3ZhciBpPWFuZ3VsYXIuZWxlbWVudCgiPGRpdiBtb2RhbC13aW5kb3c+PC9kaXY+Iik7aS5hdHRyKHsidGVtcGxhdGUtdXJsIjpiLndpbmRvd1RlbXBsYXRlVXJsLCJ3aW5kb3ctY2xhc3MiOmIud2luZG93Q2xhc3Msc2l6ZTpiLnNpemUsaW5kZXg6bi5sZW5ndGgoKS0xLGFuaW1hdGU6ImFuaW1hdGUifSkuaHRtbChiLmNvbnRlbnQpO3ZhciBqPWQoaSkoYi5zY29wZSk7bi50b3AoKS52YWx1ZS5tb2RhbERvbUVsPWosZi5hcHBlbmQoaiksZi5hZGRDbGFzcyhtKX0sby5jbG9zZT1mdW5jdGlvbihhLGIpe3ZhciBjPW4uZ2V0KGEpLnZhbHVlO2MmJihjLmRlZmVycmVkLnJlc29sdmUoYiksaChhKSl9LG8uZGlzbWlzcz1mdW5jdGlvbihhLGIpe3ZhciBjPW4uZ2V0KGEpLnZhbHVlO2MmJihjLmRlZmVycmVkLnJlamVjdChiKSxoKGEpKX0sby5kaXNtaXNzQWxsPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmdldFRvcCgpO2I7KXRoaXMuZGlzbWlzcyhiLmtleSxhKSxiPXRoaXMuZ2V0VG9wKCl9LG8uZ2V0VG9wPWZ1bmN0aW9uKCl7cmV0dXJuIG4udG9wKCl9LG99XSkucHJvdmlkZXIoIiRtb2RhbCIsZnVuY3Rpb24oKXt2YXIgYT17b3B0aW9uczp7YmFja2Ryb3A6ITAsa2V5Ym9hcmQ6ITB9LCRnZXQ6WyIkaW5qZWN0b3IiLCIkcm9vdFNjb3BlIiwiJHEiLCIkaHR0cCIsIiR0ZW1wbGF0ZUNhY2hlIiwiJGNvbnRyb2xsZXIiLCIkbW9kYWxTdGFjayIsZnVuY3Rpb24oYixjLGQsZSxmLGcsaCl7ZnVuY3Rpb24gaShhKXtyZXR1cm4gYS50ZW1wbGF0ZT9kLndoZW4oYS50ZW1wbGF0ZSk6ZS5nZXQoYS50ZW1wbGF0ZVVybCx7Y2FjaGU6Zn0pLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGF0YX0pfWZ1bmN0aW9uIGooYSl7dmFyIGM9W107cmV0dXJuIGFuZ3VsYXIuZm9yRWFjaChhLGZ1bmN0aW9uKGEpeyhhbmd1bGFyLmlzRnVuY3Rpb24oYSl8fGFuZ3VsYXIuaXNBcnJheShhKSkmJmMucHVzaChkLndoZW4oYi5pbnZva2UoYSkpKX0pLGN9dmFyIGs9e307cmV0dXJuIGsub3Blbj1mdW5jdGlvbihiKXt2YXIgZT1kLmRlZmVyKCksZj1kLmRlZmVyKCksaz17cmVzdWx0OmUucHJvbWlzZSxvcGVuZWQ6Zi5wcm9taXNlLGNsb3NlOmZ1bmN0aW9uKGEpe2guY2xvc2UoayxhKX0sZGlzbWlzczpmdW5jdGlvbihhKXtoLmRpc21pc3MoayxhKX19O2lmKGI9YW5ndWxhci5leHRlbmQoe30sYS5vcHRpb25zLGIpLGIucmVzb2x2ZT1iLnJlc29sdmV8fHt9LCFiLnRlbXBsYXRlJiYhYi50ZW1wbGF0ZVVybCl0aHJvdyBuZXcgRXJyb3IoIk9uZSBvZiB0ZW1wbGF0ZSBvciB0ZW1wbGF0ZVVybCBvcHRpb25zIGlzIHJlcXVpcmVkLiIpO3ZhciBsPWQuYWxsKFtpKGIpXS5jb25jYXQoaihiLnJlc29sdmUpKSk7cmV0dXJuIGwudGhlbihmdW5jdGlvbihhKXt2YXIgZD0oYi5zY29wZXx8YykuJG5ldygpO2QuJGNsb3NlPWsuY2xvc2UsZC4kZGlzbWlzcz1rLmRpc21pc3M7dmFyIGYsaT17fSxqPTE7Yi5jb250cm9sbGVyJiYoaS4kc2NvcGU9ZCxpLiRtb2RhbEluc3RhbmNlPWssYW5ndWxhci5mb3JFYWNoKGIucmVzb2x2ZSxmdW5jdGlvbihiLGMpe2lbY109YVtqKytdfSksZj1nKGIuY29udHJvbGxlcixpKSksaC5vcGVuKGsse3Njb3BlOmQsZGVmZXJyZWQ6ZSxjb250ZW50OmFbMF0sYmFja2Ryb3A6Yi5iYWNrZHJvcCxrZXlib2FyZDpiLmtleWJvYXJkLHdpbmRvd0NsYXNzOmIud2luZG93Q2xhc3Msd2luZG93VGVtcGxhdGVVcmw6Yi53aW5kb3dUZW1wbGF0ZVVybCxzaXplOmIuc2l6ZX0pfSxmdW5jdGlvbihhKXtlLnJlamVjdChhKX0pLGwudGhlbihmdW5jdGlvbigpe2YucmVzb2x2ZSghMCl9LGZ1bmN0aW9uKCl7Zi5yZWplY3QoITEpfSksa30sa31dfTtyZXR1cm4gYX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAucGFnaW5hdGlvbiIsW10pLmNvbnRyb2xsZXIoIlBhZ2luYXRpb25Db250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsIiRwYXJzZSIsZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMsZT17JHNldFZpZXdWYWx1ZTphbmd1bGFyLm5vb3B9LGY9Yi5udW1QYWdlcz9jKGIubnVtUGFnZXMpLmFzc2lnbjphbmd1bGFyLm5vb3A7dGhpcy5pbml0PWZ1bmN0aW9uKGYsZyl7ZT1mLHRoaXMuY29uZmlnPWcsZS4kcmVuZGVyPWZ1bmN0aW9uKCl7ZC5yZW5kZXIoKX0sYi5pdGVtc1BlclBhZ2U/YS4kcGFyZW50LiR3YXRjaChjKGIuaXRlbXNQZXJQYWdlKSxmdW5jdGlvbihiKXtkLml0ZW1zUGVyUGFnZT1wYXJzZUludChiLDEwKSxhLnRvdGFsUGFnZXM9ZC5jYWxjdWxhdGVUb3RhbFBhZ2VzKCl9KTp0aGlzLml0ZW1zUGVyUGFnZT1nLml0ZW1zUGVyUGFnZX0sdGhpcy5jYWxjdWxhdGVUb3RhbFBhZ2VzPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5pdGVtc1BlclBhZ2U8MT8xOk1hdGguY2VpbChhLnRvdGFsSXRlbXMvdGhpcy5pdGVtc1BlclBhZ2UpO3JldHVybiBNYXRoLm1heChifHwwLDEpfSx0aGlzLnJlbmRlcj1mdW5jdGlvbigpe2EucGFnZT1wYXJzZUludChlLiR2aWV3VmFsdWUsMTApfHwxfSxhLnNlbGVjdFBhZ2U9ZnVuY3Rpb24oYil7YS5wYWdlIT09YiYmYj4wJiZiPD1hLnRvdGFsUGFnZXMmJihlLiRzZXRWaWV3VmFsdWUoYiksZS4kcmVuZGVyKCkpfSxhLmdldFRleHQ9ZnVuY3Rpb24oYil7cmV0dXJuIGFbYisiVGV4dCJdfHxkLmNvbmZpZ1tiKyJUZXh0Il19LGEubm9QcmV2aW91cz1mdW5jdGlvbigpe3JldHVybiAxPT09YS5wYWdlfSxhLm5vTmV4dD1mdW5jdGlvbigpe3JldHVybiBhLnBhZ2U9PT1hLnRvdGFsUGFnZXN9LGEuJHdhdGNoKCJ0b3RhbEl0ZW1zIixmdW5jdGlvbigpe2EudG90YWxQYWdlcz1kLmNhbGN1bGF0ZVRvdGFsUGFnZXMoKX0pLGEuJHdhdGNoKCJ0b3RhbFBhZ2VzIixmdW5jdGlvbihiKXtmKGEuJHBhcmVudCxiKSxhLnBhZ2U+Yj9hLnNlbGVjdFBhZ2UoYik6ZS4kcmVuZGVyKCl9KX1dKS5jb25zdGFudCgicGFnaW5hdGlvbkNvbmZpZyIse2l0ZW1zUGVyUGFnZToxMCxib3VuZGFyeUxpbmtzOiExLGRpcmVjdGlvbkxpbmtzOiEwLGZpcnN0VGV4dDoiRmlyc3QiLHByZXZpb3VzVGV4dDoiUHJldmlvdXMiLG5leHRUZXh0OiJOZXh0IixsYXN0VGV4dDoiTGFzdCIscm90YXRlOiEwfSkuZGlyZWN0aXZlKCJwYWdpbmF0aW9uIixbIiRwYXJzZSIsInBhZ2luYXRpb25Db25maWciLGZ1bmN0aW9uKGEsYil7cmV0dXJue3Jlc3RyaWN0OiJFQSIsc2NvcGU6e3RvdGFsSXRlbXM6Ij0iLGZpcnN0VGV4dDoiQCIscHJldmlvdXNUZXh0OiJAIixuZXh0VGV4dDoiQCIsbGFzdFRleHQ6IkAifSxyZXF1aXJlOlsicGFnaW5hdGlvbiIsIj9uZ01vZGVsIl0sY29udHJvbGxlcjoiUGFnaW5hdGlvbkNvbnRyb2xsZXIiLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbCIscmVwbGFjZTohMCxsaW5rOmZ1bmN0aW9uKGMsZCxlLGYpe2Z1bmN0aW9uIGcoYSxiLGMpe3JldHVybntudW1iZXI6YSx0ZXh0OmIsYWN0aXZlOmN9fWZ1bmN0aW9uIGgoYSxiKXt2YXIgYz1bXSxkPTEsZT1iLGY9YW5ndWxhci5pc0RlZmluZWQoaykmJmI+aztmJiYobD8oZD1NYXRoLm1heChhLU1hdGguZmxvb3Ioay8yKSwxKSxlPWQray0xLGU+YiYmKGU9YixkPWUtaysxKSk6KGQ9KE1hdGguY2VpbChhL2spLTEpKmsrMSxlPU1hdGgubWluKGQray0xLGIpKSk7Zm9yKHZhciBoPWQ7ZT49aDtoKyspe3ZhciBpPWcoaCxoLGg9PT1hKTtjLnB1c2goaSl9aWYoZiYmIWwpe2lmKGQ+MSl7dmFyIGo9ZyhkLTEsIi4uLiIsITEpO2MudW5zaGlmdChqKX1pZihiPmUpe3ZhciBtPWcoZSsxLCIuLi4iLCExKTtjLnB1c2gobSl9fXJldHVybiBjfXZhciBpPWZbMF0saj1mWzFdO2lmKGope3ZhciBrPWFuZ3VsYXIuaXNEZWZpbmVkKGUubWF4U2l6ZSk/Yy4kcGFyZW50LiRldmFsKGUubWF4U2l6ZSk6Yi5tYXhTaXplLGw9YW5ndWxhci5pc0RlZmluZWQoZS5yb3RhdGUpP2MuJHBhcmVudC4kZXZhbChlLnJvdGF0ZSk6Yi5yb3RhdGU7Yy5ib3VuZGFyeUxpbmtzPWFuZ3VsYXIuaXNEZWZpbmVkKGUuYm91bmRhcnlMaW5rcyk/Yy4kcGFyZW50LiRldmFsKGUuYm91bmRhcnlMaW5rcyk6Yi5ib3VuZGFyeUxpbmtzLGMuZGlyZWN0aW9uTGlua3M9YW5ndWxhci5pc0RlZmluZWQoZS5kaXJlY3Rpb25MaW5rcyk/Yy4kcGFyZW50LiRldmFsKGUuZGlyZWN0aW9uTGlua3MpOmIuZGlyZWN0aW9uTGlua3MsaS5pbml0KGosYiksZS5tYXhTaXplJiZjLiRwYXJlbnQuJHdhdGNoKGEoZS5tYXhTaXplKSxmdW5jdGlvbihhKXtrPXBhcnNlSW50KGEsMTApLGkucmVuZGVyKCl9KTt2YXIgbT1pLnJlbmRlcjtpLnJlbmRlcj1mdW5jdGlvbigpe20oKSxjLnBhZ2U+MCYmYy5wYWdlPD1jLnRvdGFsUGFnZXMmJihjLnBhZ2VzPWgoYy5wYWdlLGMudG90YWxQYWdlcykpfX19fX1dKS5jb25zdGFudCgicGFnZXJDb25maWciLHtpdGVtc1BlclBhZ2U6MTAscHJldmlvdXNUZXh0OiLCqyBQcmV2aW91cyIsbmV4dFRleHQ6Ik5leHQgwrsiLGFsaWduOiEwfSkuZGlyZWN0aXZlKCJwYWdlciIsWyJwYWdlckNvbmZpZyIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsc2NvcGU6e3RvdGFsSXRlbXM6Ij0iLHByZXZpb3VzVGV4dDoiQCIsbmV4dFRleHQ6IkAifSxyZXF1aXJlOlsicGFnZXIiLCI/bmdNb2RlbCJdLGNvbnRyb2xsZXI6IlBhZ2luYXRpb25Db250cm9sbGVyIix0ZW1wbGF0ZVVybDoidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sIixyZXBsYWNlOiEwLGxpbms6ZnVuY3Rpb24oYixjLGQsZSl7dmFyIGY9ZVswXSxnPWVbMV07ZyYmKGIuYWxpZ249YW5ndWxhci5pc0RlZmluZWQoZC5hbGlnbik/Yi4kcGFyZW50LiRldmFsKGQuYWxpZ24pOmEuYWxpZ24sZi5pbml0KGcsYSkpfX19XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC50b29sdGlwIixbInVpLmJvb3RzdHJhcC5wb3NpdGlvbiIsInVpLmJvb3RzdHJhcC5iaW5kSHRtbCJdKS5wcm92aWRlcigiJHRvb2x0aXAiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt2YXIgYj0vW0EtWl0vZyxjPSItIjtyZXR1cm4gYS5yZXBsYWNlKGIsZnVuY3Rpb24oYSxiKXtyZXR1cm4oYj9jOiIiKSthLnRvTG93ZXJDYXNlKCl9KX12YXIgYj17cGxhY2VtZW50OiJ0b3AiLGFuaW1hdGlvbjohMCxwb3B1cERlbGF5OjB9LGM9e21vdXNlZW50ZXI6Im1vdXNlbGVhdmUiLGNsaWNrOiJjbGljayIsZm9jdXM6ImJsdXIifSxkPXt9O3RoaXMub3B0aW9ucz1mdW5jdGlvbihhKXthbmd1bGFyLmV4dGVuZChkLGEpfSx0aGlzLnNldFRyaWdnZXJzPWZ1bmN0aW9uKGEpe2FuZ3VsYXIuZXh0ZW5kKGMsYSl9LHRoaXMuJGdldD1bIiR3aW5kb3ciLCIkY29tcGlsZSIsIiR0aW1lb3V0IiwiJHBhcnNlIiwiJGRvY3VtZW50IiwiJHBvc2l0aW9uIiwiJGludGVycG9sYXRlIixmdW5jdGlvbihlLGYsZyxoLGksaixrKXtyZXR1cm4gZnVuY3Rpb24oZSxsLG0pe2Z1bmN0aW9uIG4oYSl7dmFyIGI9YXx8by50cmlnZ2VyfHxtLGQ9Y1tiXXx8YjtyZXR1cm57c2hvdzpiLGhpZGU6ZH19dmFyIG89YW5ndWxhci5leHRlbmQoe30sYixkKSxwPWEoZSkscT1rLnN0YXJ0U3ltYm9sKCkscj1rLmVuZFN5bWJvbCgpLHM9IjxkaXYgIitwKyctcG9wdXAgdGl0bGU9IicrcSsidHRfdGl0bGUiK3IrJyIgY29udGVudD0iJytxKyJ0dF9jb250ZW50IityKyciIHBsYWNlbWVudD0iJytxKyJ0dF9wbGFjZW1lbnQiK3IrJyIgYW5pbWF0aW9uPSJ0dF9hbmltYXRpb24iIGlzLW9wZW49InR0X2lzT3BlbiI+PC9kaXY+JztyZXR1cm57cmVzdHJpY3Q6IkVBIixzY29wZTohMCxjb21waWxlOmZ1bmN0aW9uKCl7dmFyIGE9ZihzKTtyZXR1cm4gZnVuY3Rpb24oYixjLGQpe2Z1bmN0aW9uIGYoKXtiLnR0X2lzT3Blbj9tKCk6aygpfWZ1bmN0aW9uIGsoKXsoIXl8fGIuJGV2YWwoZFtsKyJFbmFibGUiXSkpJiYoYi50dF9wb3B1cERlbGF5P3Z8fCh2PWcocCxiLnR0X3BvcHVwRGVsYXksITEpLHYudGhlbihmdW5jdGlvbihhKXthKCkKfSkpOnAoKSgpKX1mdW5jdGlvbiBtKCl7Yi4kYXBwbHkoZnVuY3Rpb24oKXtxKCl9KX1mdW5jdGlvbiBwKCl7cmV0dXJuIHY9bnVsbCx1JiYoZy5jYW5jZWwodSksdT1udWxsKSxiLnR0X2NvbnRlbnQ/KHIoKSx0LmNzcyh7dG9wOjAsbGVmdDowLGRpc3BsYXk6ImJsb2NrIn0pLHc/aS5maW5kKCJib2R5IikuYXBwZW5kKHQpOmMuYWZ0ZXIodCkseigpLGIudHRfaXNPcGVuPSEwLGIuJGRpZ2VzdCgpLHopOmFuZ3VsYXIubm9vcH1mdW5jdGlvbiBxKCl7Yi50dF9pc09wZW49ITEsZy5jYW5jZWwodiksdj1udWxsLGIudHRfYW5pbWF0aW9uP3V8fCh1PWcocyw1MDApKTpzKCl9ZnVuY3Rpb24gcigpe3QmJnMoKSx0PWEoYixmdW5jdGlvbigpe30pLGIuJGRpZ2VzdCgpfWZ1bmN0aW9uIHMoKXt1PW51bGwsdCYmKHQucmVtb3ZlKCksdD1udWxsKX12YXIgdCx1LHYsdz1hbmd1bGFyLmlzRGVmaW5lZChvLmFwcGVuZFRvQm9keSk/by5hcHBlbmRUb0JvZHk6ITEseD1uKHZvaWQgMCkseT1hbmd1bGFyLmlzRGVmaW5lZChkW2wrIkVuYWJsZSJdKSx6PWZ1bmN0aW9uKCl7dmFyIGE9ai5wb3NpdGlvbkVsZW1lbnRzKGMsdCxiLnR0X3BsYWNlbWVudCx3KTthLnRvcCs9InB4IixhLmxlZnQrPSJweCIsdC5jc3MoYSl9O2IudHRfaXNPcGVuPSExLGQuJG9ic2VydmUoZSxmdW5jdGlvbihhKXtiLnR0X2NvbnRlbnQ9YSwhYSYmYi50dF9pc09wZW4mJnEoKX0pLGQuJG9ic2VydmUobCsiVGl0bGUiLGZ1bmN0aW9uKGEpe2IudHRfdGl0bGU9YX0pLGQuJG9ic2VydmUobCsiUGxhY2VtZW50IixmdW5jdGlvbihhKXtiLnR0X3BsYWNlbWVudD1hbmd1bGFyLmlzRGVmaW5lZChhKT9hOm8ucGxhY2VtZW50fSksZC4kb2JzZXJ2ZShsKyJQb3B1cERlbGF5IixmdW5jdGlvbihhKXt2YXIgYz1wYXJzZUludChhLDEwKTtiLnR0X3BvcHVwRGVsYXk9aXNOYU4oYyk/by5wb3B1cERlbGF5OmN9KTt2YXIgQT1mdW5jdGlvbigpe2MudW5iaW5kKHguc2hvdyxrKSxjLnVuYmluZCh4LmhpZGUsbSl9O2QuJG9ic2VydmUobCsiVHJpZ2dlciIsZnVuY3Rpb24oYSl7QSgpLHg9bihhKSx4LnNob3c9PT14LmhpZGU/Yy5iaW5kKHguc2hvdyxmKTooYy5iaW5kKHguc2hvdyxrKSxjLmJpbmQoeC5oaWRlLG0pKX0pO3ZhciBCPWIuJGV2YWwoZFtsKyJBbmltYXRpb24iXSk7Yi50dF9hbmltYXRpb249YW5ndWxhci5pc0RlZmluZWQoQik/ISFCOm8uYW5pbWF0aW9uLGQuJG9ic2VydmUobCsiQXBwZW5kVG9Cb2R5IixmdW5jdGlvbihhKXt3PWFuZ3VsYXIuaXNEZWZpbmVkKGEpP2goYSkoYik6d30pLHcmJmIuJG9uKCIkbG9jYXRpb25DaGFuZ2VTdWNjZXNzIixmdW5jdGlvbigpe2IudHRfaXNPcGVuJiZxKCl9KSxiLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7Zy5jYW5jZWwodSksZy5jYW5jZWwodiksQSgpLHMoKX0pfX19fX1dfSkuZGlyZWN0aXZlKCJ0b29sdGlwUG9wdXAiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCxzY29wZTp7Y29udGVudDoiQCIscGxhY2VtZW50OiJAIixhbmltYXRpb246IiYiLGlzT3BlbjoiJiJ9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbCJ9fSkuZGlyZWN0aXZlKCJ0b29sdGlwIixbIiR0b29sdGlwIixmdW5jdGlvbihhKXtyZXR1cm4gYSgidG9vbHRpcCIsInRvb2x0aXAiLCJtb3VzZWVudGVyIil9XSkuZGlyZWN0aXZlKCJ0b29sdGlwSHRtbFVuc2FmZVBvcHVwIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsc2NvcGU6e2NvbnRlbnQ6IkAiLHBsYWNlbWVudDoiQCIsYW5pbWF0aW9uOiImIixpc09wZW46IiYifSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWwifX0pLmRpcmVjdGl2ZSgidG9vbHRpcEh0bWxVbnNhZmUiLFsiJHRvb2x0aXAiLGZ1bmN0aW9uKGEpe3JldHVybiBhKCJ0b29sdGlwSHRtbFVuc2FmZSIsInRvb2x0aXAiLCJtb3VzZWVudGVyIil9XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5wb3BvdmVyIixbInVpLmJvb3RzdHJhcC50b29sdGlwIl0pLmRpcmVjdGl2ZSgicG9wb3ZlclBvcHVwIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsc2NvcGU6e3RpdGxlOiJAIixjb250ZW50OiJAIixwbGFjZW1lbnQ6IkAiLGFuaW1hdGlvbjoiJiIsaXNPcGVuOiImIn0sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sIn19KS5kaXJlY3RpdmUoInBvcG92ZXIiLFsiJHRvb2x0aXAiLGZ1bmN0aW9uKGEpe3JldHVybiBhKCJwb3BvdmVyIiwicG9wb3ZlciIsImNsaWNrIil9XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5wcm9ncmVzc2JhciIsW10pLmNvbnN0YW50KCJwcm9ncmVzc0NvbmZpZyIse2FuaW1hdGU6ITAsbWF4OjEwMH0pLmNvbnRyb2xsZXIoIlByb2dyZXNzQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCJwcm9ncmVzc0NvbmZpZyIsZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMsZT1hbmd1bGFyLmlzRGVmaW5lZChiLmFuaW1hdGUpP2EuJHBhcmVudC4kZXZhbChiLmFuaW1hdGUpOmMuYW5pbWF0ZTt0aGlzLmJhcnM9W10sYS5tYXg9YW5ndWxhci5pc0RlZmluZWQoYi5tYXgpP2EuJHBhcmVudC4kZXZhbChiLm1heCk6Yy5tYXgsdGhpcy5hZGRCYXI9ZnVuY3Rpb24oYixjKXtlfHxjLmNzcyh7dHJhbnNpdGlvbjoibm9uZSJ9KSx0aGlzLmJhcnMucHVzaChiKSxiLiR3YXRjaCgidmFsdWUiLGZ1bmN0aW9uKGMpe2IucGVyY2VudD0rKDEwMCpjL2EubWF4KS50b0ZpeGVkKDIpfSksYi4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe2M9bnVsbCxkLnJlbW92ZUJhcihiKX0pfSx0aGlzLnJlbW92ZUJhcj1mdW5jdGlvbihhKXt0aGlzLmJhcnMuc3BsaWNlKHRoaXMuYmFycy5pbmRleE9mKGEpLDEpfX1dKS5kaXJlY3RpdmUoInByb2dyZXNzIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdHJhbnNjbHVkZTohMCxjb250cm9sbGVyOiJQcm9ncmVzc0NvbnRyb2xsZXIiLHJlcXVpcmU6InByb2dyZXNzIixzY29wZTp7fSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbCJ9fSkuZGlyZWN0aXZlKCJiYXIiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0cmFuc2NsdWRlOiEwLHJlcXVpcmU6Il5wcm9ncmVzcyIsc2NvcGU6e3ZhbHVlOiI9Iix0eXBlOiJAIn0sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sIixsaW5rOmZ1bmN0aW9uKGEsYixjLGQpe2QuYWRkQmFyKGEsYil9fX0pLmRpcmVjdGl2ZSgicHJvZ3Jlc3NiYXIiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0cmFuc2NsdWRlOiEwLGNvbnRyb2xsZXI6IlByb2dyZXNzQ29udHJvbGxlciIsc2NvcGU6e3ZhbHVlOiI9Iix0eXBlOiJAIn0sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWwiLGxpbms6ZnVuY3Rpb24oYSxiLGMsZCl7ZC5hZGRCYXIoYSxhbmd1bGFyLmVsZW1lbnQoYi5jaGlsZHJlbigpWzBdKSl9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAucmF0aW5nIixbXSkuY29uc3RhbnQoInJhdGluZ0NvbmZpZyIse21heDo1LHN0YXRlT246bnVsbCxzdGF0ZU9mZjpudWxsfSkuY29udHJvbGxlcigiUmF0aW5nQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCJyYXRpbmdDb25maWciLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD17JHNldFZpZXdWYWx1ZTphbmd1bGFyLm5vb3B9O3RoaXMuaW5pdD1mdW5jdGlvbihlKXtkPWUsZC4kcmVuZGVyPXRoaXMucmVuZGVyLHRoaXMuc3RhdGVPbj1hbmd1bGFyLmlzRGVmaW5lZChiLnN0YXRlT24pP2EuJHBhcmVudC4kZXZhbChiLnN0YXRlT24pOmMuc3RhdGVPbix0aGlzLnN0YXRlT2ZmPWFuZ3VsYXIuaXNEZWZpbmVkKGIuc3RhdGVPZmYpP2EuJHBhcmVudC4kZXZhbChiLnN0YXRlT2ZmKTpjLnN0YXRlT2ZmO3ZhciBmPWFuZ3VsYXIuaXNEZWZpbmVkKGIucmF0aW5nU3RhdGVzKT9hLiRwYXJlbnQuJGV2YWwoYi5yYXRpbmdTdGF0ZXMpOm5ldyBBcnJheShhbmd1bGFyLmlzRGVmaW5lZChiLm1heCk/YS4kcGFyZW50LiRldmFsKGIubWF4KTpjLm1heCk7YS5yYW5nZT10aGlzLmJ1aWxkVGVtcGxhdGVPYmplY3RzKGYpfSx0aGlzLmJ1aWxkVGVtcGxhdGVPYmplY3RzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9YS5sZW5ndGg7Yz5iO2IrKylhW2JdPWFuZ3VsYXIuZXh0ZW5kKHtpbmRleDpifSx7c3RhdGVPbjp0aGlzLnN0YXRlT24sc3RhdGVPZmY6dGhpcy5zdGF0ZU9mZn0sYVtiXSk7cmV0dXJuIGF9LGEucmF0ZT1mdW5jdGlvbihiKXshYS5yZWFkb25seSYmYj49MCYmYjw9YS5yYW5nZS5sZW5ndGgmJihkLiRzZXRWaWV3VmFsdWUoYiksZC4kcmVuZGVyKCkpfSxhLmVudGVyPWZ1bmN0aW9uKGIpe2EucmVhZG9ubHl8fChhLnZhbHVlPWIpLGEub25Ib3Zlcih7dmFsdWU6Yn0pfSxhLnJlc2V0PWZ1bmN0aW9uKCl7YS52YWx1ZT1kLiR2aWV3VmFsdWUsYS5vbkxlYXZlKCl9LGEub25LZXlkb3duPWZ1bmN0aW9uKGIpey8oMzd8Mzh8Mzl8NDApLy50ZXN0KGIud2hpY2gpJiYoYi5wcmV2ZW50RGVmYXVsdCgpLGIuc3RvcFByb3BhZ2F0aW9uKCksYS5yYXRlKGEudmFsdWUrKDM4PT09Yi53aGljaHx8Mzk9PT1iLndoaWNoPzE6LTEpKSl9LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7YS52YWx1ZT1kLiR2aWV3VmFsdWV9fV0pLmRpcmVjdGl2ZSgicmF0aW5nIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcXVpcmU6WyJyYXRpbmciLCJuZ01vZGVsIl0sc2NvcGU6e3JlYWRvbmx5OiI9PyIsb25Ib3ZlcjoiJiIsb25MZWF2ZToiJiJ9LGNvbnRyb2xsZXI6IlJhdGluZ0NvbnRyb2xsZXIiLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9yYXRpbmcvcmF0aW5nLmh0bWwiLHJlcGxhY2U6ITAsbGluazpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1kWzBdLGY9ZFsxXTtmJiZlLmluaXQoZil9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAudGFicyIsW10pLmNvbnRyb2xsZXIoIlRhYnNldENvbnRyb2xsZXIiLFsiJHNjb3BlIixmdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi50YWJzPWEudGFicz1bXTtiLnNlbGVjdD1mdW5jdGlvbihhKXthbmd1bGFyLmZvckVhY2goYyxmdW5jdGlvbihiKXtiLmFjdGl2ZSYmYiE9PWEmJihiLmFjdGl2ZT0hMSxiLm9uRGVzZWxlY3QoKSl9KSxhLmFjdGl2ZT0hMCxhLm9uU2VsZWN0KCl9LGIuYWRkVGFiPWZ1bmN0aW9uKGEpe2MucHVzaChhKSwxPT09Yy5sZW5ndGg/YS5hY3RpdmU9ITA6YS5hY3RpdmUmJmIuc2VsZWN0KGEpfSxiLnJlbW92ZVRhYj1mdW5jdGlvbihhKXt2YXIgZD1jLmluZGV4T2YoYSk7aWYoYS5hY3RpdmUmJmMubGVuZ3RoPjEpe3ZhciBlPWQ9PWMubGVuZ3RoLTE/ZC0xOmQrMTtiLnNlbGVjdChjW2VdKX1jLnNwbGljZShkLDEpfX1dKS5kaXJlY3RpdmUoInRhYnNldCIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIix0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITAsc2NvcGU6e3R5cGU6IkAifSxjb250cm9sbGVyOiJUYWJzZXRDb250cm9sbGVyIix0ZW1wbGF0ZVVybDoidGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbCIsbGluazpmdW5jdGlvbihhLGIsYyl7YS52ZXJ0aWNhbD1hbmd1bGFyLmlzRGVmaW5lZChjLnZlcnRpY2FsKT9hLiRwYXJlbnQuJGV2YWwoYy52ZXJ0aWNhbCk6ITEsYS5qdXN0aWZpZWQ9YW5ndWxhci5pc0RlZmluZWQoYy5qdXN0aWZpZWQpP2EuJHBhcmVudC4kZXZhbChjLmp1c3RpZmllZCk6ITF9fX0pLmRpcmVjdGl2ZSgidGFiIixbIiRwYXJzZSIsZnVuY3Rpb24oYSl7cmV0dXJue3JlcXVpcmU6Il50YWJzZXQiLHJlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvdGFicy90YWIuaHRtbCIsdHJhbnNjbHVkZTohMCxzY29wZTp7YWN0aXZlOiI9PyIsaGVhZGluZzoiQCIsb25TZWxlY3Q6IiZzZWxlY3QiLG9uRGVzZWxlY3Q6IiZkZXNlbGVjdCJ9LGNvbnRyb2xsZXI6ZnVuY3Rpb24oKXt9LGNvbXBpbGU6ZnVuY3Rpb24oYixjLGQpe3JldHVybiBmdW5jdGlvbihiLGMsZSxmKXtiLiR3YXRjaCgiYWN0aXZlIixmdW5jdGlvbihhKXthJiZmLnNlbGVjdChiKX0pLGIuZGlzYWJsZWQ9ITEsZS5kaXNhYmxlZCYmYi4kcGFyZW50LiR3YXRjaChhKGUuZGlzYWJsZWQpLGZ1bmN0aW9uKGEpe2IuZGlzYWJsZWQ9ISFhfSksYi5zZWxlY3Q9ZnVuY3Rpb24oKXtiLmRpc2FibGVkfHwoYi5hY3RpdmU9ITApfSxmLmFkZFRhYihiKSxiLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7Zi5yZW1vdmVUYWIoYil9KSxiLiR0cmFuc2NsdWRlRm49ZH19fX1dKS5kaXJlY3RpdmUoInRhYkhlYWRpbmdUcmFuc2NsdWRlIixbZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkEiLHJlcXVpcmU6Il50YWIiLGxpbms6ZnVuY3Rpb24oYSxiKXthLiR3YXRjaCgiaGVhZGluZ0VsZW1lbnQiLGZ1bmN0aW9uKGEpe2EmJihiLmh0bWwoIiIpLGIuYXBwZW5kKGEpKX0pfX19XSkuZGlyZWN0aXZlKCJ0YWJDb250ZW50VHJhbnNjbHVkZSIsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybiBhLnRhZ05hbWUmJihhLmhhc0F0dHJpYnV0ZSgidGFiLWhlYWRpbmciKXx8YS5oYXNBdHRyaWJ1dGUoImRhdGEtdGFiLWhlYWRpbmciKXx8InRhYi1oZWFkaW5nIj09PWEudGFnTmFtZS50b0xvd2VyQ2FzZSgpfHwiZGF0YS10YWItaGVhZGluZyI9PT1hLnRhZ05hbWUudG9Mb3dlckNhc2UoKSl9cmV0dXJue3Jlc3RyaWN0OiJBIixyZXF1aXJlOiJedGFic2V0IixsaW5rOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1iLiRldmFsKGQudGFiQ29udGVudFRyYW5zY2x1ZGUpO2UuJHRyYW5zY2x1ZGVGbihlLiRwYXJlbnQsZnVuY3Rpb24oYil7YW5ndWxhci5mb3JFYWNoKGIsZnVuY3Rpb24oYil7YShiKT9lLmhlYWRpbmdFbGVtZW50PWI6Yy5hcHBlbmQoYil9KX0pfX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnRpbWVwaWNrZXIiLFtdKS5jb25zdGFudCgidGltZXBpY2tlckNvbmZpZyIse2hvdXJTdGVwOjEsbWludXRlU3RlcDoxLHNob3dNZXJpZGlhbjohMCxtZXJpZGlhbnM6bnVsbCxyZWFkb25seUlucHV0OiExLG1vdXNld2hlZWw6ITB9KS5jb250cm9sbGVyKCJUaW1lcGlja2VyQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCIkcGFyc2UiLCIkbG9nIiwiJGxvY2FsZSIsInRpbWVwaWNrZXJDb25maWciLGZ1bmN0aW9uKGEsYixjLGQsZSxmKXtmdW5jdGlvbiBnKCl7dmFyIGI9cGFyc2VJbnQoYS5ob3VycywxMCksYz1hLnNob3dNZXJpZGlhbj9iPjAmJjEzPmI6Yj49MCYmMjQ+YjtyZXR1cm4gYz8oYS5zaG93TWVyaWRpYW4mJigxMj09PWImJihiPTApLGEubWVyaWRpYW49PT1wWzFdJiYoYis9MTIpKSxiKTp2b2lkIDB9ZnVuY3Rpb24gaCgpe3ZhciBiPXBhcnNlSW50KGEubWludXRlcywxMCk7cmV0dXJuIGI+PTAmJjYwPmI/Yjp2b2lkIDB9ZnVuY3Rpb24gaShhKXtyZXR1cm4gYW5ndWxhci5pc0RlZmluZWQoYSkmJmEudG9TdHJpbmcoKS5sZW5ndGg8Mj8iMCIrYTphfWZ1bmN0aW9uIGooYSl7aygpLG8uJHNldFZpZXdWYWx1ZShuZXcgRGF0ZShuKSksbChhKX1mdW5jdGlvbiBrKCl7by4kc2V0VmFsaWRpdHkoInRpbWUiLCEwKSxhLmludmFsaWRIb3Vycz0hMSxhLmludmFsaWRNaW51dGVzPSExfWZ1bmN0aW9uIGwoYil7dmFyIGM9bi5nZXRIb3VycygpLGQ9bi5nZXRNaW51dGVzKCk7YS5zaG93TWVyaWRpYW4mJihjPTA9PT1jfHwxMj09PWM/MTI6YyUxMiksYS5ob3Vycz0iaCI9PT1iP2M6aShjKSxhLm1pbnV0ZXM9Im0iPT09Yj9kOmkoZCksYS5tZXJpZGlhbj1uLmdldEhvdXJzKCk8MTI/cFswXTpwWzFdfWZ1bmN0aW9uIG0oYSl7dmFyIGI9bmV3IERhdGUobi5nZXRUaW1lKCkrNmU0KmEpO24uc2V0SG91cnMoYi5nZXRIb3VycygpLGIuZ2V0TWludXRlcygpKSxqKCl9dmFyIG49bmV3IERhdGUsbz17JHNldFZpZXdWYWx1ZTphbmd1bGFyLm5vb3B9LHA9YW5ndWxhci5pc0RlZmluZWQoYi5tZXJpZGlhbnMpP2EuJHBhcmVudC4kZXZhbChiLm1lcmlkaWFucyk6Zi5tZXJpZGlhbnN8fGUuREFURVRJTUVfRk9STUFUUy5BTVBNUzt0aGlzLmluaXQ9ZnVuY3Rpb24oYyxkKXtvPWMsby4kcmVuZGVyPXRoaXMucmVuZGVyO3ZhciBlPWQuZXEoMCksZz1kLmVxKDEpLGg9YW5ndWxhci5pc0RlZmluZWQoYi5tb3VzZXdoZWVsKT9hLiRwYXJlbnQuJGV2YWwoYi5tb3VzZXdoZWVsKTpmLm1vdXNld2hlZWw7aCYmdGhpcy5zZXR1cE1vdXNld2hlZWxFdmVudHMoZSxnKSxhLnJlYWRvbmx5SW5wdXQ9YW5ndWxhci5pc0RlZmluZWQoYi5yZWFkb25seUlucHV0KT9hLiRwYXJlbnQuJGV2YWwoYi5yZWFkb25seUlucHV0KTpmLnJlYWRvbmx5SW5wdXQsdGhpcy5zZXR1cElucHV0RXZlbnRzKGUsZyl9O3ZhciBxPWYuaG91clN0ZXA7Yi5ob3VyU3RlcCYmYS4kcGFyZW50LiR3YXRjaChjKGIuaG91clN0ZXApLGZ1bmN0aW9uKGEpe3E9cGFyc2VJbnQoYSwxMCl9KTt2YXIgcj1mLm1pbnV0ZVN0ZXA7Yi5taW51dGVTdGVwJiZhLiRwYXJlbnQuJHdhdGNoKGMoYi5taW51dGVTdGVwKSxmdW5jdGlvbihhKXtyPXBhcnNlSW50KGEsMTApfSksYS5zaG93TWVyaWRpYW49Zi5zaG93TWVyaWRpYW4sYi5zaG93TWVyaWRpYW4mJmEuJHBhcmVudC4kd2F0Y2goYyhiLnNob3dNZXJpZGlhbiksZnVuY3Rpb24oYil7aWYoYS5zaG93TWVyaWRpYW49ISFiLG8uJGVycm9yLnRpbWUpe3ZhciBjPWcoKSxkPWgoKTthbmd1bGFyLmlzRGVmaW5lZChjKSYmYW5ndWxhci5pc0RlZmluZWQoZCkmJihuLnNldEhvdXJzKGMpLGooKSl9ZWxzZSBsKCl9KSx0aGlzLnNldHVwTW91c2V3aGVlbEV2ZW50cz1mdW5jdGlvbihiLGMpe3ZhciBkPWZ1bmN0aW9uKGEpe2Eub3JpZ2luYWxFdmVudCYmKGE9YS5vcmlnaW5hbEV2ZW50KTt2YXIgYj1hLndoZWVsRGVsdGE/YS53aGVlbERlbHRhOi1hLmRlbHRhWTtyZXR1cm4gYS5kZXRhaWx8fGI+MH07Yi5iaW5kKCJtb3VzZXdoZWVsIHdoZWVsIixmdW5jdGlvbihiKXthLiRhcHBseShkKGIpP2EuaW5jcmVtZW50SG91cnMoKTphLmRlY3JlbWVudEhvdXJzKCkpLGIucHJldmVudERlZmF1bHQoKX0pLGMuYmluZCgibW91c2V3aGVlbCB3aGVlbCIsZnVuY3Rpb24oYil7YS4kYXBwbHkoZChiKT9hLmluY3JlbWVudE1pbnV0ZXMoKTphLmRlY3JlbWVudE1pbnV0ZXMoKSksYi5wcmV2ZW50RGVmYXVsdCgpfSl9LHRoaXMuc2V0dXBJbnB1dEV2ZW50cz1mdW5jdGlvbihiLGMpe2lmKGEucmVhZG9ubHlJbnB1dClyZXR1cm4gYS51cGRhdGVIb3Vycz1hbmd1bGFyLm5vb3Asdm9pZChhLnVwZGF0ZU1pbnV0ZXM9YW5ndWxhci5ub29wKTt2YXIgZD1mdW5jdGlvbihiLGMpe28uJHNldFZpZXdWYWx1ZShudWxsKSxvLiRzZXRWYWxpZGl0eSgidGltZSIsITEpLGFuZ3VsYXIuaXNEZWZpbmVkKGIpJiYoYS5pbnZhbGlkSG91cnM9YiksYW5ndWxhci5pc0RlZmluZWQoYykmJihhLmludmFsaWRNaW51dGVzPWMpfTthLnVwZGF0ZUhvdXJzPWZ1bmN0aW9uKCl7dmFyIGE9ZygpO2FuZ3VsYXIuaXNEZWZpbmVkKGEpPyhuLnNldEhvdXJzKGEpLGooImgiKSk6ZCghMCl9LGIuYmluZCgiYmx1ciIsZnVuY3Rpb24oKXshYS5pbnZhbGlkSG91cnMmJmEuaG91cnM8MTAmJmEuJGFwcGx5KGZ1bmN0aW9uKCl7YS5ob3Vycz1pKGEuaG91cnMpfSl9KSxhLnVwZGF0ZU1pbnV0ZXM9ZnVuY3Rpb24oKXt2YXIgYT1oKCk7YW5ndWxhci5pc0RlZmluZWQoYSk/KG4uc2V0TWludXRlcyhhKSxqKCJtIikpOmQodm9pZCAwLCEwKX0sYy5iaW5kKCJibHVyIixmdW5jdGlvbigpeyFhLmludmFsaWRNaW51dGVzJiZhLm1pbnV0ZXM8MTAmJmEuJGFwcGx5KGZ1bmN0aW9uKCl7YS5taW51dGVzPWkoYS5taW51dGVzKX0pfSl9LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGE9by4kbW9kZWxWYWx1ZT9uZXcgRGF0ZShvLiRtb2RlbFZhbHVlKTpudWxsO2lzTmFOKGEpPyhvLiRzZXRWYWxpZGl0eSgidGltZSIsITEpLGQuZXJyb3IoJ1RpbWVwaWNrZXIgZGlyZWN0aXZlOiAibmctbW9kZWwiIHZhbHVlIG11c3QgYmUgYSBEYXRlIG9iamVjdCwgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIDAxLjAxLjE5NzAgb3IgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIFJGQzI4MjIgb3IgSVNPIDg2MDEgZGF0ZS4nKSk6KGEmJihuPWEpLGsoKSxsKCkpfSxhLmluY3JlbWVudEhvdXJzPWZ1bmN0aW9uKCl7bSg2MCpxKX0sYS5kZWNyZW1lbnRIb3Vycz1mdW5jdGlvbigpe20oNjAqLXEpfSxhLmluY3JlbWVudE1pbnV0ZXM9ZnVuY3Rpb24oKXttKHIpfSxhLmRlY3JlbWVudE1pbnV0ZXM9ZnVuY3Rpb24oKXttKC1yKX0sYS50b2dnbGVNZXJpZGlhbj1mdW5jdGlvbigpe20oNzIwKihuLmdldEhvdXJzKCk8MTI/MTotMSkpfX1dKS5kaXJlY3RpdmUoInRpbWVwaWNrZXIiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVxdWlyZTpbInRpbWVwaWNrZXIiLCI/Xm5nTW9kZWwiXSxjb250cm9sbGVyOiJUaW1lcGlja2VyQ29udHJvbGxlciIscmVwbGFjZTohMCxzY29wZTp7fSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWwiLGxpbms6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ZFswXSxmPWRbMV07ZiYmZS5pbml0KGYsYi5maW5kKCJpbnB1dCIpKX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC50eXBlYWhlYWQiLFsidWkuYm9vdHN0cmFwLnBvc2l0aW9uIiwidWkuYm9vdHN0cmFwLmJpbmRIdG1sIl0pLmZhY3RvcnkoInR5cGVhaGVhZFBhcnNlciIsWyIkcGFyc2UiLGZ1bmN0aW9uKGEpe3ZhciBiPS9eXHMqKC4qPykoPzpccythc1xzKyguKj8pKT9ccytmb3JccysoPzooW1wkXHddW1wkXHdcZF0qKSlccytpblxzKyguKikkLztyZXR1cm57cGFyc2U6ZnVuY3Rpb24oYyl7dmFyIGQ9Yy5tYXRjaChiKTtpZighZCl0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHR5cGVhaGVhZCBzcGVjaWZpY2F0aW9uIGluIGZvcm0gb2YgIl9tb2RlbFZhbHVlXyAoYXMgX2xhYmVsXyk/IGZvciBfaXRlbV8gaW4gX2NvbGxlY3Rpb25fIiBidXQgZ290ICInK2MrJyIuJyk7cmV0dXJue2l0ZW1OYW1lOmRbM10sc291cmNlOmEoZFs0XSksdmlld01hcHBlcjphKGRbMl18fGRbMV0pLG1vZGVsTWFwcGVyOmEoZFsxXSl9fX19XSkuZGlyZWN0aXZlKCJ0eXBlYWhlYWQiLFsiJGNvbXBpbGUiLCIkcGFyc2UiLCIkcSIsIiR0aW1lb3V0IiwiJGRvY3VtZW50IiwiJHBvc2l0aW9uIiwidHlwZWFoZWFkUGFyc2VyIixmdW5jdGlvbihhLGIsYyxkLGUsZixnKXt2YXIgaD1bOSwxMywyNywzOCw0MF07cmV0dXJue3JlcXVpcmU6Im5nTW9kZWwiLGxpbms6ZnVuY3Rpb24oaSxqLGssbCl7dmFyIG0sbj1pLiRldmFsKGsudHlwZWFoZWFkTWluTGVuZ3RoKXx8MSxvPWkuJGV2YWwoay50eXBlYWhlYWRXYWl0TXMpfHwwLHA9aS4kZXZhbChrLnR5cGVhaGVhZEVkaXRhYmxlKSE9PSExLHE9YihrLnR5cGVhaGVhZExvYWRpbmcpLmFzc2lnbnx8YW5ndWxhci5ub29wLHI9YihrLnR5cGVhaGVhZE9uU2VsZWN0KSxzPWsudHlwZWFoZWFkSW5wdXRGb3JtYXR0ZXI/YihrLnR5cGVhaGVhZElucHV0Rm9ybWF0dGVyKTp2b2lkIDAsdD1rLnR5cGVhaGVhZEFwcGVuZFRvQm9keT9pLiRldmFsKGsudHlwZWFoZWFkQXBwZW5kVG9Cb2R5KTohMSx1PWIoay5uZ01vZGVsKS5hc3NpZ24sdj1nLnBhcnNlKGsudHlwZWFoZWFkKSx3PWkuJG5ldygpO2kuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXt3LiRkZXN0cm95KCl9KTt2YXIgeD0idHlwZWFoZWFkLSIrdy4kaWQrIi0iK01hdGguZmxvb3IoMWU0Kk1hdGgucmFuZG9tKCkpO2ouYXR0cih7ImFyaWEtYXV0b2NvbXBsZXRlIjoibGlzdCIsImFyaWEtZXhwYW5kZWQiOiExLCJhcmlhLW93bnMiOnh9KTt2YXIgeT1hbmd1bGFyLmVsZW1lbnQoIjxkaXYgdHlwZWFoZWFkLXBvcHVwPjwvZGl2PiIpO3kuYXR0cih7aWQ6eCxtYXRjaGVzOiJtYXRjaGVzIixhY3RpdmU6ImFjdGl2ZUlkeCIsc2VsZWN0OiJzZWxlY3QoYWN0aXZlSWR4KSIscXVlcnk6InF1ZXJ5Iixwb3NpdGlvbjoicG9zaXRpb24ifSksYW5ndWxhci5pc0RlZmluZWQoay50eXBlYWhlYWRUZW1wbGF0ZVVybCkmJnkuYXR0cigidGVtcGxhdGUtdXJsIixrLnR5cGVhaGVhZFRlbXBsYXRlVXJsKTt2YXIgej1mdW5jdGlvbigpe3cubWF0Y2hlcz1bXSx3LmFjdGl2ZUlkeD0tMSxqLmF0dHIoImFyaWEtZXhwYW5kZWQiLCExKX0sQT1mdW5jdGlvbihhKXtyZXR1cm4geCsiLW9wdGlvbi0iK2F9O3cuJHdhdGNoKCJhY3RpdmVJZHgiLGZ1bmN0aW9uKGEpezA+YT9qLnJlbW92ZUF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIpOmouYXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50IixBKGEpKX0pO3ZhciBCPWZ1bmN0aW9uKGEpe3ZhciBiPXskdmlld1ZhbHVlOmF9O3EoaSwhMCksYy53aGVuKHYuc291cmNlKGksYikpLnRoZW4oZnVuY3Rpb24oYyl7dmFyIGQ9YT09PWwuJHZpZXdWYWx1ZTtpZihkJiZtKWlmKGMubGVuZ3RoPjApe3cuYWN0aXZlSWR4PTAsdy5tYXRjaGVzLmxlbmd0aD0wO2Zvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKWJbdi5pdGVtTmFtZV09Y1tlXSx3Lm1hdGNoZXMucHVzaCh7aWQ6QShlKSxsYWJlbDp2LnZpZXdNYXBwZXIodyxiKSxtb2RlbDpjW2VdfSk7dy5xdWVyeT1hLHcucG9zaXRpb249dD9mLm9mZnNldChqKTpmLnBvc2l0aW9uKGopLHcucG9zaXRpb24udG9wPXcucG9zaXRpb24udG9wK2oucHJvcCgib2Zmc2V0SGVpZ2h0Iiksai5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMCl9ZWxzZSB6KCk7ZCYmcShpLCExKX0sZnVuY3Rpb24oKXt6KCkscShpLCExKX0pfTt6KCksdy5xdWVyeT12b2lkIDA7dmFyIEM7bC4kcGFyc2Vycy51bnNoaWZ0KGZ1bmN0aW9uKGEpe3JldHVybiBtPSEwLGEmJmEubGVuZ3RoPj1uP28+MD8oQyYmZC5jYW5jZWwoQyksQz1kKGZ1bmN0aW9uKCl7QihhKX0sbykpOkIoYSk6KHEoaSwhMSkseigpKSxwP2E6YT92b2lkIGwuJHNldFZhbGlkaXR5KCJlZGl0YWJsZSIsITEpOihsLiRzZXRWYWxpZGl0eSgiZWRpdGFibGUiLCEwKSxhKX0pLGwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihhKXt2YXIgYixjLGQ9e307cmV0dXJuIHM/KGQuJG1vZGVsPWEscyhpLGQpKTooZFt2Lml0ZW1OYW1lXT1hLGI9di52aWV3TWFwcGVyKGksZCksZFt2Lml0ZW1OYW1lXT12b2lkIDAsYz12LnZpZXdNYXBwZXIoaSxkKSxiIT09Yz9iOmEpfSksdy5zZWxlY3Q9ZnVuY3Rpb24oYSl7dmFyIGIsYyxlPXt9O2Vbdi5pdGVtTmFtZV09Yz13Lm1hdGNoZXNbYV0ubW9kZWwsYj12Lm1vZGVsTWFwcGVyKGksZSksdShpLGIpLGwuJHNldFZhbGlkaXR5KCJlZGl0YWJsZSIsITApLHIoaSx7JGl0ZW06YywkbW9kZWw6YiwkbGFiZWw6di52aWV3TWFwcGVyKGksZSl9KSx6KCksZChmdW5jdGlvbigpe2pbMF0uZm9jdXMoKX0sMCwhMSl9LGouYmluZCgia2V5ZG93biIsZnVuY3Rpb24oYSl7MCE9PXcubWF0Y2hlcy5sZW5ndGgmJi0xIT09aC5pbmRleE9mKGEud2hpY2gpJiYoYS5wcmV2ZW50RGVmYXVsdCgpLDQwPT09YS53aGljaD8ody5hY3RpdmVJZHg9KHcuYWN0aXZlSWR4KzEpJXcubWF0Y2hlcy5sZW5ndGgsdy4kZGlnZXN0KCkpOjM4PT09YS53aGljaD8ody5hY3RpdmVJZHg9KHcuYWN0aXZlSWR4P3cuYWN0aXZlSWR4OncubWF0Y2hlcy5sZW5ndGgpLTEsdy4kZGlnZXN0KCkpOjEzPT09YS53aGljaHx8OT09PWEud2hpY2g/dy4kYXBwbHkoZnVuY3Rpb24oKXt3LnNlbGVjdCh3LmFjdGl2ZUlkeCl9KToyNz09PWEud2hpY2gmJihhLnN0b3BQcm9wYWdhdGlvbigpLHooKSx3LiRkaWdlc3QoKSkpfSksai5iaW5kKCJibHVyIixmdW5jdGlvbigpe209ITF9KTt2YXIgRD1mdW5jdGlvbihhKXtqWzBdIT09YS50YXJnZXQmJih6KCksdy4kZGlnZXN0KCkpfTtlLmJpbmQoImNsaWNrIixEKSxpLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7ZS51bmJpbmQoImNsaWNrIixEKX0pO3ZhciBFPWEoeSkodyk7dD9lLmZpbmQoImJvZHkiKS5hcHBlbmQoRSk6ai5hZnRlcihFKX19fV0pLmRpcmVjdGl2ZSgidHlwZWFoZWFkUG9wdXAiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsc2NvcGU6e21hdGNoZXM6Ij0iLHF1ZXJ5OiI9IixhY3RpdmU6Ij0iLHBvc2l0aW9uOiI9IixzZWxlY3Q6IiYifSxyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWwiLGxpbms6ZnVuY3Rpb24oYSxiLGMpe2EudGVtcGxhdGVVcmw9Yy50ZW1wbGF0ZVVybCxhLmlzT3Blbj1mdW5jdGlvbigpe3JldHVybiBhLm1hdGNoZXMubGVuZ3RoPjB9LGEuaXNBY3RpdmU9ZnVuY3Rpb24oYil7cmV0dXJuIGEuYWN0aXZlPT1ifSxhLnNlbGVjdEFjdGl2ZT1mdW5jdGlvbihiKXthLmFjdGl2ZT1ifSxhLnNlbGVjdE1hdGNoPWZ1bmN0aW9uKGIpe2Euc2VsZWN0KHthY3RpdmVJZHg6Yn0pfX19fSkuZGlyZWN0aXZlKCJ0eXBlYWhlYWRNYXRjaCIsWyIkaHR0cCIsIiR0ZW1wbGF0ZUNhY2hlIiwiJGNvbXBpbGUiLCIkcGFyc2UiLGZ1bmN0aW9uKGEsYixjLGQpe3JldHVybntyZXN0cmljdDoiRUEiLHNjb3BlOntpbmRleDoiPSIsbWF0Y2g6Ij0iLHF1ZXJ5OiI9In0sbGluazpmdW5jdGlvbihlLGYsZyl7dmFyIGg9ZChnLnRlbXBsYXRlVXJsKShlLiRwYXJlbnQpfHwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1tYXRjaC5odG1sIjthLmdldChoLHtjYWNoZTpifSkuc3VjY2VzcyhmdW5jdGlvbihhKXtmLnJlcGxhY2VXaXRoKGMoYS50cmltKCkpKGUpKX0pfX19XSkuZmlsdGVyKCJ0eXBlYWhlYWRIaWdobGlnaHQiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gYS5yZXBsYWNlKC8oWy4/KiteJFtcXVxcKCl7fXwtXSkvZywiXFwkMSIpfXJldHVybiBmdW5jdGlvbihiLGMpe3JldHVybiBjPygiIitiKS5yZXBsYWNlKG5ldyBSZWdFeHAoYShjKSwiZ2kiKSwiPHN0cm9uZz4kJjwvc3Ryb25nPiIpOmJ9fSk7')
},
{
'name': '/app/bower_components/angular-bootstrap/bower.json', 'data': base64.b64decode('ewogICAgImF1dGhvciI6IHsKICAgICAgICAibmFtZSI6ICJodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci11aS9ib290c3RyYXAvZ3JhcGhzL2NvbnRyaWJ1dG9ycyIKICAgIH0sCiAgICAibmFtZSI6ICJhbmd1bGFyLWJvb3RzdHJhcCIsCiAgICAidmVyc2lvbiI6ICIwLjExLjAiLAogICAgIm1haW4iOiBbIi4vdWktYm9vdHN0cmFwLXRwbHMuanMiXSwKICAgICJkZXBlbmRlbmNpZXMiOiB7CiAgICAgICAgImFuZ3VsYXIiOiAiPj0xIgogICAgfSAgICAKfQo=')
},
{
'name': '/app/bower_components/angular-bootstrap/ui-bootstrap-tpls.js', 'data': base64.b64decode('LyoKICogYW5ndWxhci11aS1ib290c3RyYXAKICogaHR0cDovL2FuZ3VsYXItdWkuZ2l0aHViLmlvL2Jvb3RzdHJhcC8KCiAqIFZlcnNpb246IDAuMTEuMCAtIDIwMTQtMDUtMDEKICogTGljZW5zZTogTUlUCiAqLwphbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwIiwgWyJ1aS5ib290c3RyYXAudHBscyIsICJ1aS5ib290c3RyYXAudHJhbnNpdGlvbiIsInVpLmJvb3RzdHJhcC5jb2xsYXBzZSIsInVpLmJvb3RzdHJhcC5hY2NvcmRpb24iLCJ1aS5ib290c3RyYXAuYWxlcnQiLCJ1aS5ib290c3RyYXAuYmluZEh0bWwiLCJ1aS5ib290c3RyYXAuYnV0dG9ucyIsInVpLmJvb3RzdHJhcC5jYXJvdXNlbCIsInVpLmJvb3RzdHJhcC5kYXRlcGFyc2VyIiwidWkuYm9vdHN0cmFwLnBvc2l0aW9uIiwidWkuYm9vdHN0cmFwLmRhdGVwaWNrZXIiLCJ1aS5ib290c3RyYXAuZHJvcGRvd24iLCJ1aS5ib290c3RyYXAubW9kYWwiLCJ1aS5ib290c3RyYXAucGFnaW5hdGlvbiIsInVpLmJvb3RzdHJhcC50b29sdGlwIiwidWkuYm9vdHN0cmFwLnBvcG92ZXIiLCJ1aS5ib290c3RyYXAucHJvZ3Jlc3NiYXIiLCJ1aS5ib290c3RyYXAucmF0aW5nIiwidWkuYm9vdHN0cmFwLnRhYnMiLCJ1aS5ib290c3RyYXAudGltZXBpY2tlciIsInVpLmJvb3RzdHJhcC50eXBlYWhlYWQiXSk7CmFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAudHBscyIsIFsidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi1ncm91cC5odG1sIiwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sIiwidGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbCIsInRlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWwiLCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sIiwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWwiLCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sIiwidGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sIiwidGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sIiwidGVtcGxhdGUvZGF0ZXBpY2tlci95ZWFyLmh0bWwiLCJ0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sIiwidGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWwiLCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWwiLCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbCIsInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sIiwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXBvcHVwLmh0bWwiLCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbCIsInRlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sIiwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbCIsInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWwiLCJ0ZW1wbGF0ZS9yYXRpbmcvcmF0aW5nLmh0bWwiLCJ0ZW1wbGF0ZS90YWJzL3RhYi5odG1sIiwidGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbCIsInRlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sIiwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1tYXRjaC5odG1sIiwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sIl0pOwphbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnRyYW5zaXRpb24nLCBbXSkKCi8qKgogKiAkdHJhbnNpdGlvbiBzZXJ2aWNlIHByb3ZpZGVzIGEgY29uc2lzdGVudCBpbnRlcmZhY2UgdG8gdHJpZ2dlciBDU1MgMyB0cmFuc2l0aW9ucyBhbmQgdG8gYmUgaW5mb3JtZWQgd2hlbiB0aGV5IGNvbXBsZXRlLgogKiBAcGFyYW0gIHtET01FbGVtZW50fSBlbGVtZW50ICBUaGUgRE9NRWxlbWVudCB0aGF0IHdpbGwgYmUgYW5pbWF0ZWQuCiAqIEBwYXJhbSAge3N0cmluZ3xvYmplY3R8ZnVuY3Rpb259IHRyaWdnZXIgIFRoZSB0aGluZyB0aGF0IHdpbGwgY2F1c2UgdGhlIHRyYW5zaXRpb24gdG8gc3RhcnQ6CiAqICAgLSBBcyBhIHN0cmluZywgaXQgcmVwcmVzZW50cyB0aGUgY3NzIGNsYXNzIHRvIGJlIGFkZGVkIHRvIHRoZSBlbGVtZW50LgogKiAgIC0gQXMgYW4gb2JqZWN0LCBpdCByZXByZXNlbnRzIGEgaGFzaCBvZiBzdHlsZSBhdHRyaWJ1dGVzIHRvIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQuCiAqICAgLSBBcyBhIGZ1bmN0aW9uLCBpdCByZXByZXNlbnRzIGEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHRoYXQgd2lsbCBjYXVzZSB0aGUgdHJhbnNpdGlvbiB0byBvY2N1ci4KICogQHJldHVybiB7UHJvbWlzZX0gIEEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIHRyYW5zaXRpb24gZmluaXNoZXMuCiAqLwouZmFjdG9yeSgnJHRyYW5zaXRpb24nLCBbJyRxJywgJyR0aW1lb3V0JywgJyRyb290U2NvcGUnLCBmdW5jdGlvbigkcSwgJHRpbWVvdXQsICRyb290U2NvcGUpIHsKCiAgdmFyICR0cmFuc2l0aW9uID0gZnVuY3Rpb24oZWxlbWVudCwgdHJpZ2dlciwgb3B0aW9ucykgewogICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpOwogICAgdmFyIGVuZEV2ZW50TmFtZSA9ICR0cmFuc2l0aW9uW29wdGlvbnMuYW5pbWF0aW9uID8gJ2FuaW1hdGlvbkVuZEV2ZW50TmFtZScgOiAndHJhbnNpdGlvbkVuZEV2ZW50TmFtZSddOwoKICAgIHZhciB0cmFuc2l0aW9uRW5kSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkgewogICAgICAgIGVsZW1lbnQudW5iaW5kKGVuZEV2ZW50TmFtZSwgdHJhbnNpdGlvbkVuZEhhbmRsZXIpOwogICAgICAgIGRlZmVycmVkLnJlc29sdmUoZWxlbWVudCk7CiAgICAgIH0pOwogICAgfTsKCiAgICBpZiAoZW5kRXZlbnROYW1lKSB7CiAgICAgIGVsZW1lbnQuYmluZChlbmRFdmVudE5hbWUsIHRyYW5zaXRpb25FbmRIYW5kbGVyKTsKICAgIH0KCiAgICAvLyBXcmFwIGluIGEgdGltZW91dCB0byBhbGxvdyB0aGUgYnJvd3NlciB0aW1lIHRvIHVwZGF0ZSB0aGUgRE9NIGJlZm9yZSB0aGUgdHJhbnNpdGlvbiBpcyB0byBvY2N1cgogICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgIGlmICggYW5ndWxhci5pc1N0cmluZyh0cmlnZ2VyKSApIHsKICAgICAgICBlbGVtZW50LmFkZENsYXNzKHRyaWdnZXIpOwogICAgICB9IGVsc2UgaWYgKCBhbmd1bGFyLmlzRnVuY3Rpb24odHJpZ2dlcikgKSB7CiAgICAgICAgdHJpZ2dlcihlbGVtZW50KTsKICAgICAgfSBlbHNlIGlmICggYW5ndWxhci5pc09iamVjdCh0cmlnZ2VyKSApIHsKICAgICAgICBlbGVtZW50LmNzcyh0cmlnZ2VyKTsKICAgICAgfQogICAgICAvL0lmIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0cmFuc2l0aW9ucywgaW5zdGFudGx5IHJlc29sdmUKICAgICAgaWYgKCAhZW5kRXZlbnROYW1lICkgewogICAgICAgIGRlZmVycmVkLnJlc29sdmUoZWxlbWVudCk7CiAgICAgIH0KICAgIH0pOwoKICAgIC8vIEFkZCBvdXIgY3VzdG9tIGNhbmNlbCBmdW5jdGlvbiB0byB0aGUgcHJvbWlzZSB0aGF0IGlzIHJldHVybmVkCiAgICAvLyBXZSBjYW4gY2FsbCB0aGlzIGlmIHdlIGFyZSBhYm91dCB0byBydW4gYSBuZXcgdHJhbnNpdGlvbiwgd2hpY2ggd2Uga25vdyB3aWxsIHByZXZlbnQgdGhpcyB0cmFuc2l0aW9uIGZyb20gZW5kaW5nLAogICAgLy8gaS5lLiBpdCB3aWxsIHRoZXJlZm9yZSBuZXZlciByYWlzZSBhIHRyYW5zaXRpb25FbmQgZXZlbnQgZm9yIHRoYXQgdHJhbnNpdGlvbgogICAgZGVmZXJyZWQucHJvbWlzZS5jYW5jZWwgPSBmdW5jdGlvbigpIHsKICAgICAgaWYgKCBlbmRFdmVudE5hbWUgKSB7CiAgICAgICAgZWxlbWVudC51bmJpbmQoZW5kRXZlbnROYW1lLCB0cmFuc2l0aW9uRW5kSGFuZGxlcik7CiAgICAgIH0KICAgICAgZGVmZXJyZWQucmVqZWN0KCdUcmFuc2l0aW9uIGNhbmNlbGxlZCcpOwogICAgfTsKCiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTsKICB9OwoKICAvLyBXb3JrIG91dCB0aGUgbmFtZSBvZiB0aGUgdHJhbnNpdGlvbkVuZCBldmVudAogIHZhciB0cmFuc0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cmFucycpOwogIHZhciB0cmFuc2l0aW9uRW5kRXZlbnROYW1lcyA9IHsKICAgICdXZWJraXRUcmFuc2l0aW9uJzogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLAogICAgJ01velRyYW5zaXRpb24nOiAndHJhbnNpdGlvbmVuZCcsCiAgICAnT1RyYW5zaXRpb24nOiAnb1RyYW5zaXRpb25FbmQnLAogICAgJ3RyYW5zaXRpb24nOiAndHJhbnNpdGlvbmVuZCcKICB9OwogIHZhciBhbmltYXRpb25FbmRFdmVudE5hbWVzID0gewogICAgJ1dlYmtpdFRyYW5zaXRpb24nOiAnd2Via2l0QW5pbWF0aW9uRW5kJywKICAgICdNb3pUcmFuc2l0aW9uJzogJ2FuaW1hdGlvbmVuZCcsCiAgICAnT1RyYW5zaXRpb24nOiAnb0FuaW1hdGlvbkVuZCcsCiAgICAndHJhbnNpdGlvbic6ICdhbmltYXRpb25lbmQnCiAgfTsKICBmdW5jdGlvbiBmaW5kRW5kRXZlbnROYW1lKGVuZEV2ZW50TmFtZXMpIHsKICAgIGZvciAodmFyIG5hbWUgaW4gZW5kRXZlbnROYW1lcyl7CiAgICAgIGlmICh0cmFuc0VsZW1lbnQuc3R5bGVbbmFtZV0gIT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiBlbmRFdmVudE5hbWVzW25hbWVdOwogICAgICB9CiAgICB9CiAgfQogICR0cmFuc2l0aW9uLnRyYW5zaXRpb25FbmRFdmVudE5hbWUgPSBmaW5kRW5kRXZlbnROYW1lKHRyYW5zaXRpb25FbmRFdmVudE5hbWVzKTsKICAkdHJhbnNpdGlvbi5hbmltYXRpb25FbmRFdmVudE5hbWUgPSBmaW5kRW5kRXZlbnROYW1lKGFuaW1hdGlvbkVuZEV2ZW50TmFtZXMpOwogIHJldHVybiAkdHJhbnNpdGlvbjsKfV0pOwoKYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5jb2xsYXBzZScsIFsndWkuYm9vdHN0cmFwLnRyYW5zaXRpb24nXSkKCiAgLmRpcmVjdGl2ZSgnY29sbGFwc2UnLCBbJyR0cmFuc2l0aW9uJywgZnVuY3Rpb24gKCR0cmFuc2l0aW9uKSB7CgogICAgcmV0dXJuIHsKICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykgewoKICAgICAgICB2YXIgaW5pdGlhbEFuaW1Ta2lwID0gdHJ1ZTsKICAgICAgICB2YXIgY3VycmVudFRyYW5zaXRpb247CgogICAgICAgIGZ1bmN0aW9uIGRvVHJhbnNpdGlvbihjaGFuZ2UpIHsKICAgICAgICAgIHZhciBuZXdUcmFuc2l0aW9uID0gJHRyYW5zaXRpb24oZWxlbWVudCwgY2hhbmdlKTsKICAgICAgICAgIGlmIChjdXJyZW50VHJhbnNpdGlvbikgewogICAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbi5jYW5jZWwoKTsKICAgICAgICAgIH0KICAgICAgICAgIGN1cnJlbnRUcmFuc2l0aW9uID0gbmV3VHJhbnNpdGlvbjsKICAgICAgICAgIG5ld1RyYW5zaXRpb24udGhlbihuZXdUcmFuc2l0aW9uRG9uZSwgbmV3VHJhbnNpdGlvbkRvbmUpOwogICAgICAgICAgcmV0dXJuIG5ld1RyYW5zaXRpb247CgogICAgICAgICAgZnVuY3Rpb24gbmV3VHJhbnNpdGlvbkRvbmUoKSB7CiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBpdCdzIHRoaXMgdHJhbnNpdGlvbiwgb3RoZXJ3aXNlLCBsZWF2ZSBpdCBhbG9uZS4KICAgICAgICAgICAgaWYgKGN1cnJlbnRUcmFuc2l0aW9uID09PSBuZXdUcmFuc2l0aW9uKSB7CiAgICAgICAgICAgICAgY3VycmVudFRyYW5zaXRpb24gPSB1bmRlZmluZWQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGV4cGFuZCgpIHsKICAgICAgICAgIGlmIChpbml0aWFsQW5pbVNraXApIHsKICAgICAgICAgICAgaW5pdGlhbEFuaW1Ta2lwID0gZmFsc2U7CiAgICAgICAgICAgIGV4cGFuZERvbmUoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJykuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKTsKICAgICAgICAgICAgZG9UcmFuc2l0aW9uKHsgaGVpZ2h0OiBlbGVtZW50WzBdLnNjcm9sbEhlaWdodCArICdweCcgfSkudGhlbihleHBhbmREb25lKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGV4cGFuZERvbmUoKSB7CiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJyk7CiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdjb2xsYXBzZSBpbicpOwogICAgICAgICAgZWxlbWVudC5jc3Moe2hlaWdodDogJ2F1dG8nfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBjb2xsYXBzZSgpIHsKICAgICAgICAgIGlmIChpbml0aWFsQW5pbVNraXApIHsKICAgICAgICAgICAgaW5pdGlhbEFuaW1Ta2lwID0gZmFsc2U7CiAgICAgICAgICAgIGNvbGxhcHNlRG9uZSgpOwogICAgICAgICAgICBlbGVtZW50LmNzcyh7aGVpZ2h0OiAwfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBDU1MgdHJhbnNpdGlvbnMgZG9uJ3Qgd29yayB3aXRoIGhlaWdodDogYXV0bywgc28gd2UgaGF2ZSB0byBtYW51YWxseSBjaGFuZ2UgdGhlIGhlaWdodCB0byBhIHNwZWNpZmljIHZhbHVlCiAgICAgICAgICAgIGVsZW1lbnQuY3NzKHsgaGVpZ2h0OiBlbGVtZW50WzBdLnNjcm9sbEhlaWdodCArICdweCcgfSk7CiAgICAgICAgICAgIC8vdHJpZ2dlciByZWZsb3cgc28gYSBicm93c2VyIHJlYWxpemVzIHRoYXQgaGVpZ2h0IHdhcyB1cGRhdGVkIGZyb20gYXV0byB0byBhIHNwZWNpZmljIHZhbHVlCiAgICAgICAgICAgIHZhciB4ID0gZWxlbWVudFswXS5vZmZzZXRXaWR0aDsKCiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlIGluJykuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKTsKCiAgICAgICAgICAgIGRvVHJhbnNpdGlvbih7IGhlaWdodDogMCB9KS50aGVuKGNvbGxhcHNlRG9uZSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBjb2xsYXBzZURvbmUoKSB7CiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJyk7CiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdjb2xsYXBzZScpOwogICAgICAgIH0KCiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJzLmNvbGxhcHNlLCBmdW5jdGlvbiAoc2hvdWxkQ29sbGFwc2UpIHsKICAgICAgICAgIGlmIChzaG91bGRDb2xsYXBzZSkgewogICAgICAgICAgICBjb2xsYXBzZSgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZXhwYW5kKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CiAgfV0pOwoKYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5hY2NvcmRpb24nLCBbJ3VpLmJvb3RzdHJhcC5jb2xsYXBzZSddKQoKLmNvbnN0YW50KCdhY2NvcmRpb25Db25maWcnLCB7CiAgY2xvc2VPdGhlcnM6IHRydWUKfSkKCi5jb250cm9sbGVyKCdBY2NvcmRpb25Db250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJ2FjY29yZGlvbkNvbmZpZycsIGZ1bmN0aW9uICgkc2NvcGUsICRhdHRycywgYWNjb3JkaW9uQ29uZmlnKSB7CgogIC8vIFRoaXMgYXJyYXkga2VlcHMgdHJhY2sgb2YgdGhlIGFjY29yZGlvbiBncm91cHMKICB0aGlzLmdyb3VwcyA9IFtdOwoKICAvLyBFbnN1cmUgdGhhdCBhbGwgdGhlIGdyb3VwcyBpbiB0aGlzIGFjY29yZGlvbiBhcmUgY2xvc2VkLCB1bmxlc3MgY2xvc2Utb3RoZXJzIGV4cGxpY2l0bHkgc2F5cyBub3QgdG8KICB0aGlzLmNsb3NlT3RoZXJzID0gZnVuY3Rpb24ob3Blbkdyb3VwKSB7CiAgICB2YXIgY2xvc2VPdGhlcnMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuY2xvc2VPdGhlcnMpID8gJHNjb3BlLiRldmFsKCRhdHRycy5jbG9zZU90aGVycykgOiBhY2NvcmRpb25Db25maWcuY2xvc2VPdGhlcnM7CiAgICBpZiAoIGNsb3NlT3RoZXJzICkgewogICAgICBhbmd1bGFyLmZvckVhY2godGhpcy5ncm91cHMsIGZ1bmN0aW9uIChncm91cCkgewogICAgICAgIGlmICggZ3JvdXAgIT09IG9wZW5Hcm91cCApIHsKICAgICAgICAgIGdyb3VwLmlzT3BlbiA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfTsKCiAgLy8gVGhpcyBpcyBjYWxsZWQgZnJvbSB0aGUgYWNjb3JkaW9uLWdyb3VwIGRpcmVjdGl2ZSB0byBhZGQgaXRzZWxmIHRvIHRoZSBhY2NvcmRpb24KICB0aGlzLmFkZEdyb3VwID0gZnVuY3Rpb24oZ3JvdXBTY29wZSkgewogICAgdmFyIHRoYXQgPSB0aGlzOwogICAgdGhpcy5ncm91cHMucHVzaChncm91cFNjb3BlKTsKCiAgICBncm91cFNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgdGhhdC5yZW1vdmVHcm91cChncm91cFNjb3BlKTsKICAgIH0pOwogIH07CgogIC8vIFRoaXMgaXMgY2FsbGVkIGZyb20gdGhlIGFjY29yZGlvbi1ncm91cCBkaXJlY3RpdmUgd2hlbiB0byByZW1vdmUgaXRzZWxmCiAgdGhpcy5yZW1vdmVHcm91cCA9IGZ1bmN0aW9uKGdyb3VwKSB7CiAgICB2YXIgaW5kZXggPSB0aGlzLmdyb3Vwcy5pbmRleE9mKGdyb3VwKTsKICAgIGlmICggaW5kZXggIT09IC0xICkgewogICAgICB0aGlzLmdyb3Vwcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgfQogIH07Cgp9XSkKCi8vIFRoZSBhY2NvcmRpb24gZGlyZWN0aXZlIHNpbXBseSBzZXRzIHVwIHRoZSBkaXJlY3RpdmUgY29udHJvbGxlcgovLyBhbmQgYWRkcyBhbiBhY2NvcmRpb24gQ1NTIGNsYXNzIHRvIGl0c2VsZiBlbGVtZW50LgouZGlyZWN0aXZlKCdhY2NvcmRpb24nLCBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHsKICAgIHJlc3RyaWN0OidFQScsCiAgICBjb250cm9sbGVyOidBY2NvcmRpb25Db250cm9sbGVyJywKICAgIHRyYW5zY2x1ZGU6IHRydWUsCiAgICByZXBsYWNlOiBmYWxzZSwKICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sJwogIH07Cn0pCgovLyBUaGUgYWNjb3JkaW9uLWdyb3VwIGRpcmVjdGl2ZSBpbmRpY2F0ZXMgYSBibG9jayBvZiBodG1sIHRoYXQgd2lsbCBleHBhbmQgYW5kIGNvbGxhcHNlIGluIGFuIGFjY29yZGlvbgouZGlyZWN0aXZlKCdhY2NvcmRpb25Hcm91cCcsIGZ1bmN0aW9uKCkgewogIHJldHVybiB7CiAgICByZXF1aXJlOideYWNjb3JkaW9uJywgICAgICAgICAvLyBXZSBuZWVkIHRoaXMgZGlyZWN0aXZlIHRvIGJlIGluc2lkZSBhbiBhY2NvcmRpb24KICAgIHJlc3RyaWN0OidFQScsCiAgICB0cmFuc2NsdWRlOnRydWUsICAgICAgICAgICAgICAvLyBJdCB0cmFuc2NsdWRlcyB0aGUgY29udGVudHMgb2YgdGhlIGRpcmVjdGl2ZSBpbnRvIHRoZSB0ZW1wbGF0ZQogICAgcmVwbGFjZTogdHJ1ZSwgICAgICAgICAgICAgICAgLy8gVGhlIGVsZW1lbnQgY29udGFpbmluZyB0aGUgZGlyZWN0aXZlIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgdGVtcGxhdGUKICAgIHRlbXBsYXRlVXJsOid0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWwnLAogICAgc2NvcGU6IHsKICAgICAgaGVhZGluZzogJ0AnLCAgICAgICAgICAgICAgIC8vIEludGVycG9sYXRlIHRoZSBoZWFkaW5nIGF0dHJpYnV0ZSBvbnRvIHRoaXMgc2NvcGUKICAgICAgaXNPcGVuOiAnPT8nLAogICAgICBpc0Rpc2FibGVkOiAnPT8nCiAgICB9LAogICAgY29udHJvbGxlcjogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMuc2V0SGVhZGluZyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICB0aGlzLmhlYWRpbmcgPSBlbGVtZW50OwogICAgICB9OwogICAgfSwKICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgYWNjb3JkaW9uQ3RybCkgewogICAgICBhY2NvcmRpb25DdHJsLmFkZEdyb3VwKHNjb3BlKTsKCiAgICAgIHNjb3BlLiR3YXRjaCgnaXNPcGVuJywgZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICBpZiAoIHZhbHVlICkgewogICAgICAgICAgYWNjb3JkaW9uQ3RybC5jbG9zZU90aGVycyhzY29wZSk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIHNjb3BlLnRvZ2dsZU9wZW4gPSBmdW5jdGlvbigpIHsKICAgICAgICBpZiAoICFzY29wZS5pc0Rpc2FibGVkICkgewogICAgICAgICAgc2NvcGUuaXNPcGVuID0gIXNjb3BlLmlzT3BlbjsKICAgICAgICB9CiAgICAgIH07CiAgICB9CiAgfTsKfSkKCi8vIFVzZSBhY2NvcmRpb24taGVhZGluZyBiZWxvdyBhbiBhY2NvcmRpb24tZ3JvdXAgdG8gcHJvdmlkZSBhIGhlYWRpbmcgY29udGFpbmluZyBIVE1MCi8vIDxhY2NvcmRpb24tZ3JvdXA+Ci8vICAgPGFjY29yZGlvbi1oZWFkaW5nPkhlYWRpbmcgY29udGFpbmluZyBIVE1MIC0gPGltZyBzcmM9Ii4uLiI+PC9hY2NvcmRpb24taGVhZGluZz4KLy8gPC9hY2NvcmRpb24tZ3JvdXA+Ci5kaXJlY3RpdmUoJ2FjY29yZGlvbkhlYWRpbmcnLCBmdW5jdGlvbigpIHsKICByZXR1cm4gewogICAgcmVzdHJpY3Q6ICdFQScsCiAgICB0cmFuc2NsdWRlOiB0cnVlLCAgIC8vIEdyYWIgdGhlIGNvbnRlbnRzIHRvIGJlIHVzZWQgYXMgdGhlIGhlYWRpbmcKICAgIHRlbXBsYXRlOiAnJywgICAgICAgLy8gSW4gZWZmZWN0IHJlbW92ZSB0aGlzIGVsZW1lbnQhCiAgICByZXBsYWNlOiB0cnVlLAogICAgcmVxdWlyZTogJ15hY2NvcmRpb25Hcm91cCcsCiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgYWNjb3JkaW9uR3JvdXBDdHJsLCB0cmFuc2NsdWRlKSB7CiAgICAgIC8vIFBhc3MgdGhlIGhlYWRpbmcgdG8gdGhlIGFjY29yZGlvbi1ncm91cCBjb250cm9sbGVyCiAgICAgIC8vIHNvIHRoYXQgaXQgY2FuIGJlIHRyYW5zY2x1ZGVkIGludG8gdGhlIHJpZ2h0IHBsYWNlIGluIHRoZSB0ZW1wbGF0ZQogICAgICAvLyBbVGhlIHNlY29uZCBwYXJhbWV0ZXIgdG8gdHJhbnNjbHVkZSBjYXVzZXMgdGhlIGVsZW1lbnRzIHRvIGJlIGNsb25lZCBzbyB0aGF0IHRoZXkgd29yayBpbiBuZy1yZXBlYXRdCiAgICAgIGFjY29yZGlvbkdyb3VwQ3RybC5zZXRIZWFkaW5nKHRyYW5zY2x1ZGUoc2NvcGUsIGZ1bmN0aW9uKCkge30pKTsKICAgIH0KICB9Owp9KQoKLy8gVXNlIGluIHRoZSBhY2NvcmRpb24tZ3JvdXAgdGVtcGxhdGUgdG8gaW5kaWNhdGUgd2hlcmUgeW91IHdhbnQgdGhlIGhlYWRpbmcgdG8gYmUgdHJhbnNjbHVkZWQKLy8gWW91IG11c3QgcHJvdmlkZSB0aGUgcHJvcGVydHkgb24gdGhlIGFjY29yZGlvbi1ncm91cCBjb250cm9sbGVyIHRoYXQgd2lsbCBob2xkIHRoZSB0cmFuc2NsdWRlZCBlbGVtZW50Ci8vIDxkaXYgY2xhc3M9ImFjY29yZGlvbi1ncm91cCI+Ci8vICAgPGRpdiBjbGFzcz0iYWNjb3JkaW9uLWhlYWRpbmciID48YSAuLi4gYWNjb3JkaW9uLXRyYW5zY2x1ZGU9ImhlYWRpbmciPi4uLjwvYT48L2Rpdj4KLy8gICAuLi4KLy8gPC9kaXY+Ci5kaXJlY3RpdmUoJ2FjY29yZGlvblRyYW5zY2x1ZGUnLCBmdW5jdGlvbigpIHsKICByZXR1cm4gewogICAgcmVxdWlyZTogJ15hY2NvcmRpb25Hcm91cCcsCiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgY29udHJvbGxlcikgewogICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7IHJldHVybiBjb250cm9sbGVyW2F0dHIuYWNjb3JkaW9uVHJhbnNjbHVkZV07IH0sIGZ1bmN0aW9uKGhlYWRpbmcpIHsKICAgICAgICBpZiAoIGhlYWRpbmcgKSB7CiAgICAgICAgICBlbGVtZW50Lmh0bWwoJycpOwogICAgICAgICAgZWxlbWVudC5hcHBlbmQoaGVhZGluZyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Owp9KTsKCmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuYWxlcnQnLCBbXSkKCi5jb250cm9sbGVyKCdBbGVydENvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCBmdW5jdGlvbiAoJHNjb3BlLCAkYXR0cnMpIHsKICAkc2NvcGUuY2xvc2VhYmxlID0gJ2Nsb3NlJyBpbiAkYXR0cnM7Cn1dKQoKLmRpcmVjdGl2ZSgnYWxlcnQnLCBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHsKICAgIHJlc3RyaWN0OidFQScsCiAgICBjb250cm9sbGVyOidBbGVydENvbnRyb2xsZXInLAogICAgdGVtcGxhdGVVcmw6J3RlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWwnLAogICAgdHJhbnNjbHVkZTp0cnVlLAogICAgcmVwbGFjZTp0cnVlLAogICAgc2NvcGU6IHsKICAgICAgdHlwZTogJ0AnLAogICAgICBjbG9zZTogJyYnCiAgICB9CiAgfTsKfSk7Cgphbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmJpbmRIdG1sJywgW10pCgogIC5kaXJlY3RpdmUoJ2JpbmRIdG1sVW5zYWZlJywgZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cikgewogICAgICBlbGVtZW50LmFkZENsYXNzKCduZy1iaW5kaW5nJykuZGF0YSgnJGJpbmRpbmcnLCBhdHRyLmJpbmRIdG1sVW5zYWZlKTsKICAgICAgc2NvcGUuJHdhdGNoKGF0dHIuYmluZEh0bWxVbnNhZmUsIGZ1bmN0aW9uIGJpbmRIdG1sVW5zYWZlV2F0Y2hBY3Rpb24odmFsdWUpIHsKICAgICAgICBlbGVtZW50Lmh0bWwodmFsdWUgfHwgJycpOwogICAgICB9KTsKICAgIH07CiAgfSk7CmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuYnV0dG9ucycsIFtdKQoKLmNvbnN0YW50KCdidXR0b25Db25maWcnLCB7CiAgYWN0aXZlQ2xhc3M6ICdhY3RpdmUnLAogIHRvZ2dsZUV2ZW50OiAnY2xpY2snCn0pCgouY29udHJvbGxlcignQnV0dG9uc0NvbnRyb2xsZXInLCBbJ2J1dHRvbkNvbmZpZycsIGZ1bmN0aW9uKGJ1dHRvbkNvbmZpZykgewogIHRoaXMuYWN0aXZlQ2xhc3MgPSBidXR0b25Db25maWcuYWN0aXZlQ2xhc3MgfHwgJ2FjdGl2ZSc7CiAgdGhpcy50b2dnbGVFdmVudCA9IGJ1dHRvbkNvbmZpZy50b2dnbGVFdmVudCB8fCAnY2xpY2snOwp9XSkKCi5kaXJlY3RpdmUoJ2J0blJhZGlvJywgZnVuY3Rpb24gKCkgewogIHJldHVybiB7CiAgICByZXF1aXJlOiBbJ2J0blJhZGlvJywgJ25nTW9kZWwnXSwKICAgIGNvbnRyb2xsZXI6ICdCdXR0b25zQ29udHJvbGxlcicsCiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykgewogICAgICB2YXIgYnV0dG9uc0N0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTsKCiAgICAgIC8vbW9kZWwgLT4gVUkKICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBlbGVtZW50LnRvZ2dsZUNsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzLCBhbmd1bGFyLmVxdWFscyhuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSwgc2NvcGUuJGV2YWwoYXR0cnMuYnRuUmFkaW8pKSk7CiAgICAgIH07CgogICAgICAvL3VpLT5tb2RlbAogICAgICBlbGVtZW50LmJpbmQoYnV0dG9uc0N0cmwudG9nZ2xlRXZlbnQsIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgaXNBY3RpdmUgPSBlbGVtZW50Lmhhc0NsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzKTsKCiAgICAgICAgaWYgKCFpc0FjdGl2ZSB8fCBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy51bmNoZWNrYWJsZSkpIHsKICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoaXNBY3RpdmUgPyBudWxsIDogc2NvcGUuJGV2YWwoYXR0cnMuYnRuUmFkaW8pKTsKICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Owp9KQoKLmRpcmVjdGl2ZSgnYnRuQ2hlY2tib3gnLCBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHsKICAgIHJlcXVpcmU6IFsnYnRuQ2hlY2tib3gnLCAnbmdNb2RlbCddLAogICAgY29udHJvbGxlcjogJ0J1dHRvbnNDb250cm9sbGVyJywKICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7CiAgICAgIHZhciBidXR0b25zQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdOwoKICAgICAgZnVuY3Rpb24gZ2V0VHJ1ZVZhbHVlKCkgewogICAgICAgIHJldHVybiBnZXRDaGVja2JveFZhbHVlKGF0dHJzLmJ0bkNoZWNrYm94VHJ1ZSwgdHJ1ZSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGdldEZhbHNlVmFsdWUoKSB7CiAgICAgICAgcmV0dXJuIGdldENoZWNrYm94VmFsdWUoYXR0cnMuYnRuQ2hlY2tib3hGYWxzZSwgZmFsc2UpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBnZXRDaGVja2JveFZhbHVlKGF0dHJpYnV0ZVZhbHVlLCBkZWZhdWx0VmFsdWUpIHsKICAgICAgICB2YXIgdmFsID0gc2NvcGUuJGV2YWwoYXR0cmlidXRlVmFsdWUpOwogICAgICAgIHJldHVybiBhbmd1bGFyLmlzRGVmaW5lZCh2YWwpID8gdmFsIDogZGVmYXVsdFZhbHVlOwogICAgICB9CgogICAgICAvL21vZGVsIC0+IFVJCiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZWxlbWVudC50b2dnbGVDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcywgYW5ndWxhci5lcXVhbHMobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUsIGdldFRydWVWYWx1ZSgpKSk7CiAgICAgIH07CgogICAgICAvL3VpLT5tb2RlbAogICAgICBlbGVtZW50LmJpbmQoYnV0dG9uc0N0cmwudG9nZ2xlRXZlbnQsIGZ1bmN0aW9uICgpIHsKICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShlbGVtZW50Lmhhc0NsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzKSA/IGdldEZhbHNlVmFsdWUoKSA6IGdldFRydWVWYWx1ZSgpKTsKICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfTsKfSk7CgovKioKKiBAbmdkb2Mgb3ZlcnZpZXcKKiBAbmFtZSB1aS5ib290c3RyYXAuY2Fyb3VzZWwKKgoqIEBkZXNjcmlwdGlvbgoqIEFuZ3VsYXJKUyB2ZXJzaW9uIG9mIGFuIGltYWdlIGNhcm91c2VsLgoqCiovCmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuY2Fyb3VzZWwnLCBbJ3VpLmJvb3RzdHJhcC50cmFuc2l0aW9uJ10pCi5jb250cm9sbGVyKCdDYXJvdXNlbENvbnRyb2xsZXInLCBbJyRzY29wZScsICckdGltZW91dCcsICckdHJhbnNpdGlvbicsIGZ1bmN0aW9uICgkc2NvcGUsICR0aW1lb3V0LCAkdHJhbnNpdGlvbikgewogIHZhciBzZWxmID0gdGhpcywKICAgIHNsaWRlcyA9IHNlbGYuc2xpZGVzID0gJHNjb3BlLnNsaWRlcyA9IFtdLAogICAgY3VycmVudEluZGV4ID0gLTEsCiAgICBjdXJyZW50VGltZW91dCwgaXNQbGF5aW5nOwogIHNlbGYuY3VycmVudFNsaWRlID0gbnVsbDsKCiAgdmFyIGRlc3Ryb3llZCA9IGZhbHNlOwogIC8qIGRpcmVjdGlvbjogInByZXYiIG9yICJuZXh0IiAqLwogIHNlbGYuc2VsZWN0ID0gJHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKG5leHRTbGlkZSwgZGlyZWN0aW9uKSB7CiAgICB2YXIgbmV4dEluZGV4ID0gc2xpZGVzLmluZGV4T2YobmV4dFNsaWRlKTsKICAgIC8vRGVjaWRlIGRpcmVjdGlvbiBpZiBpdCdzIG5vdCBnaXZlbgogICAgaWYgKGRpcmVjdGlvbiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGRpcmVjdGlvbiA9IG5leHRJbmRleCA+IGN1cnJlbnRJbmRleCA/ICduZXh0JyA6ICdwcmV2JzsKICAgIH0KICAgIGlmIChuZXh0U2xpZGUgJiYgbmV4dFNsaWRlICE9PSBzZWxmLmN1cnJlbnRTbGlkZSkgewogICAgICBpZiAoJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbikgewogICAgICAgICRzY29wZS4kY3VycmVudFRyYW5zaXRpb24uY2FuY2VsKCk7CiAgICAgICAgLy9UaW1lb3V0IHNvIG5nLWNsYXNzIGluIHRlbXBsYXRlIGhhcyB0aW1lIHRvIGZpeCBjbGFzc2VzIGZvciBmaW5pc2hlZCBzbGlkZQogICAgICAgICR0aW1lb3V0KGdvTmV4dCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZ29OZXh0KCk7CiAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIGdvTmV4dCgpIHsKICAgICAgLy8gU2NvcGUgaGFzIGJlZW4gZGVzdHJveWVkLCBzdG9wIGhlcmUuCiAgICAgIGlmIChkZXN0cm95ZWQpIHsgcmV0dXJuOyB9CiAgICAgIC8vSWYgd2UgaGF2ZSBhIHNsaWRlIHRvIHRyYW5zaXRpb24gZnJvbSBhbmQgd2UgaGF2ZSBhIHRyYW5zaXRpb24gdHlwZSBhbmQgd2UncmUgYWxsb3dlZCwgZ28KICAgICAgaWYgKHNlbGYuY3VycmVudFNsaWRlICYmIGFuZ3VsYXIuaXNTdHJpbmcoZGlyZWN0aW9uKSAmJiAhJHNjb3BlLm5vVHJhbnNpdGlvbiAmJiBuZXh0U2xpZGUuJGVsZW1lbnQpIHsKICAgICAgICAvL1dlIHNob3VsZG4ndCBkbyBjbGFzcyBtYW5pcCBpbiBoZXJlLCBidXQgaXQncyB0aGUgc2FtZSB3ZWlyZCB0aGluZyBib290c3RyYXAgZG9lcy4gbmVlZCB0byBmaXggc29tZXRpbWUKICAgICAgICBuZXh0U2xpZGUuJGVsZW1lbnQuYWRkQ2xhc3MoZGlyZWN0aW9uKTsKICAgICAgICB2YXIgcmVmbG93ID0gbmV4dFNsaWRlLiRlbGVtZW50WzBdLm9mZnNldFdpZHRoOyAvL2ZvcmNlIHJlZmxvdwoKICAgICAgICAvL1NldCBhbGwgb3RoZXIgc2xpZGVzIHRvIHN0b3AgZG9pbmcgdGhlaXIgc3R1ZmYgZm9yIHRoZSBuZXcgdHJhbnNpdGlvbgogICAgICAgIGFuZ3VsYXIuZm9yRWFjaChzbGlkZXMsIGZ1bmN0aW9uKHNsaWRlKSB7CiAgICAgICAgICBhbmd1bGFyLmV4dGVuZChzbGlkZSwge2RpcmVjdGlvbjogJycsIGVudGVyaW5nOiBmYWxzZSwgbGVhdmluZzogZmFsc2UsIGFjdGl2ZTogZmFsc2V9KTsKICAgICAgICB9KTsKICAgICAgICBhbmd1bGFyLmV4dGVuZChuZXh0U2xpZGUsIHtkaXJlY3Rpb246IGRpcmVjdGlvbiwgYWN0aXZlOiB0cnVlLCBlbnRlcmluZzogdHJ1ZX0pOwogICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHNlbGYuY3VycmVudFNsaWRlfHx7fSwge2RpcmVjdGlvbjogZGlyZWN0aW9uLCBsZWF2aW5nOiB0cnVlfSk7CgogICAgICAgICRzY29wZS4kY3VycmVudFRyYW5zaXRpb24gPSAkdHJhbnNpdGlvbihuZXh0U2xpZGUuJGVsZW1lbnQsIHt9KTsKICAgICAgICAvL1dlIGhhdmUgdG8gY3JlYXRlIG5ldyBwb2ludGVycyBpbnNpZGUgYSBjbG9zdXJlIHNpbmNlIG5leHQgJiBjdXJyZW50IHdpbGwgY2hhbmdlCiAgICAgICAgKGZ1bmN0aW9uKG5leHQsY3VycmVudCkgewogICAgICAgICAgJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbi50aGVuKAogICAgICAgICAgICBmdW5jdGlvbigpeyB0cmFuc2l0aW9uRG9uZShuZXh0LCBjdXJyZW50KTsgfSwKICAgICAgICAgICAgZnVuY3Rpb24oKXsgdHJhbnNpdGlvbkRvbmUobmV4dCwgY3VycmVudCk7IH0KICAgICAgICAgICk7CiAgICAgICAgfShuZXh0U2xpZGUsIHNlbGYuY3VycmVudFNsaWRlKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdHJhbnNpdGlvbkRvbmUobmV4dFNsaWRlLCBzZWxmLmN1cnJlbnRTbGlkZSk7CiAgICAgIH0KICAgICAgc2VsZi5jdXJyZW50U2xpZGUgPSBuZXh0U2xpZGU7CiAgICAgIGN1cnJlbnRJbmRleCA9IG5leHRJbmRleDsKICAgICAgLy9ldmVyeSB0aW1lIHlvdSBjaGFuZ2Ugc2xpZGVzLCByZXNldCB0aGUgdGltZXIKICAgICAgcmVzdGFydFRpbWVyKCk7CiAgICB9CiAgICBmdW5jdGlvbiB0cmFuc2l0aW9uRG9uZShuZXh0LCBjdXJyZW50KSB7CiAgICAgIGFuZ3VsYXIuZXh0ZW5kKG5leHQsIHtkaXJlY3Rpb246ICcnLCBhY3RpdmU6IHRydWUsIGxlYXZpbmc6IGZhbHNlLCBlbnRlcmluZzogZmFsc2V9KTsKICAgICAgYW5ndWxhci5leHRlbmQoY3VycmVudHx8e30sIHtkaXJlY3Rpb246ICcnLCBhY3RpdmU6IGZhbHNlLCBsZWF2aW5nOiBmYWxzZSwgZW50ZXJpbmc6IGZhbHNlfSk7CiAgICAgICRzY29wZS4kY3VycmVudFRyYW5zaXRpb24gPSBudWxsOwogICAgfQogIH07CiAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoKSB7CiAgICBkZXN0cm95ZWQgPSB0cnVlOwogIH0pOwoKICAvKiBBbGxvdyBvdXRzaWRlIHBlb3BsZSB0byBjYWxsIGluZGV4T2Ygb24gc2xpZGVzIGFycmF5ICovCiAgc2VsZi5pbmRleE9mU2xpZGUgPSBmdW5jdGlvbihzbGlkZSkgewogICAgcmV0dXJuIHNsaWRlcy5pbmRleE9mKHNsaWRlKTsKICB9OwoKICAkc2NvcGUubmV4dCA9IGZ1bmN0aW9uKCkgewogICAgdmFyIG5ld0luZGV4ID0gKGN1cnJlbnRJbmRleCArIDEpICUgc2xpZGVzLmxlbmd0aDsKCiAgICAvL1ByZXZlbnQgdGhpcyB1c2VyLXRyaWdnZXJlZCB0cmFuc2l0aW9uIGZyb20gb2NjdXJyaW5nIGlmIHRoZXJlIGlzIGFscmVhZHkgb25lIGluIHByb2dyZXNzCiAgICBpZiAoISRzY29wZS4kY3VycmVudFRyYW5zaXRpb24pIHsKICAgICAgcmV0dXJuIHNlbGYuc2VsZWN0KHNsaWRlc1tuZXdJbmRleF0sICduZXh0Jyk7CiAgICB9CiAgfTsKCiAgJHNjb3BlLnByZXYgPSBmdW5jdGlvbigpIHsKICAgIHZhciBuZXdJbmRleCA9IGN1cnJlbnRJbmRleCAtIDEgPCAwID8gc2xpZGVzLmxlbmd0aCAtIDEgOiBjdXJyZW50SW5kZXggLSAxOwoKICAgIC8vUHJldmVudCB0aGlzIHVzZXItdHJpZ2dlcmVkIHRyYW5zaXRpb24gZnJvbSBvY2N1cnJpbmcgaWYgdGhlcmUgaXMgYWxyZWFkeSBvbmUgaW4gcHJvZ3Jlc3MKICAgIGlmICghJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbikgewogICAgICByZXR1cm4gc2VsZi5zZWxlY3Qoc2xpZGVzW25ld0luZGV4XSwgJ3ByZXYnKTsKICAgIH0KICB9OwoKICAkc2NvcGUuaXNBY3RpdmUgPSBmdW5jdGlvbihzbGlkZSkgewogICAgIHJldHVybiBzZWxmLmN1cnJlbnRTbGlkZSA9PT0gc2xpZGU7CiAgfTsKCiAgJHNjb3BlLiR3YXRjaCgnaW50ZXJ2YWwnLCByZXN0YXJ0VGltZXIpOwogICRzY29wZS4kb24oJyRkZXN0cm95JywgcmVzZXRUaW1lcik7CgogIGZ1bmN0aW9uIHJlc3RhcnRUaW1lcigpIHsKICAgIHJlc2V0VGltZXIoKTsKICAgIHZhciBpbnRlcnZhbCA9ICskc2NvcGUuaW50ZXJ2YWw7CiAgICBpZiAoIWlzTmFOKGludGVydmFsKSAmJiBpbnRlcnZhbD49MCkgewogICAgICBjdXJyZW50VGltZW91dCA9ICR0aW1lb3V0KHRpbWVyRm4sIGludGVydmFsKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHJlc2V0VGltZXIoKSB7CiAgICBpZiAoY3VycmVudFRpbWVvdXQpIHsKICAgICAgJHRpbWVvdXQuY2FuY2VsKGN1cnJlbnRUaW1lb3V0KTsKICAgICAgY3VycmVudFRpbWVvdXQgPSBudWxsOwogICAgfQogIH0KCiAgZnVuY3Rpb24gdGltZXJGbigpIHsKICAgIGlmIChpc1BsYXlpbmcpIHsKICAgICAgJHNjb3BlLm5leHQoKTsKICAgICAgcmVzdGFydFRpbWVyKCk7CiAgICB9IGVsc2UgewogICAgICAkc2NvcGUucGF1c2UoKTsKICAgIH0KICB9CgogICRzY29wZS5wbGF5ID0gZnVuY3Rpb24oKSB7CiAgICBpZiAoIWlzUGxheWluZykgewogICAgICBpc1BsYXlpbmcgPSB0cnVlOwogICAgICByZXN0YXJ0VGltZXIoKTsKICAgIH0KICB9OwogICRzY29wZS5wYXVzZSA9IGZ1bmN0aW9uKCkgewogICAgaWYgKCEkc2NvcGUubm9QYXVzZSkgewogICAgICBpc1BsYXlpbmcgPSBmYWxzZTsKICAgICAgcmVzZXRUaW1lcigpOwogICAgfQogIH07CgogIHNlbGYuYWRkU2xpZGUgPSBmdW5jdGlvbihzbGlkZSwgZWxlbWVudCkgewogICAgc2xpZGUuJGVsZW1lbnQgPSBlbGVtZW50OwogICAgc2xpZGVzLnB1c2goc2xpZGUpOwogICAgLy9pZiB0aGlzIGlzIHRoZSBmaXJzdCBzbGlkZSBvciB0aGUgc2xpZGUgaXMgc2V0IHRvIGFjdGl2ZSwgc2VsZWN0IGl0CiAgICBpZihzbGlkZXMubGVuZ3RoID09PSAxIHx8IHNsaWRlLmFjdGl2ZSkgewogICAgICBzZWxmLnNlbGVjdChzbGlkZXNbc2xpZGVzLmxlbmd0aC0xXSk7CiAgICAgIGlmIChzbGlkZXMubGVuZ3RoID09IDEpIHsKICAgICAgICAkc2NvcGUucGxheSgpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzbGlkZS5hY3RpdmUgPSBmYWxzZTsKICAgIH0KICB9OwoKICBzZWxmLnJlbW92ZVNsaWRlID0gZnVuY3Rpb24oc2xpZGUpIHsKICAgIC8vZ2V0IHRoZSBpbmRleCBvZiB0aGUgc2xpZGUgaW5zaWRlIHRoZSBjYXJvdXNlbAogICAgdmFyIGluZGV4ID0gc2xpZGVzLmluZGV4T2Yoc2xpZGUpOwogICAgc2xpZGVzLnNwbGljZShpbmRleCwgMSk7CiAgICBpZiAoc2xpZGVzLmxlbmd0aCA+IDAgJiYgc2xpZGUuYWN0aXZlKSB7CiAgICAgIGlmIChpbmRleCA+PSBzbGlkZXMubGVuZ3RoKSB7CiAgICAgICAgc2VsZi5zZWxlY3Qoc2xpZGVzW2luZGV4LTFdKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzZWxmLnNlbGVjdChzbGlkZXNbaW5kZXhdKTsKICAgICAgfQogICAgfSBlbHNlIGlmIChjdXJyZW50SW5kZXggPiBpbmRleCkgewogICAgICBjdXJyZW50SW5kZXgtLTsKICAgIH0KICB9OwoKfV0pCgovKioKICogQG5nZG9jIGRpcmVjdGl2ZQogKiBAbmFtZSB1aS5ib290c3RyYXAuY2Fyb3VzZWwuZGlyZWN0aXZlOmNhcm91c2VsCiAqIEByZXN0cmljdCBFQQogKgogKiBAZGVzY3JpcHRpb24KICogQ2Fyb3VzZWwgaXMgdGhlIG91dGVyIGNvbnRhaW5lciBmb3IgYSBzZXQgb2YgaW1hZ2UgJ3NsaWRlcycgdG8gc2hvd2Nhc2UuCiAqCiAqIEBwYXJhbSB7bnVtYmVyPX0gaW50ZXJ2YWwgVGhlIHRpbWUsIGluIG1pbGxpc2Vjb25kcywgdGhhdCBpdCB3aWxsIHRha2UgdGhlIGNhcm91c2VsIHRvIGdvIHRvIHRoZSBuZXh0IHNsaWRlLgogKiBAcGFyYW0ge2Jvb2xlYW49fSBub1RyYW5zaXRpb24gV2hldGhlciB0byBkaXNhYmxlIHRyYW5zaXRpb25zIG9uIHRoZSBjYXJvdXNlbC4KICogQHBhcmFtIHtib29sZWFuPX0gbm9QYXVzZSBXaGV0aGVyIHRvIGRpc2FibGUgcGF1c2luZyBvbiB0aGUgY2Fyb3VzZWwgKGJ5IGRlZmF1bHQsIHRoZSBjYXJvdXNlbCBpbnRlcnZhbCBwYXVzZXMgb24gaG92ZXIpLgogKgogKiBAZXhhbXBsZQo8ZXhhbXBsZSBtb2R1bGU9InVpLmJvb3RzdHJhcCI+CiAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICA8Y2Fyb3VzZWw+CiAgICAgIDxzbGlkZT4KICAgICAgICA8aW1nIHNyYz0iaHR0cDovL3BsYWNla2l0dGVuLmNvbS8xNTAvMTUwIiBzdHlsZT0ibWFyZ2luOmF1dG87Ij4KICAgICAgICA8ZGl2IGNsYXNzPSJjYXJvdXNlbC1jYXB0aW9uIj4KICAgICAgICAgIDxwPkJlYXV0aWZ1bCE8L3A+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvc2xpZGU+CiAgICAgIDxzbGlkZT4KICAgICAgICA8aW1nIHNyYz0iaHR0cDovL3BsYWNla2l0dGVuLmNvbS8xMDAvMTUwIiBzdHlsZT0ibWFyZ2luOmF1dG87Ij4KICAgICAgICA8ZGl2IGNsYXNzPSJjYXJvdXNlbC1jYXB0aW9uIj4KICAgICAgICAgIDxwPkQnYXd3ITwvcD4KICAgICAgICA8L2Rpdj4KICAgICAgPC9zbGlkZT4KICAgIDwvY2Fyb3VzZWw+CiAgPC9maWxlPgogIDxmaWxlIG5hbWU9ImRlbW8uY3NzIj4KICAgIC5jYXJvdXNlbC1pbmRpY2F0b3JzIHsKICAgICAgdG9wOiBhdXRvOwogICAgICBib3R0b206IDE1cHg7CiAgICB9CiAgPC9maWxlPgo8L2V4YW1wbGU+CiAqLwouZGlyZWN0aXZlKCdjYXJvdXNlbCcsIFtmdW5jdGlvbigpIHsKICByZXR1cm4gewogICAgcmVzdHJpY3Q6ICdFQScsCiAgICB0cmFuc2NsdWRlOiB0cnVlLAogICAgcmVwbGFjZTogdHJ1ZSwKICAgIGNvbnRyb2xsZXI6ICdDYXJvdXNlbENvbnRyb2xsZXInLAogICAgcmVxdWlyZTogJ2Nhcm91c2VsJywKICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbCcsCiAgICBzY29wZTogewogICAgICBpbnRlcnZhbDogJz0nLAogICAgICBub1RyYW5zaXRpb246ICc9JywKICAgICAgbm9QYXVzZTogJz0nCiAgICB9CiAgfTsKfV0pCgovKioKICogQG5nZG9jIGRpcmVjdGl2ZQogKiBAbmFtZSB1aS5ib290c3RyYXAuY2Fyb3VzZWwuZGlyZWN0aXZlOnNsaWRlCiAqIEByZXN0cmljdCBFQQogKgogKiBAZGVzY3JpcHRpb24KICogQ3JlYXRlcyBhIHNsaWRlIGluc2lkZSBhIHtAbGluayB1aS5ib290c3RyYXAuY2Fyb3VzZWwuZGlyZWN0aXZlOmNhcm91c2VsIGNhcm91c2VsfS4gIE11c3QgYmUgcGxhY2VkIGFzIGEgY2hpbGQgb2YgYSBjYXJvdXNlbCBlbGVtZW50LgogKgogKiBAcGFyYW0ge2Jvb2xlYW49fSBhY3RpdmUgTW9kZWwgYmluZGluZywgd2hldGhlciBvciBub3QgdGhpcyBzbGlkZSBpcyBjdXJyZW50bHkgYWN0aXZlLgogKgogKiBAZXhhbXBsZQo8ZXhhbXBsZSBtb2R1bGU9InVpLmJvb3RzdHJhcCI+CiAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CjxkaXYgbmctY29udHJvbGxlcj0iQ2Fyb3VzZWxEZW1vQ3RybCI+CiAgPGNhcm91c2VsPgogICAgPHNsaWRlIG5nLXJlcGVhdD0ic2xpZGUgaW4gc2xpZGVzIiBhY3RpdmU9InNsaWRlLmFjdGl2ZSI+CiAgICAgIDxpbWcgbmctc3JjPSJ7e3NsaWRlLmltYWdlfX0iIHN0eWxlPSJtYXJnaW46YXV0bzsiPgogICAgICA8ZGl2IGNsYXNzPSJjYXJvdXNlbC1jYXB0aW9uIj4KICAgICAgICA8aDQ+U2xpZGUge3skaW5kZXh9fTwvaDQ+CiAgICAgICAgPHA+e3tzbGlkZS50ZXh0fX08L3A+CiAgICAgIDwvZGl2PgogICAgPC9zbGlkZT4KICA8L2Nhcm91c2VsPgogIEludGVydmFsLCBpbiBtaWxsaXNlY29uZHM6IDxpbnB1dCB0eXBlPSJudW1iZXIiIG5nLW1vZGVsPSJteUludGVydmFsIj4KICA8YnIgLz5FbnRlciBhIG5lZ2F0aXZlIG51bWJlciB0byBzdG9wIHRoZSBpbnRlcnZhbC4KPC9kaXY+CiAgPC9maWxlPgogIDxmaWxlIG5hbWU9InNjcmlwdC5qcyI+CmZ1bmN0aW9uIENhcm91c2VsRGVtb0N0cmwoJHNjb3BlKSB7CiAgJHNjb3BlLm15SW50ZXJ2YWwgPSA1MDAwOwp9CiAgPC9maWxlPgogIDxmaWxlIG5hbWU9ImRlbW8uY3NzIj4KICAgIC5jYXJvdXNlbC1pbmRpY2F0b3JzIHsKICAgICAgdG9wOiBhdXRvOwogICAgICBib3R0b206IDE1cHg7CiAgICB9CiAgPC9maWxlPgo8L2V4YW1wbGU+CiovCgouZGlyZWN0aXZlKCdzbGlkZScsIGZ1bmN0aW9uKCkgewogIHJldHVybiB7CiAgICByZXF1aXJlOiAnXmNhcm91c2VsJywKICAgIHJlc3RyaWN0OiAnRUEnLAogICAgdHJhbnNjbHVkZTogdHJ1ZSwKICAgIHJlcGxhY2U6IHRydWUsCiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWwnLAogICAgc2NvcGU6IHsKICAgICAgYWN0aXZlOiAnPT8nCiAgICB9LAogICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY2Fyb3VzZWxDdHJsKSB7CiAgICAgIGNhcm91c2VsQ3RybC5hZGRTbGlkZShzY29wZSwgZWxlbWVudCk7CiAgICAgIC8vd2hlbiB0aGUgc2NvcGUgaXMgZGVzdHJveWVkIHRoZW4gcmVtb3ZlIHRoZSBzbGlkZSBmcm9tIHRoZSBjdXJyZW50IHNsaWRlcyBhcnJheQogICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7CiAgICAgICAgY2Fyb3VzZWxDdHJsLnJlbW92ZVNsaWRlKHNjb3BlKTsKICAgICAgfSk7CgogICAgICBzY29wZS4kd2F0Y2goJ2FjdGl2ZScsIGZ1bmN0aW9uKGFjdGl2ZSkgewogICAgICAgIGlmIChhY3RpdmUpIHsKICAgICAgICAgIGNhcm91c2VsQ3RybC5zZWxlY3Qoc2NvcGUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfTsKfSk7Cgphbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmRhdGVwYXJzZXInLCBbXSkKCi5zZXJ2aWNlKCdkYXRlUGFyc2VyJywgWyckbG9jYWxlJywgJ29yZGVyQnlGaWx0ZXInLCBmdW5jdGlvbigkbG9jYWxlLCBvcmRlckJ5RmlsdGVyKSB7CgogIHRoaXMucGFyc2VycyA9IHt9OwoKICB2YXIgZm9ybWF0Q29kZVRvUmVnZXggPSB7CiAgICAneXl5eSc6IHsKICAgICAgcmVnZXg6ICdcXGR7NH0nLAogICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy55ZWFyID0gK3ZhbHVlOyB9CiAgICB9LAogICAgJ3l5JzogewogICAgICByZWdleDogJ1xcZHsyfScsCiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLnllYXIgPSArdmFsdWUgKyAyMDAwOyB9CiAgICB9LAogICAgJ3knOiB7CiAgICAgIHJlZ2V4OiAnXFxkezEsNH0nLAogICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy55ZWFyID0gK3ZhbHVlOyB9CiAgICB9LAogICAgJ01NTU0nOiB7CiAgICAgIHJlZ2V4OiAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuTU9OVEguam9pbignfCcpLAogICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5tb250aCA9ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5NT05USC5pbmRleE9mKHZhbHVlKTsgfQogICAgfSwKICAgICdNTU0nOiB7CiAgICAgIHJlZ2V4OiAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuU0hPUlRNT05USC5qb2luKCd8JyksCiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1vbnRoID0gJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUTU9OVEguaW5kZXhPZih2YWx1ZSk7IH0KICAgIH0sCiAgICAnTU0nOiB7CiAgICAgIHJlZ2V4OiAnMFsxLTldfDFbMC0yXScsCiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1vbnRoID0gdmFsdWUgLSAxOyB9CiAgICB9LAogICAgJ00nOiB7CiAgICAgIHJlZ2V4OiAnWzEtOV18MVswLTJdJywKICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubW9udGggPSB2YWx1ZSAtIDE7IH0KICAgIH0sCiAgICAnZGQnOiB7CiAgICAgIHJlZ2V4OiAnWzAtMl1bMC05XXsxfXwzWzAtMV17MX0nLAogICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5kYXRlID0gK3ZhbHVlOyB9CiAgICB9LAogICAgJ2QnOiB7CiAgICAgIHJlZ2V4OiAnWzEtMl0/WzAtOV17MX18M1swLTFdezF9JywKICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuZGF0ZSA9ICt2YWx1ZTsgfQogICAgfSwKICAgICdFRUVFJzogewogICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLkRBWS5qb2luKCd8JykKICAgIH0sCiAgICAnRUVFJzogewogICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUREFZLmpvaW4oJ3wnKQogICAgfQogIH07CgogIHRoaXMuY3JlYXRlUGFyc2VyID0gZnVuY3Rpb24oZm9ybWF0KSB7CiAgICB2YXIgbWFwID0gW10sIHJlZ2V4ID0gZm9ybWF0LnNwbGl0KCcnKTsKCiAgICBhbmd1bGFyLmZvckVhY2goZm9ybWF0Q29kZVRvUmVnZXgsIGZ1bmN0aW9uKGRhdGEsIGNvZGUpIHsKICAgICAgdmFyIGluZGV4ID0gZm9ybWF0LmluZGV4T2YoY29kZSk7CgogICAgICBpZiAoaW5kZXggPiAtMSkgewogICAgICAgIGZvcm1hdCA9IGZvcm1hdC5zcGxpdCgnJyk7CgogICAgICAgIHJlZ2V4W2luZGV4XSA9ICcoJyArIGRhdGEucmVnZXggKyAnKSc7CiAgICAgICAgZm9ybWF0W2luZGV4XSA9ICckJzsgLy8gQ3VzdG9tIHN5bWJvbCB0byBkZWZpbmUgY29uc3VtZWQgcGFydCBvZiBmb3JtYXQKICAgICAgICBmb3IgKHZhciBpID0gaW5kZXggKyAxLCBuID0gaW5kZXggKyBjb2RlLmxlbmd0aDsgaSA8IG47IGkrKykgewogICAgICAgICAgcmVnZXhbaV0gPSAnJzsKICAgICAgICAgIGZvcm1hdFtpXSA9ICckJzsKICAgICAgICB9CiAgICAgICAgZm9ybWF0ID0gZm9ybWF0LmpvaW4oJycpOwoKICAgICAgICBtYXAucHVzaCh7IGluZGV4OiBpbmRleCwgYXBwbHk6IGRhdGEuYXBwbHkgfSk7CiAgICAgIH0KICAgIH0pOwoKICAgIHJldHVybiB7CiAgICAgIHJlZ2V4OiBuZXcgUmVnRXhwKCdeJyArIHJlZ2V4LmpvaW4oJycpICsgJyQnKSwKICAgICAgbWFwOiBvcmRlckJ5RmlsdGVyKG1hcCwgJ2luZGV4JykKICAgIH07CiAgfTsKCiAgdGhpcy5wYXJzZSA9IGZ1bmN0aW9uKGlucHV0LCBmb3JtYXQpIHsKICAgIGlmICggIWFuZ3VsYXIuaXNTdHJpbmcoaW5wdXQpICkgewogICAgICByZXR1cm4gaW5wdXQ7CiAgICB9CgogICAgZm9ybWF0ID0gJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTW2Zvcm1hdF0gfHwgZm9ybWF0OwoKICAgIGlmICggIXRoaXMucGFyc2Vyc1tmb3JtYXRdICkgewogICAgICB0aGlzLnBhcnNlcnNbZm9ybWF0XSA9IHRoaXMuY3JlYXRlUGFyc2VyKGZvcm1hdCk7CiAgICB9CgogICAgdmFyIHBhcnNlciA9IHRoaXMucGFyc2Vyc1tmb3JtYXRdLAogICAgICAgIHJlZ2V4ID0gcGFyc2VyLnJlZ2V4LAogICAgICAgIG1hcCA9IHBhcnNlci5tYXAsCiAgICAgICAgcmVzdWx0cyA9IGlucHV0Lm1hdGNoKHJlZ2V4KTsKCiAgICBpZiAoIHJlc3VsdHMgJiYgcmVzdWx0cy5sZW5ndGggKSB7CiAgICAgIHZhciBmaWVsZHMgPSB7IHllYXI6IDE5MDAsIG1vbnRoOiAwLCBkYXRlOiAxLCBob3VyczogMCB9LCBkdDsKCiAgICAgIGZvciggdmFyIGkgPSAxLCBuID0gcmVzdWx0cy5sZW5ndGg7IGkgPCBuOyBpKysgKSB7CiAgICAgICAgdmFyIG1hcHBlciA9IG1hcFtpLTFdOwogICAgICAgIGlmICggbWFwcGVyLmFwcGx5ICkgewogICAgICAgICAgbWFwcGVyLmFwcGx5LmNhbGwoZmllbGRzLCByZXN1bHRzW2ldKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICggaXNWYWxpZChmaWVsZHMueWVhciwgZmllbGRzLm1vbnRoLCBmaWVsZHMuZGF0ZSkgKSB7CiAgICAgICAgZHQgPSBuZXcgRGF0ZSggZmllbGRzLnllYXIsIGZpZWxkcy5tb250aCwgZmllbGRzLmRhdGUsIGZpZWxkcy5ob3Vycyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBkdDsKICAgIH0KICB9OwoKICAvLyBDaGVjayBpZiBkYXRlIGlzIHZhbGlkIGZvciBzcGVjaWZpYyBtb250aCAoYW5kIHllYXIgZm9yIEZlYnJ1YXJ5KS4KICAvLyBNb250aDogMCA9IEphbiwgMSA9IEZlYiwgZXRjCiAgZnVuY3Rpb24gaXNWYWxpZCh5ZWFyLCBtb250aCwgZGF0ZSkgewogICAgaWYgKCBtb250aCA9PT0gMSAmJiBkYXRlID4gMjgpIHsKICAgICAgICByZXR1cm4gZGF0ZSA9PT0gMjkgJiYgKCh5ZWFyICUgNCA9PT0gMCAmJiB5ZWFyICUgMTAwICE9PSAwKSB8fCB5ZWFyICUgNDAwID09PSAwKTsKICAgIH0KCiAgICBpZiAoIG1vbnRoID09PSAzIHx8IG1vbnRoID09PSA1IHx8IG1vbnRoID09PSA4IHx8IG1vbnRoID09PSAxMCkgewogICAgICAgIHJldHVybiBkYXRlIDwgMzE7CiAgICB9CgogICAgcmV0dXJuIHRydWU7CiAgfQp9XSk7Cgphbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnBvc2l0aW9uJywgW10pCgovKioKICogQSBzZXQgb2YgdXRpbGl0eSBtZXRob2RzIHRoYXQgY2FuIGJlIHVzZSB0byByZXRyaWV2ZSBwb3NpdGlvbiBvZiBET00gZWxlbWVudHMuCiAqIEl0IGlzIG1lYW50IHRvIGJlIHVzZWQgd2hlcmUgd2UgbmVlZCB0byBhYnNvbHV0ZS1wb3NpdGlvbiBET00gZWxlbWVudHMgaW4KICogcmVsYXRpb24gdG8gb3RoZXIsIGV4aXN0aW5nIGVsZW1lbnRzICh0aGlzIGlzIHRoZSBjYXNlIGZvciB0b29sdGlwcywgcG9wb3ZlcnMsCiAqIHR5cGVhaGVhZCBzdWdnZXN0aW9ucyBldGMuKS4KICovCiAgLmZhY3RvcnkoJyRwb3NpdGlvbicsIFsnJGRvY3VtZW50JywgJyR3aW5kb3cnLCBmdW5jdGlvbiAoJGRvY3VtZW50LCAkd2luZG93KSB7CgogICAgZnVuY3Rpb24gZ2V0U3R5bGUoZWwsIGNzc3Byb3ApIHsKICAgICAgaWYgKGVsLmN1cnJlbnRTdHlsZSkgeyAvL0lFCiAgICAgICAgcmV0dXJuIGVsLmN1cnJlbnRTdHlsZVtjc3Nwcm9wXTsKICAgICAgfSBlbHNlIGlmICgkd2luZG93LmdldENvbXB1dGVkU3R5bGUpIHsKICAgICAgICByZXR1cm4gJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKVtjc3Nwcm9wXTsKICAgICAgfQogICAgICAvLyBmaW5hbGx5IHRyeSBhbmQgZ2V0IGlubGluZSBzdHlsZQogICAgICByZXR1cm4gZWwuc3R5bGVbY3NzcHJvcF07CiAgICB9CgogICAgLyoqCiAgICAgKiBDaGVja3MgaWYgYSBnaXZlbiBlbGVtZW50IGlzIHN0YXRpY2FsbHkgcG9zaXRpb25lZAogICAgICogQHBhcmFtIGVsZW1lbnQgLSByYXcgRE9NIGVsZW1lbnQKICAgICAqLwogICAgZnVuY3Rpb24gaXNTdGF0aWNQb3NpdGlvbmVkKGVsZW1lbnQpIHsKICAgICAgcmV0dXJuIChnZXRTdHlsZShlbGVtZW50LCAncG9zaXRpb24nKSB8fCAnc3RhdGljJyApID09PSAnc3RhdGljJzsKICAgIH0KCiAgICAvKioKICAgICAqIHJldHVybnMgdGhlIGNsb3Nlc3QsIG5vbi1zdGF0aWNhbGx5IHBvc2l0aW9uZWQgcGFyZW50T2Zmc2V0IG9mIGEgZ2l2ZW4gZWxlbWVudAogICAgICogQHBhcmFtIGVsZW1lbnQKICAgICAqLwogICAgdmFyIHBhcmVudE9mZnNldEVsID0gZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgdmFyIGRvY0RvbUVsID0gJGRvY3VtZW50WzBdOwogICAgICB2YXIgb2Zmc2V0UGFyZW50ID0gZWxlbWVudC5vZmZzZXRQYXJlbnQgfHwgZG9jRG9tRWw7CiAgICAgIHdoaWxlIChvZmZzZXRQYXJlbnQgJiYgb2Zmc2V0UGFyZW50ICE9PSBkb2NEb21FbCAmJiBpc1N0YXRpY1Bvc2l0aW9uZWQob2Zmc2V0UGFyZW50KSApIHsKICAgICAgICBvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0UGFyZW50OwogICAgICB9CiAgICAgIHJldHVybiBvZmZzZXRQYXJlbnQgfHwgZG9jRG9tRWw7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIC8qKgogICAgICAgKiBQcm92aWRlcyByZWFkLW9ubHkgZXF1aXZhbGVudCBvZiBqUXVlcnkncyBwb3NpdGlvbiBmdW5jdGlvbjoKICAgICAgICogaHR0cDovL2FwaS5qcXVlcnkuY29tL3Bvc2l0aW9uLwogICAgICAgKi8KICAgICAgcG9zaXRpb246IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgdmFyIGVsQkNSID0gdGhpcy5vZmZzZXQoZWxlbWVudCk7CiAgICAgICAgdmFyIG9mZnNldFBhcmVudEJDUiA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07CiAgICAgICAgdmFyIG9mZnNldFBhcmVudEVsID0gcGFyZW50T2Zmc2V0RWwoZWxlbWVudFswXSk7CiAgICAgICAgaWYgKG9mZnNldFBhcmVudEVsICE9ICRkb2N1bWVudFswXSkgewogICAgICAgICAgb2Zmc2V0UGFyZW50QkNSID0gdGhpcy5vZmZzZXQoYW5ndWxhci5lbGVtZW50KG9mZnNldFBhcmVudEVsKSk7CiAgICAgICAgICBvZmZzZXRQYXJlbnRCQ1IudG9wICs9IG9mZnNldFBhcmVudEVsLmNsaWVudFRvcCAtIG9mZnNldFBhcmVudEVsLnNjcm9sbFRvcDsKICAgICAgICAgIG9mZnNldFBhcmVudEJDUi5sZWZ0ICs9IG9mZnNldFBhcmVudEVsLmNsaWVudExlZnQgLSBvZmZzZXRQYXJlbnRFbC5zY3JvbGxMZWZ0OwogICAgICAgIH0KCiAgICAgICAgdmFyIGJvdW5kaW5nQ2xpZW50UmVjdCA9IGVsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHdpZHRoOiBib3VuZGluZ0NsaWVudFJlY3Qud2lkdGggfHwgZWxlbWVudC5wcm9wKCdvZmZzZXRXaWR0aCcpLAogICAgICAgICAgaGVpZ2h0OiBib3VuZGluZ0NsaWVudFJlY3QuaGVpZ2h0IHx8IGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0JyksCiAgICAgICAgICB0b3A6IGVsQkNSLnRvcCAtIG9mZnNldFBhcmVudEJDUi50b3AsCiAgICAgICAgICBsZWZ0OiBlbEJDUi5sZWZ0IC0gb2Zmc2V0UGFyZW50QkNSLmxlZnQKICAgICAgICB9OwogICAgICB9LAoKICAgICAgLyoqCiAgICAgICAqIFByb3ZpZGVzIHJlYWQtb25seSBlcXVpdmFsZW50IG9mIGpRdWVyeSdzIG9mZnNldCBmdW5jdGlvbjoKICAgICAgICogaHR0cDovL2FwaS5qcXVlcnkuY29tL29mZnNldC8KICAgICAgICovCiAgICAgIG9mZnNldDogZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICB2YXIgYm91bmRpbmdDbGllbnRSZWN0ID0gZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgd2lkdGg6IGJvdW5kaW5nQ2xpZW50UmVjdC53aWR0aCB8fCBlbGVtZW50LnByb3AoJ29mZnNldFdpZHRoJyksCiAgICAgICAgICBoZWlnaHQ6IGJvdW5kaW5nQ2xpZW50UmVjdC5oZWlnaHQgfHwgZWxlbWVudC5wcm9wKCdvZmZzZXRIZWlnaHQnKSwKICAgICAgICAgIHRvcDogYm91bmRpbmdDbGllbnRSZWN0LnRvcCArICgkd2luZG93LnBhZ2VZT2Zmc2V0IHx8ICRkb2N1bWVudFswXS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKSwKICAgICAgICAgIGxlZnQ6IGJvdW5kaW5nQ2xpZW50UmVjdC5sZWZ0ICsgKCR3aW5kb3cucGFnZVhPZmZzZXQgfHwgJGRvY3VtZW50WzBdLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0KQogICAgICAgIH07CiAgICAgIH0sCgogICAgICAvKioKICAgICAgICogUHJvdmlkZXMgY29vcmRpbmF0ZXMgZm9yIHRoZSB0YXJnZXRFbCBpbiByZWxhdGlvbiB0byBob3N0RWwKICAgICAgICovCiAgICAgIHBvc2l0aW9uRWxlbWVudHM6IGZ1bmN0aW9uIChob3N0RWwsIHRhcmdldEVsLCBwb3NpdGlvblN0ciwgYXBwZW5kVG9Cb2R5KSB7CgogICAgICAgIHZhciBwb3NpdGlvblN0clBhcnRzID0gcG9zaXRpb25TdHIuc3BsaXQoJy0nKTsKICAgICAgICB2YXIgcG9zMCA9IHBvc2l0aW9uU3RyUGFydHNbMF0sIHBvczEgPSBwb3NpdGlvblN0clBhcnRzWzFdIHx8ICdjZW50ZXInOwoKICAgICAgICB2YXIgaG9zdEVsUG9zLAogICAgICAgICAgdGFyZ2V0RWxXaWR0aCwKICAgICAgICAgIHRhcmdldEVsSGVpZ2h0LAogICAgICAgICAgdGFyZ2V0RWxQb3M7CgogICAgICAgIGhvc3RFbFBvcyA9IGFwcGVuZFRvQm9keSA/IHRoaXMub2Zmc2V0KGhvc3RFbCkgOiB0aGlzLnBvc2l0aW9uKGhvc3RFbCk7CgogICAgICAgIHRhcmdldEVsV2lkdGggPSB0YXJnZXRFbC5wcm9wKCdvZmZzZXRXaWR0aCcpOwogICAgICAgIHRhcmdldEVsSGVpZ2h0ID0gdGFyZ2V0RWwucHJvcCgnb2Zmc2V0SGVpZ2h0Jyk7CgogICAgICAgIHZhciBzaGlmdFdpZHRoID0gewogICAgICAgICAgY2VudGVyOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MubGVmdCArIGhvc3RFbFBvcy53aWR0aCAvIDIgLSB0YXJnZXRFbFdpZHRoIC8gMjsKICAgICAgICAgIH0sCiAgICAgICAgICBsZWZ0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MubGVmdDsKICAgICAgICAgIH0sCiAgICAgICAgICByaWdodDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gaG9zdEVsUG9zLmxlZnQgKyBob3N0RWxQb3Mud2lkdGg7CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgdmFyIHNoaWZ0SGVpZ2h0ID0gewogICAgICAgICAgY2VudGVyOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MudG9wICsgaG9zdEVsUG9zLmhlaWdodCAvIDIgLSB0YXJnZXRFbEhlaWdodCAvIDI7CiAgICAgICAgICB9LAogICAgICAgICAgdG9wOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MudG9wOwogICAgICAgICAgfSwKICAgICAgICAgIGJvdHRvbTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gaG9zdEVsUG9zLnRvcCArIGhvc3RFbFBvcy5oZWlnaHQ7CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgc3dpdGNoIChwb3MwKSB7CiAgICAgICAgICBjYXNlICdyaWdodCc6CiAgICAgICAgICAgIHRhcmdldEVsUG9zID0gewogICAgICAgICAgICAgIHRvcDogc2hpZnRIZWlnaHRbcG9zMV0oKSwKICAgICAgICAgICAgICBsZWZ0OiBzaGlmdFdpZHRoW3BvczBdKCkKICAgICAgICAgICAgfTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdsZWZ0JzoKICAgICAgICAgICAgdGFyZ2V0RWxQb3MgPSB7CiAgICAgICAgICAgICAgdG9wOiBzaGlmdEhlaWdodFtwb3MxXSgpLAogICAgICAgICAgICAgIGxlZnQ6IGhvc3RFbFBvcy5sZWZ0IC0gdGFyZ2V0RWxXaWR0aAogICAgICAgICAgICB9OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6CiAgICAgICAgICAgIHRhcmdldEVsUG9zID0gewogICAgICAgICAgICAgIHRvcDogc2hpZnRIZWlnaHRbcG9zMF0oKSwKICAgICAgICAgICAgICBsZWZ0OiBzaGlmdFdpZHRoW3BvczFdKCkKICAgICAgICAgICAgfTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICB0YXJnZXRFbFBvcyA9IHsKICAgICAgICAgICAgICB0b3A6IGhvc3RFbFBvcy50b3AgLSB0YXJnZXRFbEhlaWdodCwKICAgICAgICAgICAgICBsZWZ0OiBzaGlmdFdpZHRoW3BvczFdKCkKICAgICAgICAgICAgfTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdGFyZ2V0RWxQb3M7CiAgICAgIH0KICAgIH07CiAgfV0pOwoKYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5kYXRlcGlja2VyJywgWyd1aS5ib290c3RyYXAuZGF0ZXBhcnNlcicsICd1aS5ib290c3RyYXAucG9zaXRpb24nXSkKCi5jb25zdGFudCgnZGF0ZXBpY2tlckNvbmZpZycsIHsKICBmb3JtYXREYXk6ICdkZCcsCiAgZm9ybWF0TW9udGg6ICdNTU1NJywKICBmb3JtYXRZZWFyOiAneXl5eScsCiAgZm9ybWF0RGF5SGVhZGVyOiAnRUVFJywKICBmb3JtYXREYXlUaXRsZTogJ01NTU0geXl5eScsCiAgZm9ybWF0TW9udGhUaXRsZTogJ3l5eXknLAogIGRhdGVwaWNrZXJNb2RlOiAnZGF5JywKICBtaW5Nb2RlOiAnZGF5JywKICBtYXhNb2RlOiAneWVhcicsCiAgc2hvd1dlZWtzOiB0cnVlLAogIHN0YXJ0aW5nRGF5OiAwLAogIHllYXJSYW5nZTogMjAsCiAgbWluRGF0ZTogbnVsbCwKICBtYXhEYXRlOiBudWxsCn0pCgouY29udHJvbGxlcignRGF0ZXBpY2tlckNvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAnJHBhcnNlJywgJyRpbnRlcnBvbGF0ZScsICckdGltZW91dCcsICckbG9nJywgJ2RhdGVGaWx0ZXInLCAnZGF0ZXBpY2tlckNvbmZpZycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCAkcGFyc2UsICRpbnRlcnBvbGF0ZSwgJHRpbWVvdXQsICRsb2csIGRhdGVGaWx0ZXIsIGRhdGVwaWNrZXJDb25maWcpIHsKICB2YXIgc2VsZiA9IHRoaXMsCiAgICAgIG5nTW9kZWxDdHJsID0geyAkc2V0Vmlld1ZhbHVlOiBhbmd1bGFyLm5vb3AgfTsgLy8gbnVsbE1vZGVsQ3RybDsKCiAgLy8gTW9kZXMgY2hhaW4KICB0aGlzLm1vZGVzID0gWydkYXknLCAnbW9udGgnLCAneWVhciddOwoKICAvLyBDb25maWd1cmF0aW9uIGF0dHJpYnV0ZXMKICBhbmd1bGFyLmZvckVhY2goWydmb3JtYXREYXknLCAnZm9ybWF0TW9udGgnLCAnZm9ybWF0WWVhcicsICdmb3JtYXREYXlIZWFkZXInLCAnZm9ybWF0RGF5VGl0bGUnLCAnZm9ybWF0TW9udGhUaXRsZScsCiAgICAgICAgICAgICAgICAgICAnbWluTW9kZScsICdtYXhNb2RlJywgJ3Nob3dXZWVrcycsICdzdGFydGluZ0RheScsICd5ZWFyUmFuZ2UnXSwgZnVuY3Rpb24oIGtleSwgaW5kZXggKSB7CiAgICBzZWxmW2tleV0gPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnNba2V5XSkgPyAoaW5kZXggPCA4ID8gJGludGVycG9sYXRlKCRhdHRyc1trZXldKSgkc2NvcGUuJHBhcmVudCkgOiAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnNba2V5XSkpIDogZGF0ZXBpY2tlckNvbmZpZ1trZXldOwogIH0pOwoKICAvLyBXYXRjaGFibGUgYXR0cmlidXRlcwogIGFuZ3VsYXIuZm9yRWFjaChbJ21pbkRhdGUnLCAnbWF4RGF0ZSddLCBmdW5jdGlvbigga2V5ICkgewogICAgaWYgKCAkYXR0cnNba2V5XSApIHsKICAgICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnNba2V5XSksIGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgc2VsZltrZXldID0gdmFsdWUgPyBuZXcgRGF0ZSh2YWx1ZSkgOiBudWxsOwogICAgICAgIHNlbGYucmVmcmVzaFZpZXcoKTsKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBzZWxmW2tleV0gPSBkYXRlcGlja2VyQ29uZmlnW2tleV0gPyBuZXcgRGF0ZShkYXRlcGlja2VyQ29uZmlnW2tleV0pIDogbnVsbDsKICAgIH0KICB9KTsKCiAgJHNjb3BlLmRhdGVwaWNrZXJNb2RlID0gJHNjb3BlLmRhdGVwaWNrZXJNb2RlIHx8IGRhdGVwaWNrZXJDb25maWcuZGF0ZXBpY2tlck1vZGU7CiAgJHNjb3BlLnVuaXF1ZUlkID0gJ2RhdGVwaWNrZXItJyArICRzY29wZS4kaWQgKyAnLScgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCk7CiAgdGhpcy5hY3RpdmVEYXRlID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmluaXREYXRlKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5pbml0RGF0ZSkgOiBuZXcgRGF0ZSgpOwoKICAkc2NvcGUuaXNBY3RpdmUgPSBmdW5jdGlvbihkYXRlT2JqZWN0KSB7CiAgICBpZiAoc2VsZi5jb21wYXJlKGRhdGVPYmplY3QuZGF0ZSwgc2VsZi5hY3RpdmVEYXRlKSA9PT0gMCkgewogICAgICAkc2NvcGUuYWN0aXZlRGF0ZUlkID0gZGF0ZU9iamVjdC51aWQ7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgcmV0dXJuIGZhbHNlOwogIH07CgogIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCBuZ01vZGVsQ3RybF8gKSB7CiAgICBuZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsXzsKCiAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICAgIHNlbGYucmVuZGVyKCk7CiAgICB9OwogIH07CgogIHRoaXMucmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICBpZiAoIG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlICkgewogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCBuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSApLAogICAgICAgICAgaXNWYWxpZCA9ICFpc05hTihkYXRlKTsKCiAgICAgIGlmICggaXNWYWxpZCApIHsKICAgICAgICB0aGlzLmFjdGl2ZURhdGUgPSBkYXRlOwogICAgICB9IGVsc2UgewogICAgICAgICRsb2cuZXJyb3IoJ0RhdGVwaWNrZXIgZGlyZWN0aXZlOiAibmctbW9kZWwiIHZhbHVlIG11c3QgYmUgYSBEYXRlIG9iamVjdCwgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIDAxLjAxLjE5NzAgb3IgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIFJGQzI4MjIgb3IgSVNPIDg2MDEgZGF0ZS4nKTsKICAgICAgfQogICAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2RhdGUnLCBpc1ZhbGlkKTsKICAgIH0KICAgIHRoaXMucmVmcmVzaFZpZXcoKTsKICB9OwoKICB0aGlzLnJlZnJlc2hWaWV3ID0gZnVuY3Rpb24oKSB7CiAgICBpZiAoIHRoaXMuZWxlbWVudCApIHsKICAgICAgdGhpcy5fcmVmcmVzaFZpZXcoKTsKCiAgICAgIHZhciBkYXRlID0gbmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUgPyBuZXcgRGF0ZShuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSkgOiBudWxsOwogICAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2RhdGUtZGlzYWJsZWQnLCAhZGF0ZSB8fCAodGhpcy5lbGVtZW50ICYmICF0aGlzLmlzRGlzYWJsZWQoZGF0ZSkpKTsKICAgIH0KICB9OwoKICB0aGlzLmNyZWF0ZURhdGVPYmplY3QgPSBmdW5jdGlvbihkYXRlLCBmb3JtYXQpIHsKICAgIHZhciBtb2RlbCA9IG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlID8gbmV3IERhdGUobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUpIDogbnVsbDsKICAgIHJldHVybiB7CiAgICAgIGRhdGU6IGRhdGUsCiAgICAgIGxhYmVsOiBkYXRlRmlsdGVyKGRhdGUsIGZvcm1hdCksCiAgICAgIHNlbGVjdGVkOiBtb2RlbCAmJiB0aGlzLmNvbXBhcmUoZGF0ZSwgbW9kZWwpID09PSAwLAogICAgICBkaXNhYmxlZDogdGhpcy5pc0Rpc2FibGVkKGRhdGUpLAogICAgICBjdXJyZW50OiB0aGlzLmNvbXBhcmUoZGF0ZSwgbmV3IERhdGUoKSkgPT09IDAKICAgIH07CiAgfTsKCiAgdGhpcy5pc0Rpc2FibGVkID0gZnVuY3Rpb24oIGRhdGUgKSB7CiAgICByZXR1cm4gKCh0aGlzLm1pbkRhdGUgJiYgdGhpcy5jb21wYXJlKGRhdGUsIHRoaXMubWluRGF0ZSkgPCAwKSB8fCAodGhpcy5tYXhEYXRlICYmIHRoaXMuY29tcGFyZShkYXRlLCB0aGlzLm1heERhdGUpID4gMCkgfHwgKCRhdHRycy5kYXRlRGlzYWJsZWQgJiYgJHNjb3BlLmRhdGVEaXNhYmxlZCh7ZGF0ZTogZGF0ZSwgbW9kZTogJHNjb3BlLmRhdGVwaWNrZXJNb2RlfSkpKTsKICB9OwoKICAvLyBTcGxpdCBhcnJheSBpbnRvIHNtYWxsZXIgYXJyYXlzCiAgdGhpcy5zcGxpdCA9IGZ1bmN0aW9uKGFyciwgc2l6ZSkgewogICAgdmFyIGFycmF5cyA9IFtdOwogICAgd2hpbGUgKGFyci5sZW5ndGggPiAwKSB7CiAgICAgIGFycmF5cy5wdXNoKGFyci5zcGxpY2UoMCwgc2l6ZSkpOwogICAgfQogICAgcmV0dXJuIGFycmF5czsKICB9OwoKICAkc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24oIGRhdGUgKSB7CiAgICBpZiAoICRzY29wZS5kYXRlcGlja2VyTW9kZSA9PT0gc2VsZi5taW5Nb2RlICkgewogICAgICB2YXIgZHQgPSBuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSA/IG5ldyBEYXRlKCBuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSApIDogbmV3IERhdGUoMCwgMCwgMCwgMCwgMCwgMCwgMCk7CiAgICAgIGR0LnNldEZ1bGxZZWFyKCBkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCkgKTsKICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZSggZHQgKTsKICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpOwogICAgfSBlbHNlIHsKICAgICAgc2VsZi5hY3RpdmVEYXRlID0gZGF0ZTsKICAgICAgJHNjb3BlLmRhdGVwaWNrZXJNb2RlID0gc2VsZi5tb2Rlc1sgc2VsZi5tb2Rlcy5pbmRleE9mKCAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgKSAtIDEgXTsKICAgIH0KICB9OwoKICAkc2NvcGUubW92ZSA9IGZ1bmN0aW9uKCBkaXJlY3Rpb24gKSB7CiAgICB2YXIgeWVhciA9IHNlbGYuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpICsgZGlyZWN0aW9uICogKHNlbGYuc3RlcC55ZWFycyB8fCAwKSwKICAgICAgICBtb250aCA9IHNlbGYuYWN0aXZlRGF0ZS5nZXRNb250aCgpICsgZGlyZWN0aW9uICogKHNlbGYuc3RlcC5tb250aHMgfHwgMCk7CiAgICBzZWxmLmFjdGl2ZURhdGUuc2V0RnVsbFllYXIoeWVhciwgbW9udGgsIDEpOwogICAgc2VsZi5yZWZyZXNoVmlldygpOwogIH07CgogICRzY29wZS50b2dnbGVNb2RlID0gZnVuY3Rpb24oIGRpcmVjdGlvbiApIHsKICAgIGRpcmVjdGlvbiA9IGRpcmVjdGlvbiB8fCAxOwoKICAgIGlmICgoJHNjb3BlLmRhdGVwaWNrZXJNb2RlID09PSBzZWxmLm1heE1vZGUgJiYgZGlyZWN0aW9uID09PSAxKSB8fCAoJHNjb3BlLmRhdGVwaWNrZXJNb2RlID09PSBzZWxmLm1pbk1vZGUgJiYgZGlyZWN0aW9uID09PSAtMSkpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgICRzY29wZS5kYXRlcGlja2VyTW9kZSA9IHNlbGYubW9kZXNbIHNlbGYubW9kZXMuaW5kZXhPZiggJHNjb3BlLmRhdGVwaWNrZXJNb2RlICkgKyBkaXJlY3Rpb24gXTsKICB9OwoKICAvLyBLZXkgZXZlbnQgbWFwcGVyCiAgJHNjb3BlLmtleXMgPSB7IDEzOidlbnRlcicsIDMyOidzcGFjZScsIDMzOidwYWdldXAnLCAzNDoncGFnZWRvd24nLCAzNTonZW5kJywgMzY6J2hvbWUnLCAzNzonbGVmdCcsIDM4Oid1cCcsIDM5OidyaWdodCcsIDQwOidkb3duJyB9OwoKICB2YXIgZm9jdXNFbGVtZW50ID0gZnVuY3Rpb24oKSB7CiAgICAkdGltZW91dChmdW5jdGlvbigpIHsKICAgICAgc2VsZi5lbGVtZW50WzBdLmZvY3VzKCk7CiAgICB9LCAwICwgZmFsc2UpOwogIH07CgogIC8vIExpc3RlbiBmb3IgZm9jdXMgcmVxdWVzdHMgZnJvbSBwb3B1cCBkaXJlY3RpdmUKICAkc2NvcGUuJG9uKCdkYXRlcGlja2VyLmZvY3VzJywgZm9jdXNFbGVtZW50KTsKCiAgJHNjb3BlLmtleWRvd24gPSBmdW5jdGlvbiggZXZ0ICkgewogICAgdmFyIGtleSA9ICRzY29wZS5rZXlzW2V2dC53aGljaF07CgogICAgaWYgKCAha2V5IHx8IGV2dC5zaGlmdEtleSB8fCBldnQuYWx0S2V5ICkgewogICAgICByZXR1cm47CiAgICB9CgogICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7CgogICAgaWYgKGtleSA9PT0gJ2VudGVyJyB8fCBrZXkgPT09ICdzcGFjZScpIHsKICAgICAgaWYgKCBzZWxmLmlzRGlzYWJsZWQoc2VsZi5hY3RpdmVEYXRlKSkgewogICAgICAgIHJldHVybjsgLy8gZG8gbm90aGluZwogICAgICB9CiAgICAgICRzY29wZS5zZWxlY3Qoc2VsZi5hY3RpdmVEYXRlKTsKICAgICAgZm9jdXNFbGVtZW50KCk7CiAgICB9IGVsc2UgaWYgKGV2dC5jdHJsS2V5ICYmIChrZXkgPT09ICd1cCcgfHwga2V5ID09PSAnZG93bicpKSB7CiAgICAgICRzY29wZS50b2dnbGVNb2RlKGtleSA9PT0gJ3VwJyA/IDEgOiAtMSk7CiAgICAgIGZvY3VzRWxlbWVudCgpOwogICAgfSBlbHNlIHsKICAgICAgc2VsZi5oYW5kbGVLZXlEb3duKGtleSwgZXZ0KTsKICAgICAgc2VsZi5yZWZyZXNoVmlldygpOwogICAgfQogIH07Cn1dKQoKLmRpcmVjdGl2ZSggJ2RhdGVwaWNrZXInLCBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHsKICAgIHJlc3RyaWN0OiAnRUEnLAogICAgcmVwbGFjZTogdHJ1ZSwKICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWwnLAogICAgc2NvcGU6IHsKICAgICAgZGF0ZXBpY2tlck1vZGU6ICc9PycsCiAgICAgIGRhdGVEaXNhYmxlZDogJyYnCiAgICB9LAogICAgcmVxdWlyZTogWydkYXRlcGlja2VyJywgJz9ebmdNb2RlbCddLAogICAgY29udHJvbGxlcjogJ0RhdGVwaWNrZXJDb250cm9sbGVyJywKICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHsKICAgICAgdmFyIGRhdGVwaWNrZXJDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07CgogICAgICBpZiAoIG5nTW9kZWxDdHJsICkgewogICAgICAgIGRhdGVwaWNrZXJDdHJsLmluaXQoIG5nTW9kZWxDdHJsICk7CiAgICAgIH0KICAgIH0KICB9Owp9KQoKLmRpcmVjdGl2ZSgnZGF5cGlja2VyJywgWydkYXRlRmlsdGVyJywgZnVuY3Rpb24gKGRhdGVGaWx0ZXIpIHsKICByZXR1cm4gewogICAgcmVzdHJpY3Q6ICdFQScsCiAgICByZXBsYWNlOiB0cnVlLAogICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sJywKICAgIHJlcXVpcmU6ICdeZGF0ZXBpY2tlcicsCiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwpIHsKICAgICAgc2NvcGUuc2hvd1dlZWtzID0gY3RybC5zaG93V2Vla3M7CgogICAgICBjdHJsLnN0ZXAgPSB7IG1vbnRoczogMSB9OwogICAgICBjdHJsLmVsZW1lbnQgPSBlbGVtZW50OwoKICAgICAgdmFyIERBWVNfSU5fTU9OVEggPSBbMzEsIDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV07CiAgICAgIGZ1bmN0aW9uIGdldERheXNJbk1vbnRoKCB5ZWFyLCBtb250aCApIHsKICAgICAgICByZXR1cm4gKChtb250aCA9PT0gMSkgJiYgKHllYXIgJSA0ID09PSAwKSAmJiAoKHllYXIgJSAxMDAgIT09IDApIHx8ICh5ZWFyICUgNDAwID09PSAwKSkpID8gMjkgOiBEQVlTX0lOX01PTlRIW21vbnRoXTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZ2V0RGF0ZXMoc3RhcnREYXRlLCBuKSB7CiAgICAgICAgdmFyIGRhdGVzID0gbmV3IEFycmF5KG4pLCBjdXJyZW50ID0gbmV3IERhdGUoc3RhcnREYXRlKSwgaSA9IDA7CiAgICAgICAgY3VycmVudC5zZXRIb3VycygxMik7IC8vIFByZXZlbnQgcmVwZWF0ZWQgZGF0ZXMgYmVjYXVzZSBvZiB0aW1lem9uZSBidWcKICAgICAgICB3aGlsZSAoIGkgPCBuICkgewogICAgICAgICAgZGF0ZXNbaSsrXSA9IG5ldyBEYXRlKGN1cnJlbnQpOwogICAgICAgICAgY3VycmVudC5zZXREYXRlKCBjdXJyZW50LmdldERhdGUoKSArIDEgKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGRhdGVzOwogICAgICB9CgogICAgICBjdHJsLl9yZWZyZXNoVmlldyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciB5ZWFyID0gY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksCiAgICAgICAgICBtb250aCA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpLAogICAgICAgICAgZmlyc3REYXlPZk1vbnRoID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDEpLAogICAgICAgICAgZGlmZmVyZW5jZSA9IGN0cmwuc3RhcnRpbmdEYXkgLSBmaXJzdERheU9mTW9udGguZ2V0RGF5KCksCiAgICAgICAgICBudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCA9IChkaWZmZXJlbmNlID4gMCkgPyA3IC0gZGlmZmVyZW5jZSA6IC0gZGlmZmVyZW5jZSwKICAgICAgICAgIGZpcnN0RGF0ZSA9IG5ldyBEYXRlKGZpcnN0RGF5T2ZNb250aCk7CgogICAgICAgIGlmICggbnVtRGlzcGxheWVkRnJvbVByZXZpb3VzTW9udGggPiAwICkgewogICAgICAgICAgZmlyc3REYXRlLnNldERhdGUoIC0gbnVtRGlzcGxheWVkRnJvbVByZXZpb3VzTW9udGggKyAxICk7CiAgICAgICAgfQoKICAgICAgICAvLyA0MiBpcyB0aGUgbnVtYmVyIG9mIGRheXMgb24gYSBzaXgtbW9udGggY2FsZW5kYXIKICAgICAgICB2YXIgZGF5cyA9IGdldERhdGVzKGZpcnN0RGF0ZSwgNDIpOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDI7IGkgKyspIHsKICAgICAgICAgIGRheXNbaV0gPSBhbmd1bGFyLmV4dGVuZChjdHJsLmNyZWF0ZURhdGVPYmplY3QoZGF5c1tpXSwgY3RybC5mb3JtYXREYXkpLCB7CiAgICAgICAgICAgIHNlY29uZGFyeTogZGF5c1tpXS5nZXRNb250aCgpICE9PSBtb250aCwKICAgICAgICAgICAgdWlkOiBzY29wZS51bmlxdWVJZCArICctJyArIGkKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgc2NvcGUubGFiZWxzID0gbmV3IEFycmF5KDcpOwogICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgNzsgaisrKSB7CiAgICAgICAgICBzY29wZS5sYWJlbHNbal0gPSB7CiAgICAgICAgICAgIGFiYnI6IGRhdGVGaWx0ZXIoZGF5c1tqXS5kYXRlLCBjdHJsLmZvcm1hdERheUhlYWRlciksCiAgICAgICAgICAgIGZ1bGw6IGRhdGVGaWx0ZXIoZGF5c1tqXS5kYXRlLCAnRUVFRScpCiAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgc2NvcGUudGl0bGUgPSBkYXRlRmlsdGVyKGN0cmwuYWN0aXZlRGF0ZSwgY3RybC5mb3JtYXREYXlUaXRsZSk7CiAgICAgICAgc2NvcGUucm93cyA9IGN0cmwuc3BsaXQoZGF5cywgNyk7CgogICAgICAgIGlmICggc2NvcGUuc2hvd1dlZWtzICkgewogICAgICAgICAgc2NvcGUud2Vla051bWJlcnMgPSBbXTsKICAgICAgICAgIHZhciB3ZWVrTnVtYmVyID0gZ2V0SVNPODYwMVdlZWtOdW1iZXIoIHNjb3BlLnJvd3NbMF1bMF0uZGF0ZSApLAogICAgICAgICAgICAgIG51bVdlZWtzID0gc2NvcGUucm93cy5sZW5ndGg7CiAgICAgICAgICB3aGlsZSggc2NvcGUud2Vla051bWJlcnMucHVzaCh3ZWVrTnVtYmVyKyspIDwgbnVtV2Vla3MgKSB7fQogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGN0cmwuY29tcGFyZSA9IGZ1bmN0aW9uKGRhdGUxLCBkYXRlMikgewogICAgICAgIHJldHVybiAobmV3IERhdGUoIGRhdGUxLmdldEZ1bGxZZWFyKCksIGRhdGUxLmdldE1vbnRoKCksIGRhdGUxLmdldERhdGUoKSApIC0gbmV3IERhdGUoIGRhdGUyLmdldEZ1bGxZZWFyKCksIGRhdGUyLmdldE1vbnRoKCksIGRhdGUyLmdldERhdGUoKSApICk7CiAgICAgIH07CgogICAgICBmdW5jdGlvbiBnZXRJU084NjAxV2Vla051bWJlcihkYXRlKSB7CiAgICAgICAgdmFyIGNoZWNrRGF0ZSA9IG5ldyBEYXRlKGRhdGUpOwogICAgICAgIGNoZWNrRGF0ZS5zZXREYXRlKGNoZWNrRGF0ZS5nZXREYXRlKCkgKyA0IC0gKGNoZWNrRGF0ZS5nZXREYXkoKSB8fCA3KSk7IC8vIFRodXJzZGF5CiAgICAgICAgdmFyIHRpbWUgPSBjaGVja0RhdGUuZ2V0VGltZSgpOwogICAgICAgIGNoZWNrRGF0ZS5zZXRNb250aCgwKTsgLy8gQ29tcGFyZSB3aXRoIEphbiAxCiAgICAgICAgY2hlY2tEYXRlLnNldERhdGUoMSk7CiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yb3VuZCgodGltZSAtIGNoZWNrRGF0ZSkgLyA4NjQwMDAwMCkgLyA3KSArIDE7CiAgICAgIH0KCiAgICAgIGN0cmwuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uKCBrZXksIGV2dCApIHsKICAgICAgICB2YXIgZGF0ZSA9IGN0cmwuYWN0aXZlRGF0ZS5nZXREYXRlKCk7CgogICAgICAgIGlmIChrZXkgPT09ICdsZWZ0JykgewogICAgICAgICAgZGF0ZSA9IGRhdGUgLSAxOyAgIC8vIHVwCiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICd1cCcpIHsKICAgICAgICAgIGRhdGUgPSBkYXRlIC0gNzsgICAvLyBkb3duCiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdyaWdodCcpIHsKICAgICAgICAgIGRhdGUgPSBkYXRlICsgMTsgICAvLyBkb3duCiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdkb3duJykgewogICAgICAgICAgZGF0ZSA9IGRhdGUgKyA3OwogICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncGFnZXVwJyB8fCBrZXkgPT09ICdwYWdlZG93bicpIHsKICAgICAgICAgIHZhciBtb250aCA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpICsgKGtleSA9PT0gJ3BhZ2V1cCcgPyAtIDEgOiAxKTsKICAgICAgICAgIGN0cmwuYWN0aXZlRGF0ZS5zZXRNb250aChtb250aCwgMSk7CiAgICAgICAgICBkYXRlID0gTWF0aC5taW4oZ2V0RGF5c0luTW9udGgoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksIGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpKSwgZGF0ZSk7CiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdob21lJykgewogICAgICAgICAgZGF0ZSA9IDE7CiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdlbmQnKSB7CiAgICAgICAgICBkYXRlID0gZ2V0RGF5c0luTW9udGgoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksIGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpKTsKICAgICAgICB9CiAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldERhdGUoZGF0ZSk7CiAgICAgIH07CgogICAgICBjdHJsLnJlZnJlc2hWaWV3KCk7CiAgICB9CiAgfTsKfV0pCgouZGlyZWN0aXZlKCdtb250aHBpY2tlcicsIFsnZGF0ZUZpbHRlcicsIGZ1bmN0aW9uIChkYXRlRmlsdGVyKSB7CiAgcmV0dXJuIHsKICAgIHJlc3RyaWN0OiAnRUEnLAogICAgcmVwbGFjZTogdHJ1ZSwKICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sJywKICAgIHJlcXVpcmU6ICdeZGF0ZXBpY2tlcicsCiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwpIHsKICAgICAgY3RybC5zdGVwID0geyB5ZWFyczogMSB9OwogICAgICBjdHJsLmVsZW1lbnQgPSBlbGVtZW50OwoKICAgICAgY3RybC5fcmVmcmVzaFZpZXcgPSBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgbW9udGhzID0gbmV3IEFycmF5KDEyKSwKICAgICAgICAgICAgeWVhciA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpOwoKICAgICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCAxMjsgaSsrICkgewogICAgICAgICAgbW9udGhzW2ldID0gYW5ndWxhci5leHRlbmQoY3RybC5jcmVhdGVEYXRlT2JqZWN0KG5ldyBEYXRlKHllYXIsIGksIDEpLCBjdHJsLmZvcm1hdE1vbnRoKSwgewogICAgICAgICAgICB1aWQ6IHNjb3BlLnVuaXF1ZUlkICsgJy0nICsgaQogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBzY29wZS50aXRsZSA9IGRhdGVGaWx0ZXIoY3RybC5hY3RpdmVEYXRlLCBjdHJsLmZvcm1hdE1vbnRoVGl0bGUpOwogICAgICAgIHNjb3BlLnJvd3MgPSBjdHJsLnNwbGl0KG1vbnRocywgMyk7CiAgICAgIH07CgogICAgICBjdHJsLmNvbXBhcmUgPSBmdW5jdGlvbihkYXRlMSwgZGF0ZTIpIHsKICAgICAgICByZXR1cm4gbmV3IERhdGUoIGRhdGUxLmdldEZ1bGxZZWFyKCksIGRhdGUxLmdldE1vbnRoKCkgKSAtIG5ldyBEYXRlKCBkYXRlMi5nZXRGdWxsWWVhcigpLCBkYXRlMi5nZXRNb250aCgpICk7CiAgICAgIH07CgogICAgICBjdHJsLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbigga2V5LCBldnQgKSB7CiAgICAgICAgdmFyIGRhdGUgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKTsKCiAgICAgICAgaWYgKGtleSA9PT0gJ2xlZnQnKSB7CiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDE7ICAgLy8gdXAKICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3VwJykgewogICAgICAgICAgZGF0ZSA9IGRhdGUgLSAzOyAgIC8vIGRvd24KICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3JpZ2h0JykgewogICAgICAgICAgZGF0ZSA9IGRhdGUgKyAxOyAgIC8vIGRvd24KICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2Rvd24nKSB7CiAgICAgICAgICBkYXRlID0gZGF0ZSArIDM7CiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdwYWdldXAnIHx8IGtleSA9PT0gJ3BhZ2Vkb3duJykgewogICAgICAgICAgdmFyIHllYXIgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSArIChrZXkgPT09ICdwYWdldXAnID8gLSAxIDogMSk7CiAgICAgICAgICBjdHJsLmFjdGl2ZURhdGUuc2V0RnVsbFllYXIoeWVhcik7CiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdob21lJykgewogICAgICAgICAgZGF0ZSA9IDA7CiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdlbmQnKSB7CiAgICAgICAgICBkYXRlID0gMTE7CiAgICAgICAgfQogICAgICAgIGN0cmwuYWN0aXZlRGF0ZS5zZXRNb250aChkYXRlKTsKICAgICAgfTsKCiAgICAgIGN0cmwucmVmcmVzaFZpZXcoKTsKICAgIH0KICB9Owp9XSkKCi5kaXJlY3RpdmUoJ3llYXJwaWNrZXInLCBbJ2RhdGVGaWx0ZXInLCBmdW5jdGlvbiAoZGF0ZUZpbHRlcikgewogIHJldHVybiB7CiAgICByZXN0cmljdDogJ0VBJywKICAgIHJlcGxhY2U6IHRydWUsCiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sJywKICAgIHJlcXVpcmU6ICdeZGF0ZXBpY2tlcicsCiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwpIHsKICAgICAgdmFyIHJhbmdlID0gY3RybC55ZWFyUmFuZ2U7CgogICAgICBjdHJsLnN0ZXAgPSB7IHllYXJzOiByYW5nZSB9OwogICAgICBjdHJsLmVsZW1lbnQgPSBlbGVtZW50OwoKICAgICAgZnVuY3Rpb24gZ2V0U3RhcnRpbmdZZWFyKCB5ZWFyICkgewogICAgICAgIHJldHVybiBwYXJzZUludCgoeWVhciAtIDEpIC8gcmFuZ2UsIDEwKSAqIHJhbmdlICsgMTsKICAgICAgfQoKICAgICAgY3RybC5fcmVmcmVzaFZpZXcgPSBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgeWVhcnMgPSBuZXcgQXJyYXkocmFuZ2UpOwoKICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIHN0YXJ0ID0gZ2V0U3RhcnRpbmdZZWFyKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpKTsgaSA8IHJhbmdlOyBpKysgKSB7CiAgICAgICAgICB5ZWFyc1tpXSA9IGFuZ3VsYXIuZXh0ZW5kKGN0cmwuY3JlYXRlRGF0ZU9iamVjdChuZXcgRGF0ZShzdGFydCArIGksIDAsIDEpLCBjdHJsLmZvcm1hdFllYXIpLCB7CiAgICAgICAgICAgIHVpZDogc2NvcGUudW5pcXVlSWQgKyAnLScgKyBpCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHNjb3BlLnRpdGxlID0gW3llYXJzWzBdLmxhYmVsLCB5ZWFyc1tyYW5nZSAtIDFdLmxhYmVsXS5qb2luKCcgLSAnKTsKICAgICAgICBzY29wZS5yb3dzID0gY3RybC5zcGxpdCh5ZWFycywgNSk7CiAgICAgIH07CgogICAgICBjdHJsLmNvbXBhcmUgPSBmdW5jdGlvbihkYXRlMSwgZGF0ZTIpIHsKICAgICAgICByZXR1cm4gZGF0ZTEuZ2V0RnVsbFllYXIoKSAtIGRhdGUyLmdldEZ1bGxZZWFyKCk7CiAgICAgIH07CgogICAgICBjdHJsLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbigga2V5LCBldnQgKSB7CiAgICAgICAgdmFyIGRhdGUgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKTsKCiAgICAgICAgaWYgKGtleSA9PT0gJ2xlZnQnKSB7CiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDE7ICAgLy8gdXAKICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3VwJykgewogICAgICAgICAgZGF0ZSA9IGRhdGUgLSA1OyAgIC8vIGRvd24KICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3JpZ2h0JykgewogICAgICAgICAgZGF0ZSA9IGRhdGUgKyAxOyAgIC8vIGRvd24KICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2Rvd24nKSB7CiAgICAgICAgICBkYXRlID0gZGF0ZSArIDU7CiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdwYWdldXAnIHx8IGtleSA9PT0gJ3BhZ2Vkb3duJykgewogICAgICAgICAgZGF0ZSArPSAoa2V5ID09PSAncGFnZXVwJyA/IC0gMSA6IDEpICogY3RybC5zdGVwLnllYXJzOwogICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnaG9tZScpIHsKICAgICAgICAgIGRhdGUgPSBnZXRTdGFydGluZ1llYXIoIGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpICk7CiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdlbmQnKSB7CiAgICAgICAgICBkYXRlID0gZ2V0U3RhcnRpbmdZZWFyKCBjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSApICsgcmFuZ2UgLSAxOwogICAgICAgIH0KICAgICAgICBjdHJsLmFjdGl2ZURhdGUuc2V0RnVsbFllYXIoZGF0ZSk7CiAgICAgIH07CgogICAgICBjdHJsLnJlZnJlc2hWaWV3KCk7CiAgICB9CiAgfTsKfV0pCgouY29uc3RhbnQoJ2RhdGVwaWNrZXJQb3B1cENvbmZpZycsIHsKICBkYXRlcGlja2VyUG9wdXA6ICd5eXl5LU1NLWRkJywKICBjdXJyZW50VGV4dDogJ1RvZGF5JywKICBjbGVhclRleHQ6ICdDbGVhcicsCiAgY2xvc2VUZXh0OiAnRG9uZScsCiAgY2xvc2VPbkRhdGVTZWxlY3Rpb246IHRydWUsCiAgYXBwZW5kVG9Cb2R5OiBmYWxzZSwKICBzaG93QnV0dG9uQmFyOiB0cnVlCn0pCgouZGlyZWN0aXZlKCdkYXRlcGlja2VyUG9wdXAnLCBbJyRjb21waWxlJywgJyRwYXJzZScsICckZG9jdW1lbnQnLCAnJHBvc2l0aW9uJywgJ2RhdGVGaWx0ZXInLCAnZGF0ZVBhcnNlcicsICdkYXRlcGlja2VyUG9wdXBDb25maWcnLApmdW5jdGlvbiAoJGNvbXBpbGUsICRwYXJzZSwgJGRvY3VtZW50LCAkcG9zaXRpb24sIGRhdGVGaWx0ZXIsIGRhdGVQYXJzZXIsIGRhdGVwaWNrZXJQb3B1cENvbmZpZykgewogIHJldHVybiB7CiAgICByZXN0cmljdDogJ0VBJywKICAgIHJlcXVpcmU6ICduZ01vZGVsJywKICAgIHNjb3BlOiB7CiAgICAgIGlzT3BlbjogJz0/JywKICAgICAgY3VycmVudFRleHQ6ICdAJywKICAgICAgY2xlYXJUZXh0OiAnQCcsCiAgICAgIGNsb3NlVGV4dDogJ0AnLAogICAgICBkYXRlRGlzYWJsZWQ6ICcmJwogICAgfSwKICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkgewogICAgICB2YXIgZGF0ZUZvcm1hdCwKICAgICAgICAgIGNsb3NlT25EYXRlU2VsZWN0aW9uID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuY2xvc2VPbkRhdGVTZWxlY3Rpb24pID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5jbG9zZU9uRGF0ZVNlbGVjdGlvbikgOiBkYXRlcGlja2VyUG9wdXBDb25maWcuY2xvc2VPbkRhdGVTZWxlY3Rpb24sCiAgICAgICAgICBhcHBlbmRUb0JvZHkgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kYXRlcGlja2VyQXBwZW5kVG9Cb2R5KSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuZGF0ZXBpY2tlckFwcGVuZFRvQm9keSkgOiBkYXRlcGlja2VyUG9wdXBDb25maWcuYXBwZW5kVG9Cb2R5OwoKICAgICAgc2NvcGUuc2hvd0J1dHRvbkJhciA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnNob3dCdXR0b25CYXIpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5zaG93QnV0dG9uQmFyKSA6IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5zaG93QnV0dG9uQmFyOwoKICAgICAgc2NvcGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKCBrZXkgKSB7CiAgICAgICAgcmV0dXJuIHNjb3BlW2tleSArICdUZXh0J10gfHwgZGF0ZXBpY2tlclBvcHVwQ29uZmlnW2tleSArICdUZXh0J107CiAgICAgIH07CgogICAgICBhdHRycy4kb2JzZXJ2ZSgnZGF0ZXBpY2tlclBvcHVwJywgZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICAgIGRhdGVGb3JtYXQgPSB2YWx1ZSB8fCBkYXRlcGlja2VyUG9wdXBDb25maWcuZGF0ZXBpY2tlclBvcHVwOwogICAgICAgICAgbmdNb2RlbC4kcmVuZGVyKCk7CiAgICAgIH0pOwoKICAgICAgLy8gcG9wdXAgZWxlbWVudCB1c2VkIHRvIGRpc3BsYXkgY2FsZW5kYXIKICAgICAgdmFyIHBvcHVwRWwgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYgZGF0ZXBpY2tlci1wb3B1cC13cmFwPjxkaXYgZGF0ZXBpY2tlcj48L2Rpdj48L2Rpdj4nKTsKICAgICAgcG9wdXBFbC5hdHRyKHsKICAgICAgICAnbmctbW9kZWwnOiAnZGF0ZScsCiAgICAgICAgJ25nLWNoYW5nZSc6ICdkYXRlU2VsZWN0aW9uKCknCiAgICAgIH0pOwoKICAgICAgZnVuY3Rpb24gY2FtZWx0b0Rhc2goIHN0cmluZyApewogICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvKFtBLVpdKS9nLCBmdW5jdGlvbigkMSkgeyByZXR1cm4gJy0nICsgJDEudG9Mb3dlckNhc2UoKTsgfSk7CiAgICAgIH0KCiAgICAgIC8vIGRhdGVwaWNrZXIgZWxlbWVudAogICAgICB2YXIgZGF0ZXBpY2tlckVsID0gYW5ndWxhci5lbGVtZW50KHBvcHVwRWwuY2hpbGRyZW4oKVswXSk7CiAgICAgIGlmICggYXR0cnMuZGF0ZXBpY2tlck9wdGlvbnMgKSB7CiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuZGF0ZXBpY2tlck9wdGlvbnMpLCBmdW5jdGlvbiggdmFsdWUsIG9wdGlvbiApIHsKICAgICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCBjYW1lbHRvRGFzaChvcHRpb24pLCB2YWx1ZSApOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBhbmd1bGFyLmZvckVhY2goWydtaW5EYXRlJywgJ21heERhdGUnXSwgZnVuY3Rpb24oIGtleSApIHsKICAgICAgICBpZiAoIGF0dHJzW2tleV0gKSB7CiAgICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoYXR0cnNba2V5XSksIGZ1bmN0aW9uKHZhbHVlKXsKICAgICAgICAgICAgc2NvcGVba2V5XSA9IHZhbHVlOwogICAgICAgICAgfSk7CiAgICAgICAgICBkYXRlcGlja2VyRWwuYXR0cihjYW1lbHRvRGFzaChrZXkpLCBrZXkpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGlmIChhdHRycy5kYXRlRGlzYWJsZWQpIHsKICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignZGF0ZS1kaXNhYmxlZCcsICdkYXRlRGlzYWJsZWQoeyBkYXRlOiBkYXRlLCBtb2RlOiBtb2RlIH0pJyk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHBhcnNlRGF0ZSh2aWV3VmFsdWUpIHsKICAgICAgICBpZiAoIXZpZXdWYWx1ZSkgewogICAgICAgICAgbmdNb2RlbC4kc2V0VmFsaWRpdHkoJ2RhdGUnLCB0cnVlKTsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc0RhdGUodmlld1ZhbHVlKSAmJiAhaXNOYU4odmlld1ZhbHVlKSkgewogICAgICAgICAgbmdNb2RlbC4kc2V0VmFsaWRpdHkoJ2RhdGUnLCB0cnVlKTsKICAgICAgICAgIHJldHVybiB2aWV3VmFsdWU7CiAgICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKHZpZXdWYWx1ZSkpIHsKICAgICAgICAgIHZhciBkYXRlID0gZGF0ZVBhcnNlci5wYXJzZSh2aWV3VmFsdWUsIGRhdGVGb3JtYXQpIHx8IG5ldyBEYXRlKHZpZXdWYWx1ZSk7CiAgICAgICAgICBpZiAoaXNOYU4oZGF0ZSkpIHsKICAgICAgICAgICAgbmdNb2RlbC4kc2V0VmFsaWRpdHkoJ2RhdGUnLCBmYWxzZSk7CiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZ01vZGVsLiRzZXRWYWxpZGl0eSgnZGF0ZScsIHRydWUpOwogICAgICAgICAgICByZXR1cm4gZGF0ZTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgbmdNb2RlbC4kc2V0VmFsaWRpdHkoJ2RhdGUnLCBmYWxzZSk7CiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgICAgIH0KICAgICAgfQogICAgICBuZ01vZGVsLiRwYXJzZXJzLnVuc2hpZnQocGFyc2VEYXRlKTsKCiAgICAgIC8vIElubmVyIGNoYW5nZQogICAgICBzY29wZS5kYXRlU2VsZWN0aW9uID0gZnVuY3Rpb24oZHQpIHsKICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoZHQpKSB7CiAgICAgICAgICBzY29wZS5kYXRlID0gZHQ7CiAgICAgICAgfQogICAgICAgIG5nTW9kZWwuJHNldFZpZXdWYWx1ZShzY29wZS5kYXRlKTsKICAgICAgICBuZ01vZGVsLiRyZW5kZXIoKTsKCiAgICAgICAgaWYgKCBjbG9zZU9uRGF0ZVNlbGVjdGlvbiApIHsKICAgICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlOwogICAgICAgICAgZWxlbWVudFswXS5mb2N1cygpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGVsZW1lbnQuYmluZCgnaW5wdXQgY2hhbmdlIGtleXVwJywgZnVuY3Rpb24oKSB7CiAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkgewogICAgICAgICAgc2NvcGUuZGF0ZSA9IG5nTW9kZWwuJG1vZGVsVmFsdWU7CiAgICAgICAgfSk7CiAgICAgIH0pOwoKICAgICAgLy8gT3V0dGVyIGNoYW5nZQogICAgICBuZ01vZGVsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgZGF0ZSA9IG5nTW9kZWwuJHZpZXdWYWx1ZSA/IGRhdGVGaWx0ZXIobmdNb2RlbC4kdmlld1ZhbHVlLCBkYXRlRm9ybWF0KSA6ICcnOwogICAgICAgIGVsZW1lbnQudmFsKGRhdGUpOwogICAgICAgIHNjb3BlLmRhdGUgPSBwYXJzZURhdGUoIG5nTW9kZWwuJG1vZGVsVmFsdWUgKTsKICAgICAgfTsKCiAgICAgIHZhciBkb2N1bWVudENsaWNrQmluZCA9IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgaWYgKHNjb3BlLmlzT3BlbiAmJiBldmVudC50YXJnZXQgIT09IGVsZW1lbnRbMF0pIHsKICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHsKICAgICAgICAgICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH07CgogICAgICB2YXIga2V5ZG93biA9IGZ1bmN0aW9uKGV2dCwgbm9BcHBseSkgewogICAgICAgIHNjb3BlLmtleWRvd24oZXZ0KTsKICAgICAgfTsKICAgICAgZWxlbWVudC5iaW5kKCdrZXlkb3duJywga2V5ZG93bik7CgogICAgICBzY29wZS5rZXlkb3duID0gZnVuY3Rpb24oZXZ0KSB7CiAgICAgICAgaWYgKGV2dC53aGljaCA9PT0gMjcpIHsKICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgc2NvcGUuY2xvc2UoKTsKICAgICAgICB9IGVsc2UgaWYgKGV2dC53aGljaCA9PT0gNDAgJiYgIXNjb3BlLmlzT3BlbikgewogICAgICAgICAgc2NvcGUuaXNPcGVuID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH07CgogICAgICBzY29wZS4kd2F0Y2goJ2lzT3BlbicsIGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgICBzY29wZS4kYnJvYWRjYXN0KCdkYXRlcGlja2VyLmZvY3VzJyk7CiAgICAgICAgICBzY29wZS5wb3NpdGlvbiA9IGFwcGVuZFRvQm9keSA/ICRwb3NpdGlvbi5vZmZzZXQoZWxlbWVudCkgOiAkcG9zaXRpb24ucG9zaXRpb24oZWxlbWVudCk7CiAgICAgICAgICBzY29wZS5wb3NpdGlvbi50b3AgPSBzY29wZS5wb3NpdGlvbi50b3AgKyBlbGVtZW50LnByb3AoJ29mZnNldEhlaWdodCcpOwoKICAgICAgICAgICRkb2N1bWVudC5iaW5kKCdjbGljaycsIGRvY3VtZW50Q2xpY2tCaW5kKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgJGRvY3VtZW50LnVuYmluZCgnY2xpY2snLCBkb2N1bWVudENsaWNrQmluZCk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKCBkYXRlICkgewogICAgICAgIGlmIChkYXRlID09PSAndG9kYXknKSB7CiAgICAgICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEYXRlKG5nTW9kZWwuJG1vZGVsVmFsdWUpKSB7CiAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZShuZ01vZGVsLiRtb2RlbFZhbHVlKTsKICAgICAgICAgICAgZGF0ZS5zZXRGdWxsWWVhcih0b2RheS5nZXRGdWxsWWVhcigpLCB0b2RheS5nZXRNb250aCgpLCB0b2RheS5nZXREYXRlKCkpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKHRvZGF5LnNldEhvdXJzKDAsIDAsIDAsIDApKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgc2NvcGUuZGF0ZVNlbGVjdGlvbiggZGF0ZSApOwogICAgICB9OwoKICAgICAgc2NvcGUuY2xvc2UgPSBmdW5jdGlvbigpIHsKICAgICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTsKICAgICAgICBlbGVtZW50WzBdLmZvY3VzKCk7CiAgICAgIH07CgogICAgICB2YXIgJHBvcHVwID0gJGNvbXBpbGUocG9wdXBFbCkoc2NvcGUpOwogICAgICBpZiAoIGFwcGVuZFRvQm9keSApIHsKICAgICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmFwcGVuZCgkcG9wdXApOwogICAgICB9IGVsc2UgewogICAgICAgIGVsZW1lbnQuYWZ0ZXIoJHBvcHVwKTsKICAgICAgfQoKICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkgewogICAgICAgICRwb3B1cC5yZW1vdmUoKTsKICAgICAgICBlbGVtZW50LnVuYmluZCgna2V5ZG93bicsIGtleWRvd24pOwogICAgICAgICRkb2N1bWVudC51bmJpbmQoJ2NsaWNrJywgZG9jdW1lbnRDbGlja0JpbmQpOwogICAgICB9KTsKICAgIH0KICB9Owp9XSkKCi5kaXJlY3RpdmUoJ2RhdGVwaWNrZXJQb3B1cFdyYXAnLCBmdW5jdGlvbigpIHsKICByZXR1cm4gewogICAgcmVzdHJpY3Q6J0VBJywKICAgIHJlcGxhY2U6IHRydWUsCiAgICB0cmFuc2NsdWRlOiB0cnVlLAogICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWwnLAogICAgbGluazpmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7CiAgICAgIGVsZW1lbnQuYmluZCgnY2xpY2snLCBmdW5jdGlvbihldmVudCkgewogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIH0pOwogICAgfQogIH07Cn0pOwoKYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5kcm9wZG93bicsIFtdKQoKLmNvbnN0YW50KCdkcm9wZG93bkNvbmZpZycsIHsKICBvcGVuQ2xhc3M6ICdvcGVuJwp9KQoKLnNlcnZpY2UoJ2Ryb3Bkb3duU2VydmljZScsIFsnJGRvY3VtZW50JywgZnVuY3Rpb24oJGRvY3VtZW50KSB7CiAgdmFyIG9wZW5TY29wZSA9IG51bGw7CgogIHRoaXMub3BlbiA9IGZ1bmN0aW9uKCBkcm9wZG93blNjb3BlICkgewogICAgaWYgKCAhb3BlblNjb3BlICkgewogICAgICAkZG9jdW1lbnQuYmluZCgnY2xpY2snLCBjbG9zZURyb3Bkb3duKTsKICAgICAgJGRvY3VtZW50LmJpbmQoJ2tleWRvd24nLCBlc2NhcGVLZXlCaW5kKTsKICAgIH0KCiAgICBpZiAoIG9wZW5TY29wZSAmJiBvcGVuU2NvcGUgIT09IGRyb3Bkb3duU2NvcGUgKSB7CiAgICAgICAgb3BlblNjb3BlLmlzT3BlbiA9IGZhbHNlOwogICAgfQoKICAgIG9wZW5TY29wZSA9IGRyb3Bkb3duU2NvcGU7CiAgfTsKCiAgdGhpcy5jbG9zZSA9IGZ1bmN0aW9uKCBkcm9wZG93blNjb3BlICkgewogICAgaWYgKCBvcGVuU2NvcGUgPT09IGRyb3Bkb3duU2NvcGUgKSB7CiAgICAgIG9wZW5TY29wZSA9IG51bGw7CiAgICAgICRkb2N1bWVudC51bmJpbmQoJ2NsaWNrJywgY2xvc2VEcm9wZG93bik7CiAgICAgICRkb2N1bWVudC51bmJpbmQoJ2tleWRvd24nLCBlc2NhcGVLZXlCaW5kKTsKICAgIH0KICB9OwoKICB2YXIgY2xvc2VEcm9wZG93biA9IGZ1bmN0aW9uKCBldnQgKSB7CiAgICBpZiAoZXZ0ICYmIGV2dC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgewogICAgICAgIHJldHVybjsKICAgIH0KCiAgICBvcGVuU2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkgewogICAgICBvcGVuU2NvcGUuaXNPcGVuID0gZmFsc2U7CiAgICB9KTsKICB9OwoKICB2YXIgZXNjYXBlS2V5QmluZCA9IGZ1bmN0aW9uKCBldnQgKSB7CiAgICBpZiAoIGV2dC53aGljaCA9PT0gMjcgKSB7CiAgICAgIG9wZW5TY29wZS5mb2N1c1RvZ2dsZUVsZW1lbnQoKTsKICAgICAgY2xvc2VEcm9wZG93bigpOwogICAgfQogIH07Cn1dKQoKLmNvbnRyb2xsZXIoJ0Ryb3Bkb3duQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICckcGFyc2UnLCAnZHJvcGRvd25Db25maWcnLCAnZHJvcGRvd25TZXJ2aWNlJywgJyRhbmltYXRlJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsICRwYXJzZSwgZHJvcGRvd25Db25maWcsIGRyb3Bkb3duU2VydmljZSwgJGFuaW1hdGUpIHsKICB2YXIgc2VsZiA9IHRoaXMsCiAgICAgIHNjb3BlID0gJHNjb3BlLiRuZXcoKSwgLy8gY3JlYXRlIGEgY2hpbGQgc2NvcGUgc28gd2UgYXJlIG5vdCBwb2xsdXRpbmcgb3JpZ2luYWwgb25lCiAgICAgIG9wZW5DbGFzcyA9IGRyb3Bkb3duQ29uZmlnLm9wZW5DbGFzcywKICAgICAgZ2V0SXNPcGVuLAogICAgICBzZXRJc09wZW4gPSBhbmd1bGFyLm5vb3AsCiAgICAgIHRvZ2dsZUludm9rZXIgPSAkYXR0cnMub25Ub2dnbGUgPyAkcGFyc2UoJGF0dHJzLm9uVG9nZ2xlKSA6IGFuZ3VsYXIubm9vcDsKCiAgdGhpcy5pbml0ID0gZnVuY3Rpb24oIGVsZW1lbnQgKSB7CiAgICBzZWxmLiRlbGVtZW50ID0gZWxlbWVudDsKCiAgICBpZiAoICRhdHRycy5pc09wZW4gKSB7CiAgICAgIGdldElzT3BlbiA9ICRwYXJzZSgkYXR0cnMuaXNPcGVuKTsKICAgICAgc2V0SXNPcGVuID0gZ2V0SXNPcGVuLmFzc2lnbjsKCiAgICAgICRzY29wZS4kd2F0Y2goZ2V0SXNPcGVuLCBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgIHNjb3BlLmlzT3BlbiA9ICEhdmFsdWU7CiAgICAgIH0pOwogICAgfQogIH07CgogIHRoaXMudG9nZ2xlID0gZnVuY3Rpb24oIG9wZW4gKSB7CiAgICByZXR1cm4gc2NvcGUuaXNPcGVuID0gYXJndW1lbnRzLmxlbmd0aCA/ICEhb3BlbiA6ICFzY29wZS5pc09wZW47CiAgfTsKCiAgLy8gQWxsb3cgb3RoZXIgZGlyZWN0aXZlcyB0byB3YXRjaCBzdGF0dXMKICB0aGlzLmlzT3BlbiA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHNjb3BlLmlzT3BlbjsKICB9OwoKICBzY29wZS5mb2N1c1RvZ2dsZUVsZW1lbnQgPSBmdW5jdGlvbigpIHsKICAgIGlmICggc2VsZi50b2dnbGVFbGVtZW50ICkgewogICAgICBzZWxmLnRvZ2dsZUVsZW1lbnRbMF0uZm9jdXMoKTsKICAgIH0KICB9OwoKICBzY29wZS4kd2F0Y2goJ2lzT3BlbicsIGZ1bmN0aW9uKCBpc09wZW4sIHdhc09wZW4gKSB7CiAgICAkYW5pbWF0ZVtpc09wZW4gPyAnYWRkQ2xhc3MnIDogJ3JlbW92ZUNsYXNzJ10oc2VsZi4kZWxlbWVudCwgb3BlbkNsYXNzKTsKCiAgICBpZiAoIGlzT3BlbiApIHsKICAgICAgc2NvcGUuZm9jdXNUb2dnbGVFbGVtZW50KCk7CiAgICAgIGRyb3Bkb3duU2VydmljZS5vcGVuKCBzY29wZSApOwogICAgfSBlbHNlIHsKICAgICAgZHJvcGRvd25TZXJ2aWNlLmNsb3NlKCBzY29wZSApOwogICAgfQoKICAgIHNldElzT3Blbigkc2NvcGUsIGlzT3Blbik7CiAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoaXNPcGVuKSAmJiBpc09wZW4gIT09IHdhc09wZW4pIHsKICAgICAgdG9nZ2xlSW52b2tlcigkc2NvcGUsIHsgb3BlbjogISFpc09wZW4gfSk7CiAgICB9CiAgfSk7CgogICRzY29wZS4kb24oJyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbigpIHsKICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlOwogIH0pOwoKICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkgewogICAgc2NvcGUuJGRlc3Ryb3koKTsKICB9KTsKfV0pCgouZGlyZWN0aXZlKCdkcm9wZG93bicsIGZ1bmN0aW9uKCkgewogIHJldHVybiB7CiAgICByZXN0cmljdDogJ0NBJywKICAgIGNvbnRyb2xsZXI6ICdEcm9wZG93bkNvbnRyb2xsZXInLAogICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBkcm9wZG93bkN0cmwpIHsKICAgICAgZHJvcGRvd25DdHJsLmluaXQoIGVsZW1lbnQgKTsKICAgIH0KICB9Owp9KQoKLmRpcmVjdGl2ZSgnZHJvcGRvd25Ub2dnbGUnLCBmdW5jdGlvbigpIHsKICByZXR1cm4gewogICAgcmVzdHJpY3Q6ICdDQScsCiAgICByZXF1aXJlOiAnP15kcm9wZG93bicsCiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGRyb3Bkb3duQ3RybCkgewogICAgICBpZiAoICFkcm9wZG93bkN0cmwgKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBkcm9wZG93bkN0cmwudG9nZ2xlRWxlbWVudCA9IGVsZW1lbnQ7CgogICAgICB2YXIgdG9nZ2xlRHJvcGRvd24gPSBmdW5jdGlvbihldmVudCkgewogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICAgIGlmICggIWVsZW1lbnQuaGFzQ2xhc3MoJ2Rpc2FibGVkJykgJiYgIWF0dHJzLmRpc2FibGVkICkgewogICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkgewogICAgICAgICAgICBkcm9wZG93bkN0cmwudG9nZ2xlKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH07CgogICAgICBlbGVtZW50LmJpbmQoJ2NsaWNrJywgdG9nZ2xlRHJvcGRvd24pOwoKICAgICAgLy8gV0FJLUFSSUEKICAgICAgZWxlbWVudC5hdHRyKHsgJ2FyaWEtaGFzcG9wdXAnOiB0cnVlLCAnYXJpYS1leHBhbmRlZCc6IGZhbHNlIH0pOwogICAgICBzY29wZS4kd2F0Y2goZHJvcGRvd25DdHJsLmlzT3BlbiwgZnVuY3Rpb24oIGlzT3BlbiApIHsKICAgICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAhIWlzT3Blbik7CiAgICAgIH0pOwoKICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkgewogICAgICAgIGVsZW1lbnQudW5iaW5kKCdjbGljaycsIHRvZ2dsZURyb3Bkb3duKTsKICAgICAgfSk7CiAgICB9CiAgfTsKfSk7Cgphbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLm1vZGFsJywgWyd1aS5ib290c3RyYXAudHJhbnNpdGlvbiddKQoKLyoqCiAqIEEgaGVscGVyLCBpbnRlcm5hbCBkYXRhIHN0cnVjdHVyZSB0aGF0IGFjdHMgYXMgYSBtYXAgYnV0IGFsc28gYWxsb3dzIGdldHRpbmcgLyByZW1vdmluZwogKiBlbGVtZW50cyBpbiB0aGUgTElGTyBvcmRlcgogKi8KICAuZmFjdG9yeSgnJCRzdGFja2VkTWFwJywgZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgY3JlYXRlTmV3OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHN0YWNrID0gW107CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICBhZGQ6IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7CiAgICAgICAgICAgIHN0YWNrLnB1c2goewogICAgICAgICAgICAgIGtleToga2V5LAogICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sCiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIGlmIChrZXkgPT0gc3RhY2tbaV0ua2V5KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gc3RhY2tbaV07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAga2V5czogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBrZXlzID0gW107CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBrZXlzLnB1c2goc3RhY2tbaV0ua2V5KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4ga2V5czsKICAgICAgICAgIH0sCiAgICAgICAgICB0b3A6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdOwogICAgICAgICAgfSwKICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgICB2YXIgaWR4ID0gLTE7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBpZiAoa2V5ID09IHN0YWNrW2ldLmtleSkgewogICAgICAgICAgICAgICAgaWR4ID0gaTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gc3RhY2suc3BsaWNlKGlkeCwgMSlbMF07CiAgICAgICAgICB9LAogICAgICAgICAgcmVtb3ZlVG9wOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBzdGFjay5zcGxpY2Uoc3RhY2subGVuZ3RoIC0gMSwgMSlbMF07CiAgICAgICAgICB9LAogICAgICAgICAgbGVuZ3RoOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBzdGFjay5sZW5ndGg7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfQogICAgfTsKICB9KQoKLyoqCiAqIEEgaGVscGVyIGRpcmVjdGl2ZSBmb3IgdGhlICRtb2RhbCBzZXJ2aWNlLiBJdCBjcmVhdGVzIGEgYmFja2Ryb3AgZWxlbWVudC4KICovCiAgLmRpcmVjdGl2ZSgnbW9kYWxCYWNrZHJvcCcsIFsnJHRpbWVvdXQnLCBmdW5jdGlvbiAoJHRpbWVvdXQpIHsKICAgIHJldHVybiB7CiAgICAgIHJlc3RyaWN0OiAnRUEnLAogICAgICByZXBsYWNlOiB0cnVlLAogICAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWwnLAogICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUpIHsKCiAgICAgICAgc2NvcGUuYW5pbWF0ZSA9IGZhbHNlOwoKICAgICAgICAvL3RyaWdnZXIgQ1NTIHRyYW5zaXRpb25zCiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgc2NvcGUuYW5pbWF0ZSA9IHRydWU7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CiAgfV0pCgogIC5kaXJlY3RpdmUoJ21vZGFsV2luZG93JywgWyckbW9kYWxTdGFjaycsICckdGltZW91dCcsIGZ1bmN0aW9uICgkbW9kYWxTdGFjaywgJHRpbWVvdXQpIHsKICAgIHJldHVybiB7CiAgICAgIHJlc3RyaWN0OiAnRUEnLAogICAgICBzY29wZTogewogICAgICAgIGluZGV4OiAnQCcsCiAgICAgICAgYW5pbWF0ZTogJz0nCiAgICAgIH0sCiAgICAgIHJlcGxhY2U6IHRydWUsCiAgICAgIHRyYW5zY2x1ZGU6IHRydWUsCiAgICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzKSB7CiAgICAgICAgcmV0dXJuIHRBdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWwnOwogICAgICB9LAogICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7CiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhhdHRycy53aW5kb3dDbGFzcyB8fCAnJyk7CiAgICAgICAgc2NvcGUuc2l6ZSA9IGF0dHJzLnNpemU7CgogICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIHRyaWdnZXIgQ1NTIHRyYW5zaXRpb25zCiAgICAgICAgICBzY29wZS5hbmltYXRlID0gdHJ1ZTsKICAgICAgICAgIC8vIGZvY3VzIGEgZnJlc2hseS1vcGVuZWQgbW9kYWwKICAgICAgICAgIGVsZW1lbnRbMF0uZm9jdXMoKTsKICAgICAgICB9KTsKCiAgICAgICAgc2NvcGUuY2xvc2UgPSBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgICAgICB2YXIgbW9kYWwgPSAkbW9kYWxTdGFjay5nZXRUb3AoKTsKICAgICAgICAgIGlmIChtb2RhbCAmJiBtb2RhbC52YWx1ZS5iYWNrZHJvcCAmJiBtb2RhbC52YWx1ZS5iYWNrZHJvcCAhPSAnc3RhdGljJyAmJiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpKSB7CiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICRtb2RhbFN0YWNrLmRpc21pc3MobW9kYWwua2V5LCAnYmFja2Ryb3AgY2xpY2snKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9CiAgICB9OwogIH1dKQoKICAuZmFjdG9yeSgnJG1vZGFsU3RhY2snLCBbJyR0cmFuc2l0aW9uJywgJyR0aW1lb3V0JywgJyRkb2N1bWVudCcsICckY29tcGlsZScsICckcm9vdFNjb3BlJywgJyQkc3RhY2tlZE1hcCcsCiAgICBmdW5jdGlvbiAoJHRyYW5zaXRpb24sICR0aW1lb3V0LCAkZG9jdW1lbnQsICRjb21waWxlLCAkcm9vdFNjb3BlLCAkJHN0YWNrZWRNYXApIHsKCiAgICAgIHZhciBPUEVORURfTU9EQUxfQ0xBU1MgPSAnbW9kYWwtb3Blbic7CgogICAgICB2YXIgYmFja2Ryb3BEb21FbCwgYmFja2Ryb3BTY29wZTsKICAgICAgdmFyIG9wZW5lZFdpbmRvd3MgPSAkJHN0YWNrZWRNYXAuY3JlYXRlTmV3KCk7CiAgICAgIHZhciAkbW9kYWxTdGFjayA9IHt9OwoKICAgICAgZnVuY3Rpb24gYmFja2Ryb3BJbmRleCgpIHsKICAgICAgICB2YXIgdG9wQmFja2Ryb3BJbmRleCA9IC0xOwogICAgICAgIHZhciBvcGVuZWQgPSBvcGVuZWRXaW5kb3dzLmtleXMoKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wZW5lZC5sZW5ndGg7IGkrKykgewogICAgICAgICAgaWYgKG9wZW5lZFdpbmRvd3MuZ2V0KG9wZW5lZFtpXSkudmFsdWUuYmFja2Ryb3ApIHsKICAgICAgICAgICAgdG9wQmFja2Ryb3BJbmRleCA9IGk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiB0b3BCYWNrZHJvcEluZGV4OwogICAgICB9CgogICAgICAkcm9vdFNjb3BlLiR3YXRjaChiYWNrZHJvcEluZGV4LCBmdW5jdGlvbihuZXdCYWNrZHJvcEluZGV4KXsKICAgICAgICBpZiAoYmFja2Ryb3BTY29wZSkgewogICAgICAgICAgYmFja2Ryb3BTY29wZS5pbmRleCA9IG5ld0JhY2tkcm9wSW5kZXg7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGZ1bmN0aW9uIHJlbW92ZU1vZGFsV2luZG93KG1vZGFsSW5zdGFuY2UpIHsKCiAgICAgICAgdmFyIGJvZHkgPSAkZG9jdW1lbnQuZmluZCgnYm9keScpLmVxKDApOwogICAgICAgIHZhciBtb2RhbFdpbmRvdyA9IG9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpLnZhbHVlOwoKICAgICAgICAvL2NsZWFuIHVwIHRoZSBzdGFjawogICAgICAgIG9wZW5lZFdpbmRvd3MucmVtb3ZlKG1vZGFsSW5zdGFuY2UpOwoKICAgICAgICAvL3JlbW92ZSB3aW5kb3cgRE9NIGVsZW1lbnQKICAgICAgICByZW1vdmVBZnRlckFuaW1hdGUobW9kYWxXaW5kb3cubW9kYWxEb21FbCwgbW9kYWxXaW5kb3cubW9kYWxTY29wZSwgMzAwLCBmdW5jdGlvbigpIHsKICAgICAgICAgIG1vZGFsV2luZG93Lm1vZGFsU2NvcGUuJGRlc3Ryb3koKTsKICAgICAgICAgIGJvZHkudG9nZ2xlQ2xhc3MoT1BFTkVEX01PREFMX0NMQVNTLCBvcGVuZWRXaW5kb3dzLmxlbmd0aCgpID4gMCk7CiAgICAgICAgICBjaGVja1JlbW92ZUJhY2tkcm9wKCk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGNoZWNrUmVtb3ZlQmFja2Ryb3AoKSB7CiAgICAgICAgICAvL3JlbW92ZSBiYWNrZHJvcCBpZiBubyBsb25nZXIgbmVlZGVkCiAgICAgICAgICBpZiAoYmFja2Ryb3BEb21FbCAmJiBiYWNrZHJvcEluZGV4KCkgPT0gLTEpIHsKICAgICAgICAgICAgdmFyIGJhY2tkcm9wU2NvcGVSZWYgPSBiYWNrZHJvcFNjb3BlOwogICAgICAgICAgICByZW1vdmVBZnRlckFuaW1hdGUoYmFja2Ryb3BEb21FbCwgYmFja2Ryb3BTY29wZSwgMTUwLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgYmFja2Ryb3BTY29wZVJlZi4kZGVzdHJveSgpOwogICAgICAgICAgICAgIGJhY2tkcm9wU2NvcGVSZWYgPSBudWxsOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgYmFja2Ryb3BEb21FbCA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgYmFja2Ryb3BTY29wZSA9IHVuZGVmaW5lZDsKICAgICAgICAgIH0KICAgICAgfQoKICAgICAgZnVuY3Rpb24gcmVtb3ZlQWZ0ZXJBbmltYXRlKGRvbUVsLCBzY29wZSwgZW11bGF0ZVRpbWUsIGRvbmUpIHsKICAgICAgICAvLyBDbG9zaW5nIGFuaW1hdGlvbgogICAgICAgIHNjb3BlLmFuaW1hdGUgPSBmYWxzZTsKCiAgICAgICAgdmFyIHRyYW5zaXRpb25FbmRFdmVudE5hbWUgPSAkdHJhbnNpdGlvbi50cmFuc2l0aW9uRW5kRXZlbnROYW1lOwogICAgICAgIGlmICh0cmFuc2l0aW9uRW5kRXZlbnROYW1lKSB7CiAgICAgICAgICAvLyB0cmFuc2l0aW9uIG91dAogICAgICAgICAgdmFyIHRpbWVvdXQgPSAkdGltZW91dChhZnRlckFuaW1hdGluZywgZW11bGF0ZVRpbWUpOwoKICAgICAgICAgIGRvbUVsLmJpbmQodHJhbnNpdGlvbkVuZEV2ZW50TmFtZSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkdGltZW91dC5jYW5jZWwodGltZW91dCk7CiAgICAgICAgICAgIGFmdGVyQW5pbWF0aW5nKCk7CiAgICAgICAgICAgIHNjb3BlLiRhcHBseSgpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIEVuc3VyZSB0aGlzIGNhbGwgaXMgYXN5bmMKICAgICAgICAgICR0aW1lb3V0KGFmdGVyQW5pbWF0aW5nLCAwKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGFmdGVyQW5pbWF0aW5nKCkgewogICAgICAgICAgaWYgKGFmdGVyQW5pbWF0aW5nLmRvbmUpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgYWZ0ZXJBbmltYXRpbmcuZG9uZSA9IHRydWU7CgogICAgICAgICAgZG9tRWwucmVtb3ZlKCk7CiAgICAgICAgICBpZiAoZG9uZSkgewogICAgICAgICAgICBkb25lKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICAkZG9jdW1lbnQuYmluZCgna2V5ZG93bicsIGZ1bmN0aW9uIChldnQpIHsKICAgICAgICB2YXIgbW9kYWw7CgogICAgICAgIGlmIChldnQud2hpY2ggPT09IDI3KSB7CiAgICAgICAgICBtb2RhbCA9IG9wZW5lZFdpbmRvd3MudG9wKCk7CiAgICAgICAgICBpZiAobW9kYWwgJiYgbW9kYWwudmFsdWUua2V5Ym9hcmQpIHsKICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAkbW9kYWxTdGFjay5kaXNtaXNzKG1vZGFsLmtleSwgJ2VzY2FwZSBrZXkgcHJlc3MnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgICRtb2RhbFN0YWNrLm9wZW4gPSBmdW5jdGlvbiAobW9kYWxJbnN0YW5jZSwgbW9kYWwpIHsKCiAgICAgICAgb3BlbmVkV2luZG93cy5hZGQobW9kYWxJbnN0YW5jZSwgewogICAgICAgICAgZGVmZXJyZWQ6IG1vZGFsLmRlZmVycmVkLAogICAgICAgICAgbW9kYWxTY29wZTogbW9kYWwuc2NvcGUsCiAgICAgICAgICBiYWNrZHJvcDogbW9kYWwuYmFja2Ryb3AsCiAgICAgICAgICBrZXlib2FyZDogbW9kYWwua2V5Ym9hcmQKICAgICAgICB9KTsKCiAgICAgICAgdmFyIGJvZHkgPSAkZG9jdW1lbnQuZmluZCgnYm9keScpLmVxKDApLAogICAgICAgICAgICBjdXJyQmFja2Ryb3BJbmRleCA9IGJhY2tkcm9wSW5kZXgoKTsKCiAgICAgICAgaWYgKGN1cnJCYWNrZHJvcEluZGV4ID49IDAgJiYgIWJhY2tkcm9wRG9tRWwpIHsKICAgICAgICAgIGJhY2tkcm9wU2NvcGUgPSAkcm9vdFNjb3BlLiRuZXcodHJ1ZSk7CiAgICAgICAgICBiYWNrZHJvcFNjb3BlLmluZGV4ID0gY3VyckJhY2tkcm9wSW5kZXg7CiAgICAgICAgICBiYWNrZHJvcERvbUVsID0gJGNvbXBpbGUoJzxkaXYgbW9kYWwtYmFja2Ryb3A+PC9kaXY+JykoYmFja2Ryb3BTY29wZSk7CiAgICAgICAgICBib2R5LmFwcGVuZChiYWNrZHJvcERvbUVsKTsKICAgICAgICB9CgogICAgICAgIHZhciBhbmd1bGFyRG9tRWwgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYgbW9kYWwtd2luZG93PjwvZGl2PicpOwogICAgICAgIGFuZ3VsYXJEb21FbC5hdHRyKHsKICAgICAgICAgICd0ZW1wbGF0ZS11cmwnOiBtb2RhbC53aW5kb3dUZW1wbGF0ZVVybCwKICAgICAgICAgICd3aW5kb3ctY2xhc3MnOiBtb2RhbC53aW5kb3dDbGFzcywKICAgICAgICAgICdzaXplJzogbW9kYWwuc2l6ZSwKICAgICAgICAgICdpbmRleCc6IG9wZW5lZFdpbmRvd3MubGVuZ3RoKCkgLSAxLAogICAgICAgICAgJ2FuaW1hdGUnOiAnYW5pbWF0ZScKICAgICAgICB9KS5odG1sKG1vZGFsLmNvbnRlbnQpOwoKICAgICAgICB2YXIgbW9kYWxEb21FbCA9ICRjb21waWxlKGFuZ3VsYXJEb21FbCkobW9kYWwuc2NvcGUpOwogICAgICAgIG9wZW5lZFdpbmRvd3MudG9wKCkudmFsdWUubW9kYWxEb21FbCA9IG1vZGFsRG9tRWw7CiAgICAgICAgYm9keS5hcHBlbmQobW9kYWxEb21FbCk7CiAgICAgICAgYm9keS5hZGRDbGFzcyhPUEVORURfTU9EQUxfQ0xBU1MpOwogICAgICB9OwoKICAgICAgJG1vZGFsU3RhY2suY2xvc2UgPSBmdW5jdGlvbiAobW9kYWxJbnN0YW5jZSwgcmVzdWx0KSB7CiAgICAgICAgdmFyIG1vZGFsV2luZG93ID0gb3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSkudmFsdWU7CiAgICAgICAgaWYgKG1vZGFsV2luZG93KSB7CiAgICAgICAgICBtb2RhbFdpbmRvdy5kZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCk7CiAgICAgICAgICByZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICAkbW9kYWxTdGFjay5kaXNtaXNzID0gZnVuY3Rpb24gKG1vZGFsSW5zdGFuY2UsIHJlYXNvbikgewogICAgICAgIHZhciBtb2RhbFdpbmRvdyA9IG9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpLnZhbHVlOwogICAgICAgIGlmIChtb2RhbFdpbmRvdykgewogICAgICAgICAgbW9kYWxXaW5kb3cuZGVmZXJyZWQucmVqZWN0KHJlYXNvbik7CiAgICAgICAgICByZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICAkbW9kYWxTdGFjay5kaXNtaXNzQWxsID0gZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgIHZhciB0b3BNb2RhbCA9IHRoaXMuZ2V0VG9wKCk7CiAgICAgICAgd2hpbGUgKHRvcE1vZGFsKSB7CiAgICAgICAgICB0aGlzLmRpc21pc3ModG9wTW9kYWwua2V5LCByZWFzb24pOwogICAgICAgICAgdG9wTW9kYWwgPSB0aGlzLmdldFRvcCgpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgICRtb2RhbFN0YWNrLmdldFRvcCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gb3BlbmVkV2luZG93cy50b3AoKTsKICAgICAgfTsKCiAgICAgIHJldHVybiAkbW9kYWxTdGFjazsKICAgIH1dKQoKICAucHJvdmlkZXIoJyRtb2RhbCcsIGZ1bmN0aW9uICgpIHsKCiAgICB2YXIgJG1vZGFsUHJvdmlkZXIgPSB7CiAgICAgIG9wdGlvbnM6IHsKICAgICAgICBiYWNrZHJvcDogdHJ1ZSwgLy9jYW4gYmUgYWxzbyBmYWxzZSBvciAnc3RhdGljJwogICAgICAgIGtleWJvYXJkOiB0cnVlCiAgICAgIH0sCiAgICAgICRnZXQ6IFsnJGluamVjdG9yJywgJyRyb290U2NvcGUnLCAnJHEnLCAnJGh0dHAnLCAnJHRlbXBsYXRlQ2FjaGUnLCAnJGNvbnRyb2xsZXInLCAnJG1vZGFsU3RhY2snLAogICAgICAgIGZ1bmN0aW9uICgkaW5qZWN0b3IsICRyb290U2NvcGUsICRxLCAkaHR0cCwgJHRlbXBsYXRlQ2FjaGUsICRjb250cm9sbGVyLCAkbW9kYWxTdGFjaykgewoKICAgICAgICAgIHZhciAkbW9kYWwgPSB7fTsKCiAgICAgICAgICBmdW5jdGlvbiBnZXRUZW1wbGF0ZVByb21pc2Uob3B0aW9ucykgewogICAgICAgICAgICByZXR1cm4gb3B0aW9ucy50ZW1wbGF0ZSA/ICRxLndoZW4ob3B0aW9ucy50ZW1wbGF0ZSkgOgogICAgICAgICAgICAgICRodHRwLmdldChvcHRpb25zLnRlbXBsYXRlVXJsLCB7Y2FjaGU6ICR0ZW1wbGF0ZUNhY2hlfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LmRhdGE7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgZnVuY3Rpb24gZ2V0UmVzb2x2ZVByb21pc2VzKHJlc29sdmVzKSB7CiAgICAgICAgICAgIHZhciBwcm9taXNlc0FyciA9IFtdOwogICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gocmVzb2x2ZXMsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7CiAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih2YWx1ZSkgfHwgYW5ndWxhci5pc0FycmF5KHZhbHVlKSkgewogICAgICAgICAgICAgICAgcHJvbWlzZXNBcnIucHVzaCgkcS53aGVuKCRpbmplY3Rvci5pbnZva2UodmFsdWUpKSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHByb21pc2VzQXJyOwogICAgICAgICAgfQoKICAgICAgICAgICRtb2RhbC5vcGVuID0gZnVuY3Rpb24gKG1vZGFsT3B0aW9ucykgewoKICAgICAgICAgICAgdmFyIG1vZGFsUmVzdWx0RGVmZXJyZWQgPSAkcS5kZWZlcigpOwogICAgICAgICAgICB2YXIgbW9kYWxPcGVuZWREZWZlcnJlZCA9ICRxLmRlZmVyKCk7CgogICAgICAgICAgICAvL3ByZXBhcmUgYW4gaW5zdGFuY2Ugb2YgYSBtb2RhbCB0byBiZSBpbmplY3RlZCBpbnRvIGNvbnRyb2xsZXJzIGFuZCByZXR1cm5lZCB0byBhIGNhbGxlcgogICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9IHsKICAgICAgICAgICAgICByZXN1bHQ6IG1vZGFsUmVzdWx0RGVmZXJyZWQucHJvbWlzZSwKICAgICAgICAgICAgICBvcGVuZWQ6IG1vZGFsT3BlbmVkRGVmZXJyZWQucHJvbWlzZSwKICAgICAgICAgICAgICBjbG9zZTogZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgJG1vZGFsU3RhY2suY2xvc2UobW9kYWxJbnN0YW5jZSwgcmVzdWx0KTsKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGRpc21pc3M6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgICAgICAgICRtb2RhbFN0YWNrLmRpc21pc3MobW9kYWxJbnN0YW5jZSwgcmVhc29uKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CgogICAgICAgICAgICAvL21lcmdlIGFuZCBjbGVhbiB1cCBvcHRpb25zCiAgICAgICAgICAgIG1vZGFsT3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCAkbW9kYWxQcm92aWRlci5vcHRpb25zLCBtb2RhbE9wdGlvbnMpOwogICAgICAgICAgICBtb2RhbE9wdGlvbnMucmVzb2x2ZSA9IG1vZGFsT3B0aW9ucy5yZXNvbHZlIHx8IHt9OwoKICAgICAgICAgICAgLy92ZXJpZnkgb3B0aW9ucwogICAgICAgICAgICBpZiAoIW1vZGFsT3B0aW9ucy50ZW1wbGF0ZSAmJiAhbW9kYWxPcHRpb25zLnRlbXBsYXRlVXJsKSB7CiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmUgb2YgdGVtcGxhdGUgb3IgdGVtcGxhdGVVcmwgb3B0aW9ucyBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIHRlbXBsYXRlQW5kUmVzb2x2ZVByb21pc2UgPQogICAgICAgICAgICAgICRxLmFsbChbZ2V0VGVtcGxhdGVQcm9taXNlKG1vZGFsT3B0aW9ucyldLmNvbmNhdChnZXRSZXNvbHZlUHJvbWlzZXMobW9kYWxPcHRpb25zLnJlc29sdmUpKSk7CgoKICAgICAgICAgICAgdGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZS50aGVuKGZ1bmN0aW9uIHJlc29sdmVTdWNjZXNzKHRwbEFuZFZhcnMpIHsKCiAgICAgICAgICAgICAgdmFyIG1vZGFsU2NvcGUgPSAobW9kYWxPcHRpb25zLnNjb3BlIHx8ICRyb290U2NvcGUpLiRuZXcoKTsKICAgICAgICAgICAgICBtb2RhbFNjb3BlLiRjbG9zZSA9IG1vZGFsSW5zdGFuY2UuY2xvc2U7CiAgICAgICAgICAgICAgbW9kYWxTY29wZS4kZGlzbWlzcyA9IG1vZGFsSW5zdGFuY2UuZGlzbWlzczsKCiAgICAgICAgICAgICAgdmFyIGN0cmxJbnN0YW5jZSwgY3RybExvY2FscyA9IHt9OwogICAgICAgICAgICAgIHZhciByZXNvbHZlSXRlciA9IDE7CgogICAgICAgICAgICAgIC8vY29udHJvbGxlcnMKICAgICAgICAgICAgICBpZiAobW9kYWxPcHRpb25zLmNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgICAgIGN0cmxMb2NhbHMuJHNjb3BlID0gbW9kYWxTY29wZTsKICAgICAgICAgICAgICAgIGN0cmxMb2NhbHMuJG1vZGFsSW5zdGFuY2UgPSBtb2RhbEluc3RhbmNlOwogICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKG1vZGFsT3B0aW9ucy5yZXNvbHZlLCBmdW5jdGlvbiAodmFsdWUsIGtleSkgewogICAgICAgICAgICAgICAgICBjdHJsTG9jYWxzW2tleV0gPSB0cGxBbmRWYXJzW3Jlc29sdmVJdGVyKytdOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY3RybEluc3RhbmNlID0gJGNvbnRyb2xsZXIobW9kYWxPcHRpb25zLmNvbnRyb2xsZXIsIGN0cmxMb2NhbHMpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgJG1vZGFsU3RhY2sub3Blbihtb2RhbEluc3RhbmNlLCB7CiAgICAgICAgICAgICAgICBzY29wZTogbW9kYWxTY29wZSwKICAgICAgICAgICAgICAgIGRlZmVycmVkOiBtb2RhbFJlc3VsdERlZmVycmVkLAogICAgICAgICAgICAgICAgY29udGVudDogdHBsQW5kVmFyc1swXSwKICAgICAgICAgICAgICAgIGJhY2tkcm9wOiBtb2RhbE9wdGlvbnMuYmFja2Ryb3AsCiAgICAgICAgICAgICAgICBrZXlib2FyZDogbW9kYWxPcHRpb25zLmtleWJvYXJkLAogICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6IG1vZGFsT3B0aW9ucy53aW5kb3dDbGFzcywKICAgICAgICAgICAgICAgIHdpbmRvd1RlbXBsYXRlVXJsOiBtb2RhbE9wdGlvbnMud2luZG93VGVtcGxhdGVVcmwsCiAgICAgICAgICAgICAgICBzaXplOiBtb2RhbE9wdGlvbnMuc2l6ZQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgfSwgZnVuY3Rpb24gcmVzb2x2ZUVycm9yKHJlYXNvbikgewogICAgICAgICAgICAgIG1vZGFsUmVzdWx0RGVmZXJyZWQucmVqZWN0KHJlYXNvbik7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgdGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBtb2RhbE9wZW5lZERlZmVycmVkLnJlc29sdmUodHJ1ZSk7CiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBtb2RhbE9wZW5lZERlZmVycmVkLnJlamVjdChmYWxzZSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgcmV0dXJuIG1vZGFsSW5zdGFuY2U7CiAgICAgICAgICB9OwoKICAgICAgICAgIHJldHVybiAkbW9kYWw7CiAgICAgICAgfV0KICAgIH07CgogICAgcmV0dXJuICRtb2RhbFByb3ZpZGVyOwogIH0pOwoKYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5wYWdpbmF0aW9uJywgW10pCgouY29udHJvbGxlcignUGFnaW5hdGlvbkNvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAnJHBhcnNlJywgZnVuY3Rpb24gKCRzY29wZSwgJGF0dHJzLCAkcGFyc2UpIHsKICB2YXIgc2VsZiA9IHRoaXMsCiAgICAgIG5nTW9kZWxDdHJsID0geyAkc2V0Vmlld1ZhbHVlOiBhbmd1bGFyLm5vb3AgfSwgLy8gbnVsbE1vZGVsQ3RybAogICAgICBzZXROdW1QYWdlcyA9ICRhdHRycy5udW1QYWdlcyA/ICRwYXJzZSgkYXR0cnMubnVtUGFnZXMpLmFzc2lnbiA6IGFuZ3VsYXIubm9vcDsKCiAgdGhpcy5pbml0ID0gZnVuY3Rpb24obmdNb2RlbEN0cmxfLCBjb25maWcpIHsKICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfOwogICAgdGhpcy5jb25maWcgPSBjb25maWc7CgogICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkgewogICAgICBzZWxmLnJlbmRlcigpOwogICAgfTsKCiAgICBpZiAoJGF0dHJzLml0ZW1zUGVyUGFnZSkgewogICAgICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5pdGVtc1BlclBhZ2UpLCBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgIHNlbGYuaXRlbXNQZXJQYWdlID0gcGFyc2VJbnQodmFsdWUsIDEwKTsKICAgICAgICAkc2NvcGUudG90YWxQYWdlcyA9IHNlbGYuY2FsY3VsYXRlVG90YWxQYWdlcygpOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuaXRlbXNQZXJQYWdlID0gY29uZmlnLml0ZW1zUGVyUGFnZTsKICAgIH0KICB9OwoKICB0aGlzLmNhbGN1bGF0ZVRvdGFsUGFnZXMgPSBmdW5jdGlvbigpIHsKICAgIHZhciB0b3RhbFBhZ2VzID0gdGhpcy5pdGVtc1BlclBhZ2UgPCAxID8gMSA6IE1hdGguY2VpbCgkc2NvcGUudG90YWxJdGVtcyAvIHRoaXMuaXRlbXNQZXJQYWdlKTsKICAgIHJldHVybiBNYXRoLm1heCh0b3RhbFBhZ2VzIHx8IDAsIDEpOwogIH07CgogIHRoaXMucmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICAkc2NvcGUucGFnZSA9IHBhcnNlSW50KG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUsIDEwKSB8fCAxOwogIH07CgogICRzY29wZS5zZWxlY3RQYWdlID0gZnVuY3Rpb24ocGFnZSkgewogICAgaWYgKCAkc2NvcGUucGFnZSAhPT0gcGFnZSAmJiBwYWdlID4gMCAmJiBwYWdlIDw9ICRzY29wZS50b3RhbFBhZ2VzKSB7CiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUocGFnZSk7CiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTsKICAgIH0KICB9OwoKICAkc2NvcGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKCBrZXkgKSB7CiAgICByZXR1cm4gJHNjb3BlW2tleSArICdUZXh0J10gfHwgc2VsZi5jb25maWdba2V5ICsgJ1RleHQnXTsKICB9OwogICRzY29wZS5ub1ByZXZpb3VzID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gJHNjb3BlLnBhZ2UgPT09IDE7CiAgfTsKICAkc2NvcGUubm9OZXh0ID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gJHNjb3BlLnBhZ2UgPT09ICRzY29wZS50b3RhbFBhZ2VzOwogIH07CgogICRzY29wZS4kd2F0Y2goJ3RvdGFsSXRlbXMnLCBmdW5jdGlvbigpIHsKICAgICRzY29wZS50b3RhbFBhZ2VzID0gc2VsZi5jYWxjdWxhdGVUb3RhbFBhZ2VzKCk7CiAgfSk7CgogICRzY29wZS4kd2F0Y2goJ3RvdGFsUGFnZXMnLCBmdW5jdGlvbih2YWx1ZSkgewogICAgc2V0TnVtUGFnZXMoJHNjb3BlLiRwYXJlbnQsIHZhbHVlKTsgLy8gUmVhZG9ubHkgdmFyaWFibGUKCiAgICBpZiAoICRzY29wZS5wYWdlID4gdmFsdWUgKSB7CiAgICAgICRzY29wZS5zZWxlY3RQYWdlKHZhbHVlKTsKICAgIH0gZWxzZSB7CiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTsKICAgIH0KICB9KTsKfV0pCgouY29uc3RhbnQoJ3BhZ2luYXRpb25Db25maWcnLCB7CiAgaXRlbXNQZXJQYWdlOiAxMCwKICBib3VuZGFyeUxpbmtzOiBmYWxzZSwKICBkaXJlY3Rpb25MaW5rczogdHJ1ZSwKICBmaXJzdFRleHQ6ICdGaXJzdCcsCiAgcHJldmlvdXNUZXh0OiAnUHJldmlvdXMnLAogIG5leHRUZXh0OiAnTmV4dCcsCiAgbGFzdFRleHQ6ICdMYXN0JywKICByb3RhdGU6IHRydWUKfSkKCi5kaXJlY3RpdmUoJ3BhZ2luYXRpb24nLCBbJyRwYXJzZScsICdwYWdpbmF0aW9uQ29uZmlnJywgZnVuY3Rpb24oJHBhcnNlLCBwYWdpbmF0aW9uQ29uZmlnKSB7CiAgcmV0dXJuIHsKICAgIHJlc3RyaWN0OiAnRUEnLAogICAgc2NvcGU6IHsKICAgICAgdG90YWxJdGVtczogJz0nLAogICAgICBmaXJzdFRleHQ6ICdAJywKICAgICAgcHJldmlvdXNUZXh0OiAnQCcsCiAgICAgIG5leHRUZXh0OiAnQCcsCiAgICAgIGxhc3RUZXh0OiAnQCcKICAgIH0sCiAgICByZXF1aXJlOiBbJ3BhZ2luYXRpb24nLCAnP25nTW9kZWwnXSwKICAgIGNvbnRyb2xsZXI6ICdQYWdpbmF0aW9uQ29udHJvbGxlcicsCiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sJywKICAgIHJlcGxhY2U6IHRydWUsCiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7CiAgICAgIHZhciBwYWdpbmF0aW9uQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdOwoKICAgICAgaWYgKCFuZ01vZGVsQ3RybCkgewogICAgICAgICByZXR1cm47IC8vIGRvIG5vdGhpbmcgaWYgbm8gbmctbW9kZWwKICAgICAgfQoKICAgICAgLy8gU2V0dXAgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzCiAgICAgIHZhciBtYXhTaXplID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMubWF4U2l6ZSkgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLm1heFNpemUpIDogcGFnaW5hdGlvbkNvbmZpZy5tYXhTaXplLAogICAgICAgICAgcm90YXRlID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMucm90YXRlKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMucm90YXRlKSA6IHBhZ2luYXRpb25Db25maWcucm90YXRlOwogICAgICBzY29wZS5ib3VuZGFyeUxpbmtzID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuYm91bmRhcnlMaW5rcykgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmJvdW5kYXJ5TGlua3MpIDogcGFnaW5hdGlvbkNvbmZpZy5ib3VuZGFyeUxpbmtzOwogICAgICBzY29wZS5kaXJlY3Rpb25MaW5rcyA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmRpcmVjdGlvbkxpbmtzKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuZGlyZWN0aW9uTGlua3MpIDogcGFnaW5hdGlvbkNvbmZpZy5kaXJlY3Rpb25MaW5rczsKCiAgICAgIHBhZ2luYXRpb25DdHJsLmluaXQobmdNb2RlbEN0cmwsIHBhZ2luYXRpb25Db25maWcpOwoKICAgICAgaWYgKGF0dHJzLm1heFNpemUpIHsKICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoYXR0cnMubWF4U2l6ZSksIGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgICBtYXhTaXplID0gcGFyc2VJbnQodmFsdWUsIDEwKTsKICAgICAgICAgIHBhZ2luYXRpb25DdHJsLnJlbmRlcigpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICAvLyBDcmVhdGUgcGFnZSBvYmplY3QgdXNlZCBpbiB0ZW1wbGF0ZQogICAgICBmdW5jdGlvbiBtYWtlUGFnZShudW1iZXIsIHRleHQsIGlzQWN0aXZlKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIG51bWJlcjogbnVtYmVyLAogICAgICAgICAgdGV4dDogdGV4dCwKICAgICAgICAgIGFjdGl2ZTogaXNBY3RpdmUKICAgICAgICB9OwogICAgICB9CgogICAgICBmdW5jdGlvbiBnZXRQYWdlcyhjdXJyZW50UGFnZSwgdG90YWxQYWdlcykgewogICAgICAgIHZhciBwYWdlcyA9IFtdOwoKICAgICAgICAvLyBEZWZhdWx0IHBhZ2UgbGltaXRzCiAgICAgICAgdmFyIHN0YXJ0UGFnZSA9IDEsIGVuZFBhZ2UgPSB0b3RhbFBhZ2VzOwogICAgICAgIHZhciBpc01heFNpemVkID0gKCBhbmd1bGFyLmlzRGVmaW5lZChtYXhTaXplKSAmJiBtYXhTaXplIDwgdG90YWxQYWdlcyApOwoKICAgICAgICAvLyByZWNvbXB1dGUgaWYgbWF4U2l6ZQogICAgICAgIGlmICggaXNNYXhTaXplZCApIHsKICAgICAgICAgIGlmICggcm90YXRlICkgewogICAgICAgICAgICAvLyBDdXJyZW50IHBhZ2UgaXMgZGlzcGxheWVkIGluIHRoZSBtaWRkbGUgb2YgdGhlIHZpc2libGUgb25lcwogICAgICAgICAgICBzdGFydFBhZ2UgPSBNYXRoLm1heChjdXJyZW50UGFnZSAtIE1hdGguZmxvb3IobWF4U2l6ZS8yKSwgMSk7CiAgICAgICAgICAgIGVuZFBhZ2UgICA9IHN0YXJ0UGFnZSArIG1heFNpemUgLSAxOwoKICAgICAgICAgICAgLy8gQWRqdXN0IGlmIGxpbWl0IGlzIGV4Y2VlZGVkCiAgICAgICAgICAgIGlmIChlbmRQYWdlID4gdG90YWxQYWdlcykgewogICAgICAgICAgICAgIGVuZFBhZ2UgICA9IHRvdGFsUGFnZXM7CiAgICAgICAgICAgICAgc3RhcnRQYWdlID0gZW5kUGFnZSAtIG1heFNpemUgKyAxOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBWaXNpYmxlIHBhZ2VzIGFyZSBwYWdpbmF0ZWQgd2l0aCBtYXhTaXplCiAgICAgICAgICAgIHN0YXJ0UGFnZSA9ICgoTWF0aC5jZWlsKGN1cnJlbnRQYWdlIC8gbWF4U2l6ZSkgLSAxKSAqIG1heFNpemUpICsgMTsKCiAgICAgICAgICAgIC8vIEFkanVzdCBsYXN0IHBhZ2UgaWYgbGltaXQgaXMgZXhjZWVkZWQKICAgICAgICAgICAgZW5kUGFnZSA9IE1hdGgubWluKHN0YXJ0UGFnZSArIG1heFNpemUgLSAxLCB0b3RhbFBhZ2VzKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIEFkZCBwYWdlIG51bWJlciBsaW5rcwogICAgICAgIGZvciAodmFyIG51bWJlciA9IHN0YXJ0UGFnZTsgbnVtYmVyIDw9IGVuZFBhZ2U7IG51bWJlcisrKSB7CiAgICAgICAgICB2YXIgcGFnZSA9IG1ha2VQYWdlKG51bWJlciwgbnVtYmVyLCBudW1iZXIgPT09IGN1cnJlbnRQYWdlKTsKICAgICAgICAgIHBhZ2VzLnB1c2gocGFnZSk7CiAgICAgICAgfQoKICAgICAgICAvLyBBZGQgbGlua3MgdG8gbW92ZSBiZXR3ZWVuIHBhZ2Ugc2V0cwogICAgICAgIGlmICggaXNNYXhTaXplZCAmJiAhIHJvdGF0ZSApIHsKICAgICAgICAgIGlmICggc3RhcnRQYWdlID4gMSApIHsKICAgICAgICAgICAgdmFyIHByZXZpb3VzUGFnZVNldCA9IG1ha2VQYWdlKHN0YXJ0UGFnZSAtIDEsICcuLi4nLCBmYWxzZSk7CiAgICAgICAgICAgIHBhZ2VzLnVuc2hpZnQocHJldmlvdXNQYWdlU2V0KTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoIGVuZFBhZ2UgPCB0b3RhbFBhZ2VzICkgewogICAgICAgICAgICB2YXIgbmV4dFBhZ2VTZXQgPSBtYWtlUGFnZShlbmRQYWdlICsgMSwgJy4uLicsIGZhbHNlKTsKICAgICAgICAgICAgcGFnZXMucHVzaChuZXh0UGFnZVNldCk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcGFnZXM7CiAgICAgIH0KCiAgICAgIHZhciBvcmlnaW5hbFJlbmRlciA9IHBhZ2luYXRpb25DdHJsLnJlbmRlcjsKICAgICAgcGFnaW5hdGlvbkN0cmwucmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICAgICAgb3JpZ2luYWxSZW5kZXIoKTsKICAgICAgICBpZiAoc2NvcGUucGFnZSA+IDAgJiYgc2NvcGUucGFnZSA8PSBzY29wZS50b3RhbFBhZ2VzKSB7CiAgICAgICAgICBzY29wZS5wYWdlcyA9IGdldFBhZ2VzKHNjb3BlLnBhZ2UsIHNjb3BlLnRvdGFsUGFnZXMpOwogICAgICAgIH0KICAgICAgfTsKICAgIH0KICB9Owp9XSkKCi5jb25zdGFudCgncGFnZXJDb25maWcnLCB7CiAgaXRlbXNQZXJQYWdlOiAxMCwKICBwcmV2aW91c1RleHQ6ICfCqyBQcmV2aW91cycsCiAgbmV4dFRleHQ6ICdOZXh0IMK7JywKICBhbGlnbjogdHJ1ZQp9KQoKLmRpcmVjdGl2ZSgncGFnZXInLCBbJ3BhZ2VyQ29uZmlnJywgZnVuY3Rpb24ocGFnZXJDb25maWcpIHsKICByZXR1cm4gewogICAgcmVzdHJpY3Q6ICdFQScsCiAgICBzY29wZTogewogICAgICB0b3RhbEl0ZW1zOiAnPScsCiAgICAgIHByZXZpb3VzVGV4dDogJ0AnLAogICAgICBuZXh0VGV4dDogJ0AnCiAgICB9LAogICAgcmVxdWlyZTogWydwYWdlcicsICc/bmdNb2RlbCddLAogICAgY29udHJvbGxlcjogJ1BhZ2luYXRpb25Db250cm9sbGVyJywKICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sJywKICAgIHJlcGxhY2U6IHRydWUsCiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7CiAgICAgIHZhciBwYWdpbmF0aW9uQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdOwoKICAgICAgaWYgKCFuZ01vZGVsQ3RybCkgewogICAgICAgICByZXR1cm47IC8vIGRvIG5vdGhpbmcgaWYgbm8gbmctbW9kZWwKICAgICAgfQoKICAgICAgc2NvcGUuYWxpZ24gPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5hbGlnbikgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmFsaWduKSA6IHBhZ2VyQ29uZmlnLmFsaWduOwogICAgICBwYWdpbmF0aW9uQ3RybC5pbml0KG5nTW9kZWxDdHJsLCBwYWdlckNvbmZpZyk7CiAgICB9CiAgfTsKfV0pOwoKLyoqCiAqIFRoZSBmb2xsb3dpbmcgZmVhdHVyZXMgYXJlIHN0aWxsIG91dHN0YW5kaW5nOiBhbmltYXRpb24gYXMgYQogKiBmdW5jdGlvbiwgcGxhY2VtZW50IGFzIGEgZnVuY3Rpb24sIGluc2lkZSwgc3VwcG9ydCBmb3IgbW9yZSB0cmlnZ2VycyB0aGFuCiAqIGp1c3QgbW91c2UgZW50ZXIvbGVhdmUsIGh0bWwgdG9vbHRpcHMsIGFuZCBzZWxlY3RvciBkZWxlZ2F0aW9uLgogKi8KYW5ndWxhci5tb2R1bGUoICd1aS5ib290c3RyYXAudG9vbHRpcCcsIFsgJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbicsICd1aS5ib290c3RyYXAuYmluZEh0bWwnIF0gKQoKLyoqCiAqIFRoZSAkdG9vbHRpcCBzZXJ2aWNlIGNyZWF0ZXMgdG9vbHRpcC0gYW5kIHBvcG92ZXItbGlrZSBkaXJlY3RpdmVzIGFzIHdlbGwgYXMKICogaG91c2VzIGdsb2JhbCBvcHRpb25zIGZvciB0aGVtLgogKi8KLnByb3ZpZGVyKCAnJHRvb2x0aXAnLCBmdW5jdGlvbiAoKSB7CiAgLy8gVGhlIGRlZmF1bHQgb3B0aW9ucyB0b29sdGlwIGFuZCBwb3BvdmVyLgogIHZhciBkZWZhdWx0T3B0aW9ucyA9IHsKICAgIHBsYWNlbWVudDogJ3RvcCcsCiAgICBhbmltYXRpb246IHRydWUsCiAgICBwb3B1cERlbGF5OiAwCiAgfTsKCiAgLy8gRGVmYXVsdCBoaWRlIHRyaWdnZXJzIGZvciBlYWNoIHNob3cgdHJpZ2dlcgogIHZhciB0cmlnZ2VyTWFwID0gewogICAgJ21vdXNlZW50ZXInOiAnbW91c2VsZWF2ZScsCiAgICAnY2xpY2snOiAnY2xpY2snLAogICAgJ2ZvY3VzJzogJ2JsdXInCiAgfTsKCiAgLy8gVGhlIG9wdGlvbnMgc3BlY2lmaWVkIHRvIHRoZSBwcm92aWRlciBnbG9iYWxseS4KICB2YXIgZ2xvYmFsT3B0aW9ucyA9IHt9OwoKICAvKioKICAgKiBgb3B0aW9ucyh7fSlgIGFsbG93cyBnbG9iYWwgY29uZmlndXJhdGlvbiBvZiBhbGwgdG9vbHRpcHMgaW4gdGhlCiAgICogYXBwbGljYXRpb24uCiAgICoKICAgKiAgIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSggJ0FwcCcsIFsndWkuYm9vdHN0cmFwLnRvb2x0aXAnXSwgZnVuY3Rpb24oICR0b29sdGlwUHJvdmlkZXIgKSB7CiAgICogICAgIC8vIHBsYWNlIHRvb2x0aXBzIGxlZnQgaW5zdGVhZCBvZiB0b3AgYnkgZGVmYXVsdAogICAqICAgICAkdG9vbHRpcFByb3ZpZGVyLm9wdGlvbnMoIHsgcGxhY2VtZW50OiAnbGVmdCcgfSApOwogICAqICAgfSk7CiAgICovCgl0aGlzLm9wdGlvbnMgPSBmdW5jdGlvbiggdmFsdWUgKSB7CgkJYW5ndWxhci5leHRlbmQoIGdsb2JhbE9wdGlvbnMsIHZhbHVlICk7Cgl9OwoKICAvKioKICAgKiBUaGlzIGFsbG93cyB5b3UgdG8gZXh0ZW5kIHRoZSBzZXQgb2YgdHJpZ2dlciBtYXBwaW5ncyBhdmFpbGFibGUuIEUuZy46CiAgICoKICAgKiAgICR0b29sdGlwUHJvdmlkZXIuc2V0VHJpZ2dlcnMoICdvcGVuVHJpZ2dlcic6ICdjbG9zZVRyaWdnZXInICk7CiAgICovCiAgdGhpcy5zZXRUcmlnZ2VycyA9IGZ1bmN0aW9uIHNldFRyaWdnZXJzICggdHJpZ2dlcnMgKSB7CiAgICBhbmd1bGFyLmV4dGVuZCggdHJpZ2dlck1hcCwgdHJpZ2dlcnMgKTsKICB9OwoKICAvKioKICAgKiBUaGlzIGlzIGEgaGVscGVyIGZ1bmN0aW9uIGZvciB0cmFuc2xhdGluZyBjYW1lbC1jYXNlIHRvIHNuYWtlLWNhc2UuCiAgICovCiAgZnVuY3Rpb24gc25ha2VfY2FzZShuYW1lKXsKICAgIHZhciByZWdleHAgPSAvW0EtWl0vZzsKICAgIHZhciBzZXBhcmF0b3IgPSAnLSc7CiAgICByZXR1cm4gbmFtZS5yZXBsYWNlKHJlZ2V4cCwgZnVuY3Rpb24obGV0dGVyLCBwb3MpIHsKICAgICAgcmV0dXJuIChwb3MgPyBzZXBhcmF0b3IgOiAnJykgKyBsZXR0ZXIudG9Mb3dlckNhc2UoKTsKICAgIH0pOwogIH0KCiAgLyoqCiAgICogUmV0dXJucyB0aGUgYWN0dWFsIGluc3RhbmNlIG9mIHRoZSAkdG9vbHRpcCBzZXJ2aWNlLgogICAqIFRPRE8gc3VwcG9ydCBtdWx0aXBsZSB0cmlnZ2VycwogICAqLwogIHRoaXMuJGdldCA9IFsgJyR3aW5kb3cnLCAnJGNvbXBpbGUnLCAnJHRpbWVvdXQnLCAnJHBhcnNlJywgJyRkb2N1bWVudCcsICckcG9zaXRpb24nLCAnJGludGVycG9sYXRlJywgZnVuY3Rpb24gKCAkd2luZG93LCAkY29tcGlsZSwgJHRpbWVvdXQsICRwYXJzZSwgJGRvY3VtZW50LCAkcG9zaXRpb24sICRpbnRlcnBvbGF0ZSApIHsKICAgIHJldHVybiBmdW5jdGlvbiAkdG9vbHRpcCAoIHR5cGUsIHByZWZpeCwgZGVmYXVsdFRyaWdnZXJTaG93ICkgewogICAgICB2YXIgb3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKCB7fSwgZGVmYXVsdE9wdGlvbnMsIGdsb2JhbE9wdGlvbnMgKTsKCiAgICAgIC8qKgogICAgICAgKiBSZXR1cm5zIGFuIG9iamVjdCBvZiBzaG93IGFuZCBoaWRlIHRyaWdnZXJzLgogICAgICAgKgogICAgICAgKiBJZiBhIHRyaWdnZXIgaXMgc3VwcGxpZWQsCiAgICAgICAqIGl0IGlzIHVzZWQgdG8gc2hvdyB0aGUgdG9vbHRpcDsgb3RoZXJ3aXNlLCBpdCB3aWxsIHVzZSB0aGUgYHRyaWdnZXJgCiAgICAgICAqIG9wdGlvbiBwYXNzZWQgdG8gdGhlIGAkdG9vbHRpcFByb3ZpZGVyLm9wdGlvbnNgIG1ldGhvZDsgZWxzZSBpdCB3aWxsCiAgICAgICAqIGRlZmF1bHQgdG8gdGhlIHRyaWdnZXIgc3VwcGxpZWQgdG8gdGhpcyBkaXJlY3RpdmUgZmFjdG9yeS4KICAgICAgICoKICAgICAgICogVGhlIGhpZGUgdHJpZ2dlciBpcyBiYXNlZCBvbiB0aGUgc2hvdyB0cmlnZ2VyLiBJZiB0aGUgYHRyaWdnZXJgIG9wdGlvbgogICAgICAgKiB3YXMgcGFzc2VkIHRvIHRoZSBgJHRvb2x0aXBQcm92aWRlci5vcHRpb25zYCBtZXRob2QsIGl0IHdpbGwgdXNlIHRoZQogICAgICAgKiBtYXBwZWQgdHJpZ2dlciBmcm9tIGB0cmlnZ2VyTWFwYCBvciB0aGUgcGFzc2VkIHRyaWdnZXIgaWYgdGhlIG1hcCBpcwogICAgICAgKiB1bmRlZmluZWQ7IG90aGVyd2lzZSwgaXQgdXNlcyB0aGUgYHRyaWdnZXJNYXBgIHZhbHVlIG9mIHRoZSBzaG93CiAgICAgICAqIHRyaWdnZXI7IGVsc2UgaXQgd2lsbCBqdXN0IHVzZSB0aGUgc2hvdyB0cmlnZ2VyLgogICAgICAgKi8KICAgICAgZnVuY3Rpb24gZ2V0VHJpZ2dlcnMgKCB0cmlnZ2VyICkgewogICAgICAgIHZhciBzaG93ID0gdHJpZ2dlciB8fCBvcHRpb25zLnRyaWdnZXIgfHwgZGVmYXVsdFRyaWdnZXJTaG93OwogICAgICAgIHZhciBoaWRlID0gdHJpZ2dlck1hcFtzaG93XSB8fCBzaG93OwogICAgICAgIHJldHVybiB7CiAgICAgICAgICBzaG93OiBzaG93LAogICAgICAgICAgaGlkZTogaGlkZQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHZhciBkaXJlY3RpdmVOYW1lID0gc25ha2VfY2FzZSggdHlwZSApOwoKICAgICAgdmFyIHN0YXJ0U3ltID0gJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCk7CiAgICAgIHZhciBlbmRTeW0gPSAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCk7CiAgICAgIHZhciB0ZW1wbGF0ZSA9CiAgICAgICAgJzxkaXYgJysgZGlyZWN0aXZlTmFtZSArJy1wb3B1cCAnKwogICAgICAgICAgJ3RpdGxlPSInK3N0YXJ0U3ltKyd0dF90aXRsZScrZW5kU3ltKyciICcrCiAgICAgICAgICAnY29udGVudD0iJytzdGFydFN5bSsndHRfY29udGVudCcrZW5kU3ltKyciICcrCiAgICAgICAgICAncGxhY2VtZW50PSInK3N0YXJ0U3ltKyd0dF9wbGFjZW1lbnQnK2VuZFN5bSsnIiAnKwogICAgICAgICAgJ2FuaW1hdGlvbj0idHRfYW5pbWF0aW9uIiAnKwogICAgICAgICAgJ2lzLW9wZW49InR0X2lzT3BlbiInKwogICAgICAgICAgJz4nKwogICAgICAgICc8L2Rpdj4nOwoKICAgICAgcmV0dXJuIHsKICAgICAgICByZXN0cmljdDogJ0VBJywKICAgICAgICBzY29wZTogdHJ1ZSwKICAgICAgICBjb21waWxlOiBmdW5jdGlvbiAodEVsZW0sIHRBdHRycykgewogICAgICAgICAgdmFyIHRvb2x0aXBMaW5rZXIgPSAkY29tcGlsZSggdGVtcGxhdGUgKTsKCiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gbGluayAoIHNjb3BlLCBlbGVtZW50LCBhdHRycyApIHsKICAgICAgICAgICAgdmFyIHRvb2x0aXA7CiAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uVGltZW91dDsKICAgICAgICAgICAgdmFyIHBvcHVwVGltZW91dDsKICAgICAgICAgICAgdmFyIGFwcGVuZFRvQm9keSA9IGFuZ3VsYXIuaXNEZWZpbmVkKCBvcHRpb25zLmFwcGVuZFRvQm9keSApID8gb3B0aW9ucy5hcHBlbmRUb0JvZHkgOiBmYWxzZTsKICAgICAgICAgICAgdmFyIHRyaWdnZXJzID0gZ2V0VHJpZ2dlcnMoIHVuZGVmaW5lZCApOwogICAgICAgICAgICB2YXIgaGFzRW5hYmxlRXhwID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnNbcHJlZml4KydFbmFibGUnXSk7CgogICAgICAgICAgICB2YXIgcG9zaXRpb25Ub29sdGlwID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgICB2YXIgdHRQb3NpdGlvbiA9ICRwb3NpdGlvbi5wb3NpdGlvbkVsZW1lbnRzKGVsZW1lbnQsIHRvb2x0aXAsIHNjb3BlLnR0X3BsYWNlbWVudCwgYXBwZW5kVG9Cb2R5KTsKICAgICAgICAgICAgICB0dFBvc2l0aW9uLnRvcCArPSAncHgnOwogICAgICAgICAgICAgIHR0UG9zaXRpb24ubGVmdCArPSAncHgnOwoKICAgICAgICAgICAgICAvLyBOb3cgc2V0IHRoZSBjYWxjdWxhdGVkIHBvc2l0aW9uaW5nLgogICAgICAgICAgICAgIHRvb2x0aXAuY3NzKCB0dFBvc2l0aW9uICk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICAvLyBCeSBkZWZhdWx0LCB0aGUgdG9vbHRpcCBpcyBub3Qgb3Blbi4KICAgICAgICAgICAgLy8gVE9ETyBhZGQgYWJpbGl0eSB0byBzdGFydCB0b29sdGlwIG9wZW5lZAogICAgICAgICAgICBzY29wZS50dF9pc09wZW4gPSBmYWxzZTsKCiAgICAgICAgICAgIGZ1bmN0aW9uIHRvZ2dsZVRvb2x0aXBCaW5kICgpIHsKICAgICAgICAgICAgICBpZiAoICEgc2NvcGUudHRfaXNPcGVuICkgewogICAgICAgICAgICAgICAgc2hvd1Rvb2x0aXBCaW5kKCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGhpZGVUb29sdGlwQmluZCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gU2hvdyB0aGUgdG9vbHRpcCB3aXRoIGRlbGF5IGlmIHNwZWNpZmllZCwgb3RoZXJ3aXNlIHNob3cgaXQgaW1tZWRpYXRlbHkKICAgICAgICAgICAgZnVuY3Rpb24gc2hvd1Rvb2x0aXBCaW5kKCkgewogICAgICAgICAgICAgIGlmKGhhc0VuYWJsZUV4cCAmJiAhc2NvcGUuJGV2YWwoYXR0cnNbcHJlZml4KydFbmFibGUnXSkpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKCBzY29wZS50dF9wb3B1cERlbGF5ICkgewogICAgICAgICAgICAgICAgLy8gRG8gbm90aGluZyBpZiB0aGUgdG9vbHRpcCB3YXMgYWxyZWFkeSBzY2hlZHVsZWQgdG8gcG9wLXVwLgogICAgICAgICAgICAgICAgLy8gVGhpcyBoYXBwZW5zIGlmIHNob3cgaXMgdHJpZ2dlcmVkIG11bHRpcGxlIHRpbWVzIGJlZm9yZSBhbnkgaGlkZSBpcyB0cmlnZ2VyZWQuCiAgICAgICAgICAgICAgICBpZiAoIXBvcHVwVGltZW91dCkgewogICAgICAgICAgICAgICAgICBwb3B1cFRpbWVvdXQgPSAkdGltZW91dCggc2hvdywgc2NvcGUudHRfcG9wdXBEZWxheSwgZmFsc2UgKTsKICAgICAgICAgICAgICAgICAgcG9wdXBUaW1lb3V0LnRoZW4oZnVuY3Rpb24ocmVwb3NpdGlvbil7cmVwb3NpdGlvbigpO30pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzaG93KCkoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGhpZGVUb29sdGlwQmluZCAoKSB7CiAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGhpZGUoKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gU2hvdyB0aGUgdG9vbHRpcCBwb3B1cCBlbGVtZW50LgogICAgICAgICAgICBmdW5jdGlvbiBzaG93KCkgewoKICAgICAgICAgICAgICBwb3B1cFRpbWVvdXQgPSBudWxsOwoKICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIHBlbmRpbmcgcmVtb3ZlIHRyYW5zaXRpb24sIHdlIG11c3QgY2FuY2VsIGl0LCBsZXN0IHRoZQogICAgICAgICAgICAgIC8vIHRvb2x0aXAgYmUgbXlzdGVyaW91c2x5IHJlbW92ZWQuCiAgICAgICAgICAgICAgaWYgKCB0cmFuc2l0aW9uVGltZW91dCApIHsKICAgICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCggdHJhbnNpdGlvblRpbWVvdXQgKTsKICAgICAgICAgICAgICAgIHRyYW5zaXRpb25UaW1lb3V0ID0gbnVsbDsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIC8vIERvbid0IHNob3cgZW1wdHkgdG9vbHRpcHMuCiAgICAgICAgICAgICAgaWYgKCAhIHNjb3BlLnR0X2NvbnRlbnQgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYW5ndWxhci5ub29wOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY3JlYXRlVG9vbHRpcCgpOwoKICAgICAgICAgICAgICAvLyBTZXQgdGhlIGluaXRpYWwgcG9zaXRpb25pbmcuCiAgICAgICAgICAgICAgdG9vbHRpcC5jc3MoeyB0b3A6IDAsIGxlZnQ6IDAsIGRpc3BsYXk6ICdibG9jaycgfSk7CgogICAgICAgICAgICAgIC8vIE5vdyB3ZSBhZGQgaXQgdG8gdGhlIERPTSBiZWNhdXNlIG5lZWQgc29tZSBpbmZvIGFib3V0IGl0LiBCdXQgaXQncyBub3QgCiAgICAgICAgICAgICAgLy8gdmlzaWJsZSB5ZXQgYW55d2F5LgogICAgICAgICAgICAgIGlmICggYXBwZW5kVG9Cb2R5ICkgewogICAgICAgICAgICAgICAgICAkZG9jdW1lbnQuZmluZCggJ2JvZHknICkuYXBwZW5kKCB0b29sdGlwICk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGVsZW1lbnQuYWZ0ZXIoIHRvb2x0aXAgKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHBvc2l0aW9uVG9vbHRpcCgpOwoKICAgICAgICAgICAgICAvLyBBbmQgc2hvdyB0aGUgdG9vbHRpcC4KICAgICAgICAgICAgICBzY29wZS50dF9pc09wZW4gPSB0cnVlOwogICAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTsgLy8gZGlnZXN0IHJlcXVpcmVkIGFzICRhcHBseSBpcyBub3QgY2FsbGVkCgogICAgICAgICAgICAgIC8vIFJldHVybiBwb3NpdGlvbmluZyBmdW5jdGlvbiBhcyBwcm9taXNlIGNhbGxiYWNrIGZvciBjb3JyZWN0CiAgICAgICAgICAgICAgLy8gcG9zaXRpb25pbmcgYWZ0ZXIgZHJhdy4KICAgICAgICAgICAgICByZXR1cm4gcG9zaXRpb25Ub29sdGlwOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBIaWRlIHRoZSB0b29sdGlwIHBvcHVwIGVsZW1lbnQuCiAgICAgICAgICAgIGZ1bmN0aW9uIGhpZGUoKSB7CiAgICAgICAgICAgICAgLy8gRmlyc3QgdGhpbmdzIGZpcnN0OiB3ZSBkb24ndCBzaG93IGl0IGFueW1vcmUuCiAgICAgICAgICAgICAgc2NvcGUudHRfaXNPcGVuID0gZmFsc2U7CgogICAgICAgICAgICAgIC8vaWYgdG9vbHRpcCBpcyBnb2luZyB0byBiZSBzaG93biBhZnRlciBkZWxheSwgd2UgbXVzdCBjYW5jZWwgdGhpcwogICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCggcG9wdXBUaW1lb3V0ICk7CiAgICAgICAgICAgICAgcG9wdXBUaW1lb3V0ID0gbnVsbDsKCiAgICAgICAgICAgICAgLy8gQW5kIG5vdyB3ZSByZW1vdmUgaXQgZnJvbSB0aGUgRE9NLiBIb3dldmVyLCBpZiB3ZSBoYXZlIGFuaW1hdGlvbiwgd2UgCiAgICAgICAgICAgICAgLy8gbmVlZCB0byB3YWl0IGZvciBpdCB0byBleHBpcmUgYmVmb3JlaGFuZC4KICAgICAgICAgICAgICAvLyBGSVhNRTogdGhpcyBpcyBhIHBsYWNlaG9sZGVyIGZvciBhIHBvcnQgb2YgdGhlIHRyYW5zaXRpb25zIGxpYnJhcnkuCiAgICAgICAgICAgICAgaWYgKCBzY29wZS50dF9hbmltYXRpb24gKSB7CiAgICAgICAgICAgICAgICBpZiAoIXRyYW5zaXRpb25UaW1lb3V0KSB7CiAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25UaW1lb3V0ID0gJHRpbWVvdXQocmVtb3ZlVG9vbHRpcCwgNTAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlVG9vbHRpcCgpIHsKICAgICAgICAgICAgICAvLyBUaGVyZSBjYW4gb25seSBiZSBvbmUgdG9vbHRpcCBlbGVtZW50IHBlciBkaXJlY3RpdmUgc2hvd24gYXQgb25jZS4KICAgICAgICAgICAgICBpZiAodG9vbHRpcCkgewogICAgICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0b29sdGlwID0gdG9vbHRpcExpbmtlcihzY29wZSwgZnVuY3Rpb24gKCkge30pOwoKICAgICAgICAgICAgICAvLyBHZXQgY29udGVudHMgcmVuZGVyZWQgaW50byB0aGUgdG9vbHRpcAogICAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gcmVtb3ZlVG9vbHRpcCgpIHsKICAgICAgICAgICAgICB0cmFuc2l0aW9uVGltZW91dCA9IG51bGw7CiAgICAgICAgICAgICAgaWYgKHRvb2x0aXApIHsKICAgICAgICAgICAgICAgIHRvb2x0aXAucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICB0b29sdGlwID0gbnVsbDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiBPYnNlcnZlIHRoZSByZWxldmFudCBhdHRyaWJ1dGVzLgogICAgICAgICAgICAgKi8KICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUoIHR5cGUsIGZ1bmN0aW9uICggdmFsICkgewogICAgICAgICAgICAgIHNjb3BlLnR0X2NvbnRlbnQgPSB2YWw7CgogICAgICAgICAgICAgIGlmICghdmFsICYmIHNjb3BlLnR0X2lzT3BlbiApIHsKICAgICAgICAgICAgICAgIGhpZGUoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUoIHByZWZpeCsnVGl0bGUnLCBmdW5jdGlvbiAoIHZhbCApIHsKICAgICAgICAgICAgICBzY29wZS50dF90aXRsZSA9IHZhbDsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSggcHJlZml4KydQbGFjZW1lbnQnLCBmdW5jdGlvbiAoIHZhbCApIHsKICAgICAgICAgICAgICBzY29wZS50dF9wbGFjZW1lbnQgPSBhbmd1bGFyLmlzRGVmaW5lZCggdmFsICkgPyB2YWwgOiBvcHRpb25zLnBsYWNlbWVudDsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSggcHJlZml4KydQb3B1cERlbGF5JywgZnVuY3Rpb24gKCB2YWwgKSB7CiAgICAgICAgICAgICAgdmFyIGRlbGF5ID0gcGFyc2VJbnQoIHZhbCwgMTAgKTsKICAgICAgICAgICAgICBzY29wZS50dF9wb3B1cERlbGF5ID0gISBpc05hTihkZWxheSkgPyBkZWxheSA6IG9wdGlvbnMucG9wdXBEZWxheTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICB2YXIgdW5yZWdpc3RlclRyaWdnZXJzID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGVsZW1lbnQudW5iaW5kKHRyaWdnZXJzLnNob3csIHNob3dUb29sdGlwQmluZCk7CiAgICAgICAgICAgICAgZWxlbWVudC51bmJpbmQodHJpZ2dlcnMuaGlkZSwgaGlkZVRvb2x0aXBCaW5kKTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKCBwcmVmaXgrJ1RyaWdnZXInLCBmdW5jdGlvbiAoIHZhbCApIHsKICAgICAgICAgICAgICB1bnJlZ2lzdGVyVHJpZ2dlcnMoKTsKCiAgICAgICAgICAgICAgdHJpZ2dlcnMgPSBnZXRUcmlnZ2VycyggdmFsICk7CgogICAgICAgICAgICAgIGlmICggdHJpZ2dlcnMuc2hvdyA9PT0gdHJpZ2dlcnMuaGlkZSApIHsKICAgICAgICAgICAgICAgIGVsZW1lbnQuYmluZCggdHJpZ2dlcnMuc2hvdywgdG9nZ2xlVG9vbHRpcEJpbmQgKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZWxlbWVudC5iaW5kKCB0cmlnZ2Vycy5zaG93LCBzaG93VG9vbHRpcEJpbmQgKTsKICAgICAgICAgICAgICAgIGVsZW1lbnQuYmluZCggdHJpZ2dlcnMuaGlkZSwgaGlkZVRvb2x0aXBCaW5kICk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBzY29wZS4kZXZhbChhdHRyc1twcmVmaXggKyAnQW5pbWF0aW9uJ10pOwogICAgICAgICAgICBzY29wZS50dF9hbmltYXRpb24gPSBhbmd1bGFyLmlzRGVmaW5lZChhbmltYXRpb24pID8gISFhbmltYXRpb24gOiBvcHRpb25zLmFuaW1hdGlvbjsKCiAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKCBwcmVmaXgrJ0FwcGVuZFRvQm9keScsIGZ1bmN0aW9uICggdmFsICkgewogICAgICAgICAgICAgIGFwcGVuZFRvQm9keSA9IGFuZ3VsYXIuaXNEZWZpbmVkKCB2YWwgKSA/ICRwYXJzZSggdmFsICkoIHNjb3BlICkgOiBhcHBlbmRUb0JvZHk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8gaWYgYSB0b29sdGlwIGlzIGF0dGFjaGVkIHRvIDxib2R5PiB3ZSBuZWVkIHRvIHJlbW92ZSBpdCBvbgogICAgICAgICAgICAvLyBsb2NhdGlvbiBjaGFuZ2UgYXMgaXRzIHBhcmVudCBzY29wZSB3aWxsIHByb2JhYmx5IG5vdCBiZSBkZXN0cm95ZWQKICAgICAgICAgICAgLy8gYnkgdGhlIGNoYW5nZS4KICAgICAgICAgICAgaWYgKCBhcHBlbmRUb0JvZHkgKSB7CiAgICAgICAgICAgICAgc2NvcGUuJG9uKCckbG9jYXRpb25DaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24gY2xvc2VUb29sdGlwT25Mb2NhdGlvbkNoYW5nZVN1Y2Nlc3MgKCkgewogICAgICAgICAgICAgIGlmICggc2NvcGUudHRfaXNPcGVuICkgewogICAgICAgICAgICAgICAgaGlkZSgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0b29sdGlwIGlzIGRlc3Ryb3llZCBhbmQgcmVtb3ZlZC4KICAgICAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uIG9uRGVzdHJveVRvb2x0aXAoKSB7CiAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKCB0cmFuc2l0aW9uVGltZW91dCApOwogICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCggcG9wdXBUaW1lb3V0ICk7CiAgICAgICAgICAgICAgdW5yZWdpc3RlclRyaWdnZXJzKCk7CiAgICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcCgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9OwogICAgfTsKICB9XTsKfSkKCi5kaXJlY3RpdmUoICd0b29sdGlwUG9wdXAnLCBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHsKICAgIHJlc3RyaWN0OiAnRUEnLAogICAgcmVwbGFjZTogdHJ1ZSwKICAgIHNjb3BlOiB7IGNvbnRlbnQ6ICdAJywgcGxhY2VtZW50OiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyB9LAogICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbCcKICB9Owp9KQoKLmRpcmVjdGl2ZSggJ3Rvb2x0aXAnLCBbICckdG9vbHRpcCcsIGZ1bmN0aW9uICggJHRvb2x0aXAgKSB7CiAgcmV0dXJuICR0b29sdGlwKCAndG9vbHRpcCcsICd0b29sdGlwJywgJ21vdXNlZW50ZXInICk7Cn1dKQoKLmRpcmVjdGl2ZSggJ3Rvb2x0aXBIdG1sVW5zYWZlUG9wdXAnLCBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHsKICAgIHJlc3RyaWN0OiAnRUEnLAogICAgcmVwbGFjZTogdHJ1ZSwKICAgIHNjb3BlOiB7IGNvbnRlbnQ6ICdAJywgcGxhY2VtZW50OiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyB9LAogICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC11bnNhZmUtcG9wdXAuaHRtbCcKICB9Owp9KQoKLmRpcmVjdGl2ZSggJ3Rvb2x0aXBIdG1sVW5zYWZlJywgWyAnJHRvb2x0aXAnLCBmdW5jdGlvbiAoICR0b29sdGlwICkgewogIHJldHVybiAkdG9vbHRpcCggJ3Rvb2x0aXBIdG1sVW5zYWZlJywgJ3Rvb2x0aXAnLCAnbW91c2VlbnRlcicgKTsKfV0pOwoKLyoqCiAqIFRoZSBmb2xsb3dpbmcgZmVhdHVyZXMgYXJlIHN0aWxsIG91dHN0YW5kaW5nOiBwb3B1cCBkZWxheSwgYW5pbWF0aW9uIGFzIGEKICogZnVuY3Rpb24sIHBsYWNlbWVudCBhcyBhIGZ1bmN0aW9uLCBpbnNpZGUsIHN1cHBvcnQgZm9yIG1vcmUgdHJpZ2dlcnMgdGhhbgogKiBqdXN0IG1vdXNlIGVudGVyL2xlYXZlLCBodG1sIHBvcG92ZXJzLCBhbmQgc2VsZWN0b3IgZGVsZWdhdGF0aW9uLgogKi8KYW5ndWxhci5tb2R1bGUoICd1aS5ib290c3RyYXAucG9wb3ZlcicsIFsgJ3VpLmJvb3RzdHJhcC50b29sdGlwJyBdICkKCi5kaXJlY3RpdmUoICdwb3BvdmVyUG9wdXAnLCBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHsKICAgIHJlc3RyaWN0OiAnRUEnLAogICAgcmVwbGFjZTogdHJ1ZSwKICAgIHNjb3BlOiB7IHRpdGxlOiAnQCcsIGNvbnRlbnQ6ICdAJywgcGxhY2VtZW50OiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyB9LAogICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbCcKICB9Owp9KQoKLmRpcmVjdGl2ZSggJ3BvcG92ZXInLCBbICckdG9vbHRpcCcsIGZ1bmN0aW9uICggJHRvb2x0aXAgKSB7CiAgcmV0dXJuICR0b29sdGlwKCAncG9wb3ZlcicsICdwb3BvdmVyJywgJ2NsaWNrJyApOwp9XSk7Cgphbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnByb2dyZXNzYmFyJywgW10pCgouY29uc3RhbnQoJ3Byb2dyZXNzQ29uZmlnJywgewogIGFuaW1hdGU6IHRydWUsCiAgbWF4OiAxMDAKfSkKCi5jb250cm9sbGVyKCdQcm9ncmVzc0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAncHJvZ3Jlc3NDb25maWcnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgcHJvZ3Jlc3NDb25maWcpIHsKICAgIHZhciBzZWxmID0gdGhpcywKICAgICAgICBhbmltYXRlID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmFuaW1hdGUpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLmFuaW1hdGUpIDogcHJvZ3Jlc3NDb25maWcuYW5pbWF0ZTsKCiAgICB0aGlzLmJhcnMgPSBbXTsKICAgICRzY29wZS5tYXggPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubWF4KSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tYXgpIDogcHJvZ3Jlc3NDb25maWcubWF4OwoKICAgIHRoaXMuYWRkQmFyID0gZnVuY3Rpb24oYmFyLCBlbGVtZW50KSB7CiAgICAgICAgaWYgKCAhYW5pbWF0ZSApIHsKICAgICAgICAgICAgZWxlbWVudC5jc3Moeyd0cmFuc2l0aW9uJzogJ25vbmUnfSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmJhcnMucHVzaChiYXIpOwoKICAgICAgICBiYXIuJHdhdGNoKCd2YWx1ZScsIGZ1bmN0aW9uKCB2YWx1ZSApIHsKICAgICAgICAgICAgYmFyLnBlcmNlbnQgPSArKDEwMCAqIHZhbHVlIC8gJHNjb3BlLm1heCkudG9GaXhlZCgyKTsKICAgICAgICB9KTsKCiAgICAgICAgYmFyLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgZWxlbWVudCA9IG51bGw7CiAgICAgICAgICAgIHNlbGYucmVtb3ZlQmFyKGJhcik7CiAgICAgICAgfSk7CiAgICB9OwoKICAgIHRoaXMucmVtb3ZlQmFyID0gZnVuY3Rpb24oYmFyKSB7CiAgICAgICAgdGhpcy5iYXJzLnNwbGljZSh0aGlzLmJhcnMuaW5kZXhPZihiYXIpLCAxKTsKICAgIH07Cn1dKQoKLmRpcmVjdGl2ZSgncHJvZ3Jlc3MnLCBmdW5jdGlvbigpIHsKICAgIHJldHVybiB7CiAgICAgICAgcmVzdHJpY3Q6ICdFQScsCiAgICAgICAgcmVwbGFjZTogdHJ1ZSwKICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLAogICAgICAgIGNvbnRyb2xsZXI6ICdQcm9ncmVzc0NvbnRyb2xsZXInLAogICAgICAgIHJlcXVpcmU6ICdwcm9ncmVzcycsCiAgICAgICAgc2NvcGU6IHt9LAogICAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbCcKICAgIH07Cn0pCgouZGlyZWN0aXZlKCdiYXInLCBmdW5jdGlvbigpIHsKICAgIHJldHVybiB7CiAgICAgICAgcmVzdHJpY3Q6ICdFQScsCiAgICAgICAgcmVwbGFjZTogdHJ1ZSwKICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLAogICAgICAgIHJlcXVpcmU6ICdecHJvZ3Jlc3MnLAogICAgICAgIHNjb3BlOiB7CiAgICAgICAgICAgIHZhbHVlOiAnPScsCiAgICAgICAgICAgIHR5cGU6ICdAJwogICAgICAgIH0sCiAgICAgICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbCcsCiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwcm9ncmVzc0N0cmwpIHsKICAgICAgICAgICAgcHJvZ3Jlc3NDdHJsLmFkZEJhcihzY29wZSwgZWxlbWVudCk7CiAgICAgICAgfQogICAgfTsKfSkKCi5kaXJlY3RpdmUoJ3Byb2dyZXNzYmFyJywgZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICAgIHJlc3RyaWN0OiAnRUEnLAogICAgICAgIHJlcGxhY2U6IHRydWUsCiAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSwKICAgICAgICBjb250cm9sbGVyOiAnUHJvZ3Jlc3NDb250cm9sbGVyJywKICAgICAgICBzY29wZTogewogICAgICAgICAgICB2YWx1ZTogJz0nLAogICAgICAgICAgICB0eXBlOiAnQCcKICAgICAgICB9LAogICAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbCcsCiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwcm9ncmVzc0N0cmwpIHsKICAgICAgICAgICAgcHJvZ3Jlc3NDdHJsLmFkZEJhcihzY29wZSwgYW5ndWxhci5lbGVtZW50KGVsZW1lbnQuY2hpbGRyZW4oKVswXSkpOwogICAgICAgIH0KICAgIH07Cn0pOwphbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnJhdGluZycsIFtdKQoKLmNvbnN0YW50KCdyYXRpbmdDb25maWcnLCB7CiAgbWF4OiA1LAogIHN0YXRlT246IG51bGwsCiAgc3RhdGVPZmY6IG51bGwKfSkKCi5jb250cm9sbGVyKCdSYXRpbmdDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJ3JhdGluZ0NvbmZpZycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCByYXRpbmdDb25maWcpIHsKICB2YXIgbmdNb2RlbEN0cmwgID0geyAkc2V0Vmlld1ZhbHVlOiBhbmd1bGFyLm5vb3AgfTsKCiAgdGhpcy5pbml0ID0gZnVuY3Rpb24obmdNb2RlbEN0cmxfKSB7CiAgICBuZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsXzsKICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSB0aGlzLnJlbmRlcjsKCiAgICB0aGlzLnN0YXRlT24gPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuc3RhdGVPbikgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuc3RhdGVPbikgOiByYXRpbmdDb25maWcuc3RhdGVPbjsKICAgIHRoaXMuc3RhdGVPZmYgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuc3RhdGVPZmYpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnN0YXRlT2ZmKSA6IHJhdGluZ0NvbmZpZy5zdGF0ZU9mZjsKCiAgICB2YXIgcmF0aW5nU3RhdGVzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnJhdGluZ1N0YXRlcykgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMucmF0aW5nU3RhdGVzKSA6CiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBBcnJheSggYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm1heCkgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMubWF4KSA6IHJhdGluZ0NvbmZpZy5tYXggKTsKICAgICRzY29wZS5yYW5nZSA9IHRoaXMuYnVpbGRUZW1wbGF0ZU9iamVjdHMocmF0aW5nU3RhdGVzKTsKICB9OwoKICB0aGlzLmJ1aWxkVGVtcGxhdGVPYmplY3RzID0gZnVuY3Rpb24oc3RhdGVzKSB7CiAgICBmb3IgKHZhciBpID0gMCwgbiA9IHN0YXRlcy5sZW5ndGg7IGkgPCBuOyBpKyspIHsKICAgICAgc3RhdGVzW2ldID0gYW5ndWxhci5leHRlbmQoeyBpbmRleDogaSB9LCB7IHN0YXRlT246IHRoaXMuc3RhdGVPbiwgc3RhdGVPZmY6IHRoaXMuc3RhdGVPZmYgfSwgc3RhdGVzW2ldKTsKICAgIH0KICAgIHJldHVybiBzdGF0ZXM7CiAgfTsKCiAgJHNjb3BlLnJhdGUgPSBmdW5jdGlvbih2YWx1ZSkgewogICAgaWYgKCAhJHNjb3BlLnJlYWRvbmx5ICYmIHZhbHVlID49IDAgJiYgdmFsdWUgPD0gJHNjb3BlLnJhbmdlLmxlbmd0aCApIHsKICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZSh2YWx1ZSk7CiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTsKICAgIH0KICB9OwoKICAkc2NvcGUuZW50ZXIgPSBmdW5jdGlvbih2YWx1ZSkgewogICAgaWYgKCAhJHNjb3BlLnJlYWRvbmx5ICkgewogICAgICAkc2NvcGUudmFsdWUgPSB2YWx1ZTsKICAgIH0KICAgICRzY29wZS5vbkhvdmVyKHt2YWx1ZTogdmFsdWV9KTsKICB9OwoKICAkc2NvcGUucmVzZXQgPSBmdW5jdGlvbigpIHsKICAgICRzY29wZS52YWx1ZSA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWU7CiAgICAkc2NvcGUub25MZWF2ZSgpOwogIH07CgogICRzY29wZS5vbktleWRvd24gPSBmdW5jdGlvbihldnQpIHsKICAgIGlmICgvKDM3fDM4fDM5fDQwKS8udGVzdChldnQud2hpY2gpKSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICRzY29wZS5yYXRlKCAkc2NvcGUudmFsdWUgKyAoZXZ0LndoaWNoID09PSAzOCB8fCBldnQud2hpY2ggPT09IDM5ID8gMSA6IC0xKSApOwogICAgfQogIH07CgogIHRoaXMucmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICAkc2NvcGUudmFsdWUgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlOwogIH07Cn1dKQoKLmRpcmVjdGl2ZSgncmF0aW5nJywgZnVuY3Rpb24oKSB7CiAgcmV0dXJuIHsKICAgIHJlc3RyaWN0OiAnRUEnLAogICAgcmVxdWlyZTogWydyYXRpbmcnLCAnbmdNb2RlbCddLAogICAgc2NvcGU6IHsKICAgICAgcmVhZG9ubHk6ICc9PycsCiAgICAgIG9uSG92ZXI6ICcmJywKICAgICAgb25MZWF2ZTogJyYnCiAgICB9LAogICAgY29udHJvbGxlcjogJ1JhdGluZ0NvbnRyb2xsZXInLAogICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9yYXRpbmcvcmF0aW5nLmh0bWwnLAogICAgcmVwbGFjZTogdHJ1ZSwKICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHsKICAgICAgdmFyIHJhdGluZ0N0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTsKCiAgICAgIGlmICggbmdNb2RlbEN0cmwgKSB7CiAgICAgICAgcmF0aW5nQ3RybC5pbml0KCBuZ01vZGVsQ3RybCApOwogICAgICB9CiAgICB9CiAgfTsKfSk7CgovKioKICogQG5nZG9jIG92ZXJ2aWV3CiAqIEBuYW1lIHVpLmJvb3RzdHJhcC50YWJzCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBBbmd1bGFySlMgdmVyc2lvbiBvZiB0aGUgdGFicyBkaXJlY3RpdmUuCiAqLwoKYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50YWJzJywgW10pCgouY29udHJvbGxlcignVGFic2V0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24gVGFic2V0Q3RybCgkc2NvcGUpIHsKICB2YXIgY3RybCA9IHRoaXMsCiAgICAgIHRhYnMgPSBjdHJsLnRhYnMgPSAkc2NvcGUudGFicyA9IFtdOwoKICBjdHJsLnNlbGVjdCA9IGZ1bmN0aW9uKHNlbGVjdGVkVGFiKSB7CiAgICBhbmd1bGFyLmZvckVhY2godGFicywgZnVuY3Rpb24odGFiKSB7CiAgICAgIGlmICh0YWIuYWN0aXZlICYmIHRhYiAhPT0gc2VsZWN0ZWRUYWIpIHsKICAgICAgICB0YWIuYWN0aXZlID0gZmFsc2U7CiAgICAgICAgdGFiLm9uRGVzZWxlY3QoKTsKICAgICAgfQogICAgfSk7CiAgICBzZWxlY3RlZFRhYi5hY3RpdmUgPSB0cnVlOwogICAgc2VsZWN0ZWRUYWIub25TZWxlY3QoKTsKICB9OwoKICBjdHJsLmFkZFRhYiA9IGZ1bmN0aW9uIGFkZFRhYih0YWIpIHsKICAgIHRhYnMucHVzaCh0YWIpOwogICAgLy8gd2UgY2FuJ3QgcnVuIHRoZSBzZWxlY3QgZnVuY3Rpb24gb24gdGhlIGZpcnN0IHRhYgogICAgLy8gc2luY2UgdGhhdCB3b3VsZCBzZWxlY3QgaXQgdHdpY2UKICAgIGlmICh0YWJzLmxlbmd0aCA9PT0gMSkgewogICAgICB0YWIuYWN0aXZlID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAodGFiLmFjdGl2ZSkgewogICAgICBjdHJsLnNlbGVjdCh0YWIpOwogICAgfQogIH07CgogIGN0cmwucmVtb3ZlVGFiID0gZnVuY3Rpb24gcmVtb3ZlVGFiKHRhYikgewogICAgdmFyIGluZGV4ID0gdGFicy5pbmRleE9mKHRhYik7CiAgICAvL1NlbGVjdCBhIG5ldyB0YWIgaWYgdGhlIHRhYiB0byBiZSByZW1vdmVkIGlzIHNlbGVjdGVkCiAgICBpZiAodGFiLmFjdGl2ZSAmJiB0YWJzLmxlbmd0aCA+IDEpIHsKICAgICAgLy9JZiB0aGlzIGlzIHRoZSBsYXN0IHRhYiwgc2VsZWN0IHRoZSBwcmV2aW91cyB0YWIuIGVsc2UsIHRoZSBuZXh0IHRhYi4KICAgICAgdmFyIG5ld0FjdGl2ZUluZGV4ID0gaW5kZXggPT0gdGFicy5sZW5ndGggLSAxID8gaW5kZXggLSAxIDogaW5kZXggKyAxOwogICAgICBjdHJsLnNlbGVjdCh0YWJzW25ld0FjdGl2ZUluZGV4XSk7CiAgICB9CiAgICB0YWJzLnNwbGljZShpbmRleCwgMSk7CiAgfTsKfV0pCgovKioKICogQG5nZG9jIGRpcmVjdGl2ZQogKiBAbmFtZSB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFic2V0CiAqIEByZXN0cmljdCBFQQogKgogKiBAZGVzY3JpcHRpb24KICogVGFic2V0IGlzIHRoZSBvdXRlciBjb250YWluZXIgZm9yIHRoZSB0YWJzIGRpcmVjdGl2ZQogKgogKiBAcGFyYW0ge2Jvb2xlYW49fSB2ZXJ0aWNhbCBXaGV0aGVyIG9yIG5vdCB0byB1c2UgdmVydGljYWwgc3R5bGluZyBmb3IgdGhlIHRhYnMuCiAqIEBwYXJhbSB7Ym9vbGVhbj19IGp1c3RpZmllZCBXaGV0aGVyIG9yIG5vdCB0byB1c2UganVzdGlmaWVkIHN0eWxpbmcgZm9yIHRoZSB0YWJzLgogKgogKiBAZXhhbXBsZQo8ZXhhbXBsZSBtb2R1bGU9InVpLmJvb3RzdHJhcCI+CiAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICA8dGFic2V0PgogICAgICA8dGFiIGhlYWRpbmc9IlRhYiAxIj48Yj5GaXJzdDwvYj4gQ29udGVudCE8L3RhYj4KICAgICAgPHRhYiBoZWFkaW5nPSJUYWIgMiI+PGk+U2Vjb25kPC9pPiBDb250ZW50ITwvdGFiPgogICAgPC90YWJzZXQ+CiAgICA8aHIgLz4KICAgIDx0YWJzZXQgdmVydGljYWw9InRydWUiPgogICAgICA8dGFiIGhlYWRpbmc9IlZlcnRpY2FsIFRhYiAxIj48Yj5GaXJzdDwvYj4gVmVydGljYWwgQ29udGVudCE8L3RhYj4KICAgICAgPHRhYiBoZWFkaW5nPSJWZXJ0aWNhbCBUYWIgMiI+PGk+U2Vjb25kPC9pPiBWZXJ0aWNhbCBDb250ZW50ITwvdGFiPgogICAgPC90YWJzZXQ+CiAgICA8dGFic2V0IGp1c3RpZmllZD0idHJ1ZSI+CiAgICAgIDx0YWIgaGVhZGluZz0iSnVzdGlmaWVkIFRhYiAxIj48Yj5GaXJzdDwvYj4gSnVzdGlmaWVkIENvbnRlbnQhPC90YWI+CiAgICAgIDx0YWIgaGVhZGluZz0iSnVzdGlmaWVkIFRhYiAyIj48aT5TZWNvbmQ8L2k+IEp1c3RpZmllZCBDb250ZW50ITwvdGFiPgogICAgPC90YWJzZXQ+CiAgPC9maWxlPgo8L2V4YW1wbGU+CiAqLwouZGlyZWN0aXZlKCd0YWJzZXQnLCBmdW5jdGlvbigpIHsKICByZXR1cm4gewogICAgcmVzdHJpY3Q6ICdFQScsCiAgICB0cmFuc2NsdWRlOiB0cnVlLAogICAgcmVwbGFjZTogdHJ1ZSwKICAgIHNjb3BlOiB7CiAgICAgIHR5cGU6ICdAJwogICAgfSwKICAgIGNvbnRyb2xsZXI6ICdUYWJzZXRDb250cm9sbGVyJywKICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbCcsCiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHsKICAgICAgc2NvcGUudmVydGljYWwgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy52ZXJ0aWNhbCkgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLnZlcnRpY2FsKSA6IGZhbHNlOwogICAgICBzY29wZS5qdXN0aWZpZWQgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5qdXN0aWZpZWQpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5qdXN0aWZpZWQpIDogZmFsc2U7CiAgICB9CiAgfTsKfSkKCi8qKgogKiBAbmdkb2MgZGlyZWN0aXZlCiAqIEBuYW1lIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWIKICogQHJlc3RyaWN0IEVBCiAqCiAqIEBwYXJhbSB7c3RyaW5nPX0gaGVhZGluZyBUaGUgdmlzaWJsZSBoZWFkaW5nLCBvciB0aXRsZSwgb2YgdGhlIHRhYi4gU2V0IEhUTUwgaGVhZGluZ3Mgd2l0aCB7QGxpbmsgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYkhlYWRpbmcgdGFiSGVhZGluZ30uCiAqIEBwYXJhbSB7c3RyaW5nPX0gc2VsZWN0IEFuIGV4cHJlc3Npb24gdG8gZXZhbHVhdGUgd2hlbiB0aGUgdGFiIGlzIHNlbGVjdGVkLgogKiBAcGFyYW0ge2Jvb2xlYW49fSBhY3RpdmUgQSBiaW5kaW5nLCB0ZWxsaW5nIHdoZXRoZXIgb3Igbm90IHRoaXMgdGFiIGlzIHNlbGVjdGVkLgogKiBAcGFyYW0ge2Jvb2xlYW49fSBkaXNhYmxlZCBBIGJpbmRpbmcsIHRlbGxpbmcgd2hldGhlciBvciBub3QgdGhpcyB0YWIgaXMgZGlzYWJsZWQuCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBDcmVhdGVzIGEgdGFiIHdpdGggYSBoZWFkaW5nIGFuZCBjb250ZW50LiBNdXN0IGJlIHBsYWNlZCB3aXRoaW4gYSB7QGxpbmsgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYnNldCB0YWJzZXR9LgogKgogKiBAZXhhbXBsZQo8ZXhhbXBsZSBtb2R1bGU9InVpLmJvb3RzdHJhcCI+CiAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9IlRhYnNEZW1vQ3RybCI+CiAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc21hbGwiIG5nLWNsaWNrPSJpdGVtc1swXS5hY3RpdmUgPSB0cnVlIj4KICAgICAgICBTZWxlY3QgaXRlbSAxLCB1c2luZyBhY3RpdmUgYmluZGluZwogICAgICA8L2J1dHRvbj4KICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zbWFsbCIgbmctY2xpY2s9Iml0ZW1zWzFdLmRpc2FibGVkID0gIWl0ZW1zWzFdLmRpc2FibGVkIj4KICAgICAgICBFbmFibGUvZGlzYWJsZSBpdGVtIDIsIHVzaW5nIGRpc2FibGVkIGJpbmRpbmcKICAgICAgPC9idXR0b24+CiAgICAgIDxiciAvPgogICAgICA8dGFic2V0PgogICAgICAgIDx0YWIgaGVhZGluZz0iVGFiIDEiPkZpcnN0IFRhYjwvdGFiPgogICAgICAgIDx0YWIgc2VsZWN0PSJhbGVydE1lKCkiPgogICAgICAgICAgPHRhYi1oZWFkaW5nPjxpIGNsYXNzPSJpY29uLWJlbGwiPjwvaT4gQWxlcnQgbWUhPC90YWItaGVhZGluZz4KICAgICAgICAgIFNlY29uZCBUYWIsIHdpdGggYWxlcnQgY2FsbGJhY2sgYW5kIGh0bWwgaGVhZGluZyEKICAgICAgICA8L3RhYj4KICAgICAgICA8dGFiIG5nLXJlcGVhdD0iaXRlbSBpbiBpdGVtcyIKICAgICAgICAgIGhlYWRpbmc9Int7aXRlbS50aXRsZX19IgogICAgICAgICAgZGlzYWJsZWQ9Iml0ZW0uZGlzYWJsZWQiCiAgICAgICAgICBhY3RpdmU9Iml0ZW0uYWN0aXZlIj4KICAgICAgICAgIHt7aXRlbS5jb250ZW50fX0KICAgICAgICA8L3RhYj4KICAgICAgPC90YWJzZXQ+CiAgICA8L2Rpdj4KICA8L2ZpbGU+CiAgPGZpbGUgbmFtZT0ic2NyaXB0LmpzIj4KICAgIGZ1bmN0aW9uIFRhYnNEZW1vQ3RybCgkc2NvcGUpIHsKICAgICAgJHNjb3BlLml0ZW1zID0gWwogICAgICAgIHsgdGl0bGU6IkR5bmFtaWMgVGl0bGUgMSIsIGNvbnRlbnQ6IkR5bmFtaWMgSXRlbSAwIiB9LAogICAgICAgIHsgdGl0bGU6IkR5bmFtaWMgVGl0bGUgMiIsIGNvbnRlbnQ6IkR5bmFtaWMgSXRlbSAxIiwgZGlzYWJsZWQ6IHRydWUgfQogICAgICBdOwoKICAgICAgJHNjb3BlLmFsZXJ0TWUgPSBmdW5jdGlvbigpIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgYWxlcnQoIllvdSd2ZSBzZWxlY3RlZCB0aGUgYWxlcnQgdGFiISIpOwogICAgICAgIH0pOwogICAgICB9OwogICAgfTsKICA8L2ZpbGU+CjwvZXhhbXBsZT4KICovCgovKioKICogQG5nZG9jIGRpcmVjdGl2ZQogKiBAbmFtZSB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFiSGVhZGluZwogKiBAcmVzdHJpY3QgRUEKICoKICogQGRlc2NyaXB0aW9uCiAqIENyZWF0ZXMgYW4gSFRNTCBoZWFkaW5nIGZvciBhIHtAbGluayB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFiIHRhYn0uIE11c3QgYmUgcGxhY2VkIGFzIGEgY2hpbGQgb2YgYSB0YWIgZWxlbWVudC4KICoKICogQGV4YW1wbGUKPGV4YW1wbGUgbW9kdWxlPSJ1aS5ib290c3RyYXAiPgogIDxmaWxlIG5hbWU9ImluZGV4Lmh0bWwiPgogICAgPHRhYnNldD4KICAgICAgPHRhYj4KICAgICAgICA8dGFiLWhlYWRpbmc+PGI+SFRNTDwvYj4gaW4gbXkgdGl0bGVzPyE8L3RhYi1oZWFkaW5nPgogICAgICAgIEFuZCBzb21lIGNvbnRlbnQsIHRvbyEKICAgICAgPC90YWI+CiAgICAgIDx0YWI+CiAgICAgICAgPHRhYi1oZWFkaW5nPjxpIGNsYXNzPSJpY29uLWhlYXJ0Ij48L2k+IEljb24gaGVhZGluZz8hPzwvdGFiLWhlYWRpbmc+CiAgICAgICAgVGhhdCdzIHJpZ2h0LgogICAgICA8L3RhYj4KICAgIDwvdGFic2V0PgogIDwvZmlsZT4KPC9leGFtcGxlPgogKi8KLmRpcmVjdGl2ZSgndGFiJywgWyckcGFyc2UnLCBmdW5jdGlvbigkcGFyc2UpIHsKICByZXR1cm4gewogICAgcmVxdWlyZTogJ150YWJzZXQnLAogICAgcmVzdHJpY3Q6ICdFQScsCiAgICByZXBsYWNlOiB0cnVlLAogICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90YWJzL3RhYi5odG1sJywKICAgIHRyYW5zY2x1ZGU6IHRydWUsCiAgICBzY29wZTogewogICAgICBhY3RpdmU6ICc9PycsCiAgICAgIGhlYWRpbmc6ICdAJywKICAgICAgb25TZWxlY3Q6ICcmc2VsZWN0JywgLy9UaGlzIGNhbGxiYWNrIGlzIGNhbGxlZCBpbiBjb250ZW50SGVhZGluZ1RyYW5zY2x1ZGUKICAgICAgICAgICAgICAgICAgICAgICAgICAvL29uY2UgaXQgaW5zZXJ0cyB0aGUgdGFiJ3MgY29udGVudCBpbnRvIHRoZSBkb20KICAgICAgb25EZXNlbGVjdDogJyZkZXNlbGVjdCcKICAgIH0sCiAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpIHsKICAgICAgLy9FbXB0eSBjb250cm9sbGVyIHNvIG90aGVyIGRpcmVjdGl2ZXMgY2FuIHJlcXVpcmUgYmVpbmcgJ3VuZGVyJyBhIHRhYgogICAgfSwKICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsbSwgYXR0cnMsIHRyYW5zY2x1ZGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbG0sIGF0dHJzLCB0YWJzZXRDdHJsKSB7CiAgICAgICAgc2NvcGUuJHdhdGNoKCdhY3RpdmUnLCBmdW5jdGlvbihhY3RpdmUpIHsKICAgICAgICAgIGlmIChhY3RpdmUpIHsKICAgICAgICAgICAgdGFic2V0Q3RybC5zZWxlY3Qoc2NvcGUpOwogICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBzY29wZS5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgIGlmICggYXR0cnMuZGlzYWJsZWQgKSB7CiAgICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoYXR0cnMuZGlzYWJsZWQpLCBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgICAgICBzY29wZS5kaXNhYmxlZCA9ICEhIHZhbHVlOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBzY29wZS5zZWxlY3QgPSBmdW5jdGlvbigpIHsKICAgICAgICAgIGlmICggIXNjb3BlLmRpc2FibGVkICkgewogICAgICAgICAgICBzY29wZS5hY3RpdmUgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHRhYnNldEN0cmwuYWRkVGFiKHNjb3BlKTsKICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7CiAgICAgICAgICB0YWJzZXRDdHJsLnJlbW92ZVRhYihzY29wZSk7CiAgICAgICAgfSk7CgogICAgICAgIC8vV2UgbmVlZCB0byB0cmFuc2NsdWRlIGxhdGVyLCBvbmNlIHRoZSBjb250ZW50IGNvbnRhaW5lciBpcyByZWFkeS4KICAgICAgICAvL3doZW4gdGhpcyBsaW5rIGhhcHBlbnMsIHdlJ3JlIGluc2lkZSBhIHRhYiBoZWFkaW5nLgogICAgICAgIHNjb3BlLiR0cmFuc2NsdWRlRm4gPSB0cmFuc2NsdWRlOwogICAgICB9OwogICAgfQogIH07Cn1dKQoKLmRpcmVjdGl2ZSgndGFiSGVhZGluZ1RyYW5zY2x1ZGUnLCBbZnVuY3Rpb24oKSB7CiAgcmV0dXJuIHsKICAgIHJlc3RyaWN0OiAnQScsCiAgICByZXF1aXJlOiAnXnRhYicsCiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRycywgdGFiQ3RybCkgewogICAgICBzY29wZS4kd2F0Y2goJ2hlYWRpbmdFbGVtZW50JywgZnVuY3Rpb24gdXBkYXRlSGVhZGluZ0VsZW1lbnQoaGVhZGluZykgewogICAgICAgIGlmIChoZWFkaW5nKSB7CiAgICAgICAgICBlbG0uaHRtbCgnJyk7CiAgICAgICAgICBlbG0uYXBwZW5kKGhlYWRpbmcpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfTsKfV0pCgouZGlyZWN0aXZlKCd0YWJDb250ZW50VHJhbnNjbHVkZScsIGZ1bmN0aW9uKCkgewogIHJldHVybiB7CiAgICByZXN0cmljdDogJ0EnLAogICAgcmVxdWlyZTogJ150YWJzZXQnLAogICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0cnMpIHsKICAgICAgdmFyIHRhYiA9IHNjb3BlLiRldmFsKGF0dHJzLnRhYkNvbnRlbnRUcmFuc2NsdWRlKTsKCiAgICAgIC8vTm93IG91ciB0YWIgaXMgcmVhZHkgdG8gYmUgdHJhbnNjbHVkZWQ6IGJvdGggdGhlIHRhYiBoZWFkaW5nIGFyZWEKICAgICAgLy9hbmQgdGhlIHRhYiBjb250ZW50IGFyZWEgYXJlIGxvYWRlZC4gIFRyYW5zY2x1ZGUgJ2VtIGJvdGguCiAgICAgIHRhYi4kdHJhbnNjbHVkZUZuKHRhYi4kcGFyZW50LCBmdW5jdGlvbihjb250ZW50cykgewogICAgICAgIGFuZ3VsYXIuZm9yRWFjaChjb250ZW50cywgZnVuY3Rpb24obm9kZSkgewogICAgICAgICAgaWYgKGlzVGFiSGVhZGluZyhub2RlKSkgewogICAgICAgICAgICAvL0xldCB0YWJIZWFkaW5nVHJhbnNjbHVkZSBrbm93LgogICAgICAgICAgICB0YWIuaGVhZGluZ0VsZW1lbnQgPSBub2RlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZWxtLmFwcGVuZChub2RlKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfTsKICBmdW5jdGlvbiBpc1RhYkhlYWRpbmcobm9kZSkgewogICAgcmV0dXJuIG5vZGUudGFnTmFtZSAmJiAgKAogICAgICBub2RlLmhhc0F0dHJpYnV0ZSgndGFiLWhlYWRpbmcnKSB8fAogICAgICBub2RlLmhhc0F0dHJpYnV0ZSgnZGF0YS10YWItaGVhZGluZycpIHx8CiAgICAgIG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAndGFiLWhlYWRpbmcnIHx8CiAgICAgIG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnZGF0YS10YWItaGVhZGluZycKICAgICk7CiAgfQp9KQoKOwoKYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50aW1lcGlja2VyJywgW10pCgouY29uc3RhbnQoJ3RpbWVwaWNrZXJDb25maWcnLCB7CiAgaG91clN0ZXA6IDEsCiAgbWludXRlU3RlcDogMSwKICBzaG93TWVyaWRpYW46IHRydWUsCiAgbWVyaWRpYW5zOiBudWxsLAogIHJlYWRvbmx5SW5wdXQ6IGZhbHNlLAogIG1vdXNld2hlZWw6IHRydWUKfSkKCi5jb250cm9sbGVyKCdUaW1lcGlja2VyQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICckcGFyc2UnLCAnJGxvZycsICckbG9jYWxlJywgJ3RpbWVwaWNrZXJDb25maWcnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgJHBhcnNlLCAkbG9nLCAkbG9jYWxlLCB0aW1lcGlja2VyQ29uZmlnKSB7CiAgdmFyIHNlbGVjdGVkID0gbmV3IERhdGUoKSwKICAgICAgbmdNb2RlbEN0cmwgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9LCAvLyBudWxsTW9kZWxDdHJsCiAgICAgIG1lcmlkaWFucyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tZXJpZGlhbnMpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1lcmlkaWFucykgOiB0aW1lcGlja2VyQ29uZmlnLm1lcmlkaWFucyB8fCAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuQU1QTVM7CgogIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCBuZ01vZGVsQ3RybF8sIGlucHV0cyApIHsKICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfOwogICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IHRoaXMucmVuZGVyOwoKICAgIHZhciBob3Vyc0lucHV0RWwgPSBpbnB1dHMuZXEoMCksCiAgICAgICAgbWludXRlc0lucHV0RWwgPSBpbnB1dHMuZXEoMSk7CgogICAgdmFyIG1vdXNld2hlZWwgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubW91c2V3aGVlbCkgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMubW91c2V3aGVlbCkgOiB0aW1lcGlja2VyQ29uZmlnLm1vdXNld2hlZWw7CiAgICBpZiAoIG1vdXNld2hlZWwgKSB7CiAgICAgIHRoaXMuc2V0dXBNb3VzZXdoZWVsRXZlbnRzKCBob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsICk7CiAgICB9CgogICAgJHNjb3BlLnJlYWRvbmx5SW5wdXQgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMucmVhZG9ubHlJbnB1dCkgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMucmVhZG9ubHlJbnB1dCkgOiB0aW1lcGlja2VyQ29uZmlnLnJlYWRvbmx5SW5wdXQ7CiAgICB0aGlzLnNldHVwSW5wdXRFdmVudHMoIGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwgKTsKICB9OwoKICB2YXIgaG91clN0ZXAgPSB0aW1lcGlja2VyQ29uZmlnLmhvdXJTdGVwOwogIGlmICgkYXR0cnMuaG91clN0ZXApIHsKICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLmhvdXJTdGVwKSwgZnVuY3Rpb24odmFsdWUpIHsKICAgICAgaG91clN0ZXAgPSBwYXJzZUludCh2YWx1ZSwgMTApOwogICAgfSk7CiAgfQoKICB2YXIgbWludXRlU3RlcCA9IHRpbWVwaWNrZXJDb25maWcubWludXRlU3RlcDsKICBpZiAoJGF0dHJzLm1pbnV0ZVN0ZXApIHsKICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLm1pbnV0ZVN0ZXApLCBmdW5jdGlvbih2YWx1ZSkgewogICAgICBtaW51dGVTdGVwID0gcGFyc2VJbnQodmFsdWUsIDEwKTsKICAgIH0pOwogIH0KCiAgLy8gMTJIIC8gMjRIIG1vZGUKICAkc2NvcGUuc2hvd01lcmlkaWFuID0gdGltZXBpY2tlckNvbmZpZy5zaG93TWVyaWRpYW47CiAgaWYgKCRhdHRycy5zaG93TWVyaWRpYW4pIHsKICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLnNob3dNZXJpZGlhbiksIGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICRzY29wZS5zaG93TWVyaWRpYW4gPSAhIXZhbHVlOwoKICAgICAgaWYgKCBuZ01vZGVsQ3RybC4kZXJyb3IudGltZSApIHsKICAgICAgICAvLyBFdmFsdWF0ZSBmcm9tIHRlbXBsYXRlCiAgICAgICAgdmFyIGhvdXJzID0gZ2V0SG91cnNGcm9tVGVtcGxhdGUoKSwgbWludXRlcyA9IGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKTsKICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoIGhvdXJzICkgJiYgYW5ndWxhci5pc0RlZmluZWQoIG1pbnV0ZXMgKSkgewogICAgICAgICAgc2VsZWN0ZWQuc2V0SG91cnMoIGhvdXJzICk7CiAgICAgICAgICByZWZyZXNoKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHVwZGF0ZVRlbXBsYXRlKCk7CiAgICAgIH0KICAgIH0pOwogIH0KCiAgLy8gR2V0ICRzY29wZS5ob3VycyBpbiAyNEggbW9kZSBpZiB2YWxpZAogIGZ1bmN0aW9uIGdldEhvdXJzRnJvbVRlbXBsYXRlICggKSB7CiAgICB2YXIgaG91cnMgPSBwYXJzZUludCggJHNjb3BlLmhvdXJzLCAxMCApOwogICAgdmFyIHZhbGlkID0gKCAkc2NvcGUuc2hvd01lcmlkaWFuICkgPyAoaG91cnMgPiAwICYmIGhvdXJzIDwgMTMpIDogKGhvdXJzID49IDAgJiYgaG91cnMgPCAyNCk7CiAgICBpZiAoICF2YWxpZCApIHsKICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAoICRzY29wZS5zaG93TWVyaWRpYW4gKSB7CiAgICAgIGlmICggaG91cnMgPT09IDEyICkgewogICAgICAgIGhvdXJzID0gMDsKICAgICAgfQogICAgICBpZiAoICRzY29wZS5tZXJpZGlhbiA9PT0gbWVyaWRpYW5zWzFdICkgewogICAgICAgIGhvdXJzID0gaG91cnMgKyAxMjsKICAgICAgfQogICAgfQogICAgcmV0dXJuIGhvdXJzOwogIH0KCiAgZnVuY3Rpb24gZ2V0TWludXRlc0Zyb21UZW1wbGF0ZSgpIHsKICAgIHZhciBtaW51dGVzID0gcGFyc2VJbnQoJHNjb3BlLm1pbnV0ZXMsIDEwKTsKICAgIHJldHVybiAoIG1pbnV0ZXMgPj0gMCAmJiBtaW51dGVzIDwgNjAgKSA/IG1pbnV0ZXMgOiB1bmRlZmluZWQ7CiAgfQoKICBmdW5jdGlvbiBwYWQoIHZhbHVlICkgewogICAgcmV0dXJuICggYW5ndWxhci5pc0RlZmluZWQodmFsdWUpICYmIHZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoIDwgMiApID8gJzAnICsgdmFsdWUgOiB2YWx1ZTsKICB9CgogIC8vIFJlc3BvbmQgb24gbW91c2V3aGVlbCBzcGluCiAgdGhpcy5zZXR1cE1vdXNld2hlZWxFdmVudHMgPSBmdW5jdGlvbiggaG91cnNJbnB1dEVsLCBtaW51dGVzSW5wdXRFbCApIHsKICAgIHZhciBpc1Njcm9sbGluZ1VwID0gZnVuY3Rpb24oZSkgewogICAgICBpZiAoZS5vcmlnaW5hbEV2ZW50KSB7CiAgICAgICAgZSA9IGUub3JpZ2luYWxFdmVudDsKICAgICAgfQogICAgICAvL3BpY2sgY29ycmVjdCBkZWx0YSB2YXJpYWJsZSBkZXBlbmRpbmcgb24gZXZlbnQKICAgICAgdmFyIGRlbHRhID0gKGUud2hlZWxEZWx0YSkgPyBlLndoZWVsRGVsdGEgOiAtZS5kZWx0YVk7CiAgICAgIHJldHVybiAoZS5kZXRhaWwgfHwgZGVsdGEgPiAwKTsKICAgIH07CgogICAgaG91cnNJbnB1dEVsLmJpbmQoJ21vdXNld2hlZWwgd2hlZWwnLCBmdW5jdGlvbihlKSB7CiAgICAgICRzY29wZS4kYXBwbHkoIChpc1Njcm9sbGluZ1VwKGUpKSA/ICRzY29wZS5pbmNyZW1lbnRIb3VycygpIDogJHNjb3BlLmRlY3JlbWVudEhvdXJzKCkgKTsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgfSk7CgogICAgbWludXRlc0lucHV0RWwuYmluZCgnbW91c2V3aGVlbCB3aGVlbCcsIGZ1bmN0aW9uKGUpIHsKICAgICAgJHNjb3BlLiRhcHBseSggKGlzU2Nyb2xsaW5nVXAoZSkpID8gJHNjb3BlLmluY3JlbWVudE1pbnV0ZXMoKSA6ICRzY29wZS5kZWNyZW1lbnRNaW51dGVzKCkgKTsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgfSk7CgogIH07CgogIHRoaXMuc2V0dXBJbnB1dEV2ZW50cyA9IGZ1bmN0aW9uKCBob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsICkgewogICAgaWYgKCAkc2NvcGUucmVhZG9ubHlJbnB1dCApIHsKICAgICAgJHNjb3BlLnVwZGF0ZUhvdXJzID0gYW5ndWxhci5ub29wOwogICAgICAkc2NvcGUudXBkYXRlTWludXRlcyA9IGFuZ3VsYXIubm9vcDsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBpbnZhbGlkYXRlID0gZnVuY3Rpb24oaW52YWxpZEhvdXJzLCBpbnZhbGlkTWludXRlcykgewogICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKCBudWxsICk7CiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgndGltZScsIGZhbHNlKTsKICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGludmFsaWRIb3VycykpIHsKICAgICAgICAkc2NvcGUuaW52YWxpZEhvdXJzID0gaW52YWxpZEhvdXJzOwogICAgICB9CiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpbnZhbGlkTWludXRlcykpIHsKICAgICAgICAkc2NvcGUuaW52YWxpZE1pbnV0ZXMgPSBpbnZhbGlkTWludXRlczsKICAgICAgfQogICAgfTsKCiAgICAkc2NvcGUudXBkYXRlSG91cnMgPSBmdW5jdGlvbigpIHsKICAgICAgdmFyIGhvdXJzID0gZ2V0SG91cnNGcm9tVGVtcGxhdGUoKTsKCiAgICAgIGlmICggYW5ndWxhci5pc0RlZmluZWQoaG91cnMpICkgewogICAgICAgIHNlbGVjdGVkLnNldEhvdXJzKCBob3VycyApOwogICAgICAgIHJlZnJlc2goICdoJyApOwogICAgICB9IGVsc2UgewogICAgICAgIGludmFsaWRhdGUodHJ1ZSk7CiAgICAgIH0KICAgIH07CgogICAgaG91cnNJbnB1dEVsLmJpbmQoJ2JsdXInLCBmdW5jdGlvbihlKSB7CiAgICAgIGlmICggISRzY29wZS5pbnZhbGlkSG91cnMgJiYgJHNjb3BlLmhvdXJzIDwgMTApIHsKICAgICAgICAkc2NvcGUuJGFwcGx5KCBmdW5jdGlvbigpIHsKICAgICAgICAgICRzY29wZS5ob3VycyA9IHBhZCggJHNjb3BlLmhvdXJzICk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwoKICAgICRzY29wZS51cGRhdGVNaW51dGVzID0gZnVuY3Rpb24oKSB7CiAgICAgIHZhciBtaW51dGVzID0gZ2V0TWludXRlc0Zyb21UZW1wbGF0ZSgpOwoKICAgICAgaWYgKCBhbmd1bGFyLmlzRGVmaW5lZChtaW51dGVzKSApIHsKICAgICAgICBzZWxlY3RlZC5zZXRNaW51dGVzKCBtaW51dGVzICk7CiAgICAgICAgcmVmcmVzaCggJ20nICk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaW52YWxpZGF0ZSh1bmRlZmluZWQsIHRydWUpOwogICAgICB9CiAgICB9OwoKICAgIG1pbnV0ZXNJbnB1dEVsLmJpbmQoJ2JsdXInLCBmdW5jdGlvbihlKSB7CiAgICAgIGlmICggISRzY29wZS5pbnZhbGlkTWludXRlcyAmJiAkc2NvcGUubWludXRlcyA8IDEwICkgewogICAgICAgICRzY29wZS4kYXBwbHkoIGZ1bmN0aW9uKCkgewogICAgICAgICAgJHNjb3BlLm1pbnV0ZXMgPSBwYWQoICRzY29wZS5taW51dGVzICk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwoKICB9OwoKICB0aGlzLnJlbmRlciA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGRhdGUgPSBuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSA/IG5ldyBEYXRlKCBuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSApIDogbnVsbDsKCiAgICBpZiAoIGlzTmFOKGRhdGUpICkgewogICAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ3RpbWUnLCBmYWxzZSk7CiAgICAgICRsb2cuZXJyb3IoJ1RpbWVwaWNrZXIgZGlyZWN0aXZlOiAibmctbW9kZWwiIHZhbHVlIG11c3QgYmUgYSBEYXRlIG9iamVjdCwgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIDAxLjAxLjE5NzAgb3IgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIFJGQzI4MjIgb3IgSVNPIDg2MDEgZGF0ZS4nKTsKICAgIH0gZWxzZSB7CiAgICAgIGlmICggZGF0ZSApIHsKICAgICAgICBzZWxlY3RlZCA9IGRhdGU7CiAgICAgIH0KICAgICAgbWFrZVZhbGlkKCk7CiAgICAgIHVwZGF0ZVRlbXBsYXRlKCk7CiAgICB9CiAgfTsKCiAgLy8gQ2FsbCBpbnRlcm5hbGx5IHdoZW4gd2Uga25vdyB0aGF0IG1vZGVsIGlzIHZhbGlkLgogIGZ1bmN0aW9uIHJlZnJlc2goIGtleWJvYXJkQ2hhbmdlICkgewogICAgbWFrZVZhbGlkKCk7CiAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKCBuZXcgRGF0ZShzZWxlY3RlZCkgKTsKICAgIHVwZGF0ZVRlbXBsYXRlKCBrZXlib2FyZENoYW5nZSApOwogIH0KCiAgZnVuY3Rpb24gbWFrZVZhbGlkKCkgewogICAgbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCd0aW1lJywgdHJ1ZSk7CiAgICAkc2NvcGUuaW52YWxpZEhvdXJzID0gZmFsc2U7CiAgICAkc2NvcGUuaW52YWxpZE1pbnV0ZXMgPSBmYWxzZTsKICB9CgogIGZ1bmN0aW9uIHVwZGF0ZVRlbXBsYXRlKCBrZXlib2FyZENoYW5nZSApIHsKICAgIHZhciBob3VycyA9IHNlbGVjdGVkLmdldEhvdXJzKCksIG1pbnV0ZXMgPSBzZWxlY3RlZC5nZXRNaW51dGVzKCk7CgogICAgaWYgKCAkc2NvcGUuc2hvd01lcmlkaWFuICkgewogICAgICBob3VycyA9ICggaG91cnMgPT09IDAgfHwgaG91cnMgPT09IDEyICkgPyAxMiA6IGhvdXJzICUgMTI7IC8vIENvbnZlcnQgMjQgdG8gMTIgaG91ciBzeXN0ZW0KICAgIH0KCiAgICAkc2NvcGUuaG91cnMgPSBrZXlib2FyZENoYW5nZSA9PT0gJ2gnID8gaG91cnMgOiBwYWQoaG91cnMpOwogICAgJHNjb3BlLm1pbnV0ZXMgPSBrZXlib2FyZENoYW5nZSA9PT0gJ20nID8gbWludXRlcyA6IHBhZChtaW51dGVzKTsKICAgICRzY29wZS5tZXJpZGlhbiA9IHNlbGVjdGVkLmdldEhvdXJzKCkgPCAxMiA/IG1lcmlkaWFuc1swXSA6IG1lcmlkaWFuc1sxXTsKICB9CgogIGZ1bmN0aW9uIGFkZE1pbnV0ZXMoIG1pbnV0ZXMgKSB7CiAgICB2YXIgZHQgPSBuZXcgRGF0ZSggc2VsZWN0ZWQuZ2V0VGltZSgpICsgbWludXRlcyAqIDYwMDAwICk7CiAgICBzZWxlY3RlZC5zZXRIb3VycyggZHQuZ2V0SG91cnMoKSwgZHQuZ2V0TWludXRlcygpICk7CiAgICByZWZyZXNoKCk7CiAgfQoKICAkc2NvcGUuaW5jcmVtZW50SG91cnMgPSBmdW5jdGlvbigpIHsKICAgIGFkZE1pbnV0ZXMoIGhvdXJTdGVwICogNjAgKTsKICB9OwogICRzY29wZS5kZWNyZW1lbnRIb3VycyA9IGZ1bmN0aW9uKCkgewogICAgYWRkTWludXRlcyggLSBob3VyU3RlcCAqIDYwICk7CiAgfTsKICAkc2NvcGUuaW5jcmVtZW50TWludXRlcyA9IGZ1bmN0aW9uKCkgewogICAgYWRkTWludXRlcyggbWludXRlU3RlcCApOwogIH07CiAgJHNjb3BlLmRlY3JlbWVudE1pbnV0ZXMgPSBmdW5jdGlvbigpIHsKICAgIGFkZE1pbnV0ZXMoIC0gbWludXRlU3RlcCApOwogIH07CiAgJHNjb3BlLnRvZ2dsZU1lcmlkaWFuID0gZnVuY3Rpb24oKSB7CiAgICBhZGRNaW51dGVzKCAxMiAqIDYwICogKCggc2VsZWN0ZWQuZ2V0SG91cnMoKSA8IDEyICkgPyAxIDogLTEpICk7CiAgfTsKfV0pCgouZGlyZWN0aXZlKCd0aW1lcGlja2VyJywgZnVuY3Rpb24gKCkgewogIHJldHVybiB7CiAgICByZXN0cmljdDogJ0VBJywKICAgIHJlcXVpcmU6IFsndGltZXBpY2tlcicsICc/Xm5nTW9kZWwnXSwKICAgIGNvbnRyb2xsZXI6J1RpbWVwaWNrZXJDb250cm9sbGVyJywKICAgIHJlcGxhY2U6IHRydWUsCiAgICBzY29wZToge30sCiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sJywKICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHsKICAgICAgdmFyIHRpbWVwaWNrZXJDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07CgogICAgICBpZiAoIG5nTW9kZWxDdHJsICkgewogICAgICAgIHRpbWVwaWNrZXJDdHJsLmluaXQoIG5nTW9kZWxDdHJsLCBlbGVtZW50LmZpbmQoJ2lucHV0JykgKTsKICAgICAgfQogICAgfQogIH07Cn0pOwoKYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50eXBlYWhlYWQnLCBbJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbicsICd1aS5ib290c3RyYXAuYmluZEh0bWwnXSkKCi8qKgogKiBBIGhlbHBlciBzZXJ2aWNlIHRoYXQgY2FuIHBhcnNlIHR5cGVhaGVhZCdzIHN5bnRheCAoc3RyaW5nIHByb3ZpZGVkIGJ5IHVzZXJzKQogKiBFeHRyYWN0ZWQgdG8gYSBzZXBhcmF0ZSBzZXJ2aWNlIGZvciBlYXNlIG9mIHVuaXQgdGVzdGluZwogKi8KICAuZmFjdG9yeSgndHlwZWFoZWFkUGFyc2VyJywgWyckcGFyc2UnLCBmdW5jdGlvbiAoJHBhcnNlKSB7CgogIC8vICAgICAgICAgICAgICAgICAgICAgIDAwMDAwMTExMDAwMDAwMDAwMDAwMDIyMjAwMDAwMDAwMDAwMDAwMDAzMzMzMzMzMzMzMzMzMzMwMDAwMDAwMDAwMDQ0MDAwCiAgdmFyIFRZUEVBSEVBRF9SRUdFWFAgPSAvXlxzKiguKj8pKD86XHMrYXNccysoLio/KSk/XHMrZm9yXHMrKD86KFtcJFx3XVtcJFx3XGRdKikpXHMraW5ccysoLiopJC87CgogIHJldHVybiB7CiAgICBwYXJzZTpmdW5jdGlvbiAoaW5wdXQpIHsKCiAgICAgIHZhciBtYXRjaCA9IGlucHV0Lm1hdGNoKFRZUEVBSEVBRF9SRUdFWFApOwogICAgICBpZiAoIW1hdGNoKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKAogICAgICAgICAgJ0V4cGVjdGVkIHR5cGVhaGVhZCBzcGVjaWZpY2F0aW9uIGluIGZvcm0gb2YgIl9tb2RlbFZhbHVlXyAoYXMgX2xhYmVsXyk/IGZvciBfaXRlbV8gaW4gX2NvbGxlY3Rpb25fIicgKwogICAgICAgICAgICAnIGJ1dCBnb3QgIicgKyBpbnB1dCArICciLicpOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIGl0ZW1OYW1lOm1hdGNoWzNdLAogICAgICAgIHNvdXJjZTokcGFyc2UobWF0Y2hbNF0pLAogICAgICAgIHZpZXdNYXBwZXI6JHBhcnNlKG1hdGNoWzJdIHx8IG1hdGNoWzFdKSwKICAgICAgICBtb2RlbE1hcHBlcjokcGFyc2UobWF0Y2hbMV0pCiAgICAgIH07CiAgICB9CiAgfTsKfV0pCgogIC5kaXJlY3RpdmUoJ3R5cGVhaGVhZCcsIFsnJGNvbXBpbGUnLCAnJHBhcnNlJywgJyRxJywgJyR0aW1lb3V0JywgJyRkb2N1bWVudCcsICckcG9zaXRpb24nLCAndHlwZWFoZWFkUGFyc2VyJywKICAgIGZ1bmN0aW9uICgkY29tcGlsZSwgJHBhcnNlLCAkcSwgJHRpbWVvdXQsICRkb2N1bWVudCwgJHBvc2l0aW9uLCB0eXBlYWhlYWRQYXJzZXIpIHsKCiAgdmFyIEhPVF9LRVlTID0gWzksIDEzLCAyNywgMzgsIDQwXTsKCiAgcmV0dXJuIHsKICAgIHJlcXVpcmU6J25nTW9kZWwnLAogICAgbGluazpmdW5jdGlvbiAob3JpZ2luYWxTY29wZSwgZWxlbWVudCwgYXR0cnMsIG1vZGVsQ3RybCkgewoKICAgICAgLy9TVVBQT1JURUQgQVRUUklCVVRFUyAoT1BUSU9OUykKCiAgICAgIC8vbWluaW1hbCBubyBvZiBjaGFyYWN0ZXJzIHRoYXQgbmVlZHMgdG8gYmUgZW50ZXJlZCBiZWZvcmUgdHlwZWFoZWFkIGtpY2tzLWluCiAgICAgIHZhciBtaW5TZWFyY2ggPSBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZE1pbkxlbmd0aCkgfHwgMTsKCiAgICAgIC8vbWluaW1hbCB3YWl0IHRpbWUgYWZ0ZXIgbGFzdCBjaGFyYWN0ZXIgdHlwZWQgYmVmb3JlIHR5cGVoZWFkIGtpY2tzLWluCiAgICAgIHZhciB3YWl0VGltZSA9IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkV2FpdE1zKSB8fCAwOwoKICAgICAgLy9zaG91bGQgaXQgcmVzdHJpY3QgbW9kZWwgdmFsdWVzIHRvIHRoZSBvbmVzIHNlbGVjdGVkIGZyb20gdGhlIHBvcHVwIG9ubHk/CiAgICAgIHZhciBpc0VkaXRhYmxlID0gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRFZGl0YWJsZSkgIT09IGZhbHNlOwoKICAgICAgLy9iaW5kaW5nIHRvIGEgdmFyaWFibGUgdGhhdCBpbmRpY2F0ZXMgaWYgbWF0Y2hlcyBhcmUgYmVpbmcgcmV0cmlldmVkIGFzeW5jaHJvbm91c2x5CiAgICAgIHZhciBpc0xvYWRpbmdTZXR0ZXIgPSAkcGFyc2UoYXR0cnMudHlwZWFoZWFkTG9hZGluZykuYXNzaWduIHx8IGFuZ3VsYXIubm9vcDsKCiAgICAgIC8vYSBjYWxsYmFjayBleGVjdXRlZCB3aGVuIGEgbWF0Y2ggaXMgc2VsZWN0ZWQKICAgICAgdmFyIG9uU2VsZWN0Q2FsbGJhY2sgPSAkcGFyc2UoYXR0cnMudHlwZWFoZWFkT25TZWxlY3QpOwoKICAgICAgdmFyIGlucHV0Rm9ybWF0dGVyID0gYXR0cnMudHlwZWFoZWFkSW5wdXRGb3JtYXR0ZXIgPyAkcGFyc2UoYXR0cnMudHlwZWFoZWFkSW5wdXRGb3JtYXR0ZXIpIDogdW5kZWZpbmVkOwoKICAgICAgdmFyIGFwcGVuZFRvQm9keSA9ICBhdHRycy50eXBlYWhlYWRBcHBlbmRUb0JvZHkgPyBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZEFwcGVuZFRvQm9keSkgOiBmYWxzZTsKCiAgICAgIC8vSU5URVJOQUwgVkFSSUFCTEVTCgogICAgICAvL21vZGVsIHNldHRlciBleGVjdXRlZCB1cG9uIG1hdGNoIHNlbGVjdGlvbgogICAgICB2YXIgJHNldE1vZGVsVmFsdWUgPSAkcGFyc2UoYXR0cnMubmdNb2RlbCkuYXNzaWduOwoKICAgICAgLy9leHByZXNzaW9ucyB1c2VkIGJ5IHR5cGVhaGVhZAogICAgICB2YXIgcGFyc2VyUmVzdWx0ID0gdHlwZWFoZWFkUGFyc2VyLnBhcnNlKGF0dHJzLnR5cGVhaGVhZCk7CgogICAgICB2YXIgaGFzRm9jdXM7CgogICAgICAvL2NyZWF0ZSBhIGNoaWxkIHNjb3BlIGZvciB0aGUgdHlwZWFoZWFkIGRpcmVjdGl2ZSBzbyB3ZSBhcmUgbm90IHBvbGx1dGluZyBvcmlnaW5hbCBzY29wZQogICAgICAvL3dpdGggdHlwZWFoZWFkLXNwZWNpZmljIGRhdGEgKG1hdGNoZXMsIHF1ZXJ5IGV0Yy4pCiAgICAgIHZhciBzY29wZSA9IG9yaWdpbmFsU2NvcGUuJG5ldygpOwogICAgICBvcmlnaW5hbFNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpewogICAgICAgIHNjb3BlLiRkZXN0cm95KCk7CiAgICAgIH0pOwoKICAgICAgLy8gV0FJLUFSSUEKICAgICAgdmFyIHBvcHVwSWQgPSAndHlwZWFoZWFkLScgKyBzY29wZS4kaWQgKyAnLScgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCk7CiAgICAgIGVsZW1lbnQuYXR0cih7CiAgICAgICAgJ2FyaWEtYXV0b2NvbXBsZXRlJzogJ2xpc3QnLAogICAgICAgICdhcmlhLWV4cGFuZGVkJzogZmFsc2UsCiAgICAgICAgJ2FyaWEtb3ducyc6IHBvcHVwSWQKICAgICAgfSk7CgogICAgICAvL3BvcC11cCBlbGVtZW50IHVzZWQgdG8gZGlzcGxheSBtYXRjaGVzCiAgICAgIHZhciBwb3BVcEVsID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IHR5cGVhaGVhZC1wb3B1cD48L2Rpdj4nKTsKICAgICAgcG9wVXBFbC5hdHRyKHsKICAgICAgICBpZDogcG9wdXBJZCwKICAgICAgICBtYXRjaGVzOiAnbWF0Y2hlcycsCiAgICAgICAgYWN0aXZlOiAnYWN0aXZlSWR4JywKICAgICAgICBzZWxlY3Q6ICdzZWxlY3QoYWN0aXZlSWR4KScsCiAgICAgICAgcXVlcnk6ICdxdWVyeScsCiAgICAgICAgcG9zaXRpb246ICdwb3NpdGlvbicKICAgICAgfSk7CiAgICAgIC8vY3VzdG9tIGl0ZW0gdGVtcGxhdGUKICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnR5cGVhaGVhZFRlbXBsYXRlVXJsKSkgewogICAgICAgIHBvcFVwRWwuYXR0cigndGVtcGxhdGUtdXJsJywgYXR0cnMudHlwZWFoZWFkVGVtcGxhdGVVcmwpOwogICAgICB9CgogICAgICB2YXIgcmVzZXRNYXRjaGVzID0gZnVuY3Rpb24oKSB7CiAgICAgICAgc2NvcGUubWF0Y2hlcyA9IFtdOwogICAgICAgIHNjb3BlLmFjdGl2ZUlkeCA9IC0xOwogICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKTsKICAgICAgfTsKCiAgICAgIHZhciBnZXRNYXRjaElkID0gZnVuY3Rpb24oaW5kZXgpIHsKICAgICAgICByZXR1cm4gcG9wdXBJZCArICctb3B0aW9uLScgKyBpbmRleDsKICAgICAgfTsKCiAgICAgIC8vIEluZGljYXRlIHRoYXQgdGhlIHNwZWNpZmllZCBtYXRjaCBpcyB0aGUgYWN0aXZlIChwcmUtc2VsZWN0ZWQpIGl0ZW0gaW4gdGhlIGxpc3Qgb3duZWQgYnkgdGhpcyB0eXBlYWhlYWQuCiAgICAgIC8vIFRoaXMgYXR0cmlidXRlIGlzIGFkZGVkIG9yIHJlbW92ZWQgYXV0b21hdGljYWxseSB3aGVuIHRoZSBgYWN0aXZlSWR4YCBjaGFuZ2VzLgogICAgICBzY29wZS4kd2F0Y2goJ2FjdGl2ZUlkeCcsIGZ1bmN0aW9uKGluZGV4KSB7CiAgICAgICAgaWYgKGluZGV4IDwgMCkgewogICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyKCdhcmlhLWFjdGl2ZWRlc2NlbmRhbnQnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLWFjdGl2ZWRlc2NlbmRhbnQnLCBnZXRNYXRjaElkKGluZGV4KSk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIHZhciBnZXRNYXRjaGVzQXN5bmMgPSBmdW5jdGlvbihpbnB1dFZhbHVlKSB7CgogICAgICAgIHZhciBsb2NhbHMgPSB7JHZpZXdWYWx1ZTogaW5wdXRWYWx1ZX07CiAgICAgICAgaXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsIHRydWUpOwogICAgICAgICRxLndoZW4ocGFyc2VyUmVzdWx0LnNvdXJjZShvcmlnaW5hbFNjb3BlLCBsb2NhbHMpKS50aGVuKGZ1bmN0aW9uKG1hdGNoZXMpIHsKCiAgICAgICAgICAvL2l0IG1pZ2h0IGhhcHBlbiB0aGF0IHNldmVyYWwgYXN5bmMgcXVlcmllcyB3ZXJlIGluIHByb2dyZXNzIGlmIGEgdXNlciB3ZXJlIHR5cGluZyBmYXN0CiAgICAgICAgICAvL2J1dCB3ZSBhcmUgaW50ZXJlc3RlZCBvbmx5IGluIHJlc3BvbnNlcyB0aGF0IGNvcnJlc3BvbmQgdG8gdGhlIGN1cnJlbnQgdmlldyB2YWx1ZQogICAgICAgICAgdmFyIG9uQ3VycmVudFJlcXVlc3QgPSAoaW5wdXRWYWx1ZSA9PT0gbW9kZWxDdHJsLiR2aWV3VmFsdWUpOwogICAgICAgICAgaWYgKG9uQ3VycmVudFJlcXVlc3QgJiYgaGFzRm9jdXMpIHsKICAgICAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoID4gMCkgewoKICAgICAgICAgICAgICBzY29wZS5hY3RpdmVJZHggPSAwOwogICAgICAgICAgICAgIHNjb3BlLm1hdGNoZXMubGVuZ3RoID0gMDsKCiAgICAgICAgICAgICAgLy90cmFuc2Zvcm0gbGFiZWxzCiAgICAgICAgICAgICAgZm9yKHZhciBpPTA7IGk8bWF0Y2hlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV0gPSBtYXRjaGVzW2ldOwogICAgICAgICAgICAgICAgc2NvcGUubWF0Y2hlcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgaWQ6IGdldE1hdGNoSWQoaSksCiAgICAgICAgICAgICAgICAgIGxhYmVsOiBwYXJzZXJSZXN1bHQudmlld01hcHBlcihzY29wZSwgbG9jYWxzKSwKICAgICAgICAgICAgICAgICAgbW9kZWw6IG1hdGNoZXNbaV0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgc2NvcGUucXVlcnkgPSBpbnB1dFZhbHVlOwogICAgICAgICAgICAgIC8vcG9zaXRpb24gcG9wLXVwIHdpdGggbWF0Y2hlcyAtIHdlIG5lZWQgdG8gcmUtY2FsY3VsYXRlIGl0cyBwb3NpdGlvbiBlYWNoIHRpbWUgd2UgYXJlIG9wZW5pbmcgYSB3aW5kb3cKICAgICAgICAgICAgICAvL3dpdGggbWF0Y2hlcyBhcyBhIHBvcC11cCBtaWdodCBiZSBhYnNvbHV0ZS1wb3NpdGlvbmVkIGFuZCBwb3NpdGlvbiBvZiBhbiBpbnB1dCBtaWdodCBoYXZlIGNoYW5nZWQgb24gYSBwYWdlCiAgICAgICAgICAgICAgLy9kdWUgdG8gb3RoZXIgZWxlbWVudHMgYmVpbmcgcmVuZGVyZWQKICAgICAgICAgICAgICBzY29wZS5wb3NpdGlvbiA9IGFwcGVuZFRvQm9keSA/ICRwb3NpdGlvbi5vZmZzZXQoZWxlbWVudCkgOiAkcG9zaXRpb24ucG9zaXRpb24oZWxlbWVudCk7CiAgICAgICAgICAgICAgc2NvcGUucG9zaXRpb24udG9wID0gc2NvcGUucG9zaXRpb24udG9wICsgZWxlbWVudC5wcm9wKCdvZmZzZXRIZWlnaHQnKTsKCiAgICAgICAgICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmVzZXRNYXRjaGVzKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChvbkN1cnJlbnRSZXF1ZXN0KSB7CiAgICAgICAgICAgIGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7CiAgICAgICAgICB9CiAgICAgICAgfSwgZnVuY3Rpb24oKXsKICAgICAgICAgIHJlc2V0TWF0Y2hlcygpOwogICAgICAgICAgaXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsIGZhbHNlKTsKICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIHJlc2V0TWF0Y2hlcygpOwoKICAgICAgLy93ZSBuZWVkIHRvIHByb3BhZ2F0ZSB1c2VyJ3MgcXVlcnkgc28gd2UgY2FuIGhpZ2xpZ2h0IG1hdGNoZXMKICAgICAgc2NvcGUucXVlcnkgPSB1bmRlZmluZWQ7CgogICAgICAvL0RlY2xhcmUgdGhlIHRpbWVvdXQgcHJvbWlzZSB2YXIgb3V0c2lkZSB0aGUgZnVuY3Rpb24gc2NvcGUgc28gdGhhdCBzdGFja2VkIGNhbGxzIGNhbiBiZSBjYW5jZWxsZWQgbGF0ZXIgCiAgICAgIHZhciB0aW1lb3V0UHJvbWlzZTsKCiAgICAgIC8vcGx1ZyBpbnRvICRwYXJzZXJzIHBpcGVsaW5lIHRvIG9wZW4gYSB0eXBlYWhlYWQgb24gdmlldyBjaGFuZ2VzIGluaXRpYXRlZCBmcm9tIERPTQogICAgICAvLyRwYXJzZXJzIGtpY2staW4gb24gYWxsIHRoZSBjaGFuZ2VzIGNvbWluZyBmcm9tIHRoZSB2aWV3IGFzIHdlbGwgYXMgbWFudWFsbHkgdHJpZ2dlcmVkIGJ5ICRzZXRWaWV3VmFsdWUKICAgICAgbW9kZWxDdHJsLiRwYXJzZXJzLnVuc2hpZnQoZnVuY3Rpb24gKGlucHV0VmFsdWUpIHsKCiAgICAgICAgaGFzRm9jdXMgPSB0cnVlOwoKICAgICAgICBpZiAoaW5wdXRWYWx1ZSAmJiBpbnB1dFZhbHVlLmxlbmd0aCA+PSBtaW5TZWFyY2gpIHsKICAgICAgICAgIGlmICh3YWl0VGltZSA+IDApIHsKICAgICAgICAgICAgaWYgKHRpbWVvdXRQcm9taXNlKSB7CiAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVvdXRQcm9taXNlKTsvL2NhbmNlbCBwcmV2aW91cyB0aW1lb3V0CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGltZW91dFByb21pc2UgPSAkdGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgZ2V0TWF0Y2hlc0FzeW5jKGlucHV0VmFsdWUpOwogICAgICAgICAgICB9LCB3YWl0VGltZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBnZXRNYXRjaGVzQXN5bmMoaW5wdXRWYWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7CiAgICAgICAgICByZXNldE1hdGNoZXMoKTsKICAgICAgICB9CgogICAgICAgIGlmIChpc0VkaXRhYmxlKSB7CiAgICAgICAgICByZXR1cm4gaW5wdXRWYWx1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKCFpbnB1dFZhbHVlKSB7CiAgICAgICAgICAgIC8vIFJlc2V0IGluIGNhc2UgdXNlciBoYWQgdHlwZWQgc29tZXRoaW5nIHByZXZpb3VzbHkuCiAgICAgICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgdHJ1ZSk7CiAgICAgICAgICAgIHJldHVybiBpbnB1dFZhbHVlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZWRpdGFibGUnLCBmYWxzZSk7CiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIG1vZGVsQ3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uIChtb2RlbFZhbHVlKSB7CgogICAgICAgIHZhciBjYW5kaWRhdGVWaWV3VmFsdWUsIGVtcHR5Vmlld1ZhbHVlOwogICAgICAgIHZhciBsb2NhbHMgPSB7fTsKCiAgICAgICAgaWYgKGlucHV0Rm9ybWF0dGVyKSB7CgogICAgICAgICAgbG9jYWxzWyckbW9kZWwnXSA9IG1vZGVsVmFsdWU7CiAgICAgICAgICByZXR1cm4gaW5wdXRGb3JtYXR0ZXIob3JpZ2luYWxTY29wZSwgbG9jYWxzKTsKCiAgICAgICAgfSBlbHNlIHsKCiAgICAgICAgICAvL2l0IG1pZ2h0IGhhcHBlbiB0aGF0IHdlIGRvbid0IGhhdmUgZW5vdWdoIGluZm8gdG8gcHJvcGVybHkgcmVuZGVyIGlucHV0IHZhbHVlCiAgICAgICAgICAvL3dlIG5lZWQgdG8gY2hlY2sgZm9yIHRoaXMgc2l0dWF0aW9uIGFuZCBzaW1wbHkgcmV0dXJuIG1vZGVsIHZhbHVlIGlmIHdlIGNhbid0IGFwcGx5IGN1c3RvbSBmb3JtYXR0aW5nCiAgICAgICAgICBsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXSA9IG1vZGVsVmFsdWU7CiAgICAgICAgICBjYW5kaWRhdGVWaWV3VmFsdWUgPSBwYXJzZXJSZXN1bHQudmlld01hcHBlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpOwogICAgICAgICAgbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV0gPSB1bmRlZmluZWQ7CiAgICAgICAgICBlbXB0eVZpZXdWYWx1ZSA9IHBhcnNlclJlc3VsdC52aWV3TWFwcGVyKG9yaWdpbmFsU2NvcGUsIGxvY2Fscyk7CgogICAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZVZpZXdWYWx1ZSE9PSBlbXB0eVZpZXdWYWx1ZSA/IGNhbmRpZGF0ZVZpZXdWYWx1ZSA6IG1vZGVsVmFsdWU7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uIChhY3RpdmVJZHgpIHsKICAgICAgICAvL2NhbGxlZCBmcm9tIHdpdGhpbiB0aGUgJGRpZ2VzdCgpIGN5Y2xlCiAgICAgICAgdmFyIGxvY2FscyA9IHt9OwogICAgICAgIHZhciBtb2RlbCwgaXRlbTsKCiAgICAgICAgbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV0gPSBpdGVtID0gc2NvcGUubWF0Y2hlc1thY3RpdmVJZHhdLm1vZGVsOwogICAgICAgIG1vZGVsID0gcGFyc2VyUmVzdWx0Lm1vZGVsTWFwcGVyKG9yaWdpbmFsU2NvcGUsIGxvY2Fscyk7CiAgICAgICAgJHNldE1vZGVsVmFsdWUob3JpZ2luYWxTY29wZSwgbW9kZWwpOwogICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgdHJ1ZSk7CgogICAgICAgIG9uU2VsZWN0Q2FsbGJhY2sob3JpZ2luYWxTY29wZSwgewogICAgICAgICAgJGl0ZW06IGl0ZW0sCiAgICAgICAgICAkbW9kZWw6IG1vZGVsLAogICAgICAgICAgJGxhYmVsOiBwYXJzZXJSZXN1bHQudmlld01hcHBlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpCiAgICAgICAgfSk7CgogICAgICAgIHJlc2V0TWF0Y2hlcygpOwoKICAgICAgICAvL3JldHVybiBmb2N1cyB0byB0aGUgaW5wdXQgZWxlbWVudCBpZiBhIG1hdGNoIHdhcyBzZWxlY3RlZCB2aWEgYSBtb3VzZSBjbGljayBldmVudAogICAgICAgIC8vIHVzZSB0aW1lb3V0IHRvIGF2b2lkICRyb290U2NvcGU6aW5wcm9nIGVycm9yCiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7IGVsZW1lbnRbMF0uZm9jdXMoKTsgfSwgMCwgZmFsc2UpOwogICAgICB9OwoKICAgICAgLy9iaW5kIGtleWJvYXJkIGV2ZW50czogYXJyb3dzIHVwKDM4KSAvIGRvd24oNDApLCBlbnRlcigxMykgYW5kIHRhYig5KSwgZXNjKDI3KQogICAgICBlbGVtZW50LmJpbmQoJ2tleWRvd24nLCBmdW5jdGlvbiAoZXZ0KSB7CgogICAgICAgIC8vdHlwZWFoZWFkIGlzIG9wZW4gYW5kIGFuICJpbnRlcmVzdGluZyIga2V5IHdhcyBwcmVzc2VkCiAgICAgICAgaWYgKHNjb3BlLm1hdGNoZXMubGVuZ3RoID09PSAwIHx8IEhPVF9LRVlTLmluZGV4T2YoZXZ0LndoaWNoKSA9PT0gLTEpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICBpZiAoZXZ0LndoaWNoID09PSA0MCkgewogICAgICAgICAgc2NvcGUuYWN0aXZlSWR4ID0gKHNjb3BlLmFjdGl2ZUlkeCArIDEpICUgc2NvcGUubWF0Y2hlcy5sZW5ndGg7CiAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7CgogICAgICAgIH0gZWxzZSBpZiAoZXZ0LndoaWNoID09PSAzOCkgewogICAgICAgICAgc2NvcGUuYWN0aXZlSWR4ID0gKHNjb3BlLmFjdGl2ZUlkeCA/IHNjb3BlLmFjdGl2ZUlkeCA6IHNjb3BlLm1hdGNoZXMubGVuZ3RoKSAtIDE7CiAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7CgogICAgICAgIH0gZWxzZSBpZiAoZXZ0LndoaWNoID09PSAxMyB8fCBldnQud2hpY2ggPT09IDkpIHsKICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHNjb3BlLnNlbGVjdChzY29wZS5hY3RpdmVJZHgpOwogICAgICAgICAgfSk7CgogICAgICAgIH0gZWxzZSBpZiAoZXZ0LndoaWNoID09PSAyNykgewogICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpOwoKICAgICAgICAgIHJlc2V0TWF0Y2hlcygpOwogICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICBlbGVtZW50LmJpbmQoJ2JsdXInLCBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgICAgaGFzRm9jdXMgPSBmYWxzZTsKICAgICAgfSk7CgogICAgICAvLyBLZWVwIHJlZmVyZW5jZSB0byBjbGljayBoYW5kbGVyIHRvIHVuYmluZCBpdC4KICAgICAgdmFyIGRpc21pc3NDbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgICAgaWYgKGVsZW1lbnRbMF0gIT09IGV2dC50YXJnZXQpIHsKICAgICAgICAgIHJlc2V0TWF0Y2hlcygpOwogICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgICRkb2N1bWVudC5iaW5kKCdjbGljaycsIGRpc21pc3NDbGlja0hhbmRsZXIpOwoKICAgICAgb3JpZ2luYWxTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKXsKICAgICAgICAkZG9jdW1lbnQudW5iaW5kKCdjbGljaycsIGRpc21pc3NDbGlja0hhbmRsZXIpOwogICAgICB9KTsKCiAgICAgIHZhciAkcG9wdXAgPSAkY29tcGlsZShwb3BVcEVsKShzY29wZSk7CiAgICAgIGlmICggYXBwZW5kVG9Cb2R5ICkgewogICAgICAgICRkb2N1bWVudC5maW5kKCdib2R5JykuYXBwZW5kKCRwb3B1cCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZWxlbWVudC5hZnRlcigkcG9wdXApOwogICAgICB9CiAgICB9CiAgfTsKCn1dKQoKICAuZGlyZWN0aXZlKCd0eXBlYWhlYWRQb3B1cCcsIGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlc3RyaWN0OidFQScsCiAgICAgIHNjb3BlOnsKICAgICAgICBtYXRjaGVzOic9JywKICAgICAgICBxdWVyeTonPScsCiAgICAgICAgYWN0aXZlOic9JywKICAgICAgICBwb3NpdGlvbjonPScsCiAgICAgICAgc2VsZWN0OicmJwogICAgICB9LAogICAgICByZXBsYWNlOnRydWUsCiAgICAgIHRlbXBsYXRlVXJsOid0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWwnLAogICAgICBsaW5rOmZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHsKCiAgICAgICAgc2NvcGUudGVtcGxhdGVVcmwgPSBhdHRycy50ZW1wbGF0ZVVybDsKCiAgICAgICAgc2NvcGUuaXNPcGVuID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIHNjb3BlLm1hdGNoZXMubGVuZ3RoID4gMDsKICAgICAgICB9OwoKICAgICAgICBzY29wZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uIChtYXRjaElkeCkgewogICAgICAgICAgcmV0dXJuIHNjb3BlLmFjdGl2ZSA9PSBtYXRjaElkeDsKICAgICAgICB9OwoKICAgICAgICBzY29wZS5zZWxlY3RBY3RpdmUgPSBmdW5jdGlvbiAobWF0Y2hJZHgpIHsKICAgICAgICAgIHNjb3BlLmFjdGl2ZSA9IG1hdGNoSWR4OwogICAgICAgIH07CgogICAgICAgIHNjb3BlLnNlbGVjdE1hdGNoID0gZnVuY3Rpb24gKGFjdGl2ZUlkeCkgewogICAgICAgICAgc2NvcGUuc2VsZWN0KHthY3RpdmVJZHg6YWN0aXZlSWR4fSk7CiAgICAgICAgfTsKICAgICAgfQogICAgfTsKICB9KQoKICAuZGlyZWN0aXZlKCd0eXBlYWhlYWRNYXRjaCcsIFsnJGh0dHAnLCAnJHRlbXBsYXRlQ2FjaGUnLCAnJGNvbXBpbGUnLCAnJHBhcnNlJywgZnVuY3Rpb24gKCRodHRwLCAkdGVtcGxhdGVDYWNoZSwgJGNvbXBpbGUsICRwYXJzZSkgewogICAgcmV0dXJuIHsKICAgICAgcmVzdHJpY3Q6J0VBJywKICAgICAgc2NvcGU6ewogICAgICAgIGluZGV4Oic9JywKICAgICAgICBtYXRjaDonPScsCiAgICAgICAgcXVlcnk6Jz0nCiAgICAgIH0sCiAgICAgIGxpbms6ZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykgewogICAgICAgIHZhciB0cGxVcmwgPSAkcGFyc2UoYXR0cnMudGVtcGxhdGVVcmwpKHNjb3BlLiRwYXJlbnQpIHx8ICd0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWwnOwogICAgICAgICRodHRwLmdldCh0cGxVcmwsIHtjYWNoZTogJHRlbXBsYXRlQ2FjaGV9KS5zdWNjZXNzKGZ1bmN0aW9uKHRwbENvbnRlbnQpewogICAgICAgICAgIGVsZW1lbnQucmVwbGFjZVdpdGgoJGNvbXBpbGUodHBsQ29udGVudC50cmltKCkpKHNjb3BlKSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CiAgfV0pCgogIC5maWx0ZXIoJ3R5cGVhaGVhZEhpZ2hsaWdodCcsIGZ1bmN0aW9uKCkgewoKICAgIGZ1bmN0aW9uIGVzY2FwZVJlZ2V4cChxdWVyeVRvRXNjYXBlKSB7CiAgICAgIHJldHVybiBxdWVyeVRvRXNjYXBlLnJlcGxhY2UoLyhbLj8qK14kW1xdXFwoKXt9fC1dKS9nLCAnXFwkMScpOwogICAgfQoKICAgIHJldHVybiBmdW5jdGlvbihtYXRjaEl0ZW0sIHF1ZXJ5KSB7CiAgICAgIHJldHVybiBxdWVyeSA/ICgnJyArIG1hdGNoSXRlbSkucmVwbGFjZShuZXcgUmVnRXhwKGVzY2FwZVJlZ2V4cChxdWVyeSksICdnaScpLCAnPHN0cm9uZz4kJjwvc3Ryb25nPicpIDogbWF0Y2hJdGVtOwogICAgfTsKICB9KTsKCmFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWwiLCBbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkgewogICR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi1ncm91cC5odG1sIiwKICAgICI8ZGl2IGNsYXNzPVwicGFuZWwgcGFuZWwtZGVmYXVsdFwiPlxuIiArCiAgICAiICA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiPlxuIiArCiAgICAiICAgIDxoNCBjbGFzcz1cInBhbmVsLXRpdGxlXCI+XG4iICsKICAgICIgICAgICA8YSBjbGFzcz1cImFjY29yZGlvbi10b2dnbGVcIiBuZy1jbGljaz1cInRvZ2dsZU9wZW4oKVwiIGFjY29yZGlvbi10cmFuc2NsdWRlPVwiaGVhZGluZ1wiPjxzcGFuIG5nLWNsYXNzPVwieyd0ZXh0LW11dGVkJzogaXNEaXNhYmxlZH1cIj57e2hlYWRpbmd9fTwvc3Bhbj48L2E+XG4iICsKICAgICIgICAgPC9oND5cbiIgKwogICAgIiAgPC9kaXY+XG4iICsKICAgICIgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb2xsYXBzZVwiIGNvbGxhcHNlPVwiIWlzT3BlblwiPlxuIiArCiAgICAiCSAgPGRpdiBjbGFzcz1cInBhbmVsLWJvZHlcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxuIiArCiAgICAiICA8L2Rpdj5cbiIgKwogICAgIjwvZGl2PiIpOwp9XSk7Cgphbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sIiwgW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHsKICAkdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbCIsCiAgICAiPGRpdiBjbGFzcz1cInBhbmVsLWdyb3VwXCIgbmctdHJhbnNjbHVkZT48L2Rpdj4iKTsKfV0pOwoKYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWwiLCBbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkgewogICR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbCIsCiAgICAiPGRpdiBjbGFzcz1cImFsZXJ0XCIgbmctY2xhc3M9XCJ7J2FsZXJ0LXt7dHlwZSB8fCAnd2FybmluZyd9fSc6IHRydWUsICdhbGVydC1kaXNtaXNzYWJsZSc6IGNsb3NlYWJsZX1cIiByb2xlPVwiYWxlcnRcIj5cbiIgKwogICAgIiAgICA8YnV0dG9uIG5nLXNob3c9XCJjbG9zZWFibGVcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZVwiIG5nLWNsaWNrPVwiY2xvc2UoKVwiPlxuIiArCiAgICAiICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuIiArCiAgICAiICAgICAgICA8c3BhbiBjbGFzcz1cInNyLW9ubHlcIj5DbG9zZTwvc3Bhbj5cbiIgKwogICAgIiAgICA8L2J1dHRvbj5cbiIgKwogICAgIiAgICA8ZGl2IG5nLXRyYW5zY2x1ZGU+PC9kaXY+XG4iICsKICAgICI8L2Rpdj5cbiIgKwogICAgIiIpOwp9XSk7Cgphbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbCIsIFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7CiAgJHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sIiwKICAgICI8ZGl2IG5nLW1vdXNlZW50ZXI9XCJwYXVzZSgpXCIgbmctbW91c2VsZWF2ZT1cInBsYXkoKVwiIGNsYXNzPVwiY2Fyb3VzZWxcIiBuZy1zd2lwZS1yaWdodD1cInByZXYoKVwiIG5nLXN3aXBlLWxlZnQ9XCJuZXh0KClcIj5cbiIgKwogICAgIiAgICA8b2wgY2xhc3M9XCJjYXJvdXNlbC1pbmRpY2F0b3JzXCIgbmctc2hvdz1cInNsaWRlcy5sZW5ndGggPiAxXCI+XG4iICsKICAgICIgICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJzbGlkZSBpbiBzbGlkZXMgdHJhY2sgYnkgJGluZGV4XCIgbmctY2xhc3M9XCJ7YWN0aXZlOiBpc0FjdGl2ZShzbGlkZSl9XCIgbmctY2xpY2s9XCJzZWxlY3Qoc2xpZGUpXCI+PC9saT5cbiIgKwogICAgIiAgICA8L29sPlxuIiArCiAgICAiICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbC1pbm5lclwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XG4iICsKICAgICIgICAgPGEgY2xhc3M9XCJsZWZ0IGNhcm91c2VsLWNvbnRyb2xcIiBuZy1jbGljaz1cInByZXYoKVwiIG5nLXNob3c9XCJzbGlkZXMubGVuZ3RoID4gMVwiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnRcIj48L3NwYW4+PC9hPlxuIiArCiAgICAiICAgIDxhIGNsYXNzPVwicmlnaHQgY2Fyb3VzZWwtY29udHJvbFwiIG5nLWNsaWNrPVwibmV4dCgpXCIgbmctc2hvdz1cInNsaWRlcy5sZW5ndGggPiAxXCI+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHRcIj48L3NwYW4+PC9hPlxuIiArCiAgICAiPC9kaXY+XG4iICsKICAgICIiKTsKfV0pOwoKYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWwiLCBbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkgewogICR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvY2Fyb3VzZWwvc2xpZGUuaHRtbCIsCiAgICAiPGRpdiBuZy1jbGFzcz1cIntcbiIgKwogICAgIiAgICAnYWN0aXZlJzogbGVhdmluZyB8fCAoYWN0aXZlICYmICFlbnRlcmluZyksXG4iICsKICAgICIgICAgJ3ByZXYnOiAobmV4dCB8fCBhY3RpdmUpICYmIGRpcmVjdGlvbj09J3ByZXYnLFxuIiArCiAgICAiICAgICduZXh0JzogKG5leHQgfHwgYWN0aXZlKSAmJiBkaXJlY3Rpb249PSduZXh0JyxcbiIgKwogICAgIiAgICAncmlnaHQnOiBkaXJlY3Rpb249PSdwcmV2JyxcbiIgKwogICAgIiAgICAnbGVmdCc6IGRpcmVjdGlvbj09J25leHQnXG4iICsKICAgICIgIH1cIiBjbGFzcz1cIml0ZW0gdGV4dC1jZW50ZXJcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxuIiArCiAgICAiIik7Cn1dKTsKCmFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbCIsIFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7CiAgJHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbCIsCiAgICAiPGRpdiBuZy1zd2l0Y2g9XCJkYXRlcGlja2VyTW9kZVwiIHJvbGU9XCJhcHBsaWNhdGlvblwiIG5nLWtleWRvd249XCJrZXlkb3duKCRldmVudClcIj5cbiIgKwogICAgIiAgPGRheXBpY2tlciBuZy1zd2l0Y2gtd2hlbj1cImRheVwiIHRhYmluZGV4PVwiMFwiPjwvZGF5cGlja2VyPlxuIiArCiAgICAiICA8bW9udGhwaWNrZXIgbmctc3dpdGNoLXdoZW49XCJtb250aFwiIHRhYmluZGV4PVwiMFwiPjwvbW9udGhwaWNrZXI+XG4iICsKICAgICIgIDx5ZWFycGlja2VyIG5nLXN3aXRjaC13aGVuPVwieWVhclwiIHRhYmluZGV4PVwiMFwiPjwveWVhcnBpY2tlcj5cbiIgKwogICAgIjwvZGl2PiIpOwp9XSk7Cgphbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbCIsIFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7CiAgJHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sIiwKICAgICI8dGFibGUgcm9sZT1cImdyaWRcIiBhcmlhLWxhYmVsbGVkYnk9XCJ7e3VuaXF1ZUlkfX0tdGl0bGVcIiBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9XCJ7e2FjdGl2ZURhdGVJZH19XCI+XG4iICsKICAgICIgIDx0aGVhZD5cbiIgKwogICAgIiAgICA8dHI+XG4iICsKICAgICIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiIG5nLWNsaWNrPVwibW92ZSgtMSlcIiB0YWJpbmRleD1cIi0xXCI+PGkgY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdFwiPjwvaT48L2J1dHRvbj48L3RoPlxuIiArCiAgICAiICAgICAgPHRoIGNvbHNwYW49XCJ7ezUgKyBzaG93V2Vla3N9fVwiPjxidXR0b24gaWQ9XCJ7e3VuaXF1ZUlkfX0tdGl0bGVcIiByb2xlPVwiaGVhZGluZ1wiIGFyaWEtbGl2ZT1cImFzc2VydGl2ZVwiIGFyaWEtYXRvbWljPVwidHJ1ZVwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdCBidG4tc21cIiBuZy1jbGljaz1cInRvZ2dsZU1vZGUoKVwiIHRhYmluZGV4PVwiLTFcIiBzdHlsZT1cIndpZHRoOjEwMCU7XCI+PHN0cm9uZz57e3RpdGxlfX08L3N0cm9uZz48L2J1dHRvbj48L3RoPlxuIiArCiAgICAiICAgICAgPHRoPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0XCIgbmctY2xpY2s9XCJtb3ZlKDEpXCIgdGFiaW5kZXg9XCItMVwiPjxpIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXJpZ2h0XCI+PC9pPjwvYnV0dG9uPjwvdGg+XG4iICsKICAgICIgICAgPC90cj5cbiIgKwogICAgIiAgICA8dHI+XG4iICsKICAgICIgICAgICA8dGggbmctc2hvdz1cInNob3dXZWVrc1wiIGNsYXNzPVwidGV4dC1jZW50ZXJcIj48L3RoPlxuIiArCiAgICAiICAgICAgPHRoIG5nLXJlcGVhdD1cImxhYmVsIGluIGxhYmVscyB0cmFjayBieSAkaW5kZXhcIiBjbGFzcz1cInRleHQtY2VudGVyXCI+PHNtYWxsIGFyaWEtbGFiZWw9XCJ7e2xhYmVsLmZ1bGx9fVwiPnt7bGFiZWwuYWJicn19PC9zbWFsbD48L3RoPlxuIiArCiAgICAiICAgIDwvdHI+XG4iICsKICAgICIgIDwvdGhlYWQ+XG4iICsKICAgICIgIDx0Ym9keT5cbiIgKwogICAgIiAgICA8dHIgbmctcmVwZWF0PVwicm93IGluIHJvd3MgdHJhY2sgYnkgJGluZGV4XCI+XG4iICsKICAgICIgICAgICA8dGQgbmctc2hvdz1cInNob3dXZWVrc1wiIGNsYXNzPVwidGV4dC1jZW50ZXIgaDZcIj48ZW0+e3sgd2Vla051bWJlcnNbJGluZGV4XSB9fTwvZW0+PC90ZD5cbiIgKwogICAgIiAgICAgIDx0ZCBuZy1yZXBlYXQ9XCJkdCBpbiByb3cgdHJhY2sgYnkgZHQuZGF0ZVwiIGNsYXNzPVwidGV4dC1jZW50ZXJcIiByb2xlPVwiZ3JpZGNlbGxcIiBpZD1cInt7ZHQudWlkfX1cIiBhcmlhLWRpc2FibGVkPVwie3shIWR0LmRpc2FibGVkfX1cIj5cbiIgKwogICAgIiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgc3R5bGU9XCJ3aWR0aDoxMDAlO1wiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVwiIG5nLWNsYXNzPVwieydidG4taW5mbyc6IGR0LnNlbGVjdGVkLCBhY3RpdmU6IGlzQWN0aXZlKGR0KX1cIiBuZy1jbGljaz1cInNlbGVjdChkdC5kYXRlKVwiIG5nLWRpc2FibGVkPVwiZHQuZGlzYWJsZWRcIiB0YWJpbmRleD1cIi0xXCI+PHNwYW4gbmctY2xhc3M9XCJ7J3RleHQtbXV0ZWQnOiBkdC5zZWNvbmRhcnksICd0ZXh0LWluZm8nOiBkdC5jdXJyZW50fVwiPnt7ZHQubGFiZWx9fTwvc3Bhbj48L2J1dHRvbj5cbiIgKwogICAgIiAgICAgIDwvdGQ+XG4iICsKICAgICIgICAgPC90cj5cbiIgKwogICAgIiAgPC90Ym9keT5cbiIgKwogICAgIjwvdGFibGU+XG4iICsKICAgICIiKTsKfV0pOwoKYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2RhdGVwaWNrZXIvbW9udGguaHRtbCIsIFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7CiAgJHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWwiLAogICAgIjx0YWJsZSByb2xlPVwiZ3JpZFwiIGFyaWEtbGFiZWxsZWRieT1cInt7dW5pcXVlSWR9fS10aXRsZVwiIGFyaWEtYWN0aXZlZGVzY2VuZGFudD1cInt7YWN0aXZlRGF0ZUlkfX1cIj5cbiIgKwogICAgIiAgPHRoZWFkPlxuIiArCiAgICAiICAgIDx0cj5cbiIgKwogICAgIiAgICAgIDx0aD48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XCIgbmctY2xpY2s9XCJtb3ZlKC0xKVwiIHRhYmluZGV4PVwiLTFcIj48aSBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0XCI+PC9pPjwvYnV0dG9uPjwvdGg+XG4iICsKICAgICIgICAgICA8dGg+PGJ1dHRvbiBpZD1cInt7dW5pcXVlSWR9fS10aXRsZVwiIHJvbGU9XCJoZWFkaW5nXCIgYXJpYS1saXZlPVwiYXNzZXJ0aXZlXCIgYXJpYS1hdG9taWM9XCJ0cnVlXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVwiIG5nLWNsaWNrPVwidG9nZ2xlTW9kZSgpXCIgdGFiaW5kZXg9XCItMVwiIHN0eWxlPVwid2lkdGg6MTAwJTtcIj48c3Ryb25nPnt7dGl0bGV9fTwvc3Ryb25nPjwvYnV0dG9uPjwvdGg+XG4iICsKICAgICIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHRcIiBuZy1jbGljaz1cIm1vdmUoMSlcIiB0YWJpbmRleD1cIi0xXCI+PGkgY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHRcIj48L2k+PC9idXR0b24+PC90aD5cbiIgKwogICAgIiAgICA8L3RyPlxuIiArCiAgICAiICA8L3RoZWFkPlxuIiArCiAgICAiICA8dGJvZHk+XG4iICsKICAgICIgICAgPHRyIG5nLXJlcGVhdD1cInJvdyBpbiByb3dzIHRyYWNrIGJ5ICRpbmRleFwiPlxuIiArCiAgICAiICAgICAgPHRkIG5nLXJlcGVhdD1cImR0IGluIHJvdyB0cmFjayBieSBkdC5kYXRlXCIgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiIHJvbGU9XCJncmlkY2VsbFwiIGlkPVwie3tkdC51aWR9fVwiIGFyaWEtZGlzYWJsZWQ9XCJ7eyEhZHQuZGlzYWJsZWR9fVwiPlxuIiArCiAgICAiICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBzdHlsZT1cIndpZHRoOjEwMCU7XCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHRcIiBuZy1jbGFzcz1cInsnYnRuLWluZm8nOiBkdC5zZWxlY3RlZCwgYWN0aXZlOiBpc0FjdGl2ZShkdCl9XCIgbmctY2xpY2s9XCJzZWxlY3QoZHQuZGF0ZSlcIiBuZy1kaXNhYmxlZD1cImR0LmRpc2FibGVkXCIgdGFiaW5kZXg9XCItMVwiPjxzcGFuIG5nLWNsYXNzPVwieyd0ZXh0LWluZm8nOiBkdC5jdXJyZW50fVwiPnt7ZHQubGFiZWx9fTwvc3Bhbj48L2J1dHRvbj5cbiIgKwogICAgIiAgICAgIDwvdGQ+XG4iICsKICAgICIgICAgPC90cj5cbiIgKwogICAgIiAgPC90Ym9keT5cbiIgKwogICAgIjwvdGFibGU+XG4iICsKICAgICIiKTsKfV0pOwoKYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbCIsIFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7CiAgJHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWwiLAogICAgIjx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIiBuZy1zdHlsZT1cIntkaXNwbGF5OiAoaXNPcGVuICYmICdibG9jaycpIHx8ICdub25lJywgdG9wOiBwb3NpdGlvbi50b3ArJ3B4JywgbGVmdDogcG9zaXRpb24ubGVmdCsncHgnfVwiIG5nLWtleWRvd249XCJrZXlkb3duKCRldmVudClcIj5cbiIgKwogICAgIgk8bGkgbmctdHJhbnNjbHVkZT48L2xpPlxuIiArCiAgICAiCTxsaSBuZy1pZj1cInNob3dCdXR0b25CYXJcIiBzdHlsZT1cInBhZGRpbmc6MTBweCA5cHggMnB4XCI+XG4iICsKICAgICIJCTxzcGFuIGNsYXNzPVwiYnRuLWdyb3VwXCI+XG4iICsKICAgICIJCQk8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tc20gYnRuLWluZm9cIiBuZy1jbGljaz1cInNlbGVjdCgndG9kYXknKVwiPnt7IGdldFRleHQoJ2N1cnJlbnQnKSB9fTwvYnV0dG9uPlxuIiArCiAgICAiCQkJPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1kYW5nZXJcIiBuZy1jbGljaz1cInNlbGVjdChudWxsKVwiPnt7IGdldFRleHQoJ2NsZWFyJykgfX08L2J1dHRvbj5cbiIgKwogICAgIgkJPC9zcGFuPlxuIiArCiAgICAiCQk8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tc20gYnRuLXN1Y2Nlc3MgcHVsbC1yaWdodFwiIG5nLWNsaWNrPVwiY2xvc2UoKVwiPnt7IGdldFRleHQoJ2Nsb3NlJykgfX08L2J1dHRvbj5cbiIgKwogICAgIgk8L2xpPlxuIiArCiAgICAiPC91bD5cbiIgKwogICAgIiIpOwp9XSk7Cgphbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvZGF0ZXBpY2tlci95ZWFyLmh0bWwiLCBbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkgewogICR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvZGF0ZXBpY2tlci95ZWFyLmh0bWwiLAogICAgIjx0YWJsZSByb2xlPVwiZ3JpZFwiIGFyaWEtbGFiZWxsZWRieT1cInt7dW5pcXVlSWR9fS10aXRsZVwiIGFyaWEtYWN0aXZlZGVzY2VuZGFudD1cInt7YWN0aXZlRGF0ZUlkfX1cIj5cbiIgKwogICAgIiAgPHRoZWFkPlxuIiArCiAgICAiICAgIDx0cj5cbiIgKwogICAgIiAgICAgIDx0aD48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XCIgbmctY2xpY2s9XCJtb3ZlKC0xKVwiIHRhYmluZGV4PVwiLTFcIj48aSBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0XCI+PC9pPjwvYnV0dG9uPjwvdGg+XG4iICsKICAgICIgICAgICA8dGggY29sc3Bhbj1cIjNcIj48YnV0dG9uIGlkPVwie3t1bmlxdWVJZH19LXRpdGxlXCIgcm9sZT1cImhlYWRpbmdcIiBhcmlhLWxpdmU9XCJhc3NlcnRpdmVcIiBhcmlhLWF0b21pYz1cInRydWVcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXCIgbmctY2xpY2s9XCJ0b2dnbGVNb2RlKClcIiB0YWJpbmRleD1cIi0xXCIgc3R5bGU9XCJ3aWR0aDoxMDAlO1wiPjxzdHJvbmc+e3t0aXRsZX19PC9zdHJvbmc+PC9idXR0b24+PC90aD5cbiIgKwogICAgIiAgICAgIDx0aD48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodFwiIG5nLWNsaWNrPVwibW92ZSgxKVwiIHRhYmluZGV4PVwiLTFcIj48aSBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodFwiPjwvaT48L2J1dHRvbj48L3RoPlxuIiArCiAgICAiICAgIDwvdHI+XG4iICsKICAgICIgIDwvdGhlYWQ+XG4iICsKICAgICIgIDx0Ym9keT5cbiIgKwogICAgIiAgICA8dHIgbmctcmVwZWF0PVwicm93IGluIHJvd3MgdHJhY2sgYnkgJGluZGV4XCI+XG4iICsKICAgICIgICAgICA8dGQgbmctcmVwZWF0PVwiZHQgaW4gcm93IHRyYWNrIGJ5IGR0LmRhdGVcIiBjbGFzcz1cInRleHQtY2VudGVyXCIgcm9sZT1cImdyaWRjZWxsXCIgaWQ9XCJ7e2R0LnVpZH19XCIgYXJpYS1kaXNhYmxlZD1cInt7ISFkdC5kaXNhYmxlZH19XCI+XG4iICsKICAgICIgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIHN0eWxlPVwid2lkdGg6MTAwJTtcIiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdFwiIG5nLWNsYXNzPVwieydidG4taW5mbyc6IGR0LnNlbGVjdGVkLCBhY3RpdmU6IGlzQWN0aXZlKGR0KX1cIiBuZy1jbGljaz1cInNlbGVjdChkdC5kYXRlKVwiIG5nLWRpc2FibGVkPVwiZHQuZGlzYWJsZWRcIiB0YWJpbmRleD1cIi0xXCI+PHNwYW4gbmctY2xhc3M9XCJ7J3RleHQtaW5mbyc6IGR0LmN1cnJlbnR9XCI+e3tkdC5sYWJlbH19PC9zcGFuPjwvYnV0dG9uPlxuIiArCiAgICAiICAgICAgPC90ZD5cbiIgKwogICAgIiAgICA8L3RyPlxuIiArCiAgICAiICA8L3Rib2R5PlxuIiArCiAgICAiPC90YWJsZT5cbiIgKwogICAgIiIpOwp9XSk7Cgphbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbCIsIFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7CiAgJHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sIiwKICAgICI8ZGl2IGNsYXNzPVwibW9kYWwtYmFja2Ryb3AgZmFkZVwiXG4iICsKICAgICIgICAgIG5nLWNsYXNzPVwie2luOiBhbmltYXRlfVwiXG4iICsKICAgICIgICAgIG5nLXN0eWxlPVwieyd6LWluZGV4JzogMTA0MCArIChpbmRleCAmJiAxIHx8IDApICsgaW5kZXgqMTB9XCJcbiIgKwogICAgIj48L2Rpdj5cbiIgKwogICAgIiIpOwp9XSk7Cgphbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWwiLCBbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkgewogICR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWwiLAogICAgIjxkaXYgdGFiaW5kZXg9XCItMVwiIHJvbGU9XCJkaWFsb2dcIiBjbGFzcz1cIm1vZGFsIGZhZGVcIiBuZy1jbGFzcz1cIntpbjogYW5pbWF0ZX1cIiBuZy1zdHlsZT1cInsnei1pbmRleCc6IDEwNTAgKyBpbmRleCoxMCwgZGlzcGxheTogJ2Jsb2NrJ31cIiBuZy1jbGljaz1cImNsb3NlKCRldmVudClcIj5cbiIgKwogICAgIiAgICA8ZGl2IGNsYXNzPVwibW9kYWwtZGlhbG9nXCIgbmctY2xhc3M9XCJ7J21vZGFsLXNtJzogc2l6ZSA9PSAnc20nLCAnbW9kYWwtbGcnOiBzaXplID09ICdsZyd9XCI+PGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIiBuZy10cmFuc2NsdWRlPjwvZGl2PjwvZGl2PlxuIiArCiAgICAiPC9kaXY+Iik7Cn1dKTsKCmFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWwiLCBbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkgewogICR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sIiwKICAgICI8dWwgY2xhc3M9XCJwYWdlclwiPlxuIiArCiAgICAiICA8bGkgbmctY2xhc3M9XCJ7ZGlzYWJsZWQ6IG5vUHJldmlvdXMoKSwgcHJldmlvdXM6IGFsaWdufVwiPjxhIGhyZWYgbmctY2xpY2s9XCJzZWxlY3RQYWdlKHBhZ2UgLSAxKVwiPnt7Z2V0VGV4dCgncHJldmlvdXMnKX19PC9hPjwvbGk+XG4iICsKICAgICIgIDxsaSBuZy1jbGFzcz1cIntkaXNhYmxlZDogbm9OZXh0KCksIG5leHQ6IGFsaWdufVwiPjxhIGhyZWYgbmctY2xpY2s9XCJzZWxlY3RQYWdlKHBhZ2UgKyAxKVwiPnt7Z2V0VGV4dCgnbmV4dCcpfX08L2E+PC9saT5cbiIgKwogICAgIjwvdWw+Iik7Cn1dKTsKCmFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbCIsIFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7CiAgJHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbCIsCiAgICAiPHVsIGNsYXNzPVwicGFnaW5hdGlvblwiPlxuIiArCiAgICAiICA8bGkgbmctaWY9XCJib3VuZGFyeUxpbmtzXCIgbmctY2xhc3M9XCJ7ZGlzYWJsZWQ6IG5vUHJldmlvdXMoKX1cIj48YSBocmVmIG5nLWNsaWNrPVwic2VsZWN0UGFnZSgxKVwiPnt7Z2V0VGV4dCgnZmlyc3QnKX19PC9hPjwvbGk+XG4iICsKICAgICIgIDxsaSBuZy1pZj1cImRpcmVjdGlvbkxpbmtzXCIgbmctY2xhc3M9XCJ7ZGlzYWJsZWQ6IG5vUHJldmlvdXMoKX1cIj48YSBocmVmIG5nLWNsaWNrPVwic2VsZWN0UGFnZShwYWdlIC0gMSlcIj57e2dldFRleHQoJ3ByZXZpb3VzJyl9fTwvYT48L2xpPlxuIiArCiAgICAiICA8bGkgbmctcmVwZWF0PVwicGFnZSBpbiBwYWdlcyB0cmFjayBieSAkaW5kZXhcIiBuZy1jbGFzcz1cInthY3RpdmU6IHBhZ2UuYWN0aXZlfVwiPjxhIGhyZWYgbmctY2xpY2s9XCJzZWxlY3RQYWdlKHBhZ2UubnVtYmVyKVwiPnt7cGFnZS50ZXh0fX08L2E+PC9saT5cbiIgKwogICAgIiAgPGxpIG5nLWlmPVwiZGlyZWN0aW9uTGlua3NcIiBuZy1jbGFzcz1cIntkaXNhYmxlZDogbm9OZXh0KCl9XCI+PGEgaHJlZiBuZy1jbGljaz1cInNlbGVjdFBhZ2UocGFnZSArIDEpXCI+e3tnZXRUZXh0KCduZXh0Jyl9fTwvYT48L2xpPlxuIiArCiAgICAiICA8bGkgbmctaWY9XCJib3VuZGFyeUxpbmtzXCIgbmctY2xhc3M9XCJ7ZGlzYWJsZWQ6IG5vTmV4dCgpfVwiPjxhIGhyZWYgbmctY2xpY2s9XCJzZWxlY3RQYWdlKHRvdGFsUGFnZXMpXCI+e3tnZXRUZXh0KCdsYXN0Jyl9fTwvYT48L2xpPlxuIiArCiAgICAiPC91bD4iKTsKfV0pOwoKYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sIiwgW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHsKICAkdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sIiwKICAgICI8ZGl2IGNsYXNzPVwidG9vbHRpcCB7e3BsYWNlbWVudH19XCIgbmctY2xhc3M9XCJ7IGluOiBpc09wZW4oKSwgZmFkZTogYW5pbWF0aW9uKCkgfVwiPlxuIiArCiAgICAiICA8ZGl2IGNsYXNzPVwidG9vbHRpcC1hcnJvd1wiPjwvZGl2PlxuIiArCiAgICAiICA8ZGl2IGNsYXNzPVwidG9vbHRpcC1pbm5lclwiIGJpbmQtaHRtbC11bnNhZmU9XCJjb250ZW50XCI+PC9kaXY+XG4iICsKICAgICI8L2Rpdj5cbiIgKwogICAgIiIpOwp9XSk7Cgphbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXBvcHVwLmh0bWwiLCBbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkgewogICR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXBvcHVwLmh0bWwiLAogICAgIjxkaXYgY2xhc3M9XCJ0b29sdGlwIHt7cGxhY2VtZW50fX1cIiBuZy1jbGFzcz1cInsgaW46IGlzT3BlbigpLCBmYWRlOiBhbmltYXRpb24oKSB9XCI+XG4iICsKICAgICIgIDxkaXYgY2xhc3M9XCJ0b29sdGlwLWFycm93XCI+PC9kaXY+XG4iICsKICAgICIgIDxkaXYgY2xhc3M9XCJ0b29sdGlwLWlubmVyXCIgbmctYmluZD1cImNvbnRlbnRcIj48L2Rpdj5cbiIgKwogICAgIjwvZGl2PlxuIiArCiAgICAiIik7Cn1dKTsKCmFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbCIsIFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7CiAgJHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbCIsCiAgICAiPGRpdiBjbGFzcz1cInBvcG92ZXIge3twbGFjZW1lbnR9fVwiIG5nLWNsYXNzPVwieyBpbjogaXNPcGVuKCksIGZhZGU6IGFuaW1hdGlvbigpIH1cIj5cbiIgKwogICAgIiAgPGRpdiBjbGFzcz1cImFycm93XCI+PC9kaXY+XG4iICsKICAgICJcbiIgKwogICAgIiAgPGRpdiBjbGFzcz1cInBvcG92ZXItaW5uZXJcIj5cbiIgKwogICAgIiAgICAgIDxoMyBjbGFzcz1cInBvcG92ZXItdGl0bGVcIiBuZy1iaW5kPVwidGl0bGVcIiBuZy1zaG93PVwidGl0bGVcIj48L2gzPlxuIiArCiAgICAiICAgICAgPGRpdiBjbGFzcz1cInBvcG92ZXItY29udGVudFwiIG5nLWJpbmQ9XCJjb250ZW50XCI+PC9kaXY+XG4iICsKICAgICIgIDwvZGl2PlxuIiArCiAgICAiPC9kaXY+XG4iICsKICAgICIiKTsKfV0pOwoKYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sIiwgW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHsKICAkdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sIiwKICAgICI8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtYmFyXCIgbmctY2xhc3M9XCJ0eXBlICYmICdwcm9ncmVzcy1iYXItJyArIHR5cGVcIiByb2xlPVwicHJvZ3Jlc3NiYXJcIiBhcmlhLXZhbHVlbm93PVwie3t2YWx1ZX19XCIgYXJpYS12YWx1ZW1pbj1cIjBcIiBhcmlhLXZhbHVlbWF4PVwie3ttYXh9fVwiIG5nLXN0eWxlPVwie3dpZHRoOiBwZXJjZW50ICsgJyUnfVwiIGFyaWEtdmFsdWV0ZXh0PVwie3twZXJjZW50IHwgbnVtYmVyOjB9fSVcIiBuZy10cmFuc2NsdWRlPjwvZGl2PiIpOwp9XSk7Cgphbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbCIsIFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7CiAgJHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sIiwKICAgICI8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NcIiBuZy10cmFuc2NsdWRlPjwvZGl2PiIpOwp9XSk7Cgphbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbCIsIFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7CiAgJHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sIiwKICAgICI8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NcIj5cbiIgKwogICAgIiAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWJhclwiIG5nLWNsYXNzPVwidHlwZSAmJiAncHJvZ3Jlc3MtYmFyLScgKyB0eXBlXCIgcm9sZT1cInByb2dyZXNzYmFyXCIgYXJpYS12YWx1ZW5vdz1cInt7dmFsdWV9fVwiIGFyaWEtdmFsdWVtaW49XCIwXCIgYXJpYS12YWx1ZW1heD1cInt7bWF4fX1cIiBuZy1zdHlsZT1cInt3aWR0aDogcGVyY2VudCArICclJ31cIiBhcmlhLXZhbHVldGV4dD1cInt7cGVyY2VudCB8IG51bWJlcjowfX0lXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cbiIgKwogICAgIjwvZGl2PiIpOwp9XSk7Cgphbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sIiwgW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHsKICAkdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbCIsCiAgICAiPHNwYW4gbmctbW91c2VsZWF2ZT1cInJlc2V0KClcIiBuZy1rZXlkb3duPVwib25LZXlkb3duKCRldmVudClcIiB0YWJpbmRleD1cIjBcIiByb2xlPVwic2xpZGVyXCIgYXJpYS12YWx1ZW1pbj1cIjBcIiBhcmlhLXZhbHVlbWF4PVwie3tyYW5nZS5sZW5ndGh9fVwiIGFyaWEtdmFsdWVub3c9XCJ7e3ZhbHVlfX1cIj5cbiIgKwogICAgIiAgICA8aSBuZy1yZXBlYXQ9XCJyIGluIHJhbmdlIHRyYWNrIGJ5ICRpbmRleFwiIG5nLW1vdXNlZW50ZXI9XCJlbnRlcigkaW5kZXggKyAxKVwiIG5nLWNsaWNrPVwicmF0ZSgkaW5kZXggKyAxKVwiIGNsYXNzPVwiZ2x5cGhpY29uXCIgbmctY2xhc3M9XCIkaW5kZXggPCB2YWx1ZSAmJiAoci5zdGF0ZU9uIHx8ICdnbHlwaGljb24tc3RhcicpIHx8IChyLnN0YXRlT2ZmIHx8ICdnbHlwaGljb24tc3Rhci1lbXB0eScpXCI+XG4iICsKICAgICIgICAgICAgIDxzcGFuIGNsYXNzPVwic3Itb25seVwiPih7eyAkaW5kZXggPCB2YWx1ZSA/ICcqJyA6ICcgJyB9fSk8L3NwYW4+XG4iICsKICAgICIgICAgPC9pPlxuIiArCiAgICAiPC9zcGFuPiIpOwp9XSk7Cgphbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvdGFicy90YWIuaHRtbCIsIFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7CiAgJHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS90YWJzL3RhYi5odG1sIiwKICAgICI8bGkgbmctY2xhc3M9XCJ7YWN0aXZlOiBhY3RpdmUsIGRpc2FibGVkOiBkaXNhYmxlZH1cIj5cbiIgKwogICAgIiAgPGEgbmctY2xpY2s9XCJzZWxlY3QoKVwiIHRhYi1oZWFkaW5nLXRyYW5zY2x1ZGU+e3toZWFkaW5nfX08L2E+XG4iICsKICAgICI8L2xpPlxuIiArCiAgICAiIik7Cn1dKTsKCmFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS90YWJzL3RhYnNldC10aXRsZXMuaHRtbCIsIFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7CiAgJHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS90YWJzL3RhYnNldC10aXRsZXMuaHRtbCIsCiAgICAiPHVsIGNsYXNzPVwibmF2IHt7dHlwZSAmJiAnbmF2LScgKyB0eXBlfX1cIiBuZy1jbGFzcz1cInsnbmF2LXN0YWNrZWQnOiB2ZXJ0aWNhbH1cIj5cbiIgKwogICAgIjwvdWw+XG4iICsKICAgICIiKTsKfV0pOwoKYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWwiLCBbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkgewogICR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbCIsCiAgICAiXG4iICsKICAgICI8ZGl2PlxuIiArCiAgICAiICA8dWwgY2xhc3M9XCJuYXYgbmF2LXt7dHlwZSB8fCAndGFicyd9fVwiIG5nLWNsYXNzPVwieyduYXYtc3RhY2tlZCc6IHZlcnRpY2FsLCAnbmF2LWp1c3RpZmllZCc6IGp1c3RpZmllZH1cIiBuZy10cmFuc2NsdWRlPjwvdWw+XG4iICsKICAgICIgIDxkaXYgY2xhc3M9XCJ0YWItY29udGVudFwiPlxuIiArCiAgICAiICAgIDxkaXYgY2xhc3M9XCJ0YWItcGFuZVwiIFxuIiArCiAgICAiICAgICAgICAgbmctcmVwZWF0PVwidGFiIGluIHRhYnNcIiBcbiIgKwogICAgIiAgICAgICAgIG5nLWNsYXNzPVwie2FjdGl2ZTogdGFiLmFjdGl2ZX1cIlxuIiArCiAgICAiICAgICAgICAgdGFiLWNvbnRlbnQtdHJhbnNjbHVkZT1cInRhYlwiPlxuIiArCiAgICAiICAgIDwvZGl2PlxuIiArCiAgICAiICA8L2Rpdj5cbiIgKwogICAgIjwvZGl2PlxuIiArCiAgICAiIik7Cn1dKTsKCmFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbCIsIFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7CiAgJHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbCIsCiAgICAiPHRhYmxlPlxuIiArCiAgICAiCTx0Ym9keT5cbiIgKwogICAgIgkJPHRyIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cbiIgKwogICAgIgkJCTx0ZD48YSBuZy1jbGljaz1cImluY3JlbWVudEhvdXJzKClcIiBjbGFzcz1cImJ0biBidG4tbGlua1wiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXVwXCI+PC9zcGFuPjwvYT48L3RkPlxuIiArCiAgICAiCQkJPHRkPiZuYnNwOzwvdGQ+XG4iICsKICAgICIJCQk8dGQ+PGEgbmctY2xpY2s9XCJpbmNyZW1lbnRNaW51dGVzKClcIiBjbGFzcz1cImJ0biBidG4tbGlua1wiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXVwXCI+PC9zcGFuPjwvYT48L3RkPlxuIiArCiAgICAiCQkJPHRkIG5nLXNob3c9XCJzaG93TWVyaWRpYW5cIj48L3RkPlxuIiArCiAgICAiCQk8L3RyPlxuIiArCiAgICAiCQk8dHI+XG4iICsKICAgICIJCQk8dGQgc3R5bGU9XCJ3aWR0aDo1MHB4O1wiIGNsYXNzPVwiZm9ybS1ncm91cFwiIG5nLWNsYXNzPVwieydoYXMtZXJyb3InOiBpbnZhbGlkSG91cnN9XCI+XG4iICsKICAgICIJCQkJPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJob3Vyc1wiIG5nLWNoYW5nZT1cInVwZGF0ZUhvdXJzKClcIiBjbGFzcz1cImZvcm0tY29udHJvbCB0ZXh0LWNlbnRlclwiIG5nLW1vdXNld2hlZWw9XCJpbmNyZW1lbnRIb3VycygpXCIgbmctcmVhZG9ubHk9XCJyZWFkb25seUlucHV0XCIgbWF4bGVuZ3RoPVwiMlwiPlxuIiArCiAgICAiCQkJPC90ZD5cbiIgKwogICAgIgkJCTx0ZD46PC90ZD5cbiIgKwogICAgIgkJCTx0ZCBzdHlsZT1cIndpZHRoOjUwcHg7XCIgY2xhc3M9XCJmb3JtLWdyb3VwXCIgbmctY2xhc3M9XCJ7J2hhcy1lcnJvcic6IGludmFsaWRNaW51dGVzfVwiPlxuIiArCiAgICAiCQkJCTxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwibWludXRlc1wiIG5nLWNoYW5nZT1cInVwZGF0ZU1pbnV0ZXMoKVwiIGNsYXNzPVwiZm9ybS1jb250cm9sIHRleHQtY2VudGVyXCIgbmctcmVhZG9ubHk9XCJyZWFkb25seUlucHV0XCIgbWF4bGVuZ3RoPVwiMlwiPlxuIiArCiAgICAiCQkJPC90ZD5cbiIgKwogICAgIgkJCTx0ZCBuZy1zaG93PVwic2hvd01lcmlkaWFuXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQgdGV4dC1jZW50ZXJcIiBuZy1jbGljaz1cInRvZ2dsZU1lcmlkaWFuKClcIj57e21lcmlkaWFufX08L2J1dHRvbj48L3RkPlxuIiArCiAgICAiCQk8L3RyPlxuIiArCiAgICAiCQk8dHIgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxuIiArCiAgICAiCQkJPHRkPjxhIG5nLWNsaWNrPVwiZGVjcmVtZW50SG91cnMoKVwiIGNsYXNzPVwiYnRuIGJ0bi1saW5rXCI+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tZG93blwiPjwvc3Bhbj48L2E+PC90ZD5cbiIgKwogICAgIgkJCTx0ZD4mbmJzcDs8L3RkPlxuIiArCiAgICAiCQkJPHRkPjxhIG5nLWNsaWNrPVwiZGVjcmVtZW50TWludXRlcygpXCIgY2xhc3M9XCJidG4gYnRuLWxpbmtcIj48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1kb3duXCI+PC9zcGFuPjwvYT48L3RkPlxuIiArCiAgICAiCQkJPHRkIG5nLXNob3c9XCJzaG93TWVyaWRpYW5cIj48L3RkPlxuIiArCiAgICAiCQk8L3RyPlxuIiArCiAgICAiCTwvdGJvZHk+XG4iICsKICAgICI8L3RhYmxlPlxuIiArCiAgICAiIik7Cn1dKTsKCmFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWwiLCBbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkgewogICR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1tYXRjaC5odG1sIiwKICAgICI8YSB0YWJpbmRleD1cIi0xXCIgYmluZC1odG1sLXVuc2FmZT1cIm1hdGNoLmxhYmVsIHwgdHlwZWFoZWFkSGlnaGxpZ2h0OnF1ZXJ5XCI+PC9hPiIpOwp9XSk7Cgphbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sIiwgW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHsKICAkdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbCIsCiAgICAiPHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIG5nLWlmPVwiaXNPcGVuKClcIiBuZy1zdHlsZT1cInt0b3A6IHBvc2l0aW9uLnRvcCsncHgnLCBsZWZ0OiBwb3NpdGlvbi5sZWZ0KydweCd9XCIgc3R5bGU9XCJkaXNwbGF5OiBibG9jaztcIiByb2xlPVwibGlzdGJveFwiIGFyaWEtaGlkZGVuPVwie3shaXNPcGVuKCl9fVwiPlxuIiArCiAgICAiICAgIDxsaSBuZy1yZXBlYXQ9XCJtYXRjaCBpbiBtYXRjaGVzIHRyYWNrIGJ5ICRpbmRleFwiIG5nLWNsYXNzPVwie2FjdGl2ZTogaXNBY3RpdmUoJGluZGV4KSB9XCIgbmctbW91c2VlbnRlcj1cInNlbGVjdEFjdGl2ZSgkaW5kZXgpXCIgbmctY2xpY2s9XCJzZWxlY3RNYXRjaCgkaW5kZXgpXCIgcm9sZT1cIm9wdGlvblwiIGlkPVwie3ttYXRjaC5pZH19XCI+XG4iICsKICAgICIgICAgICAgIDxkaXYgdHlwZWFoZWFkLW1hdGNoIGluZGV4PVwiJGluZGV4XCIgbWF0Y2g9XCJtYXRjaFwiIHF1ZXJ5PVwicXVlcnlcIiB0ZW1wbGF0ZS11cmw9XCJ0ZW1wbGF0ZVVybFwiPjwvZGl2PlxuIiArCiAgICAiICAgIDwvbGk+XG4iICsKICAgICI8L3VsPiIpOwp9XSk7Cg==')
},
{
'name': '/app/bower_components/angular-bootstrap/ui-bootstrap-tpls.min.js', 'data': base64.b64decode('LyoKICogYW5ndWxhci11aS1ib290c3RyYXAKICogaHR0cDovL2FuZ3VsYXItdWkuZ2l0aHViLmlvL2Jvb3RzdHJhcC8KCiAqIFZlcnNpb246IDAuMTEuMCAtIDIwMTQtMDUtMDEKICogTGljZW5zZTogTUlUCiAqLwphbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwIixbInVpLmJvb3RzdHJhcC50cGxzIiwidWkuYm9vdHN0cmFwLnRyYW5zaXRpb24iLCJ1aS5ib290c3RyYXAuY29sbGFwc2UiLCJ1aS5ib290c3RyYXAuYWNjb3JkaW9uIiwidWkuYm9vdHN0cmFwLmFsZXJ0IiwidWkuYm9vdHN0cmFwLmJpbmRIdG1sIiwidWkuYm9vdHN0cmFwLmJ1dHRvbnMiLCJ1aS5ib290c3RyYXAuY2Fyb3VzZWwiLCJ1aS5ib290c3RyYXAuZGF0ZXBhcnNlciIsInVpLmJvb3RzdHJhcC5wb3NpdGlvbiIsInVpLmJvb3RzdHJhcC5kYXRlcGlja2VyIiwidWkuYm9vdHN0cmFwLmRyb3Bkb3duIiwidWkuYm9vdHN0cmFwLm1vZGFsIiwidWkuYm9vdHN0cmFwLnBhZ2luYXRpb24iLCJ1aS5ib290c3RyYXAudG9vbHRpcCIsInVpLmJvb3RzdHJhcC5wb3BvdmVyIiwidWkuYm9vdHN0cmFwLnByb2dyZXNzYmFyIiwidWkuYm9vdHN0cmFwLnJhdGluZyIsInVpLmJvb3RzdHJhcC50YWJzIiwidWkuYm9vdHN0cmFwLnRpbWVwaWNrZXIiLCJ1aS5ib290c3RyYXAudHlwZWFoZWFkIl0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAudHBscyIsWyJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWwiLCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLmh0bWwiLCJ0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sIiwidGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbCIsInRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWwiLCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbCIsInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWwiLCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWwiLCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWwiLCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbCIsInRlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWwiLCJ0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbCIsInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnZXIuaHRtbCIsInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sIiwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWwiLCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbCIsInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sIiwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWwiLCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sIiwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbCIsInRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbCIsInRlbXBsYXRlL3RhYnMvdGFiLmh0bWwiLCJ0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sIiwidGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWwiLCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWwiLCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWwiXSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC50cmFuc2l0aW9uIixbXSkuZmFjdG9yeSgiJHRyYW5zaXRpb24iLFsiJHEiLCIkdGltZW91dCIsIiRyb290U2NvcGUiLGZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEpe2Zvcih2YXIgYiBpbiBhKWlmKHZvaWQgMCE9PWYuc3R5bGVbYl0pcmV0dXJuIGFbYl19dmFyIGU9ZnVuY3Rpb24oZCxmLGcpe2c9Z3x8e307dmFyIGg9YS5kZWZlcigpLGk9ZVtnLmFuaW1hdGlvbj8iYW5pbWF0aW9uRW5kRXZlbnROYW1lIjoidHJhbnNpdGlvbkVuZEV2ZW50TmFtZSJdLGo9ZnVuY3Rpb24oKXtjLiRhcHBseShmdW5jdGlvbigpe2QudW5iaW5kKGksaiksaC5yZXNvbHZlKGQpfSl9O3JldHVybiBpJiZkLmJpbmQoaSxqKSxiKGZ1bmN0aW9uKCl7YW5ndWxhci5pc1N0cmluZyhmKT9kLmFkZENsYXNzKGYpOmFuZ3VsYXIuaXNGdW5jdGlvbihmKT9mKGQpOmFuZ3VsYXIuaXNPYmplY3QoZikmJmQuY3NzKGYpLGl8fGgucmVzb2x2ZShkKX0pLGgucHJvbWlzZS5jYW5jZWw9ZnVuY3Rpb24oKXtpJiZkLnVuYmluZChpLGopLGgucmVqZWN0KCJUcmFuc2l0aW9uIGNhbmNlbGxlZCIpfSxoLnByb21pc2V9LGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHJhbnMiKSxnPXtXZWJraXRUcmFuc2l0aW9uOiJ3ZWJraXRUcmFuc2l0aW9uRW5kIixNb3pUcmFuc2l0aW9uOiJ0cmFuc2l0aW9uZW5kIixPVHJhbnNpdGlvbjoib1RyYW5zaXRpb25FbmQiLHRyYW5zaXRpb246InRyYW5zaXRpb25lbmQifSxoPXtXZWJraXRUcmFuc2l0aW9uOiJ3ZWJraXRBbmltYXRpb25FbmQiLE1velRyYW5zaXRpb246ImFuaW1hdGlvbmVuZCIsT1RyYW5zaXRpb246Im9BbmltYXRpb25FbmQiLHRyYW5zaXRpb246ImFuaW1hdGlvbmVuZCJ9O3JldHVybiBlLnRyYW5zaXRpb25FbmRFdmVudE5hbWU9ZChnKSxlLmFuaW1hdGlvbkVuZEV2ZW50TmFtZT1kKGgpLGV9XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5jb2xsYXBzZSIsWyJ1aS5ib290c3RyYXAudHJhbnNpdGlvbiJdKS5kaXJlY3RpdmUoImNvbGxhcHNlIixbIiR0cmFuc2l0aW9uIixmdW5jdGlvbihhKXtyZXR1cm57bGluazpmdW5jdGlvbihiLGMsZCl7ZnVuY3Rpb24gZShiKXtmdW5jdGlvbiBkKCl7aj09PWUmJihqPXZvaWQgMCl9dmFyIGU9YShjLGIpO3JldHVybiBqJiZqLmNhbmNlbCgpLGo9ZSxlLnRoZW4oZCxkKSxlfWZ1bmN0aW9uIGYoKXtrPyhrPSExLGcoKSk6KGMucmVtb3ZlQ2xhc3MoImNvbGxhcHNlIikuYWRkQ2xhc3MoImNvbGxhcHNpbmciKSxlKHtoZWlnaHQ6Y1swXS5zY3JvbGxIZWlnaHQrInB4In0pLnRoZW4oZykpfWZ1bmN0aW9uIGcoKXtjLnJlbW92ZUNsYXNzKCJjb2xsYXBzaW5nIiksYy5hZGRDbGFzcygiY29sbGFwc2UgaW4iKSxjLmNzcyh7aGVpZ2h0OiJhdXRvIn0pfWZ1bmN0aW9uIGgoKXtpZihrKWs9ITEsaSgpLGMuY3NzKHtoZWlnaHQ6MH0pO2Vsc2V7Yy5jc3Moe2hlaWdodDpjWzBdLnNjcm9sbEhlaWdodCsicHgifSk7e2NbMF0ub2Zmc2V0V2lkdGh9Yy5yZW1vdmVDbGFzcygiY29sbGFwc2UgaW4iKS5hZGRDbGFzcygiY29sbGFwc2luZyIpLGUoe2hlaWdodDowfSkudGhlbihpKX19ZnVuY3Rpb24gaSgpe2MucmVtb3ZlQ2xhc3MoImNvbGxhcHNpbmciKSxjLmFkZENsYXNzKCJjb2xsYXBzZSIpfXZhciBqLGs9ITA7Yi4kd2F0Y2goZC5jb2xsYXBzZSxmdW5jdGlvbihhKXthP2goKTpmKCl9KX19fV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuYWNjb3JkaW9uIixbInVpLmJvb3RzdHJhcC5jb2xsYXBzZSJdKS5jb25zdGFudCgiYWNjb3JkaW9uQ29uZmlnIix7Y2xvc2VPdGhlcnM6ITB9KS5jb250cm9sbGVyKCJBY2NvcmRpb25Db250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsImFjY29yZGlvbkNvbmZpZyIsZnVuY3Rpb24oYSxiLGMpe3RoaXMuZ3JvdXBzPVtdLHRoaXMuY2xvc2VPdGhlcnM9ZnVuY3Rpb24oZCl7dmFyIGU9YW5ndWxhci5pc0RlZmluZWQoYi5jbG9zZU90aGVycyk/YS4kZXZhbChiLmNsb3NlT3RoZXJzKTpjLmNsb3NlT3RoZXJzO2UmJmFuZ3VsYXIuZm9yRWFjaCh0aGlzLmdyb3VwcyxmdW5jdGlvbihhKXthIT09ZCYmKGEuaXNPcGVuPSExKX0pfSx0aGlzLmFkZEdyb3VwPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7dGhpcy5ncm91cHMucHVzaChhKSxhLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7Yi5yZW1vdmVHcm91cChhKX0pfSx0aGlzLnJlbW92ZUdyb3VwPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JvdXBzLmluZGV4T2YoYSk7LTEhPT1iJiZ0aGlzLmdyb3Vwcy5zcGxpY2UoYiwxKX19XSkuZGlyZWN0aXZlKCJhY2NvcmRpb24iLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsY29udHJvbGxlcjoiQWNjb3JkaW9uQ29udHJvbGxlciIsdHJhbnNjbHVkZTohMCxyZXBsYWNlOiExLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLmh0bWwifX0pLmRpcmVjdGl2ZSgiYWNjb3JkaW9uR3JvdXAiLGZ1bmN0aW9uKCl7cmV0dXJue3JlcXVpcmU6Il5hY2NvcmRpb24iLHJlc3RyaWN0OiJFQSIsdHJhbnNjbHVkZTohMCxyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWwiLHNjb3BlOntoZWFkaW5nOiJAIixpc09wZW46Ij0/Iixpc0Rpc2FibGVkOiI9PyJ9LGNvbnRyb2xsZXI6ZnVuY3Rpb24oKXt0aGlzLnNldEhlYWRpbmc9ZnVuY3Rpb24oYSl7dGhpcy5oZWFkaW5nPWF9fSxsaW5rOmZ1bmN0aW9uKGEsYixjLGQpe2QuYWRkR3JvdXAoYSksYS4kd2F0Y2goImlzT3BlbiIsZnVuY3Rpb24oYil7YiYmZC5jbG9zZU90aGVycyhhKX0pLGEudG9nZ2xlT3Blbj1mdW5jdGlvbigpe2EuaXNEaXNhYmxlZHx8KGEuaXNPcGVuPSFhLmlzT3Blbil9fX19KS5kaXJlY3RpdmUoImFjY29yZGlvbkhlYWRpbmciLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsdHJhbnNjbHVkZTohMCx0ZW1wbGF0ZToiIixyZXBsYWNlOiEwLHJlcXVpcmU6Il5hY2NvcmRpb25Hcm91cCIsbGluazpmdW5jdGlvbihhLGIsYyxkLGUpe2Quc2V0SGVhZGluZyhlKGEsZnVuY3Rpb24oKXt9KSl9fX0pLmRpcmVjdGl2ZSgiYWNjb3JkaW9uVHJhbnNjbHVkZSIsZnVuY3Rpb24oKXtyZXR1cm57cmVxdWlyZToiXmFjY29yZGlvbkdyb3VwIixsaW5rOmZ1bmN0aW9uKGEsYixjLGQpe2EuJHdhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIGRbYy5hY2NvcmRpb25UcmFuc2NsdWRlXX0sZnVuY3Rpb24oYSl7YSYmKGIuaHRtbCgiIiksYi5hcHBlbmQoYSkpfSl9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuYWxlcnQiLFtdKS5jb250cm9sbGVyKCJBbGVydENvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGF0dHJzIixmdW5jdGlvbihhLGIpe2EuY2xvc2VhYmxlPSJjbG9zZSJpbiBifV0pLmRpcmVjdGl2ZSgiYWxlcnQiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsY29udHJvbGxlcjoiQWxlcnRDb250cm9sbGVyIix0ZW1wbGF0ZVVybDoidGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbCIsdHJhbnNjbHVkZTohMCxyZXBsYWNlOiEwLHNjb3BlOnt0eXBlOiJAIixjbG9zZToiJiJ9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuYmluZEh0bWwiLFtdKS5kaXJlY3RpdmUoImJpbmRIdG1sVW5zYWZlIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIsYyl7Yi5hZGRDbGFzcygibmctYmluZGluZyIpLmRhdGEoIiRiaW5kaW5nIixjLmJpbmRIdG1sVW5zYWZlKSxhLiR3YXRjaChjLmJpbmRIdG1sVW5zYWZlLGZ1bmN0aW9uKGEpe2IuaHRtbChhfHwiIil9KX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmJ1dHRvbnMiLFtdKS5jb25zdGFudCgiYnV0dG9uQ29uZmlnIix7YWN0aXZlQ2xhc3M6ImFjdGl2ZSIsdG9nZ2xlRXZlbnQ6ImNsaWNrIn0pLmNvbnRyb2xsZXIoIkJ1dHRvbnNDb250cm9sbGVyIixbImJ1dHRvbkNvbmZpZyIsZnVuY3Rpb24oYSl7dGhpcy5hY3RpdmVDbGFzcz1hLmFjdGl2ZUNsYXNzfHwiYWN0aXZlIix0aGlzLnRvZ2dsZUV2ZW50PWEudG9nZ2xlRXZlbnR8fCJjbGljayJ9XSkuZGlyZWN0aXZlKCJidG5SYWRpbyIsZnVuY3Rpb24oKXtyZXR1cm57cmVxdWlyZTpbImJ0blJhZGlvIiwibmdNb2RlbCJdLGNvbnRyb2xsZXI6IkJ1dHRvbnNDb250cm9sbGVyIixsaW5rOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWRbMF0sZj1kWzFdO2YuJHJlbmRlcj1mdW5jdGlvbigpe2IudG9nZ2xlQ2xhc3MoZS5hY3RpdmVDbGFzcyxhbmd1bGFyLmVxdWFscyhmLiRtb2RlbFZhbHVlLGEuJGV2YWwoYy5idG5SYWRpbykpKX0sYi5iaW5kKGUudG9nZ2xlRXZlbnQsZnVuY3Rpb24oKXt2YXIgZD1iLmhhc0NsYXNzKGUuYWN0aXZlQ2xhc3MpOyghZHx8YW5ndWxhci5pc0RlZmluZWQoYy51bmNoZWNrYWJsZSkpJiZhLiRhcHBseShmdW5jdGlvbigpe2YuJHNldFZpZXdWYWx1ZShkP251bGw6YS4kZXZhbChjLmJ0blJhZGlvKSksZi4kcmVuZGVyKCl9KX0pfX19KS5kaXJlY3RpdmUoImJ0bkNoZWNrYm94IixmdW5jdGlvbigpe3JldHVybntyZXF1aXJlOlsiYnRuQ2hlY2tib3giLCJuZ01vZGVsIl0sY29udHJvbGxlcjoiQnV0dG9uc0NvbnRyb2xsZXIiLGxpbms6ZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24gZSgpe3JldHVybiBnKGMuYnRuQ2hlY2tib3hUcnVlLCEwKX1mdW5jdGlvbiBmKCl7cmV0dXJuIGcoYy5idG5DaGVja2JveEZhbHNlLCExKX1mdW5jdGlvbiBnKGIsYyl7dmFyIGQ9YS4kZXZhbChiKTtyZXR1cm4gYW5ndWxhci5pc0RlZmluZWQoZCk/ZDpjfXZhciBoPWRbMF0saT1kWzFdO2kuJHJlbmRlcj1mdW5jdGlvbigpe2IudG9nZ2xlQ2xhc3MoaC5hY3RpdmVDbGFzcyxhbmd1bGFyLmVxdWFscyhpLiRtb2RlbFZhbHVlLGUoKSkpfSxiLmJpbmQoaC50b2dnbGVFdmVudCxmdW5jdGlvbigpe2EuJGFwcGx5KGZ1bmN0aW9uKCl7aS4kc2V0Vmlld1ZhbHVlKGIuaGFzQ2xhc3MoaC5hY3RpdmVDbGFzcyk/ZigpOmUoKSksaS4kcmVuZGVyKCl9KX0pfX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmNhcm91c2VsIixbInVpLmJvb3RzdHJhcC50cmFuc2l0aW9uIl0pLmNvbnRyb2xsZXIoIkNhcm91c2VsQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkdGltZW91dCIsIiR0cmFuc2l0aW9uIixmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZCgpe2UoKTt2YXIgYz0rYS5pbnRlcnZhbDshaXNOYU4oYykmJmM+PTAmJihnPWIoZixjKSl9ZnVuY3Rpb24gZSgpe2cmJihiLmNhbmNlbChnKSxnPW51bGwpfWZ1bmN0aW9uIGYoKXtoPyhhLm5leHQoKSxkKCkpOmEucGF1c2UoKX12YXIgZyxoLGk9dGhpcyxqPWkuc2xpZGVzPWEuc2xpZGVzPVtdLGs9LTE7aS5jdXJyZW50U2xpZGU9bnVsbDt2YXIgbD0hMTtpLnNlbGVjdD1hLnNlbGVjdD1mdW5jdGlvbihlLGYpe2Z1bmN0aW9uIGcoKXtpZighbCl7aWYoaS5jdXJyZW50U2xpZGUmJmFuZ3VsYXIuaXNTdHJpbmcoZikmJiFhLm5vVHJhbnNpdGlvbiYmZS4kZWxlbWVudCl7ZS4kZWxlbWVudC5hZGRDbGFzcyhmKTt7ZS4kZWxlbWVudFswXS5vZmZzZXRXaWR0aH1hbmd1bGFyLmZvckVhY2goaixmdW5jdGlvbihhKXthbmd1bGFyLmV4dGVuZChhLHtkaXJlY3Rpb246IiIsZW50ZXJpbmc6ITEsbGVhdmluZzohMSxhY3RpdmU6ITF9KX0pLGFuZ3VsYXIuZXh0ZW5kKGUse2RpcmVjdGlvbjpmLGFjdGl2ZTohMCxlbnRlcmluZzohMH0pLGFuZ3VsYXIuZXh0ZW5kKGkuY3VycmVudFNsaWRlfHx7fSx7ZGlyZWN0aW9uOmYsbGVhdmluZzohMH0pLGEuJGN1cnJlbnRUcmFuc2l0aW9uPWMoZS4kZWxlbWVudCx7fSksZnVuY3Rpb24oYixjKXthLiRjdXJyZW50VHJhbnNpdGlvbi50aGVuKGZ1bmN0aW9uKCl7aChiLGMpfSxmdW5jdGlvbigpe2goYixjKX0pfShlLGkuY3VycmVudFNsaWRlKX1lbHNlIGgoZSxpLmN1cnJlbnRTbGlkZSk7aS5jdXJyZW50U2xpZGU9ZSxrPW0sZCgpfX1mdW5jdGlvbiBoKGIsYyl7YW5ndWxhci5leHRlbmQoYix7ZGlyZWN0aW9uOiIiLGFjdGl2ZTohMCxsZWF2aW5nOiExLGVudGVyaW5nOiExfSksYW5ndWxhci5leHRlbmQoY3x8e30se2RpcmVjdGlvbjoiIixhY3RpdmU6ITEsbGVhdmluZzohMSxlbnRlcmluZzohMX0pLGEuJGN1cnJlbnRUcmFuc2l0aW9uPW51bGx9dmFyIG09ai5pbmRleE9mKGUpO3ZvaWQgMD09PWYmJihmPW0+az8ibmV4dCI6InByZXYiKSxlJiZlIT09aS5jdXJyZW50U2xpZGUmJihhLiRjdXJyZW50VHJhbnNpdGlvbj8oYS4kY3VycmVudFRyYW5zaXRpb24uY2FuY2VsKCksYihnKSk6ZygpKX0sYS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe2w9ITB9KSxpLmluZGV4T2ZTbGlkZT1mdW5jdGlvbihhKXtyZXR1cm4gai5pbmRleE9mKGEpfSxhLm5leHQ9ZnVuY3Rpb24oKXt2YXIgYj0oaysxKSVqLmxlbmd0aDtyZXR1cm4gYS4kY3VycmVudFRyYW5zaXRpb24/dm9pZCAwOmkuc2VsZWN0KGpbYl0sIm5leHQiKX0sYS5wcmV2PWZ1bmN0aW9uKCl7dmFyIGI9MD5rLTE/ai5sZW5ndGgtMTprLTE7cmV0dXJuIGEuJGN1cnJlbnRUcmFuc2l0aW9uP3ZvaWQgMDppLnNlbGVjdChqW2JdLCJwcmV2Iil9LGEuaXNBY3RpdmU9ZnVuY3Rpb24oYSl7cmV0dXJuIGkuY3VycmVudFNsaWRlPT09YX0sYS4kd2F0Y2goImludGVydmFsIixkKSxhLiRvbigiJGRlc3Ryb3kiLGUpLGEucGxheT1mdW5jdGlvbigpe2h8fChoPSEwLGQoKSl9LGEucGF1c2U9ZnVuY3Rpb24oKXthLm5vUGF1c2V8fChoPSExLGUoKSl9LGkuYWRkU2xpZGU9ZnVuY3Rpb24oYixjKXtiLiRlbGVtZW50PWMsai5wdXNoKGIpLDE9PT1qLmxlbmd0aHx8Yi5hY3RpdmU/KGkuc2VsZWN0KGpbai5sZW5ndGgtMV0pLDE9PWoubGVuZ3RoJiZhLnBsYXkoKSk6Yi5hY3RpdmU9ITF9LGkucmVtb3ZlU2xpZGU9ZnVuY3Rpb24oYSl7dmFyIGI9ai5pbmRleE9mKGEpO2ouc3BsaWNlKGIsMSksai5sZW5ndGg+MCYmYS5hY3RpdmU/aS5zZWxlY3QoYj49ai5sZW5ndGg/altiLTFdOmpbYl0pOms+YiYmay0tfX1dKS5kaXJlY3RpdmUoImNhcm91c2VsIixbZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIix0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITAsY29udHJvbGxlcjoiQ2Fyb3VzZWxDb250cm9sbGVyIixyZXF1aXJlOiJjYXJvdXNlbCIsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWwiLHNjb3BlOntpbnRlcnZhbDoiPSIsbm9UcmFuc2l0aW9uOiI9Iixub1BhdXNlOiI9In19fV0pLmRpcmVjdGl2ZSgic2xpZGUiLGZ1bmN0aW9uKCl7cmV0dXJue3JlcXVpcmU6Il5jYXJvdXNlbCIscmVzdHJpY3Q6IkVBIix0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWwiLHNjb3BlOnthY3RpdmU6Ij0/In0sbGluazpmdW5jdGlvbihhLGIsYyxkKXtkLmFkZFNsaWRlKGEsYiksYS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe2QucmVtb3ZlU2xpZGUoYSl9KSxhLiR3YXRjaCgiYWN0aXZlIixmdW5jdGlvbihiKXtiJiZkLnNlbGVjdChhKX0pfX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmRhdGVwYXJzZXIiLFtdKS5zZXJ2aWNlKCJkYXRlUGFyc2VyIixbIiRsb2NhbGUiLCJvcmRlckJ5RmlsdGVyIixmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSxiLGMpe3JldHVybiAxPT09YiYmYz4yOD8yOT09PWMmJihhJTQ9PT0wJiZhJTEwMCE9PTB8fGElNDAwPT09MCk6Mz09PWJ8fDU9PT1ifHw4PT09Ynx8MTA9PT1iPzMxPmM6ITB9dGhpcy5wYXJzZXJzPXt9O3ZhciBkPXt5eXl5OntyZWdleDoiXFxkezR9IixhcHBseTpmdW5jdGlvbihhKXt0aGlzLnllYXI9K2F9fSx5eTp7cmVnZXg6IlxcZHsyfSIsYXBwbHk6ZnVuY3Rpb24oYSl7dGhpcy55ZWFyPSthKzJlM319LHk6e3JlZ2V4OiJcXGR7MSw0fSIsYXBwbHk6ZnVuY3Rpb24oYSl7dGhpcy55ZWFyPSthfX0sTU1NTTp7cmVnZXg6YS5EQVRFVElNRV9GT1JNQVRTLk1PTlRILmpvaW4oInwiKSxhcHBseTpmdW5jdGlvbihiKXt0aGlzLm1vbnRoPWEuREFURVRJTUVfRk9STUFUUy5NT05USC5pbmRleE9mKGIpfX0sTU1NOntyZWdleDphLkRBVEVUSU1FX0ZPUk1BVFMuU0hPUlRNT05USC5qb2luKCJ8IiksYXBwbHk6ZnVuY3Rpb24oYil7dGhpcy5tb250aD1hLkRBVEVUSU1FX0ZPUk1BVFMuU0hPUlRNT05USC5pbmRleE9mKGIpfX0sTU06e3JlZ2V4OiIwWzEtOV18MVswLTJdIixhcHBseTpmdW5jdGlvbihhKXt0aGlzLm1vbnRoPWEtMX19LE06e3JlZ2V4OiJbMS05XXwxWzAtMl0iLGFwcGx5OmZ1bmN0aW9uKGEpe3RoaXMubW9udGg9YS0xfX0sZGQ6e3JlZ2V4OiJbMC0yXVswLTldezF9fDNbMC0xXXsxfSIsYXBwbHk6ZnVuY3Rpb24oYSl7dGhpcy5kYXRlPSthfX0sZDp7cmVnZXg6IlsxLTJdP1swLTldezF9fDNbMC0xXXsxfSIsYXBwbHk6ZnVuY3Rpb24oYSl7dGhpcy5kYXRlPSthfX0sRUVFRTp7cmVnZXg6YS5EQVRFVElNRV9GT1JNQVRTLkRBWS5qb2luKCJ8Iil9LEVFRTp7cmVnZXg6YS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUREFZLmpvaW4oInwiKX19O3RoaXMuY3JlYXRlUGFyc2VyPWZ1bmN0aW9uKGEpe3ZhciBjPVtdLGU9YS5zcGxpdCgiIik7cmV0dXJuIGFuZ3VsYXIuZm9yRWFjaChkLGZ1bmN0aW9uKGIsZCl7dmFyIGY9YS5pbmRleE9mKGQpO2lmKGY+LTEpe2E9YS5zcGxpdCgiIiksZVtmXT0iKCIrYi5yZWdleCsiKSIsYVtmXT0iJCI7Zm9yKHZhciBnPWYrMSxoPWYrZC5sZW5ndGg7aD5nO2crKyllW2ddPSIiLGFbZ109IiQiO2E9YS5qb2luKCIiKSxjLnB1c2goe2luZGV4OmYsYXBwbHk6Yi5hcHBseX0pfX0pLHtyZWdleDpuZXcgUmVnRXhwKCJeIitlLmpvaW4oIiIpKyIkIiksbWFwOmIoYywiaW5kZXgiKX19LHRoaXMucGFyc2U9ZnVuY3Rpb24oYixkKXtpZighYW5ndWxhci5pc1N0cmluZyhiKSlyZXR1cm4gYjtkPWEuREFURVRJTUVfRk9STUFUU1tkXXx8ZCx0aGlzLnBhcnNlcnNbZF18fCh0aGlzLnBhcnNlcnNbZF09dGhpcy5jcmVhdGVQYXJzZXIoZCkpO3ZhciBlPXRoaXMucGFyc2Vyc1tkXSxmPWUucmVnZXgsZz1lLm1hcCxoPWIubWF0Y2goZik7aWYoaCYmaC5sZW5ndGgpe2Zvcih2YXIgaSxqPXt5ZWFyOjE5MDAsbW9udGg6MCxkYXRlOjEsaG91cnM6MH0saz0xLGw9aC5sZW5ndGg7bD5rO2srKyl7dmFyIG09Z1trLTFdO20uYXBwbHkmJm0uYXBwbHkuY2FsbChqLGhba10pfXJldHVybiBjKGoueWVhcixqLm1vbnRoLGouZGF0ZSkmJihpPW5ldyBEYXRlKGoueWVhcixqLm1vbnRoLGouZGF0ZSxqLmhvdXJzKSksaX19fV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAucG9zaXRpb24iLFtdKS5mYWN0b3J5KCIkcG9zaXRpb24iLFsiJGRvY3VtZW50IiwiJHdpbmRvdyIsZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEsYyl7cmV0dXJuIGEuY3VycmVudFN0eWxlP2EuY3VycmVudFN0eWxlW2NdOmIuZ2V0Q29tcHV0ZWRTdHlsZT9iLmdldENvbXB1dGVkU3R5bGUoYSlbY106YS5zdHlsZVtjXX1mdW5jdGlvbiBkKGEpe3JldHVybiJzdGF0aWMiPT09KGMoYSwicG9zaXRpb24iKXx8InN0YXRpYyIpfXZhciBlPWZ1bmN0aW9uKGIpe2Zvcih2YXIgYz1hWzBdLGU9Yi5vZmZzZXRQYXJlbnR8fGM7ZSYmZSE9PWMmJmQoZSk7KWU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGV8fGN9O3JldHVybntwb3NpdGlvbjpmdW5jdGlvbihiKXt2YXIgYz10aGlzLm9mZnNldChiKSxkPXt0b3A6MCxsZWZ0OjB9LGY9ZShiWzBdKTtmIT1hWzBdJiYoZD10aGlzLm9mZnNldChhbmd1bGFyLmVsZW1lbnQoZikpLGQudG9wKz1mLmNsaWVudFRvcC1mLnNjcm9sbFRvcCxkLmxlZnQrPWYuY2xpZW50TGVmdC1mLnNjcm9sbExlZnQpO3ZhciBnPWJbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJue3dpZHRoOmcud2lkdGh8fGIucHJvcCgib2Zmc2V0V2lkdGgiKSxoZWlnaHQ6Zy5oZWlnaHR8fGIucHJvcCgib2Zmc2V0SGVpZ2h0IiksdG9wOmMudG9wLWQudG9wLGxlZnQ6Yy5sZWZ0LWQubGVmdH19LG9mZnNldDpmdW5jdGlvbihjKXt2YXIgZD1jWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybnt3aWR0aDpkLndpZHRofHxjLnByb3AoIm9mZnNldFdpZHRoIiksaGVpZ2h0OmQuaGVpZ2h0fHxjLnByb3AoIm9mZnNldEhlaWdodCIpLHRvcDpkLnRvcCsoYi5wYWdlWU9mZnNldHx8YVswXS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKSxsZWZ0OmQubGVmdCsoYi5wYWdlWE9mZnNldHx8YVswXS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCl9fSxwb3NpdGlvbkVsZW1lbnRzOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoLGk9Yy5zcGxpdCgiLSIpLGo9aVswXSxrPWlbMV18fCJjZW50ZXIiO2U9ZD90aGlzLm9mZnNldChhKTp0aGlzLnBvc2l0aW9uKGEpLGY9Yi5wcm9wKCJvZmZzZXRXaWR0aCIpLGc9Yi5wcm9wKCJvZmZzZXRIZWlnaHQiKTt2YXIgbD17Y2VudGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGUubGVmdCtlLndpZHRoLzItZi8yfSxsZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIGUubGVmdH0scmlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5sZWZ0K2Uud2lkdGh9fSxtPXtjZW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gZS50b3ArZS5oZWlnaHQvMi1nLzJ9LHRvcDpmdW5jdGlvbigpe3JldHVybiBlLnRvcH0sYm90dG9tOmZ1bmN0aW9uKCl7cmV0dXJuIGUudG9wK2UuaGVpZ2h0fX07c3dpdGNoKGope2Nhc2UicmlnaHQiOmg9e3RvcDptW2tdKCksbGVmdDpsW2pdKCl9O2JyZWFrO2Nhc2UibGVmdCI6aD17dG9wOm1ba10oKSxsZWZ0OmUubGVmdC1mfTticmVhaztjYXNlImJvdHRvbSI6aD17dG9wOm1bal0oKSxsZWZ0Omxba10oKX07YnJlYWs7ZGVmYXVsdDpoPXt0b3A6ZS50b3AtZyxsZWZ0Omxba10oKX19cmV0dXJuIGh9fX1dKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmRhdGVwaWNrZXIiLFsidWkuYm9vdHN0cmFwLmRhdGVwYXJzZXIiLCJ1aS5ib290c3RyYXAucG9zaXRpb24iXSkuY29uc3RhbnQoImRhdGVwaWNrZXJDb25maWciLHtmb3JtYXREYXk6ImRkIixmb3JtYXRNb250aDoiTU1NTSIsZm9ybWF0WWVhcjoieXl5eSIsZm9ybWF0RGF5SGVhZGVyOiJFRUUiLGZvcm1hdERheVRpdGxlOiJNTU1NIHl5eXkiLGZvcm1hdE1vbnRoVGl0bGU6Inl5eXkiLGRhdGVwaWNrZXJNb2RlOiJkYXkiLG1pbk1vZGU6ImRheSIsbWF4TW9kZToieWVhciIsc2hvd1dlZWtzOiEwLHN0YXJ0aW5nRGF5OjAseWVhclJhbmdlOjIwLG1pbkRhdGU6bnVsbCxtYXhEYXRlOm51bGx9KS5jb250cm9sbGVyKCJEYXRlcGlja2VyQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCIkcGFyc2UiLCIkaW50ZXJwb2xhdGUiLCIkdGltZW91dCIsIiRsb2ciLCJkYXRlRmlsdGVyIiwiZGF0ZXBpY2tlckNvbmZpZyIsZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXt2YXIgaT10aGlzLGo9eyRzZXRWaWV3VmFsdWU6YW5ndWxhci5ub29wfTt0aGlzLm1vZGVzPVsiZGF5IiwibW9udGgiLCJ5ZWFyIl0sYW5ndWxhci5mb3JFYWNoKFsiZm9ybWF0RGF5IiwiZm9ybWF0TW9udGgiLCJmb3JtYXRZZWFyIiwiZm9ybWF0RGF5SGVhZGVyIiwiZm9ybWF0RGF5VGl0bGUiLCJmb3JtYXRNb250aFRpdGxlIiwibWluTW9kZSIsIm1heE1vZGUiLCJzaG93V2Vla3MiLCJzdGFydGluZ0RheSIsInllYXJSYW5nZSJdLGZ1bmN0aW9uKGMsZSl7aVtjXT1hbmd1bGFyLmlzRGVmaW5lZChiW2NdKT84PmU/ZChiW2NdKShhLiRwYXJlbnQpOmEuJHBhcmVudC4kZXZhbChiW2NdKTpoW2NdfSksYW5ndWxhci5mb3JFYWNoKFsibWluRGF0ZSIsIm1heERhdGUiXSxmdW5jdGlvbihkKXtiW2RdP2EuJHBhcmVudC4kd2F0Y2goYyhiW2RdKSxmdW5jdGlvbihhKXtpW2RdPWE/bmV3IERhdGUoYSk6bnVsbCxpLnJlZnJlc2hWaWV3KCl9KTppW2RdPWhbZF0/bmV3IERhdGUoaFtkXSk6bnVsbH0pLGEuZGF0ZXBpY2tlck1vZGU9YS5kYXRlcGlja2VyTW9kZXx8aC5kYXRlcGlja2VyTW9kZSxhLnVuaXF1ZUlkPSJkYXRlcGlja2VyLSIrYS4kaWQrIi0iK01hdGguZmxvb3IoMWU0Kk1hdGgucmFuZG9tKCkpLHRoaXMuYWN0aXZlRGF0ZT1hbmd1bGFyLmlzRGVmaW5lZChiLmluaXREYXRlKT9hLiRwYXJlbnQuJGV2YWwoYi5pbml0RGF0ZSk6bmV3IERhdGUsYS5pc0FjdGl2ZT1mdW5jdGlvbihiKXtyZXR1cm4gMD09PWkuY29tcGFyZShiLmRhdGUsaS5hY3RpdmVEYXRlKT8oYS5hY3RpdmVEYXRlSWQ9Yi51aWQsITApOiExfSx0aGlzLmluaXQ9ZnVuY3Rpb24oYSl7aj1hLGouJHJlbmRlcj1mdW5jdGlvbigpe2kucmVuZGVyKCl9fSx0aGlzLnJlbmRlcj1mdW5jdGlvbigpe2lmKGouJG1vZGVsVmFsdWUpe3ZhciBhPW5ldyBEYXRlKGouJG1vZGVsVmFsdWUpLGI9IWlzTmFOKGEpO2I/dGhpcy5hY3RpdmVEYXRlPWE6Zi5lcnJvcignRGF0ZXBpY2tlciBkaXJlY3RpdmU6ICJuZy1tb2RlbCIgdmFsdWUgbXVzdCBiZSBhIERhdGUgb2JqZWN0LCBhIG51bWJlciBvZiBtaWxsaXNlY29uZHMgc2luY2UgMDEuMDEuMTk3MCBvciBhIHN0cmluZyByZXByZXNlbnRpbmcgYW4gUkZDMjgyMiBvciBJU08gODYwMSBkYXRlLicpLGouJHNldFZhbGlkaXR5KCJkYXRlIixiKX10aGlzLnJlZnJlc2hWaWV3KCl9LHRoaXMucmVmcmVzaFZpZXc9ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1lbnQpe3RoaXMuX3JlZnJlc2hWaWV3KCk7dmFyIGE9ai4kbW9kZWxWYWx1ZT9uZXcgRGF0ZShqLiRtb2RlbFZhbHVlKTpudWxsO2ouJHNldFZhbGlkaXR5KCJkYXRlLWRpc2FibGVkIiwhYXx8dGhpcy5lbGVtZW50JiYhdGhpcy5pc0Rpc2FibGVkKGEpKX19LHRoaXMuY3JlYXRlRGF0ZU9iamVjdD1mdW5jdGlvbihhLGIpe3ZhciBjPWouJG1vZGVsVmFsdWU/bmV3IERhdGUoai4kbW9kZWxWYWx1ZSk6bnVsbDtyZXR1cm57ZGF0ZTphLGxhYmVsOmcoYSxiKSxzZWxlY3RlZDpjJiYwPT09dGhpcy5jb21wYXJlKGEsYyksZGlzYWJsZWQ6dGhpcy5pc0Rpc2FibGVkKGEpLGN1cnJlbnQ6MD09PXRoaXMuY29tcGFyZShhLG5ldyBEYXRlKX19LHRoaXMuaXNEaXNhYmxlZD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5taW5EYXRlJiZ0aGlzLmNvbXBhcmUoYyx0aGlzLm1pbkRhdGUpPDB8fHRoaXMubWF4RGF0ZSYmdGhpcy5jb21wYXJlKGMsdGhpcy5tYXhEYXRlKT4wfHxiLmRhdGVEaXNhYmxlZCYmYS5kYXRlRGlzYWJsZWQoe2RhdGU6Yyxtb2RlOmEuZGF0ZXBpY2tlck1vZGV9KX0sdGhpcy5zcGxpdD1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTthLmxlbmd0aD4wOyljLnB1c2goYS5zcGxpY2UoMCxiKSk7cmV0dXJuIGN9LGEuc2VsZWN0PWZ1bmN0aW9uKGIpe2lmKGEuZGF0ZXBpY2tlck1vZGU9PT1pLm1pbk1vZGUpe3ZhciBjPWouJG1vZGVsVmFsdWU/bmV3IERhdGUoai4kbW9kZWxWYWx1ZSk6bmV3IERhdGUoMCwwLDAsMCwwLDAsMCk7Yy5zZXRGdWxsWWVhcihiLmdldEZ1bGxZZWFyKCksYi5nZXRNb250aCgpLGIuZ2V0RGF0ZSgpKSxqLiRzZXRWaWV3VmFsdWUoYyksai4kcmVuZGVyKCl9ZWxzZSBpLmFjdGl2ZURhdGU9YixhLmRhdGVwaWNrZXJNb2RlPWkubW9kZXNbaS5tb2Rlcy5pbmRleE9mKGEuZGF0ZXBpY2tlck1vZGUpLTFdfSxhLm1vdmU9ZnVuY3Rpb24oYSl7dmFyIGI9aS5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkrYSooaS5zdGVwLnllYXJzfHwwKSxjPWkuYWN0aXZlRGF0ZS5nZXRNb250aCgpK2EqKGkuc3RlcC5tb250aHN8fDApO2kuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcihiLGMsMSksaS5yZWZyZXNoVmlldygpfSxhLnRvZ2dsZU1vZGU9ZnVuY3Rpb24oYil7Yj1ifHwxLGEuZGF0ZXBpY2tlck1vZGU9PT1pLm1heE1vZGUmJjE9PT1ifHxhLmRhdGVwaWNrZXJNb2RlPT09aS5taW5Nb2RlJiYtMT09PWJ8fChhLmRhdGVwaWNrZXJNb2RlPWkubW9kZXNbaS5tb2Rlcy5pbmRleE9mKGEuZGF0ZXBpY2tlck1vZGUpK2JdKX0sYS5rZXlzPXsxMzoiZW50ZXIiLDMyOiJzcGFjZSIsMzM6InBhZ2V1cCIsMzQ6InBhZ2Vkb3duIiwzNToiZW5kIiwzNjoiaG9tZSIsMzc6ImxlZnQiLDM4OiJ1cCIsMzk6InJpZ2h0Iiw0MDoiZG93biJ9O3ZhciBrPWZ1bmN0aW9uKCl7ZShmdW5jdGlvbigpe2kuZWxlbWVudFswXS5mb2N1cygpfSwwLCExKX07YS4kb24oImRhdGVwaWNrZXIuZm9jdXMiLGspLGEua2V5ZG93bj1mdW5jdGlvbihiKXt2YXIgYz1hLmtleXNbYi53aGljaF07aWYoYyYmIWIuc2hpZnRLZXkmJiFiLmFsdEtleSlpZihiLnByZXZlbnREZWZhdWx0KCksYi5zdG9wUHJvcGFnYXRpb24oKSwiZW50ZXIiPT09Y3x8InNwYWNlIj09PWMpe2lmKGkuaXNEaXNhYmxlZChpLmFjdGl2ZURhdGUpKXJldHVybjthLnNlbGVjdChpLmFjdGl2ZURhdGUpLGsoKX1lbHNlIWIuY3RybEtleXx8InVwIiE9PWMmJiJkb3duIiE9PWM/KGkuaGFuZGxlS2V5RG93bihjLGIpLGkucmVmcmVzaFZpZXcoKSk6KGEudG9nZ2xlTW9kZSgidXAiPT09Yz8xOi0xKSxrKCkpfX1dKS5kaXJlY3RpdmUoImRhdGVwaWNrZXIiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWwiLHNjb3BlOntkYXRlcGlja2VyTW9kZToiPT8iLGRhdGVEaXNhYmxlZDoiJiJ9LHJlcXVpcmU6WyJkYXRlcGlja2VyIiwiP15uZ01vZGVsIl0sY29udHJvbGxlcjoiRGF0ZXBpY2tlckNvbnRyb2xsZXIiLGxpbms6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ZFswXSxmPWRbMV07ZiYmZS5pbml0KGYpfX19KS5kaXJlY3RpdmUoImRheXBpY2tlciIsWyJkYXRlRmlsdGVyIixmdW5jdGlvbihhKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sIixyZXF1aXJlOiJeZGF0ZXBpY2tlciIsbGluazpmdW5jdGlvbihiLGMsZCxlKXtmdW5jdGlvbiBmKGEsYil7cmV0dXJuIDEhPT1ifHxhJTQhPT0wfHxhJTEwMD09PTAmJmElNDAwIT09MD9pW2JdOjI5fWZ1bmN0aW9uIGcoYSxiKXt2YXIgYz1uZXcgQXJyYXkoYiksZD1uZXcgRGF0ZShhKSxlPTA7Zm9yKGQuc2V0SG91cnMoMTIpO2I+ZTspY1tlKytdPW5ldyBEYXRlKGQpLGQuc2V0RGF0ZShkLmdldERhdGUoKSsxKTtyZXR1cm4gY31mdW5jdGlvbiBoKGEpe3ZhciBiPW5ldyBEYXRlKGEpO2Iuc2V0RGF0ZShiLmdldERhdGUoKSs0LShiLmdldERheSgpfHw3KSk7dmFyIGM9Yi5nZXRUaW1lKCk7cmV0dXJuIGIuc2V0TW9udGgoMCksYi5zZXREYXRlKDEpLE1hdGguZmxvb3IoTWF0aC5yb3VuZCgoYy1iKS84NjRlNSkvNykrMX1iLnNob3dXZWVrcz1lLnNob3dXZWVrcyxlLnN0ZXA9e21vbnRoczoxfSxlLmVsZW1lbnQ9Yzt2YXIgaT1bMzEsMjgsMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdO2UuX3JlZnJlc2hWaWV3PWZ1bmN0aW9uKCl7dmFyIGM9ZS5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksZD1lLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSxmPW5ldyBEYXRlKGMsZCwxKSxpPWUuc3RhcnRpbmdEYXktZi5nZXREYXkoKSxqPWk+MD83LWk6LWksaz1uZXcgRGF0ZShmKTtqPjAmJmsuc2V0RGF0ZSgtaisxKTtmb3IodmFyIGw9ZyhrLDQyKSxtPTA7NDI+bTttKyspbFttXT1hbmd1bGFyLmV4dGVuZChlLmNyZWF0ZURhdGVPYmplY3QobFttXSxlLmZvcm1hdERheSkse3NlY29uZGFyeTpsW21dLmdldE1vbnRoKCkhPT1kLHVpZDpiLnVuaXF1ZUlkKyItIittfSk7Yi5sYWJlbHM9bmV3IEFycmF5KDcpO2Zvcih2YXIgbj0wOzc+bjtuKyspYi5sYWJlbHNbbl09e2FiYnI6YShsW25dLmRhdGUsZS5mb3JtYXREYXlIZWFkZXIpLGZ1bGw6YShsW25dLmRhdGUsIkVFRUUiKX07aWYoYi50aXRsZT1hKGUuYWN0aXZlRGF0ZSxlLmZvcm1hdERheVRpdGxlKSxiLnJvd3M9ZS5zcGxpdChsLDcpLGIuc2hvd1dlZWtzKXtiLndlZWtOdW1iZXJzPVtdO2Zvcih2YXIgbz1oKGIucm93c1swXVswXS5kYXRlKSxwPWIucm93cy5sZW5ndGg7Yi53ZWVrTnVtYmVycy5wdXNoKG8rKyk8cDspO319LGUuY29tcGFyZT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgRGF0ZShhLmdldEZ1bGxZZWFyKCksYS5nZXRNb250aCgpLGEuZ2V0RGF0ZSgpKS1uZXcgRGF0ZShiLmdldEZ1bGxZZWFyKCksYi5nZXRNb250aCgpLGIuZ2V0RGF0ZSgpKX0sZS5oYW5kbGVLZXlEb3duPWZ1bmN0aW9uKGEpe3ZhciBiPWUuYWN0aXZlRGF0ZS5nZXREYXRlKCk7aWYoImxlZnQiPT09YSliLT0xO2Vsc2UgaWYoInVwIj09PWEpYi09NztlbHNlIGlmKCJyaWdodCI9PT1hKWIrPTE7ZWxzZSBpZigiZG93biI9PT1hKWIrPTc7ZWxzZSBpZigicGFnZXVwIj09PWF8fCJwYWdlZG93biI9PT1hKXt2YXIgYz1lLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSsoInBhZ2V1cCI9PT1hPy0xOjEpO2UuYWN0aXZlRGF0ZS5zZXRNb250aChjLDEpLGI9TWF0aC5taW4oZihlLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSxlLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSksYil9ZWxzZSJob21lIj09PWE/Yj0xOiJlbmQiPT09YSYmKGI9ZihlLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSxlLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSkpO2UuYWN0aXZlRGF0ZS5zZXREYXRlKGIpfSxlLnJlZnJlc2hWaWV3KCl9fX1dKS5kaXJlY3RpdmUoIm1vbnRocGlja2VyIixbImRhdGVGaWx0ZXIiLGZ1bmN0aW9uKGEpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2RhdGVwaWNrZXIvbW9udGguaHRtbCIscmVxdWlyZToiXmRhdGVwaWNrZXIiLGxpbms6ZnVuY3Rpb24oYixjLGQsZSl7ZS5zdGVwPXt5ZWFyczoxfSxlLmVsZW1lbnQ9YyxlLl9yZWZyZXNoVmlldz1mdW5jdGlvbigpe2Zvcih2YXIgYz1uZXcgQXJyYXkoMTIpLGQ9ZS5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksZj0wOzEyPmY7ZisrKWNbZl09YW5ndWxhci5leHRlbmQoZS5jcmVhdGVEYXRlT2JqZWN0KG5ldyBEYXRlKGQsZiwxKSxlLmZvcm1hdE1vbnRoKSx7dWlkOmIudW5pcXVlSWQrIi0iK2Z9KTtiLnRpdGxlPWEoZS5hY3RpdmVEYXRlLGUuZm9ybWF0TW9udGhUaXRsZSksYi5yb3dzPWUuc3BsaXQoYywzKX0sZS5jb21wYXJlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBEYXRlKGEuZ2V0RnVsbFllYXIoKSxhLmdldE1vbnRoKCkpLW5ldyBEYXRlKGIuZ2V0RnVsbFllYXIoKSxiLmdldE1vbnRoKCkpfSxlLmhhbmRsZUtleURvd249ZnVuY3Rpb24oYSl7dmFyIGI9ZS5hY3RpdmVEYXRlLmdldE1vbnRoKCk7aWYoImxlZnQiPT09YSliLT0xO2Vsc2UgaWYoInVwIj09PWEpYi09MztlbHNlIGlmKCJyaWdodCI9PT1hKWIrPTE7ZWxzZSBpZigiZG93biI9PT1hKWIrPTM7ZWxzZSBpZigicGFnZXVwIj09PWF8fCJwYWdlZG93biI9PT1hKXt2YXIgYz1lLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSsoInBhZ2V1cCI9PT1hPy0xOjEpO2UuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcihjKX1lbHNlImhvbWUiPT09YT9iPTA6ImVuZCI9PT1hJiYoYj0xMSk7ZS5hY3RpdmVEYXRlLnNldE1vbnRoKGIpfSxlLnJlZnJlc2hWaWV3KCl9fX1dKS5kaXJlY3RpdmUoInllYXJwaWNrZXIiLFsiZGF0ZUZpbHRlciIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbCIscmVxdWlyZToiXmRhdGVwaWNrZXIiLGxpbms6ZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24gZShhKXtyZXR1cm4gcGFyc2VJbnQoKGEtMSkvZiwxMCkqZisxfXZhciBmPWQueWVhclJhbmdlO2Quc3RlcD17eWVhcnM6Zn0sZC5lbGVtZW50PWIsZC5fcmVmcmVzaFZpZXc9ZnVuY3Rpb24oKXtmb3IodmFyIGI9bmV3IEFycmF5KGYpLGM9MCxnPWUoZC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpO2Y+YztjKyspYltjXT1hbmd1bGFyLmV4dGVuZChkLmNyZWF0ZURhdGVPYmplY3QobmV3IERhdGUoZytjLDAsMSksZC5mb3JtYXRZZWFyKSx7dWlkOmEudW5pcXVlSWQrIi0iK2N9KTthLnRpdGxlPVtiWzBdLmxhYmVsLGJbZi0xXS5sYWJlbF0uam9pbigiIC0gIiksYS5yb3dzPWQuc3BsaXQoYiw1KX0sZC5jb21wYXJlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuZ2V0RnVsbFllYXIoKS1iLmdldEZ1bGxZZWFyKCl9LGQuaGFuZGxlS2V5RG93bj1mdW5jdGlvbihhKXt2YXIgYj1kLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKTsibGVmdCI9PT1hP2ItPTE6InVwIj09PWE/Yi09NToicmlnaHQiPT09YT9iKz0xOiJkb3duIj09PWE/Yis9NToicGFnZXVwIj09PWF8fCJwYWdlZG93biI9PT1hP2IrPSgicGFnZXVwIj09PWE/LTE6MSkqZC5zdGVwLnllYXJzOiJob21lIj09PWE/Yj1lKGQuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpKToiZW5kIj09PWEmJihiPWUoZC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpK2YtMSksZC5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKGIpfSxkLnJlZnJlc2hWaWV3KCl9fX1dKS5jb25zdGFudCgiZGF0ZXBpY2tlclBvcHVwQ29uZmlnIix7ZGF0ZXBpY2tlclBvcHVwOiJ5eXl5LU1NLWRkIixjdXJyZW50VGV4dDoiVG9kYXkiLGNsZWFyVGV4dDoiQ2xlYXIiLGNsb3NlVGV4dDoiRG9uZSIsY2xvc2VPbkRhdGVTZWxlY3Rpb246ITAsYXBwZW5kVG9Cb2R5OiExLHNob3dCdXR0b25CYXI6ITB9KS5kaXJlY3RpdmUoImRhdGVwaWNrZXJQb3B1cCIsWyIkY29tcGlsZSIsIiRwYXJzZSIsIiRkb2N1bWVudCIsIiRwb3NpdGlvbiIsImRhdGVGaWx0ZXIiLCJkYXRlUGFyc2VyIiwiZGF0ZXBpY2tlclBvcHVwQ29uZmlnIixmdW5jdGlvbihhLGIsYyxkLGUsZixnKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXF1aXJlOiJuZ01vZGVsIixzY29wZTp7aXNPcGVuOiI9PyIsY3VycmVudFRleHQ6IkAiLGNsZWFyVGV4dDoiQCIsY2xvc2VUZXh0OiJAIixkYXRlRGlzYWJsZWQ6IiYifSxsaW5rOmZ1bmN0aW9uKGgsaSxqLGspe2Z1bmN0aW9uIGwoYSl7cmV0dXJuIGEucmVwbGFjZSgvKFtBLVpdKS9nLGZ1bmN0aW9uKGEpe3JldHVybiItIithLnRvTG93ZXJDYXNlKCl9KX1mdW5jdGlvbiBtKGEpe2lmKGEpe2lmKGFuZ3VsYXIuaXNEYXRlKGEpJiYhaXNOYU4oYSkpcmV0dXJuIGsuJHNldFZhbGlkaXR5KCJkYXRlIiwhMCksYTtpZihhbmd1bGFyLmlzU3RyaW5nKGEpKXt2YXIgYj1mLnBhcnNlKGEsbil8fG5ldyBEYXRlKGEpO3JldHVybiBpc05hTihiKT92b2lkIGsuJHNldFZhbGlkaXR5KCJkYXRlIiwhMSk6KGsuJHNldFZhbGlkaXR5KCJkYXRlIiwhMCksYil9cmV0dXJuIHZvaWQgay4kc2V0VmFsaWRpdHkoImRhdGUiLCExKX1yZXR1cm4gay4kc2V0VmFsaWRpdHkoImRhdGUiLCEwKSxudWxsfXZhciBuLG89YW5ndWxhci5pc0RlZmluZWQoai5jbG9zZU9uRGF0ZVNlbGVjdGlvbik/aC4kcGFyZW50LiRldmFsKGouY2xvc2VPbkRhdGVTZWxlY3Rpb24pOmcuY2xvc2VPbkRhdGVTZWxlY3Rpb24scD1hbmd1bGFyLmlzRGVmaW5lZChqLmRhdGVwaWNrZXJBcHBlbmRUb0JvZHkpP2guJHBhcmVudC4kZXZhbChqLmRhdGVwaWNrZXJBcHBlbmRUb0JvZHkpOmcuYXBwZW5kVG9Cb2R5O2guc2hvd0J1dHRvbkJhcj1hbmd1bGFyLmlzRGVmaW5lZChqLnNob3dCdXR0b25CYXIpP2guJHBhcmVudC4kZXZhbChqLnNob3dCdXR0b25CYXIpOmcuc2hvd0J1dHRvbkJhcixoLmdldFRleHQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGhbYSsiVGV4dCJdfHxnW2ErIlRleHQiXX0sai4kb2JzZXJ2ZSgiZGF0ZXBpY2tlclBvcHVwIixmdW5jdGlvbihhKXtuPWF8fGcuZGF0ZXBpY2tlclBvcHVwLGsuJHJlbmRlcigpfSk7dmFyIHE9YW5ndWxhci5lbGVtZW50KCI8ZGl2IGRhdGVwaWNrZXItcG9wdXAtd3JhcD48ZGl2IGRhdGVwaWNrZXI+PC9kaXY+PC9kaXY+Iik7cS5hdHRyKHsibmctbW9kZWwiOiJkYXRlIiwibmctY2hhbmdlIjoiZGF0ZVNlbGVjdGlvbigpIn0pO3ZhciByPWFuZ3VsYXIuZWxlbWVudChxLmNoaWxkcmVuKClbMF0pO2ouZGF0ZXBpY2tlck9wdGlvbnMmJmFuZ3VsYXIuZm9yRWFjaChoLiRwYXJlbnQuJGV2YWwoai5kYXRlcGlja2VyT3B0aW9ucyksZnVuY3Rpb24oYSxiKXtyLmF0dHIobChiKSxhKX0pLGFuZ3VsYXIuZm9yRWFjaChbIm1pbkRhdGUiLCJtYXhEYXRlIl0sZnVuY3Rpb24oYSl7althXSYmKGguJHBhcmVudC4kd2F0Y2goYihqW2FdKSxmdW5jdGlvbihiKXtoW2FdPWJ9KSxyLmF0dHIobChhKSxhKSl9KSxqLmRhdGVEaXNhYmxlZCYmci5hdHRyKCJkYXRlLWRpc2FibGVkIiwiZGF0ZURpc2FibGVkKHsgZGF0ZTogZGF0ZSwgbW9kZTogbW9kZSB9KSIpLGsuJHBhcnNlcnMudW5zaGlmdChtKSxoLmRhdGVTZWxlY3Rpb249ZnVuY3Rpb24oYSl7YW5ndWxhci5pc0RlZmluZWQoYSkmJihoLmRhdGU9YSksay4kc2V0Vmlld1ZhbHVlKGguZGF0ZSksay4kcmVuZGVyKCksbyYmKGguaXNPcGVuPSExLGlbMF0uZm9jdXMoKSl9LGkuYmluZCgiaW5wdXQgY2hhbmdlIGtleXVwIixmdW5jdGlvbigpe2guJGFwcGx5KGZ1bmN0aW9uKCl7aC5kYXRlPWsuJG1vZGVsVmFsdWV9KX0pLGsuJHJlbmRlcj1mdW5jdGlvbigpe3ZhciBhPWsuJHZpZXdWYWx1ZT9lKGsuJHZpZXdWYWx1ZSxuKToiIjtpLnZhbChhKSxoLmRhdGU9bShrLiRtb2RlbFZhbHVlKX07dmFyIHM9ZnVuY3Rpb24oYSl7aC5pc09wZW4mJmEudGFyZ2V0IT09aVswXSYmaC4kYXBwbHkoZnVuY3Rpb24oKXtoLmlzT3Blbj0hMX0pfSx0PWZ1bmN0aW9uKGEpe2gua2V5ZG93bihhKX07aS5iaW5kKCJrZXlkb3duIix0KSxoLmtleWRvd249ZnVuY3Rpb24oYSl7Mjc9PT1hLndoaWNoPyhhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKSxoLmNsb3NlKCkpOjQwIT09YS53aGljaHx8aC5pc09wZW58fChoLmlzT3Blbj0hMCl9LGguJHdhdGNoKCJpc09wZW4iLGZ1bmN0aW9uKGEpe2E/KGguJGJyb2FkY2FzdCgiZGF0ZXBpY2tlci5mb2N1cyIpLGgucG9zaXRpb249cD9kLm9mZnNldChpKTpkLnBvc2l0aW9uKGkpLGgucG9zaXRpb24udG9wPWgucG9zaXRpb24udG9wK2kucHJvcCgib2Zmc2V0SGVpZ2h0IiksYy5iaW5kKCJjbGljayIscykpOmMudW5iaW5kKCJjbGljayIscyl9KSxoLnNlbGVjdD1mdW5jdGlvbihhKXtpZigidG9kYXkiPT09YSl7dmFyIGI9bmV3IERhdGU7YW5ndWxhci5pc0RhdGUoay4kbW9kZWxWYWx1ZSk/KGE9bmV3IERhdGUoay4kbW9kZWxWYWx1ZSksYS5zZXRGdWxsWWVhcihiLmdldEZ1bGxZZWFyKCksYi5nZXRNb250aCgpLGIuZ2V0RGF0ZSgpKSk6YT1uZXcgRGF0ZShiLnNldEhvdXJzKDAsMCwwLDApKX1oLmRhdGVTZWxlY3Rpb24oYSl9LGguY2xvc2U9ZnVuY3Rpb24oKXtoLmlzT3Blbj0hMSxpWzBdLmZvY3VzKCl9O3ZhciB1PWEocSkoaCk7cD9jLmZpbmQoImJvZHkiKS5hcHBlbmQodSk6aS5hZnRlcih1KSxoLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7dS5yZW1vdmUoKSxpLnVuYmluZCgia2V5ZG93biIsdCksYy51bmJpbmQoImNsaWNrIixzKX0pfX19XSkuZGlyZWN0aXZlKCJkYXRlcGlja2VyUG9wdXBXcmFwIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdHJhbnNjbHVkZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sIixsaW5rOmZ1bmN0aW9uKGEsYil7Yi5iaW5kKCJjbGljayIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCl9KX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5kcm9wZG93biIsW10pLmNvbnN0YW50KCJkcm9wZG93bkNvbmZpZyIse29wZW5DbGFzczoib3BlbiJ9KS5zZXJ2aWNlKCJkcm9wZG93blNlcnZpY2UiLFsiJGRvY3VtZW50IixmdW5jdGlvbihhKXt2YXIgYj1udWxsO3RoaXMub3Blbj1mdW5jdGlvbihlKXtifHwoYS5iaW5kKCJjbGljayIsYyksYS5iaW5kKCJrZXlkb3duIixkKSksYiYmYiE9PWUmJihiLmlzT3Blbj0hMSksYj1lfSx0aGlzLmNsb3NlPWZ1bmN0aW9uKGUpe2I9PT1lJiYoYj1udWxsLGEudW5iaW5kKCJjbGljayIsYyksYS51bmJpbmQoImtleWRvd24iLGQpKX07dmFyIGM9ZnVuY3Rpb24oYSl7YSYmYS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8Yi4kYXBwbHkoZnVuY3Rpb24oKXtiLmlzT3Blbj0hMX0pfSxkPWZ1bmN0aW9uKGEpezI3PT09YS53aGljaCYmKGIuZm9jdXNUb2dnbGVFbGVtZW50KCksYygpKX19XSkuY29udHJvbGxlcigiRHJvcGRvd25Db250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsIiRwYXJzZSIsImRyb3Bkb3duQ29uZmlnIiwiZHJvcGRvd25TZXJ2aWNlIiwiJGFuaW1hdGUiLGZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZyxoPXRoaXMsaT1hLiRuZXcoKSxqPWQub3BlbkNsYXNzLGs9YW5ndWxhci5ub29wLGw9Yi5vblRvZ2dsZT9jKGIub25Ub2dnbGUpOmFuZ3VsYXIubm9vcDt0aGlzLmluaXQ9ZnVuY3Rpb24oZCl7aC4kZWxlbWVudD1kLGIuaXNPcGVuJiYoZz1jKGIuaXNPcGVuKSxrPWcuYXNzaWduLGEuJHdhdGNoKGcsZnVuY3Rpb24oYSl7aS5pc09wZW49ISFhfSkpfSx0aGlzLnRvZ2dsZT1mdW5jdGlvbihhKXtyZXR1cm4gaS5pc09wZW49YXJndW1lbnRzLmxlbmd0aD8hIWE6IWkuaXNPcGVufSx0aGlzLmlzT3Blbj1mdW5jdGlvbigpe3JldHVybiBpLmlzT3Blbn0saS5mb2N1c1RvZ2dsZUVsZW1lbnQ9ZnVuY3Rpb24oKXtoLnRvZ2dsZUVsZW1lbnQmJmgudG9nZ2xlRWxlbWVudFswXS5mb2N1cygpfSxpLiR3YXRjaCgiaXNPcGVuIixmdW5jdGlvbihiLGMpe2ZbYj8iYWRkQ2xhc3MiOiJyZW1vdmVDbGFzcyJdKGguJGVsZW1lbnQsaiksYj8oaS5mb2N1c1RvZ2dsZUVsZW1lbnQoKSxlLm9wZW4oaSkpOmUuY2xvc2UoaSksayhhLGIpLGFuZ3VsYXIuaXNEZWZpbmVkKGIpJiZiIT09YyYmbChhLHtvcGVuOiEhYn0pfSksYS4kb24oIiRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MiLGZ1bmN0aW9uKCl7aS5pc09wZW49ITF9KSxhLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7aS4kZGVzdHJveSgpfSl9XSkuZGlyZWN0aXZlKCJkcm9wZG93biIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkNBIixjb250cm9sbGVyOiJEcm9wZG93bkNvbnRyb2xsZXIiLGxpbms6ZnVuY3Rpb24oYSxiLGMsZCl7ZC5pbml0KGIpfX19KS5kaXJlY3RpdmUoImRyb3Bkb3duVG9nZ2xlIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiQ0EiLHJlcXVpcmU6Ij9eZHJvcGRvd24iLGxpbms6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoZCl7ZC50b2dnbGVFbGVtZW50PWI7dmFyIGU9ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGIuaGFzQ2xhc3MoImRpc2FibGVkIil8fGMuZGlzYWJsZWR8fGEuJGFwcGx5KGZ1bmN0aW9uKCl7ZC50b2dnbGUoKX0pfTtiLmJpbmQoImNsaWNrIixlKSxiLmF0dHIoeyJhcmlhLWhhc3BvcHVwIjohMCwiYXJpYS1leHBhbmRlZCI6ITF9KSxhLiR3YXRjaChkLmlzT3BlbixmdW5jdGlvbihhKXtiLmF0dHIoImFyaWEtZXhwYW5kZWQiLCEhYSl9KSxhLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7Yi51bmJpbmQoImNsaWNrIixlKX0pfX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5tb2RhbCIsWyJ1aS5ib290c3RyYXAudHJhbnNpdGlvbiJdKS5mYWN0b3J5KCIkJHN0YWNrZWRNYXAiLGZ1bmN0aW9uKCl7cmV0dXJue2NyZWF0ZU5ldzpmdW5jdGlvbigpe3ZhciBhPVtdO3JldHVybnthZGQ6ZnVuY3Rpb24oYixjKXthLnB1c2goe2tleTpiLHZhbHVlOmN9KX0sZ2V0OmZ1bmN0aW9uKGIpe2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKWlmKGI9PWFbY10ua2V5KXJldHVybiBhW2NdfSxrZXlzOmZ1bmN0aW9uKCl7Zm9yKHZhciBiPVtdLGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5rZXkpO3JldHVybiBifSx0b3A6ZnVuY3Rpb24oKXtyZXR1cm4gYVthLmxlbmd0aC0xXX0scmVtb3ZlOmZ1bmN0aW9uKGIpe2Zvcih2YXIgYz0tMSxkPTA7ZDxhLmxlbmd0aDtkKyspaWYoYj09YVtkXS5rZXkpe2M9ZDticmVha31yZXR1cm4gYS5zcGxpY2UoYywxKVswXX0scmVtb3ZlVG9wOmZ1bmN0aW9uKCl7cmV0dXJuIGEuc3BsaWNlKGEubGVuZ3RoLTEsMSlbMF19LGxlbmd0aDpmdW5jdGlvbigpe3JldHVybiBhLmxlbmd0aH19fX19KS5kaXJlY3RpdmUoIm1vZGFsQmFja2Ryb3AiLFsiJHRpbWVvdXQiLGZ1bmN0aW9uKGEpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWwiLGxpbms6ZnVuY3Rpb24oYil7Yi5hbmltYXRlPSExLGEoZnVuY3Rpb24oKXtiLmFuaW1hdGU9ITB9KX19fV0pLmRpcmVjdGl2ZSgibW9kYWxXaW5kb3ciLFsiJG1vZGFsU3RhY2siLCIkdGltZW91dCIsZnVuY3Rpb24oYSxiKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixzY29wZTp7aW5kZXg6IkAiLGFuaW1hdGU6Ij0ifSxyZXBsYWNlOiEwLHRyYW5zY2x1ZGU6ITAsdGVtcGxhdGVVcmw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50ZW1wbGF0ZVVybHx8InRlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sIn0sbGluazpmdW5jdGlvbihjLGQsZSl7ZC5hZGRDbGFzcyhlLndpbmRvd0NsYXNzfHwiIiksYy5zaXplPWUuc2l6ZSxiKGZ1bmN0aW9uKCl7Yy5hbmltYXRlPSEwLGRbMF0uZm9jdXMoKX0pLGMuY2xvc2U9ZnVuY3Rpb24oYil7dmFyIGM9YS5nZXRUb3AoKTtjJiZjLnZhbHVlLmJhY2tkcm9wJiYic3RhdGljIiE9Yy52YWx1ZS5iYWNrZHJvcCYmYi50YXJnZXQ9PT1iLmN1cnJlbnRUYXJnZXQmJihiLnByZXZlbnREZWZhdWx0KCksYi5zdG9wUHJvcGFnYXRpb24oKSxhLmRpc21pc3MoYy5rZXksImJhY2tkcm9wIGNsaWNrIikpfX19fV0pLmZhY3RvcnkoIiRtb2RhbFN0YWNrIixbIiR0cmFuc2l0aW9uIiwiJHRpbWVvdXQiLCIkZG9jdW1lbnQiLCIkY29tcGlsZSIsIiRyb290U2NvcGUiLCIkJHN0YWNrZWRNYXAiLGZ1bmN0aW9uKGEsYixjLGQsZSxmKXtmdW5jdGlvbiBnKCl7Zm9yKHZhciBhPS0xLGI9bi5rZXlzKCksYz0wO2M8Yi5sZW5ndGg7YysrKW4uZ2V0KGJbY10pLnZhbHVlLmJhY2tkcm9wJiYoYT1jKTtyZXR1cm4gYX1mdW5jdGlvbiBoKGEpe3ZhciBiPWMuZmluZCgiYm9keSIpLmVxKDApLGQ9bi5nZXQoYSkudmFsdWU7bi5yZW1vdmUoYSksaihkLm1vZGFsRG9tRWwsZC5tb2RhbFNjb3BlLDMwMCxmdW5jdGlvbigpe2QubW9kYWxTY29wZS4kZGVzdHJveSgpLGIudG9nZ2xlQ2xhc3MobSxuLmxlbmd0aCgpPjApLGkoKX0pfWZ1bmN0aW9uIGkoKXtpZihrJiYtMT09ZygpKXt2YXIgYT1sO2ooayxsLDE1MCxmdW5jdGlvbigpe2EuJGRlc3Ryb3koKSxhPW51bGx9KSxrPXZvaWQgMCxsPXZvaWQgMH19ZnVuY3Rpb24gaihjLGQsZSxmKXtmdW5jdGlvbiBnKCl7Zy5kb25lfHwoZy5kb25lPSEwLGMucmVtb3ZlKCksZiYmZigpKX1kLmFuaW1hdGU9ITE7dmFyIGg9YS50cmFuc2l0aW9uRW5kRXZlbnROYW1lO2lmKGgpe3ZhciBpPWIoZyxlKTtjLmJpbmQoaCxmdW5jdGlvbigpe2IuY2FuY2VsKGkpLGcoKSxkLiRhcHBseSgpfSl9ZWxzZSBiKGcsMCl9dmFyIGssbCxtPSJtb2RhbC1vcGVuIixuPWYuY3JlYXRlTmV3KCksbz17fTtyZXR1cm4gZS4kd2F0Y2goZyxmdW5jdGlvbihhKXtsJiYobC5pbmRleD1hKX0pLGMuYmluZCgia2V5ZG93biIsZnVuY3Rpb24oYSl7dmFyIGI7Mjc9PT1hLndoaWNoJiYoYj1uLnRvcCgpLGImJmIudmFsdWUua2V5Ym9hcmQmJihhLnByZXZlbnREZWZhdWx0KCksZS4kYXBwbHkoZnVuY3Rpb24oKXtvLmRpc21pc3MoYi5rZXksImVzY2FwZSBrZXkgcHJlc3MiKX0pKSl9KSxvLm9wZW49ZnVuY3Rpb24oYSxiKXtuLmFkZChhLHtkZWZlcnJlZDpiLmRlZmVycmVkLG1vZGFsU2NvcGU6Yi5zY29wZSxiYWNrZHJvcDpiLmJhY2tkcm9wLGtleWJvYXJkOmIua2V5Ym9hcmR9KTt2YXIgZj1jLmZpbmQoImJvZHkiKS5lcSgwKSxoPWcoKTtoPj0wJiYhayYmKGw9ZS4kbmV3KCEwKSxsLmluZGV4PWgsaz1kKCI8ZGl2IG1vZGFsLWJhY2tkcm9wPjwvZGl2PiIpKGwpLGYuYXBwZW5kKGspKTt2YXIgaT1hbmd1bGFyLmVsZW1lbnQoIjxkaXYgbW9kYWwtd2luZG93PjwvZGl2PiIpO2kuYXR0cih7InRlbXBsYXRlLXVybCI6Yi53aW5kb3dUZW1wbGF0ZVVybCwid2luZG93LWNsYXNzIjpiLndpbmRvd0NsYXNzLHNpemU6Yi5zaXplLGluZGV4Om4ubGVuZ3RoKCktMSxhbmltYXRlOiJhbmltYXRlIn0pLmh0bWwoYi5jb250ZW50KTt2YXIgaj1kKGkpKGIuc2NvcGUpO24udG9wKCkudmFsdWUubW9kYWxEb21FbD1qLGYuYXBwZW5kKGopLGYuYWRkQ2xhc3MobSl9LG8uY2xvc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1uLmdldChhKS52YWx1ZTtjJiYoYy5kZWZlcnJlZC5yZXNvbHZlKGIpLGgoYSkpfSxvLmRpc21pc3M9ZnVuY3Rpb24oYSxiKXt2YXIgYz1uLmdldChhKS52YWx1ZTtjJiYoYy5kZWZlcnJlZC5yZWplY3QoYiksaChhKSl9LG8uZGlzbWlzc0FsbD1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5nZXRUb3AoKTtiOyl0aGlzLmRpc21pc3MoYi5rZXksYSksYj10aGlzLmdldFRvcCgpfSxvLmdldFRvcD1mdW5jdGlvbigpe3JldHVybiBuLnRvcCgpfSxvfV0pLnByb3ZpZGVyKCIkbW9kYWwiLGZ1bmN0aW9uKCl7dmFyIGE9e29wdGlvbnM6e2JhY2tkcm9wOiEwLGtleWJvYXJkOiEwfSwkZ2V0OlsiJGluamVjdG9yIiwiJHJvb3RTY29wZSIsIiRxIiwiJGh0dHAiLCIkdGVtcGxhdGVDYWNoZSIsIiRjb250cm9sbGVyIiwiJG1vZGFsU3RhY2siLGZ1bmN0aW9uKGIsYyxkLGUsZixnLGgpe2Z1bmN0aW9uIGkoYSl7cmV0dXJuIGEudGVtcGxhdGU/ZC53aGVuKGEudGVtcGxhdGUpOmUuZ2V0KGEudGVtcGxhdGVVcmwse2NhY2hlOmZ9KS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmRhdGF9KX1mdW5jdGlvbiBqKGEpe3ZhciBjPVtdO3JldHVybiBhbmd1bGFyLmZvckVhY2goYSxmdW5jdGlvbihhKXsoYW5ndWxhci5pc0Z1bmN0aW9uKGEpfHxhbmd1bGFyLmlzQXJyYXkoYSkpJiZjLnB1c2goZC53aGVuKGIuaW52b2tlKGEpKSl9KSxjfXZhciBrPXt9O3JldHVybiBrLm9wZW49ZnVuY3Rpb24oYil7dmFyIGU9ZC5kZWZlcigpLGY9ZC5kZWZlcigpLGs9e3Jlc3VsdDplLnByb21pc2Usb3BlbmVkOmYucHJvbWlzZSxjbG9zZTpmdW5jdGlvbihhKXtoLmNsb3NlKGssYSl9LGRpc21pc3M6ZnVuY3Rpb24oYSl7aC5kaXNtaXNzKGssYSl9fTtpZihiPWFuZ3VsYXIuZXh0ZW5kKHt9LGEub3B0aW9ucyxiKSxiLnJlc29sdmU9Yi5yZXNvbHZlfHx7fSwhYi50ZW1wbGF0ZSYmIWIudGVtcGxhdGVVcmwpdGhyb3cgbmV3IEVycm9yKCJPbmUgb2YgdGVtcGxhdGUgb3IgdGVtcGxhdGVVcmwgb3B0aW9ucyBpcyByZXF1aXJlZC4iKTt2YXIgbD1kLmFsbChbaShiKV0uY29uY2F0KGooYi5yZXNvbHZlKSkpO3JldHVybiBsLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGQ9KGIuc2NvcGV8fGMpLiRuZXcoKTtkLiRjbG9zZT1rLmNsb3NlLGQuJGRpc21pc3M9ay5kaXNtaXNzO3ZhciBmLGk9e30saj0xO2IuY29udHJvbGxlciYmKGkuJHNjb3BlPWQsaS4kbW9kYWxJbnN0YW5jZT1rLGFuZ3VsYXIuZm9yRWFjaChiLnJlc29sdmUsZnVuY3Rpb24oYixjKXtpW2NdPWFbaisrXX0pLGY9ZyhiLmNvbnRyb2xsZXIsaSkpLGgub3BlbihrLHtzY29wZTpkLGRlZmVycmVkOmUsY29udGVudDphWzBdLGJhY2tkcm9wOmIuYmFja2Ryb3Asa2V5Ym9hcmQ6Yi5rZXlib2FyZCx3aW5kb3dDbGFzczpiLndpbmRvd0NsYXNzLHdpbmRvd1RlbXBsYXRlVXJsOmIud2luZG93VGVtcGxhdGVVcmwsc2l6ZTpiLnNpemV9KX0sZnVuY3Rpb24oYSl7ZS5yZWplY3QoYSl9KSxsLnRoZW4oZnVuY3Rpb24oKXtmLnJlc29sdmUoITApfSxmdW5jdGlvbigpe2YucmVqZWN0KCExKX0pLGt9LGt9XX07cmV0dXJuIGF9KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnBhZ2luYXRpb24iLFtdKS5jb250cm9sbGVyKCJQYWdpbmF0aW9uQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCIkcGFyc2UiLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGU9eyRzZXRWaWV3VmFsdWU6YW5ndWxhci5ub29wfSxmPWIubnVtUGFnZXM/YyhiLm51bVBhZ2VzKS5hc3NpZ246YW5ndWxhci5ub29wO3RoaXMuaW5pdD1mdW5jdGlvbihmLGcpe2U9Zix0aGlzLmNvbmZpZz1nLGUuJHJlbmRlcj1mdW5jdGlvbigpe2QucmVuZGVyKCl9LGIuaXRlbXNQZXJQYWdlP2EuJHBhcmVudC4kd2F0Y2goYyhiLml0ZW1zUGVyUGFnZSksZnVuY3Rpb24oYil7ZC5pdGVtc1BlclBhZ2U9cGFyc2VJbnQoYiwxMCksYS50b3RhbFBhZ2VzPWQuY2FsY3VsYXRlVG90YWxQYWdlcygpfSk6dGhpcy5pdGVtc1BlclBhZ2U9Zy5pdGVtc1BlclBhZ2V9LHRoaXMuY2FsY3VsYXRlVG90YWxQYWdlcz1mdW5jdGlvbigpe3ZhciBiPXRoaXMuaXRlbXNQZXJQYWdlPDE/MTpNYXRoLmNlaWwoYS50b3RhbEl0ZW1zL3RoaXMuaXRlbXNQZXJQYWdlKTtyZXR1cm4gTWF0aC5tYXgoYnx8MCwxKX0sdGhpcy5yZW5kZXI9ZnVuY3Rpb24oKXthLnBhZ2U9cGFyc2VJbnQoZS4kdmlld1ZhbHVlLDEwKXx8MX0sYS5zZWxlY3RQYWdlPWZ1bmN0aW9uKGIpe2EucGFnZSE9PWImJmI+MCYmYjw9YS50b3RhbFBhZ2VzJiYoZS4kc2V0Vmlld1ZhbHVlKGIpLGUuJHJlbmRlcigpKX0sYS5nZXRUZXh0PWZ1bmN0aW9uKGIpe3JldHVybiBhW2IrIlRleHQiXXx8ZC5jb25maWdbYisiVGV4dCJdfSxhLm5vUHJldmlvdXM9ZnVuY3Rpb24oKXtyZXR1cm4gMT09PWEucGFnZX0sYS5ub05leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gYS5wYWdlPT09YS50b3RhbFBhZ2VzfSxhLiR3YXRjaCgidG90YWxJdGVtcyIsZnVuY3Rpb24oKXthLnRvdGFsUGFnZXM9ZC5jYWxjdWxhdGVUb3RhbFBhZ2VzKCl9KSxhLiR3YXRjaCgidG90YWxQYWdlcyIsZnVuY3Rpb24oYil7ZihhLiRwYXJlbnQsYiksYS5wYWdlPmI/YS5zZWxlY3RQYWdlKGIpOmUuJHJlbmRlcigpfSl9XSkuY29uc3RhbnQoInBhZ2luYXRpb25Db25maWciLHtpdGVtc1BlclBhZ2U6MTAsYm91bmRhcnlMaW5rczohMSxkaXJlY3Rpb25MaW5rczohMCxmaXJzdFRleHQ6IkZpcnN0IixwcmV2aW91c1RleHQ6IlByZXZpb3VzIixuZXh0VGV4dDoiTmV4dCIsbGFzdFRleHQ6Ikxhc3QiLHJvdGF0ZTohMH0pLmRpcmVjdGl2ZSgicGFnaW5hdGlvbiIsWyIkcGFyc2UiLCJwYWdpbmF0aW9uQ29uZmlnIixmdW5jdGlvbihhLGIpe3JldHVybntyZXN0cmljdDoiRUEiLHNjb3BlOnt0b3RhbEl0ZW1zOiI9IixmaXJzdFRleHQ6IkAiLHByZXZpb3VzVGV4dDoiQCIsbmV4dFRleHQ6IkAiLGxhc3RUZXh0OiJAIn0scmVxdWlyZTpbInBhZ2luYXRpb24iLCI/bmdNb2RlbCJdLGNvbnRyb2xsZXI6IlBhZ2luYXRpb25Db250cm9sbGVyIix0ZW1wbGF0ZVVybDoidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmh0bWwiLHJlcGxhY2U6ITAsbGluazpmdW5jdGlvbihjLGQsZSxmKXtmdW5jdGlvbiBnKGEsYixjKXtyZXR1cm57bnVtYmVyOmEsdGV4dDpiLGFjdGl2ZTpjfX1mdW5jdGlvbiBoKGEsYil7dmFyIGM9W10sZD0xLGU9YixmPWFuZ3VsYXIuaXNEZWZpbmVkKGspJiZiPms7ZiYmKGw/KGQ9TWF0aC5tYXgoYS1NYXRoLmZsb29yKGsvMiksMSksZT1kK2stMSxlPmImJihlPWIsZD1lLWsrMSkpOihkPShNYXRoLmNlaWwoYS9rKS0xKSprKzEsZT1NYXRoLm1pbihkK2stMSxiKSkpO2Zvcih2YXIgaD1kO2U+PWg7aCsrKXt2YXIgaT1nKGgsaCxoPT09YSk7Yy5wdXNoKGkpfWlmKGYmJiFsKXtpZihkPjEpe3ZhciBqPWcoZC0xLCIuLi4iLCExKTtjLnVuc2hpZnQoail9aWYoYj5lKXt2YXIgbT1nKGUrMSwiLi4uIiwhMSk7Yy5wdXNoKG0pfX1yZXR1cm4gY312YXIgaT1mWzBdLGo9ZlsxXTtpZihqKXt2YXIgaz1hbmd1bGFyLmlzRGVmaW5lZChlLm1heFNpemUpP2MuJHBhcmVudC4kZXZhbChlLm1heFNpemUpOmIubWF4U2l6ZSxsPWFuZ3VsYXIuaXNEZWZpbmVkKGUucm90YXRlKT9jLiRwYXJlbnQuJGV2YWwoZS5yb3RhdGUpOmIucm90YXRlO2MuYm91bmRhcnlMaW5rcz1hbmd1bGFyLmlzRGVmaW5lZChlLmJvdW5kYXJ5TGlua3MpP2MuJHBhcmVudC4kZXZhbChlLmJvdW5kYXJ5TGlua3MpOmIuYm91bmRhcnlMaW5rcyxjLmRpcmVjdGlvbkxpbmtzPWFuZ3VsYXIuaXNEZWZpbmVkKGUuZGlyZWN0aW9uTGlua3MpP2MuJHBhcmVudC4kZXZhbChlLmRpcmVjdGlvbkxpbmtzKTpiLmRpcmVjdGlvbkxpbmtzLGkuaW5pdChqLGIpLGUubWF4U2l6ZSYmYy4kcGFyZW50LiR3YXRjaChhKGUubWF4U2l6ZSksZnVuY3Rpb24oYSl7az1wYXJzZUludChhLDEwKSxpLnJlbmRlcigpfSk7dmFyIG09aS5yZW5kZXI7aS5yZW5kZXI9ZnVuY3Rpb24oKXttKCksYy5wYWdlPjAmJmMucGFnZTw9Yy50b3RhbFBhZ2VzJiYoYy5wYWdlcz1oKGMucGFnZSxjLnRvdGFsUGFnZXMpKX19fX19XSkuY29uc3RhbnQoInBhZ2VyQ29uZmlnIix7aXRlbXNQZXJQYWdlOjEwLHByZXZpb3VzVGV4dDoiwqsgUHJldmlvdXMiLG5leHRUZXh0OiJOZXh0IMK7IixhbGlnbjohMH0pLmRpcmVjdGl2ZSgicGFnZXIiLFsicGFnZXJDb25maWciLGZ1bmN0aW9uKGEpe3JldHVybntyZXN0cmljdDoiRUEiLHNjb3BlOnt0b3RhbEl0ZW1zOiI9IixwcmV2aW91c1RleHQ6IkAiLG5leHRUZXh0OiJAIn0scmVxdWlyZTpbInBhZ2VyIiwiP25nTW9kZWwiXSxjb250cm9sbGVyOiJQYWdpbmF0aW9uQ29udHJvbGxlciIsdGVtcGxhdGVVcmw6InRlbXBsYXRlL3BhZ2luYXRpb24vcGFnZXIuaHRtbCIscmVwbGFjZTohMCxsaW5rOmZ1bmN0aW9uKGIsYyxkLGUpe3ZhciBmPWVbMF0sZz1lWzFdO2cmJihiLmFsaWduPWFuZ3VsYXIuaXNEZWZpbmVkKGQuYWxpZ24pP2IuJHBhcmVudC4kZXZhbChkLmFsaWduKTphLmFsaWduLGYuaW5pdChnLGEpKX19fV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAudG9vbHRpcCIsWyJ1aS5ib290c3RyYXAucG9zaXRpb24iLCJ1aS5ib290c3RyYXAuYmluZEh0bWwiXSkucHJvdmlkZXIoIiR0b29sdGlwIixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dmFyIGI9L1tBLVpdL2csYz0iLSI7CnJldHVybiBhLnJlcGxhY2UoYixmdW5jdGlvbihhLGIpe3JldHVybihiP2M6IiIpK2EudG9Mb3dlckNhc2UoKX0pfXZhciBiPXtwbGFjZW1lbnQ6InRvcCIsYW5pbWF0aW9uOiEwLHBvcHVwRGVsYXk6MH0sYz17bW91c2VlbnRlcjoibW91c2VsZWF2ZSIsY2xpY2s6ImNsaWNrIixmb2N1czoiYmx1ciJ9LGQ9e307dGhpcy5vcHRpb25zPWZ1bmN0aW9uKGEpe2FuZ3VsYXIuZXh0ZW5kKGQsYSl9LHRoaXMuc2V0VHJpZ2dlcnM9ZnVuY3Rpb24oYSl7YW5ndWxhci5leHRlbmQoYyxhKX0sdGhpcy4kZ2V0PVsiJHdpbmRvdyIsIiRjb21waWxlIiwiJHRpbWVvdXQiLCIkcGFyc2UiLCIkZG9jdW1lbnQiLCIkcG9zaXRpb24iLCIkaW50ZXJwb2xhdGUiLGZ1bmN0aW9uKGUsZixnLGgsaSxqLGspe3JldHVybiBmdW5jdGlvbihlLGwsbSl7ZnVuY3Rpb24gbihhKXt2YXIgYj1hfHxvLnRyaWdnZXJ8fG0sZD1jW2JdfHxiO3JldHVybntzaG93OmIsaGlkZTpkfX12YXIgbz1hbmd1bGFyLmV4dGVuZCh7fSxiLGQpLHA9YShlKSxxPWsuc3RhcnRTeW1ib2woKSxyPWsuZW5kU3ltYm9sKCkscz0iPGRpdiAiK3ArJy1wb3B1cCB0aXRsZT0iJytxKyJ0dF90aXRsZSIrcisnIiBjb250ZW50PSInK3ErInR0X2NvbnRlbnQiK3IrJyIgcGxhY2VtZW50PSInK3ErInR0X3BsYWNlbWVudCIrcisnIiBhbmltYXRpb249InR0X2FuaW1hdGlvbiIgaXMtb3Blbj0idHRfaXNPcGVuIj48L2Rpdj4nO3JldHVybntyZXN0cmljdDoiRUEiLHNjb3BlOiEwLGNvbXBpbGU6ZnVuY3Rpb24oKXt2YXIgYT1mKHMpO3JldHVybiBmdW5jdGlvbihiLGMsZCl7ZnVuY3Rpb24gZigpe2IudHRfaXNPcGVuP20oKTprKCl9ZnVuY3Rpb24gaygpeygheXx8Yi4kZXZhbChkW2wrIkVuYWJsZSJdKSkmJihiLnR0X3BvcHVwRGVsYXk/dnx8KHY9ZyhwLGIudHRfcG9wdXBEZWxheSwhMSksdi50aGVuKGZ1bmN0aW9uKGEpe2EoKX0pKTpwKCkoKSl9ZnVuY3Rpb24gbSgpe2IuJGFwcGx5KGZ1bmN0aW9uKCl7cSgpfSl9ZnVuY3Rpb24gcCgpe3JldHVybiB2PW51bGwsdSYmKGcuY2FuY2VsKHUpLHU9bnVsbCksYi50dF9jb250ZW50PyhyKCksdC5jc3Moe3RvcDowLGxlZnQ6MCxkaXNwbGF5OiJibG9jayJ9KSx3P2kuZmluZCgiYm9keSIpLmFwcGVuZCh0KTpjLmFmdGVyKHQpLHooKSxiLnR0X2lzT3Blbj0hMCxiLiRkaWdlc3QoKSx6KTphbmd1bGFyLm5vb3B9ZnVuY3Rpb24gcSgpe2IudHRfaXNPcGVuPSExLGcuY2FuY2VsKHYpLHY9bnVsbCxiLnR0X2FuaW1hdGlvbj91fHwodT1nKHMsNTAwKSk6cygpfWZ1bmN0aW9uIHIoKXt0JiZzKCksdD1hKGIsZnVuY3Rpb24oKXt9KSxiLiRkaWdlc3QoKX1mdW5jdGlvbiBzKCl7dT1udWxsLHQmJih0LnJlbW92ZSgpLHQ9bnVsbCl9dmFyIHQsdSx2LHc9YW5ndWxhci5pc0RlZmluZWQoby5hcHBlbmRUb0JvZHkpP28uYXBwZW5kVG9Cb2R5OiExLHg9bih2b2lkIDApLHk9YW5ndWxhci5pc0RlZmluZWQoZFtsKyJFbmFibGUiXSksej1mdW5jdGlvbigpe3ZhciBhPWoucG9zaXRpb25FbGVtZW50cyhjLHQsYi50dF9wbGFjZW1lbnQsdyk7YS50b3ArPSJweCIsYS5sZWZ0Kz0icHgiLHQuY3NzKGEpfTtiLnR0X2lzT3Blbj0hMSxkLiRvYnNlcnZlKGUsZnVuY3Rpb24oYSl7Yi50dF9jb250ZW50PWEsIWEmJmIudHRfaXNPcGVuJiZxKCl9KSxkLiRvYnNlcnZlKGwrIlRpdGxlIixmdW5jdGlvbihhKXtiLnR0X3RpdGxlPWF9KSxkLiRvYnNlcnZlKGwrIlBsYWNlbWVudCIsZnVuY3Rpb24oYSl7Yi50dF9wbGFjZW1lbnQ9YW5ndWxhci5pc0RlZmluZWQoYSk/YTpvLnBsYWNlbWVudH0pLGQuJG9ic2VydmUobCsiUG9wdXBEZWxheSIsZnVuY3Rpb24oYSl7dmFyIGM9cGFyc2VJbnQoYSwxMCk7Yi50dF9wb3B1cERlbGF5PWlzTmFOKGMpP28ucG9wdXBEZWxheTpjfSk7dmFyIEE9ZnVuY3Rpb24oKXtjLnVuYmluZCh4LnNob3csayksYy51bmJpbmQoeC5oaWRlLG0pfTtkLiRvYnNlcnZlKGwrIlRyaWdnZXIiLGZ1bmN0aW9uKGEpe0EoKSx4PW4oYSkseC5zaG93PT09eC5oaWRlP2MuYmluZCh4LnNob3csZik6KGMuYmluZCh4LnNob3csayksYy5iaW5kKHguaGlkZSxtKSl9KTt2YXIgQj1iLiRldmFsKGRbbCsiQW5pbWF0aW9uIl0pO2IudHRfYW5pbWF0aW9uPWFuZ3VsYXIuaXNEZWZpbmVkKEIpPyEhQjpvLmFuaW1hdGlvbixkLiRvYnNlcnZlKGwrIkFwcGVuZFRvQm9keSIsZnVuY3Rpb24oYSl7dz1hbmd1bGFyLmlzRGVmaW5lZChhKT9oKGEpKGIpOnd9KSx3JiZiLiRvbigiJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcyIsZnVuY3Rpb24oKXtiLnR0X2lzT3BlbiYmcSgpfSksYi4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe2cuY2FuY2VsKHUpLGcuY2FuY2VsKHYpLEEoKSxzKCl9KX19fX19XX0pLmRpcmVjdGl2ZSgidG9vbHRpcFBvcHVwIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsc2NvcGU6e2NvbnRlbnQ6IkAiLHBsYWNlbWVudDoiQCIsYW5pbWF0aW9uOiImIixpc09wZW46IiYifSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXBvcHVwLmh0bWwifX0pLmRpcmVjdGl2ZSgidG9vbHRpcCIsWyIkdG9vbHRpcCIsZnVuY3Rpb24oYSl7cmV0dXJuIGEoInRvb2x0aXAiLCJ0b29sdGlwIiwibW91c2VlbnRlciIpfV0pLmRpcmVjdGl2ZSgidG9vbHRpcEh0bWxVbnNhZmVQb3B1cCIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHNjb3BlOntjb250ZW50OiJAIixwbGFjZW1lbnQ6IkAiLGFuaW1hdGlvbjoiJiIsaXNPcGVuOiImIn0sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sIn19KS5kaXJlY3RpdmUoInRvb2x0aXBIdG1sVW5zYWZlIixbIiR0b29sdGlwIixmdW5jdGlvbihhKXtyZXR1cm4gYSgidG9vbHRpcEh0bWxVbnNhZmUiLCJ0b29sdGlwIiwibW91c2VlbnRlciIpfV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAucG9wb3ZlciIsWyJ1aS5ib290c3RyYXAudG9vbHRpcCJdKS5kaXJlY3RpdmUoInBvcG92ZXJQb3B1cCIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHNjb3BlOnt0aXRsZToiQCIsY29udGVudDoiQCIscGxhY2VtZW50OiJAIixhbmltYXRpb246IiYiLGlzT3BlbjoiJiJ9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbCJ9fSkuZGlyZWN0aXZlKCJwb3BvdmVyIixbIiR0b29sdGlwIixmdW5jdGlvbihhKXtyZXR1cm4gYSgicG9wb3ZlciIsInBvcG92ZXIiLCJjbGljayIpfV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAucHJvZ3Jlc3NiYXIiLFtdKS5jb25zdGFudCgicHJvZ3Jlc3NDb25maWciLHthbmltYXRlOiEwLG1heDoxMDB9KS5jb250cm9sbGVyKCJQcm9ncmVzc0NvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGF0dHJzIiwicHJvZ3Jlc3NDb25maWciLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGU9YW5ndWxhci5pc0RlZmluZWQoYi5hbmltYXRlKT9hLiRwYXJlbnQuJGV2YWwoYi5hbmltYXRlKTpjLmFuaW1hdGU7dGhpcy5iYXJzPVtdLGEubWF4PWFuZ3VsYXIuaXNEZWZpbmVkKGIubWF4KT9hLiRwYXJlbnQuJGV2YWwoYi5tYXgpOmMubWF4LHRoaXMuYWRkQmFyPWZ1bmN0aW9uKGIsYyl7ZXx8Yy5jc3Moe3RyYW5zaXRpb246Im5vbmUifSksdGhpcy5iYXJzLnB1c2goYiksYi4kd2F0Y2goInZhbHVlIixmdW5jdGlvbihjKXtiLnBlcmNlbnQ9KygxMDAqYy9hLm1heCkudG9GaXhlZCgyKX0pLGIuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtjPW51bGwsZC5yZW1vdmVCYXIoYil9KX0sdGhpcy5yZW1vdmVCYXI9ZnVuY3Rpb24oYSl7dGhpcy5iYXJzLnNwbGljZSh0aGlzLmJhcnMuaW5kZXhPZihhKSwxKX19XSkuZGlyZWN0aXZlKCJwcm9ncmVzcyIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHRyYW5zY2x1ZGU6ITAsY29udHJvbGxlcjoiUHJvZ3Jlc3NDb250cm9sbGVyIixyZXF1aXJlOiJwcm9ncmVzcyIsc2NvcGU6e30sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWwifX0pLmRpcmVjdGl2ZSgiYmFyIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdHJhbnNjbHVkZTohMCxyZXF1aXJlOiJecHJvZ3Jlc3MiLHNjb3BlOnt2YWx1ZToiPSIsdHlwZToiQCJ9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbCIsbGluazpmdW5jdGlvbihhLGIsYyxkKXtkLmFkZEJhcihhLGIpfX19KS5kaXJlY3RpdmUoInByb2dyZXNzYmFyIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdHJhbnNjbHVkZTohMCxjb250cm9sbGVyOiJQcm9ncmVzc0NvbnRyb2xsZXIiLHNjb3BlOnt2YWx1ZToiPSIsdHlwZToiQCJ9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sIixsaW5rOmZ1bmN0aW9uKGEsYixjLGQpe2QuYWRkQmFyKGEsYW5ndWxhci5lbGVtZW50KGIuY2hpbGRyZW4oKVswXSkpfX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnJhdGluZyIsW10pLmNvbnN0YW50KCJyYXRpbmdDb25maWciLHttYXg6NSxzdGF0ZU9uOm51bGwsc3RhdGVPZmY6bnVsbH0pLmNvbnRyb2xsZXIoIlJhdGluZ0NvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGF0dHJzIiwicmF0aW5nQ29uZmlnIixmdW5jdGlvbihhLGIsYyl7dmFyIGQ9eyRzZXRWaWV3VmFsdWU6YW5ndWxhci5ub29wfTt0aGlzLmluaXQ9ZnVuY3Rpb24oZSl7ZD1lLGQuJHJlbmRlcj10aGlzLnJlbmRlcix0aGlzLnN0YXRlT249YW5ndWxhci5pc0RlZmluZWQoYi5zdGF0ZU9uKT9hLiRwYXJlbnQuJGV2YWwoYi5zdGF0ZU9uKTpjLnN0YXRlT24sdGhpcy5zdGF0ZU9mZj1hbmd1bGFyLmlzRGVmaW5lZChiLnN0YXRlT2ZmKT9hLiRwYXJlbnQuJGV2YWwoYi5zdGF0ZU9mZik6Yy5zdGF0ZU9mZjt2YXIgZj1hbmd1bGFyLmlzRGVmaW5lZChiLnJhdGluZ1N0YXRlcyk/YS4kcGFyZW50LiRldmFsKGIucmF0aW5nU3RhdGVzKTpuZXcgQXJyYXkoYW5ndWxhci5pc0RlZmluZWQoYi5tYXgpP2EuJHBhcmVudC4kZXZhbChiLm1heCk6Yy5tYXgpO2EucmFuZ2U9dGhpcy5idWlsZFRlbXBsYXRlT2JqZWN0cyhmKX0sdGhpcy5idWlsZFRlbXBsYXRlT2JqZWN0cz1mdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoO2M+YjtiKyspYVtiXT1hbmd1bGFyLmV4dGVuZCh7aW5kZXg6Yn0se3N0YXRlT246dGhpcy5zdGF0ZU9uLHN0YXRlT2ZmOnRoaXMuc3RhdGVPZmZ9LGFbYl0pO3JldHVybiBhfSxhLnJhdGU9ZnVuY3Rpb24oYil7IWEucmVhZG9ubHkmJmI+PTAmJmI8PWEucmFuZ2UubGVuZ3RoJiYoZC4kc2V0Vmlld1ZhbHVlKGIpLGQuJHJlbmRlcigpKX0sYS5lbnRlcj1mdW5jdGlvbihiKXthLnJlYWRvbmx5fHwoYS52YWx1ZT1iKSxhLm9uSG92ZXIoe3ZhbHVlOmJ9KX0sYS5yZXNldD1mdW5jdGlvbigpe2EudmFsdWU9ZC4kdmlld1ZhbHVlLGEub25MZWF2ZSgpfSxhLm9uS2V5ZG93bj1mdW5jdGlvbihiKXsvKDM3fDM4fDM5fDQwKS8udGVzdChiLndoaWNoKSYmKGIucHJldmVudERlZmF1bHQoKSxiLnN0b3BQcm9wYWdhdGlvbigpLGEucmF0ZShhLnZhbHVlKygzOD09PWIud2hpY2h8fDM5PT09Yi53aGljaD8xOi0xKSkpfSx0aGlzLnJlbmRlcj1mdW5jdGlvbigpe2EudmFsdWU9ZC4kdmlld1ZhbHVlfX1dKS5kaXJlY3RpdmUoInJhdGluZyIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXF1aXJlOlsicmF0aW5nIiwibmdNb2RlbCJdLHNjb3BlOntyZWFkb25seToiPT8iLG9uSG92ZXI6IiYiLG9uTGVhdmU6IiYifSxjb250cm9sbGVyOiJSYXRpbmdDb250cm9sbGVyIix0ZW1wbGF0ZVVybDoidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sIixyZXBsYWNlOiEwLGxpbms6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ZFswXSxmPWRbMV07ZiYmZS5pbml0KGYpfX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnRhYnMiLFtdKS5jb250cm9sbGVyKCJUYWJzZXRDb250cm9sbGVyIixbIiRzY29wZSIsZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIudGFicz1hLnRhYnM9W107Yi5zZWxlY3Q9ZnVuY3Rpb24oYSl7YW5ndWxhci5mb3JFYWNoKGMsZnVuY3Rpb24oYil7Yi5hY3RpdmUmJmIhPT1hJiYoYi5hY3RpdmU9ITEsYi5vbkRlc2VsZWN0KCkpfSksYS5hY3RpdmU9ITAsYS5vblNlbGVjdCgpfSxiLmFkZFRhYj1mdW5jdGlvbihhKXtjLnB1c2goYSksMT09PWMubGVuZ3RoP2EuYWN0aXZlPSEwOmEuYWN0aXZlJiZiLnNlbGVjdChhKX0sYi5yZW1vdmVUYWI9ZnVuY3Rpb24oYSl7dmFyIGQ9Yy5pbmRleE9mKGEpO2lmKGEuYWN0aXZlJiZjLmxlbmd0aD4xKXt2YXIgZT1kPT1jLmxlbmd0aC0xP2QtMTpkKzE7Yi5zZWxlY3QoY1tlXSl9Yy5zcGxpY2UoZCwxKX19XSkuZGlyZWN0aXZlKCJ0YWJzZXQiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsdHJhbnNjbHVkZTohMCxyZXBsYWNlOiEwLHNjb3BlOnt0eXBlOiJAIn0sY29udHJvbGxlcjoiVGFic2V0Q29udHJvbGxlciIsdGVtcGxhdGVVcmw6InRlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWwiLGxpbms6ZnVuY3Rpb24oYSxiLGMpe2EudmVydGljYWw9YW5ndWxhci5pc0RlZmluZWQoYy52ZXJ0aWNhbCk/YS4kcGFyZW50LiRldmFsKGMudmVydGljYWwpOiExLGEuanVzdGlmaWVkPWFuZ3VsYXIuaXNEZWZpbmVkKGMuanVzdGlmaWVkKT9hLiRwYXJlbnQuJGV2YWwoYy5qdXN0aWZpZWQpOiExfX19KS5kaXJlY3RpdmUoInRhYiIsWyIkcGFyc2UiLGZ1bmN0aW9uKGEpe3JldHVybntyZXF1aXJlOiJedGFic2V0IixyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL3RhYnMvdGFiLmh0bWwiLHRyYW5zY2x1ZGU6ITAsc2NvcGU6e2FjdGl2ZToiPT8iLGhlYWRpbmc6IkAiLG9uU2VsZWN0OiImc2VsZWN0IixvbkRlc2VsZWN0OiImZGVzZWxlY3QifSxjb250cm9sbGVyOmZ1bmN0aW9uKCl7fSxjb21waWxlOmZ1bmN0aW9uKGIsYyxkKXtyZXR1cm4gZnVuY3Rpb24oYixjLGUsZil7Yi4kd2F0Y2goImFjdGl2ZSIsZnVuY3Rpb24oYSl7YSYmZi5zZWxlY3QoYil9KSxiLmRpc2FibGVkPSExLGUuZGlzYWJsZWQmJmIuJHBhcmVudC4kd2F0Y2goYShlLmRpc2FibGVkKSxmdW5jdGlvbihhKXtiLmRpc2FibGVkPSEhYX0pLGIuc2VsZWN0PWZ1bmN0aW9uKCl7Yi5kaXNhYmxlZHx8KGIuYWN0aXZlPSEwKX0sZi5hZGRUYWIoYiksYi4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe2YucmVtb3ZlVGFiKGIpfSksYi4kdHJhbnNjbHVkZUZuPWR9fX19XSkuZGlyZWN0aXZlKCJ0YWJIZWFkaW5nVHJhbnNjbHVkZSIsW2Z1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJBIixyZXF1aXJlOiJedGFiIixsaW5rOmZ1bmN0aW9uKGEsYil7YS4kd2F0Y2goImhlYWRpbmdFbGVtZW50IixmdW5jdGlvbihhKXthJiYoYi5odG1sKCIiKSxiLmFwcGVuZChhKSl9KX19fV0pLmRpcmVjdGl2ZSgidGFiQ29udGVudFRyYW5zY2x1ZGUiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gYS50YWdOYW1lJiYoYS5oYXNBdHRyaWJ1dGUoInRhYi1oZWFkaW5nIil8fGEuaGFzQXR0cmlidXRlKCJkYXRhLXRhYi1oZWFkaW5nIil8fCJ0YWItaGVhZGluZyI9PT1hLnRhZ05hbWUudG9Mb3dlckNhc2UoKXx8ImRhdGEtdGFiLWhlYWRpbmciPT09YS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpfXJldHVybntyZXN0cmljdDoiQSIscmVxdWlyZToiXnRhYnNldCIsbGluazpmdW5jdGlvbihiLGMsZCl7dmFyIGU9Yi4kZXZhbChkLnRhYkNvbnRlbnRUcmFuc2NsdWRlKTtlLiR0cmFuc2NsdWRlRm4oZS4kcGFyZW50LGZ1bmN0aW9uKGIpe2FuZ3VsYXIuZm9yRWFjaChiLGZ1bmN0aW9uKGIpe2EoYik/ZS5oZWFkaW5nRWxlbWVudD1iOmMuYXBwZW5kKGIpfSl9KX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC50aW1lcGlja2VyIixbXSkuY29uc3RhbnQoInRpbWVwaWNrZXJDb25maWciLHtob3VyU3RlcDoxLG1pbnV0ZVN0ZXA6MSxzaG93TWVyaWRpYW46ITAsbWVyaWRpYW5zOm51bGwscmVhZG9ubHlJbnB1dDohMSxtb3VzZXdoZWVsOiEwfSkuY29udHJvbGxlcigiVGltZXBpY2tlckNvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGF0dHJzIiwiJHBhcnNlIiwiJGxvZyIsIiRsb2NhbGUiLCJ0aW1lcGlja2VyQ29uZmlnIixmdW5jdGlvbihhLGIsYyxkLGUsZil7ZnVuY3Rpb24gZygpe3ZhciBiPXBhcnNlSW50KGEuaG91cnMsMTApLGM9YS5zaG93TWVyaWRpYW4/Yj4wJiYxMz5iOmI+PTAmJjI0PmI7cmV0dXJuIGM/KGEuc2hvd01lcmlkaWFuJiYoMTI9PT1iJiYoYj0wKSxhLm1lcmlkaWFuPT09cFsxXSYmKGIrPTEyKSksYik6dm9pZCAwfWZ1bmN0aW9uIGgoKXt2YXIgYj1wYXJzZUludChhLm1pbnV0ZXMsMTApO3JldHVybiBiPj0wJiY2MD5iP2I6dm9pZCAwfWZ1bmN0aW9uIGkoYSl7cmV0dXJuIGFuZ3VsYXIuaXNEZWZpbmVkKGEpJiZhLnRvU3RyaW5nKCkubGVuZ3RoPDI/IjAiK2E6YX1mdW5jdGlvbiBqKGEpe2soKSxvLiRzZXRWaWV3VmFsdWUobmV3IERhdGUobikpLGwoYSl9ZnVuY3Rpb24gaygpe28uJHNldFZhbGlkaXR5KCJ0aW1lIiwhMCksYS5pbnZhbGlkSG91cnM9ITEsYS5pbnZhbGlkTWludXRlcz0hMX1mdW5jdGlvbiBsKGIpe3ZhciBjPW4uZ2V0SG91cnMoKSxkPW4uZ2V0TWludXRlcygpO2Euc2hvd01lcmlkaWFuJiYoYz0wPT09Y3x8MTI9PT1jPzEyOmMlMTIpLGEuaG91cnM9ImgiPT09Yj9jOmkoYyksYS5taW51dGVzPSJtIj09PWI/ZDppKGQpLGEubWVyaWRpYW49bi5nZXRIb3VycygpPDEyP3BbMF06cFsxXX1mdW5jdGlvbiBtKGEpe3ZhciBiPW5ldyBEYXRlKG4uZ2V0VGltZSgpKzZlNCphKTtuLnNldEhvdXJzKGIuZ2V0SG91cnMoKSxiLmdldE1pbnV0ZXMoKSksaigpfXZhciBuPW5ldyBEYXRlLG89eyRzZXRWaWV3VmFsdWU6YW5ndWxhci5ub29wfSxwPWFuZ3VsYXIuaXNEZWZpbmVkKGIubWVyaWRpYW5zKT9hLiRwYXJlbnQuJGV2YWwoYi5tZXJpZGlhbnMpOmYubWVyaWRpYW5zfHxlLkRBVEVUSU1FX0ZPUk1BVFMuQU1QTVM7dGhpcy5pbml0PWZ1bmN0aW9uKGMsZCl7bz1jLG8uJHJlbmRlcj10aGlzLnJlbmRlcjt2YXIgZT1kLmVxKDApLGc9ZC5lcSgxKSxoPWFuZ3VsYXIuaXNEZWZpbmVkKGIubW91c2V3aGVlbCk/YS4kcGFyZW50LiRldmFsKGIubW91c2V3aGVlbCk6Zi5tb3VzZXdoZWVsO2gmJnRoaXMuc2V0dXBNb3VzZXdoZWVsRXZlbnRzKGUsZyksYS5yZWFkb25seUlucHV0PWFuZ3VsYXIuaXNEZWZpbmVkKGIucmVhZG9ubHlJbnB1dCk/YS4kcGFyZW50LiRldmFsKGIucmVhZG9ubHlJbnB1dCk6Zi5yZWFkb25seUlucHV0LHRoaXMuc2V0dXBJbnB1dEV2ZW50cyhlLGcpfTt2YXIgcT1mLmhvdXJTdGVwO2IuaG91clN0ZXAmJmEuJHBhcmVudC4kd2F0Y2goYyhiLmhvdXJTdGVwKSxmdW5jdGlvbihhKXtxPXBhcnNlSW50KGEsMTApfSk7dmFyIHI9Zi5taW51dGVTdGVwO2IubWludXRlU3RlcCYmYS4kcGFyZW50LiR3YXRjaChjKGIubWludXRlU3RlcCksZnVuY3Rpb24oYSl7cj1wYXJzZUludChhLDEwKX0pLGEuc2hvd01lcmlkaWFuPWYuc2hvd01lcmlkaWFuLGIuc2hvd01lcmlkaWFuJiZhLiRwYXJlbnQuJHdhdGNoKGMoYi5zaG93TWVyaWRpYW4pLGZ1bmN0aW9uKGIpe2lmKGEuc2hvd01lcmlkaWFuPSEhYixvLiRlcnJvci50aW1lKXt2YXIgYz1nKCksZD1oKCk7YW5ndWxhci5pc0RlZmluZWQoYykmJmFuZ3VsYXIuaXNEZWZpbmVkKGQpJiYobi5zZXRIb3VycyhjKSxqKCkpfWVsc2UgbCgpfSksdGhpcy5zZXR1cE1vdXNld2hlZWxFdmVudHM9ZnVuY3Rpb24oYixjKXt2YXIgZD1mdW5jdGlvbihhKXthLm9yaWdpbmFsRXZlbnQmJihhPWEub3JpZ2luYWxFdmVudCk7dmFyIGI9YS53aGVlbERlbHRhP2Eud2hlZWxEZWx0YTotYS5kZWx0YVk7cmV0dXJuIGEuZGV0YWlsfHxiPjB9O2IuYmluZCgibW91c2V3aGVlbCB3aGVlbCIsZnVuY3Rpb24oYil7YS4kYXBwbHkoZChiKT9hLmluY3JlbWVudEhvdXJzKCk6YS5kZWNyZW1lbnRIb3VycygpKSxiLnByZXZlbnREZWZhdWx0KCl9KSxjLmJpbmQoIm1vdXNld2hlZWwgd2hlZWwiLGZ1bmN0aW9uKGIpe2EuJGFwcGx5KGQoYik/YS5pbmNyZW1lbnRNaW51dGVzKCk6YS5kZWNyZW1lbnRNaW51dGVzKCkpLGIucHJldmVudERlZmF1bHQoKX0pfSx0aGlzLnNldHVwSW5wdXRFdmVudHM9ZnVuY3Rpb24oYixjKXtpZihhLnJlYWRvbmx5SW5wdXQpcmV0dXJuIGEudXBkYXRlSG91cnM9YW5ndWxhci5ub29wLHZvaWQoYS51cGRhdGVNaW51dGVzPWFuZ3VsYXIubm9vcCk7dmFyIGQ9ZnVuY3Rpb24oYixjKXtvLiRzZXRWaWV3VmFsdWUobnVsbCksby4kc2V0VmFsaWRpdHkoInRpbWUiLCExKSxhbmd1bGFyLmlzRGVmaW5lZChiKSYmKGEuaW52YWxpZEhvdXJzPWIpLGFuZ3VsYXIuaXNEZWZpbmVkKGMpJiYoYS5pbnZhbGlkTWludXRlcz1jKX07YS51cGRhdGVIb3Vycz1mdW5jdGlvbigpe3ZhciBhPWcoKTthbmd1bGFyLmlzRGVmaW5lZChhKT8obi5zZXRIb3VycyhhKSxqKCJoIikpOmQoITApfSxiLmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7IWEuaW52YWxpZEhvdXJzJiZhLmhvdXJzPDEwJiZhLiRhcHBseShmdW5jdGlvbigpe2EuaG91cnM9aShhLmhvdXJzKX0pfSksYS51cGRhdGVNaW51dGVzPWZ1bmN0aW9uKCl7dmFyIGE9aCgpO2FuZ3VsYXIuaXNEZWZpbmVkKGEpPyhuLnNldE1pbnV0ZXMoYSksaigibSIpKTpkKHZvaWQgMCwhMCl9LGMuYmluZCgiYmx1ciIsZnVuY3Rpb24oKXshYS5pbnZhbGlkTWludXRlcyYmYS5taW51dGVzPDEwJiZhLiRhcHBseShmdW5jdGlvbigpe2EubWludXRlcz1pKGEubWludXRlcyl9KX0pfSx0aGlzLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBhPW8uJG1vZGVsVmFsdWU/bmV3IERhdGUoby4kbW9kZWxWYWx1ZSk6bnVsbDtpc05hTihhKT8oby4kc2V0VmFsaWRpdHkoInRpbWUiLCExKSxkLmVycm9yKCdUaW1lcGlja2VyIGRpcmVjdGl2ZTogIm5nLW1vZGVsIiB2YWx1ZSBtdXN0IGJlIGEgRGF0ZSBvYmplY3QsIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSAwMS4wMS4xOTcwIG9yIGEgc3RyaW5nIHJlcHJlc2VudGluZyBhbiBSRkMyODIyIG9yIElTTyA4NjAxIGRhdGUuJykpOihhJiYobj1hKSxrKCksbCgpKX0sYS5pbmNyZW1lbnRIb3Vycz1mdW5jdGlvbigpe20oNjAqcSl9LGEuZGVjcmVtZW50SG91cnM9ZnVuY3Rpb24oKXttKDYwKi1xKX0sYS5pbmNyZW1lbnRNaW51dGVzPWZ1bmN0aW9uKCl7bShyKX0sYS5kZWNyZW1lbnRNaW51dGVzPWZ1bmN0aW9uKCl7bSgtcil9LGEudG9nZ2xlTWVyaWRpYW49ZnVuY3Rpb24oKXttKDcyMCoobi5nZXRIb3VycygpPDEyPzE6LTEpKX19XSkuZGlyZWN0aXZlKCJ0aW1lcGlja2VyIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcXVpcmU6WyJ0aW1lcGlja2VyIiwiP15uZ01vZGVsIl0sY29udHJvbGxlcjoiVGltZXBpY2tlckNvbnRyb2xsZXIiLHJlcGxhY2U6ITAsc2NvcGU6e30sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sIixsaW5rOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWRbMF0sZj1kWzFdO2YmJmUuaW5pdChmLGIuZmluZCgiaW5wdXQiKSl9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAudHlwZWFoZWFkIixbInVpLmJvb3RzdHJhcC5wb3NpdGlvbiIsInVpLmJvb3RzdHJhcC5iaW5kSHRtbCJdKS5mYWN0b3J5KCJ0eXBlYWhlYWRQYXJzZXIiLFsiJHBhcnNlIixmdW5jdGlvbihhKXt2YXIgYj0vXlxzKiguKj8pKD86XHMrYXNccysoLio/KSk/XHMrZm9yXHMrKD86KFtcJFx3XVtcJFx3XGRdKikpXHMraW5ccysoLiopJC87cmV0dXJue3BhcnNlOmZ1bmN0aW9uKGMpe3ZhciBkPWMubWF0Y2goYik7aWYoIWQpdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0eXBlYWhlYWQgc3BlY2lmaWNhdGlvbiBpbiBmb3JtIG9mICJfbW9kZWxWYWx1ZV8gKGFzIF9sYWJlbF8pPyBmb3IgX2l0ZW1fIGluIF9jb2xsZWN0aW9uXyIgYnV0IGdvdCAiJytjKyciLicpO3JldHVybntpdGVtTmFtZTpkWzNdLHNvdXJjZTphKGRbNF0pLHZpZXdNYXBwZXI6YShkWzJdfHxkWzFdKSxtb2RlbE1hcHBlcjphKGRbMV0pfX19fV0pLmRpcmVjdGl2ZSgidHlwZWFoZWFkIixbIiRjb21waWxlIiwiJHBhcnNlIiwiJHEiLCIkdGltZW91dCIsIiRkb2N1bWVudCIsIiRwb3NpdGlvbiIsInR5cGVhaGVhZFBhcnNlciIsZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGg9WzksMTMsMjcsMzgsNDBdO3JldHVybntyZXF1aXJlOiJuZ01vZGVsIixsaW5rOmZ1bmN0aW9uKGksaixrLGwpe3ZhciBtLG49aS4kZXZhbChrLnR5cGVhaGVhZE1pbkxlbmd0aCl8fDEsbz1pLiRldmFsKGsudHlwZWFoZWFkV2FpdE1zKXx8MCxwPWkuJGV2YWwoay50eXBlYWhlYWRFZGl0YWJsZSkhPT0hMSxxPWIoay50eXBlYWhlYWRMb2FkaW5nKS5hc3NpZ258fGFuZ3VsYXIubm9vcCxyPWIoay50eXBlYWhlYWRPblNlbGVjdCkscz1rLnR5cGVhaGVhZElucHV0Rm9ybWF0dGVyP2Ioay50eXBlYWhlYWRJbnB1dEZvcm1hdHRlcik6dm9pZCAwLHQ9ay50eXBlYWhlYWRBcHBlbmRUb0JvZHk/aS4kZXZhbChrLnR5cGVhaGVhZEFwcGVuZFRvQm9keSk6ITEsdT1iKGsubmdNb2RlbCkuYXNzaWduLHY9Zy5wYXJzZShrLnR5cGVhaGVhZCksdz1pLiRuZXcoKTtpLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7dy4kZGVzdHJveSgpfSk7dmFyIHg9InR5cGVhaGVhZC0iK3cuJGlkKyItIitNYXRoLmZsb29yKDFlNCpNYXRoLnJhbmRvbSgpKTtqLmF0dHIoeyJhcmlhLWF1dG9jb21wbGV0ZSI6Imxpc3QiLCJhcmlhLWV4cGFuZGVkIjohMSwiYXJpYS1vd25zIjp4fSk7dmFyIHk9YW5ndWxhci5lbGVtZW50KCI8ZGl2IHR5cGVhaGVhZC1wb3B1cD48L2Rpdj4iKTt5LmF0dHIoe2lkOngsbWF0Y2hlczoibWF0Y2hlcyIsYWN0aXZlOiJhY3RpdmVJZHgiLHNlbGVjdDoic2VsZWN0KGFjdGl2ZUlkeCkiLHF1ZXJ5OiJxdWVyeSIscG9zaXRpb246InBvc2l0aW9uIn0pLGFuZ3VsYXIuaXNEZWZpbmVkKGsudHlwZWFoZWFkVGVtcGxhdGVVcmwpJiZ5LmF0dHIoInRlbXBsYXRlLXVybCIsay50eXBlYWhlYWRUZW1wbGF0ZVVybCk7dmFyIHo9ZnVuY3Rpb24oKXt3Lm1hdGNoZXM9W10sdy5hY3RpdmVJZHg9LTEsai5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMSl9LEE9ZnVuY3Rpb24oYSl7cmV0dXJuIHgrIi1vcHRpb24tIithfTt3LiR3YXRjaCgiYWN0aXZlSWR4IixmdW5jdGlvbihhKXswPmE/ai5yZW1vdmVBdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiKTpqLmF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIsQShhKSl9KTt2YXIgQj1mdW5jdGlvbihhKXt2YXIgYj17JHZpZXdWYWx1ZTphfTtxKGksITApLGMud2hlbih2LnNvdXJjZShpLGIpKS50aGVuKGZ1bmN0aW9uKGMpe3ZhciBkPWE9PT1sLiR2aWV3VmFsdWU7aWYoZCYmbSlpZihjLmxlbmd0aD4wKXt3LmFjdGl2ZUlkeD0wLHcubWF0Y2hlcy5sZW5ndGg9MDtmb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKyliW3YuaXRlbU5hbWVdPWNbZV0sdy5tYXRjaGVzLnB1c2goe2lkOkEoZSksbGFiZWw6di52aWV3TWFwcGVyKHcsYiksbW9kZWw6Y1tlXX0pO3cucXVlcnk9YSx3LnBvc2l0aW9uPXQ/Zi5vZmZzZXQoaik6Zi5wb3NpdGlvbihqKSx3LnBvc2l0aW9uLnRvcD13LnBvc2l0aW9uLnRvcCtqLnByb3AoIm9mZnNldEhlaWdodCIpLGouYXR0cigiYXJpYS1leHBhbmRlZCIsITApfWVsc2UgeigpO2QmJnEoaSwhMSl9LGZ1bmN0aW9uKCl7eigpLHEoaSwhMSl9KX07eigpLHcucXVlcnk9dm9pZCAwO3ZhciBDO2wuJHBhcnNlcnMudW5zaGlmdChmdW5jdGlvbihhKXtyZXR1cm4gbT0hMCxhJiZhLmxlbmd0aD49bj9vPjA/KEMmJmQuY2FuY2VsKEMpLEM9ZChmdW5jdGlvbigpe0IoYSl9LG8pKTpCKGEpOihxKGksITEpLHooKSkscD9hOmE/dm9pZCBsLiRzZXRWYWxpZGl0eSgiZWRpdGFibGUiLCExKToobC4kc2V0VmFsaWRpdHkoImVkaXRhYmxlIiwhMCksYSl9KSxsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24oYSl7dmFyIGIsYyxkPXt9O3JldHVybiBzPyhkLiRtb2RlbD1hLHMoaSxkKSk6KGRbdi5pdGVtTmFtZV09YSxiPXYudmlld01hcHBlcihpLGQpLGRbdi5pdGVtTmFtZV09dm9pZCAwLGM9di52aWV3TWFwcGVyKGksZCksYiE9PWM/YjphKX0pLHcuc2VsZWN0PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZT17fTtlW3YuaXRlbU5hbWVdPWM9dy5tYXRjaGVzW2FdLm1vZGVsLGI9di5tb2RlbE1hcHBlcihpLGUpLHUoaSxiKSxsLiRzZXRWYWxpZGl0eSgiZWRpdGFibGUiLCEwKSxyKGkseyRpdGVtOmMsJG1vZGVsOmIsJGxhYmVsOnYudmlld01hcHBlcihpLGUpfSkseigpLGQoZnVuY3Rpb24oKXtqWzBdLmZvY3VzKCl9LDAsITEpfSxqLmJpbmQoImtleWRvd24iLGZ1bmN0aW9uKGEpezAhPT13Lm1hdGNoZXMubGVuZ3RoJiYtMSE9PWguaW5kZXhPZihhLndoaWNoKSYmKGEucHJldmVudERlZmF1bHQoKSw0MD09PWEud2hpY2g/KHcuYWN0aXZlSWR4PSh3LmFjdGl2ZUlkeCsxKSV3Lm1hdGNoZXMubGVuZ3RoLHcuJGRpZ2VzdCgpKTozOD09PWEud2hpY2g/KHcuYWN0aXZlSWR4PSh3LmFjdGl2ZUlkeD93LmFjdGl2ZUlkeDp3Lm1hdGNoZXMubGVuZ3RoKS0xLHcuJGRpZ2VzdCgpKToxMz09PWEud2hpY2h8fDk9PT1hLndoaWNoP3cuJGFwcGx5KGZ1bmN0aW9uKCl7dy5zZWxlY3Qody5hY3RpdmVJZHgpfSk6Mjc9PT1hLndoaWNoJiYoYS5zdG9wUHJvcGFnYXRpb24oKSx6KCksdy4kZGlnZXN0KCkpKX0pLGouYmluZCgiYmx1ciIsZnVuY3Rpb24oKXttPSExfSk7dmFyIEQ9ZnVuY3Rpb24oYSl7alswXSE9PWEudGFyZ2V0JiYoeigpLHcuJGRpZ2VzdCgpKX07ZS5iaW5kKCJjbGljayIsRCksaS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe2UudW5iaW5kKCJjbGljayIsRCl9KTt2YXIgRT1hKHkpKHcpO3Q/ZS5maW5kKCJib2R5IikuYXBwZW5kKEUpOmouYWZ0ZXIoRSl9fX1dKS5kaXJlY3RpdmUoInR5cGVhaGVhZFBvcHVwIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHNjb3BlOnttYXRjaGVzOiI9IixxdWVyeToiPSIsYWN0aXZlOiI9Iixwb3NpdGlvbjoiPSIsc2VsZWN0OiImIn0scmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sIixsaW5rOmZ1bmN0aW9uKGEsYixjKXthLnRlbXBsYXRlVXJsPWMudGVtcGxhdGVVcmwsYS5pc09wZW49ZnVuY3Rpb24oKXtyZXR1cm4gYS5tYXRjaGVzLmxlbmd0aD4wfSxhLmlzQWN0aXZlPWZ1bmN0aW9uKGIpe3JldHVybiBhLmFjdGl2ZT09Yn0sYS5zZWxlY3RBY3RpdmU9ZnVuY3Rpb24oYil7YS5hY3RpdmU9Yn0sYS5zZWxlY3RNYXRjaD1mdW5jdGlvbihiKXthLnNlbGVjdCh7YWN0aXZlSWR4OmJ9KX19fX0pLmRpcmVjdGl2ZSgidHlwZWFoZWFkTWF0Y2giLFsiJGh0dHAiLCIkdGVtcGxhdGVDYWNoZSIsIiRjb21waWxlIiwiJHBhcnNlIixmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixzY29wZTp7aW5kZXg6Ij0iLG1hdGNoOiI9IixxdWVyeToiPSJ9LGxpbms6ZnVuY3Rpb24oZSxmLGcpe3ZhciBoPWQoZy50ZW1wbGF0ZVVybCkoZS4kcGFyZW50KXx8InRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbCI7YS5nZXQoaCx7Y2FjaGU6Yn0pLnN1Y2Nlc3MoZnVuY3Rpb24oYSl7Zi5yZXBsYWNlV2l0aChjKGEudHJpbSgpKShlKSl9KX19fV0pLmZpbHRlcigidHlwZWFoZWFkSGlnaGxpZ2h0IixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7cmV0dXJuIGEucmVwbGFjZSgvKFsuPyorXiRbXF1cXCgpe318LV0pL2csIlxcJDEiKX1yZXR1cm4gZnVuY3Rpb24oYixjKXtyZXR1cm4gYz8oIiIrYikucmVwbGFjZShuZXcgUmVnRXhwKGEoYyksImdpIiksIjxzdHJvbmc+JCY8L3N0cm9uZz4iKTpifX0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oYSl7YS5wdXQoInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbCIsJzxkaXYgY2xhc3M9InBhbmVsIHBhbmVsLWRlZmF1bHQiPlxuICA8ZGl2IGNsYXNzPSJwYW5lbC1oZWFkaW5nIj5cbiAgICA8aDQgY2xhc3M9InBhbmVsLXRpdGxlIj5cbiAgICAgIDxhIGNsYXNzPSJhY2NvcmRpb24tdG9nZ2xlIiBuZy1jbGljaz0idG9nZ2xlT3BlbigpIiBhY2NvcmRpb24tdHJhbnNjbHVkZT0iaGVhZGluZyI+PHNwYW4gbmctY2xhc3M9IntcJ3RleHQtbXV0ZWRcJzogaXNEaXNhYmxlZH0iPnt7aGVhZGluZ319PC9zcGFuPjwvYT5cbiAgICA8L2g0PlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0icGFuZWwtY29sbGFwc2UiIGNvbGxhcHNlPSIhaXNPcGVuIj5cbgkgIDxkaXYgY2xhc3M9InBhbmVsLWJvZHkiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XG4gIDwvZGl2PlxuPC9kaXY+Jyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbihhKXthLnB1dCgidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sIiwnPGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+Jyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oYSl7YS5wdXQoInRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWwiLCc8ZGl2IGNsYXNzPSJhbGVydCIgbmctY2xhc3M9IntcJ2FsZXJ0LXt7dHlwZSB8fCBcJ3dhcm5pbmdcJ319XCc6IHRydWUsIFwnYWxlcnQtZGlzbWlzc2FibGVcJzogY2xvc2VhYmxlfSIgcm9sZT0iYWxlcnQiPlxuICAgIDxidXR0b24gbmctc2hvdz0iY2xvc2VhYmxlIiB0eXBlPSJidXR0b24iIGNsYXNzPSJjbG9zZSIgbmctY2xpY2s9ImNsb3NlKCkiPlxuICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj0idHJ1ZSI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9InNyLW9ubHkiPkNsb3NlPC9zcGFuPlxuICAgIDwvYnV0dG9uPlxuICAgIDxkaXYgbmctdHJhbnNjbHVkZT48L2Rpdj5cbjwvZGl2PlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oYSl7YS5wdXQoInRlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWwiLCc8ZGl2IG5nLW1vdXNlZW50ZXI9InBhdXNlKCkiIG5nLW1vdXNlbGVhdmU9InBsYXkoKSIgY2xhc3M9ImNhcm91c2VsIiBuZy1zd2lwZS1yaWdodD0icHJldigpIiBuZy1zd2lwZS1sZWZ0PSJuZXh0KCkiPlxuICAgIDxvbCBjbGFzcz0iY2Fyb3VzZWwtaW5kaWNhdG9ycyIgbmctc2hvdz0ic2xpZGVzLmxlbmd0aCA+IDEiPlxuICAgICAgICA8bGkgbmctcmVwZWF0PSJzbGlkZSBpbiBzbGlkZXMgdHJhY2sgYnkgJGluZGV4IiBuZy1jbGFzcz0ie2FjdGl2ZTogaXNBY3RpdmUoc2xpZGUpfSIgbmctY2xpY2s9InNlbGVjdChzbGlkZSkiPjwvbGk+XG4gICAgPC9vbD5cbiAgICA8ZGl2IGNsYXNzPSJjYXJvdXNlbC1pbm5lciIgbmctdHJhbnNjbHVkZT48L2Rpdj5cbiAgICA8YSBjbGFzcz0ibGVmdCBjYXJvdXNlbC1jb250cm9sIiBuZy1jbGljaz0icHJldigpIiBuZy1zaG93PSJzbGlkZXMubGVuZ3RoID4gMSI+PHNwYW4gY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0Ij48L3NwYW4+PC9hPlxuICAgIDxhIGNsYXNzPSJyaWdodCBjYXJvdXNlbC1jb250cm9sIiBuZy1jbGljaz0ibmV4dCgpIiBuZy1zaG93PSJzbGlkZXMubGVuZ3RoID4gMSI+PHNwYW4gY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodCI+PC9zcGFuPjwvYT5cbjwvZGl2PlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oYSl7YS5wdXQoInRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWwiLCI8ZGl2IG5nLWNsYXNzPVwie1xuICAgICdhY3RpdmUnOiBsZWF2aW5nIHx8IChhY3RpdmUgJiYgIWVudGVyaW5nKSxcbiAgICAncHJldic6IChuZXh0IHx8IGFjdGl2ZSkgJiYgZGlyZWN0aW9uPT0ncHJldicsXG4gICAgJ25leHQnOiAobmV4dCB8fCBhY3RpdmUpICYmIGRpcmVjdGlvbj09J25leHQnLFxuICAgICdyaWdodCc6IGRpcmVjdGlvbj09J3ByZXYnLFxuICAgICdsZWZ0JzogZGlyZWN0aW9uPT0nbmV4dCdcbiAgfVwiIGNsYXNzPVwiaXRlbSB0ZXh0LWNlbnRlclwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XG4iKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oYSl7YS5wdXQoInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sIiwnPGRpdiBuZy1zd2l0Y2g9ImRhdGVwaWNrZXJNb2RlIiByb2xlPSJhcHBsaWNhdGlvbiIgbmcta2V5ZG93bj0ia2V5ZG93bigkZXZlbnQpIj5cbiAgPGRheXBpY2tlciBuZy1zd2l0Y2gtd2hlbj0iZGF5IiB0YWJpbmRleD0iMCI+PC9kYXlwaWNrZXI+XG4gIDxtb250aHBpY2tlciBuZy1zd2l0Y2gtd2hlbj0ibW9udGgiIHRhYmluZGV4PSIwIj48L21vbnRocGlja2VyPlxuICA8eWVhcnBpY2tlciBuZy1zd2l0Y2gtd2hlbj0ieWVhciIgdGFiaW5kZXg9IjAiPjwveWVhcnBpY2tlcj5cbjwvZGl2PicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKGEpe2EucHV0KCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sIiwnPHRhYmxlIHJvbGU9ImdyaWQiIGFyaWEtbGFiZWxsZWRieT0ie3t1bmlxdWVJZH19LXRpdGxlIiBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9Int7YWN0aXZlRGF0ZUlkfX0iPlxuICA8dGhlYWQ+XG4gICAgPHRyPlxuICAgICAgPHRoPjxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnQiIG5nLWNsaWNrPSJtb3ZlKC0xKSIgdGFiaW5kZXg9Ii0xIj48aSBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnQiPjwvaT48L2J1dHRvbj48L3RoPlxuICAgICAgPHRoIGNvbHNwYW49Int7NSArIHNob3dXZWVrc319Ij48YnV0dG9uIGlkPSJ7e3VuaXF1ZUlkfX0tdGl0bGUiIHJvbGU9ImhlYWRpbmciIGFyaWEtbGl2ZT0iYXNzZXJ0aXZlIiBhcmlhLWF0b21pYz0idHJ1ZSIgdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSIgbmctY2xpY2s9InRvZ2dsZU1vZGUoKSIgdGFiaW5kZXg9Ii0xIiBzdHlsZT0id2lkdGg6MTAwJTsiPjxzdHJvbmc+e3t0aXRsZX19PC9zdHJvbmc+PC9idXR0b24+PC90aD5cbiAgICAgIDx0aD48YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodCIgbmctY2xpY2s9Im1vdmUoMSkiIHRhYmluZGV4PSItMSI+PGkgY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodCI+PC9pPjwvYnV0dG9uPjwvdGg+XG4gICAgPC90cj5cbiAgICA8dHI+XG4gICAgICA8dGggbmctc2hvdz0ic2hvd1dlZWtzIiBjbGFzcz0idGV4dC1jZW50ZXIiPjwvdGg+XG4gICAgICA8dGggbmctcmVwZWF0PSJsYWJlbCBpbiBsYWJlbHMgdHJhY2sgYnkgJGluZGV4IiBjbGFzcz0idGV4dC1jZW50ZXIiPjxzbWFsbCBhcmlhLWxhYmVsPSJ7e2xhYmVsLmZ1bGx9fSI+e3tsYWJlbC5hYmJyfX08L3NtYWxsPjwvdGg+XG4gICAgPC90cj5cbiAgPC90aGVhZD5cbiAgPHRib2R5PlxuICAgIDx0ciBuZy1yZXBlYXQ9InJvdyBpbiByb3dzIHRyYWNrIGJ5ICRpbmRleCI+XG4gICAgICA8dGQgbmctc2hvdz0ic2hvd1dlZWtzIiBjbGFzcz0idGV4dC1jZW50ZXIgaDYiPjxlbT57eyB3ZWVrTnVtYmVyc1skaW5kZXhdIH19PC9lbT48L3RkPlxuICAgICAgPHRkIG5nLXJlcGVhdD0iZHQgaW4gcm93IHRyYWNrIGJ5IGR0LmRhdGUiIGNsYXNzPSJ0ZXh0LWNlbnRlciIgcm9sZT0iZ3JpZGNlbGwiIGlkPSJ7e2R0LnVpZH19IiBhcmlhLWRpc2FibGVkPSJ7eyEhZHQuZGlzYWJsZWR9fSI+XG4gICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBzdHlsZT0id2lkdGg6MTAwJTsiIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIiBuZy1jbGFzcz0ie1wnYnRuLWluZm9cJzogZHQuc2VsZWN0ZWQsIGFjdGl2ZTogaXNBY3RpdmUoZHQpfSIgbmctY2xpY2s9InNlbGVjdChkdC5kYXRlKSIgbmctZGlzYWJsZWQ9ImR0LmRpc2FibGVkIiB0YWJpbmRleD0iLTEiPjxzcGFuIG5nLWNsYXNzPSJ7XCd0ZXh0LW11dGVkXCc6IGR0LnNlY29uZGFyeSwgXCd0ZXh0LWluZm9cJzogZHQuY3VycmVudH0iPnt7ZHQubGFiZWx9fTwvc3Bhbj48L2J1dHRvbj5cbiAgICAgIDwvdGQ+XG4gICAgPC90cj5cbiAgPC90Ym9keT5cbjwvdGFibGU+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKGEpe2EucHV0KCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWwiLCc8dGFibGUgcm9sZT0iZ3JpZCIgYXJpYS1sYWJlbGxlZGJ5PSJ7e3VuaXF1ZUlkfX0tdGl0bGUiIGFyaWEtYWN0aXZlZGVzY2VuZGFudD0ie3thY3RpdmVEYXRlSWR9fSI+XG4gIDx0aGVhZD5cbiAgICA8dHI+XG4gICAgICA8dGg+PGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdCIgbmctY2xpY2s9Im1vdmUoLTEpIiB0YWJpbmRleD0iLTEiPjxpIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdCI+PC9pPjwvYnV0dG9uPjwvdGg+XG4gICAgICA8dGg+PGJ1dHRvbiBpZD0ie3t1bmlxdWVJZH19LXRpdGxlIiByb2xlPSJoZWFkaW5nIiBhcmlhLWxpdmU9ImFzc2VydGl2ZSIgYXJpYS1hdG9taWM9InRydWUiIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4tc20iIG5nLWNsaWNrPSJ0b2dnbGVNb2RlKCkiIHRhYmluZGV4PSItMSIgc3R5bGU9IndpZHRoOjEwMCU7Ij48c3Ryb25nPnt7dGl0bGV9fTwvc3Ryb25nPjwvYnV0dG9uPjwvdGg+XG4gICAgICA8dGg+PGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHQiIG5nLWNsaWNrPSJtb3ZlKDEpIiB0YWJpbmRleD0iLTEiPjxpIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHQiPjwvaT48L2J1dHRvbj48L3RoPlxuICAgIDwvdHI+XG4gIDwvdGhlYWQ+XG4gIDx0Ym9keT5cbiAgICA8dHIgbmctcmVwZWF0PSJyb3cgaW4gcm93cyB0cmFjayBieSAkaW5kZXgiPlxuICAgICAgPHRkIG5nLXJlcGVhdD0iZHQgaW4gcm93IHRyYWNrIGJ5IGR0LmRhdGUiIGNsYXNzPSJ0ZXh0LWNlbnRlciIgcm9sZT0iZ3JpZGNlbGwiIGlkPSJ7e2R0LnVpZH19IiBhcmlhLWRpc2FibGVkPSJ7eyEhZHQuZGlzYWJsZWR9fSI+XG4gICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBzdHlsZT0id2lkdGg6MTAwJTsiIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQiIG5nLWNsYXNzPSJ7XCdidG4taW5mb1wnOiBkdC5zZWxlY3RlZCwgYWN0aXZlOiBpc0FjdGl2ZShkdCl9IiBuZy1jbGljaz0ic2VsZWN0KGR0LmRhdGUpIiBuZy1kaXNhYmxlZD0iZHQuZGlzYWJsZWQiIHRhYmluZGV4PSItMSI+PHNwYW4gbmctY2xhc3M9IntcJ3RleHQtaW5mb1wnOiBkdC5jdXJyZW50fSI+e3tkdC5sYWJlbH19PC9zcGFuPjwvYnV0dG9uPlxuICAgICAgPC90ZD5cbiAgICA8L3RyPlxuICA8L3Rib2R5PlxuPC90YWJsZT5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oYSl7YS5wdXQoInRlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbCIsJzx1bCBjbGFzcz0iZHJvcGRvd24tbWVudSIgbmctc3R5bGU9IntkaXNwbGF5OiAoaXNPcGVuICYmIFwnYmxvY2tcJykgfHwgXCdub25lXCcsIHRvcDogcG9zaXRpb24udG9wK1wncHhcJywgbGVmdDogcG9zaXRpb24ubGVmdCtcJ3B4XCd9IiBuZy1rZXlkb3duPSJrZXlkb3duKCRldmVudCkiPlxuCTxsaSBuZy10cmFuc2NsdWRlPjwvbGk+XG4JPGxpIG5nLWlmPSJzaG93QnV0dG9uQmFyIiBzdHlsZT0icGFkZGluZzoxMHB4IDlweCAycHgiPlxuCQk8c3BhbiBjbGFzcz0iYnRuLWdyb3VwIj5cbgkJCTxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4taW5mbyIgbmctY2xpY2s9InNlbGVjdChcJ3RvZGF5XCcpIj57eyBnZXRUZXh0KFwnY3VycmVudFwnKSB9fTwvYnV0dG9uPlxuCQkJPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXNtIGJ0bi1kYW5nZXIiIG5nLWNsaWNrPSJzZWxlY3QobnVsbCkiPnt7IGdldFRleHQoXCdjbGVhclwnKSB9fTwvYnV0dG9uPlxuCQk8L3NwYW4+XG4JCTxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tc3VjY2VzcyBwdWxsLXJpZ2h0IiBuZy1jbGljaz0iY2xvc2UoKSI+e3sgZ2V0VGV4dChcJ2Nsb3NlXCcpIH19PC9idXR0b24+XG4JPC9saT5cbjwvdWw+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvZGF0ZXBpY2tlci95ZWFyLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oYSl7YS5wdXQoInRlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sIiwnPHRhYmxlIHJvbGU9ImdyaWQiIGFyaWEtbGFiZWxsZWRieT0ie3t1bmlxdWVJZH19LXRpdGxlIiBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9Int7YWN0aXZlRGF0ZUlkfX0iPlxuICA8dGhlYWQ+XG4gICAgPHRyPlxuICAgICAgPHRoPjxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnQiIG5nLWNsaWNrPSJtb3ZlKC0xKSIgdGFiaW5kZXg9Ii0xIj48aSBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnQiPjwvaT48L2J1dHRvbj48L3RoPlxuICAgICAgPHRoIGNvbHNwYW49IjMiPjxidXR0b24gaWQ9Int7dW5pcXVlSWR9fS10aXRsZSIgcm9sZT0iaGVhZGluZyIgYXJpYS1saXZlPSJhc3NlcnRpdmUiIGFyaWEtYXRvbWljPSJ0cnVlIiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIiBuZy1jbGljaz0idG9nZ2xlTW9kZSgpIiB0YWJpbmRleD0iLTEiIHN0eWxlPSJ3aWR0aDoxMDAlOyI+PHN0cm9uZz57e3RpdGxlfX08L3N0cm9uZz48L2J1dHRvbj48L3RoPlxuICAgICAgPHRoPjxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0IiBuZy1jbGljaz0ibW92ZSgxKSIgdGFiaW5kZXg9Ii0xIj48aSBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXJpZ2h0Ij48L2k+PC9idXR0b24+PC90aD5cbiAgICA8L3RyPlxuICA8L3RoZWFkPlxuICA8dGJvZHk+XG4gICAgPHRyIG5nLXJlcGVhdD0icm93IGluIHJvd3MgdHJhY2sgYnkgJGluZGV4Ij5cbiAgICAgIDx0ZCBuZy1yZXBlYXQ9ImR0IGluIHJvdyB0cmFjayBieSBkdC5kYXRlIiBjbGFzcz0idGV4dC1jZW50ZXIiIHJvbGU9ImdyaWRjZWxsIiBpZD0ie3tkdC51aWR9fSIgYXJpYS1kaXNhYmxlZD0ie3shIWR0LmRpc2FibGVkfX0iPlxuICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgc3R5bGU9IndpZHRoOjEwMCU7IiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IiBuZy1jbGFzcz0ie1wnYnRuLWluZm9cJzogZHQuc2VsZWN0ZWQsIGFjdGl2ZTogaXNBY3RpdmUoZHQpfSIgbmctY2xpY2s9InNlbGVjdChkdC5kYXRlKSIgbmctZGlzYWJsZWQ9ImR0LmRpc2FibGVkIiB0YWJpbmRleD0iLTEiPjxzcGFuIG5nLWNsYXNzPSJ7XCd0ZXh0LWluZm9cJzogZHQuY3VycmVudH0iPnt7ZHQubGFiZWx9fTwvc3Bhbj48L2J1dHRvbj5cbiAgICAgIDwvdGQ+XG4gICAgPC90cj5cbiAgPC90Ym9keT5cbjwvdGFibGU+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbihhKXthLnB1dCgidGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbCIsJzxkaXYgY2xhc3M9Im1vZGFsLWJhY2tkcm9wIGZhZGUiXG4gICAgIG5nLWNsYXNzPSJ7aW46IGFuaW1hdGV9IlxuICAgICBuZy1zdHlsZT0ie1wnei1pbmRleFwnOiAxMDQwICsgKGluZGV4ICYmIDEgfHwgMCkgKyBpbmRleCoxMH0iXG4+PC9kaXY+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oYSl7YS5wdXQoInRlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sIiwnPGRpdiB0YWJpbmRleD0iLTEiIHJvbGU9ImRpYWxvZyIgY2xhc3M9Im1vZGFsIGZhZGUiIG5nLWNsYXNzPSJ7aW46IGFuaW1hdGV9IiBuZy1zdHlsZT0ie1wnei1pbmRleFwnOiAxMDUwICsgaW5kZXgqMTAsIGRpc3BsYXk6IFwnYmxvY2tcJ30iIG5nLWNsaWNrPSJjbG9zZSgkZXZlbnQpIj5cbiAgICA8ZGl2IGNsYXNzPSJtb2RhbC1kaWFsb2ciIG5nLWNsYXNzPSJ7XCdtb2RhbC1zbVwnOiBzaXplID09IFwnc21cJywgXCdtb2RhbC1sZ1wnOiBzaXplID09IFwnbGdcJ30iPjxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+PC9kaXY+XG48L2Rpdj4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKGEpe2EucHV0KCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWwiLCc8dWwgY2xhc3M9InBhZ2VyIj5cbiAgPGxpIG5nLWNsYXNzPSJ7ZGlzYWJsZWQ6IG5vUHJldmlvdXMoKSwgcHJldmlvdXM6IGFsaWdufSI+PGEgaHJlZiBuZy1jbGljaz0ic2VsZWN0UGFnZShwYWdlIC0gMSkiPnt7Z2V0VGV4dChcJ3ByZXZpb3VzXCcpfX08L2E+PC9saT5cbiAgPGxpIG5nLWNsYXNzPSJ7ZGlzYWJsZWQ6IG5vTmV4dCgpLCBuZXh0OiBhbGlnbn0iPjxhIGhyZWYgbmctY2xpY2s9InNlbGVjdFBhZ2UocGFnZSArIDEpIj57e2dldFRleHQoXCduZXh0XCcpfX08L2E+PC9saT5cbjwvdWw+Jyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKGEpe2EucHV0KCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbCIsJzx1bCBjbGFzcz0icGFnaW5hdGlvbiI+XG4gIDxsaSBuZy1pZj0iYm91bmRhcnlMaW5rcyIgbmctY2xhc3M9IntkaXNhYmxlZDogbm9QcmV2aW91cygpfSI+PGEgaHJlZiBuZy1jbGljaz0ic2VsZWN0UGFnZSgxKSI+e3tnZXRUZXh0KFwnZmlyc3RcJyl9fTwvYT48L2xpPlxuICA8bGkgbmctaWY9ImRpcmVjdGlvbkxpbmtzIiBuZy1jbGFzcz0ie2Rpc2FibGVkOiBub1ByZXZpb3VzKCl9Ij48YSBocmVmIG5nLWNsaWNrPSJzZWxlY3RQYWdlKHBhZ2UgLSAxKSI+e3tnZXRUZXh0KFwncHJldmlvdXNcJyl9fTwvYT48L2xpPlxuICA8bGkgbmctcmVwZWF0PSJwYWdlIGluIHBhZ2VzIHRyYWNrIGJ5ICRpbmRleCIgbmctY2xhc3M9InthY3RpdmU6IHBhZ2UuYWN0aXZlfSI+PGEgaHJlZiBuZy1jbGljaz0ic2VsZWN0UGFnZShwYWdlLm51bWJlcikiPnt7cGFnZS50ZXh0fX08L2E+PC9saT5cbiAgPGxpIG5nLWlmPSJkaXJlY3Rpb25MaW5rcyIgbmctY2xhc3M9IntkaXNhYmxlZDogbm9OZXh0KCl9Ij48YSBocmVmIG5nLWNsaWNrPSJzZWxlY3RQYWdlKHBhZ2UgKyAxKSI+e3tnZXRUZXh0KFwnbmV4dFwnKX19PC9hPjwvbGk+XG4gIDxsaSBuZy1pZj0iYm91bmRhcnlMaW5rcyIgbmctY2xhc3M9IntkaXNhYmxlZDogbm9OZXh0KCl9Ij48YSBocmVmIG5nLWNsaWNrPSJzZWxlY3RQYWdlKHRvdGFsUGFnZXMpIj57e2dldFRleHQoXCdsYXN0XCcpfX08L2E+PC9saT5cbjwvdWw+Jyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKGEpe2EucHV0KCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC11bnNhZmUtcG9wdXAuaHRtbCIsJzxkaXYgY2xhc3M9InRvb2x0aXAge3twbGFjZW1lbnR9fSIgbmctY2xhc3M9InsgaW46IGlzT3BlbigpLCBmYWRlOiBhbmltYXRpb24oKSB9Ij5cbiAgPGRpdiBjbGFzcz0idG9vbHRpcC1hcnJvdyI+PC9kaXY+XG4gIDxkaXYgY2xhc3M9InRvb2x0aXAtaW5uZXIiIGJpbmQtaHRtbC11bnNhZmU9ImNvbnRlbnQiPjwvZGl2PlxuPC9kaXY+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXBvcHVwLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oYSl7YS5wdXQoInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sIiwnPGRpdiBjbGFzcz0idG9vbHRpcCB7e3BsYWNlbWVudH19IiBuZy1jbGFzcz0ieyBpbjogaXNPcGVuKCksIGZhZGU6IGFuaW1hdGlvbigpIH0iPlxuICA8ZGl2IGNsYXNzPSJ0b29sdGlwLWFycm93Ij48L2Rpdj5cbiAgPGRpdiBjbGFzcz0idG9vbHRpcC1pbm5lciIgbmctYmluZD0iY29udGVudCI+PC9kaXY+XG48L2Rpdj5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbihhKXthLnB1dCgidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWwiLCc8ZGl2IGNsYXNzPSJwb3BvdmVyIHt7cGxhY2VtZW50fX0iIG5nLWNsYXNzPSJ7IGluOiBpc09wZW4oKSwgZmFkZTogYW5pbWF0aW9uKCkgfSI+XG4gIDxkaXYgY2xhc3M9ImFycm93Ij48L2Rpdj5cblxuICA8ZGl2IGNsYXNzPSJwb3BvdmVyLWlubmVyIj5cbiAgICAgIDxoMyBjbGFzcz0icG9wb3Zlci10aXRsZSIgbmctYmluZD0idGl0bGUiIG5nLXNob3c9InRpdGxlIj48L2gzPlxuICAgICAgPGRpdiBjbGFzcz0icG9wb3Zlci1jb250ZW50IiBuZy1iaW5kPSJjb250ZW50Ij48L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbihhKXthLnB1dCgidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWwiLCc8ZGl2IGNsYXNzPSJwcm9ncmVzcy1iYXIiIG5nLWNsYXNzPSJ0eXBlICYmIFwncHJvZ3Jlc3MtYmFyLVwnICsgdHlwZSIgcm9sZT0icHJvZ3Jlc3NiYXIiIGFyaWEtdmFsdWVub3c9Int7dmFsdWV9fSIgYXJpYS12YWx1ZW1pbj0iMCIgYXJpYS12YWx1ZW1heD0ie3ttYXh9fSIgbmctc3R5bGU9Int3aWR0aDogcGVyY2VudCArIFwnJVwnfSIgYXJpYS12YWx1ZXRleHQ9Int7cGVyY2VudCB8IG51bWJlcjowfX0lIiBuZy10cmFuc2NsdWRlPjwvZGl2PicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKGEpe2EucHV0KCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sIiwnPGRpdiBjbGFzcz0icHJvZ3Jlc3MiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+Jyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oYSl7YS5wdXQoInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWwiLCc8ZGl2IGNsYXNzPSJwcm9ncmVzcyI+XG4gIDxkaXYgY2xhc3M9InByb2dyZXNzLWJhciIgbmctY2xhc3M9InR5cGUgJiYgXCdwcm9ncmVzcy1iYXItXCcgKyB0eXBlIiByb2xlPSJwcm9ncmVzc2JhciIgYXJpYS12YWx1ZW5vdz0ie3t2YWx1ZX19IiBhcmlhLXZhbHVlbWluPSIwIiBhcmlhLXZhbHVlbWF4PSJ7e21heH19IiBuZy1zdHlsZT0ie3dpZHRoOiBwZXJjZW50ICsgXCclXCd9IiBhcmlhLXZhbHVldGV4dD0ie3twZXJjZW50IHwgbnVtYmVyOjB9fSUiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XG48L2Rpdj4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKGEpe2EucHV0KCJ0ZW1wbGF0ZS9yYXRpbmcvcmF0aW5nLmh0bWwiLCc8c3BhbiBuZy1tb3VzZWxlYXZlPSJyZXNldCgpIiBuZy1rZXlkb3duPSJvbktleWRvd24oJGV2ZW50KSIgdGFiaW5kZXg9IjAiIHJvbGU9InNsaWRlciIgYXJpYS12YWx1ZW1pbj0iMCIgYXJpYS12YWx1ZW1heD0ie3tyYW5nZS5sZW5ndGh9fSIgYXJpYS12YWx1ZW5vdz0ie3t2YWx1ZX19Ij5cbiAgICA8aSBuZy1yZXBlYXQ9InIgaW4gcmFuZ2UgdHJhY2sgYnkgJGluZGV4IiBuZy1tb3VzZWVudGVyPSJlbnRlcigkaW5kZXggKyAxKSIgbmctY2xpY2s9InJhdGUoJGluZGV4ICsgMSkiIGNsYXNzPSJnbHlwaGljb24iIG5nLWNsYXNzPSIkaW5kZXggPCB2YWx1ZSAmJiAoci5zdGF0ZU9uIHx8IFwnZ2x5cGhpY29uLXN0YXJcJykgfHwgKHIuc3RhdGVPZmYgfHwgXCdnbHlwaGljb24tc3Rhci1lbXB0eVwnKSI+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJzci1vbmx5Ij4oe3sgJGluZGV4IDwgdmFsdWUgPyBcJypcJyA6IFwnIFwnIH19KTwvc3Bhbj5cbiAgICA8L2k+XG48L3NwYW4+Jyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3RhYnMvdGFiLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oYSl7YS5wdXQoInRlbXBsYXRlL3RhYnMvdGFiLmh0bWwiLCc8bGkgbmctY2xhc3M9InthY3RpdmU6IGFjdGl2ZSwgZGlzYWJsZWQ6IGRpc2FibGVkfSI+XG4gIDxhIG5nLWNsaWNrPSJzZWxlY3QoKSIgdGFiLWhlYWRpbmctdHJhbnNjbHVkZT57e2hlYWRpbmd9fTwvYT5cbjwvbGk+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvdGFicy90YWJzZXQtdGl0bGVzLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oYSl7YS5wdXQoInRlbXBsYXRlL3RhYnMvdGFic2V0LXRpdGxlcy5odG1sIiwiPHVsIGNsYXNzPVwibmF2IHt7dHlwZSAmJiAnbmF2LScgKyB0eXBlfX1cIiBuZy1jbGFzcz1cInsnbmF2LXN0YWNrZWQnOiB2ZXJ0aWNhbH1cIj5cbjwvdWw+XG4iKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbihhKXthLnB1dCgidGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbCIsJ1xuPGRpdj5cbiAgPHVsIGNsYXNzPSJuYXYgbmF2LXt7dHlwZSB8fCBcJ3RhYnNcJ319IiBuZy1jbGFzcz0ie1wnbmF2LXN0YWNrZWRcJzogdmVydGljYWwsIFwnbmF2LWp1c3RpZmllZFwnOiBqdXN0aWZpZWR9IiBuZy10cmFuc2NsdWRlPjwvdWw+XG4gIDxkaXYgY2xhc3M9InRhYi1jb250ZW50Ij5cbiAgICA8ZGl2IGNsYXNzPSJ0YWItcGFuZSIgXG4gICAgICAgICBuZy1yZXBlYXQ9InRhYiBpbiB0YWJzIiBcbiAgICAgICAgIG5nLWNsYXNzPSJ7YWN0aXZlOiB0YWIuYWN0aXZlfSJcbiAgICAgICAgIHRhYi1jb250ZW50LXRyYW5zY2x1ZGU9InRhYiI+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC9kaXY+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oYSl7YS5wdXQoInRlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sIiwnPHRhYmxlPlxuCTx0Ym9keT5cbgkJPHRyIGNsYXNzPSJ0ZXh0LWNlbnRlciI+XG4JCQk8dGQ+PGEgbmctY2xpY2s9ImluY3JlbWVudEhvdXJzKCkiIGNsYXNzPSJidG4gYnRuLWxpbmsiPjxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tdXAiPjwvc3Bhbj48L2E+PC90ZD5cbgkJCTx0ZD4mbmJzcDs8L3RkPlxuCQkJPHRkPjxhIG5nLWNsaWNrPSJpbmNyZW1lbnRNaW51dGVzKCkiIGNsYXNzPSJidG4gYnRuLWxpbmsiPjxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tdXAiPjwvc3Bhbj48L2E+PC90ZD5cbgkJCTx0ZCBuZy1zaG93PSJzaG93TWVyaWRpYW4iPjwvdGQ+XG4JCTwvdHI+XG4JCTx0cj5cbgkJCTx0ZCBzdHlsZT0id2lkdGg6NTBweDsiIGNsYXNzPSJmb3JtLWdyb3VwIiBuZy1jbGFzcz0ie1wnaGFzLWVycm9yXCc6IGludmFsaWRIb3Vyc30iPlxuCQkJCTxpbnB1dCB0eXBlPSJ0ZXh0IiBuZy1tb2RlbD0iaG91cnMiIG5nLWNoYW5nZT0idXBkYXRlSG91cnMoKSIgY2xhc3M9ImZvcm0tY29udHJvbCB0ZXh0LWNlbnRlciIgbmctbW91c2V3aGVlbD0iaW5jcmVtZW50SG91cnMoKSIgbmctcmVhZG9ubHk9InJlYWRvbmx5SW5wdXQiIG1heGxlbmd0aD0iMiI+XG4JCQk8L3RkPlxuCQkJPHRkPjo8L3RkPlxuCQkJPHRkIHN0eWxlPSJ3aWR0aDo1MHB4OyIgY2xhc3M9ImZvcm0tZ3JvdXAiIG5nLWNsYXNzPSJ7XCdoYXMtZXJyb3JcJzogaW52YWxpZE1pbnV0ZXN9Ij5cbgkJCQk8aW5wdXQgdHlwZT0idGV4dCIgbmctbW9kZWw9Im1pbnV0ZXMiIG5nLWNoYW5nZT0idXBkYXRlTWludXRlcygpIiBjbGFzcz0iZm9ybS1jb250cm9sIHRleHQtY2VudGVyIiBuZy1yZWFkb25seT0icmVhZG9ubHlJbnB1dCIgbWF4bGVuZ3RoPSIyIj5cbgkJCTwvdGQ+XG4JCQk8dGQgbmctc2hvdz0ic2hvd01lcmlkaWFuIj48YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCB0ZXh0LWNlbnRlciIgbmctY2xpY2s9InRvZ2dsZU1lcmlkaWFuKCkiPnt7bWVyaWRpYW59fTwvYnV0dG9uPjwvdGQ+XG4JCTwvdHI+XG4JCTx0ciBjbGFzcz0idGV4dC1jZW50ZXIiPlxuCQkJPHRkPjxhIG5nLWNsaWNrPSJkZWNyZW1lbnRIb3VycygpIiBjbGFzcz0iYnRuIGJ0bi1saW5rIj48c3BhbiBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWRvd24iPjwvc3Bhbj48L2E+PC90ZD5cbgkJCTx0ZD4mbmJzcDs8L3RkPlxuCQkJPHRkPjxhIG5nLWNsaWNrPSJkZWNyZW1lbnRNaW51dGVzKCkiIGNsYXNzPSJidG4gYnRuLWxpbmsiPjxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tZG93biI+PC9zcGFuPjwvYT48L3RkPlxuCQkJPHRkIG5nLXNob3c9InNob3dNZXJpZGlhbiI+PC90ZD5cbgkJPC90cj5cbgk8L3Rib2R5PlxuPC90YWJsZT5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oYSl7YS5wdXQoInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbCIsJzxhIHRhYmluZGV4PSItMSIgYmluZC1odG1sLXVuc2FmZT0ibWF0Y2gubGFiZWwgfCB0eXBlYWhlYWRIaWdobGlnaHQ6cXVlcnkiPjwvYT4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKGEpe2EucHV0KCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWwiLCc8dWwgY2xhc3M9ImRyb3Bkb3duLW1lbnUiIG5nLWlmPSJpc09wZW4oKSIgbmctc3R5bGU9Int0b3A6IHBvc2l0aW9uLnRvcCtcJ3B4XCcsIGxlZnQ6IHBvc2l0aW9uLmxlZnQrXCdweFwnfSIgc3R5bGU9ImRpc3BsYXk6IGJsb2NrOyIgcm9sZT0ibGlzdGJveCIgYXJpYS1oaWRkZW49Int7IWlzT3BlbigpfX0iPlxuICAgIDxsaSBuZy1yZXBlYXQ9Im1hdGNoIGluIG1hdGNoZXMgdHJhY2sgYnkgJGluZGV4IiBuZy1jbGFzcz0ie2FjdGl2ZTogaXNBY3RpdmUoJGluZGV4KSB9IiBuZy1tb3VzZWVudGVyPSJzZWxlY3RBY3RpdmUoJGluZGV4KSIgbmctY2xpY2s9InNlbGVjdE1hdGNoKCRpbmRleCkiIHJvbGU9Im9wdGlvbiIgaWQ9Int7bWF0Y2guaWR9fSI+XG4gICAgICAgIDxkaXYgdHlwZWFoZWFkLW1hdGNoIGluZGV4PSIkaW5kZXgiIG1hdGNoPSJtYXRjaCIgcXVlcnk9InF1ZXJ5IiB0ZW1wbGF0ZS11cmw9InRlbXBsYXRlVXJsIj48L2Rpdj5cbiAgICA8L2xpPlxuPC91bD4nKQp9XSk7')
},
{
'name': '/app/bower_components/angular-bootstrap/ui-bootstrap.js', 'data': base64.b64decode('LyoKICogYW5ndWxhci11aS1ib290c3RyYXAKICogaHR0cDovL2FuZ3VsYXItdWkuZ2l0aHViLmlvL2Jvb3RzdHJhcC8KCiAqIFZlcnNpb246IDAuMTEuMCAtIDIwMTQtMDUtMDEKICogTGljZW5zZTogTUlUCiAqLwphbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwIiwgWyJ1aS5ib290c3RyYXAudHJhbnNpdGlvbiIsInVpLmJvb3RzdHJhcC5jb2xsYXBzZSIsInVpLmJvb3RzdHJhcC5hY2NvcmRpb24iLCJ1aS5ib290c3RyYXAuYWxlcnQiLCJ1aS5ib290c3RyYXAuYmluZEh0bWwiLCJ1aS5ib290c3RyYXAuYnV0dG9ucyIsInVpLmJvb3RzdHJhcC5jYXJvdXNlbCIsInVpLmJvb3RzdHJhcC5kYXRlcGFyc2VyIiwidWkuYm9vdHN0cmFwLnBvc2l0aW9uIiwidWkuYm9vdHN0cmFwLmRhdGVwaWNrZXIiLCJ1aS5ib290c3RyYXAuZHJvcGRvd24iLCJ1aS5ib290c3RyYXAubW9kYWwiLCJ1aS5ib290c3RyYXAucGFnaW5hdGlvbiIsInVpLmJvb3RzdHJhcC50b29sdGlwIiwidWkuYm9vdHN0cmFwLnBvcG92ZXIiLCJ1aS5ib290c3RyYXAucHJvZ3Jlc3NiYXIiLCJ1aS5ib290c3RyYXAucmF0aW5nIiwidWkuYm9vdHN0cmFwLnRhYnMiLCJ1aS5ib290c3RyYXAudGltZXBpY2tlciIsInVpLmJvb3RzdHJhcC50eXBlYWhlYWQiXSk7CmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAudHJhbnNpdGlvbicsIFtdKQoKLyoqCiAqICR0cmFuc2l0aW9uIHNlcnZpY2UgcHJvdmlkZXMgYSBjb25zaXN0ZW50IGludGVyZmFjZSB0byB0cmlnZ2VyIENTUyAzIHRyYW5zaXRpb25zIGFuZCB0byBiZSBpbmZvcm1lZCB3aGVuIHRoZXkgY29tcGxldGUuCiAqIEBwYXJhbSAge0RPTUVsZW1lbnR9IGVsZW1lbnQgIFRoZSBET01FbGVtZW50IHRoYXQgd2lsbCBiZSBhbmltYXRlZC4KICogQHBhcmFtICB7c3RyaW5nfG9iamVjdHxmdW5jdGlvbn0gdHJpZ2dlciAgVGhlIHRoaW5nIHRoYXQgd2lsbCBjYXVzZSB0aGUgdHJhbnNpdGlvbiB0byBzdGFydDoKICogICAtIEFzIGEgc3RyaW5nLCBpdCByZXByZXNlbnRzIHRoZSBjc3MgY2xhc3MgdG8gYmUgYWRkZWQgdG8gdGhlIGVsZW1lbnQuCiAqICAgLSBBcyBhbiBvYmplY3QsIGl0IHJlcHJlc2VudHMgYSBoYXNoIG9mIHN0eWxlIGF0dHJpYnV0ZXMgdG8gYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC4KICogICAtIEFzIGEgZnVuY3Rpb24sIGl0IHJlcHJlc2VudHMgYSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgdGhhdCB3aWxsIGNhdXNlIHRoZSB0cmFuc2l0aW9uIHRvIG9jY3VyLgogKiBAcmV0dXJuIHtQcm9taXNlfSAgQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgdHJhbnNpdGlvbiBmaW5pc2hlcy4KICovCi5mYWN0b3J5KCckdHJhbnNpdGlvbicsIFsnJHEnLCAnJHRpbWVvdXQnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uKCRxLCAkdGltZW91dCwgJHJvb3RTY29wZSkgewoKICB2YXIgJHRyYW5zaXRpb24gPSBmdW5jdGlvbihlbGVtZW50LCB0cmlnZ2VyLCBvcHRpb25zKSB7CiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7CiAgICB2YXIgZW5kRXZlbnROYW1lID0gJHRyYW5zaXRpb25bb3B0aW9ucy5hbmltYXRpb24gPyAnYW5pbWF0aW9uRW5kRXZlbnROYW1lJyA6ICd0cmFuc2l0aW9uRW5kRXZlbnROYW1lJ107CgogICAgdmFyIHRyYW5zaXRpb25FbmRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7CiAgICAgICAgZWxlbWVudC51bmJpbmQoZW5kRXZlbnROYW1lLCB0cmFuc2l0aW9uRW5kSGFuZGxlcik7CiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShlbGVtZW50KTsKICAgICAgfSk7CiAgICB9OwoKICAgIGlmIChlbmRFdmVudE5hbWUpIHsKICAgICAgZWxlbWVudC5iaW5kKGVuZEV2ZW50TmFtZSwgdHJhbnNpdGlvbkVuZEhhbmRsZXIpOwogICAgfQoKICAgIC8vIFdyYXAgaW4gYSB0aW1lb3V0IHRvIGFsbG93IHRoZSBicm93c2VyIHRpbWUgdG8gdXBkYXRlIHRoZSBET00gYmVmb3JlIHRoZSB0cmFuc2l0aW9uIGlzIHRvIG9jY3VyCiAgICAkdGltZW91dChmdW5jdGlvbigpIHsKICAgICAgaWYgKCBhbmd1bGFyLmlzU3RyaW5nKHRyaWdnZXIpICkgewogICAgICAgIGVsZW1lbnQuYWRkQ2xhc3ModHJpZ2dlcik7CiAgICAgIH0gZWxzZSBpZiAoIGFuZ3VsYXIuaXNGdW5jdGlvbih0cmlnZ2VyKSApIHsKICAgICAgICB0cmlnZ2VyKGVsZW1lbnQpOwogICAgICB9IGVsc2UgaWYgKCBhbmd1bGFyLmlzT2JqZWN0KHRyaWdnZXIpICkgewogICAgICAgIGVsZW1lbnQuY3NzKHRyaWdnZXIpOwogICAgICB9CiAgICAgIC8vSWYgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHRyYW5zaXRpb25zLCBpbnN0YW50bHkgcmVzb2x2ZQogICAgICBpZiAoICFlbmRFdmVudE5hbWUgKSB7CiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShlbGVtZW50KTsKICAgICAgfQogICAgfSk7CgogICAgLy8gQWRkIG91ciBjdXN0b20gY2FuY2VsIGZ1bmN0aW9uIHRvIHRoZSBwcm9taXNlIHRoYXQgaXMgcmV0dXJuZWQKICAgIC8vIFdlIGNhbiBjYWxsIHRoaXMgaWYgd2UgYXJlIGFib3V0IHRvIHJ1biBhIG5ldyB0cmFuc2l0aW9uLCB3aGljaCB3ZSBrbm93IHdpbGwgcHJldmVudCB0aGlzIHRyYW5zaXRpb24gZnJvbSBlbmRpbmcsCiAgICAvLyBpLmUuIGl0IHdpbGwgdGhlcmVmb3JlIG5ldmVyIHJhaXNlIGEgdHJhbnNpdGlvbkVuZCBldmVudCBmb3IgdGhhdCB0cmFuc2l0aW9uCiAgICBkZWZlcnJlZC5wcm9taXNlLmNhbmNlbCA9IGZ1bmN0aW9uKCkgewogICAgICBpZiAoIGVuZEV2ZW50TmFtZSApIHsKICAgICAgICBlbGVtZW50LnVuYmluZChlbmRFdmVudE5hbWUsIHRyYW5zaXRpb25FbmRIYW5kbGVyKTsKICAgICAgfQogICAgICBkZWZlcnJlZC5yZWplY3QoJ1RyYW5zaXRpb24gY2FuY2VsbGVkJyk7CiAgICB9OwoKICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlOwogIH07CgogIC8vIFdvcmsgb3V0IHRoZSBuYW1lIG9mIHRoZSB0cmFuc2l0aW9uRW5kIGV2ZW50CiAgdmFyIHRyYW5zRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyYW5zJyk7CiAgdmFyIHRyYW5zaXRpb25FbmRFdmVudE5hbWVzID0gewogICAgJ1dlYmtpdFRyYW5zaXRpb24nOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsCiAgICAnTW96VHJhbnNpdGlvbic6ICd0cmFuc2l0aW9uZW5kJywKICAgICdPVHJhbnNpdGlvbic6ICdvVHJhbnNpdGlvbkVuZCcsCiAgICAndHJhbnNpdGlvbic6ICd0cmFuc2l0aW9uZW5kJwogIH07CiAgdmFyIGFuaW1hdGlvbkVuZEV2ZW50TmFtZXMgPSB7CiAgICAnV2Via2l0VHJhbnNpdGlvbic6ICd3ZWJraXRBbmltYXRpb25FbmQnLAogICAgJ01velRyYW5zaXRpb24nOiAnYW5pbWF0aW9uZW5kJywKICAgICdPVHJhbnNpdGlvbic6ICdvQW5pbWF0aW9uRW5kJywKICAgICd0cmFuc2l0aW9uJzogJ2FuaW1hdGlvbmVuZCcKICB9OwogIGZ1bmN0aW9uIGZpbmRFbmRFdmVudE5hbWUoZW5kRXZlbnROYW1lcykgewogICAgZm9yICh2YXIgbmFtZSBpbiBlbmRFdmVudE5hbWVzKXsKICAgICAgaWYgKHRyYW5zRWxlbWVudC5zdHlsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuIGVuZEV2ZW50TmFtZXNbbmFtZV07CiAgICAgIH0KICAgIH0KICB9CiAgJHRyYW5zaXRpb24udHJhbnNpdGlvbkVuZEV2ZW50TmFtZSA9IGZpbmRFbmRFdmVudE5hbWUodHJhbnNpdGlvbkVuZEV2ZW50TmFtZXMpOwogICR0cmFuc2l0aW9uLmFuaW1hdGlvbkVuZEV2ZW50TmFtZSA9IGZpbmRFbmRFdmVudE5hbWUoYW5pbWF0aW9uRW5kRXZlbnROYW1lcyk7CiAgcmV0dXJuICR0cmFuc2l0aW9uOwp9XSk7Cgphbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmNvbGxhcHNlJywgWyd1aS5ib290c3RyYXAudHJhbnNpdGlvbiddKQoKICAuZGlyZWN0aXZlKCdjb2xsYXBzZScsIFsnJHRyYW5zaXRpb24nLCBmdW5jdGlvbiAoJHRyYW5zaXRpb24pIHsKCiAgICByZXR1cm4gewogICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7CgogICAgICAgIHZhciBpbml0aWFsQW5pbVNraXAgPSB0cnVlOwogICAgICAgIHZhciBjdXJyZW50VHJhbnNpdGlvbjsKCiAgICAgICAgZnVuY3Rpb24gZG9UcmFuc2l0aW9uKGNoYW5nZSkgewogICAgICAgICAgdmFyIG5ld1RyYW5zaXRpb24gPSAkdHJhbnNpdGlvbihlbGVtZW50LCBjaGFuZ2UpOwogICAgICAgICAgaWYgKGN1cnJlbnRUcmFuc2l0aW9uKSB7CiAgICAgICAgICAgIGN1cnJlbnRUcmFuc2l0aW9uLmNhbmNlbCgpOwogICAgICAgICAgfQogICAgICAgICAgY3VycmVudFRyYW5zaXRpb24gPSBuZXdUcmFuc2l0aW9uOwogICAgICAgICAgbmV3VHJhbnNpdGlvbi50aGVuKG5ld1RyYW5zaXRpb25Eb25lLCBuZXdUcmFuc2l0aW9uRG9uZSk7CiAgICAgICAgICByZXR1cm4gbmV3VHJhbnNpdGlvbjsKCiAgICAgICAgICBmdW5jdGlvbiBuZXdUcmFuc2l0aW9uRG9uZSgpIHsKICAgICAgICAgICAgLy8gTWFrZSBzdXJlIGl0J3MgdGhpcyB0cmFuc2l0aW9uLCBvdGhlcndpc2UsIGxlYXZlIGl0IGFsb25lLgogICAgICAgICAgICBpZiAoY3VycmVudFRyYW5zaXRpb24gPT09IG5ld1RyYW5zaXRpb24pIHsKICAgICAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbiA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZXhwYW5kKCkgewogICAgICAgICAgaWYgKGluaXRpYWxBbmltU2tpcCkgewogICAgICAgICAgICBpbml0aWFsQW5pbVNraXAgPSBmYWxzZTsKICAgICAgICAgICAgZXhwYW5kRG9uZSgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnY29sbGFwc2UnKS5hZGRDbGFzcygnY29sbGFwc2luZycpOwogICAgICAgICAgICBkb1RyYW5zaXRpb24oeyBoZWlnaHQ6IGVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0ICsgJ3B4JyB9KS50aGVuKGV4cGFuZERvbmUpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZXhwYW5kRG9uZSgpIHsKICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKTsKICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2NvbGxhcHNlIGluJyk7CiAgICAgICAgICBlbGVtZW50LmNzcyh7aGVpZ2h0OiAnYXV0byd9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGNvbGxhcHNlKCkgewogICAgICAgICAgaWYgKGluaXRpYWxBbmltU2tpcCkgewogICAgICAgICAgICBpbml0aWFsQW5pbVNraXAgPSBmYWxzZTsKICAgICAgICAgICAgY29sbGFwc2VEb25lKCk7CiAgICAgICAgICAgIGVsZW1lbnQuY3NzKHtoZWlnaHQ6IDB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIENTUyB0cmFuc2l0aW9ucyBkb24ndCB3b3JrIHdpdGggaGVpZ2h0OiBhdXRvLCBzbyB3ZSBoYXZlIHRvIG1hbnVhbGx5IGNoYW5nZSB0aGUgaGVpZ2h0IHRvIGEgc3BlY2lmaWMgdmFsdWUKICAgICAgICAgICAgZWxlbWVudC5jc3MoeyBoZWlnaHQ6IGVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0ICsgJ3B4JyB9KTsKICAgICAgICAgICAgLy90cmlnZ2VyIHJlZmxvdyBzbyBhIGJyb3dzZXIgcmVhbGl6ZXMgdGhhdCBoZWlnaHQgd2FzIHVwZGF0ZWQgZnJvbSBhdXRvIHRvIGEgc3BlY2lmaWMgdmFsdWUKICAgICAgICAgICAgdmFyIHggPSBlbGVtZW50WzBdLm9mZnNldFdpZHRoOwoKICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnY29sbGFwc2UgaW4nKS5hZGRDbGFzcygnY29sbGFwc2luZycpOwoKICAgICAgICAgICAgZG9UcmFuc2l0aW9uKHsgaGVpZ2h0OiAwIH0pLnRoZW4oY29sbGFwc2VEb25lKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGNvbGxhcHNlRG9uZSgpIHsKICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKTsKICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2NvbGxhcHNlJyk7CiAgICAgICAgfQoKICAgICAgICBzY29wZS4kd2F0Y2goYXR0cnMuY29sbGFwc2UsIGZ1bmN0aW9uIChzaG91bGRDb2xsYXBzZSkgewogICAgICAgICAgaWYgKHNob3VsZENvbGxhcHNlKSB7CiAgICAgICAgICAgIGNvbGxhcHNlKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBleHBhbmQoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfTsKICB9XSk7Cgphbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmFjY29yZGlvbicsIFsndWkuYm9vdHN0cmFwLmNvbGxhcHNlJ10pCgouY29uc3RhbnQoJ2FjY29yZGlvbkNvbmZpZycsIHsKICBjbG9zZU90aGVyczogdHJ1ZQp9KQoKLmNvbnRyb2xsZXIoJ0FjY29yZGlvbkNvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAnYWNjb3JkaW9uQ29uZmlnJywgZnVuY3Rpb24gKCRzY29wZSwgJGF0dHJzLCBhY2NvcmRpb25Db25maWcpIHsKCiAgLy8gVGhpcyBhcnJheSBrZWVwcyB0cmFjayBvZiB0aGUgYWNjb3JkaW9uIGdyb3VwcwogIHRoaXMuZ3JvdXBzID0gW107CgogIC8vIEVuc3VyZSB0aGF0IGFsbCB0aGUgZ3JvdXBzIGluIHRoaXMgYWNjb3JkaW9uIGFyZSBjbG9zZWQsIHVubGVzcyBjbG9zZS1vdGhlcnMgZXhwbGljaXRseSBzYXlzIG5vdCB0bwogIHRoaXMuY2xvc2VPdGhlcnMgPSBmdW5jdGlvbihvcGVuR3JvdXApIHsKICAgIHZhciBjbG9zZU90aGVycyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5jbG9zZU90aGVycykgPyAkc2NvcGUuJGV2YWwoJGF0dHJzLmNsb3NlT3RoZXJzKSA6IGFjY29yZGlvbkNvbmZpZy5jbG9zZU90aGVyczsKICAgIGlmICggY2xvc2VPdGhlcnMgKSB7CiAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0aGlzLmdyb3VwcywgZnVuY3Rpb24gKGdyb3VwKSB7CiAgICAgICAgaWYgKCBncm91cCAhPT0gb3Blbkdyb3VwICkgewogICAgICAgICAgZ3JvdXAuaXNPcGVuID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9OwoKICAvLyBUaGlzIGlzIGNhbGxlZCBmcm9tIHRoZSBhY2NvcmRpb24tZ3JvdXAgZGlyZWN0aXZlIHRvIGFkZCBpdHNlbGYgdG8gdGhlIGFjY29yZGlvbgogIHRoaXMuYWRkR3JvdXAgPSBmdW5jdGlvbihncm91cFNjb3BlKSB7CiAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICB0aGlzLmdyb3Vwcy5wdXNoKGdyb3VwU2NvcGUpOwoKICAgIGdyb3VwU2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uIChldmVudCkgewogICAgICB0aGF0LnJlbW92ZUdyb3VwKGdyb3VwU2NvcGUpOwogICAgfSk7CiAgfTsKCiAgLy8gVGhpcyBpcyBjYWxsZWQgZnJvbSB0aGUgYWNjb3JkaW9uLWdyb3VwIGRpcmVjdGl2ZSB3aGVuIHRvIHJlbW92ZSBpdHNlbGYKICB0aGlzLnJlbW92ZUdyb3VwID0gZnVuY3Rpb24oZ3JvdXApIHsKICAgIHZhciBpbmRleCA9IHRoaXMuZ3JvdXBzLmluZGV4T2YoZ3JvdXApOwogICAgaWYgKCBpbmRleCAhPT0gLTEgKSB7CiAgICAgIHRoaXMuZ3JvdXBzLnNwbGljZShpbmRleCwgMSk7CiAgICB9CiAgfTsKCn1dKQoKLy8gVGhlIGFjY29yZGlvbiBkaXJlY3RpdmUgc2ltcGx5IHNldHMgdXAgdGhlIGRpcmVjdGl2ZSBjb250cm9sbGVyCi8vIGFuZCBhZGRzIGFuIGFjY29yZGlvbiBDU1MgY2xhc3MgdG8gaXRzZWxmIGVsZW1lbnQuCi5kaXJlY3RpdmUoJ2FjY29yZGlvbicsIGZ1bmN0aW9uICgpIHsKICByZXR1cm4gewogICAgcmVzdHJpY3Q6J0VBJywKICAgIGNvbnRyb2xsZXI6J0FjY29yZGlvbkNvbnRyb2xsZXInLAogICAgdHJhbnNjbHVkZTogdHJ1ZSwKICAgIHJlcGxhY2U6IGZhbHNlLAogICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLmh0bWwnCiAgfTsKfSkKCi8vIFRoZSBhY2NvcmRpb24tZ3JvdXAgZGlyZWN0aXZlIGluZGljYXRlcyBhIGJsb2NrIG9mIGh0bWwgdGhhdCB3aWxsIGV4cGFuZCBhbmQgY29sbGFwc2UgaW4gYW4gYWNjb3JkaW9uCi5kaXJlY3RpdmUoJ2FjY29yZGlvbkdyb3VwJywgZnVuY3Rpb24oKSB7CiAgcmV0dXJuIHsKICAgIHJlcXVpcmU6J15hY2NvcmRpb24nLCAgICAgICAgIC8vIFdlIG5lZWQgdGhpcyBkaXJlY3RpdmUgdG8gYmUgaW5zaWRlIGFuIGFjY29yZGlvbgogICAgcmVzdHJpY3Q6J0VBJywKICAgIHRyYW5zY2x1ZGU6dHJ1ZSwgICAgICAgICAgICAgIC8vIEl0IHRyYW5zY2x1ZGVzIHRoZSBjb250ZW50cyBvZiB0aGUgZGlyZWN0aXZlIGludG8gdGhlIHRlbXBsYXRlCiAgICByZXBsYWNlOiB0cnVlLCAgICAgICAgICAgICAgICAvLyBUaGUgZWxlbWVudCBjb250YWluaW5nIHRoZSBkaXJlY3RpdmUgd2lsbCBiZSByZXBsYWNlZCB3aXRoIHRoZSB0ZW1wbGF0ZQogICAgdGVtcGxhdGVVcmw6J3RlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbCcsCiAgICBzY29wZTogewogICAgICBoZWFkaW5nOiAnQCcsICAgICAgICAgICAgICAgLy8gSW50ZXJwb2xhdGUgdGhlIGhlYWRpbmcgYXR0cmlidXRlIG9udG8gdGhpcyBzY29wZQogICAgICBpc09wZW46ICc9PycsCiAgICAgIGlzRGlzYWJsZWQ6ICc9PycKICAgIH0sCiAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5zZXRIZWFkaW5nID0gZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHRoaXMuaGVhZGluZyA9IGVsZW1lbnQ7CiAgICAgIH07CiAgICB9LAogICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBhY2NvcmRpb25DdHJsKSB7CiAgICAgIGFjY29yZGlvbkN0cmwuYWRkR3JvdXAoc2NvcGUpOwoKICAgICAgc2NvcGUuJHdhdGNoKCdpc09wZW4nLCBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgIGlmICggdmFsdWUgKSB7CiAgICAgICAgICBhY2NvcmRpb25DdHJsLmNsb3NlT3RoZXJzKHNjb3BlKTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgc2NvcGUudG9nZ2xlT3BlbiA9IGZ1bmN0aW9uKCkgewogICAgICAgIGlmICggIXNjb3BlLmlzRGlzYWJsZWQgKSB7CiAgICAgICAgICBzY29wZS5pc09wZW4gPSAhc2NvcGUuaXNPcGVuOwogICAgICAgIH0KICAgICAgfTsKICAgIH0KICB9Owp9KQoKLy8gVXNlIGFjY29yZGlvbi1oZWFkaW5nIGJlbG93IGFuIGFjY29yZGlvbi1ncm91cCB0byBwcm92aWRlIGEgaGVhZGluZyBjb250YWluaW5nIEhUTUwKLy8gPGFjY29yZGlvbi1ncm91cD4KLy8gICA8YWNjb3JkaW9uLWhlYWRpbmc+SGVhZGluZyBjb250YWluaW5nIEhUTUwgLSA8aW1nIHNyYz0iLi4uIj48L2FjY29yZGlvbi1oZWFkaW5nPgovLyA8L2FjY29yZGlvbi1ncm91cD4KLmRpcmVjdGl2ZSgnYWNjb3JkaW9uSGVhZGluZycsIGZ1bmN0aW9uKCkgewogIHJldHVybiB7CiAgICByZXN0cmljdDogJ0VBJywKICAgIHRyYW5zY2x1ZGU6IHRydWUsICAgLy8gR3JhYiB0aGUgY29udGVudHMgdG8gYmUgdXNlZCBhcyB0aGUgaGVhZGluZwogICAgdGVtcGxhdGU6ICcnLCAgICAgICAvLyBJbiBlZmZlY3QgcmVtb3ZlIHRoaXMgZWxlbWVudCEKICAgIHJlcGxhY2U6IHRydWUsCiAgICByZXF1aXJlOiAnXmFjY29yZGlvbkdyb3VwJywKICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBhY2NvcmRpb25Hcm91cEN0cmwsIHRyYW5zY2x1ZGUpIHsKICAgICAgLy8gUGFzcyB0aGUgaGVhZGluZyB0byB0aGUgYWNjb3JkaW9uLWdyb3VwIGNvbnRyb2xsZXIKICAgICAgLy8gc28gdGhhdCBpdCBjYW4gYmUgdHJhbnNjbHVkZWQgaW50byB0aGUgcmlnaHQgcGxhY2UgaW4gdGhlIHRlbXBsYXRlCiAgICAgIC8vIFtUaGUgc2Vjb25kIHBhcmFtZXRlciB0byB0cmFuc2NsdWRlIGNhdXNlcyB0aGUgZWxlbWVudHMgdG8gYmUgY2xvbmVkIHNvIHRoYXQgdGhleSB3b3JrIGluIG5nLXJlcGVhdF0KICAgICAgYWNjb3JkaW9uR3JvdXBDdHJsLnNldEhlYWRpbmcodHJhbnNjbHVkZShzY29wZSwgZnVuY3Rpb24oKSB7fSkpOwogICAgfQogIH07Cn0pCgovLyBVc2UgaW4gdGhlIGFjY29yZGlvbi1ncm91cCB0ZW1wbGF0ZSB0byBpbmRpY2F0ZSB3aGVyZSB5b3Ugd2FudCB0aGUgaGVhZGluZyB0byBiZSB0cmFuc2NsdWRlZAovLyBZb3UgbXVzdCBwcm92aWRlIHRoZSBwcm9wZXJ0eSBvbiB0aGUgYWNjb3JkaW9uLWdyb3VwIGNvbnRyb2xsZXIgdGhhdCB3aWxsIGhvbGQgdGhlIHRyYW5zY2x1ZGVkIGVsZW1lbnQKLy8gPGRpdiBjbGFzcz0iYWNjb3JkaW9uLWdyb3VwIj4KLy8gICA8ZGl2IGNsYXNzPSJhY2NvcmRpb24taGVhZGluZyIgPjxhIC4uLiBhY2NvcmRpb24tdHJhbnNjbHVkZT0iaGVhZGluZyI+Li4uPC9hPjwvZGl2PgovLyAgIC4uLgovLyA8L2Rpdj4KLmRpcmVjdGl2ZSgnYWNjb3JkaW9uVHJhbnNjbHVkZScsIGZ1bmN0aW9uKCkgewogIHJldHVybiB7CiAgICByZXF1aXJlOiAnXmFjY29yZGlvbkdyb3VwJywKICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjb250cm9sbGVyKSB7CiAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHsgcmV0dXJuIGNvbnRyb2xsZXJbYXR0ci5hY2NvcmRpb25UcmFuc2NsdWRlXTsgfSwgZnVuY3Rpb24oaGVhZGluZykgewogICAgICAgIGlmICggaGVhZGluZyApIHsKICAgICAgICAgIGVsZW1lbnQuaHRtbCgnJyk7CiAgICAgICAgICBlbGVtZW50LmFwcGVuZChoZWFkaW5nKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH07Cn0pOwoKYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5hbGVydCcsIFtdKQoKLmNvbnRyb2xsZXIoJ0FsZXJ0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsIGZ1bmN0aW9uICgkc2NvcGUsICRhdHRycykgewogICRzY29wZS5jbG9zZWFibGUgPSAnY2xvc2UnIGluICRhdHRyczsKfV0pCgouZGlyZWN0aXZlKCdhbGVydCcsIGZ1bmN0aW9uICgpIHsKICByZXR1cm4gewogICAgcmVzdHJpY3Q6J0VBJywKICAgIGNvbnRyb2xsZXI6J0FsZXJ0Q29udHJvbGxlcicsCiAgICB0ZW1wbGF0ZVVybDondGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbCcsCiAgICB0cmFuc2NsdWRlOnRydWUsCiAgICByZXBsYWNlOnRydWUsCiAgICBzY29wZTogewogICAgICB0eXBlOiAnQCcsCiAgICAgIGNsb3NlOiAnJicKICAgIH0KICB9Owp9KTsKCmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuYmluZEh0bWwnLCBbXSkKCiAgLmRpcmVjdGl2ZSgnYmluZEh0bWxVbnNhZmUnLCBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7CiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ25nLWJpbmRpbmcnKS5kYXRhKCckYmluZGluZycsIGF0dHIuYmluZEh0bWxVbnNhZmUpOwogICAgICBzY29wZS4kd2F0Y2goYXR0ci5iaW5kSHRtbFVuc2FmZSwgZnVuY3Rpb24gYmluZEh0bWxVbnNhZmVXYXRjaEFjdGlvbih2YWx1ZSkgewogICAgICAgIGVsZW1lbnQuaHRtbCh2YWx1ZSB8fCAnJyk7CiAgICAgIH0pOwogICAgfTsKICB9KTsKYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5idXR0b25zJywgW10pCgouY29uc3RhbnQoJ2J1dHRvbkNvbmZpZycsIHsKICBhY3RpdmVDbGFzczogJ2FjdGl2ZScsCiAgdG9nZ2xlRXZlbnQ6ICdjbGljaycKfSkKCi5jb250cm9sbGVyKCdCdXR0b25zQ29udHJvbGxlcicsIFsnYnV0dG9uQ29uZmlnJywgZnVuY3Rpb24oYnV0dG9uQ29uZmlnKSB7CiAgdGhpcy5hY3RpdmVDbGFzcyA9IGJ1dHRvbkNvbmZpZy5hY3RpdmVDbGFzcyB8fCAnYWN0aXZlJzsKICB0aGlzLnRvZ2dsZUV2ZW50ID0gYnV0dG9uQ29uZmlnLnRvZ2dsZUV2ZW50IHx8ICdjbGljayc7Cn1dKQoKLmRpcmVjdGl2ZSgnYnRuUmFkaW8nLCBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHsKICAgIHJlcXVpcmU6IFsnYnRuUmFkaW8nLCAnbmdNb2RlbCddLAogICAgY29udHJvbGxlcjogJ0J1dHRvbnNDb250cm9sbGVyJywKICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7CiAgICAgIHZhciBidXR0b25zQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdOwoKICAgICAgLy9tb2RlbCAtPiBVSQogICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIGVsZW1lbnQudG9nZ2xlQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MsIGFuZ3VsYXIuZXF1YWxzKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlLCBzY29wZS4kZXZhbChhdHRycy5idG5SYWRpbykpKTsKICAgICAgfTsKCiAgICAgIC8vdWktPm1vZGVsCiAgICAgIGVsZW1lbnQuYmluZChidXR0b25zQ3RybC50b2dnbGVFdmVudCwgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBpc0FjdGl2ZSA9IGVsZW1lbnQuaGFzQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MpOwoKICAgICAgICBpZiAoIWlzQWN0aXZlIHx8IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnVuY2hlY2thYmxlKSkgewogICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShpc0FjdGl2ZSA/IG51bGwgOiBzY29wZS4kZXZhbChhdHRycy5idG5SYWRpbykpOwogICAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH07Cn0pCgouZGlyZWN0aXZlKCdidG5DaGVja2JveCcsIGZ1bmN0aW9uICgpIHsKICByZXR1cm4gewogICAgcmVxdWlyZTogWydidG5DaGVja2JveCcsICduZ01vZGVsJ10sCiAgICBjb250cm9sbGVyOiAnQnV0dG9uc0NvbnRyb2xsZXInLAogICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHsKICAgICAgdmFyIGJ1dHRvbnNDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07CgogICAgICBmdW5jdGlvbiBnZXRUcnVlVmFsdWUoKSB7CiAgICAgICAgcmV0dXJuIGdldENoZWNrYm94VmFsdWUoYXR0cnMuYnRuQ2hlY2tib3hUcnVlLCB0cnVlKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZ2V0RmFsc2VWYWx1ZSgpIHsKICAgICAgICByZXR1cm4gZ2V0Q2hlY2tib3hWYWx1ZShhdHRycy5idG5DaGVja2JveEZhbHNlLCBmYWxzZSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGdldENoZWNrYm94VmFsdWUoYXR0cmlidXRlVmFsdWUsIGRlZmF1bHRWYWx1ZSkgewogICAgICAgIHZhciB2YWwgPSBzY29wZS4kZXZhbChhdHRyaWJ1dGVWYWx1ZSk7CiAgICAgICAgcmV0dXJuIGFuZ3VsYXIuaXNEZWZpbmVkKHZhbCkgPyB2YWwgOiBkZWZhdWx0VmFsdWU7CiAgICAgIH0KCiAgICAgIC8vbW9kZWwgLT4gVUkKICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBlbGVtZW50LnRvZ2dsZUNsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzLCBhbmd1bGFyLmVxdWFscyhuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSwgZ2V0VHJ1ZVZhbHVlKCkpKTsKICAgICAgfTsKCiAgICAgIC8vdWktPm1vZGVsCiAgICAgIGVsZW1lbnQuYmluZChidXR0b25zQ3RybC50b2dnbGVFdmVudCwgZnVuY3Rpb24gKCkgewogICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKGVsZW1lbnQuaGFzQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MpID8gZ2V0RmFsc2VWYWx1ZSgpIDogZ2V0VHJ1ZVZhbHVlKCkpOwogICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Owp9KTsKCi8qKgoqIEBuZ2RvYyBvdmVydmlldwoqIEBuYW1lIHVpLmJvb3RzdHJhcC5jYXJvdXNlbAoqCiogQGRlc2NyaXB0aW9uCiogQW5ndWxhckpTIHZlcnNpb24gb2YgYW4gaW1hZ2UgY2Fyb3VzZWwuCioKKi8KYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5jYXJvdXNlbCcsIFsndWkuYm9vdHN0cmFwLnRyYW5zaXRpb24nXSkKLmNvbnRyb2xsZXIoJ0Nhcm91c2VsQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJyR0cmFuc2l0aW9uJywgZnVuY3Rpb24gKCRzY29wZSwgJHRpbWVvdXQsICR0cmFuc2l0aW9uKSB7CiAgdmFyIHNlbGYgPSB0aGlzLAogICAgc2xpZGVzID0gc2VsZi5zbGlkZXMgPSAkc2NvcGUuc2xpZGVzID0gW10sCiAgICBjdXJyZW50SW5kZXggPSAtMSwKICAgIGN1cnJlbnRUaW1lb3V0LCBpc1BsYXlpbmc7CiAgc2VsZi5jdXJyZW50U2xpZGUgPSBudWxsOwoKICB2YXIgZGVzdHJveWVkID0gZmFsc2U7CiAgLyogZGlyZWN0aW9uOiAicHJldiIgb3IgIm5leHQiICovCiAgc2VsZi5zZWxlY3QgPSAkc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24obmV4dFNsaWRlLCBkaXJlY3Rpb24pIHsKICAgIHZhciBuZXh0SW5kZXggPSBzbGlkZXMuaW5kZXhPZihuZXh0U2xpZGUpOwogICAgLy9EZWNpZGUgZGlyZWN0aW9uIGlmIGl0J3Mgbm90IGdpdmVuCiAgICBpZiAoZGlyZWN0aW9uID09PSB1bmRlZmluZWQpIHsKICAgICAgZGlyZWN0aW9uID0gbmV4dEluZGV4ID4gY3VycmVudEluZGV4ID8gJ25leHQnIDogJ3ByZXYnOwogICAgfQogICAgaWYgKG5leHRTbGlkZSAmJiBuZXh0U2xpZGUgIT09IHNlbGYuY3VycmVudFNsaWRlKSB7CiAgICAgIGlmICgkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uKSB7CiAgICAgICAgJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbi5jYW5jZWwoKTsKICAgICAgICAvL1RpbWVvdXQgc28gbmctY2xhc3MgaW4gdGVtcGxhdGUgaGFzIHRpbWUgdG8gZml4IGNsYXNzZXMgZm9yIGZpbmlzaGVkIHNsaWRlCiAgICAgICAgJHRpbWVvdXQoZ29OZXh0KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBnb05leHQoKTsKICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gZ29OZXh0KCkgewogICAgICAvLyBTY29wZSBoYXMgYmVlbiBkZXN0cm95ZWQsIHN0b3AgaGVyZS4KICAgICAgaWYgKGRlc3Ryb3llZCkgeyByZXR1cm47IH0KICAgICAgLy9JZiB3ZSBoYXZlIGEgc2xpZGUgdG8gdHJhbnNpdGlvbiBmcm9tIGFuZCB3ZSBoYXZlIGEgdHJhbnNpdGlvbiB0eXBlIGFuZCB3ZSdyZSBhbGxvd2VkLCBnbwogICAgICBpZiAoc2VsZi5jdXJyZW50U2xpZGUgJiYgYW5ndWxhci5pc1N0cmluZyhkaXJlY3Rpb24pICYmICEkc2NvcGUubm9UcmFuc2l0aW9uICYmIG5leHRTbGlkZS4kZWxlbWVudCkgewogICAgICAgIC8vV2Ugc2hvdWxkbid0IGRvIGNsYXNzIG1hbmlwIGluIGhlcmUsIGJ1dCBpdCdzIHRoZSBzYW1lIHdlaXJkIHRoaW5nIGJvb3RzdHJhcCBkb2VzLiBuZWVkIHRvIGZpeCBzb21ldGltZQogICAgICAgIG5leHRTbGlkZS4kZWxlbWVudC5hZGRDbGFzcyhkaXJlY3Rpb24pOwogICAgICAgIHZhciByZWZsb3cgPSBuZXh0U2xpZGUuJGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGg7IC8vZm9yY2UgcmVmbG93CgogICAgICAgIC8vU2V0IGFsbCBvdGhlciBzbGlkZXMgdG8gc3RvcCBkb2luZyB0aGVpciBzdHVmZiBmb3IgdGhlIG5ldyB0cmFuc2l0aW9uCiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNsaWRlcywgZnVuY3Rpb24oc2xpZGUpIHsKICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHNsaWRlLCB7ZGlyZWN0aW9uOiAnJywgZW50ZXJpbmc6IGZhbHNlLCBsZWF2aW5nOiBmYWxzZSwgYWN0aXZlOiBmYWxzZX0pOwogICAgICAgIH0pOwogICAgICAgIGFuZ3VsYXIuZXh0ZW5kKG5leHRTbGlkZSwge2RpcmVjdGlvbjogZGlyZWN0aW9uLCBhY3RpdmU6IHRydWUsIGVudGVyaW5nOiB0cnVlfSk7CiAgICAgICAgYW5ndWxhci5leHRlbmQoc2VsZi5jdXJyZW50U2xpZGV8fHt9LCB7ZGlyZWN0aW9uOiBkaXJlY3Rpb24sIGxlYXZpbmc6IHRydWV9KTsKCiAgICAgICAgJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbiA9ICR0cmFuc2l0aW9uKG5leHRTbGlkZS4kZWxlbWVudCwge30pOwogICAgICAgIC8vV2UgaGF2ZSB0byBjcmVhdGUgbmV3IHBvaW50ZXJzIGluc2lkZSBhIGNsb3N1cmUgc2luY2UgbmV4dCAmIGN1cnJlbnQgd2lsbCBjaGFuZ2UKICAgICAgICAoZnVuY3Rpb24obmV4dCxjdXJyZW50KSB7CiAgICAgICAgICAkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uLnRoZW4oCiAgICAgICAgICAgIGZ1bmN0aW9uKCl7IHRyYW5zaXRpb25Eb25lKG5leHQsIGN1cnJlbnQpOyB9LAogICAgICAgICAgICBmdW5jdGlvbigpeyB0cmFuc2l0aW9uRG9uZShuZXh0LCBjdXJyZW50KTsgfQogICAgICAgICAgKTsKICAgICAgICB9KG5leHRTbGlkZSwgc2VsZi5jdXJyZW50U2xpZGUpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0cmFuc2l0aW9uRG9uZShuZXh0U2xpZGUsIHNlbGYuY3VycmVudFNsaWRlKTsKICAgICAgfQogICAgICBzZWxmLmN1cnJlbnRTbGlkZSA9IG5leHRTbGlkZTsKICAgICAgY3VycmVudEluZGV4ID0gbmV4dEluZGV4OwogICAgICAvL2V2ZXJ5IHRpbWUgeW91IGNoYW5nZSBzbGlkZXMsIHJlc2V0IHRoZSB0aW1lcgogICAgICByZXN0YXJ0VGltZXIoKTsKICAgIH0KICAgIGZ1bmN0aW9uIHRyYW5zaXRpb25Eb25lKG5leHQsIGN1cnJlbnQpIHsKICAgICAgYW5ndWxhci5leHRlbmQobmV4dCwge2RpcmVjdGlvbjogJycsIGFjdGl2ZTogdHJ1ZSwgbGVhdmluZzogZmFsc2UsIGVudGVyaW5nOiBmYWxzZX0pOwogICAgICBhbmd1bGFyLmV4dGVuZChjdXJyZW50fHx7fSwge2RpcmVjdGlvbjogJycsIGFjdGl2ZTogZmFsc2UsIGxlYXZpbmc6IGZhbHNlLCBlbnRlcmluZzogZmFsc2V9KTsKICAgICAgJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbiA9IG51bGw7CiAgICB9CiAgfTsKICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHsKICAgIGRlc3Ryb3llZCA9IHRydWU7CiAgfSk7CgogIC8qIEFsbG93IG91dHNpZGUgcGVvcGxlIHRvIGNhbGwgaW5kZXhPZiBvbiBzbGlkZXMgYXJyYXkgKi8KICBzZWxmLmluZGV4T2ZTbGlkZSA9IGZ1bmN0aW9uKHNsaWRlKSB7CiAgICByZXR1cm4gc2xpZGVzLmluZGV4T2Yoc2xpZGUpOwogIH07CgogICRzY29wZS5uZXh0ID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgbmV3SW5kZXggPSAoY3VycmVudEluZGV4ICsgMSkgJSBzbGlkZXMubGVuZ3RoOwoKICAgIC8vUHJldmVudCB0aGlzIHVzZXItdHJpZ2dlcmVkIHRyYW5zaXRpb24gZnJvbSBvY2N1cnJpbmcgaWYgdGhlcmUgaXMgYWxyZWFkeSBvbmUgaW4gcHJvZ3Jlc3MKICAgIGlmICghJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbikgewogICAgICByZXR1cm4gc2VsZi5zZWxlY3Qoc2xpZGVzW25ld0luZGV4XSwgJ25leHQnKTsKICAgIH0KICB9OwoKICAkc2NvcGUucHJldiA9IGZ1bmN0aW9uKCkgewogICAgdmFyIG5ld0luZGV4ID0gY3VycmVudEluZGV4IC0gMSA8IDAgPyBzbGlkZXMubGVuZ3RoIC0gMSA6IGN1cnJlbnRJbmRleCAtIDE7CgogICAgLy9QcmV2ZW50IHRoaXMgdXNlci10cmlnZ2VyZWQgdHJhbnNpdGlvbiBmcm9tIG9jY3VycmluZyBpZiB0aGVyZSBpcyBhbHJlYWR5IG9uZSBpbiBwcm9ncmVzcwogICAgaWYgKCEkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uKSB7CiAgICAgIHJldHVybiBzZWxmLnNlbGVjdChzbGlkZXNbbmV3SW5kZXhdLCAncHJldicpOwogICAgfQogIH07CgogICRzY29wZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKHNsaWRlKSB7CiAgICAgcmV0dXJuIHNlbGYuY3VycmVudFNsaWRlID09PSBzbGlkZTsKICB9OwoKICAkc2NvcGUuJHdhdGNoKCdpbnRlcnZhbCcsIHJlc3RhcnRUaW1lcik7CiAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCByZXNldFRpbWVyKTsKCiAgZnVuY3Rpb24gcmVzdGFydFRpbWVyKCkgewogICAgcmVzZXRUaW1lcigpOwogICAgdmFyIGludGVydmFsID0gKyRzY29wZS5pbnRlcnZhbDsKICAgIGlmICghaXNOYU4oaW50ZXJ2YWwpICYmIGludGVydmFsPj0wKSB7CiAgICAgIGN1cnJlbnRUaW1lb3V0ID0gJHRpbWVvdXQodGltZXJGbiwgaW50ZXJ2YWwpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gcmVzZXRUaW1lcigpIHsKICAgIGlmIChjdXJyZW50VGltZW91dCkgewogICAgICAkdGltZW91dC5jYW5jZWwoY3VycmVudFRpbWVvdXQpOwogICAgICBjdXJyZW50VGltZW91dCA9IG51bGw7CiAgICB9CiAgfQoKICBmdW5jdGlvbiB0aW1lckZuKCkgewogICAgaWYgKGlzUGxheWluZykgewogICAgICAkc2NvcGUubmV4dCgpOwogICAgICByZXN0YXJ0VGltZXIoKTsKICAgIH0gZWxzZSB7CiAgICAgICRzY29wZS5wYXVzZSgpOwogICAgfQogIH0KCiAgJHNjb3BlLnBsYXkgPSBmdW5jdGlvbigpIHsKICAgIGlmICghaXNQbGF5aW5nKSB7CiAgICAgIGlzUGxheWluZyA9IHRydWU7CiAgICAgIHJlc3RhcnRUaW1lcigpOwogICAgfQogIH07CiAgJHNjb3BlLnBhdXNlID0gZnVuY3Rpb24oKSB7CiAgICBpZiAoISRzY29wZS5ub1BhdXNlKSB7CiAgICAgIGlzUGxheWluZyA9IGZhbHNlOwogICAgICByZXNldFRpbWVyKCk7CiAgICB9CiAgfTsKCiAgc2VsZi5hZGRTbGlkZSA9IGZ1bmN0aW9uKHNsaWRlLCBlbGVtZW50KSB7CiAgICBzbGlkZS4kZWxlbWVudCA9IGVsZW1lbnQ7CiAgICBzbGlkZXMucHVzaChzbGlkZSk7CiAgICAvL2lmIHRoaXMgaXMgdGhlIGZpcnN0IHNsaWRlIG9yIHRoZSBzbGlkZSBpcyBzZXQgdG8gYWN0aXZlLCBzZWxlY3QgaXQKICAgIGlmKHNsaWRlcy5sZW5ndGggPT09IDEgfHwgc2xpZGUuYWN0aXZlKSB7CiAgICAgIHNlbGYuc2VsZWN0KHNsaWRlc1tzbGlkZXMubGVuZ3RoLTFdKTsKICAgICAgaWYgKHNsaWRlcy5sZW5ndGggPT0gMSkgewogICAgICAgICRzY29wZS5wbGF5KCk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHNsaWRlLmFjdGl2ZSA9IGZhbHNlOwogICAgfQogIH07CgogIHNlbGYucmVtb3ZlU2xpZGUgPSBmdW5jdGlvbihzbGlkZSkgewogICAgLy9nZXQgdGhlIGluZGV4IG9mIHRoZSBzbGlkZSBpbnNpZGUgdGhlIGNhcm91c2VsCiAgICB2YXIgaW5kZXggPSBzbGlkZXMuaW5kZXhPZihzbGlkZSk7CiAgICBzbGlkZXMuc3BsaWNlKGluZGV4LCAxKTsKICAgIGlmIChzbGlkZXMubGVuZ3RoID4gMCAmJiBzbGlkZS5hY3RpdmUpIHsKICAgICAgaWYgKGluZGV4ID49IHNsaWRlcy5sZW5ndGgpIHsKICAgICAgICBzZWxmLnNlbGVjdChzbGlkZXNbaW5kZXgtMV0pOwogICAgICB9IGVsc2UgewogICAgICAgIHNlbGYuc2VsZWN0KHNsaWRlc1tpbmRleF0pOwogICAgICB9CiAgICB9IGVsc2UgaWYgKGN1cnJlbnRJbmRleCA+IGluZGV4KSB7CiAgICAgIGN1cnJlbnRJbmRleC0tOwogICAgfQogIH07Cgp9XSkKCi8qKgogKiBAbmdkb2MgZGlyZWN0aXZlCiAqIEBuYW1lIHVpLmJvb3RzdHJhcC5jYXJvdXNlbC5kaXJlY3RpdmU6Y2Fyb3VzZWwKICogQHJlc3RyaWN0IEVBCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBDYXJvdXNlbCBpcyB0aGUgb3V0ZXIgY29udGFpbmVyIGZvciBhIHNldCBvZiBpbWFnZSAnc2xpZGVzJyB0byBzaG93Y2FzZS4KICoKICogQHBhcmFtIHtudW1iZXI9fSBpbnRlcnZhbCBUaGUgdGltZSwgaW4gbWlsbGlzZWNvbmRzLCB0aGF0IGl0IHdpbGwgdGFrZSB0aGUgY2Fyb3VzZWwgdG8gZ28gdG8gdGhlIG5leHQgc2xpZGUuCiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5vVHJhbnNpdGlvbiBXaGV0aGVyIHRvIGRpc2FibGUgdHJhbnNpdGlvbnMgb24gdGhlIGNhcm91c2VsLgogKiBAcGFyYW0ge2Jvb2xlYW49fSBub1BhdXNlIFdoZXRoZXIgdG8gZGlzYWJsZSBwYXVzaW5nIG9uIHRoZSBjYXJvdXNlbCAoYnkgZGVmYXVsdCwgdGhlIGNhcm91c2VsIGludGVydmFsIHBhdXNlcyBvbiBob3ZlcikuCiAqCiAqIEBleGFtcGxlCjxleGFtcGxlIG1vZHVsZT0idWkuYm9vdHN0cmFwIj4KICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgIDxjYXJvdXNlbD4KICAgICAgPHNsaWRlPgogICAgICAgIDxpbWcgc3JjPSJodHRwOi8vcGxhY2VraXR0ZW4uY29tLzE1MC8xNTAiIHN0eWxlPSJtYXJnaW46YXV0bzsiPgogICAgICAgIDxkaXYgY2xhc3M9ImNhcm91c2VsLWNhcHRpb24iPgogICAgICAgICAgPHA+QmVhdXRpZnVsITwvcD4KICAgICAgICA8L2Rpdj4KICAgICAgPC9zbGlkZT4KICAgICAgPHNsaWRlPgogICAgICAgIDxpbWcgc3JjPSJodHRwOi8vcGxhY2VraXR0ZW4uY29tLzEwMC8xNTAiIHN0eWxlPSJtYXJnaW46YXV0bzsiPgogICAgICAgIDxkaXYgY2xhc3M9ImNhcm91c2VsLWNhcHRpb24iPgogICAgICAgICAgPHA+RCdhd3chPC9wPgogICAgICAgIDwvZGl2PgogICAgICA8L3NsaWRlPgogICAgPC9jYXJvdXNlbD4KICA8L2ZpbGU+CiAgPGZpbGUgbmFtZT0iZGVtby5jc3MiPgogICAgLmNhcm91c2VsLWluZGljYXRvcnMgewogICAgICB0b3A6IGF1dG87CiAgICAgIGJvdHRvbTogMTVweDsKICAgIH0KICA8L2ZpbGU+CjwvZXhhbXBsZT4KICovCi5kaXJlY3RpdmUoJ2Nhcm91c2VsJywgW2Z1bmN0aW9uKCkgewogIHJldHVybiB7CiAgICByZXN0cmljdDogJ0VBJywKICAgIHRyYW5zY2x1ZGU6IHRydWUsCiAgICByZXBsYWNlOiB0cnVlLAogICAgY29udHJvbGxlcjogJ0Nhcm91c2VsQ29udHJvbGxlcicsCiAgICByZXF1aXJlOiAnY2Fyb3VzZWwnLAogICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sJywKICAgIHNjb3BlOiB7CiAgICAgIGludGVydmFsOiAnPScsCiAgICAgIG5vVHJhbnNpdGlvbjogJz0nLAogICAgICBub1BhdXNlOiAnPScKICAgIH0KICB9Owp9XSkKCi8qKgogKiBAbmdkb2MgZGlyZWN0aXZlCiAqIEBuYW1lIHVpLmJvb3RzdHJhcC5jYXJvdXNlbC5kaXJlY3RpdmU6c2xpZGUKICogQHJlc3RyaWN0IEVBCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBDcmVhdGVzIGEgc2xpZGUgaW5zaWRlIGEge0BsaW5rIHVpLmJvb3RzdHJhcC5jYXJvdXNlbC5kaXJlY3RpdmU6Y2Fyb3VzZWwgY2Fyb3VzZWx9LiAgTXVzdCBiZSBwbGFjZWQgYXMgYSBjaGlsZCBvZiBhIGNhcm91c2VsIGVsZW1lbnQuCiAqCiAqIEBwYXJhbSB7Ym9vbGVhbj19IGFjdGl2ZSBNb2RlbCBiaW5kaW5nLCB3aGV0aGVyIG9yIG5vdCB0aGlzIHNsaWRlIGlzIGN1cnJlbnRseSBhY3RpdmUuCiAqCiAqIEBleGFtcGxlCjxleGFtcGxlIG1vZHVsZT0idWkuYm9vdHN0cmFwIj4KICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KPGRpdiBuZy1jb250cm9sbGVyPSJDYXJvdXNlbERlbW9DdHJsIj4KICA8Y2Fyb3VzZWw+CiAgICA8c2xpZGUgbmctcmVwZWF0PSJzbGlkZSBpbiBzbGlkZXMiIGFjdGl2ZT0ic2xpZGUuYWN0aXZlIj4KICAgICAgPGltZyBuZy1zcmM9Int7c2xpZGUuaW1hZ2V9fSIgc3R5bGU9Im1hcmdpbjphdXRvOyI+CiAgICAgIDxkaXYgY2xhc3M9ImNhcm91c2VsLWNhcHRpb24iPgogICAgICAgIDxoND5TbGlkZSB7eyRpbmRleH19PC9oND4KICAgICAgICA8cD57e3NsaWRlLnRleHR9fTwvcD4KICAgICAgPC9kaXY+CiAgICA8L3NsaWRlPgogIDwvY2Fyb3VzZWw+CiAgSW50ZXJ2YWwsIGluIG1pbGxpc2Vjb25kczogPGlucHV0IHR5cGU9Im51bWJlciIgbmctbW9kZWw9Im15SW50ZXJ2YWwiPgogIDxiciAvPkVudGVyIGEgbmVnYXRpdmUgbnVtYmVyIHRvIHN0b3AgdGhlIGludGVydmFsLgo8L2Rpdj4KICA8L2ZpbGU+CiAgPGZpbGUgbmFtZT0ic2NyaXB0LmpzIj4KZnVuY3Rpb24gQ2Fyb3VzZWxEZW1vQ3RybCgkc2NvcGUpIHsKICAkc2NvcGUubXlJbnRlcnZhbCA9IDUwMDA7Cn0KICA8L2ZpbGU+CiAgPGZpbGUgbmFtZT0iZGVtby5jc3MiPgogICAgLmNhcm91c2VsLWluZGljYXRvcnMgewogICAgICB0b3A6IGF1dG87CiAgICAgIGJvdHRvbTogMTVweDsKICAgIH0KICA8L2ZpbGU+CjwvZXhhbXBsZT4KKi8KCi5kaXJlY3RpdmUoJ3NsaWRlJywgZnVuY3Rpb24oKSB7CiAgcmV0dXJuIHsKICAgIHJlcXVpcmU6ICdeY2Fyb3VzZWwnLAogICAgcmVzdHJpY3Q6ICdFQScsCiAgICB0cmFuc2NsdWRlOiB0cnVlLAogICAgcmVwbGFjZTogdHJ1ZSwKICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvY2Fyb3VzZWwvc2xpZGUuaHRtbCcsCiAgICBzY29wZTogewogICAgICBhY3RpdmU6ICc9PycKICAgIH0sCiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjYXJvdXNlbEN0cmwpIHsKICAgICAgY2Fyb3VzZWxDdHJsLmFkZFNsaWRlKHNjb3BlLCBlbGVtZW50KTsKICAgICAgLy93aGVuIHRoZSBzY29wZSBpcyBkZXN0cm95ZWQgdGhlbiByZW1vdmUgdGhlIHNsaWRlIGZyb20gdGhlIGN1cnJlbnQgc2xpZGVzIGFycmF5CiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHsKICAgICAgICBjYXJvdXNlbEN0cmwucmVtb3ZlU2xpZGUoc2NvcGUpOwogICAgICB9KTsKCiAgICAgIHNjb3BlLiR3YXRjaCgnYWN0aXZlJywgZnVuY3Rpb24oYWN0aXZlKSB7CiAgICAgICAgaWYgKGFjdGl2ZSkgewogICAgICAgICAgY2Fyb3VzZWxDdHJsLnNlbGVjdChzY29wZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Owp9KTsKCmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuZGF0ZXBhcnNlcicsIFtdKQoKLnNlcnZpY2UoJ2RhdGVQYXJzZXInLCBbJyRsb2NhbGUnLCAnb3JkZXJCeUZpbHRlcicsIGZ1bmN0aW9uKCRsb2NhbGUsIG9yZGVyQnlGaWx0ZXIpIHsKCiAgdGhpcy5wYXJzZXJzID0ge307CgogIHZhciBmb3JtYXRDb2RlVG9SZWdleCA9IHsKICAgICd5eXl5JzogewogICAgICByZWdleDogJ1xcZHs0fScsCiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLnllYXIgPSArdmFsdWU7IH0KICAgIH0sCiAgICAneXknOiB7CiAgICAgIHJlZ2V4OiAnXFxkezJ9JywKICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMueWVhciA9ICt2YWx1ZSArIDIwMDA7IH0KICAgIH0sCiAgICAneSc6IHsKICAgICAgcmVnZXg6ICdcXGR7MSw0fScsCiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLnllYXIgPSArdmFsdWU7IH0KICAgIH0sCiAgICAnTU1NTSc6IHsKICAgICAgcmVnZXg6ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5NT05USC5qb2luKCd8JyksCiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1vbnRoID0gJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLk1PTlRILmluZGV4T2YodmFsdWUpOyB9CiAgICB9LAogICAgJ01NTSc6IHsKICAgICAgcmVnZXg6ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5TSE9SVE1PTlRILmpvaW4oJ3wnKSwKICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubW9udGggPSAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuU0hPUlRNT05USC5pbmRleE9mKHZhbHVlKTsgfQogICAgfSwKICAgICdNTSc6IHsKICAgICAgcmVnZXg6ICcwWzEtOV18MVswLTJdJywKICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubW9udGggPSB2YWx1ZSAtIDE7IH0KICAgIH0sCiAgICAnTSc6IHsKICAgICAgcmVnZXg6ICdbMS05XXwxWzAtMl0nLAogICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5tb250aCA9IHZhbHVlIC0gMTsgfQogICAgfSwKICAgICdkZCc6IHsKICAgICAgcmVnZXg6ICdbMC0yXVswLTldezF9fDNbMC0xXXsxfScsCiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLmRhdGUgPSArdmFsdWU7IH0KICAgIH0sCiAgICAnZCc6IHsKICAgICAgcmVnZXg6ICdbMS0yXT9bMC05XXsxfXwzWzAtMV17MX0nLAogICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5kYXRlID0gK3ZhbHVlOyB9CiAgICB9LAogICAgJ0VFRUUnOiB7CiAgICAgIHJlZ2V4OiAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuREFZLmpvaW4oJ3wnKQogICAgfSwKICAgICdFRUUnOiB7CiAgICAgIHJlZ2V4OiAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuU0hPUlREQVkuam9pbignfCcpCiAgICB9CiAgfTsKCiAgdGhpcy5jcmVhdGVQYXJzZXIgPSBmdW5jdGlvbihmb3JtYXQpIHsKICAgIHZhciBtYXAgPSBbXSwgcmVnZXggPSBmb3JtYXQuc3BsaXQoJycpOwoKICAgIGFuZ3VsYXIuZm9yRWFjaChmb3JtYXRDb2RlVG9SZWdleCwgZnVuY3Rpb24oZGF0YSwgY29kZSkgewogICAgICB2YXIgaW5kZXggPSBmb3JtYXQuaW5kZXhPZihjb2RlKTsKCiAgICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgICAgZm9ybWF0ID0gZm9ybWF0LnNwbGl0KCcnKTsKCiAgICAgICAgcmVnZXhbaW5kZXhdID0gJygnICsgZGF0YS5yZWdleCArICcpJzsKICAgICAgICBmb3JtYXRbaW5kZXhdID0gJyQnOyAvLyBDdXN0b20gc3ltYm9sIHRvIGRlZmluZSBjb25zdW1lZCBwYXJ0IG9mIGZvcm1hdAogICAgICAgIGZvciAodmFyIGkgPSBpbmRleCArIDEsIG4gPSBpbmRleCArIGNvZGUubGVuZ3RoOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICByZWdleFtpXSA9ICcnOwogICAgICAgICAgZm9ybWF0W2ldID0gJyQnOwogICAgICAgIH0KICAgICAgICBmb3JtYXQgPSBmb3JtYXQuam9pbignJyk7CgogICAgICAgIG1hcC5wdXNoKHsgaW5kZXg6IGluZGV4LCBhcHBseTogZGF0YS5hcHBseSB9KTsKICAgICAgfQogICAgfSk7CgogICAgcmV0dXJuIHsKICAgICAgcmVnZXg6IG5ldyBSZWdFeHAoJ14nICsgcmVnZXguam9pbignJykgKyAnJCcpLAogICAgICBtYXA6IG9yZGVyQnlGaWx0ZXIobWFwLCAnaW5kZXgnKQogICAgfTsKICB9OwoKICB0aGlzLnBhcnNlID0gZnVuY3Rpb24oaW5wdXQsIGZvcm1hdCkgewogICAgaWYgKCAhYW5ndWxhci5pc1N0cmluZyhpbnB1dCkgKSB7CiAgICAgIHJldHVybiBpbnB1dDsKICAgIH0KCiAgICBmb3JtYXQgPSAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFNbZm9ybWF0XSB8fCBmb3JtYXQ7CgogICAgaWYgKCAhdGhpcy5wYXJzZXJzW2Zvcm1hdF0gKSB7CiAgICAgIHRoaXMucGFyc2Vyc1tmb3JtYXRdID0gdGhpcy5jcmVhdGVQYXJzZXIoZm9ybWF0KTsKICAgIH0KCiAgICB2YXIgcGFyc2VyID0gdGhpcy5wYXJzZXJzW2Zvcm1hdF0sCiAgICAgICAgcmVnZXggPSBwYXJzZXIucmVnZXgsCiAgICAgICAgbWFwID0gcGFyc2VyLm1hcCwKICAgICAgICByZXN1bHRzID0gaW5wdXQubWF0Y2gocmVnZXgpOwoKICAgIGlmICggcmVzdWx0cyAmJiByZXN1bHRzLmxlbmd0aCApIHsKICAgICAgdmFyIGZpZWxkcyA9IHsgeWVhcjogMTkwMCwgbW9udGg6IDAsIGRhdGU6IDEsIGhvdXJzOiAwIH0sIGR0OwoKICAgICAgZm9yKCB2YXIgaSA9IDEsIG4gPSByZXN1bHRzLmxlbmd0aDsgaSA8IG47IGkrKyApIHsKICAgICAgICB2YXIgbWFwcGVyID0gbWFwW2ktMV07CiAgICAgICAgaWYgKCBtYXBwZXIuYXBwbHkgKSB7CiAgICAgICAgICBtYXBwZXIuYXBwbHkuY2FsbChmaWVsZHMsIHJlc3VsdHNbaV0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKCBpc1ZhbGlkKGZpZWxkcy55ZWFyLCBmaWVsZHMubW9udGgsIGZpZWxkcy5kYXRlKSApIHsKICAgICAgICBkdCA9IG5ldyBEYXRlKCBmaWVsZHMueWVhciwgZmllbGRzLm1vbnRoLCBmaWVsZHMuZGF0ZSwgZmllbGRzLmhvdXJzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGR0OwogICAgfQogIH07CgogIC8vIENoZWNrIGlmIGRhdGUgaXMgdmFsaWQgZm9yIHNwZWNpZmljIG1vbnRoIChhbmQgeWVhciBmb3IgRmVicnVhcnkpLgogIC8vIE1vbnRoOiAwID0gSmFuLCAxID0gRmViLCBldGMKICBmdW5jdGlvbiBpc1ZhbGlkKHllYXIsIG1vbnRoLCBkYXRlKSB7CiAgICBpZiAoIG1vbnRoID09PSAxICYmIGRhdGUgPiAyOCkgewogICAgICAgIHJldHVybiBkYXRlID09PSAyOSAmJiAoKHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDApIHx8IHllYXIgJSA0MDAgPT09IDApOwogICAgfQoKICAgIGlmICggbW9udGggPT09IDMgfHwgbW9udGggPT09IDUgfHwgbW9udGggPT09IDggfHwgbW9udGggPT09IDEwKSB7CiAgICAgICAgcmV0dXJuIGRhdGUgPCAzMTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9Cn1dKTsKCmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucG9zaXRpb24nLCBbXSkKCi8qKgogKiBBIHNldCBvZiB1dGlsaXR5IG1ldGhvZHMgdGhhdCBjYW4gYmUgdXNlIHRvIHJldHJpZXZlIHBvc2l0aW9uIG9mIERPTSBlbGVtZW50cy4KICogSXQgaXMgbWVhbnQgdG8gYmUgdXNlZCB3aGVyZSB3ZSBuZWVkIHRvIGFic29sdXRlLXBvc2l0aW9uIERPTSBlbGVtZW50cyBpbgogKiByZWxhdGlvbiB0byBvdGhlciwgZXhpc3RpbmcgZWxlbWVudHMgKHRoaXMgaXMgdGhlIGNhc2UgZm9yIHRvb2x0aXBzLCBwb3BvdmVycywKICogdHlwZWFoZWFkIHN1Z2dlc3Rpb25zIGV0Yy4pLgogKi8KICAuZmFjdG9yeSgnJHBvc2l0aW9uJywgWyckZG9jdW1lbnQnLCAnJHdpbmRvdycsIGZ1bmN0aW9uICgkZG9jdW1lbnQsICR3aW5kb3cpIHsKCiAgICBmdW5jdGlvbiBnZXRTdHlsZShlbCwgY3NzcHJvcCkgewogICAgICBpZiAoZWwuY3VycmVudFN0eWxlKSB7IC8vSUUKICAgICAgICByZXR1cm4gZWwuY3VycmVudFN0eWxlW2Nzc3Byb3BdOwogICAgICB9IGVsc2UgaWYgKCR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSkgewogICAgICAgIHJldHVybiAkd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpW2Nzc3Byb3BdOwogICAgICB9CiAgICAgIC8vIGZpbmFsbHkgdHJ5IGFuZCBnZXQgaW5saW5lIHN0eWxlCiAgICAgIHJldHVybiBlbC5zdHlsZVtjc3Nwcm9wXTsKICAgIH0KCiAgICAvKioKICAgICAqIENoZWNrcyBpZiBhIGdpdmVuIGVsZW1lbnQgaXMgc3RhdGljYWxseSBwb3NpdGlvbmVkCiAgICAgKiBAcGFyYW0gZWxlbWVudCAtIHJhdyBET00gZWxlbWVudAogICAgICovCiAgICBmdW5jdGlvbiBpc1N0YXRpY1Bvc2l0aW9uZWQoZWxlbWVudCkgewogICAgICByZXR1cm4gKGdldFN0eWxlKGVsZW1lbnQsICdwb3NpdGlvbicpIHx8ICdzdGF0aWMnICkgPT09ICdzdGF0aWMnOwogICAgfQoKICAgIC8qKgogICAgICogcmV0dXJucyB0aGUgY2xvc2VzdCwgbm9uLXN0YXRpY2FsbHkgcG9zaXRpb25lZCBwYXJlbnRPZmZzZXQgb2YgYSBnaXZlbiBlbGVtZW50CiAgICAgKiBAcGFyYW0gZWxlbWVudAogICAgICovCiAgICB2YXIgcGFyZW50T2Zmc2V0RWwgPSBmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICB2YXIgZG9jRG9tRWwgPSAkZG9jdW1lbnRbMF07CiAgICAgIHZhciBvZmZzZXRQYXJlbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudCB8fCBkb2NEb21FbDsKICAgICAgd2hpbGUgKG9mZnNldFBhcmVudCAmJiBvZmZzZXRQYXJlbnQgIT09IGRvY0RvbUVsICYmIGlzU3RhdGljUG9zaXRpb25lZChvZmZzZXRQYXJlbnQpICkgewogICAgICAgIG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7CiAgICAgIH0KICAgICAgcmV0dXJuIG9mZnNldFBhcmVudCB8fCBkb2NEb21FbDsKICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgLyoqCiAgICAgICAqIFByb3ZpZGVzIHJlYWQtb25seSBlcXVpdmFsZW50IG9mIGpRdWVyeSdzIHBvc2l0aW9uIGZ1bmN0aW9uOgogICAgICAgKiBodHRwOi8vYXBpLmpxdWVyeS5jb20vcG9zaXRpb24vCiAgICAgICAqLwogICAgICBwb3NpdGlvbjogZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICB2YXIgZWxCQ1IgPSB0aGlzLm9mZnNldChlbGVtZW50KTsKICAgICAgICB2YXIgb2Zmc2V0UGFyZW50QkNSID0geyB0b3A6IDAsIGxlZnQ6IDAgfTsKICAgICAgICB2YXIgb2Zmc2V0UGFyZW50RWwgPSBwYXJlbnRPZmZzZXRFbChlbGVtZW50WzBdKTsKICAgICAgICBpZiAob2Zmc2V0UGFyZW50RWwgIT0gJGRvY3VtZW50WzBdKSB7CiAgICAgICAgICBvZmZzZXRQYXJlbnRCQ1IgPSB0aGlzLm9mZnNldChhbmd1bGFyLmVsZW1lbnQob2Zmc2V0UGFyZW50RWwpKTsKICAgICAgICAgIG9mZnNldFBhcmVudEJDUi50b3AgKz0gb2Zmc2V0UGFyZW50RWwuY2xpZW50VG9wIC0gb2Zmc2V0UGFyZW50RWwuc2Nyb2xsVG9wOwogICAgICAgICAgb2Zmc2V0UGFyZW50QkNSLmxlZnQgKz0gb2Zmc2V0UGFyZW50RWwuY2xpZW50TGVmdCAtIG9mZnNldFBhcmVudEVsLnNjcm9sbExlZnQ7CiAgICAgICAgfQoKICAgICAgICB2YXIgYm91bmRpbmdDbGllbnRSZWN0ID0gZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgd2lkdGg6IGJvdW5kaW5nQ2xpZW50UmVjdC53aWR0aCB8fCBlbGVtZW50LnByb3AoJ29mZnNldFdpZHRoJyksCiAgICAgICAgICBoZWlnaHQ6IGJvdW5kaW5nQ2xpZW50UmVjdC5oZWlnaHQgfHwgZWxlbWVudC5wcm9wKCdvZmZzZXRIZWlnaHQnKSwKICAgICAgICAgIHRvcDogZWxCQ1IudG9wIC0gb2Zmc2V0UGFyZW50QkNSLnRvcCwKICAgICAgICAgIGxlZnQ6IGVsQkNSLmxlZnQgLSBvZmZzZXRQYXJlbnRCQ1IubGVmdAogICAgICAgIH07CiAgICAgIH0sCgogICAgICAvKioKICAgICAgICogUHJvdmlkZXMgcmVhZC1vbmx5IGVxdWl2YWxlbnQgb2YgalF1ZXJ5J3Mgb2Zmc2V0IGZ1bmN0aW9uOgogICAgICAgKiBodHRwOi8vYXBpLmpxdWVyeS5jb20vb2Zmc2V0LwogICAgICAgKi8KICAgICAgb2Zmc2V0OiBmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgIHZhciBib3VuZGluZ0NsaWVudFJlY3QgPSBlbGVtZW50WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICB3aWR0aDogYm91bmRpbmdDbGllbnRSZWN0LndpZHRoIHx8IGVsZW1lbnQucHJvcCgnb2Zmc2V0V2lkdGgnKSwKICAgICAgICAgIGhlaWdodDogYm91bmRpbmdDbGllbnRSZWN0LmhlaWdodCB8fCBlbGVtZW50LnByb3AoJ29mZnNldEhlaWdodCcpLAogICAgICAgICAgdG9wOiBib3VuZGluZ0NsaWVudFJlY3QudG9wICsgKCR3aW5kb3cucGFnZVlPZmZzZXQgfHwgJGRvY3VtZW50WzBdLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApLAogICAgICAgICAgbGVmdDogYm91bmRpbmdDbGllbnRSZWN0LmxlZnQgKyAoJHdpbmRvdy5wYWdlWE9mZnNldCB8fCAkZG9jdW1lbnRbMF0uZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQpCiAgICAgICAgfTsKICAgICAgfSwKCiAgICAgIC8qKgogICAgICAgKiBQcm92aWRlcyBjb29yZGluYXRlcyBmb3IgdGhlIHRhcmdldEVsIGluIHJlbGF0aW9uIHRvIGhvc3RFbAogICAgICAgKi8KICAgICAgcG9zaXRpb25FbGVtZW50czogZnVuY3Rpb24gKGhvc3RFbCwgdGFyZ2V0RWwsIHBvc2l0aW9uU3RyLCBhcHBlbmRUb0JvZHkpIHsKCiAgICAgICAgdmFyIHBvc2l0aW9uU3RyUGFydHMgPSBwb3NpdGlvblN0ci5zcGxpdCgnLScpOwogICAgICAgIHZhciBwb3MwID0gcG9zaXRpb25TdHJQYXJ0c1swXSwgcG9zMSA9IHBvc2l0aW9uU3RyUGFydHNbMV0gfHwgJ2NlbnRlcic7CgogICAgICAgIHZhciBob3N0RWxQb3MsCiAgICAgICAgICB0YXJnZXRFbFdpZHRoLAogICAgICAgICAgdGFyZ2V0RWxIZWlnaHQsCiAgICAgICAgICB0YXJnZXRFbFBvczsKCiAgICAgICAgaG9zdEVsUG9zID0gYXBwZW5kVG9Cb2R5ID8gdGhpcy5vZmZzZXQoaG9zdEVsKSA6IHRoaXMucG9zaXRpb24oaG9zdEVsKTsKCiAgICAgICAgdGFyZ2V0RWxXaWR0aCA9IHRhcmdldEVsLnByb3AoJ29mZnNldFdpZHRoJyk7CiAgICAgICAgdGFyZ2V0RWxIZWlnaHQgPSB0YXJnZXRFbC5wcm9wKCdvZmZzZXRIZWlnaHQnKTsKCiAgICAgICAgdmFyIHNoaWZ0V2lkdGggPSB7CiAgICAgICAgICBjZW50ZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy5sZWZ0ICsgaG9zdEVsUG9zLndpZHRoIC8gMiAtIHRhcmdldEVsV2lkdGggLyAyOwogICAgICAgICAgfSwKICAgICAgICAgIGxlZnQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy5sZWZ0OwogICAgICAgICAgfSwKICAgICAgICAgIHJpZ2h0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MubGVmdCArIGhvc3RFbFBvcy53aWR0aDsKICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICB2YXIgc2hpZnRIZWlnaHQgPSB7CiAgICAgICAgICBjZW50ZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy50b3AgKyBob3N0RWxQb3MuaGVpZ2h0IC8gMiAtIHRhcmdldEVsSGVpZ2h0IC8gMjsKICAgICAgICAgIH0sCiAgICAgICAgICB0b3A6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy50b3A7CiAgICAgICAgICB9LAogICAgICAgICAgYm90dG9tOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MudG9wICsgaG9zdEVsUG9zLmhlaWdodDsKICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBzd2l0Y2ggKHBvczApIHsKICAgICAgICAgIGNhc2UgJ3JpZ2h0JzoKICAgICAgICAgICAgdGFyZ2V0RWxQb3MgPSB7CiAgICAgICAgICAgICAgdG9wOiBzaGlmdEhlaWdodFtwb3MxXSgpLAogICAgICAgICAgICAgIGxlZnQ6IHNoaWZ0V2lkdGhbcG9zMF0oKQogICAgICAgICAgICB9OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ2xlZnQnOgogICAgICAgICAgICB0YXJnZXRFbFBvcyA9IHsKICAgICAgICAgICAgICB0b3A6IHNoaWZ0SGVpZ2h0W3BvczFdKCksCiAgICAgICAgICAgICAgbGVmdDogaG9zdEVsUG9zLmxlZnQgLSB0YXJnZXRFbFdpZHRoCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAnYm90dG9tJzoKICAgICAgICAgICAgdGFyZ2V0RWxQb3MgPSB7CiAgICAgICAgICAgICAgdG9wOiBzaGlmdEhlaWdodFtwb3MwXSgpLAogICAgICAgICAgICAgIGxlZnQ6IHNoaWZ0V2lkdGhbcG9zMV0oKQogICAgICAgICAgICB9OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHRhcmdldEVsUG9zID0gewogICAgICAgICAgICAgIHRvcDogaG9zdEVsUG9zLnRvcCAtIHRhcmdldEVsSGVpZ2h0LAogICAgICAgICAgICAgIGxlZnQ6IHNoaWZ0V2lkdGhbcG9zMV0oKQogICAgICAgICAgICB9OwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0YXJnZXRFbFBvczsKICAgICAgfQogICAgfTsKICB9XSk7Cgphbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmRhdGVwaWNrZXInLCBbJ3VpLmJvb3RzdHJhcC5kYXRlcGFyc2VyJywgJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbiddKQoKLmNvbnN0YW50KCdkYXRlcGlja2VyQ29uZmlnJywgewogIGZvcm1hdERheTogJ2RkJywKICBmb3JtYXRNb250aDogJ01NTU0nLAogIGZvcm1hdFllYXI6ICd5eXl5JywKICBmb3JtYXREYXlIZWFkZXI6ICdFRUUnLAogIGZvcm1hdERheVRpdGxlOiAnTU1NTSB5eXl5JywKICBmb3JtYXRNb250aFRpdGxlOiAneXl5eScsCiAgZGF0ZXBpY2tlck1vZGU6ICdkYXknLAogIG1pbk1vZGU6ICdkYXknLAogIG1heE1vZGU6ICd5ZWFyJywKICBzaG93V2Vla3M6IHRydWUsCiAgc3RhcnRpbmdEYXk6IDAsCiAgeWVhclJhbmdlOiAyMCwKICBtaW5EYXRlOiBudWxsLAogIG1heERhdGU6IG51bGwKfSkKCi5jb250cm9sbGVyKCdEYXRlcGlja2VyQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICckcGFyc2UnLCAnJGludGVycG9sYXRlJywgJyR0aW1lb3V0JywgJyRsb2cnLCAnZGF0ZUZpbHRlcicsICdkYXRlcGlja2VyQ29uZmlnJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsICRwYXJzZSwgJGludGVycG9sYXRlLCAkdGltZW91dCwgJGxvZywgZGF0ZUZpbHRlciwgZGF0ZXBpY2tlckNvbmZpZykgewogIHZhciBzZWxmID0gdGhpcywKICAgICAgbmdNb2RlbEN0cmwgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9OyAvLyBudWxsTW9kZWxDdHJsOwoKICAvLyBNb2RlcyBjaGFpbgogIHRoaXMubW9kZXMgPSBbJ2RheScsICdtb250aCcsICd5ZWFyJ107CgogIC8vIENvbmZpZ3VyYXRpb24gYXR0cmlidXRlcwogIGFuZ3VsYXIuZm9yRWFjaChbJ2Zvcm1hdERheScsICdmb3JtYXRNb250aCcsICdmb3JtYXRZZWFyJywgJ2Zvcm1hdERheUhlYWRlcicsICdmb3JtYXREYXlUaXRsZScsICdmb3JtYXRNb250aFRpdGxlJywKICAgICAgICAgICAgICAgICAgICdtaW5Nb2RlJywgJ21heE1vZGUnLCAnc2hvd1dlZWtzJywgJ3N0YXJ0aW5nRGF5JywgJ3llYXJSYW5nZSddLCBmdW5jdGlvbigga2V5LCBpbmRleCApIHsKICAgIHNlbGZba2V5XSA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRyc1trZXldKSA/IChpbmRleCA8IDggPyAkaW50ZXJwb2xhdGUoJGF0dHJzW2tleV0pKCRzY29wZS4kcGFyZW50KSA6ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRyc1trZXldKSkgOiBkYXRlcGlja2VyQ29uZmlnW2tleV07CiAgfSk7CgogIC8vIFdhdGNoYWJsZSBhdHRyaWJ1dGVzCiAgYW5ndWxhci5mb3JFYWNoKFsnbWluRGF0ZScsICdtYXhEYXRlJ10sIGZ1bmN0aW9uKCBrZXkgKSB7CiAgICBpZiAoICRhdHRyc1trZXldICkgewogICAgICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRyc1trZXldKSwgZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICBzZWxmW2tleV0gPSB2YWx1ZSA/IG5ldyBEYXRlKHZhbHVlKSA6IG51bGw7CiAgICAgICAgc2VsZi5yZWZyZXNoVmlldygpOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHNlbGZba2V5XSA9IGRhdGVwaWNrZXJDb25maWdba2V5XSA/IG5ldyBEYXRlKGRhdGVwaWNrZXJDb25maWdba2V5XSkgOiBudWxsOwogICAgfQogIH0pOwoKICAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPSAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgfHwgZGF0ZXBpY2tlckNvbmZpZy5kYXRlcGlja2VyTW9kZTsKICAkc2NvcGUudW5pcXVlSWQgPSAnZGF0ZXBpY2tlci0nICsgJHNjb3BlLiRpZCArICctJyArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTsKICB0aGlzLmFjdGl2ZURhdGUgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuaW5pdERhdGUpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLmluaXREYXRlKSA6IG5ldyBEYXRlKCk7CgogICRzY29wZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKGRhdGVPYmplY3QpIHsKICAgIGlmIChzZWxmLmNvbXBhcmUoZGF0ZU9iamVjdC5kYXRlLCBzZWxmLmFjdGl2ZURhdGUpID09PSAwKSB7CiAgICAgICRzY29wZS5hY3RpdmVEYXRlSWQgPSBkYXRlT2JqZWN0LnVpZDsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICByZXR1cm4gZmFsc2U7CiAgfTsKCiAgdGhpcy5pbml0ID0gZnVuY3Rpb24oIG5nTW9kZWxDdHJsXyApIHsKICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfOwoKICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHsKICAgICAgc2VsZi5yZW5kZXIoKTsKICAgIH07CiAgfTsKCiAgdGhpcy5yZW5kZXIgPSBmdW5jdGlvbigpIHsKICAgIGlmICggbmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUgKSB7CiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoIG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlICksCiAgICAgICAgICBpc1ZhbGlkID0gIWlzTmFOKGRhdGUpOwoKICAgICAgaWYgKCBpc1ZhbGlkICkgewogICAgICAgIHRoaXMuYWN0aXZlRGF0ZSA9IGRhdGU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgJGxvZy5lcnJvcignRGF0ZXBpY2tlciBkaXJlY3RpdmU6ICJuZy1tb2RlbCIgdmFsdWUgbXVzdCBiZSBhIERhdGUgb2JqZWN0LCBhIG51bWJlciBvZiBtaWxsaXNlY29uZHMgc2luY2UgMDEuMDEuMTk3MCBvciBhIHN0cmluZyByZXByZXNlbnRpbmcgYW4gUkZDMjgyMiBvciBJU08gODYwMSBkYXRlLicpOwogICAgICB9CiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZGF0ZScsIGlzVmFsaWQpOwogICAgfQogICAgdGhpcy5yZWZyZXNoVmlldygpOwogIH07CgogIHRoaXMucmVmcmVzaFZpZXcgPSBmdW5jdGlvbigpIHsKICAgIGlmICggdGhpcy5lbGVtZW50ICkgewogICAgICB0aGlzLl9yZWZyZXNoVmlldygpOwoKICAgICAgdmFyIGRhdGUgPSBuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSA/IG5ldyBEYXRlKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlKSA6IG51bGw7CiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZGF0ZS1kaXNhYmxlZCcsICFkYXRlIHx8ICh0aGlzLmVsZW1lbnQgJiYgIXRoaXMuaXNEaXNhYmxlZChkYXRlKSkpOwogICAgfQogIH07CgogIHRoaXMuY3JlYXRlRGF0ZU9iamVjdCA9IGZ1bmN0aW9uKGRhdGUsIGZvcm1hdCkgewogICAgdmFyIG1vZGVsID0gbmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUgPyBuZXcgRGF0ZShuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSkgOiBudWxsOwogICAgcmV0dXJuIHsKICAgICAgZGF0ZTogZGF0ZSwKICAgICAgbGFiZWw6IGRhdGVGaWx0ZXIoZGF0ZSwgZm9ybWF0KSwKICAgICAgc2VsZWN0ZWQ6IG1vZGVsICYmIHRoaXMuY29tcGFyZShkYXRlLCBtb2RlbCkgPT09IDAsCiAgICAgIGRpc2FibGVkOiB0aGlzLmlzRGlzYWJsZWQoZGF0ZSksCiAgICAgIGN1cnJlbnQ6IHRoaXMuY29tcGFyZShkYXRlLCBuZXcgRGF0ZSgpKSA9PT0gMAogICAgfTsKICB9OwoKICB0aGlzLmlzRGlzYWJsZWQgPSBmdW5jdGlvbiggZGF0ZSApIHsKICAgIHJldHVybiAoKHRoaXMubWluRGF0ZSAmJiB0aGlzLmNvbXBhcmUoZGF0ZSwgdGhpcy5taW5EYXRlKSA8IDApIHx8ICh0aGlzLm1heERhdGUgJiYgdGhpcy5jb21wYXJlKGRhdGUsIHRoaXMubWF4RGF0ZSkgPiAwKSB8fCAoJGF0dHJzLmRhdGVEaXNhYmxlZCAmJiAkc2NvcGUuZGF0ZURpc2FibGVkKHtkYXRlOiBkYXRlLCBtb2RlOiAkc2NvcGUuZGF0ZXBpY2tlck1vZGV9KSkpOwogIH07CgogIC8vIFNwbGl0IGFycmF5IGludG8gc21hbGxlciBhcnJheXMKICB0aGlzLnNwbGl0ID0gZnVuY3Rpb24oYXJyLCBzaXplKSB7CiAgICB2YXIgYXJyYXlzID0gW107CiAgICB3aGlsZSAoYXJyLmxlbmd0aCA+IDApIHsKICAgICAgYXJyYXlzLnB1c2goYXJyLnNwbGljZSgwLCBzaXplKSk7CiAgICB9CiAgICByZXR1cm4gYXJyYXlzOwogIH07CgogICRzY29wZS5zZWxlY3QgPSBmdW5jdGlvbiggZGF0ZSApIHsKICAgIGlmICggJHNjb3BlLmRhdGVwaWNrZXJNb2RlID09PSBzZWxmLm1pbk1vZGUgKSB7CiAgICAgIHZhciBkdCA9IG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlID8gbmV3IERhdGUoIG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlICkgOiBuZXcgRGF0ZSgwLCAwLCAwLCAwLCAwLCAwLCAwKTsKICAgICAgZHQuc2V0RnVsbFllYXIoIGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdldERhdGUoKSApOwogICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKCBkdCApOwogICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7CiAgICB9IGVsc2UgewogICAgICBzZWxmLmFjdGl2ZURhdGUgPSBkYXRlOwogICAgICAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPSBzZWxmLm1vZGVzWyBzZWxmLm1vZGVzLmluZGV4T2YoICRzY29wZS5kYXRlcGlja2VyTW9kZSApIC0gMSBdOwogICAgfQogIH07CgogICRzY29wZS5tb3ZlID0gZnVuY3Rpb24oIGRpcmVjdGlvbiApIHsKICAgIHZhciB5ZWFyID0gc2VsZi5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkgKyBkaXJlY3Rpb24gKiAoc2VsZi5zdGVwLnllYXJzIHx8IDApLAogICAgICAgIG1vbnRoID0gc2VsZi5hY3RpdmVEYXRlLmdldE1vbnRoKCkgKyBkaXJlY3Rpb24gKiAoc2VsZi5zdGVwLm1vbnRocyB8fCAwKTsKICAgIHNlbGYuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcih5ZWFyLCBtb250aCwgMSk7CiAgICBzZWxmLnJlZnJlc2hWaWV3KCk7CiAgfTsKCiAgJHNjb3BlLnRvZ2dsZU1vZGUgPSBmdW5jdGlvbiggZGlyZWN0aW9uICkgewogICAgZGlyZWN0aW9uID0gZGlyZWN0aW9uIHx8IDE7CgogICAgaWYgKCgkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPT09IHNlbGYubWF4TW9kZSAmJiBkaXJlY3Rpb24gPT09IDEpIHx8ICgkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPT09IHNlbGYubWluTW9kZSAmJiBkaXJlY3Rpb24gPT09IC0xKSkgewogICAgICByZXR1cm47CiAgICB9CgogICAgJHNjb3BlLmRhdGVwaWNrZXJNb2RlID0gc2VsZi5tb2Rlc1sgc2VsZi5tb2Rlcy5pbmRleE9mKCAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgKSArIGRpcmVjdGlvbiBdOwogIH07CgogIC8vIEtleSBldmVudCBtYXBwZXIKICAkc2NvcGUua2V5cyA9IHsgMTM6J2VudGVyJywgMzI6J3NwYWNlJywgMzM6J3BhZ2V1cCcsIDM0OidwYWdlZG93bicsIDM1OidlbmQnLCAzNjonaG9tZScsIDM3OidsZWZ0JywgMzg6J3VwJywgMzk6J3JpZ2h0JywgNDA6J2Rvd24nIH07CgogIHZhciBmb2N1c0VsZW1lbnQgPSBmdW5jdGlvbigpIHsKICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICBzZWxmLmVsZW1lbnRbMF0uZm9jdXMoKTsKICAgIH0sIDAgLCBmYWxzZSk7CiAgfTsKCiAgLy8gTGlzdGVuIGZvciBmb2N1cyByZXF1ZXN0cyBmcm9tIHBvcHVwIGRpcmVjdGl2ZQogICRzY29wZS4kb24oJ2RhdGVwaWNrZXIuZm9jdXMnLCBmb2N1c0VsZW1lbnQpOwoKICAkc2NvcGUua2V5ZG93biA9IGZ1bmN0aW9uKCBldnQgKSB7CiAgICB2YXIga2V5ID0gJHNjb3BlLmtleXNbZXZ0LndoaWNoXTsKCiAgICBpZiAoICFrZXkgfHwgZXZ0LnNoaWZ0S2V5IHx8IGV2dC5hbHRLZXkgKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTsKCiAgICBpZiAoa2V5ID09PSAnZW50ZXInIHx8IGtleSA9PT0gJ3NwYWNlJykgewogICAgICBpZiAoIHNlbGYuaXNEaXNhYmxlZChzZWxmLmFjdGl2ZURhdGUpKSB7CiAgICAgICAgcmV0dXJuOyAvLyBkbyBub3RoaW5nCiAgICAgIH0KICAgICAgJHNjb3BlLnNlbGVjdChzZWxmLmFjdGl2ZURhdGUpOwogICAgICBmb2N1c0VsZW1lbnQoKTsKICAgIH0gZWxzZSBpZiAoZXZ0LmN0cmxLZXkgJiYgKGtleSA9PT0gJ3VwJyB8fCBrZXkgPT09ICdkb3duJykpIHsKICAgICAgJHNjb3BlLnRvZ2dsZU1vZGUoa2V5ID09PSAndXAnID8gMSA6IC0xKTsKICAgICAgZm9jdXNFbGVtZW50KCk7CiAgICB9IGVsc2UgewogICAgICBzZWxmLmhhbmRsZUtleURvd24oa2V5LCBldnQpOwogICAgICBzZWxmLnJlZnJlc2hWaWV3KCk7CiAgICB9CiAgfTsKfV0pCgouZGlyZWN0aXZlKCAnZGF0ZXBpY2tlcicsIGZ1bmN0aW9uICgpIHsKICByZXR1cm4gewogICAgcmVzdHJpY3Q6ICdFQScsCiAgICByZXBsYWNlOiB0cnVlLAogICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbCcsCiAgICBzY29wZTogewogICAgICBkYXRlcGlja2VyTW9kZTogJz0/JywKICAgICAgZGF0ZURpc2FibGVkOiAnJicKICAgIH0sCiAgICByZXF1aXJlOiBbJ2RhdGVwaWNrZXInLCAnP15uZ01vZGVsJ10sCiAgICBjb250cm9sbGVyOiAnRGF0ZXBpY2tlckNvbnRyb2xsZXInLAogICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykgewogICAgICB2YXIgZGF0ZXBpY2tlckN0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTsKCiAgICAgIGlmICggbmdNb2RlbEN0cmwgKSB7CiAgICAgICAgZGF0ZXBpY2tlckN0cmwuaW5pdCggbmdNb2RlbEN0cmwgKTsKICAgICAgfQogICAgfQogIH07Cn0pCgouZGlyZWN0aXZlKCdkYXlwaWNrZXInLCBbJ2RhdGVGaWx0ZXInLCBmdW5jdGlvbiAoZGF0ZUZpbHRlcikgewogIHJldHVybiB7CiAgICByZXN0cmljdDogJ0VBJywKICAgIHJlcGxhY2U6IHRydWUsCiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWwnLAogICAgcmVxdWlyZTogJ15kYXRlcGlja2VyJywKICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkgewogICAgICBzY29wZS5zaG93V2Vla3MgPSBjdHJsLnNob3dXZWVrczsKCiAgICAgIGN0cmwuc3RlcCA9IHsgbW9udGhzOiAxIH07CiAgICAgIGN0cmwuZWxlbWVudCA9IGVsZW1lbnQ7CgogICAgICB2YXIgREFZU19JTl9NT05USCA9IFszMSwgMjgsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXTsKICAgICAgZnVuY3Rpb24gZ2V0RGF5c0luTW9udGgoIHllYXIsIG1vbnRoICkgewogICAgICAgIHJldHVybiAoKG1vbnRoID09PSAxKSAmJiAoeWVhciAlIDQgPT09IDApICYmICgoeWVhciAlIDEwMCAhPT0gMCkgfHwgKHllYXIgJSA0MDAgPT09IDApKSkgPyAyOSA6IERBWVNfSU5fTU9OVEhbbW9udGhdOwogICAgICB9CgogICAgICBmdW5jdGlvbiBnZXREYXRlcyhzdGFydERhdGUsIG4pIHsKICAgICAgICB2YXIgZGF0ZXMgPSBuZXcgQXJyYXkobiksIGN1cnJlbnQgPSBuZXcgRGF0ZShzdGFydERhdGUpLCBpID0gMDsKICAgICAgICBjdXJyZW50LnNldEhvdXJzKDEyKTsgLy8gUHJldmVudCByZXBlYXRlZCBkYXRlcyBiZWNhdXNlIG9mIHRpbWV6b25lIGJ1ZwogICAgICAgIHdoaWxlICggaSA8IG4gKSB7CiAgICAgICAgICBkYXRlc1tpKytdID0gbmV3IERhdGUoY3VycmVudCk7CiAgICAgICAgICBjdXJyZW50LnNldERhdGUoIGN1cnJlbnQuZ2V0RGF0ZSgpICsgMSApOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZGF0ZXM7CiAgICAgIH0KCiAgICAgIGN0cmwuX3JlZnJlc2hWaWV3ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIHllYXIgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSwKICAgICAgICAgIG1vbnRoID0gY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCksCiAgICAgICAgICBmaXJzdERheU9mTW9udGggPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMSksCiAgICAgICAgICBkaWZmZXJlbmNlID0gY3RybC5zdGFydGluZ0RheSAtIGZpcnN0RGF5T2ZNb250aC5nZXREYXkoKSwKICAgICAgICAgIG51bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoID0gKGRpZmZlcmVuY2UgPiAwKSA/IDcgLSBkaWZmZXJlbmNlIDogLSBkaWZmZXJlbmNlLAogICAgICAgICAgZmlyc3REYXRlID0gbmV3IERhdGUoZmlyc3REYXlPZk1vbnRoKTsKCiAgICAgICAgaWYgKCBudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCA+IDAgKSB7CiAgICAgICAgICBmaXJzdERhdGUuc2V0RGF0ZSggLSBudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCArIDEgKTsKICAgICAgICB9CgogICAgICAgIC8vIDQyIGlzIHRoZSBudW1iZXIgb2YgZGF5cyBvbiBhIHNpeC1tb250aCBjYWxlbmRhcgogICAgICAgIHZhciBkYXlzID0gZ2V0RGF0ZXMoZmlyc3REYXRlLCA0Mik7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0MjsgaSArKykgewogICAgICAgICAgZGF5c1tpXSA9IGFuZ3VsYXIuZXh0ZW5kKGN0cmwuY3JlYXRlRGF0ZU9iamVjdChkYXlzW2ldLCBjdHJsLmZvcm1hdERheSksIHsKICAgICAgICAgICAgc2Vjb25kYXJ5OiBkYXlzW2ldLmdldE1vbnRoKCkgIT09IG1vbnRoLAogICAgICAgICAgICB1aWQ6IHNjb3BlLnVuaXF1ZUlkICsgJy0nICsgaQogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBzY29wZS5sYWJlbHMgPSBuZXcgQXJyYXkoNyk7CiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA3OyBqKyspIHsKICAgICAgICAgIHNjb3BlLmxhYmVsc1tqXSA9IHsKICAgICAgICAgICAgYWJicjogZGF0ZUZpbHRlcihkYXlzW2pdLmRhdGUsIGN0cmwuZm9ybWF0RGF5SGVhZGVyKSwKICAgICAgICAgICAgZnVsbDogZGF0ZUZpbHRlcihkYXlzW2pdLmRhdGUsICdFRUVFJykKICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICBzY29wZS50aXRsZSA9IGRhdGVGaWx0ZXIoY3RybC5hY3RpdmVEYXRlLCBjdHJsLmZvcm1hdERheVRpdGxlKTsKICAgICAgICBzY29wZS5yb3dzID0gY3RybC5zcGxpdChkYXlzLCA3KTsKCiAgICAgICAgaWYgKCBzY29wZS5zaG93V2Vla3MgKSB7CiAgICAgICAgICBzY29wZS53ZWVrTnVtYmVycyA9IFtdOwogICAgICAgICAgdmFyIHdlZWtOdW1iZXIgPSBnZXRJU084NjAxV2Vla051bWJlciggc2NvcGUucm93c1swXVswXS5kYXRlICksCiAgICAgICAgICAgICAgbnVtV2Vla3MgPSBzY29wZS5yb3dzLmxlbmd0aDsKICAgICAgICAgIHdoaWxlKCBzY29wZS53ZWVrTnVtYmVycy5wdXNoKHdlZWtOdW1iZXIrKykgPCBudW1XZWVrcyApIHt9CiAgICAgICAgfQogICAgICB9OwoKICAgICAgY3RybC5jb21wYXJlID0gZnVuY3Rpb24oZGF0ZTEsIGRhdGUyKSB7CiAgICAgICAgcmV0dXJuIChuZXcgRGF0ZSggZGF0ZTEuZ2V0RnVsbFllYXIoKSwgZGF0ZTEuZ2V0TW9udGgoKSwgZGF0ZTEuZ2V0RGF0ZSgpICkgLSBuZXcgRGF0ZSggZGF0ZTIuZ2V0RnVsbFllYXIoKSwgZGF0ZTIuZ2V0TW9udGgoKSwgZGF0ZTIuZ2V0RGF0ZSgpICkgKTsKICAgICAgfTsKCiAgICAgIGZ1bmN0aW9uIGdldElTTzg2MDFXZWVrTnVtYmVyKGRhdGUpIHsKICAgICAgICB2YXIgY2hlY2tEYXRlID0gbmV3IERhdGUoZGF0ZSk7CiAgICAgICAgY2hlY2tEYXRlLnNldERhdGUoY2hlY2tEYXRlLmdldERhdGUoKSArIDQgLSAoY2hlY2tEYXRlLmdldERheSgpIHx8IDcpKTsgLy8gVGh1cnNkYXkKICAgICAgICB2YXIgdGltZSA9IGNoZWNrRGF0ZS5nZXRUaW1lKCk7CiAgICAgICAgY2hlY2tEYXRlLnNldE1vbnRoKDApOyAvLyBDb21wYXJlIHdpdGggSmFuIDEKICAgICAgICBjaGVja0RhdGUuc2V0RGF0ZSgxKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJvdW5kKCh0aW1lIC0gY2hlY2tEYXRlKSAvIDg2NDAwMDAwKSAvIDcpICsgMTsKICAgICAgfQoKICAgICAgY3RybC5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24oIGtleSwgZXZ0ICkgewogICAgICAgIHZhciBkYXRlID0gY3RybC5hY3RpdmVEYXRlLmdldERhdGUoKTsKCiAgICAgICAgaWYgKGtleSA9PT0gJ2xlZnQnKSB7CiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDE7ICAgLy8gdXAKICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3VwJykgewogICAgICAgICAgZGF0ZSA9IGRhdGUgLSA3OyAgIC8vIGRvd24KICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3JpZ2h0JykgewogICAgICAgICAgZGF0ZSA9IGRhdGUgKyAxOyAgIC8vIGRvd24KICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2Rvd24nKSB7CiAgICAgICAgICBkYXRlID0gZGF0ZSArIDc7CiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdwYWdldXAnIHx8IGtleSA9PT0gJ3BhZ2Vkb3duJykgewogICAgICAgICAgdmFyIG1vbnRoID0gY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCkgKyAoa2V5ID09PSAncGFnZXVwJyA/IC0gMSA6IDEpOwogICAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldE1vbnRoKG1vbnRoLCAxKTsKICAgICAgICAgIGRhdGUgPSBNYXRoLm1pbihnZXREYXlzSW5Nb250aChjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSwgY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCkpLCBkYXRlKTsKICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2hvbWUnKSB7CiAgICAgICAgICBkYXRlID0gMTsKICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2VuZCcpIHsKICAgICAgICAgIGRhdGUgPSBnZXREYXlzSW5Nb250aChjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSwgY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCkpOwogICAgICAgIH0KICAgICAgICBjdHJsLmFjdGl2ZURhdGUuc2V0RGF0ZShkYXRlKTsKICAgICAgfTsKCiAgICAgIGN0cmwucmVmcmVzaFZpZXcoKTsKICAgIH0KICB9Owp9XSkKCi5kaXJlY3RpdmUoJ21vbnRocGlja2VyJywgWydkYXRlRmlsdGVyJywgZnVuY3Rpb24gKGRhdGVGaWx0ZXIpIHsKICByZXR1cm4gewogICAgcmVzdHJpY3Q6ICdFQScsCiAgICByZXBsYWNlOiB0cnVlLAogICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWwnLAogICAgcmVxdWlyZTogJ15kYXRlcGlja2VyJywKICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkgewogICAgICBjdHJsLnN0ZXAgPSB7IHllYXJzOiAxIH07CiAgICAgIGN0cmwuZWxlbWVudCA9IGVsZW1lbnQ7CgogICAgICBjdHJsLl9yZWZyZXNoVmlldyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBtb250aHMgPSBuZXcgQXJyYXkoMTIpLAogICAgICAgICAgICB5ZWFyID0gY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCk7CgogICAgICAgIGZvciAoIHZhciBpID0gMDsgaSA8IDEyOyBpKysgKSB7CiAgICAgICAgICBtb250aHNbaV0gPSBhbmd1bGFyLmV4dGVuZChjdHJsLmNyZWF0ZURhdGVPYmplY3QobmV3IERhdGUoeWVhciwgaSwgMSksIGN0cmwuZm9ybWF0TW9udGgpLCB7CiAgICAgICAgICAgIHVpZDogc2NvcGUudW5pcXVlSWQgKyAnLScgKyBpCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHNjb3BlLnRpdGxlID0gZGF0ZUZpbHRlcihjdHJsLmFjdGl2ZURhdGUsIGN0cmwuZm9ybWF0TW9udGhUaXRsZSk7CiAgICAgICAgc2NvcGUucm93cyA9IGN0cmwuc3BsaXQobW9udGhzLCAzKTsKICAgICAgfTsKCiAgICAgIGN0cmwuY29tcGFyZSA9IGZ1bmN0aW9uKGRhdGUxLCBkYXRlMikgewogICAgICAgIHJldHVybiBuZXcgRGF0ZSggZGF0ZTEuZ2V0RnVsbFllYXIoKSwgZGF0ZTEuZ2V0TW9udGgoKSApIC0gbmV3IERhdGUoIGRhdGUyLmdldEZ1bGxZZWFyKCksIGRhdGUyLmdldE1vbnRoKCkgKTsKICAgICAgfTsKCiAgICAgIGN0cmwuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uKCBrZXksIGV2dCApIHsKICAgICAgICB2YXIgZGF0ZSA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpOwoKICAgICAgICBpZiAoa2V5ID09PSAnbGVmdCcpIHsKICAgICAgICAgIGRhdGUgPSBkYXRlIC0gMTsgICAvLyB1cAogICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAndXAnKSB7CiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDM7ICAgLy8gZG93bgogICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncmlnaHQnKSB7CiAgICAgICAgICBkYXRlID0gZGF0ZSArIDE7ICAgLy8gZG93bgogICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZG93bicpIHsKICAgICAgICAgIGRhdGUgPSBkYXRlICsgMzsKICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3BhZ2V1cCcgfHwga2V5ID09PSAncGFnZWRvd24nKSB7CiAgICAgICAgICB2YXIgeWVhciA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpICsgKGtleSA9PT0gJ3BhZ2V1cCcgPyAtIDEgOiAxKTsKICAgICAgICAgIGN0cmwuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcih5ZWFyKTsKICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2hvbWUnKSB7CiAgICAgICAgICBkYXRlID0gMDsKICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2VuZCcpIHsKICAgICAgICAgIGRhdGUgPSAxMTsKICAgICAgICB9CiAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldE1vbnRoKGRhdGUpOwogICAgICB9OwoKICAgICAgY3RybC5yZWZyZXNoVmlldygpOwogICAgfQogIH07Cn1dKQoKLmRpcmVjdGl2ZSgneWVhcnBpY2tlcicsIFsnZGF0ZUZpbHRlcicsIGZ1bmN0aW9uIChkYXRlRmlsdGVyKSB7CiAgcmV0dXJuIHsKICAgIHJlc3RyaWN0OiAnRUEnLAogICAgcmVwbGFjZTogdHJ1ZSwKICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvZGF0ZXBpY2tlci95ZWFyLmh0bWwnLAogICAgcmVxdWlyZTogJ15kYXRlcGlja2VyJywKICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkgewogICAgICB2YXIgcmFuZ2UgPSBjdHJsLnllYXJSYW5nZTsKCiAgICAgIGN0cmwuc3RlcCA9IHsgeWVhcnM6IHJhbmdlIH07CiAgICAgIGN0cmwuZWxlbWVudCA9IGVsZW1lbnQ7CgogICAgICBmdW5jdGlvbiBnZXRTdGFydGluZ1llYXIoIHllYXIgKSB7CiAgICAgICAgcmV0dXJuIHBhcnNlSW50KCh5ZWFyIC0gMSkgLyByYW5nZSwgMTApICogcmFuZ2UgKyAxOwogICAgICB9CgogICAgICBjdHJsLl9yZWZyZXNoVmlldyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciB5ZWFycyA9IG5ldyBBcnJheShyYW5nZSk7CgogICAgICAgIGZvciAoIHZhciBpID0gMCwgc3RhcnQgPSBnZXRTdGFydGluZ1llYXIoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpOyBpIDwgcmFuZ2U7IGkrKyApIHsKICAgICAgICAgIHllYXJzW2ldID0gYW5ndWxhci5leHRlbmQoY3RybC5jcmVhdGVEYXRlT2JqZWN0KG5ldyBEYXRlKHN0YXJ0ICsgaSwgMCwgMSksIGN0cmwuZm9ybWF0WWVhciksIHsKICAgICAgICAgICAgdWlkOiBzY29wZS51bmlxdWVJZCArICctJyArIGkKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgc2NvcGUudGl0bGUgPSBbeWVhcnNbMF0ubGFiZWwsIHllYXJzW3JhbmdlIC0gMV0ubGFiZWxdLmpvaW4oJyAtICcpOwogICAgICAgIHNjb3BlLnJvd3MgPSBjdHJsLnNwbGl0KHllYXJzLCA1KTsKICAgICAgfTsKCiAgICAgIGN0cmwuY29tcGFyZSA9IGZ1bmN0aW9uKGRhdGUxLCBkYXRlMikgewogICAgICAgIHJldHVybiBkYXRlMS5nZXRGdWxsWWVhcigpIC0gZGF0ZTIuZ2V0RnVsbFllYXIoKTsKICAgICAgfTsKCiAgICAgIGN0cmwuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uKCBrZXksIGV2dCApIHsKICAgICAgICB2YXIgZGF0ZSA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpOwoKICAgICAgICBpZiAoa2V5ID09PSAnbGVmdCcpIHsKICAgICAgICAgIGRhdGUgPSBkYXRlIC0gMTsgICAvLyB1cAogICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAndXAnKSB7CiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDU7ICAgLy8gZG93bgogICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncmlnaHQnKSB7CiAgICAgICAgICBkYXRlID0gZGF0ZSArIDE7ICAgLy8gZG93bgogICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZG93bicpIHsKICAgICAgICAgIGRhdGUgPSBkYXRlICsgNTsKICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3BhZ2V1cCcgfHwga2V5ID09PSAncGFnZWRvd24nKSB7CiAgICAgICAgICBkYXRlICs9IChrZXkgPT09ICdwYWdldXAnID8gLSAxIDogMSkgKiBjdHJsLnN0ZXAueWVhcnM7CiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdob21lJykgewogICAgICAgICAgZGF0ZSA9IGdldFN0YXJ0aW5nWWVhciggY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkgKTsKICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2VuZCcpIHsKICAgICAgICAgIGRhdGUgPSBnZXRTdGFydGluZ1llYXIoIGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpICkgKyByYW5nZSAtIDE7CiAgICAgICAgfQogICAgICAgIGN0cmwuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcihkYXRlKTsKICAgICAgfTsKCiAgICAgIGN0cmwucmVmcmVzaFZpZXcoKTsKICAgIH0KICB9Owp9XSkKCi5jb25zdGFudCgnZGF0ZXBpY2tlclBvcHVwQ29uZmlnJywgewogIGRhdGVwaWNrZXJQb3B1cDogJ3l5eXktTU0tZGQnLAogIGN1cnJlbnRUZXh0OiAnVG9kYXknLAogIGNsZWFyVGV4dDogJ0NsZWFyJywKICBjbG9zZVRleHQ6ICdEb25lJywKICBjbG9zZU9uRGF0ZVNlbGVjdGlvbjogdHJ1ZSwKICBhcHBlbmRUb0JvZHk6IGZhbHNlLAogIHNob3dCdXR0b25CYXI6IHRydWUKfSkKCi5kaXJlY3RpdmUoJ2RhdGVwaWNrZXJQb3B1cCcsIFsnJGNvbXBpbGUnLCAnJHBhcnNlJywgJyRkb2N1bWVudCcsICckcG9zaXRpb24nLCAnZGF0ZUZpbHRlcicsICdkYXRlUGFyc2VyJywgJ2RhdGVwaWNrZXJQb3B1cENvbmZpZycsCmZ1bmN0aW9uICgkY29tcGlsZSwgJHBhcnNlLCAkZG9jdW1lbnQsICRwb3NpdGlvbiwgZGF0ZUZpbHRlciwgZGF0ZVBhcnNlciwgZGF0ZXBpY2tlclBvcHVwQ29uZmlnKSB7CiAgcmV0dXJuIHsKICAgIHJlc3RyaWN0OiAnRUEnLAogICAgcmVxdWlyZTogJ25nTW9kZWwnLAogICAgc2NvcGU6IHsKICAgICAgaXNPcGVuOiAnPT8nLAogICAgICBjdXJyZW50VGV4dDogJ0AnLAogICAgICBjbGVhclRleHQ6ICdAJywKICAgICAgY2xvc2VUZXh0OiAnQCcsCiAgICAgIGRhdGVEaXNhYmxlZDogJyYnCiAgICB9LAogICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7CiAgICAgIHZhciBkYXRlRm9ybWF0LAogICAgICAgICAgY2xvc2VPbkRhdGVTZWxlY3Rpb24gPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5jbG9zZU9uRGF0ZVNlbGVjdGlvbikgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmNsb3NlT25EYXRlU2VsZWN0aW9uKSA6IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5jbG9zZU9uRGF0ZVNlbGVjdGlvbiwKICAgICAgICAgIGFwcGVuZFRvQm9keSA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmRhdGVwaWNrZXJBcHBlbmRUb0JvZHkpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5kYXRlcGlja2VyQXBwZW5kVG9Cb2R5KSA6IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5hcHBlbmRUb0JvZHk7CgogICAgICBzY29wZS5zaG93QnV0dG9uQmFyID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuc2hvd0J1dHRvbkJhcikgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLnNob3dCdXR0b25CYXIpIDogZGF0ZXBpY2tlclBvcHVwQ29uZmlnLnNob3dCdXR0b25CYXI7CgogICAgICBzY29wZS5nZXRUZXh0ID0gZnVuY3Rpb24oIGtleSApIHsKICAgICAgICByZXR1cm4gc2NvcGVba2V5ICsgJ1RleHQnXSB8fCBkYXRlcGlja2VyUG9wdXBDb25maWdba2V5ICsgJ1RleHQnXTsKICAgICAgfTsKCiAgICAgIGF0dHJzLiRvYnNlcnZlKCdkYXRlcGlja2VyUG9wdXAnLCBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgICAgZGF0ZUZvcm1hdCA9IHZhbHVlIHx8IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5kYXRlcGlja2VyUG9wdXA7CiAgICAgICAgICBuZ01vZGVsLiRyZW5kZXIoKTsKICAgICAgfSk7CgogICAgICAvLyBwb3B1cCBlbGVtZW50IHVzZWQgdG8gZGlzcGxheSBjYWxlbmRhcgogICAgICB2YXIgcG9wdXBFbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBkYXRlcGlja2VyLXBvcHVwLXdyYXA+PGRpdiBkYXRlcGlja2VyPjwvZGl2PjwvZGl2PicpOwogICAgICBwb3B1cEVsLmF0dHIoewogICAgICAgICduZy1tb2RlbCc6ICdkYXRlJywKICAgICAgICAnbmctY2hhbmdlJzogJ2RhdGVTZWxlY3Rpb24oKScKICAgICAgfSk7CgogICAgICBmdW5jdGlvbiBjYW1lbHRvRGFzaCggc3RyaW5nICl7CiAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oW0EtWl0pL2csIGZ1bmN0aW9uKCQxKSB7IHJldHVybiAnLScgKyAkMS50b0xvd2VyQ2FzZSgpOyB9KTsKICAgICAgfQoKICAgICAgLy8gZGF0ZXBpY2tlciBlbGVtZW50CiAgICAgIHZhciBkYXRlcGlja2VyRWwgPSBhbmd1bGFyLmVsZW1lbnQocG9wdXBFbC5jaGlsZHJlbigpWzBdKTsKICAgICAgaWYgKCBhdHRycy5kYXRlcGlja2VyT3B0aW9ucyApIHsKICAgICAgICBhbmd1bGFyLmZvckVhY2goc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5kYXRlcGlja2VyT3B0aW9ucyksIGZ1bmN0aW9uKCB2YWx1ZSwgb3B0aW9uICkgewogICAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoIGNhbWVsdG9EYXNoKG9wdGlvbiksIHZhbHVlICk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGFuZ3VsYXIuZm9yRWFjaChbJ21pbkRhdGUnLCAnbWF4RGF0ZSddLCBmdW5jdGlvbigga2V5ICkgewogICAgICAgIGlmICggYXR0cnNba2V5XSApIHsKICAgICAgICAgIHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZShhdHRyc1trZXldKSwgZnVuY3Rpb24odmFsdWUpewogICAgICAgICAgICBzY29wZVtrZXldID0gdmFsdWU7CiAgICAgICAgICB9KTsKICAgICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKGNhbWVsdG9EYXNoKGtleSksIGtleSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgaWYgKGF0dHJzLmRhdGVEaXNhYmxlZCkgewogICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCdkYXRlLWRpc2FibGVkJywgJ2RhdGVEaXNhYmxlZCh7IGRhdGU6IGRhdGUsIG1vZGU6IG1vZGUgfSknKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gcGFyc2VEYXRlKHZpZXdWYWx1ZSkgewogICAgICAgIGlmICghdmlld1ZhbHVlKSB7CiAgICAgICAgICBuZ01vZGVsLiRzZXRWYWxpZGl0eSgnZGF0ZScsIHRydWUpOwogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzRGF0ZSh2aWV3VmFsdWUpICYmICFpc05hTih2aWV3VmFsdWUpKSB7CiAgICAgICAgICBuZ01vZGVsLiRzZXRWYWxpZGl0eSgnZGF0ZScsIHRydWUpOwogICAgICAgICAgcmV0dXJuIHZpZXdWYWx1ZTsKICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNTdHJpbmcodmlld1ZhbHVlKSkgewogICAgICAgICAgdmFyIGRhdGUgPSBkYXRlUGFyc2VyLnBhcnNlKHZpZXdWYWx1ZSwgZGF0ZUZvcm1hdCkgfHwgbmV3IERhdGUodmlld1ZhbHVlKTsKICAgICAgICAgIGlmIChpc05hTihkYXRlKSkgewogICAgICAgICAgICBuZ01vZGVsLiRzZXRWYWxpZGl0eSgnZGF0ZScsIGZhbHNlKTsKICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5nTW9kZWwuJHNldFZhbGlkaXR5KCdkYXRlJywgdHJ1ZSk7CiAgICAgICAgICAgIHJldHVybiBkYXRlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBuZ01vZGVsLiRzZXRWYWxpZGl0eSgnZGF0ZScsIGZhbHNlKTsKICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICB9CiAgICAgIG5nTW9kZWwuJHBhcnNlcnMudW5zaGlmdChwYXJzZURhdGUpOwoKICAgICAgLy8gSW5uZXIgY2hhbmdlCiAgICAgIHNjb3BlLmRhdGVTZWxlY3Rpb24gPSBmdW5jdGlvbihkdCkgewogICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChkdCkpIHsKICAgICAgICAgIHNjb3BlLmRhdGUgPSBkdDsKICAgICAgICB9CiAgICAgICAgbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKHNjb3BlLmRhdGUpOwogICAgICAgIG5nTW9kZWwuJHJlbmRlcigpOwoKICAgICAgICBpZiAoIGNsb3NlT25EYXRlU2VsZWN0aW9uICkgewogICAgICAgICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7CiAgICAgICAgICBlbGVtZW50WzBdLmZvY3VzKCk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgZWxlbWVudC5iaW5kKCdpbnB1dCBjaGFuZ2Uga2V5dXAnLCBmdW5jdGlvbigpIHsKICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7CiAgICAgICAgICBzY29wZS5kYXRlID0gbmdNb2RlbC4kbW9kZWxWYWx1ZTsKICAgICAgICB9KTsKICAgICAgfSk7CgogICAgICAvLyBPdXR0ZXIgY2hhbmdlCiAgICAgIG5nTW9kZWwuJHJlbmRlciA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBkYXRlID0gbmdNb2RlbC4kdmlld1ZhbHVlID8gZGF0ZUZpbHRlcihuZ01vZGVsLiR2aWV3VmFsdWUsIGRhdGVGb3JtYXQpIDogJyc7CiAgICAgICAgZWxlbWVudC52YWwoZGF0ZSk7CiAgICAgICAgc2NvcGUuZGF0ZSA9IHBhcnNlRGF0ZSggbmdNb2RlbC4kbW9kZWxWYWx1ZSApOwogICAgICB9OwoKICAgICAgdmFyIGRvY3VtZW50Q2xpY2tCaW5kID0gZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICBpZiAoc2NvcGUuaXNPcGVuICYmIGV2ZW50LnRhcmdldCAhPT0gZWxlbWVudFswXSkgewogICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkgewogICAgICAgICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIHZhciBrZXlkb3duID0gZnVuY3Rpb24oZXZ0LCBub0FwcGx5KSB7CiAgICAgICAgc2NvcGUua2V5ZG93bihldnQpOwogICAgICB9OwogICAgICBlbGVtZW50LmJpbmQoJ2tleWRvd24nLCBrZXlkb3duKTsKCiAgICAgIHNjb3BlLmtleWRvd24gPSBmdW5jdGlvbihldnQpIHsKICAgICAgICBpZiAoZXZ0LndoaWNoID09PSAyNykgewogICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICBzY29wZS5jbG9zZSgpOwogICAgICAgIH0gZWxzZSBpZiAoZXZ0LndoaWNoID09PSA0MCAmJiAhc2NvcGUuaXNPcGVuKSB7CiAgICAgICAgICBzY29wZS5pc09wZW4gPSB0cnVlOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIHNjb3BlLiR3YXRjaCgnaXNPcGVuJywgZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICBpZiAodmFsdWUpIHsKICAgICAgICAgIHNjb3BlLiRicm9hZGNhc3QoJ2RhdGVwaWNrZXIuZm9jdXMnKTsKICAgICAgICAgIHNjb3BlLnBvc2l0aW9uID0gYXBwZW5kVG9Cb2R5ID8gJHBvc2l0aW9uLm9mZnNldChlbGVtZW50KSA6ICRwb3NpdGlvbi5wb3NpdGlvbihlbGVtZW50KTsKICAgICAgICAgIHNjb3BlLnBvc2l0aW9uLnRvcCA9IHNjb3BlLnBvc2l0aW9uLnRvcCArIGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0Jyk7CgogICAgICAgICAgJGRvY3VtZW50LmJpbmQoJ2NsaWNrJywgZG9jdW1lbnRDbGlja0JpbmQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAkZG9jdW1lbnQudW5iaW5kKCdjbGljaycsIGRvY3VtZW50Q2xpY2tCaW5kKTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24oIGRhdGUgKSB7CiAgICAgICAgaWYgKGRhdGUgPT09ICd0b2RheScpIHsKICAgICAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7CiAgICAgICAgICBpZiAoYW5ndWxhci5pc0RhdGUobmdNb2RlbC4kbW9kZWxWYWx1ZSkpIHsKICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKG5nTW9kZWwuJG1vZGVsVmFsdWUpOwogICAgICAgICAgICBkYXRlLnNldEZ1bGxZZWFyKHRvZGF5LmdldEZ1bGxZZWFyKCksIHRvZGF5LmdldE1vbnRoKCksIHRvZGF5LmdldERhdGUoKSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkYXRlID0gbmV3IERhdGUodG9kYXkuc2V0SG91cnMoMCwgMCwgMCwgMCkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzY29wZS5kYXRlU2VsZWN0aW9uKCBkYXRlICk7CiAgICAgIH07CgogICAgICBzY29wZS5jbG9zZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlOwogICAgICAgIGVsZW1lbnRbMF0uZm9jdXMoKTsKICAgICAgfTsKCiAgICAgIHZhciAkcG9wdXAgPSAkY29tcGlsZShwb3B1cEVsKShzY29wZSk7CiAgICAgIGlmICggYXBwZW5kVG9Cb2R5ICkgewogICAgICAgICRkb2N1bWVudC5maW5kKCdib2R5JykuYXBwZW5kKCRwb3B1cCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZWxlbWVudC5hZnRlcigkcG9wdXApOwogICAgICB9CgogICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7CiAgICAgICAgJHBvcHVwLnJlbW92ZSgpOwogICAgICAgIGVsZW1lbnQudW5iaW5kKCdrZXlkb3duJywga2V5ZG93bik7CiAgICAgICAgJGRvY3VtZW50LnVuYmluZCgnY2xpY2snLCBkb2N1bWVudENsaWNrQmluZCk7CiAgICAgIH0pOwogICAgfQogIH07Cn1dKQoKLmRpcmVjdGl2ZSgnZGF0ZXBpY2tlclBvcHVwV3JhcCcsIGZ1bmN0aW9uKCkgewogIHJldHVybiB7CiAgICByZXN0cmljdDonRUEnLAogICAgcmVwbGFjZTogdHJ1ZSwKICAgIHRyYW5zY2x1ZGU6IHRydWUsCiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbCcsCiAgICBsaW5rOmZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHsKICAgICAgZWxlbWVudC5iaW5kKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgfSk7CiAgICB9CiAgfTsKfSk7Cgphbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmRyb3Bkb3duJywgW10pCgouY29uc3RhbnQoJ2Ryb3Bkb3duQ29uZmlnJywgewogIG9wZW5DbGFzczogJ29wZW4nCn0pCgouc2VydmljZSgnZHJvcGRvd25TZXJ2aWNlJywgWyckZG9jdW1lbnQnLCBmdW5jdGlvbigkZG9jdW1lbnQpIHsKICB2YXIgb3BlblNjb3BlID0gbnVsbDsKCiAgdGhpcy5vcGVuID0gZnVuY3Rpb24oIGRyb3Bkb3duU2NvcGUgKSB7CiAgICBpZiAoICFvcGVuU2NvcGUgKSB7CiAgICAgICRkb2N1bWVudC5iaW5kKCdjbGljaycsIGNsb3NlRHJvcGRvd24pOwogICAgICAkZG9jdW1lbnQuYmluZCgna2V5ZG93bicsIGVzY2FwZUtleUJpbmQpOwogICAgfQoKICAgIGlmICggb3BlblNjb3BlICYmIG9wZW5TY29wZSAhPT0gZHJvcGRvd25TY29wZSApIHsKICAgICAgICBvcGVuU2NvcGUuaXNPcGVuID0gZmFsc2U7CiAgICB9CgogICAgb3BlblNjb3BlID0gZHJvcGRvd25TY29wZTsKICB9OwoKICB0aGlzLmNsb3NlID0gZnVuY3Rpb24oIGRyb3Bkb3duU2NvcGUgKSB7CiAgICBpZiAoIG9wZW5TY29wZSA9PT0gZHJvcGRvd25TY29wZSApIHsKICAgICAgb3BlblNjb3BlID0gbnVsbDsKICAgICAgJGRvY3VtZW50LnVuYmluZCgnY2xpY2snLCBjbG9zZURyb3Bkb3duKTsKICAgICAgJGRvY3VtZW50LnVuYmluZCgna2V5ZG93bicsIGVzY2FwZUtleUJpbmQpOwogICAgfQogIH07CgogIHZhciBjbG9zZURyb3Bkb3duID0gZnVuY3Rpb24oIGV2dCApIHsKICAgIGlmIChldnQgJiYgZXZ0LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIG9wZW5TY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7CiAgICAgIG9wZW5TY29wZS5pc09wZW4gPSBmYWxzZTsKICAgIH0pOwogIH07CgogIHZhciBlc2NhcGVLZXlCaW5kID0gZnVuY3Rpb24oIGV2dCApIHsKICAgIGlmICggZXZ0LndoaWNoID09PSAyNyApIHsKICAgICAgb3BlblNjb3BlLmZvY3VzVG9nZ2xlRWxlbWVudCgpOwogICAgICBjbG9zZURyb3Bkb3duKCk7CiAgICB9CiAgfTsKfV0pCgouY29udHJvbGxlcignRHJvcGRvd25Db250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJyRwYXJzZScsICdkcm9wZG93bkNvbmZpZycsICdkcm9wZG93blNlcnZpY2UnLCAnJGFuaW1hdGUnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgJHBhcnNlLCBkcm9wZG93bkNvbmZpZywgZHJvcGRvd25TZXJ2aWNlLCAkYW5pbWF0ZSkgewogIHZhciBzZWxmID0gdGhpcywKICAgICAgc2NvcGUgPSAkc2NvcGUuJG5ldygpLCAvLyBjcmVhdGUgYSBjaGlsZCBzY29wZSBzbyB3ZSBhcmUgbm90IHBvbGx1dGluZyBvcmlnaW5hbCBvbmUKICAgICAgb3BlbkNsYXNzID0gZHJvcGRvd25Db25maWcub3BlbkNsYXNzLAogICAgICBnZXRJc09wZW4sCiAgICAgIHNldElzT3BlbiA9IGFuZ3VsYXIubm9vcCwKICAgICAgdG9nZ2xlSW52b2tlciA9ICRhdHRycy5vblRvZ2dsZSA/ICRwYXJzZSgkYXR0cnMub25Ub2dnbGUpIDogYW5ndWxhci5ub29wOwoKICB0aGlzLmluaXQgPSBmdW5jdGlvbiggZWxlbWVudCApIHsKICAgIHNlbGYuJGVsZW1lbnQgPSBlbGVtZW50OwoKICAgIGlmICggJGF0dHJzLmlzT3BlbiApIHsKICAgICAgZ2V0SXNPcGVuID0gJHBhcnNlKCRhdHRycy5pc09wZW4pOwogICAgICBzZXRJc09wZW4gPSBnZXRJc09wZW4uYXNzaWduOwoKICAgICAgJHNjb3BlLiR3YXRjaChnZXRJc09wZW4sIGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgc2NvcGUuaXNPcGVuID0gISF2YWx1ZTsKICAgICAgfSk7CiAgICB9CiAgfTsKCiAgdGhpcy50b2dnbGUgPSBmdW5jdGlvbiggb3BlbiApIHsKICAgIHJldHVybiBzY29wZS5pc09wZW4gPSBhcmd1bWVudHMubGVuZ3RoID8gISFvcGVuIDogIXNjb3BlLmlzT3BlbjsKICB9OwoKICAvLyBBbGxvdyBvdGhlciBkaXJlY3RpdmVzIHRvIHdhdGNoIHN0YXR1cwogIHRoaXMuaXNPcGVuID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gc2NvcGUuaXNPcGVuOwogIH07CgogIHNjb3BlLmZvY3VzVG9nZ2xlRWxlbWVudCA9IGZ1bmN0aW9uKCkgewogICAgaWYgKCBzZWxmLnRvZ2dsZUVsZW1lbnQgKSB7CiAgICAgIHNlbGYudG9nZ2xlRWxlbWVudFswXS5mb2N1cygpOwogICAgfQogIH07CgogIHNjb3BlLiR3YXRjaCgnaXNPcGVuJywgZnVuY3Rpb24oIGlzT3Blbiwgd2FzT3BlbiApIHsKICAgICRhbmltYXRlW2lzT3BlbiA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXShzZWxmLiRlbGVtZW50LCBvcGVuQ2xhc3MpOwoKICAgIGlmICggaXNPcGVuICkgewogICAgICBzY29wZS5mb2N1c1RvZ2dsZUVsZW1lbnQoKTsKICAgICAgZHJvcGRvd25TZXJ2aWNlLm9wZW4oIHNjb3BlICk7CiAgICB9IGVsc2UgewogICAgICBkcm9wZG93blNlcnZpY2UuY2xvc2UoIHNjb3BlICk7CiAgICB9CgogICAgc2V0SXNPcGVuKCRzY29wZSwgaXNPcGVuKTsKICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpc09wZW4pICYmIGlzT3BlbiAhPT0gd2FzT3BlbikgewogICAgICB0b2dnbGVJbnZva2VyKCRzY29wZSwgeyBvcGVuOiAhIWlzT3BlbiB9KTsKICAgIH0KICB9KTsKCiAgJHNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uKCkgewogICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7CiAgfSk7CgogICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7CiAgICBzY29wZS4kZGVzdHJveSgpOwogIH0pOwp9XSkKCi5kaXJlY3RpdmUoJ2Ryb3Bkb3duJywgZnVuY3Rpb24oKSB7CiAgcmV0dXJuIHsKICAgIHJlc3RyaWN0OiAnQ0EnLAogICAgY29udHJvbGxlcjogJ0Ryb3Bkb3duQ29udHJvbGxlcicsCiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGRyb3Bkb3duQ3RybCkgewogICAgICBkcm9wZG93bkN0cmwuaW5pdCggZWxlbWVudCApOwogICAgfQogIH07Cn0pCgouZGlyZWN0aXZlKCdkcm9wZG93blRvZ2dsZScsIGZ1bmN0aW9uKCkgewogIHJldHVybiB7CiAgICByZXN0cmljdDogJ0NBJywKICAgIHJlcXVpcmU6ICc/XmRyb3Bkb3duJywKICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgZHJvcGRvd25DdHJsKSB7CiAgICAgIGlmICggIWRyb3Bkb3duQ3RybCApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGRyb3Bkb3duQ3RybC50b2dnbGVFbGVtZW50ID0gZWxlbWVudDsKCiAgICAgIHZhciB0b2dnbGVEcm9wZG93biA9IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKCiAgICAgICAgaWYgKCAhZWxlbWVudC5oYXNDbGFzcygnZGlzYWJsZWQnKSAmJiAhYXR0cnMuZGlzYWJsZWQgKSB7CiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGRyb3Bkb3duQ3RybC50b2dnbGUoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGVsZW1lbnQuYmluZCgnY2xpY2snLCB0b2dnbGVEcm9wZG93bik7CgogICAgICAvLyBXQUktQVJJQQogICAgICBlbGVtZW50LmF0dHIoeyAnYXJpYS1oYXNwb3B1cCc6IHRydWUsICdhcmlhLWV4cGFuZGVkJzogZmFsc2UgfSk7CiAgICAgIHNjb3BlLiR3YXRjaChkcm9wZG93bkN0cmwuaXNPcGVuLCBmdW5jdGlvbiggaXNPcGVuICkgewogICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsICEhaXNPcGVuKTsKICAgICAgfSk7CgogICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7CiAgICAgICAgZWxlbWVudC51bmJpbmQoJ2NsaWNrJywgdG9nZ2xlRHJvcGRvd24pOwogICAgICB9KTsKICAgIH0KICB9Owp9KTsKCmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAubW9kYWwnLCBbJ3VpLmJvb3RzdHJhcC50cmFuc2l0aW9uJ10pCgovKioKICogQSBoZWxwZXIsIGludGVybmFsIGRhdGEgc3RydWN0dXJlIHRoYXQgYWN0cyBhcyBhIG1hcCBidXQgYWxzbyBhbGxvd3MgZ2V0dGluZyAvIHJlbW92aW5nCiAqIGVsZW1lbnRzIGluIHRoZSBMSUZPIG9yZGVyCiAqLwogIC5mYWN0b3J5KCckJHN0YWNrZWRNYXAnLCBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICBjcmVhdGVOZXc6IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgc3RhY2sgPSBbXTsKCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGFkZDogZnVuY3Rpb24gKGtleSwgdmFsdWUpIHsKICAgICAgICAgICAgc3RhY2sucHVzaCh7CiAgICAgICAgICAgICAga2V5OiBrZXksCiAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSwKICAgICAgICAgIGdldDogZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgaWYgKGtleSA9PSBzdGFja1tpXS5rZXkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBzdGFja1tpXTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBrZXlzOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIGtleXMgPSBbXTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIGtleXMucHVzaChzdGFja1tpXS5rZXkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBrZXlzOwogICAgICAgICAgfSwKICAgICAgICAgIHRvcDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07CiAgICAgICAgICB9LAogICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgIHZhciBpZHggPSAtMTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIGlmIChrZXkgPT0gc3RhY2tbaV0ua2V5KSB7CiAgICAgICAgICAgICAgICBpZHggPSBpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBzdGFjay5zcGxpY2UoaWR4LCAxKVswXTsKICAgICAgICAgIH0sCiAgICAgICAgICByZW1vdmVUb3A6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHN0YWNrLnNwbGljZShzdGFjay5sZW5ndGggLSAxLCAxKVswXTsKICAgICAgICAgIH0sCiAgICAgICAgICBsZW5ndGg6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHN0YWNrLmxlbmd0aDsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9CiAgICB9OwogIH0pCgovKioKICogQSBoZWxwZXIgZGlyZWN0aXZlIGZvciB0aGUgJG1vZGFsIHNlcnZpY2UuIEl0IGNyZWF0ZXMgYSBiYWNrZHJvcCBlbGVtZW50LgogKi8KICAuZGlyZWN0aXZlKCdtb2RhbEJhY2tkcm9wJywgWyckdGltZW91dCcsIGZ1bmN0aW9uICgkdGltZW91dCkgewogICAgcmV0dXJuIHsKICAgICAgcmVzdHJpY3Q6ICdFQScsCiAgICAgIHJlcGxhY2U6IHRydWUsCiAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbCcsCiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSkgewoKICAgICAgICBzY29wZS5hbmltYXRlID0gZmFsc2U7CgogICAgICAgIC8vdHJpZ2dlciBDU1MgdHJhbnNpdGlvbnMKICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBzY29wZS5hbmltYXRlID0gdHJ1ZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfTsKICB9XSkKCiAgLmRpcmVjdGl2ZSgnbW9kYWxXaW5kb3cnLCBbJyRtb2RhbFN0YWNrJywgJyR0aW1lb3V0JywgZnVuY3Rpb24gKCRtb2RhbFN0YWNrLCAkdGltZW91dCkgewogICAgcmV0dXJuIHsKICAgICAgcmVzdHJpY3Q6ICdFQScsCiAgICAgIHNjb3BlOiB7CiAgICAgICAgaW5kZXg6ICdAJywKICAgICAgICBhbmltYXRlOiAnPScKICAgICAgfSwKICAgICAgcmVwbGFjZTogdHJ1ZSwKICAgICAgdHJhbnNjbHVkZTogdHJ1ZSwKICAgICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKHRFbGVtZW50LCB0QXR0cnMpIHsKICAgICAgICByZXR1cm4gdEF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbCc7CiAgICAgIH0sCiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHsKICAgICAgICBlbGVtZW50LmFkZENsYXNzKGF0dHJzLndpbmRvd0NsYXNzIHx8ICcnKTsKICAgICAgICBzY29wZS5zaXplID0gYXR0cnMuc2l6ZTsKCiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gdHJpZ2dlciBDU1MgdHJhbnNpdGlvbnMKICAgICAgICAgIHNjb3BlLmFuaW1hdGUgPSB0cnVlOwogICAgICAgICAgLy8gZm9jdXMgYSBmcmVzaGx5LW9wZW5lZCBtb2RhbAogICAgICAgICAgZWxlbWVudFswXS5mb2N1cygpOwogICAgICAgIH0pOwoKICAgICAgICBzY29wZS5jbG9zZSA9IGZ1bmN0aW9uIChldnQpIHsKICAgICAgICAgIHZhciBtb2RhbCA9ICRtb2RhbFN0YWNrLmdldFRvcCgpOwogICAgICAgICAgaWYgKG1vZGFsICYmIG1vZGFsLnZhbHVlLmJhY2tkcm9wICYmIG1vZGFsLnZhbHVlLmJhY2tkcm9wICE9ICdzdGF0aWMnICYmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkpIHsKICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgJG1vZGFsU3RhY2suZGlzbWlzcyhtb2RhbC5rZXksICdiYWNrZHJvcCBjbGljaycpOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KICAgIH07CiAgfV0pCgogIC5mYWN0b3J5KCckbW9kYWxTdGFjaycsIFsnJHRyYW5zaXRpb24nLCAnJHRpbWVvdXQnLCAnJGRvY3VtZW50JywgJyRjb21waWxlJywgJyRyb290U2NvcGUnLCAnJCRzdGFja2VkTWFwJywKICAgIGZ1bmN0aW9uICgkdHJhbnNpdGlvbiwgJHRpbWVvdXQsICRkb2N1bWVudCwgJGNvbXBpbGUsICRyb290U2NvcGUsICQkc3RhY2tlZE1hcCkgewoKICAgICAgdmFyIE9QRU5FRF9NT0RBTF9DTEFTUyA9ICdtb2RhbC1vcGVuJzsKCiAgICAgIHZhciBiYWNrZHJvcERvbUVsLCBiYWNrZHJvcFNjb3BlOwogICAgICB2YXIgb3BlbmVkV2luZG93cyA9ICQkc3RhY2tlZE1hcC5jcmVhdGVOZXcoKTsKICAgICAgdmFyICRtb2RhbFN0YWNrID0ge307CgogICAgICBmdW5jdGlvbiBiYWNrZHJvcEluZGV4KCkgewogICAgICAgIHZhciB0b3BCYWNrZHJvcEluZGV4ID0gLTE7CiAgICAgICAgdmFyIG9wZW5lZCA9IG9wZW5lZFdpbmRvd3Mua2V5cygpOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3BlbmVkLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAob3BlbmVkV2luZG93cy5nZXQob3BlbmVkW2ldKS52YWx1ZS5iYWNrZHJvcCkgewogICAgICAgICAgICB0b3BCYWNrZHJvcEluZGV4ID0gaTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRvcEJhY2tkcm9wSW5kZXg7CiAgICAgIH0KCiAgICAgICRyb290U2NvcGUuJHdhdGNoKGJhY2tkcm9wSW5kZXgsIGZ1bmN0aW9uKG5ld0JhY2tkcm9wSW5kZXgpewogICAgICAgIGlmIChiYWNrZHJvcFNjb3BlKSB7CiAgICAgICAgICBiYWNrZHJvcFNjb3BlLmluZGV4ID0gbmV3QmFja2Ryb3BJbmRleDsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgZnVuY3Rpb24gcmVtb3ZlTW9kYWxXaW5kb3cobW9kYWxJbnN0YW5jZSkgewoKICAgICAgICB2YXIgYm9keSA9ICRkb2N1bWVudC5maW5kKCdib2R5JykuZXEoMCk7CiAgICAgICAgdmFyIG1vZGFsV2luZG93ID0gb3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSkudmFsdWU7CgogICAgICAgIC8vY2xlYW4gdXAgdGhlIHN0YWNrCiAgICAgICAgb3BlbmVkV2luZG93cy5yZW1vdmUobW9kYWxJbnN0YW5jZSk7CgogICAgICAgIC8vcmVtb3ZlIHdpbmRvdyBET00gZWxlbWVudAogICAgICAgIHJlbW92ZUFmdGVyQW5pbWF0ZShtb2RhbFdpbmRvdy5tb2RhbERvbUVsLCBtb2RhbFdpbmRvdy5tb2RhbFNjb3BlLCAzMDAsIGZ1bmN0aW9uKCkgewogICAgICAgICAgbW9kYWxXaW5kb3cubW9kYWxTY29wZS4kZGVzdHJveSgpOwogICAgICAgICAgYm9keS50b2dnbGVDbGFzcyhPUEVORURfTU9EQUxfQ0xBU1MsIG9wZW5lZFdpbmRvd3MubGVuZ3RoKCkgPiAwKTsKICAgICAgICAgIGNoZWNrUmVtb3ZlQmFja2Ryb3AoKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gY2hlY2tSZW1vdmVCYWNrZHJvcCgpIHsKICAgICAgICAgIC8vcmVtb3ZlIGJhY2tkcm9wIGlmIG5vIGxvbmdlciBuZWVkZWQKICAgICAgICAgIGlmIChiYWNrZHJvcERvbUVsICYmIGJhY2tkcm9wSW5kZXgoKSA9PSAtMSkgewogICAgICAgICAgICB2YXIgYmFja2Ryb3BTY29wZVJlZiA9IGJhY2tkcm9wU2NvcGU7CiAgICAgICAgICAgIHJlbW92ZUFmdGVyQW5pbWF0ZShiYWNrZHJvcERvbUVsLCBiYWNrZHJvcFNjb3BlLCAxNTAsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBiYWNrZHJvcFNjb3BlUmVmLiRkZXN0cm95KCk7CiAgICAgICAgICAgICAgYmFja2Ryb3BTY29wZVJlZiA9IG51bGw7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBiYWNrZHJvcERvbUVsID0gdW5kZWZpbmVkOwogICAgICAgICAgICBiYWNrZHJvcFNjb3BlID0gdW5kZWZpbmVkOwogICAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiByZW1vdmVBZnRlckFuaW1hdGUoZG9tRWwsIHNjb3BlLCBlbXVsYXRlVGltZSwgZG9uZSkgewogICAgICAgIC8vIENsb3NpbmcgYW5pbWF0aW9uCiAgICAgICAgc2NvcGUuYW5pbWF0ZSA9IGZhbHNlOwoKICAgICAgICB2YXIgdHJhbnNpdGlvbkVuZEV2ZW50TmFtZSA9ICR0cmFuc2l0aW9uLnRyYW5zaXRpb25FbmRFdmVudE5hbWU7CiAgICAgICAgaWYgKHRyYW5zaXRpb25FbmRFdmVudE5hbWUpIHsKICAgICAgICAgIC8vIHRyYW5zaXRpb24gb3V0CiAgICAgICAgICB2YXIgdGltZW91dCA9ICR0aW1lb3V0KGFmdGVyQW5pbWF0aW5nLCBlbXVsYXRlVGltZSk7CgogICAgICAgICAgZG9tRWwuYmluZCh0cmFuc2l0aW9uRW5kRXZlbnROYW1lLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lb3V0KTsKICAgICAgICAgICAgYWZ0ZXJBbmltYXRpbmcoKTsKICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gRW5zdXJlIHRoaXMgY2FsbCBpcyBhc3luYwogICAgICAgICAgJHRpbWVvdXQoYWZ0ZXJBbmltYXRpbmcsIDApOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gYWZ0ZXJBbmltYXRpbmcoKSB7CiAgICAgICAgICBpZiAoYWZ0ZXJBbmltYXRpbmcuZG9uZSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICBhZnRlckFuaW1hdGluZy5kb25lID0gdHJ1ZTsKCiAgICAgICAgICBkb21FbC5yZW1vdmUoKTsKICAgICAgICAgIGlmIChkb25lKSB7CiAgICAgICAgICAgIGRvbmUoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgICRkb2N1bWVudC5iaW5kKCdrZXlkb3duJywgZnVuY3Rpb24gKGV2dCkgewogICAgICAgIHZhciBtb2RhbDsKCiAgICAgICAgaWYgKGV2dC53aGljaCA9PT0gMjcpIHsKICAgICAgICAgIG1vZGFsID0gb3BlbmVkV2luZG93cy50b3AoKTsKICAgICAgICAgIGlmIChtb2RhbCAmJiBtb2RhbC52YWx1ZS5rZXlib2FyZCkgewogICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICRtb2RhbFN0YWNrLmRpc21pc3MobW9kYWwua2V5LCAnZXNjYXBlIGtleSBwcmVzcycpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgJG1vZGFsU3RhY2sub3BlbiA9IGZ1bmN0aW9uIChtb2RhbEluc3RhbmNlLCBtb2RhbCkgewoKICAgICAgICBvcGVuZWRXaW5kb3dzLmFkZChtb2RhbEluc3RhbmNlLCB7CiAgICAgICAgICBkZWZlcnJlZDogbW9kYWwuZGVmZXJyZWQsCiAgICAgICAgICBtb2RhbFNjb3BlOiBtb2RhbC5zY29wZSwKICAgICAgICAgIGJhY2tkcm9wOiBtb2RhbC5iYWNrZHJvcCwKICAgICAgICAgIGtleWJvYXJkOiBtb2RhbC5rZXlib2FyZAogICAgICAgIH0pOwoKICAgICAgICB2YXIgYm9keSA9ICRkb2N1bWVudC5maW5kKCdib2R5JykuZXEoMCksCiAgICAgICAgICAgIGN1cnJCYWNrZHJvcEluZGV4ID0gYmFja2Ryb3BJbmRleCgpOwoKICAgICAgICBpZiAoY3VyckJhY2tkcm9wSW5kZXggPj0gMCAmJiAhYmFja2Ryb3BEb21FbCkgewogICAgICAgICAgYmFja2Ryb3BTY29wZSA9ICRyb290U2NvcGUuJG5ldyh0cnVlKTsKICAgICAgICAgIGJhY2tkcm9wU2NvcGUuaW5kZXggPSBjdXJyQmFja2Ryb3BJbmRleDsKICAgICAgICAgIGJhY2tkcm9wRG9tRWwgPSAkY29tcGlsZSgnPGRpdiBtb2RhbC1iYWNrZHJvcD48L2Rpdj4nKShiYWNrZHJvcFNjb3BlKTsKICAgICAgICAgIGJvZHkuYXBwZW5kKGJhY2tkcm9wRG9tRWwpOwogICAgICAgIH0KCiAgICAgICAgdmFyIGFuZ3VsYXJEb21FbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBtb2RhbC13aW5kb3c+PC9kaXY+Jyk7CiAgICAgICAgYW5ndWxhckRvbUVsLmF0dHIoewogICAgICAgICAgJ3RlbXBsYXRlLXVybCc6IG1vZGFsLndpbmRvd1RlbXBsYXRlVXJsLAogICAgICAgICAgJ3dpbmRvdy1jbGFzcyc6IG1vZGFsLndpbmRvd0NsYXNzLAogICAgICAgICAgJ3NpemUnOiBtb2RhbC5zaXplLAogICAgICAgICAgJ2luZGV4Jzogb3BlbmVkV2luZG93cy5sZW5ndGgoKSAtIDEsCiAgICAgICAgICAnYW5pbWF0ZSc6ICdhbmltYXRlJwogICAgICAgIH0pLmh0bWwobW9kYWwuY29udGVudCk7CgogICAgICAgIHZhciBtb2RhbERvbUVsID0gJGNvbXBpbGUoYW5ndWxhckRvbUVsKShtb2RhbC5zY29wZSk7CiAgICAgICAgb3BlbmVkV2luZG93cy50b3AoKS52YWx1ZS5tb2RhbERvbUVsID0gbW9kYWxEb21FbDsKICAgICAgICBib2R5LmFwcGVuZChtb2RhbERvbUVsKTsKICAgICAgICBib2R5LmFkZENsYXNzKE9QRU5FRF9NT0RBTF9DTEFTUyk7CiAgICAgIH07CgogICAgICAkbW9kYWxTdGFjay5jbG9zZSA9IGZ1bmN0aW9uIChtb2RhbEluc3RhbmNlLCByZXN1bHQpIHsKICAgICAgICB2YXIgbW9kYWxXaW5kb3cgPSBvcGVuZWRXaW5kb3dzLmdldChtb2RhbEluc3RhbmNlKS52YWx1ZTsKICAgICAgICBpZiAobW9kYWxXaW5kb3cpIHsKICAgICAgICAgIG1vZGFsV2luZG93LmRlZmVycmVkLnJlc29sdmUocmVzdWx0KTsKICAgICAgICAgIHJlbW92ZU1vZGFsV2luZG93KG1vZGFsSW5zdGFuY2UpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgICRtb2RhbFN0YWNrLmRpc21pc3MgPSBmdW5jdGlvbiAobW9kYWxJbnN0YW5jZSwgcmVhc29uKSB7CiAgICAgICAgdmFyIG1vZGFsV2luZG93ID0gb3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSkudmFsdWU7CiAgICAgICAgaWYgKG1vZGFsV2luZG93KSB7CiAgICAgICAgICBtb2RhbFdpbmRvdy5kZWZlcnJlZC5yZWplY3QocmVhc29uKTsKICAgICAgICAgIHJlbW92ZU1vZGFsV2luZG93KG1vZGFsSW5zdGFuY2UpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgICRtb2RhbFN0YWNrLmRpc21pc3NBbGwgPSBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgdmFyIHRvcE1vZGFsID0gdGhpcy5nZXRUb3AoKTsKICAgICAgICB3aGlsZSAodG9wTW9kYWwpIHsKICAgICAgICAgIHRoaXMuZGlzbWlzcyh0b3BNb2RhbC5rZXksIHJlYXNvbik7CiAgICAgICAgICB0b3BNb2RhbCA9IHRoaXMuZ2V0VG9wKCk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgJG1vZGFsU3RhY2suZ2V0VG9wID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBvcGVuZWRXaW5kb3dzLnRvcCgpOwogICAgICB9OwoKICAgICAgcmV0dXJuICRtb2RhbFN0YWNrOwogICAgfV0pCgogIC5wcm92aWRlcignJG1vZGFsJywgZnVuY3Rpb24gKCkgewoKICAgIHZhciAkbW9kYWxQcm92aWRlciA9IHsKICAgICAgb3B0aW9uczogewogICAgICAgIGJhY2tkcm9wOiB0cnVlLCAvL2NhbiBiZSBhbHNvIGZhbHNlIG9yICdzdGF0aWMnCiAgICAgICAga2V5Ym9hcmQ6IHRydWUKICAgICAgfSwKICAgICAgJGdldDogWyckaW5qZWN0b3InLCAnJHJvb3RTY29wZScsICckcScsICckaHR0cCcsICckdGVtcGxhdGVDYWNoZScsICckY29udHJvbGxlcicsICckbW9kYWxTdGFjaycsCiAgICAgICAgZnVuY3Rpb24gKCRpbmplY3RvciwgJHJvb3RTY29wZSwgJHEsICRodHRwLCAkdGVtcGxhdGVDYWNoZSwgJGNvbnRyb2xsZXIsICRtb2RhbFN0YWNrKSB7CgogICAgICAgICAgdmFyICRtb2RhbCA9IHt9OwoKICAgICAgICAgIGZ1bmN0aW9uIGdldFRlbXBsYXRlUHJvbWlzZShvcHRpb25zKSB7CiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLnRlbXBsYXRlID8gJHEud2hlbihvcHRpb25zLnRlbXBsYXRlKSA6CiAgICAgICAgICAgICAgJGh0dHAuZ2V0KG9wdGlvbnMudGVtcGxhdGVVcmwsIHtjYWNoZTogJHRlbXBsYXRlQ2FjaGV9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jdGlvbiBnZXRSZXNvbHZlUHJvbWlzZXMocmVzb2x2ZXMpIHsKICAgICAgICAgICAgdmFyIHByb21pc2VzQXJyID0gW107CiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChyZXNvbHZlcywgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHsKICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHZhbHVlKSB8fCBhbmd1bGFyLmlzQXJyYXkodmFsdWUpKSB7CiAgICAgICAgICAgICAgICBwcm9taXNlc0Fyci5wdXNoKCRxLndoZW4oJGluamVjdG9yLmludm9rZSh2YWx1ZSkpKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gcHJvbWlzZXNBcnI7CiAgICAgICAgICB9CgogICAgICAgICAgJG1vZGFsLm9wZW4gPSBmdW5jdGlvbiAobW9kYWxPcHRpb25zKSB7CgogICAgICAgICAgICB2YXIgbW9kYWxSZXN1bHREZWZlcnJlZCA9ICRxLmRlZmVyKCk7CiAgICAgICAgICAgIHZhciBtb2RhbE9wZW5lZERlZmVycmVkID0gJHEuZGVmZXIoKTsKCiAgICAgICAgICAgIC8vcHJlcGFyZSBhbiBpbnN0YW5jZSBvZiBhIG1vZGFsIHRvIGJlIGluamVjdGVkIGludG8gY29udHJvbGxlcnMgYW5kIHJldHVybmVkIHRvIGEgY2FsbGVyCiAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gewogICAgICAgICAgICAgIHJlc3VsdDogbW9kYWxSZXN1bHREZWZlcnJlZC5wcm9taXNlLAogICAgICAgICAgICAgIG9wZW5lZDogbW9kYWxPcGVuZWREZWZlcnJlZC5wcm9taXNlLAogICAgICAgICAgICAgIGNsb3NlOiBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAkbW9kYWxTdGFjay5jbG9zZShtb2RhbEluc3RhbmNlLCByZXN1bHQpOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgZGlzbWlzczogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgICAgICAgJG1vZGFsU3RhY2suZGlzbWlzcyhtb2RhbEluc3RhbmNlLCByZWFzb24pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIC8vbWVyZ2UgYW5kIGNsZWFuIHVwIG9wdGlvbnMKICAgICAgICAgICAgbW9kYWxPcHRpb25zID0gYW5ndWxhci5leHRlbmQoe30sICRtb2RhbFByb3ZpZGVyLm9wdGlvbnMsIG1vZGFsT3B0aW9ucyk7CiAgICAgICAgICAgIG1vZGFsT3B0aW9ucy5yZXNvbHZlID0gbW9kYWxPcHRpb25zLnJlc29sdmUgfHwge307CgogICAgICAgICAgICAvL3ZlcmlmeSBvcHRpb25zCiAgICAgICAgICAgIGlmICghbW9kYWxPcHRpb25zLnRlbXBsYXRlICYmICFtb2RhbE9wdGlvbnMudGVtcGxhdGVVcmwpIHsKICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09uZSBvZiB0ZW1wbGF0ZSBvciB0ZW1wbGF0ZVVybCBvcHRpb25zIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgdGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZSA9CiAgICAgICAgICAgICAgJHEuYWxsKFtnZXRUZW1wbGF0ZVByb21pc2UobW9kYWxPcHRpb25zKV0uY29uY2F0KGdldFJlc29sdmVQcm9taXNlcyhtb2RhbE9wdGlvbnMucmVzb2x2ZSkpKTsKCgogICAgICAgICAgICB0ZW1wbGF0ZUFuZFJlc29sdmVQcm9taXNlLnRoZW4oZnVuY3Rpb24gcmVzb2x2ZVN1Y2Nlc3ModHBsQW5kVmFycykgewoKICAgICAgICAgICAgICB2YXIgbW9kYWxTY29wZSA9IChtb2RhbE9wdGlvbnMuc2NvcGUgfHwgJHJvb3RTY29wZSkuJG5ldygpOwogICAgICAgICAgICAgIG1vZGFsU2NvcGUuJGNsb3NlID0gbW9kYWxJbnN0YW5jZS5jbG9zZTsKICAgICAgICAgICAgICBtb2RhbFNjb3BlLiRkaXNtaXNzID0gbW9kYWxJbnN0YW5jZS5kaXNtaXNzOwoKICAgICAgICAgICAgICB2YXIgY3RybEluc3RhbmNlLCBjdHJsTG9jYWxzID0ge307CiAgICAgICAgICAgICAgdmFyIHJlc29sdmVJdGVyID0gMTsKCiAgICAgICAgICAgICAgLy9jb250cm9sbGVycwogICAgICAgICAgICAgIGlmIChtb2RhbE9wdGlvbnMuY29udHJvbGxlcikgewogICAgICAgICAgICAgICAgY3RybExvY2Fscy4kc2NvcGUgPSBtb2RhbFNjb3BlOwogICAgICAgICAgICAgICAgY3RybExvY2Fscy4kbW9kYWxJbnN0YW5jZSA9IG1vZGFsSW5zdGFuY2U7CiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gobW9kYWxPcHRpb25zLnJlc29sdmUsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7CiAgICAgICAgICAgICAgICAgIGN0cmxMb2NhbHNba2V5XSA9IHRwbEFuZFZhcnNbcmVzb2x2ZUl0ZXIrK107CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjdHJsSW5zdGFuY2UgPSAkY29udHJvbGxlcihtb2RhbE9wdGlvbnMuY29udHJvbGxlciwgY3RybExvY2Fscyk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAkbW9kYWxTdGFjay5vcGVuKG1vZGFsSW5zdGFuY2UsIHsKICAgICAgICAgICAgICAgIHNjb3BlOiBtb2RhbFNjb3BlLAogICAgICAgICAgICAgICAgZGVmZXJyZWQ6IG1vZGFsUmVzdWx0RGVmZXJyZWQsCiAgICAgICAgICAgICAgICBjb250ZW50OiB0cGxBbmRWYXJzWzBdLAogICAgICAgICAgICAgICAgYmFja2Ryb3A6IG1vZGFsT3B0aW9ucy5iYWNrZHJvcCwKICAgICAgICAgICAgICAgIGtleWJvYXJkOiBtb2RhbE9wdGlvbnMua2V5Ym9hcmQsCiAgICAgICAgICAgICAgICB3aW5kb3dDbGFzczogbW9kYWxPcHRpb25zLndpbmRvd0NsYXNzLAogICAgICAgICAgICAgICAgd2luZG93VGVtcGxhdGVVcmw6IG1vZGFsT3B0aW9ucy53aW5kb3dUZW1wbGF0ZVVybCwKICAgICAgICAgICAgICAgIHNpemU6IG1vZGFsT3B0aW9ucy5zaXplCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICB9LCBmdW5jdGlvbiByZXNvbHZlRXJyb3IocmVhc29uKSB7CiAgICAgICAgICAgICAgbW9kYWxSZXN1bHREZWZlcnJlZC5yZWplY3QocmVhc29uKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICB0ZW1wbGF0ZUFuZFJlc29sdmVQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIG1vZGFsT3BlbmVkRGVmZXJyZWQucmVzb2x2ZSh0cnVlKTsKICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIG1vZGFsT3BlbmVkRGVmZXJyZWQucmVqZWN0KGZhbHNlKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICByZXR1cm4gbW9kYWxJbnN0YW5jZTsKICAgICAgICAgIH07CgogICAgICAgICAgcmV0dXJuICRtb2RhbDsKICAgICAgICB9XQogICAgfTsKCiAgICByZXR1cm4gJG1vZGFsUHJvdmlkZXI7CiAgfSk7Cgphbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnBhZ2luYXRpb24nLCBbXSkKCi5jb250cm9sbGVyKCdQYWdpbmF0aW9uQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICckcGFyc2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkYXR0cnMsICRwYXJzZSkgewogIHZhciBzZWxmID0gdGhpcywKICAgICAgbmdNb2RlbEN0cmwgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9LCAvLyBudWxsTW9kZWxDdHJsCiAgICAgIHNldE51bVBhZ2VzID0gJGF0dHJzLm51bVBhZ2VzID8gJHBhcnNlKCRhdHRycy5udW1QYWdlcykuYXNzaWduIDogYW5ndWxhci5ub29wOwoKICB0aGlzLmluaXQgPSBmdW5jdGlvbihuZ01vZGVsQ3RybF8sIGNvbmZpZykgewogICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87CiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZzsKCiAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICAgIHNlbGYucmVuZGVyKCk7CiAgICB9OwoKICAgIGlmICgkYXR0cnMuaXRlbXNQZXJQYWdlKSB7CiAgICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLml0ZW1zUGVyUGFnZSksIGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgc2VsZi5pdGVtc1BlclBhZ2UgPSBwYXJzZUludCh2YWx1ZSwgMTApOwogICAgICAgICRzY29wZS50b3RhbFBhZ2VzID0gc2VsZi5jYWxjdWxhdGVUb3RhbFBhZ2VzKCk7CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5pdGVtc1BlclBhZ2UgPSBjb25maWcuaXRlbXNQZXJQYWdlOwogICAgfQogIH07CgogIHRoaXMuY2FsY3VsYXRlVG90YWxQYWdlcyA9IGZ1bmN0aW9uKCkgewogICAgdmFyIHRvdGFsUGFnZXMgPSB0aGlzLml0ZW1zUGVyUGFnZSA8IDEgPyAxIDogTWF0aC5jZWlsKCRzY29wZS50b3RhbEl0ZW1zIC8gdGhpcy5pdGVtc1BlclBhZ2UpOwogICAgcmV0dXJuIE1hdGgubWF4KHRvdGFsUGFnZXMgfHwgMCwgMSk7CiAgfTsKCiAgdGhpcy5yZW5kZXIgPSBmdW5jdGlvbigpIHsKICAgICRzY29wZS5wYWdlID0gcGFyc2VJbnQobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSwgMTApIHx8IDE7CiAgfTsKCiAgJHNjb3BlLnNlbGVjdFBhZ2UgPSBmdW5jdGlvbihwYWdlKSB7CiAgICBpZiAoICRzY29wZS5wYWdlICE9PSBwYWdlICYmIHBhZ2UgPiAwICYmIHBhZ2UgPD0gJHNjb3BlLnRvdGFsUGFnZXMpIHsKICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShwYWdlKTsKICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpOwogICAgfQogIH07CgogICRzY29wZS5nZXRUZXh0ID0gZnVuY3Rpb24oIGtleSApIHsKICAgIHJldHVybiAkc2NvcGVba2V5ICsgJ1RleHQnXSB8fCBzZWxmLmNvbmZpZ1trZXkgKyAnVGV4dCddOwogIH07CiAgJHNjb3BlLm5vUHJldmlvdXMgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiAkc2NvcGUucGFnZSA9PT0gMTsKICB9OwogICRzY29wZS5ub05leHQgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiAkc2NvcGUucGFnZSA9PT0gJHNjb3BlLnRvdGFsUGFnZXM7CiAgfTsKCiAgJHNjb3BlLiR3YXRjaCgndG90YWxJdGVtcycsIGZ1bmN0aW9uKCkgewogICAgJHNjb3BlLnRvdGFsUGFnZXMgPSBzZWxmLmNhbGN1bGF0ZVRvdGFsUGFnZXMoKTsKICB9KTsKCiAgJHNjb3BlLiR3YXRjaCgndG90YWxQYWdlcycsIGZ1bmN0aW9uKHZhbHVlKSB7CiAgICBzZXROdW1QYWdlcygkc2NvcGUuJHBhcmVudCwgdmFsdWUpOyAvLyBSZWFkb25seSB2YXJpYWJsZQoKICAgIGlmICggJHNjb3BlLnBhZ2UgPiB2YWx1ZSApIHsKICAgICAgJHNjb3BlLnNlbGVjdFBhZ2UodmFsdWUpOwogICAgfSBlbHNlIHsKICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpOwogICAgfQogIH0pOwp9XSkKCi5jb25zdGFudCgncGFnaW5hdGlvbkNvbmZpZycsIHsKICBpdGVtc1BlclBhZ2U6IDEwLAogIGJvdW5kYXJ5TGlua3M6IGZhbHNlLAogIGRpcmVjdGlvbkxpbmtzOiB0cnVlLAogIGZpcnN0VGV4dDogJ0ZpcnN0JywKICBwcmV2aW91c1RleHQ6ICdQcmV2aW91cycsCiAgbmV4dFRleHQ6ICdOZXh0JywKICBsYXN0VGV4dDogJ0xhc3QnLAogIHJvdGF0ZTogdHJ1ZQp9KQoKLmRpcmVjdGl2ZSgncGFnaW5hdGlvbicsIFsnJHBhcnNlJywgJ3BhZ2luYXRpb25Db25maWcnLCBmdW5jdGlvbigkcGFyc2UsIHBhZ2luYXRpb25Db25maWcpIHsKICByZXR1cm4gewogICAgcmVzdHJpY3Q6ICdFQScsCiAgICBzY29wZTogewogICAgICB0b3RhbEl0ZW1zOiAnPScsCiAgICAgIGZpcnN0VGV4dDogJ0AnLAogICAgICBwcmV2aW91c1RleHQ6ICdAJywKICAgICAgbmV4dFRleHQ6ICdAJywKICAgICAgbGFzdFRleHQ6ICdAJwogICAgfSwKICAgIHJlcXVpcmU6IFsncGFnaW5hdGlvbicsICc/bmdNb2RlbCddLAogICAgY29udHJvbGxlcjogJ1BhZ2luYXRpb25Db250cm9sbGVyJywKICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmh0bWwnLAogICAgcmVwbGFjZTogdHJ1ZSwKICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHsKICAgICAgdmFyIHBhZ2luYXRpb25DdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07CgogICAgICBpZiAoIW5nTW9kZWxDdHJsKSB7CiAgICAgICAgIHJldHVybjsgLy8gZG8gbm90aGluZyBpZiBubyBuZy1tb2RlbAogICAgICB9CgogICAgICAvLyBTZXR1cCBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMKICAgICAgdmFyIG1heFNpemUgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5tYXhTaXplKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMubWF4U2l6ZSkgOiBwYWdpbmF0aW9uQ29uZmlnLm1heFNpemUsCiAgICAgICAgICByb3RhdGUgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5yb3RhdGUpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5yb3RhdGUpIDogcGFnaW5hdGlvbkNvbmZpZy5yb3RhdGU7CiAgICAgIHNjb3BlLmJvdW5kYXJ5TGlua3MgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5ib3VuZGFyeUxpbmtzKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuYm91bmRhcnlMaW5rcykgOiBwYWdpbmF0aW9uQ29uZmlnLmJvdW5kYXJ5TGlua3M7CiAgICAgIHNjb3BlLmRpcmVjdGlvbkxpbmtzID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuZGlyZWN0aW9uTGlua3MpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5kaXJlY3Rpb25MaW5rcykgOiBwYWdpbmF0aW9uQ29uZmlnLmRpcmVjdGlvbkxpbmtzOwoKICAgICAgcGFnaW5hdGlvbkN0cmwuaW5pdChuZ01vZGVsQ3RybCwgcGFnaW5hdGlvbkNvbmZpZyk7CgogICAgICBpZiAoYXR0cnMubWF4U2l6ZSkgewogICAgICAgIHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZShhdHRycy5tYXhTaXplKSwgZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICAgIG1heFNpemUgPSBwYXJzZUludCh2YWx1ZSwgMTApOwogICAgICAgICAgcGFnaW5hdGlvbkN0cmwucmVuZGVyKCk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIC8vIENyZWF0ZSBwYWdlIG9iamVjdCB1c2VkIGluIHRlbXBsYXRlCiAgICAgIGZ1bmN0aW9uIG1ha2VQYWdlKG51bWJlciwgdGV4dCwgaXNBY3RpdmUpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbnVtYmVyOiBudW1iZXIsCiAgICAgICAgICB0ZXh0OiB0ZXh0LAogICAgICAgICAgYWN0aXZlOiBpc0FjdGl2ZQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGdldFBhZ2VzKGN1cnJlbnRQYWdlLCB0b3RhbFBhZ2VzKSB7CiAgICAgICAgdmFyIHBhZ2VzID0gW107CgogICAgICAgIC8vIERlZmF1bHQgcGFnZSBsaW1pdHMKICAgICAgICB2YXIgc3RhcnRQYWdlID0gMSwgZW5kUGFnZSA9IHRvdGFsUGFnZXM7CiAgICAgICAgdmFyIGlzTWF4U2l6ZWQgPSAoIGFuZ3VsYXIuaXNEZWZpbmVkKG1heFNpemUpICYmIG1heFNpemUgPCB0b3RhbFBhZ2VzICk7CgogICAgICAgIC8vIHJlY29tcHV0ZSBpZiBtYXhTaXplCiAgICAgICAgaWYgKCBpc01heFNpemVkICkgewogICAgICAgICAgaWYgKCByb3RhdGUgKSB7CiAgICAgICAgICAgIC8vIEN1cnJlbnQgcGFnZSBpcyBkaXNwbGF5ZWQgaW4gdGhlIG1pZGRsZSBvZiB0aGUgdmlzaWJsZSBvbmVzCiAgICAgICAgICAgIHN0YXJ0UGFnZSA9IE1hdGgubWF4KGN1cnJlbnRQYWdlIC0gTWF0aC5mbG9vcihtYXhTaXplLzIpLCAxKTsKICAgICAgICAgICAgZW5kUGFnZSAgID0gc3RhcnRQYWdlICsgbWF4U2l6ZSAtIDE7CgogICAgICAgICAgICAvLyBBZGp1c3QgaWYgbGltaXQgaXMgZXhjZWVkZWQKICAgICAgICAgICAgaWYgKGVuZFBhZ2UgPiB0b3RhbFBhZ2VzKSB7CiAgICAgICAgICAgICAgZW5kUGFnZSAgID0gdG90YWxQYWdlczsKICAgICAgICAgICAgICBzdGFydFBhZ2UgPSBlbmRQYWdlIC0gbWF4U2l6ZSArIDE7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIFZpc2libGUgcGFnZXMgYXJlIHBhZ2luYXRlZCB3aXRoIG1heFNpemUKICAgICAgICAgICAgc3RhcnRQYWdlID0gKChNYXRoLmNlaWwoY3VycmVudFBhZ2UgLyBtYXhTaXplKSAtIDEpICogbWF4U2l6ZSkgKyAxOwoKICAgICAgICAgICAgLy8gQWRqdXN0IGxhc3QgcGFnZSBpZiBsaW1pdCBpcyBleGNlZWRlZAogICAgICAgICAgICBlbmRQYWdlID0gTWF0aC5taW4oc3RhcnRQYWdlICsgbWF4U2l6ZSAtIDEsIHRvdGFsUGFnZXMpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gQWRkIHBhZ2UgbnVtYmVyIGxpbmtzCiAgICAgICAgZm9yICh2YXIgbnVtYmVyID0gc3RhcnRQYWdlOyBudW1iZXIgPD0gZW5kUGFnZTsgbnVtYmVyKyspIHsKICAgICAgICAgIHZhciBwYWdlID0gbWFrZVBhZ2UobnVtYmVyLCBudW1iZXIsIG51bWJlciA9PT0gY3VycmVudFBhZ2UpOwogICAgICAgICAgcGFnZXMucHVzaChwYWdlKTsKICAgICAgICB9CgogICAgICAgIC8vIEFkZCBsaW5rcyB0byBtb3ZlIGJldHdlZW4gcGFnZSBzZXRzCiAgICAgICAgaWYgKCBpc01heFNpemVkICYmICEgcm90YXRlICkgewogICAgICAgICAgaWYgKCBzdGFydFBhZ2UgPiAxICkgewogICAgICAgICAgICB2YXIgcHJldmlvdXNQYWdlU2V0ID0gbWFrZVBhZ2Uoc3RhcnRQYWdlIC0gMSwgJy4uLicsIGZhbHNlKTsKICAgICAgICAgICAgcGFnZXMudW5zaGlmdChwcmV2aW91c1BhZ2VTZXQpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICggZW5kUGFnZSA8IHRvdGFsUGFnZXMgKSB7CiAgICAgICAgICAgIHZhciBuZXh0UGFnZVNldCA9IG1ha2VQYWdlKGVuZFBhZ2UgKyAxLCAnLi4uJywgZmFsc2UpOwogICAgICAgICAgICBwYWdlcy5wdXNoKG5leHRQYWdlU2V0KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBwYWdlczsKICAgICAgfQoKICAgICAgdmFyIG9yaWdpbmFsUmVuZGVyID0gcGFnaW5hdGlvbkN0cmwucmVuZGVyOwogICAgICBwYWdpbmF0aW9uQ3RybC5yZW5kZXIgPSBmdW5jdGlvbigpIHsKICAgICAgICBvcmlnaW5hbFJlbmRlcigpOwogICAgICAgIGlmIChzY29wZS5wYWdlID4gMCAmJiBzY29wZS5wYWdlIDw9IHNjb3BlLnRvdGFsUGFnZXMpIHsKICAgICAgICAgIHNjb3BlLnBhZ2VzID0gZ2V0UGFnZXMoc2NvcGUucGFnZSwgc2NvcGUudG90YWxQYWdlcyk7CiAgICAgICAgfQogICAgICB9OwogICAgfQogIH07Cn1dKQoKLmNvbnN0YW50KCdwYWdlckNvbmZpZycsIHsKICBpdGVtc1BlclBhZ2U6IDEwLAogIHByZXZpb3VzVGV4dDogJ8KrIFByZXZpb3VzJywKICBuZXh0VGV4dDogJ05leHQgwrsnLAogIGFsaWduOiB0cnVlCn0pCgouZGlyZWN0aXZlKCdwYWdlcicsIFsncGFnZXJDb25maWcnLCBmdW5jdGlvbihwYWdlckNvbmZpZykgewogIHJldHVybiB7CiAgICByZXN0cmljdDogJ0VBJywKICAgIHNjb3BlOiB7CiAgICAgIHRvdGFsSXRlbXM6ICc9JywKICAgICAgcHJldmlvdXNUZXh0OiAnQCcsCiAgICAgIG5leHRUZXh0OiAnQCcKICAgIH0sCiAgICByZXF1aXJlOiBbJ3BhZ2VyJywgJz9uZ01vZGVsJ10sCiAgICBjb250cm9sbGVyOiAnUGFnaW5hdGlvbkNvbnRyb2xsZXInLAogICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWwnLAogICAgcmVwbGFjZTogdHJ1ZSwKICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHsKICAgICAgdmFyIHBhZ2luYXRpb25DdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07CgogICAgICBpZiAoIW5nTW9kZWxDdHJsKSB7CiAgICAgICAgIHJldHVybjsgLy8gZG8gbm90aGluZyBpZiBubyBuZy1tb2RlbAogICAgICB9CgogICAgICBzY29wZS5hbGlnbiA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmFsaWduKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuYWxpZ24pIDogcGFnZXJDb25maWcuYWxpZ247CiAgICAgIHBhZ2luYXRpb25DdHJsLmluaXQobmdNb2RlbEN0cmwsIHBhZ2VyQ29uZmlnKTsKICAgIH0KICB9Owp9XSk7CgovKioKICogVGhlIGZvbGxvd2luZyBmZWF0dXJlcyBhcmUgc3RpbGwgb3V0c3RhbmRpbmc6IGFuaW1hdGlvbiBhcyBhCiAqIGZ1bmN0aW9uLCBwbGFjZW1lbnQgYXMgYSBmdW5jdGlvbiwgaW5zaWRlLCBzdXBwb3J0IGZvciBtb3JlIHRyaWdnZXJzIHRoYW4KICoganVzdCBtb3VzZSBlbnRlci9sZWF2ZSwgaHRtbCB0b29sdGlwcywgYW5kIHNlbGVjdG9yIGRlbGVnYXRpb24uCiAqLwphbmd1bGFyLm1vZHVsZSggJ3VpLmJvb3RzdHJhcC50b29sdGlwJywgWyAndWkuYm9vdHN0cmFwLnBvc2l0aW9uJywgJ3VpLmJvb3RzdHJhcC5iaW5kSHRtbCcgXSApCgovKioKICogVGhlICR0b29sdGlwIHNlcnZpY2UgY3JlYXRlcyB0b29sdGlwLSBhbmQgcG9wb3Zlci1saWtlIGRpcmVjdGl2ZXMgYXMgd2VsbCBhcwogKiBob3VzZXMgZ2xvYmFsIG9wdGlvbnMgZm9yIHRoZW0uCiAqLwoucHJvdmlkZXIoICckdG9vbHRpcCcsIGZ1bmN0aW9uICgpIHsKICAvLyBUaGUgZGVmYXVsdCBvcHRpb25zIHRvb2x0aXAgYW5kIHBvcG92ZXIuCiAgdmFyIGRlZmF1bHRPcHRpb25zID0gewogICAgcGxhY2VtZW50OiAndG9wJywKICAgIGFuaW1hdGlvbjogdHJ1ZSwKICAgIHBvcHVwRGVsYXk6IDAKICB9OwoKICAvLyBEZWZhdWx0IGhpZGUgdHJpZ2dlcnMgZm9yIGVhY2ggc2hvdyB0cmlnZ2VyCiAgdmFyIHRyaWdnZXJNYXAgPSB7CiAgICAnbW91c2VlbnRlcic6ICdtb3VzZWxlYXZlJywKICAgICdjbGljayc6ICdjbGljaycsCiAgICAnZm9jdXMnOiAnYmx1cicKICB9OwoKICAvLyBUaGUgb3B0aW9ucyBzcGVjaWZpZWQgdG8gdGhlIHByb3ZpZGVyIGdsb2JhbGx5LgogIHZhciBnbG9iYWxPcHRpb25zID0ge307CgogIC8qKgogICAqIGBvcHRpb25zKHt9KWAgYWxsb3dzIGdsb2JhbCBjb25maWd1cmF0aW9uIG9mIGFsbCB0b29sdGlwcyBpbiB0aGUKICAgKiBhcHBsaWNhdGlvbi4KICAgKgogICAqICAgdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCAnQXBwJywgWyd1aS5ib290c3RyYXAudG9vbHRpcCddLCBmdW5jdGlvbiggJHRvb2x0aXBQcm92aWRlciApIHsKICAgKiAgICAgLy8gcGxhY2UgdG9vbHRpcHMgbGVmdCBpbnN0ZWFkIG9mIHRvcCBieSBkZWZhdWx0CiAgICogICAgICR0b29sdGlwUHJvdmlkZXIub3B0aW9ucyggeyBwbGFjZW1lbnQ6ICdsZWZ0JyB9ICk7CiAgICogICB9KTsKICAgKi8KCXRoaXMub3B0aW9ucyA9IGZ1bmN0aW9uKCB2YWx1ZSApIHsKCQlhbmd1bGFyLmV4dGVuZCggZ2xvYmFsT3B0aW9ucywgdmFsdWUgKTsKCX07CgogIC8qKgogICAqIFRoaXMgYWxsb3dzIHlvdSB0byBleHRlbmQgdGhlIHNldCBvZiB0cmlnZ2VyIG1hcHBpbmdzIGF2YWlsYWJsZS4gRS5nLjoKICAgKgogICAqICAgJHRvb2x0aXBQcm92aWRlci5zZXRUcmlnZ2VycyggJ29wZW5UcmlnZ2VyJzogJ2Nsb3NlVHJpZ2dlcicgKTsKICAgKi8KICB0aGlzLnNldFRyaWdnZXJzID0gZnVuY3Rpb24gc2V0VHJpZ2dlcnMgKCB0cmlnZ2VycyApIHsKICAgIGFuZ3VsYXIuZXh0ZW5kKCB0cmlnZ2VyTWFwLCB0cmlnZ2VycyApOwogIH07CgogIC8qKgogICAqIFRoaXMgaXMgYSBoZWxwZXIgZnVuY3Rpb24gZm9yIHRyYW5zbGF0aW5nIGNhbWVsLWNhc2UgdG8gc25ha2UtY2FzZS4KICAgKi8KICBmdW5jdGlvbiBzbmFrZV9jYXNlKG5hbWUpewogICAgdmFyIHJlZ2V4cCA9IC9bQS1aXS9nOwogICAgdmFyIHNlcGFyYXRvciA9ICctJzsKICAgIHJldHVybiBuYW1lLnJlcGxhY2UocmVnZXhwLCBmdW5jdGlvbihsZXR0ZXIsIHBvcykgewogICAgICByZXR1cm4gKHBvcyA/IHNlcGFyYXRvciA6ICcnKSArIGxldHRlci50b0xvd2VyQ2FzZSgpOwogICAgfSk7CiAgfQoKICAvKioKICAgKiBSZXR1cm5zIHRoZSBhY3R1YWwgaW5zdGFuY2Ugb2YgdGhlICR0b29sdGlwIHNlcnZpY2UuCiAgICogVE9ETyBzdXBwb3J0IG11bHRpcGxlIHRyaWdnZXJzCiAgICovCiAgdGhpcy4kZ2V0ID0gWyAnJHdpbmRvdycsICckY29tcGlsZScsICckdGltZW91dCcsICckcGFyc2UnLCAnJGRvY3VtZW50JywgJyRwb3NpdGlvbicsICckaW50ZXJwb2xhdGUnLCBmdW5jdGlvbiAoICR3aW5kb3csICRjb21waWxlLCAkdGltZW91dCwgJHBhcnNlLCAkZG9jdW1lbnQsICRwb3NpdGlvbiwgJGludGVycG9sYXRlICkgewogICAgcmV0dXJuIGZ1bmN0aW9uICR0b29sdGlwICggdHlwZSwgcHJlZml4LCBkZWZhdWx0VHJpZ2dlclNob3cgKSB7CiAgICAgIHZhciBvcHRpb25zID0gYW5ndWxhci5leHRlbmQoIHt9LCBkZWZhdWx0T3B0aW9ucywgZ2xvYmFsT3B0aW9ucyApOwoKICAgICAgLyoqCiAgICAgICAqIFJldHVybnMgYW4gb2JqZWN0IG9mIHNob3cgYW5kIGhpZGUgdHJpZ2dlcnMuCiAgICAgICAqCiAgICAgICAqIElmIGEgdHJpZ2dlciBpcyBzdXBwbGllZCwKICAgICAgICogaXQgaXMgdXNlZCB0byBzaG93IHRoZSB0b29sdGlwOyBvdGhlcndpc2UsIGl0IHdpbGwgdXNlIHRoZSBgdHJpZ2dlcmAKICAgICAgICogb3B0aW9uIHBhc3NlZCB0byB0aGUgYCR0b29sdGlwUHJvdmlkZXIub3B0aW9uc2AgbWV0aG9kOyBlbHNlIGl0IHdpbGwKICAgICAgICogZGVmYXVsdCB0byB0aGUgdHJpZ2dlciBzdXBwbGllZCB0byB0aGlzIGRpcmVjdGl2ZSBmYWN0b3J5LgogICAgICAgKgogICAgICAgKiBUaGUgaGlkZSB0cmlnZ2VyIGlzIGJhc2VkIG9uIHRoZSBzaG93IHRyaWdnZXIuIElmIHRoZSBgdHJpZ2dlcmAgb3B0aW9uCiAgICAgICAqIHdhcyBwYXNzZWQgdG8gdGhlIGAkdG9vbHRpcFByb3ZpZGVyLm9wdGlvbnNgIG1ldGhvZCwgaXQgd2lsbCB1c2UgdGhlCiAgICAgICAqIG1hcHBlZCB0cmlnZ2VyIGZyb20gYHRyaWdnZXJNYXBgIG9yIHRoZSBwYXNzZWQgdHJpZ2dlciBpZiB0aGUgbWFwIGlzCiAgICAgICAqIHVuZGVmaW5lZDsgb3RoZXJ3aXNlLCBpdCB1c2VzIHRoZSBgdHJpZ2dlck1hcGAgdmFsdWUgb2YgdGhlIHNob3cKICAgICAgICogdHJpZ2dlcjsgZWxzZSBpdCB3aWxsIGp1c3QgdXNlIHRoZSBzaG93IHRyaWdnZXIuCiAgICAgICAqLwogICAgICBmdW5jdGlvbiBnZXRUcmlnZ2VycyAoIHRyaWdnZXIgKSB7CiAgICAgICAgdmFyIHNob3cgPSB0cmlnZ2VyIHx8IG9wdGlvbnMudHJpZ2dlciB8fCBkZWZhdWx0VHJpZ2dlclNob3c7CiAgICAgICAgdmFyIGhpZGUgPSB0cmlnZ2VyTWFwW3Nob3ddIHx8IHNob3c7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHNob3c6IHNob3csCiAgICAgICAgICBoaWRlOiBoaWRlCiAgICAgICAgfTsKICAgICAgfQoKICAgICAgdmFyIGRpcmVjdGl2ZU5hbWUgPSBzbmFrZV9jYXNlKCB0eXBlICk7CgogICAgICB2YXIgc3RhcnRTeW0gPSAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKTsKICAgICAgdmFyIGVuZFN5bSA9ICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKTsKICAgICAgdmFyIHRlbXBsYXRlID0KICAgICAgICAnPGRpdiAnKyBkaXJlY3RpdmVOYW1lICsnLXBvcHVwICcrCiAgICAgICAgICAndGl0bGU9Iicrc3RhcnRTeW0rJ3R0X3RpdGxlJytlbmRTeW0rJyIgJysKICAgICAgICAgICdjb250ZW50PSInK3N0YXJ0U3ltKyd0dF9jb250ZW50JytlbmRTeW0rJyIgJysKICAgICAgICAgICdwbGFjZW1lbnQ9Iicrc3RhcnRTeW0rJ3R0X3BsYWNlbWVudCcrZW5kU3ltKyciICcrCiAgICAgICAgICAnYW5pbWF0aW9uPSJ0dF9hbmltYXRpb24iICcrCiAgICAgICAgICAnaXMtb3Blbj0idHRfaXNPcGVuIicrCiAgICAgICAgICAnPicrCiAgICAgICAgJzwvZGl2Pic7CgogICAgICByZXR1cm4gewogICAgICAgIHJlc3RyaWN0OiAnRUEnLAogICAgICAgIHNjb3BlOiB0cnVlLAogICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uICh0RWxlbSwgdEF0dHJzKSB7CiAgICAgICAgICB2YXIgdG9vbHRpcExpbmtlciA9ICRjb21waWxlKCB0ZW1wbGF0ZSApOwoKICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBsaW5rICggc2NvcGUsIGVsZW1lbnQsIGF0dHJzICkgewogICAgICAgICAgICB2YXIgdG9vbHRpcDsKICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25UaW1lb3V0OwogICAgICAgICAgICB2YXIgcG9wdXBUaW1lb3V0OwogICAgICAgICAgICB2YXIgYXBwZW5kVG9Cb2R5ID0gYW5ndWxhci5pc0RlZmluZWQoIG9wdGlvbnMuYXBwZW5kVG9Cb2R5ICkgPyBvcHRpb25zLmFwcGVuZFRvQm9keSA6IGZhbHNlOwogICAgICAgICAgICB2YXIgdHJpZ2dlcnMgPSBnZXRUcmlnZ2VycyggdW5kZWZpbmVkICk7CiAgICAgICAgICAgIHZhciBoYXNFbmFibGVFeHAgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRyc1twcmVmaXgrJ0VuYWJsZSddKTsKCiAgICAgICAgICAgIHZhciBwb3NpdGlvblRvb2x0aXAgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICAgIHZhciB0dFBvc2l0aW9uID0gJHBvc2l0aW9uLnBvc2l0aW9uRWxlbWVudHMoZWxlbWVudCwgdG9vbHRpcCwgc2NvcGUudHRfcGxhY2VtZW50LCBhcHBlbmRUb0JvZHkpOwogICAgICAgICAgICAgIHR0UG9zaXRpb24udG9wICs9ICdweCc7CiAgICAgICAgICAgICAgdHRQb3NpdGlvbi5sZWZ0ICs9ICdweCc7CgogICAgICAgICAgICAgIC8vIE5vdyBzZXQgdGhlIGNhbGN1bGF0ZWQgcG9zaXRpb25pbmcuCiAgICAgICAgICAgICAgdG9vbHRpcC5jc3MoIHR0UG9zaXRpb24gKTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIC8vIEJ5IGRlZmF1bHQsIHRoZSB0b29sdGlwIGlzIG5vdCBvcGVuLgogICAgICAgICAgICAvLyBUT0RPIGFkZCBhYmlsaXR5IHRvIHN0YXJ0IHRvb2x0aXAgb3BlbmVkCiAgICAgICAgICAgIHNjb3BlLnR0X2lzT3BlbiA9IGZhbHNlOwoKICAgICAgICAgICAgZnVuY3Rpb24gdG9nZ2xlVG9vbHRpcEJpbmQgKCkgewogICAgICAgICAgICAgIGlmICggISBzY29wZS50dF9pc09wZW4gKSB7CiAgICAgICAgICAgICAgICBzaG93VG9vbHRpcEJpbmQoKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaGlkZVRvb2x0aXBCaW5kKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBTaG93IHRoZSB0b29sdGlwIHdpdGggZGVsYXkgaWYgc3BlY2lmaWVkLCBvdGhlcndpc2Ugc2hvdyBpdCBpbW1lZGlhdGVseQogICAgICAgICAgICBmdW5jdGlvbiBzaG93VG9vbHRpcEJpbmQoKSB7CiAgICAgICAgICAgICAgaWYoaGFzRW5hYmxlRXhwICYmICFzY29wZS4kZXZhbChhdHRyc1twcmVmaXgrJ0VuYWJsZSddKSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAoIHNjb3BlLnR0X3BvcHVwRGVsYXkgKSB7CiAgICAgICAgICAgICAgICAvLyBEbyBub3RoaW5nIGlmIHRoZSB0b29sdGlwIHdhcyBhbHJlYWR5IHNjaGVkdWxlZCB0byBwb3AtdXAuCiAgICAgICAgICAgICAgICAvLyBUaGlzIGhhcHBlbnMgaWYgc2hvdyBpcyB0cmlnZ2VyZWQgbXVsdGlwbGUgdGltZXMgYmVmb3JlIGFueSBoaWRlIGlzIHRyaWdnZXJlZC4KICAgICAgICAgICAgICAgIGlmICghcG9wdXBUaW1lb3V0KSB7CiAgICAgICAgICAgICAgICAgIHBvcHVwVGltZW91dCA9ICR0aW1lb3V0KCBzaG93LCBzY29wZS50dF9wb3B1cERlbGF5LCBmYWxzZSApOwogICAgICAgICAgICAgICAgICBwb3B1cFRpbWVvdXQudGhlbihmdW5jdGlvbihyZXBvc2l0aW9uKXtyZXBvc2l0aW9uKCk7fSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNob3coKSgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gaGlkZVRvb2x0aXBCaW5kICgpIHsKICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgaGlkZSgpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBTaG93IHRoZSB0b29sdGlwIHBvcHVwIGVsZW1lbnQuCiAgICAgICAgICAgIGZ1bmN0aW9uIHNob3coKSB7CgogICAgICAgICAgICAgIHBvcHVwVGltZW91dCA9IG51bGw7CgogICAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGEgcGVuZGluZyByZW1vdmUgdHJhbnNpdGlvbiwgd2UgbXVzdCBjYW5jZWwgaXQsIGxlc3QgdGhlCiAgICAgICAgICAgICAgLy8gdG9vbHRpcCBiZSBteXN0ZXJpb3VzbHkgcmVtb3ZlZC4KICAgICAgICAgICAgICBpZiAoIHRyYW5zaXRpb25UaW1lb3V0ICkgewogICAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKCB0cmFuc2l0aW9uVGltZW91dCApOwogICAgICAgICAgICAgICAgdHJhbnNpdGlvblRpbWVvdXQgPSBudWxsOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgLy8gRG9uJ3Qgc2hvdyBlbXB0eSB0b29sdGlwcy4KICAgICAgICAgICAgICBpZiAoICEgc2NvcGUudHRfY29udGVudCApIHsKICAgICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLm5vb3A7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjcmVhdGVUb29sdGlwKCk7CgogICAgICAgICAgICAgIC8vIFNldCB0aGUgaW5pdGlhbCBwb3NpdGlvbmluZy4KICAgICAgICAgICAgICB0b29sdGlwLmNzcyh7IHRvcDogMCwgbGVmdDogMCwgZGlzcGxheTogJ2Jsb2NrJyB9KTsKCiAgICAgICAgICAgICAgLy8gTm93IHdlIGFkZCBpdCB0byB0aGUgRE9NIGJlY2F1c2UgbmVlZCBzb21lIGluZm8gYWJvdXQgaXQuIEJ1dCBpdCdzIG5vdCAKICAgICAgICAgICAgICAvLyB2aXNpYmxlIHlldCBhbnl3YXkuCiAgICAgICAgICAgICAgaWYgKCBhcHBlbmRUb0JvZHkgKSB7CiAgICAgICAgICAgICAgICAgICRkb2N1bWVudC5maW5kKCAnYm9keScgKS5hcHBlbmQoIHRvb2x0aXAgKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZWxlbWVudC5hZnRlciggdG9vbHRpcCApOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcG9zaXRpb25Ub29sdGlwKCk7CgogICAgICAgICAgICAgIC8vIEFuZCBzaG93IHRoZSB0b29sdGlwLgogICAgICAgICAgICAgIHNjb3BlLnR0X2lzT3BlbiA9IHRydWU7CiAgICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpOyAvLyBkaWdlc3QgcmVxdWlyZWQgYXMgJGFwcGx5IGlzIG5vdCBjYWxsZWQKCiAgICAgICAgICAgICAgLy8gUmV0dXJuIHBvc2l0aW9uaW5nIGZ1bmN0aW9uIGFzIHByb21pc2UgY2FsbGJhY2sgZm9yIGNvcnJlY3QKICAgICAgICAgICAgICAvLyBwb3NpdGlvbmluZyBhZnRlciBkcmF3LgogICAgICAgICAgICAgIHJldHVybiBwb3NpdGlvblRvb2x0aXA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIEhpZGUgdGhlIHRvb2x0aXAgcG9wdXAgZWxlbWVudC4KICAgICAgICAgICAgZnVuY3Rpb24gaGlkZSgpIHsKICAgICAgICAgICAgICAvLyBGaXJzdCB0aGluZ3MgZmlyc3Q6IHdlIGRvbid0IHNob3cgaXQgYW55bW9yZS4KICAgICAgICAgICAgICBzY29wZS50dF9pc09wZW4gPSBmYWxzZTsKCiAgICAgICAgICAgICAgLy9pZiB0b29sdGlwIGlzIGdvaW5nIHRvIGJlIHNob3duIGFmdGVyIGRlbGF5LCB3ZSBtdXN0IGNhbmNlbCB0aGlzCiAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKCBwb3B1cFRpbWVvdXQgKTsKICAgICAgICAgICAgICBwb3B1cFRpbWVvdXQgPSBudWxsOwoKICAgICAgICAgICAgICAvLyBBbmQgbm93IHdlIHJlbW92ZSBpdCBmcm9tIHRoZSBET00uIEhvd2V2ZXIsIGlmIHdlIGhhdmUgYW5pbWF0aW9uLCB3ZSAKICAgICAgICAgICAgICAvLyBuZWVkIHRvIHdhaXQgZm9yIGl0IHRvIGV4cGlyZSBiZWZvcmVoYW5kLgogICAgICAgICAgICAgIC8vIEZJWE1FOiB0aGlzIGlzIGEgcGxhY2Vob2xkZXIgZm9yIGEgcG9ydCBvZiB0aGUgdHJhbnNpdGlvbnMgbGlicmFyeS4KICAgICAgICAgICAgICBpZiAoIHNjb3BlLnR0X2FuaW1hdGlvbiApIHsKICAgICAgICAgICAgICAgIGlmICghdHJhbnNpdGlvblRpbWVvdXQpIHsKICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvblRpbWVvdXQgPSAkdGltZW91dChyZW1vdmVUb29sdGlwLCA1MDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZW1vdmVUb29sdGlwKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVUb29sdGlwKCkgewogICAgICAgICAgICAgIC8vIFRoZXJlIGNhbiBvbmx5IGJlIG9uZSB0b29sdGlwIGVsZW1lbnQgcGVyIGRpcmVjdGl2ZSBzaG93biBhdCBvbmNlLgogICAgICAgICAgICAgIGlmICh0b29sdGlwKSB7CiAgICAgICAgICAgICAgICByZW1vdmVUb29sdGlwKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRvb2x0aXAgPSB0b29sdGlwTGlua2VyKHNjb3BlLCBmdW5jdGlvbiAoKSB7fSk7CgogICAgICAgICAgICAgIC8vIEdldCBjb250ZW50cyByZW5kZXJlZCBpbnRvIHRoZSB0b29sdGlwCiAgICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiByZW1vdmVUb29sdGlwKCkgewogICAgICAgICAgICAgIHRyYW5zaXRpb25UaW1lb3V0ID0gbnVsbDsKICAgICAgICAgICAgICBpZiAodG9vbHRpcCkgewogICAgICAgICAgICAgICAgdG9vbHRpcC5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIHRvb2x0aXAgPSBudWxsOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIE9ic2VydmUgdGhlIHJlbGV2YW50IGF0dHJpYnV0ZXMuCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSggdHlwZSwgZnVuY3Rpb24gKCB2YWwgKSB7CiAgICAgICAgICAgICAgc2NvcGUudHRfY29udGVudCA9IHZhbDsKCiAgICAgICAgICAgICAgaWYgKCF2YWwgJiYgc2NvcGUudHRfaXNPcGVuICkgewogICAgICAgICAgICAgICAgaGlkZSgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSggcHJlZml4KydUaXRsZScsIGZ1bmN0aW9uICggdmFsICkgewogICAgICAgICAgICAgIHNjb3BlLnR0X3RpdGxlID0gdmFsOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKCBwcmVmaXgrJ1BsYWNlbWVudCcsIGZ1bmN0aW9uICggdmFsICkgewogICAgICAgICAgICAgIHNjb3BlLnR0X3BsYWNlbWVudCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCB2YWwgKSA/IHZhbCA6IG9wdGlvbnMucGxhY2VtZW50OwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKCBwcmVmaXgrJ1BvcHVwRGVsYXknLCBmdW5jdGlvbiAoIHZhbCApIHsKICAgICAgICAgICAgICB2YXIgZGVsYXkgPSBwYXJzZUludCggdmFsLCAxMCApOwogICAgICAgICAgICAgIHNjb3BlLnR0X3BvcHVwRGVsYXkgPSAhIGlzTmFOKGRlbGF5KSA/IGRlbGF5IDogb3B0aW9ucy5wb3B1cERlbGF5OwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHZhciB1bnJlZ2lzdGVyVHJpZ2dlcnMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgZWxlbWVudC51bmJpbmQodHJpZ2dlcnMuc2hvdywgc2hvd1Rvb2x0aXBCaW5kKTsKICAgICAgICAgICAgICBlbGVtZW50LnVuYmluZCh0cmlnZ2Vycy5oaWRlLCBoaWRlVG9vbHRpcEJpbmQpOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUoIHByZWZpeCsnVHJpZ2dlcicsIGZ1bmN0aW9uICggdmFsICkgewogICAgICAgICAgICAgIHVucmVnaXN0ZXJUcmlnZ2VycygpOwoKICAgICAgICAgICAgICB0cmlnZ2VycyA9IGdldFRyaWdnZXJzKCB2YWwgKTsKCiAgICAgICAgICAgICAgaWYgKCB0cmlnZ2Vycy5zaG93ID09PSB0cmlnZ2Vycy5oaWRlICkgewogICAgICAgICAgICAgICAgZWxlbWVudC5iaW5kKCB0cmlnZ2Vycy5zaG93LCB0b2dnbGVUb29sdGlwQmluZCApOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBlbGVtZW50LmJpbmQoIHRyaWdnZXJzLnNob3csIHNob3dUb29sdGlwQmluZCApOwogICAgICAgICAgICAgICAgZWxlbWVudC5iaW5kKCB0cmlnZ2Vycy5oaWRlLCBoaWRlVG9vbHRpcEJpbmQgKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IHNjb3BlLiRldmFsKGF0dHJzW3ByZWZpeCArICdBbmltYXRpb24nXSk7CiAgICAgICAgICAgIHNjb3BlLnR0X2FuaW1hdGlvbiA9IGFuZ3VsYXIuaXNEZWZpbmVkKGFuaW1hdGlvbikgPyAhIWFuaW1hdGlvbiA6IG9wdGlvbnMuYW5pbWF0aW9uOwoKICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUoIHByZWZpeCsnQXBwZW5kVG9Cb2R5JywgZnVuY3Rpb24gKCB2YWwgKSB7CiAgICAgICAgICAgICAgYXBwZW5kVG9Cb2R5ID0gYW5ndWxhci5pc0RlZmluZWQoIHZhbCApID8gJHBhcnNlKCB2YWwgKSggc2NvcGUgKSA6IGFwcGVuZFRvQm9keTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvLyBpZiBhIHRvb2x0aXAgaXMgYXR0YWNoZWQgdG8gPGJvZHk+IHdlIG5lZWQgdG8gcmVtb3ZlIGl0IG9uCiAgICAgICAgICAgIC8vIGxvY2F0aW9uIGNoYW5nZSBhcyBpdHMgcGFyZW50IHNjb3BlIHdpbGwgcHJvYmFibHkgbm90IGJlIGRlc3Ryb3llZAogICAgICAgICAgICAvLyBieSB0aGUgY2hhbmdlLgogICAgICAgICAgICBpZiAoIGFwcGVuZFRvQm9keSApIHsKICAgICAgICAgICAgICBzY29wZS4kb24oJyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbiBjbG9zZVRvb2x0aXBPbkxvY2F0aW9uQ2hhbmdlU3VjY2VzcyAoKSB7CiAgICAgICAgICAgICAgaWYgKCBzY29wZS50dF9pc09wZW4gKSB7CiAgICAgICAgICAgICAgICBoaWRlKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRvb2x0aXAgaXMgZGVzdHJveWVkIGFuZCByZW1vdmVkLgogICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gb25EZXN0cm95VG9vbHRpcCgpIHsKICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwoIHRyYW5zaXRpb25UaW1lb3V0ICk7CiAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKCBwb3B1cFRpbWVvdXQgKTsKICAgICAgICAgICAgICB1bnJlZ2lzdGVyVHJpZ2dlcnMoKTsKICAgICAgICAgICAgICByZW1vdmVUb29sdGlwKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH07CiAgICB9OwogIH1dOwp9KQoKLmRpcmVjdGl2ZSggJ3Rvb2x0aXBQb3B1cCcsIGZ1bmN0aW9uICgpIHsKICByZXR1cm4gewogICAgcmVzdHJpY3Q6ICdFQScsCiAgICByZXBsYWNlOiB0cnVlLAogICAgc2NvcGU6IHsgY29udGVudDogJ0AnLCBwbGFjZW1lbnQ6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnIH0sCiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sJwogIH07Cn0pCgouZGlyZWN0aXZlKCAndG9vbHRpcCcsIFsgJyR0b29sdGlwJywgZnVuY3Rpb24gKCAkdG9vbHRpcCApIHsKICByZXR1cm4gJHRvb2x0aXAoICd0b29sdGlwJywgJ3Rvb2x0aXAnLCAnbW91c2VlbnRlcicgKTsKfV0pCgouZGlyZWN0aXZlKCAndG9vbHRpcEh0bWxVbnNhZmVQb3B1cCcsIGZ1bmN0aW9uICgpIHsKICByZXR1cm4gewogICAgcmVzdHJpY3Q6ICdFQScsCiAgICByZXBsYWNlOiB0cnVlLAogICAgc2NvcGU6IHsgY29udGVudDogJ0AnLCBwbGFjZW1lbnQ6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnIH0sCiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sJwogIH07Cn0pCgouZGlyZWN0aXZlKCAndG9vbHRpcEh0bWxVbnNhZmUnLCBbICckdG9vbHRpcCcsIGZ1bmN0aW9uICggJHRvb2x0aXAgKSB7CiAgcmV0dXJuICR0b29sdGlwKCAndG9vbHRpcEh0bWxVbnNhZmUnLCAndG9vbHRpcCcsICdtb3VzZWVudGVyJyApOwp9XSk7CgovKioKICogVGhlIGZvbGxvd2luZyBmZWF0dXJlcyBhcmUgc3RpbGwgb3V0c3RhbmRpbmc6IHBvcHVwIGRlbGF5LCBhbmltYXRpb24gYXMgYQogKiBmdW5jdGlvbiwgcGxhY2VtZW50IGFzIGEgZnVuY3Rpb24sIGluc2lkZSwgc3VwcG9ydCBmb3IgbW9yZSB0cmlnZ2VycyB0aGFuCiAqIGp1c3QgbW91c2UgZW50ZXIvbGVhdmUsIGh0bWwgcG9wb3ZlcnMsIGFuZCBzZWxlY3RvciBkZWxlZ2F0YXRpb24uCiAqLwphbmd1bGFyLm1vZHVsZSggJ3VpLmJvb3RzdHJhcC5wb3BvdmVyJywgWyAndWkuYm9vdHN0cmFwLnRvb2x0aXAnIF0gKQoKLmRpcmVjdGl2ZSggJ3BvcG92ZXJQb3B1cCcsIGZ1bmN0aW9uICgpIHsKICByZXR1cm4gewogICAgcmVzdHJpY3Q6ICdFQScsCiAgICByZXBsYWNlOiB0cnVlLAogICAgc2NvcGU6IHsgdGl0bGU6ICdAJywgY29udGVudDogJ0AnLCBwbGFjZW1lbnQ6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnIH0sCiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sJwogIH07Cn0pCgouZGlyZWN0aXZlKCAncG9wb3ZlcicsIFsgJyR0b29sdGlwJywgZnVuY3Rpb24gKCAkdG9vbHRpcCApIHsKICByZXR1cm4gJHRvb2x0aXAoICdwb3BvdmVyJywgJ3BvcG92ZXInLCAnY2xpY2snICk7Cn1dKTsKCmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucHJvZ3Jlc3NiYXInLCBbXSkKCi5jb25zdGFudCgncHJvZ3Jlc3NDb25maWcnLCB7CiAgYW5pbWF0ZTogdHJ1ZSwKICBtYXg6IDEwMAp9KQoKLmNvbnRyb2xsZXIoJ1Byb2dyZXNzQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICdwcm9ncmVzc0NvbmZpZycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCBwcm9ncmVzc0NvbmZpZykgewogICAgdmFyIHNlbGYgPSB0aGlzLAogICAgICAgIGFuaW1hdGUgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuYW5pbWF0ZSkgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuYW5pbWF0ZSkgOiBwcm9ncmVzc0NvbmZpZy5hbmltYXRlOwoKICAgIHRoaXMuYmFycyA9IFtdOwogICAgJHNjb3BlLm1heCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tYXgpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1heCkgOiBwcm9ncmVzc0NvbmZpZy5tYXg7CgogICAgdGhpcy5hZGRCYXIgPSBmdW5jdGlvbihiYXIsIGVsZW1lbnQpIHsKICAgICAgICBpZiAoICFhbmltYXRlICkgewogICAgICAgICAgICBlbGVtZW50LmNzcyh7J3RyYW5zaXRpb24nOiAnbm9uZSd9KTsKICAgICAgICB9CgogICAgICAgIHRoaXMuYmFycy5wdXNoKGJhcik7CgogICAgICAgIGJhci4kd2F0Y2goJ3ZhbHVlJywgZnVuY3Rpb24oIHZhbHVlICkgewogICAgICAgICAgICBiYXIucGVyY2VudCA9ICsoMTAwICogdmFsdWUgLyAkc2NvcGUubWF4KS50b0ZpeGVkKDIpOwogICAgICAgIH0pOwoKICAgICAgICBiYXIuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBlbGVtZW50ID0gbnVsbDsKICAgICAgICAgICAgc2VsZi5yZW1vdmVCYXIoYmFyKTsKICAgICAgICB9KTsKICAgIH07CgogICAgdGhpcy5yZW1vdmVCYXIgPSBmdW5jdGlvbihiYXIpIHsKICAgICAgICB0aGlzLmJhcnMuc3BsaWNlKHRoaXMuYmFycy5pbmRleE9mKGJhciksIDEpOwogICAgfTsKfV0pCgouZGlyZWN0aXZlKCdwcm9ncmVzcycsIGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgICByZXN0cmljdDogJ0VBJywKICAgICAgICByZXBsYWNlOiB0cnVlLAogICAgICAgIHRyYW5zY2x1ZGU6IHRydWUsCiAgICAgICAgY29udHJvbGxlcjogJ1Byb2dyZXNzQ29udHJvbGxlcicsCiAgICAgICAgcmVxdWlyZTogJ3Byb2dyZXNzJywKICAgICAgICBzY29wZToge30sCiAgICAgICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sJwogICAgfTsKfSkKCi5kaXJlY3RpdmUoJ2JhcicsIGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgICByZXN0cmljdDogJ0VBJywKICAgICAgICByZXBsYWNlOiB0cnVlLAogICAgICAgIHRyYW5zY2x1ZGU6IHRydWUsCiAgICAgICAgcmVxdWlyZTogJ15wcm9ncmVzcycsCiAgICAgICAgc2NvcGU6IHsKICAgICAgICAgICAgdmFsdWU6ICc9JywKICAgICAgICAgICAgdHlwZTogJ0AnCiAgICAgICAgfSwKICAgICAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sJywKICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIHByb2dyZXNzQ3RybCkgewogICAgICAgICAgICBwcm9ncmVzc0N0cmwuYWRkQmFyKHNjb3BlLCBlbGVtZW50KTsKICAgICAgICB9CiAgICB9Owp9KQoKLmRpcmVjdGl2ZSgncHJvZ3Jlc3NiYXInLCBmdW5jdGlvbigpIHsKICAgIHJldHVybiB7CiAgICAgICAgcmVzdHJpY3Q6ICdFQScsCiAgICAgICAgcmVwbGFjZTogdHJ1ZSwKICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLAogICAgICAgIGNvbnRyb2xsZXI6ICdQcm9ncmVzc0NvbnRyb2xsZXInLAogICAgICAgIHNjb3BlOiB7CiAgICAgICAgICAgIHZhbHVlOiAnPScsCiAgICAgICAgICAgIHR5cGU6ICdAJwogICAgICAgIH0sCiAgICAgICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sJywKICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIHByb2dyZXNzQ3RybCkgewogICAgICAgICAgICBwcm9ncmVzc0N0cmwuYWRkQmFyKHNjb3BlLCBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudC5jaGlsZHJlbigpWzBdKSk7CiAgICAgICAgfQogICAgfTsKfSk7CmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucmF0aW5nJywgW10pCgouY29uc3RhbnQoJ3JhdGluZ0NvbmZpZycsIHsKICBtYXg6IDUsCiAgc3RhdGVPbjogbnVsbCwKICBzdGF0ZU9mZjogbnVsbAp9KQoKLmNvbnRyb2xsZXIoJ1JhdGluZ0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAncmF0aW5nQ29uZmlnJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsIHJhdGluZ0NvbmZpZykgewogIHZhciBuZ01vZGVsQ3RybCAgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9OwoKICB0aGlzLmluaXQgPSBmdW5jdGlvbihuZ01vZGVsQ3RybF8pIHsKICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfOwogICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IHRoaXMucmVuZGVyOwoKICAgIHRoaXMuc3RhdGVPbiA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5zdGF0ZU9uKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5zdGF0ZU9uKSA6IHJhdGluZ0NvbmZpZy5zdGF0ZU9uOwogICAgdGhpcy5zdGF0ZU9mZiA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5zdGF0ZU9mZikgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuc3RhdGVPZmYpIDogcmF0aW5nQ29uZmlnLnN0YXRlT2ZmOwoKICAgIHZhciByYXRpbmdTdGF0ZXMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMucmF0aW5nU3RhdGVzKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5yYXRpbmdTdGF0ZXMpIDoKICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEFycmF5KCBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubWF4KSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tYXgpIDogcmF0aW5nQ29uZmlnLm1heCApOwogICAgJHNjb3BlLnJhbmdlID0gdGhpcy5idWlsZFRlbXBsYXRlT2JqZWN0cyhyYXRpbmdTdGF0ZXMpOwogIH07CgogIHRoaXMuYnVpbGRUZW1wbGF0ZU9iamVjdHMgPSBmdW5jdGlvbihzdGF0ZXMpIHsKICAgIGZvciAodmFyIGkgPSAwLCBuID0gc3RhdGVzLmxlbmd0aDsgaSA8IG47IGkrKykgewogICAgICBzdGF0ZXNbaV0gPSBhbmd1bGFyLmV4dGVuZCh7IGluZGV4OiBpIH0sIHsgc3RhdGVPbjogdGhpcy5zdGF0ZU9uLCBzdGF0ZU9mZjogdGhpcy5zdGF0ZU9mZiB9LCBzdGF0ZXNbaV0pOwogICAgfQogICAgcmV0dXJuIHN0YXRlczsKICB9OwoKICAkc2NvcGUucmF0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7CiAgICBpZiAoICEkc2NvcGUucmVhZG9ubHkgJiYgdmFsdWUgPj0gMCAmJiB2YWx1ZSA8PSAkc2NvcGUucmFuZ2UubGVuZ3RoICkgewogICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHZhbHVlKTsKICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpOwogICAgfQogIH07CgogICRzY29wZS5lbnRlciA9IGZ1bmN0aW9uKHZhbHVlKSB7CiAgICBpZiAoICEkc2NvcGUucmVhZG9ubHkgKSB7CiAgICAgICRzY29wZS52YWx1ZSA9IHZhbHVlOwogICAgfQogICAgJHNjb3BlLm9uSG92ZXIoe3ZhbHVlOiB2YWx1ZX0pOwogIH07CgogICRzY29wZS5yZXNldCA9IGZ1bmN0aW9uKCkgewogICAgJHNjb3BlLnZhbHVlID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTsKICAgICRzY29wZS5vbkxlYXZlKCk7CiAgfTsKCiAgJHNjb3BlLm9uS2V5ZG93biA9IGZ1bmN0aW9uKGV2dCkgewogICAgaWYgKC8oMzd8Mzh8Mzl8NDApLy50ZXN0KGV2dC53aGljaCkpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgJHNjb3BlLnJhdGUoICRzY29wZS52YWx1ZSArIChldnQud2hpY2ggPT09IDM4IHx8IGV2dC53aGljaCA9PT0gMzkgPyAxIDogLTEpICk7CiAgICB9CiAgfTsKCiAgdGhpcy5yZW5kZXIgPSBmdW5jdGlvbigpIHsKICAgICRzY29wZS52YWx1ZSA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWU7CiAgfTsKfV0pCgouZGlyZWN0aXZlKCdyYXRpbmcnLCBmdW5jdGlvbigpIHsKICByZXR1cm4gewogICAgcmVzdHJpY3Q6ICdFQScsCiAgICByZXF1aXJlOiBbJ3JhdGluZycsICduZ01vZGVsJ10sCiAgICBzY29wZTogewogICAgICByZWFkb25seTogJz0/JywKICAgICAgb25Ib3ZlcjogJyYnLAogICAgICBvbkxlYXZlOiAnJicKICAgIH0sCiAgICBjb250cm9sbGVyOiAnUmF0aW5nQ29udHJvbGxlcicsCiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbCcsCiAgICByZXBsYWNlOiB0cnVlLAogICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykgewogICAgICB2YXIgcmF0aW5nQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdOwoKICAgICAgaWYgKCBuZ01vZGVsQ3RybCApIHsKICAgICAgICByYXRpbmdDdHJsLmluaXQoIG5nTW9kZWxDdHJsICk7CiAgICAgIH0KICAgIH0KICB9Owp9KTsKCi8qKgogKiBAbmdkb2Mgb3ZlcnZpZXcKICogQG5hbWUgdWkuYm9vdHN0cmFwLnRhYnMKICoKICogQGRlc2NyaXB0aW9uCiAqIEFuZ3VsYXJKUyB2ZXJzaW9uIG9mIHRoZSB0YWJzIGRpcmVjdGl2ZS4KICovCgphbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnRhYnMnLCBbXSkKCi5jb250cm9sbGVyKCdUYWJzZXRDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbiBUYWJzZXRDdHJsKCRzY29wZSkgewogIHZhciBjdHJsID0gdGhpcywKICAgICAgdGFicyA9IGN0cmwudGFicyA9ICRzY29wZS50YWJzID0gW107CgogIGN0cmwuc2VsZWN0ID0gZnVuY3Rpb24oc2VsZWN0ZWRUYWIpIHsKICAgIGFuZ3VsYXIuZm9yRWFjaCh0YWJzLCBmdW5jdGlvbih0YWIpIHsKICAgICAgaWYgKHRhYi5hY3RpdmUgJiYgdGFiICE9PSBzZWxlY3RlZFRhYikgewogICAgICAgIHRhYi5hY3RpdmUgPSBmYWxzZTsKICAgICAgICB0YWIub25EZXNlbGVjdCgpOwogICAgICB9CiAgICB9KTsKICAgIHNlbGVjdGVkVGFiLmFjdGl2ZSA9IHRydWU7CiAgICBzZWxlY3RlZFRhYi5vblNlbGVjdCgpOwogIH07CgogIGN0cmwuYWRkVGFiID0gZnVuY3Rpb24gYWRkVGFiKHRhYikgewogICAgdGFicy5wdXNoKHRhYik7CiAgICAvLyB3ZSBjYW4ndCBydW4gdGhlIHNlbGVjdCBmdW5jdGlvbiBvbiB0aGUgZmlyc3QgdGFiCiAgICAvLyBzaW5jZSB0aGF0IHdvdWxkIHNlbGVjdCBpdCB0d2ljZQogICAgaWYgKHRhYnMubGVuZ3RoID09PSAxKSB7CiAgICAgIHRhYi5hY3RpdmUgPSB0cnVlOwogICAgfSBlbHNlIGlmICh0YWIuYWN0aXZlKSB7CiAgICAgIGN0cmwuc2VsZWN0KHRhYik7CiAgICB9CiAgfTsKCiAgY3RybC5yZW1vdmVUYWIgPSBmdW5jdGlvbiByZW1vdmVUYWIodGFiKSB7CiAgICB2YXIgaW5kZXggPSB0YWJzLmluZGV4T2YodGFiKTsKICAgIC8vU2VsZWN0IGEgbmV3IHRhYiBpZiB0aGUgdGFiIHRvIGJlIHJlbW92ZWQgaXMgc2VsZWN0ZWQKICAgIGlmICh0YWIuYWN0aXZlICYmIHRhYnMubGVuZ3RoID4gMSkgewogICAgICAvL0lmIHRoaXMgaXMgdGhlIGxhc3QgdGFiLCBzZWxlY3QgdGhlIHByZXZpb3VzIHRhYi4gZWxzZSwgdGhlIG5leHQgdGFiLgogICAgICB2YXIgbmV3QWN0aXZlSW5kZXggPSBpbmRleCA9PSB0YWJzLmxlbmd0aCAtIDEgPyBpbmRleCAtIDEgOiBpbmRleCArIDE7CiAgICAgIGN0cmwuc2VsZWN0KHRhYnNbbmV3QWN0aXZlSW5kZXhdKTsKICAgIH0KICAgIHRhYnMuc3BsaWNlKGluZGV4LCAxKTsKICB9Owp9XSkKCi8qKgogKiBAbmdkb2MgZGlyZWN0aXZlCiAqIEBuYW1lIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWJzZXQKICogQHJlc3RyaWN0IEVBCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBUYWJzZXQgaXMgdGhlIG91dGVyIGNvbnRhaW5lciBmb3IgdGhlIHRhYnMgZGlyZWN0aXZlCiAqCiAqIEBwYXJhbSB7Ym9vbGVhbj19IHZlcnRpY2FsIFdoZXRoZXIgb3Igbm90IHRvIHVzZSB2ZXJ0aWNhbCBzdHlsaW5nIGZvciB0aGUgdGFicy4KICogQHBhcmFtIHtib29sZWFuPX0ganVzdGlmaWVkIFdoZXRoZXIgb3Igbm90IHRvIHVzZSBqdXN0aWZpZWQgc3R5bGluZyBmb3IgdGhlIHRhYnMuCiAqCiAqIEBleGFtcGxlCjxleGFtcGxlIG1vZHVsZT0idWkuYm9vdHN0cmFwIj4KICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgIDx0YWJzZXQ+CiAgICAgIDx0YWIgaGVhZGluZz0iVGFiIDEiPjxiPkZpcnN0PC9iPiBDb250ZW50ITwvdGFiPgogICAgICA8dGFiIGhlYWRpbmc9IlRhYiAyIj48aT5TZWNvbmQ8L2k+IENvbnRlbnQhPC90YWI+CiAgICA8L3RhYnNldD4KICAgIDxociAvPgogICAgPHRhYnNldCB2ZXJ0aWNhbD0idHJ1ZSI+CiAgICAgIDx0YWIgaGVhZGluZz0iVmVydGljYWwgVGFiIDEiPjxiPkZpcnN0PC9iPiBWZXJ0aWNhbCBDb250ZW50ITwvdGFiPgogICAgICA8dGFiIGhlYWRpbmc9IlZlcnRpY2FsIFRhYiAyIj48aT5TZWNvbmQ8L2k+IFZlcnRpY2FsIENvbnRlbnQhPC90YWI+CiAgICA8L3RhYnNldD4KICAgIDx0YWJzZXQganVzdGlmaWVkPSJ0cnVlIj4KICAgICAgPHRhYiBoZWFkaW5nPSJKdXN0aWZpZWQgVGFiIDEiPjxiPkZpcnN0PC9iPiBKdXN0aWZpZWQgQ29udGVudCE8L3RhYj4KICAgICAgPHRhYiBoZWFkaW5nPSJKdXN0aWZpZWQgVGFiIDIiPjxpPlNlY29uZDwvaT4gSnVzdGlmaWVkIENvbnRlbnQhPC90YWI+CiAgICA8L3RhYnNldD4KICA8L2ZpbGU+CjwvZXhhbXBsZT4KICovCi5kaXJlY3RpdmUoJ3RhYnNldCcsIGZ1bmN0aW9uKCkgewogIHJldHVybiB7CiAgICByZXN0cmljdDogJ0VBJywKICAgIHRyYW5zY2x1ZGU6IHRydWUsCiAgICByZXBsYWNlOiB0cnVlLAogICAgc2NvcGU6IHsKICAgICAgdHlwZTogJ0AnCiAgICB9LAogICAgY29udHJvbGxlcjogJ1RhYnNldENvbnRyb2xsZXInLAogICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sJywKICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykgewogICAgICBzY29wZS52ZXJ0aWNhbCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnZlcnRpY2FsKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMudmVydGljYWwpIDogZmFsc2U7CiAgICAgIHNjb3BlLmp1c3RpZmllZCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmp1c3RpZmllZCkgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmp1c3RpZmllZCkgOiBmYWxzZTsKICAgIH0KICB9Owp9KQoKLyoqCiAqIEBuZ2RvYyBkaXJlY3RpdmUKICogQG5hbWUgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYgogKiBAcmVzdHJpY3QgRUEKICoKICogQHBhcmFtIHtzdHJpbmc9fSBoZWFkaW5nIFRoZSB2aXNpYmxlIGhlYWRpbmcsIG9yIHRpdGxlLCBvZiB0aGUgdGFiLiBTZXQgSFRNTCBoZWFkaW5ncyB3aXRoIHtAbGluayB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFiSGVhZGluZyB0YWJIZWFkaW5nfS4KICogQHBhcmFtIHtzdHJpbmc9fSBzZWxlY3QgQW4gZXhwcmVzc2lvbiB0byBldmFsdWF0ZSB3aGVuIHRoZSB0YWIgaXMgc2VsZWN0ZWQuCiAqIEBwYXJhbSB7Ym9vbGVhbj19IGFjdGl2ZSBBIGJpbmRpbmcsIHRlbGxpbmcgd2hldGhlciBvciBub3QgdGhpcyB0YWIgaXMgc2VsZWN0ZWQuCiAqIEBwYXJhbSB7Ym9vbGVhbj19IGRpc2FibGVkIEEgYmluZGluZywgdGVsbGluZyB3aGV0aGVyIG9yIG5vdCB0aGlzIHRhYiBpcyBkaXNhYmxlZC4KICoKICogQGRlc2NyaXB0aW9uCiAqIENyZWF0ZXMgYSB0YWIgd2l0aCBhIGhlYWRpbmcgYW5kIGNvbnRlbnQuIE11c3QgYmUgcGxhY2VkIHdpdGhpbiBhIHtAbGluayB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFic2V0IHRhYnNldH0uCiAqCiAqIEBleGFtcGxlCjxleGFtcGxlIG1vZHVsZT0idWkuYm9vdHN0cmFwIj4KICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgIDxkaXYgbmctY29udHJvbGxlcj0iVGFic0RlbW9DdHJsIj4KICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zbWFsbCIgbmctY2xpY2s9Iml0ZW1zWzBdLmFjdGl2ZSA9IHRydWUiPgogICAgICAgIFNlbGVjdCBpdGVtIDEsIHVzaW5nIGFjdGl2ZSBiaW5kaW5nCiAgICAgIDwvYnV0dG9uPgogICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXNtYWxsIiBuZy1jbGljaz0iaXRlbXNbMV0uZGlzYWJsZWQgPSAhaXRlbXNbMV0uZGlzYWJsZWQiPgogICAgICAgIEVuYWJsZS9kaXNhYmxlIGl0ZW0gMiwgdXNpbmcgZGlzYWJsZWQgYmluZGluZwogICAgICA8L2J1dHRvbj4KICAgICAgPGJyIC8+CiAgICAgIDx0YWJzZXQ+CiAgICAgICAgPHRhYiBoZWFkaW5nPSJUYWIgMSI+Rmlyc3QgVGFiPC90YWI+CiAgICAgICAgPHRhYiBzZWxlY3Q9ImFsZXJ0TWUoKSI+CiAgICAgICAgICA8dGFiLWhlYWRpbmc+PGkgY2xhc3M9Imljb24tYmVsbCI+PC9pPiBBbGVydCBtZSE8L3RhYi1oZWFkaW5nPgogICAgICAgICAgU2Vjb25kIFRhYiwgd2l0aCBhbGVydCBjYWxsYmFjayBhbmQgaHRtbCBoZWFkaW5nIQogICAgICAgIDwvdGFiPgogICAgICAgIDx0YWIgbmctcmVwZWF0PSJpdGVtIGluIGl0ZW1zIgogICAgICAgICAgaGVhZGluZz0ie3tpdGVtLnRpdGxlfX0iCiAgICAgICAgICBkaXNhYmxlZD0iaXRlbS5kaXNhYmxlZCIKICAgICAgICAgIGFjdGl2ZT0iaXRlbS5hY3RpdmUiPgogICAgICAgICAge3tpdGVtLmNvbnRlbnR9fQogICAgICAgIDwvdGFiPgogICAgICA8L3RhYnNldD4KICAgIDwvZGl2PgogIDwvZmlsZT4KICA8ZmlsZSBuYW1lPSJzY3JpcHQuanMiPgogICAgZnVuY3Rpb24gVGFic0RlbW9DdHJsKCRzY29wZSkgewogICAgICAkc2NvcGUuaXRlbXMgPSBbCiAgICAgICAgeyB0aXRsZToiRHluYW1pYyBUaXRsZSAxIiwgY29udGVudDoiRHluYW1pYyBJdGVtIDAiIH0sCiAgICAgICAgeyB0aXRsZToiRHluYW1pYyBUaXRsZSAyIiwgY29udGVudDoiRHluYW1pYyBJdGVtIDEiLCBkaXNhYmxlZDogdHJ1ZSB9CiAgICAgIF07CgogICAgICAkc2NvcGUuYWxlcnRNZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICBhbGVydCgiWW91J3ZlIHNlbGVjdGVkIHRoZSBhbGVydCB0YWIhIik7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9OwogIDwvZmlsZT4KPC9leGFtcGxlPgogKi8KCi8qKgogKiBAbmdkb2MgZGlyZWN0aXZlCiAqIEBuYW1lIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWJIZWFkaW5nCiAqIEByZXN0cmljdCBFQQogKgogKiBAZGVzY3JpcHRpb24KICogQ3JlYXRlcyBhbiBIVE1MIGhlYWRpbmcgZm9yIGEge0BsaW5rIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWIgdGFifS4gTXVzdCBiZSBwbGFjZWQgYXMgYSBjaGlsZCBvZiBhIHRhYiBlbGVtZW50LgogKgogKiBAZXhhbXBsZQo8ZXhhbXBsZSBtb2R1bGU9InVpLmJvb3RzdHJhcCI+CiAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICA8dGFic2V0PgogICAgICA8dGFiPgogICAgICAgIDx0YWItaGVhZGluZz48Yj5IVE1MPC9iPiBpbiBteSB0aXRsZXM/ITwvdGFiLWhlYWRpbmc+CiAgICAgICAgQW5kIHNvbWUgY29udGVudCwgdG9vIQogICAgICA8L3RhYj4KICAgICAgPHRhYj4KICAgICAgICA8dGFiLWhlYWRpbmc+PGkgY2xhc3M9Imljb24taGVhcnQiPjwvaT4gSWNvbiBoZWFkaW5nPyE/PC90YWItaGVhZGluZz4KICAgICAgICBUaGF0J3MgcmlnaHQuCiAgICAgIDwvdGFiPgogICAgPC90YWJzZXQ+CiAgPC9maWxlPgo8L2V4YW1wbGU+CiAqLwouZGlyZWN0aXZlKCd0YWInLCBbJyRwYXJzZScsIGZ1bmN0aW9uKCRwYXJzZSkgewogIHJldHVybiB7CiAgICByZXF1aXJlOiAnXnRhYnNldCcsCiAgICByZXN0cmljdDogJ0VBJywKICAgIHJlcGxhY2U6IHRydWUsCiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3RhYnMvdGFiLmh0bWwnLAogICAgdHJhbnNjbHVkZTogdHJ1ZSwKICAgIHNjb3BlOiB7CiAgICAgIGFjdGl2ZTogJz0/JywKICAgICAgaGVhZGluZzogJ0AnLAogICAgICBvblNlbGVjdDogJyZzZWxlY3QnLCAvL1RoaXMgY2FsbGJhY2sgaXMgY2FsbGVkIGluIGNvbnRlbnRIZWFkaW5nVHJhbnNjbHVkZQogICAgICAgICAgICAgICAgICAgICAgICAgIC8vb25jZSBpdCBpbnNlcnRzIHRoZSB0YWIncyBjb250ZW50IGludG8gdGhlIGRvbQogICAgICBvbkRlc2VsZWN0OiAnJmRlc2VsZWN0JwogICAgfSwKICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkgewogICAgICAvL0VtcHR5IGNvbnRyb2xsZXIgc28gb3RoZXIgZGlyZWN0aXZlcyBjYW4gcmVxdWlyZSBiZWluZyAndW5kZXInIGEgdGFiCiAgICB9LAogICAgY29tcGlsZTogZnVuY3Rpb24oZWxtLCBhdHRycywgdHJhbnNjbHVkZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsbSwgYXR0cnMsIHRhYnNldEN0cmwpIHsKICAgICAgICBzY29wZS4kd2F0Y2goJ2FjdGl2ZScsIGZ1bmN0aW9uKGFjdGl2ZSkgewogICAgICAgICAgaWYgKGFjdGl2ZSkgewogICAgICAgICAgICB0YWJzZXRDdHJsLnNlbGVjdChzY29wZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIHNjb3BlLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgaWYgKCBhdHRycy5kaXNhYmxlZCApIHsKICAgICAgICAgIHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZShhdHRycy5kaXNhYmxlZCksIGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgICAgIHNjb3BlLmRpc2FibGVkID0gISEgdmFsdWU7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgaWYgKCAhc2NvcGUuZGlzYWJsZWQgKSB7CiAgICAgICAgICAgIHNjb3BlLmFjdGl2ZSA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgdGFic2V0Q3RybC5hZGRUYWIoc2NvcGUpOwogICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHsKICAgICAgICAgIHRhYnNldEN0cmwucmVtb3ZlVGFiKHNjb3BlKTsKICAgICAgICB9KTsKCiAgICAgICAgLy9XZSBuZWVkIHRvIHRyYW5zY2x1ZGUgbGF0ZXIsIG9uY2UgdGhlIGNvbnRlbnQgY29udGFpbmVyIGlzIHJlYWR5LgogICAgICAgIC8vd2hlbiB0aGlzIGxpbmsgaGFwcGVucywgd2UncmUgaW5zaWRlIGEgdGFiIGhlYWRpbmcuCiAgICAgICAgc2NvcGUuJHRyYW5zY2x1ZGVGbiA9IHRyYW5zY2x1ZGU7CiAgICAgIH07CiAgICB9CiAgfTsKfV0pCgouZGlyZWN0aXZlKCd0YWJIZWFkaW5nVHJhbnNjbHVkZScsIFtmdW5jdGlvbigpIHsKICByZXR1cm4gewogICAgcmVzdHJpY3Q6ICdBJywKICAgIHJlcXVpcmU6ICdedGFiJywKICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbG0sIGF0dHJzLCB0YWJDdHJsKSB7CiAgICAgIHNjb3BlLiR3YXRjaCgnaGVhZGluZ0VsZW1lbnQnLCBmdW5jdGlvbiB1cGRhdGVIZWFkaW5nRWxlbWVudChoZWFkaW5nKSB7CiAgICAgICAgaWYgKGhlYWRpbmcpIHsKICAgICAgICAgIGVsbS5odG1sKCcnKTsKICAgICAgICAgIGVsbS5hcHBlbmQoaGVhZGluZyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Owp9XSkKCi5kaXJlY3RpdmUoJ3RhYkNvbnRlbnRUcmFuc2NsdWRlJywgZnVuY3Rpb24oKSB7CiAgcmV0dXJuIHsKICAgIHJlc3RyaWN0OiAnQScsCiAgICByZXF1aXJlOiAnXnRhYnNldCcsCiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRycykgewogICAgICB2YXIgdGFiID0gc2NvcGUuJGV2YWwoYXR0cnMudGFiQ29udGVudFRyYW5zY2x1ZGUpOwoKICAgICAgLy9Ob3cgb3VyIHRhYiBpcyByZWFkeSB0byBiZSB0cmFuc2NsdWRlZDogYm90aCB0aGUgdGFiIGhlYWRpbmcgYXJlYQogICAgICAvL2FuZCB0aGUgdGFiIGNvbnRlbnQgYXJlYSBhcmUgbG9hZGVkLiAgVHJhbnNjbHVkZSAnZW0gYm90aC4KICAgICAgdGFiLiR0cmFuc2NsdWRlRm4odGFiLiRwYXJlbnQsIGZ1bmN0aW9uKGNvbnRlbnRzKSB7CiAgICAgICAgYW5ndWxhci5mb3JFYWNoKGNvbnRlbnRzLCBmdW5jdGlvbihub2RlKSB7CiAgICAgICAgICBpZiAoaXNUYWJIZWFkaW5nKG5vZGUpKSB7CiAgICAgICAgICAgIC8vTGV0IHRhYkhlYWRpbmdUcmFuc2NsdWRlIGtub3cuCiAgICAgICAgICAgIHRhYi5oZWFkaW5nRWxlbWVudCA9IG5vZGU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBlbG0uYXBwZW5kKG5vZGUpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9OwogIGZ1bmN0aW9uIGlzVGFiSGVhZGluZyhub2RlKSB7CiAgICByZXR1cm4gbm9kZS50YWdOYW1lICYmICAoCiAgICAgIG5vZGUuaGFzQXR0cmlidXRlKCd0YWItaGVhZGluZycpIHx8CiAgICAgIG5vZGUuaGFzQXR0cmlidXRlKCdkYXRhLXRhYi1oZWFkaW5nJykgfHwKICAgICAgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICd0YWItaGVhZGluZycgfHwKICAgICAgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdkYXRhLXRhYi1oZWFkaW5nJwogICAgKTsKICB9Cn0pCgo7Cgphbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnRpbWVwaWNrZXInLCBbXSkKCi5jb25zdGFudCgndGltZXBpY2tlckNvbmZpZycsIHsKICBob3VyU3RlcDogMSwKICBtaW51dGVTdGVwOiAxLAogIHNob3dNZXJpZGlhbjogdHJ1ZSwKICBtZXJpZGlhbnM6IG51bGwsCiAgcmVhZG9ubHlJbnB1dDogZmFsc2UsCiAgbW91c2V3aGVlbDogdHJ1ZQp9KQoKLmNvbnRyb2xsZXIoJ1RpbWVwaWNrZXJDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJyRwYXJzZScsICckbG9nJywgJyRsb2NhbGUnLCAndGltZXBpY2tlckNvbmZpZycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCAkcGFyc2UsICRsb2csICRsb2NhbGUsIHRpbWVwaWNrZXJDb25maWcpIHsKICB2YXIgc2VsZWN0ZWQgPSBuZXcgRGF0ZSgpLAogICAgICBuZ01vZGVsQ3RybCA9IHsgJHNldFZpZXdWYWx1ZTogYW5ndWxhci5ub29wIH0sIC8vIG51bGxNb2RlbEN0cmwKICAgICAgbWVyaWRpYW5zID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm1lcmlkaWFucykgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMubWVyaWRpYW5zKSA6IHRpbWVwaWNrZXJDb25maWcubWVyaWRpYW5zIHx8ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5BTVBNUzsKCiAgdGhpcy5pbml0ID0gZnVuY3Rpb24oIG5nTW9kZWxDdHJsXywgaW5wdXRzICkgewogICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87CiAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gdGhpcy5yZW5kZXI7CgogICAgdmFyIGhvdXJzSW5wdXRFbCA9IGlucHV0cy5lcSgwKSwKICAgICAgICBtaW51dGVzSW5wdXRFbCA9IGlucHV0cy5lcSgxKTsKCiAgICB2YXIgbW91c2V3aGVlbCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tb3VzZXdoZWVsKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tb3VzZXdoZWVsKSA6IHRpbWVwaWNrZXJDb25maWcubW91c2V3aGVlbDsKICAgIGlmICggbW91c2V3aGVlbCApIHsKICAgICAgdGhpcy5zZXR1cE1vdXNld2hlZWxFdmVudHMoIGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwgKTsKICAgIH0KCiAgICAkc2NvcGUucmVhZG9ubHlJbnB1dCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5yZWFkb25seUlucHV0KSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5yZWFkb25seUlucHV0KSA6IHRpbWVwaWNrZXJDb25maWcucmVhZG9ubHlJbnB1dDsKICAgIHRoaXMuc2V0dXBJbnB1dEV2ZW50cyggaG91cnNJbnB1dEVsLCBtaW51dGVzSW5wdXRFbCApOwogIH07CgogIHZhciBob3VyU3RlcCA9IHRpbWVwaWNrZXJDb25maWcuaG91clN0ZXA7CiAgaWYgKCRhdHRycy5ob3VyU3RlcCkgewogICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMuaG91clN0ZXApLCBmdW5jdGlvbih2YWx1ZSkgewogICAgICBob3VyU3RlcCA9IHBhcnNlSW50KHZhbHVlLCAxMCk7CiAgICB9KTsKICB9CgogIHZhciBtaW51dGVTdGVwID0gdGltZXBpY2tlckNvbmZpZy5taW51dGVTdGVwOwogIGlmICgkYXR0cnMubWludXRlU3RlcCkgewogICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMubWludXRlU3RlcCksIGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIG1pbnV0ZVN0ZXAgPSBwYXJzZUludCh2YWx1ZSwgMTApOwogICAgfSk7CiAgfQoKICAvLyAxMkggLyAyNEggbW9kZQogICRzY29wZS5zaG93TWVyaWRpYW4gPSB0aW1lcGlja2VyQ29uZmlnLnNob3dNZXJpZGlhbjsKICBpZiAoJGF0dHJzLnNob3dNZXJpZGlhbikgewogICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMuc2hvd01lcmlkaWFuKSwgZnVuY3Rpb24odmFsdWUpIHsKICAgICAgJHNjb3BlLnNob3dNZXJpZGlhbiA9ICEhdmFsdWU7CgogICAgICBpZiAoIG5nTW9kZWxDdHJsLiRlcnJvci50aW1lICkgewogICAgICAgIC8vIEV2YWx1YXRlIGZyb20gdGVtcGxhdGUKICAgICAgICB2YXIgaG91cnMgPSBnZXRIb3Vyc0Zyb21UZW1wbGF0ZSgpLCBtaW51dGVzID0gZ2V0TWludXRlc0Zyb21UZW1wbGF0ZSgpOwogICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCggaG91cnMgKSAmJiBhbmd1bGFyLmlzRGVmaW5lZCggbWludXRlcyApKSB7CiAgICAgICAgICBzZWxlY3RlZC5zZXRIb3VycyggaG91cnMgKTsKICAgICAgICAgIHJlZnJlc2goKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdXBkYXRlVGVtcGxhdGUoKTsKICAgICAgfQogICAgfSk7CiAgfQoKICAvLyBHZXQgJHNjb3BlLmhvdXJzIGluIDI0SCBtb2RlIGlmIHZhbGlkCiAgZnVuY3Rpb24gZ2V0SG91cnNGcm9tVGVtcGxhdGUgKCApIHsKICAgIHZhciBob3VycyA9IHBhcnNlSW50KCAkc2NvcGUuaG91cnMsIDEwICk7CiAgICB2YXIgdmFsaWQgPSAoICRzY29wZS5zaG93TWVyaWRpYW4gKSA/IChob3VycyA+IDAgJiYgaG91cnMgPCAxMykgOiAoaG91cnMgPj0gMCAmJiBob3VycyA8IDI0KTsKICAgIGlmICggIXZhbGlkICkgewogICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmICggJHNjb3BlLnNob3dNZXJpZGlhbiApIHsKICAgICAgaWYgKCBob3VycyA9PT0gMTIgKSB7CiAgICAgICAgaG91cnMgPSAwOwogICAgICB9CiAgICAgIGlmICggJHNjb3BlLm1lcmlkaWFuID09PSBtZXJpZGlhbnNbMV0gKSB7CiAgICAgICAgaG91cnMgPSBob3VycyArIDEyOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gaG91cnM7CiAgfQoKICBmdW5jdGlvbiBnZXRNaW51dGVzRnJvbVRlbXBsYXRlKCkgewogICAgdmFyIG1pbnV0ZXMgPSBwYXJzZUludCgkc2NvcGUubWludXRlcywgMTApOwogICAgcmV0dXJuICggbWludXRlcyA+PSAwICYmIG1pbnV0ZXMgPCA2MCApID8gbWludXRlcyA6IHVuZGVmaW5lZDsKICB9CgogIGZ1bmN0aW9uIHBhZCggdmFsdWUgKSB7CiAgICByZXR1cm4gKCBhbmd1bGFyLmlzRGVmaW5lZCh2YWx1ZSkgJiYgdmFsdWUudG9TdHJpbmcoKS5sZW5ndGggPCAyICkgPyAnMCcgKyB2YWx1ZSA6IHZhbHVlOwogIH0KCiAgLy8gUmVzcG9uZCBvbiBtb3VzZXdoZWVsIHNwaW4KICB0aGlzLnNldHVwTW91c2V3aGVlbEV2ZW50cyA9IGZ1bmN0aW9uKCBob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsICkgewogICAgdmFyIGlzU2Nyb2xsaW5nVXAgPSBmdW5jdGlvbihlKSB7CiAgICAgIGlmIChlLm9yaWdpbmFsRXZlbnQpIHsKICAgICAgICBlID0gZS5vcmlnaW5hbEV2ZW50OwogICAgICB9CiAgICAgIC8vcGljayBjb3JyZWN0IGRlbHRhIHZhcmlhYmxlIGRlcGVuZGluZyBvbiBldmVudAogICAgICB2YXIgZGVsdGEgPSAoZS53aGVlbERlbHRhKSA/IGUud2hlZWxEZWx0YSA6IC1lLmRlbHRhWTsKICAgICAgcmV0dXJuIChlLmRldGFpbCB8fCBkZWx0YSA+IDApOwogICAgfTsKCiAgICBob3Vyc0lucHV0RWwuYmluZCgnbW91c2V3aGVlbCB3aGVlbCcsIGZ1bmN0aW9uKGUpIHsKICAgICAgJHNjb3BlLiRhcHBseSggKGlzU2Nyb2xsaW5nVXAoZSkpID8gJHNjb3BlLmluY3JlbWVudEhvdXJzKCkgOiAkc2NvcGUuZGVjcmVtZW50SG91cnMoKSApOwogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB9KTsKCiAgICBtaW51dGVzSW5wdXRFbC5iaW5kKCdtb3VzZXdoZWVsIHdoZWVsJywgZnVuY3Rpb24oZSkgewogICAgICAkc2NvcGUuJGFwcGx5KCAoaXNTY3JvbGxpbmdVcChlKSkgPyAkc2NvcGUuaW5jcmVtZW50TWludXRlcygpIDogJHNjb3BlLmRlY3JlbWVudE1pbnV0ZXMoKSApOwogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB9KTsKCiAgfTsKCiAgdGhpcy5zZXR1cElucHV0RXZlbnRzID0gZnVuY3Rpb24oIGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwgKSB7CiAgICBpZiAoICRzY29wZS5yZWFkb25seUlucHV0ICkgewogICAgICAkc2NvcGUudXBkYXRlSG91cnMgPSBhbmd1bGFyLm5vb3A7CiAgICAgICRzY29wZS51cGRhdGVNaW51dGVzID0gYW5ndWxhci5ub29wOwogICAgICByZXR1cm47CiAgICB9CgogICAgdmFyIGludmFsaWRhdGUgPSBmdW5jdGlvbihpbnZhbGlkSG91cnMsIGludmFsaWRNaW51dGVzKSB7CiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoIG51bGwgKTsKICAgICAgbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCd0aW1lJywgZmFsc2UpOwogICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoaW52YWxpZEhvdXJzKSkgewogICAgICAgICRzY29wZS5pbnZhbGlkSG91cnMgPSBpbnZhbGlkSG91cnM7CiAgICAgIH0KICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGludmFsaWRNaW51dGVzKSkgewogICAgICAgICRzY29wZS5pbnZhbGlkTWludXRlcyA9IGludmFsaWRNaW51dGVzOwogICAgICB9CiAgICB9OwoKICAgICRzY29wZS51cGRhdGVIb3VycyA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgaG91cnMgPSBnZXRIb3Vyc0Zyb21UZW1wbGF0ZSgpOwoKICAgICAgaWYgKCBhbmd1bGFyLmlzRGVmaW5lZChob3VycykgKSB7CiAgICAgICAgc2VsZWN0ZWQuc2V0SG91cnMoIGhvdXJzICk7CiAgICAgICAgcmVmcmVzaCggJ2gnICk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaW52YWxpZGF0ZSh0cnVlKTsKICAgICAgfQogICAgfTsKCiAgICBob3Vyc0lucHV0RWwuYmluZCgnYmx1cicsIGZ1bmN0aW9uKGUpIHsKICAgICAgaWYgKCAhJHNjb3BlLmludmFsaWRIb3VycyAmJiAkc2NvcGUuaG91cnMgPCAxMCkgewogICAgICAgICRzY29wZS4kYXBwbHkoIGZ1bmN0aW9uKCkgewogICAgICAgICAgJHNjb3BlLmhvdXJzID0gcGFkKCAkc2NvcGUuaG91cnMgKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CgogICAgJHNjb3BlLnVwZGF0ZU1pbnV0ZXMgPSBmdW5jdGlvbigpIHsKICAgICAgdmFyIG1pbnV0ZXMgPSBnZXRNaW51dGVzRnJvbVRlbXBsYXRlKCk7CgogICAgICBpZiAoIGFuZ3VsYXIuaXNEZWZpbmVkKG1pbnV0ZXMpICkgewogICAgICAgIHNlbGVjdGVkLnNldE1pbnV0ZXMoIG1pbnV0ZXMgKTsKICAgICAgICByZWZyZXNoKCAnbScgKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpbnZhbGlkYXRlKHVuZGVmaW5lZCwgdHJ1ZSk7CiAgICAgIH0KICAgIH07CgogICAgbWludXRlc0lucHV0RWwuYmluZCgnYmx1cicsIGZ1bmN0aW9uKGUpIHsKICAgICAgaWYgKCAhJHNjb3BlLmludmFsaWRNaW51dGVzICYmICRzY29wZS5taW51dGVzIDwgMTAgKSB7CiAgICAgICAgJHNjb3BlLiRhcHBseSggZnVuY3Rpb24oKSB7CiAgICAgICAgICAkc2NvcGUubWludXRlcyA9IHBhZCggJHNjb3BlLm1pbnV0ZXMgKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CgogIH07CgogIHRoaXMucmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgZGF0ZSA9IG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlID8gbmV3IERhdGUoIG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlICkgOiBudWxsOwoKICAgIGlmICggaXNOYU4oZGF0ZSkgKSB7CiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgndGltZScsIGZhbHNlKTsKICAgICAgJGxvZy5lcnJvcignVGltZXBpY2tlciBkaXJlY3RpdmU6ICJuZy1tb2RlbCIgdmFsdWUgbXVzdCBiZSBhIERhdGUgb2JqZWN0LCBhIG51bWJlciBvZiBtaWxsaXNlY29uZHMgc2luY2UgMDEuMDEuMTk3MCBvciBhIHN0cmluZyByZXByZXNlbnRpbmcgYW4gUkZDMjgyMiBvciBJU08gODYwMSBkYXRlLicpOwogICAgfSBlbHNlIHsKICAgICAgaWYgKCBkYXRlICkgewogICAgICAgIHNlbGVjdGVkID0gZGF0ZTsKICAgICAgfQogICAgICBtYWtlVmFsaWQoKTsKICAgICAgdXBkYXRlVGVtcGxhdGUoKTsKICAgIH0KICB9OwoKICAvLyBDYWxsIGludGVybmFsbHkgd2hlbiB3ZSBrbm93IHRoYXQgbW9kZWwgaXMgdmFsaWQuCiAgZnVuY3Rpb24gcmVmcmVzaCgga2V5Ym9hcmRDaGFuZ2UgKSB7CiAgICBtYWtlVmFsaWQoKTsKICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoIG5ldyBEYXRlKHNlbGVjdGVkKSApOwogICAgdXBkYXRlVGVtcGxhdGUoIGtleWJvYXJkQ2hhbmdlICk7CiAgfQoKICBmdW5jdGlvbiBtYWtlVmFsaWQoKSB7CiAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ3RpbWUnLCB0cnVlKTsKICAgICRzY29wZS5pbnZhbGlkSG91cnMgPSBmYWxzZTsKICAgICRzY29wZS5pbnZhbGlkTWludXRlcyA9IGZhbHNlOwogIH0KCiAgZnVuY3Rpb24gdXBkYXRlVGVtcGxhdGUoIGtleWJvYXJkQ2hhbmdlICkgewogICAgdmFyIGhvdXJzID0gc2VsZWN0ZWQuZ2V0SG91cnMoKSwgbWludXRlcyA9IHNlbGVjdGVkLmdldE1pbnV0ZXMoKTsKCiAgICBpZiAoICRzY29wZS5zaG93TWVyaWRpYW4gKSB7CiAgICAgIGhvdXJzID0gKCBob3VycyA9PT0gMCB8fCBob3VycyA9PT0gMTIgKSA/IDEyIDogaG91cnMgJSAxMjsgLy8gQ29udmVydCAyNCB0byAxMiBob3VyIHN5c3RlbQogICAgfQoKICAgICRzY29wZS5ob3VycyA9IGtleWJvYXJkQ2hhbmdlID09PSAnaCcgPyBob3VycyA6IHBhZChob3Vycyk7CiAgICAkc2NvcGUubWludXRlcyA9IGtleWJvYXJkQ2hhbmdlID09PSAnbScgPyBtaW51dGVzIDogcGFkKG1pbnV0ZXMpOwogICAgJHNjb3BlLm1lcmlkaWFuID0gc2VsZWN0ZWQuZ2V0SG91cnMoKSA8IDEyID8gbWVyaWRpYW5zWzBdIDogbWVyaWRpYW5zWzFdOwogIH0KCiAgZnVuY3Rpb24gYWRkTWludXRlcyggbWludXRlcyApIHsKICAgIHZhciBkdCA9IG5ldyBEYXRlKCBzZWxlY3RlZC5nZXRUaW1lKCkgKyBtaW51dGVzICogNjAwMDAgKTsKICAgIHNlbGVjdGVkLnNldEhvdXJzKCBkdC5nZXRIb3VycygpLCBkdC5nZXRNaW51dGVzKCkgKTsKICAgIHJlZnJlc2goKTsKICB9CgogICRzY29wZS5pbmNyZW1lbnRIb3VycyA9IGZ1bmN0aW9uKCkgewogICAgYWRkTWludXRlcyggaG91clN0ZXAgKiA2MCApOwogIH07CiAgJHNjb3BlLmRlY3JlbWVudEhvdXJzID0gZnVuY3Rpb24oKSB7CiAgICBhZGRNaW51dGVzKCAtIGhvdXJTdGVwICogNjAgKTsKICB9OwogICRzY29wZS5pbmNyZW1lbnRNaW51dGVzID0gZnVuY3Rpb24oKSB7CiAgICBhZGRNaW51dGVzKCBtaW51dGVTdGVwICk7CiAgfTsKICAkc2NvcGUuZGVjcmVtZW50TWludXRlcyA9IGZ1bmN0aW9uKCkgewogICAgYWRkTWludXRlcyggLSBtaW51dGVTdGVwICk7CiAgfTsKICAkc2NvcGUudG9nZ2xlTWVyaWRpYW4gPSBmdW5jdGlvbigpIHsKICAgIGFkZE1pbnV0ZXMoIDEyICogNjAgKiAoKCBzZWxlY3RlZC5nZXRIb3VycygpIDwgMTIgKSA/IDEgOiAtMSkgKTsKICB9Owp9XSkKCi5kaXJlY3RpdmUoJ3RpbWVwaWNrZXInLCBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHsKICAgIHJlc3RyaWN0OiAnRUEnLAogICAgcmVxdWlyZTogWyd0aW1lcGlja2VyJywgJz9ebmdNb2RlbCddLAogICAgY29udHJvbGxlcjonVGltZXBpY2tlckNvbnRyb2xsZXInLAogICAgcmVwbGFjZTogdHJ1ZSwKICAgIHNjb3BlOiB7fSwKICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWwnLAogICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykgewogICAgICB2YXIgdGltZXBpY2tlckN0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTsKCiAgICAgIGlmICggbmdNb2RlbEN0cmwgKSB7CiAgICAgICAgdGltZXBpY2tlckN0cmwuaW5pdCggbmdNb2RlbEN0cmwsIGVsZW1lbnQuZmluZCgnaW5wdXQnKSApOwogICAgICB9CiAgICB9CiAgfTsKfSk7Cgphbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnR5cGVhaGVhZCcsIFsndWkuYm9vdHN0cmFwLnBvc2l0aW9uJywgJ3VpLmJvb3RzdHJhcC5iaW5kSHRtbCddKQoKLyoqCiAqIEEgaGVscGVyIHNlcnZpY2UgdGhhdCBjYW4gcGFyc2UgdHlwZWFoZWFkJ3Mgc3ludGF4IChzdHJpbmcgcHJvdmlkZWQgYnkgdXNlcnMpCiAqIEV4dHJhY3RlZCB0byBhIHNlcGFyYXRlIHNlcnZpY2UgZm9yIGVhc2Ugb2YgdW5pdCB0ZXN0aW5nCiAqLwogIC5mYWN0b3J5KCd0eXBlYWhlYWRQYXJzZXInLCBbJyRwYXJzZScsIGZ1bmN0aW9uICgkcGFyc2UpIHsKCiAgLy8gICAgICAgICAgICAgICAgICAgICAgMDAwMDAxMTEwMDAwMDAwMDAwMDAwMjIyMDAwMDAwMDAwMDAwMDAwMDMzMzMzMzMzMzMzMzMzMzAwMDAwMDAwMDAwNDQwMDAKICB2YXIgVFlQRUFIRUFEX1JFR0VYUCA9IC9eXHMqKC4qPykoPzpccythc1xzKyguKj8pKT9ccytmb3JccysoPzooW1wkXHddW1wkXHdcZF0qKSlccytpblxzKyguKikkLzsKCiAgcmV0dXJuIHsKICAgIHBhcnNlOmZ1bmN0aW9uIChpbnB1dCkgewoKICAgICAgdmFyIG1hdGNoID0gaW5wdXQubWF0Y2goVFlQRUFIRUFEX1JFR0VYUCk7CiAgICAgIGlmICghbWF0Y2gpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoCiAgICAgICAgICAnRXhwZWN0ZWQgdHlwZWFoZWFkIHNwZWNpZmljYXRpb24gaW4gZm9ybSBvZiAiX21vZGVsVmFsdWVfIChhcyBfbGFiZWxfKT8gZm9yIF9pdGVtXyBpbiBfY29sbGVjdGlvbl8iJyArCiAgICAgICAgICAgICcgYnV0IGdvdCAiJyArIGlucHV0ICsgJyIuJyk7CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgaXRlbU5hbWU6bWF0Y2hbM10sCiAgICAgICAgc291cmNlOiRwYXJzZShtYXRjaFs0XSksCiAgICAgICAgdmlld01hcHBlcjokcGFyc2UobWF0Y2hbMl0gfHwgbWF0Y2hbMV0pLAogICAgICAgIG1vZGVsTWFwcGVyOiRwYXJzZShtYXRjaFsxXSkKICAgICAgfTsKICAgIH0KICB9Owp9XSkKCiAgLmRpcmVjdGl2ZSgndHlwZWFoZWFkJywgWyckY29tcGlsZScsICckcGFyc2UnLCAnJHEnLCAnJHRpbWVvdXQnLCAnJGRvY3VtZW50JywgJyRwb3NpdGlvbicsICd0eXBlYWhlYWRQYXJzZXInLAogICAgZnVuY3Rpb24gKCRjb21waWxlLCAkcGFyc2UsICRxLCAkdGltZW91dCwgJGRvY3VtZW50LCAkcG9zaXRpb24sIHR5cGVhaGVhZFBhcnNlcikgewoKICB2YXIgSE9UX0tFWVMgPSBbOSwgMTMsIDI3LCAzOCwgNDBdOwoKICByZXR1cm4gewogICAgcmVxdWlyZTonbmdNb2RlbCcsCiAgICBsaW5rOmZ1bmN0aW9uIChvcmlnaW5hbFNjb3BlLCBlbGVtZW50LCBhdHRycywgbW9kZWxDdHJsKSB7CgogICAgICAvL1NVUFBPUlRFRCBBVFRSSUJVVEVTIChPUFRJT05TKQoKICAgICAgLy9taW5pbWFsIG5vIG9mIGNoYXJhY3RlcnMgdGhhdCBuZWVkcyB0byBiZSBlbnRlcmVkIGJlZm9yZSB0eXBlYWhlYWQga2lja3MtaW4KICAgICAgdmFyIG1pblNlYXJjaCA9IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkTWluTGVuZ3RoKSB8fCAxOwoKICAgICAgLy9taW5pbWFsIHdhaXQgdGltZSBhZnRlciBsYXN0IGNoYXJhY3RlciB0eXBlZCBiZWZvcmUgdHlwZWhlYWQga2lja3MtaW4KICAgICAgdmFyIHdhaXRUaW1lID0gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRXYWl0TXMpIHx8IDA7CgogICAgICAvL3Nob3VsZCBpdCByZXN0cmljdCBtb2RlbCB2YWx1ZXMgdG8gdGhlIG9uZXMgc2VsZWN0ZWQgZnJvbSB0aGUgcG9wdXAgb25seT8KICAgICAgdmFyIGlzRWRpdGFibGUgPSBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZEVkaXRhYmxlKSAhPT0gZmFsc2U7CgogICAgICAvL2JpbmRpbmcgdG8gYSB2YXJpYWJsZSB0aGF0IGluZGljYXRlcyBpZiBtYXRjaGVzIGFyZSBiZWluZyByZXRyaWV2ZWQgYXN5bmNocm9ub3VzbHkKICAgICAgdmFyIGlzTG9hZGluZ1NldHRlciA9ICRwYXJzZShhdHRycy50eXBlYWhlYWRMb2FkaW5nKS5hc3NpZ24gfHwgYW5ndWxhci5ub29wOwoKICAgICAgLy9hIGNhbGxiYWNrIGV4ZWN1dGVkIHdoZW4gYSBtYXRjaCBpcyBzZWxlY3RlZAogICAgICB2YXIgb25TZWxlY3RDYWxsYmFjayA9ICRwYXJzZShhdHRycy50eXBlYWhlYWRPblNlbGVjdCk7CgogICAgICB2YXIgaW5wdXRGb3JtYXR0ZXIgPSBhdHRycy50eXBlYWhlYWRJbnB1dEZvcm1hdHRlciA/ICRwYXJzZShhdHRycy50eXBlYWhlYWRJbnB1dEZvcm1hdHRlcikgOiB1bmRlZmluZWQ7CgogICAgICB2YXIgYXBwZW5kVG9Cb2R5ID0gIGF0dHJzLnR5cGVhaGVhZEFwcGVuZFRvQm9keSA/IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkQXBwZW5kVG9Cb2R5KSA6IGZhbHNlOwoKICAgICAgLy9JTlRFUk5BTCBWQVJJQUJMRVMKCiAgICAgIC8vbW9kZWwgc2V0dGVyIGV4ZWN1dGVkIHVwb24gbWF0Y2ggc2VsZWN0aW9uCiAgICAgIHZhciAkc2V0TW9kZWxWYWx1ZSA9ICRwYXJzZShhdHRycy5uZ01vZGVsKS5hc3NpZ247CgogICAgICAvL2V4cHJlc3Npb25zIHVzZWQgYnkgdHlwZWFoZWFkCiAgICAgIHZhciBwYXJzZXJSZXN1bHQgPSB0eXBlYWhlYWRQYXJzZXIucGFyc2UoYXR0cnMudHlwZWFoZWFkKTsKCiAgICAgIHZhciBoYXNGb2N1czsKCiAgICAgIC8vY3JlYXRlIGEgY2hpbGQgc2NvcGUgZm9yIHRoZSB0eXBlYWhlYWQgZGlyZWN0aXZlIHNvIHdlIGFyZSBub3QgcG9sbHV0aW5nIG9yaWdpbmFsIHNjb3BlCiAgICAgIC8vd2l0aCB0eXBlYWhlYWQtc3BlY2lmaWMgZGF0YSAobWF0Y2hlcywgcXVlcnkgZXRjLikKICAgICAgdmFyIHNjb3BlID0gb3JpZ2luYWxTY29wZS4kbmV3KCk7CiAgICAgIG9yaWdpbmFsU2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCl7CiAgICAgICAgc2NvcGUuJGRlc3Ryb3koKTsKICAgICAgfSk7CgogICAgICAvLyBXQUktQVJJQQogICAgICB2YXIgcG9wdXBJZCA9ICd0eXBlYWhlYWQtJyArIHNjb3BlLiRpZCArICctJyArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTsKICAgICAgZWxlbWVudC5hdHRyKHsKICAgICAgICAnYXJpYS1hdXRvY29tcGxldGUnOiAnbGlzdCcsCiAgICAgICAgJ2FyaWEtZXhwYW5kZWQnOiBmYWxzZSwKICAgICAgICAnYXJpYS1vd25zJzogcG9wdXBJZAogICAgICB9KTsKCiAgICAgIC8vcG9wLXVwIGVsZW1lbnQgdXNlZCB0byBkaXNwbGF5IG1hdGNoZXMKICAgICAgdmFyIHBvcFVwRWwgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYgdHlwZWFoZWFkLXBvcHVwPjwvZGl2PicpOwogICAgICBwb3BVcEVsLmF0dHIoewogICAgICAgIGlkOiBwb3B1cElkLAogICAgICAgIG1hdGNoZXM6ICdtYXRjaGVzJywKICAgICAgICBhY3RpdmU6ICdhY3RpdmVJZHgnLAogICAgICAgIHNlbGVjdDogJ3NlbGVjdChhY3RpdmVJZHgpJywKICAgICAgICBxdWVyeTogJ3F1ZXJ5JywKICAgICAgICBwb3NpdGlvbjogJ3Bvc2l0aW9uJwogICAgICB9KTsKICAgICAgLy9jdXN0b20gaXRlbSB0ZW1wbGF0ZQogICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudHlwZWFoZWFkVGVtcGxhdGVVcmwpKSB7CiAgICAgICAgcG9wVXBFbC5hdHRyKCd0ZW1wbGF0ZS11cmwnLCBhdHRycy50eXBlYWhlYWRUZW1wbGF0ZVVybCk7CiAgICAgIH0KCiAgICAgIHZhciByZXNldE1hdGNoZXMgPSBmdW5jdGlvbigpIHsKICAgICAgICBzY29wZS5tYXRjaGVzID0gW107CiAgICAgICAgc2NvcGUuYWN0aXZlSWR4ID0gLTE7CiAgICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpOwogICAgICB9OwoKICAgICAgdmFyIGdldE1hdGNoSWQgPSBmdW5jdGlvbihpbmRleCkgewogICAgICAgIHJldHVybiBwb3B1cElkICsgJy1vcHRpb24tJyArIGluZGV4OwogICAgICB9OwoKICAgICAgLy8gSW5kaWNhdGUgdGhhdCB0aGUgc3BlY2lmaWVkIG1hdGNoIGlzIHRoZSBhY3RpdmUgKHByZS1zZWxlY3RlZCkgaXRlbSBpbiB0aGUgbGlzdCBvd25lZCBieSB0aGlzIHR5cGVhaGVhZC4KICAgICAgLy8gVGhpcyBhdHRyaWJ1dGUgaXMgYWRkZWQgb3IgcmVtb3ZlZCBhdXRvbWF0aWNhbGx5IHdoZW4gdGhlIGBhY3RpdmVJZHhgIGNoYW5nZXMuCiAgICAgIHNjb3BlLiR3YXRjaCgnYWN0aXZlSWR4JywgZnVuY3Rpb24oaW5kZXgpIHsKICAgICAgICBpZiAoaW5kZXggPCAwKSB7CiAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHIoJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCcpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCcsIGdldE1hdGNoSWQoaW5kZXgpKTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgdmFyIGdldE1hdGNoZXNBc3luYyA9IGZ1bmN0aW9uKGlucHV0VmFsdWUpIHsKCiAgICAgICAgdmFyIGxvY2FscyA9IHskdmlld1ZhbHVlOiBpbnB1dFZhbHVlfTsKICAgICAgICBpc0xvYWRpbmdTZXR0ZXIob3JpZ2luYWxTY29wZSwgdHJ1ZSk7CiAgICAgICAgJHEud2hlbihwYXJzZXJSZXN1bHQuc291cmNlKG9yaWdpbmFsU2NvcGUsIGxvY2FscykpLnRoZW4oZnVuY3Rpb24obWF0Y2hlcykgewoKICAgICAgICAgIC8vaXQgbWlnaHQgaGFwcGVuIHRoYXQgc2V2ZXJhbCBhc3luYyBxdWVyaWVzIHdlcmUgaW4gcHJvZ3Jlc3MgaWYgYSB1c2VyIHdlcmUgdHlwaW5nIGZhc3QKICAgICAgICAgIC8vYnV0IHdlIGFyZSBpbnRlcmVzdGVkIG9ubHkgaW4gcmVzcG9uc2VzIHRoYXQgY29ycmVzcG9uZCB0byB0aGUgY3VycmVudCB2aWV3IHZhbHVlCiAgICAgICAgICB2YXIgb25DdXJyZW50UmVxdWVzdCA9IChpbnB1dFZhbHVlID09PSBtb2RlbEN0cmwuJHZpZXdWYWx1ZSk7CiAgICAgICAgICBpZiAob25DdXJyZW50UmVxdWVzdCAmJiBoYXNGb2N1cykgewogICAgICAgICAgICBpZiAobWF0Y2hlcy5sZW5ndGggPiAwKSB7CgogICAgICAgICAgICAgIHNjb3BlLmFjdGl2ZUlkeCA9IDA7CiAgICAgICAgICAgICAgc2NvcGUubWF0Y2hlcy5sZW5ndGggPSAwOwoKICAgICAgICAgICAgICAvL3RyYW5zZm9ybSBsYWJlbHMKICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaTxtYXRjaGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXSA9IG1hdGNoZXNbaV07CiAgICAgICAgICAgICAgICBzY29wZS5tYXRjaGVzLnB1c2goewogICAgICAgICAgICAgICAgICBpZDogZ2V0TWF0Y2hJZChpKSwKICAgICAgICAgICAgICAgICAgbGFiZWw6IHBhcnNlclJlc3VsdC52aWV3TWFwcGVyKHNjb3BlLCBsb2NhbHMpLAogICAgICAgICAgICAgICAgICBtb2RlbDogbWF0Y2hlc1tpXQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBzY29wZS5xdWVyeSA9IGlucHV0VmFsdWU7CiAgICAgICAgICAgICAgLy9wb3NpdGlvbiBwb3AtdXAgd2l0aCBtYXRjaGVzIC0gd2UgbmVlZCB0byByZS1jYWxjdWxhdGUgaXRzIHBvc2l0aW9uIGVhY2ggdGltZSB3ZSBhcmUgb3BlbmluZyBhIHdpbmRvdwogICAgICAgICAgICAgIC8vd2l0aCBtYXRjaGVzIGFzIGEgcG9wLXVwIG1pZ2h0IGJlIGFic29sdXRlLXBvc2l0aW9uZWQgYW5kIHBvc2l0aW9uIG9mIGFuIGlucHV0IG1pZ2h0IGhhdmUgY2hhbmdlZCBvbiBhIHBhZ2UKICAgICAgICAgICAgICAvL2R1ZSB0byBvdGhlciBlbGVtZW50cyBiZWluZyByZW5kZXJlZAogICAgICAgICAgICAgIHNjb3BlLnBvc2l0aW9uID0gYXBwZW5kVG9Cb2R5ID8gJHBvc2l0aW9uLm9mZnNldChlbGVtZW50KSA6ICRwb3NpdGlvbi5wb3NpdGlvbihlbGVtZW50KTsKICAgICAgICAgICAgICBzY29wZS5wb3NpdGlvbi50b3AgPSBzY29wZS5wb3NpdGlvbi50b3AgKyBlbGVtZW50LnByb3AoJ29mZnNldEhlaWdodCcpOwoKICAgICAgICAgICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXNldE1hdGNoZXMoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKG9uQ3VycmVudFJlcXVlc3QpIHsKICAgICAgICAgICAgaXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsIGZhbHNlKTsKICAgICAgICAgIH0KICAgICAgICB9LCBmdW5jdGlvbigpewogICAgICAgICAgcmVzZXRNYXRjaGVzKCk7CiAgICAgICAgICBpc0xvYWRpbmdTZXR0ZXIob3JpZ2luYWxTY29wZSwgZmFsc2UpOwogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgcmVzZXRNYXRjaGVzKCk7CgogICAgICAvL3dlIG5lZWQgdG8gcHJvcGFnYXRlIHVzZXIncyBxdWVyeSBzbyB3ZSBjYW4gaGlnbGlnaHQgbWF0Y2hlcwogICAgICBzY29wZS5xdWVyeSA9IHVuZGVmaW5lZDsKCiAgICAgIC8vRGVjbGFyZSB0aGUgdGltZW91dCBwcm9taXNlIHZhciBvdXRzaWRlIHRoZSBmdW5jdGlvbiBzY29wZSBzbyB0aGF0IHN0YWNrZWQgY2FsbHMgY2FuIGJlIGNhbmNlbGxlZCBsYXRlciAKICAgICAgdmFyIHRpbWVvdXRQcm9taXNlOwoKICAgICAgLy9wbHVnIGludG8gJHBhcnNlcnMgcGlwZWxpbmUgdG8gb3BlbiBhIHR5cGVhaGVhZCBvbiB2aWV3IGNoYW5nZXMgaW5pdGlhdGVkIGZyb20gRE9NCiAgICAgIC8vJHBhcnNlcnMga2ljay1pbiBvbiBhbGwgdGhlIGNoYW5nZXMgY29taW5nIGZyb20gdGhlIHZpZXcgYXMgd2VsbCBhcyBtYW51YWxseSB0cmlnZ2VyZWQgYnkgJHNldFZpZXdWYWx1ZQogICAgICBtb2RlbEN0cmwuJHBhcnNlcnMudW5zaGlmdChmdW5jdGlvbiAoaW5wdXRWYWx1ZSkgewoKICAgICAgICBoYXNGb2N1cyA9IHRydWU7CgogICAgICAgIGlmIChpbnB1dFZhbHVlICYmIGlucHV0VmFsdWUubGVuZ3RoID49IG1pblNlYXJjaCkgewogICAgICAgICAgaWYgKHdhaXRUaW1lID4gMCkgewogICAgICAgICAgICBpZiAodGltZW91dFByb21pc2UpIHsKICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwodGltZW91dFByb21pc2UpOy8vY2FuY2VsIHByZXZpb3VzIHRpbWVvdXQKICAgICAgICAgICAgfQogICAgICAgICAgICB0aW1lb3V0UHJvbWlzZSA9ICR0aW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBnZXRNYXRjaGVzQXN5bmMoaW5wdXRWYWx1ZSk7CiAgICAgICAgICAgIH0sIHdhaXRUaW1lKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGdldE1hdGNoZXNBc3luYyhpbnB1dFZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgaXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsIGZhbHNlKTsKICAgICAgICAgIHJlc2V0TWF0Y2hlcygpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGlzRWRpdGFibGUpIHsKICAgICAgICAgIHJldHVybiBpbnB1dFZhbHVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoIWlucHV0VmFsdWUpIHsKICAgICAgICAgICAgLy8gUmVzZXQgaW4gY2FzZSB1c2VyIGhhZCB0eXBlZCBzb21ldGhpbmcgcHJldmlvdXNseS4KICAgICAgICAgICAgbW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZWRpdGFibGUnLCB0cnVlKTsKICAgICAgICAgICAgcmV0dXJuIGlucHV0VmFsdWU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBtb2RlbEN0cmwuJHNldFZhbGlkaXR5KCdlZGl0YWJsZScsIGZhbHNlKTsKICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgbW9kZWxDdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24gKG1vZGVsVmFsdWUpIHsKCiAgICAgICAgdmFyIGNhbmRpZGF0ZVZpZXdWYWx1ZSwgZW1wdHlWaWV3VmFsdWU7CiAgICAgICAgdmFyIGxvY2FscyA9IHt9OwoKICAgICAgICBpZiAoaW5wdXRGb3JtYXR0ZXIpIHsKCiAgICAgICAgICBsb2NhbHNbJyRtb2RlbCddID0gbW9kZWxWYWx1ZTsKICAgICAgICAgIHJldHVybiBpbnB1dEZvcm1hdHRlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpOwoKICAgICAgICB9IGVsc2UgewoKICAgICAgICAgIC8vaXQgbWlnaHQgaGFwcGVuIHRoYXQgd2UgZG9uJ3QgaGF2ZSBlbm91Z2ggaW5mbyB0byBwcm9wZXJseSByZW5kZXIgaW5wdXQgdmFsdWUKICAgICAgICAgIC8vd2UgbmVlZCB0byBjaGVjayBmb3IgdGhpcyBzaXR1YXRpb24gYW5kIHNpbXBseSByZXR1cm4gbW9kZWwgdmFsdWUgaWYgd2UgY2FuJ3QgYXBwbHkgY3VzdG9tIGZvcm1hdHRpbmcKICAgICAgICAgIGxvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdID0gbW9kZWxWYWx1ZTsKICAgICAgICAgIGNhbmRpZGF0ZVZpZXdWYWx1ZSA9IHBhcnNlclJlc3VsdC52aWV3TWFwcGVyKG9yaWdpbmFsU2NvcGUsIGxvY2Fscyk7CiAgICAgICAgICBsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXSA9IHVuZGVmaW5lZDsKICAgICAgICAgIGVtcHR5Vmlld1ZhbHVlID0gcGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIob3JpZ2luYWxTY29wZSwgbG9jYWxzKTsKCiAgICAgICAgICByZXR1cm4gY2FuZGlkYXRlVmlld1ZhbHVlIT09IGVtcHR5Vmlld1ZhbHVlID8gY2FuZGlkYXRlVmlld1ZhbHVlIDogbW9kZWxWYWx1ZTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24gKGFjdGl2ZUlkeCkgewogICAgICAgIC8vY2FsbGVkIGZyb20gd2l0aGluIHRoZSAkZGlnZXN0KCkgY3ljbGUKICAgICAgICB2YXIgbG9jYWxzID0ge307CiAgICAgICAgdmFyIG1vZGVsLCBpdGVtOwoKICAgICAgICBsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXSA9IGl0ZW0gPSBzY29wZS5tYXRjaGVzW2FjdGl2ZUlkeF0ubW9kZWw7CiAgICAgICAgbW9kZWwgPSBwYXJzZXJSZXN1bHQubW9kZWxNYXBwZXIob3JpZ2luYWxTY29wZSwgbG9jYWxzKTsKICAgICAgICAkc2V0TW9kZWxWYWx1ZShvcmlnaW5hbFNjb3BlLCBtb2RlbCk7CiAgICAgICAgbW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZWRpdGFibGUnLCB0cnVlKTsKCiAgICAgICAgb25TZWxlY3RDYWxsYmFjayhvcmlnaW5hbFNjb3BlLCB7CiAgICAgICAgICAkaXRlbTogaXRlbSwKICAgICAgICAgICRtb2RlbDogbW9kZWwsCiAgICAgICAgICAkbGFiZWw6IHBhcnNlclJlc3VsdC52aWV3TWFwcGVyKG9yaWdpbmFsU2NvcGUsIGxvY2FscykKICAgICAgICB9KTsKCiAgICAgICAgcmVzZXRNYXRjaGVzKCk7CgogICAgICAgIC8vcmV0dXJuIGZvY3VzIHRvIHRoZSBpbnB1dCBlbGVtZW50IGlmIGEgbWF0Y2ggd2FzIHNlbGVjdGVkIHZpYSBhIG1vdXNlIGNsaWNrIGV2ZW50CiAgICAgICAgLy8gdXNlIHRpbWVvdXQgdG8gYXZvaWQgJHJvb3RTY29wZTppbnByb2cgZXJyb3IKICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHsgZWxlbWVudFswXS5mb2N1cygpOyB9LCAwLCBmYWxzZSk7CiAgICAgIH07CgogICAgICAvL2JpbmQga2V5Ym9hcmQgZXZlbnRzOiBhcnJvd3MgdXAoMzgpIC8gZG93big0MCksIGVudGVyKDEzKSBhbmQgdGFiKDkpLCBlc2MoMjcpCiAgICAgIGVsZW1lbnQuYmluZCgna2V5ZG93bicsIGZ1bmN0aW9uIChldnQpIHsKCiAgICAgICAgLy90eXBlYWhlYWQgaXMgb3BlbiBhbmQgYW4gImludGVyZXN0aW5nIiBrZXkgd2FzIHByZXNzZWQKICAgICAgICBpZiAoc2NvcGUubWF0Y2hlcy5sZW5ndGggPT09IDAgfHwgSE9UX0tFWVMuaW5kZXhPZihldnQud2hpY2gpID09PSAtMSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CgogICAgICAgIGlmIChldnQud2hpY2ggPT09IDQwKSB7CiAgICAgICAgICBzY29wZS5hY3RpdmVJZHggPSAoc2NvcGUuYWN0aXZlSWR4ICsgMSkgJSBzY29wZS5tYXRjaGVzLmxlbmd0aDsKICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTsKCiAgICAgICAgfSBlbHNlIGlmIChldnQud2hpY2ggPT09IDM4KSB7CiAgICAgICAgICBzY29wZS5hY3RpdmVJZHggPSAoc2NvcGUuYWN0aXZlSWR4ID8gc2NvcGUuYWN0aXZlSWR4IDogc2NvcGUubWF0Y2hlcy5sZW5ndGgpIC0gMTsKICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTsKCiAgICAgICAgfSBlbHNlIGlmIChldnQud2hpY2ggPT09IDEzIHx8IGV2dC53aGljaCA9PT0gOSkgewogICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgc2NvcGUuc2VsZWN0KHNjb3BlLmFjdGl2ZUlkeCk7CiAgICAgICAgICB9KTsKCiAgICAgICAgfSBlbHNlIGlmIChldnQud2hpY2ggPT09IDI3KSB7CiAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7CgogICAgICAgICAgcmVzZXRNYXRjaGVzKCk7CiAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGVsZW1lbnQuYmluZCgnYmx1cicsIGZ1bmN0aW9uIChldnQpIHsKICAgICAgICBoYXNGb2N1cyA9IGZhbHNlOwogICAgICB9KTsKCiAgICAgIC8vIEtlZXAgcmVmZXJlbmNlIHRvIGNsaWNrIGhhbmRsZXIgdG8gdW5iaW5kIGl0LgogICAgICB2YXIgZGlzbWlzc0NsaWNrSGFuZGxlciA9IGZ1bmN0aW9uIChldnQpIHsKICAgICAgICBpZiAoZWxlbWVudFswXSAhPT0gZXZ0LnRhcmdldCkgewogICAgICAgICAgcmVzZXRNYXRjaGVzKCk7CiAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgJGRvY3VtZW50LmJpbmQoJ2NsaWNrJywgZGlzbWlzc0NsaWNrSGFuZGxlcik7CgogICAgICBvcmlnaW5hbFNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpewogICAgICAgICRkb2N1bWVudC51bmJpbmQoJ2NsaWNrJywgZGlzbWlzc0NsaWNrSGFuZGxlcik7CiAgICAgIH0pOwoKICAgICAgdmFyICRwb3B1cCA9ICRjb21waWxlKHBvcFVwRWwpKHNjb3BlKTsKICAgICAgaWYgKCBhcHBlbmRUb0JvZHkgKSB7CiAgICAgICAgJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5hcHBlbmQoJHBvcHVwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBlbGVtZW50LmFmdGVyKCRwb3B1cCk7CiAgICAgIH0KICAgIH0KICB9OwoKfV0pCgogIC5kaXJlY3RpdmUoJ3R5cGVhaGVhZFBvcHVwJywgZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVzdHJpY3Q6J0VBJywKICAgICAgc2NvcGU6ewogICAgICAgIG1hdGNoZXM6Jz0nLAogICAgICAgIHF1ZXJ5Oic9JywKICAgICAgICBhY3RpdmU6Jz0nLAogICAgICAgIHBvc2l0aW9uOic9JywKICAgICAgICBzZWxlY3Q6JyYnCiAgICAgIH0sCiAgICAgIHJlcGxhY2U6dHJ1ZSwKICAgICAgdGVtcGxhdGVVcmw6J3RlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbCcsCiAgICAgIGxpbms6ZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykgewoKICAgICAgICBzY29wZS50ZW1wbGF0ZVVybCA9IGF0dHJzLnRlbXBsYXRlVXJsOwoKICAgICAgICBzY29wZS5pc09wZW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gc2NvcGUubWF0Y2hlcy5sZW5ndGggPiAwOwogICAgICAgIH07CgogICAgICAgIHNjb3BlLmlzQWN0aXZlID0gZnVuY3Rpb24gKG1hdGNoSWR4KSB7CiAgICAgICAgICByZXR1cm4gc2NvcGUuYWN0aXZlID09IG1hdGNoSWR4OwogICAgICAgIH07CgogICAgICAgIHNjb3BlLnNlbGVjdEFjdGl2ZSA9IGZ1bmN0aW9uIChtYXRjaElkeCkgewogICAgICAgICAgc2NvcGUuYWN0aXZlID0gbWF0Y2hJZHg7CiAgICAgICAgfTsKCiAgICAgICAgc2NvcGUuc2VsZWN0TWF0Y2ggPSBmdW5jdGlvbiAoYWN0aXZlSWR4KSB7CiAgICAgICAgICBzY29wZS5zZWxlY3Qoe2FjdGl2ZUlkeDphY3RpdmVJZHh9KTsKICAgICAgICB9OwogICAgICB9CiAgICB9OwogIH0pCgogIC5kaXJlY3RpdmUoJ3R5cGVhaGVhZE1hdGNoJywgWyckaHR0cCcsICckdGVtcGxhdGVDYWNoZScsICckY29tcGlsZScsICckcGFyc2UnLCBmdW5jdGlvbiAoJGh0dHAsICR0ZW1wbGF0ZUNhY2hlLCAkY29tcGlsZSwgJHBhcnNlKSB7CiAgICByZXR1cm4gewogICAgICByZXN0cmljdDonRUEnLAogICAgICBzY29wZTp7CiAgICAgICAgaW5kZXg6Jz0nLAogICAgICAgIG1hdGNoOic9JywKICAgICAgICBxdWVyeTonPScKICAgICAgfSwKICAgICAgbGluazpmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7CiAgICAgICAgdmFyIHRwbFVybCA9ICRwYXJzZShhdHRycy50ZW1wbGF0ZVVybCkoc2NvcGUuJHBhcmVudCkgfHwgJ3RlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbCc7CiAgICAgICAgJGh0dHAuZ2V0KHRwbFVybCwge2NhY2hlOiAkdGVtcGxhdGVDYWNoZX0pLnN1Y2Nlc3MoZnVuY3Rpb24odHBsQ29udGVudCl7CiAgICAgICAgICAgZWxlbWVudC5yZXBsYWNlV2l0aCgkY29tcGlsZSh0cGxDb250ZW50LnRyaW0oKSkoc2NvcGUpKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfTsKICB9XSkKCiAgLmZpbHRlcigndHlwZWFoZWFkSGlnaGxpZ2h0JywgZnVuY3Rpb24oKSB7CgogICAgZnVuY3Rpb24gZXNjYXBlUmVnZXhwKHF1ZXJ5VG9Fc2NhcGUpIHsKICAgICAgcmV0dXJuIHF1ZXJ5VG9Fc2NhcGUucmVwbGFjZSgvKFsuPyorXiRbXF1cXCgpe318LV0pL2csICdcXCQxJyk7CiAgICB9CgogICAgcmV0dXJuIGZ1bmN0aW9uKG1hdGNoSXRlbSwgcXVlcnkpIHsKICAgICAgcmV0dXJuIHF1ZXJ5ID8gKCcnICsgbWF0Y2hJdGVtKS5yZXBsYWNlKG5ldyBSZWdFeHAoZXNjYXBlUmVnZXhwKHF1ZXJ5KSwgJ2dpJyksICc8c3Ryb25nPiQmPC9zdHJvbmc+JykgOiBtYXRjaEl0ZW07CiAgICB9OwogIH0pOwo=')
},
{
'name': '/app/bower_components/angular-bootstrap/.bower.json', 'data': base64.b64decode('ewogICJhdXRob3IiOiB7CiAgICAibmFtZSI6ICJodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci11aS9ib290c3RyYXAvZ3JhcGhzL2NvbnRyaWJ1dG9ycyIKICB9LAogICJuYW1lIjogImFuZ3VsYXItYm9vdHN0cmFwIiwKICAidmVyc2lvbiI6ICIwLjExLjAiLAogICJtYWluIjogWwogICAgIi4vdWktYm9vdHN0cmFwLXRwbHMuanMiCiAgXSwKICAiZGVwZW5kZW5jaWVzIjogewogICAgImFuZ3VsYXIiOiAiPj0xIgogIH0sCiAgImhvbWVwYWdlIjogImh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyLXVpL2Jvb3RzdHJhcC1ib3dlciIsCiAgIl9yZWxlYXNlIjogIjAuMTEuMCIsCiAgIl9yZXNvbHV0aW9uIjogewogICAgInR5cGUiOiAidmVyc2lvbiIsCiAgICAidGFnIjogIjAuMTEuMCIsCiAgICAiY29tbWl0IjogIjc1YjMwMmY4MmMxYTNiMDY0NzY5NWEzZGZlYWNhYjBhMTUzZWE4YTAiCiAgfSwKICAiX3NvdXJjZSI6ICJnaXQ6Ly9naXRodWIuY29tL2FuZ3VsYXItdWkvYm9vdHN0cmFwLWJvd2VyLmdpdCIsCiAgIl90YXJnZXQiOiAifjAuMTEueCIsCiAgIl9vcmlnaW5hbFNvdXJjZSI6ICJhbmd1bGFyLWJvb3RzdHJhcCIKfQ==')
},
{
'name': '/app/bower_components/angular-mocks/angular-mocks.js', 'data': base64.b64decode('LyoqCiAqIEBsaWNlbnNlIEFuZ3VsYXJKUyB2MS4yLjE5CiAqIChjKSAyMDEwLTIwMTQgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnCiAqIExpY2Vuc2U6IE1JVAogKi8KKGZ1bmN0aW9uKHdpbmRvdywgYW5ndWxhciwgdW5kZWZpbmVkKSB7CgondXNlIHN0cmljdCc7CgovKioKICogQG5nZG9jIG9iamVjdAogKiBAbmFtZSBhbmd1bGFyLm1vY2sKICogQGRlc2NyaXB0aW9uCiAqCiAqIE5hbWVzcGFjZSBmcm9tICdhbmd1bGFyLW1vY2tzLmpzJyB3aGljaCBjb250YWlucyB0ZXN0aW5nIHJlbGF0ZWQgY29kZS4KICovCmFuZ3VsYXIubW9jayA9IHt9OwoKLyoqCiAqICEgVGhpcyBpcyBhIHByaXZhdGUgdW5kb2N1bWVudGVkIHNlcnZpY2UgIQogKgogKiBAbmFtZSAkYnJvd3NlcgogKgogKiBAZGVzY3JpcHRpb24KICogVGhpcyBzZXJ2aWNlIGlzIGEgbW9jayBpbXBsZW1lbnRhdGlvbiBvZiB7QGxpbmsgbmcuJGJyb3dzZXJ9LiBJdCBwcm92aWRlcyBmYWtlCiAqIGltcGxlbWVudGF0aW9uIGZvciBjb21tb25seSB1c2VkIGJyb3dzZXIgYXBpcyB0aGF0IGFyZSBoYXJkIHRvIHRlc3QsIGUuZy4gc2V0VGltZW91dCwgeGhyLAogKiBjb29raWVzLCBldGMuLi4KICoKICogVGhlIGFwaSBvZiB0aGlzIHNlcnZpY2UgaXMgdGhlIHNhbWUgYXMgdGhhdCBvZiB0aGUgcmVhbCB7QGxpbmsgbmcuJGJyb3dzZXIgJGJyb3dzZXJ9LCBleGNlcHQKICogdGhhdCB0aGVyZSBhcmUgc2V2ZXJhbCBoZWxwZXIgbWV0aG9kcyBhdmFpbGFibGUgd2hpY2ggY2FuIGJlIHVzZWQgaW4gdGVzdHMuCiAqLwphbmd1bGFyLm1vY2suJEJyb3dzZXJQcm92aWRlciA9IGZ1bmN0aW9uKCkgewogIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIG5ldyBhbmd1bGFyLm1vY2suJEJyb3dzZXIoKTsKICB9Owp9OwoKYW5ndWxhci5tb2NrLiRCcm93c2VyID0gZnVuY3Rpb24oKSB7CiAgdmFyIHNlbGYgPSB0aGlzOwoKICB0aGlzLmlzTW9jayA9IHRydWU7CiAgc2VsZi4kJHVybCA9ICJodHRwOi8vc2VydmVyLyI7CiAgc2VsZi4kJGxhc3RVcmwgPSBzZWxmLiQkdXJsOyAvLyB1c2VkIGJ5IHVybCBwb2xsaW5nIGZuCiAgc2VsZi5wb2xsRm5zID0gW107CgogIC8vIFRPRE8odm9qdGEpOiByZW1vdmUgdGhpcyB0ZW1wb3JhcnkgYXBpCiAgc2VsZi4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0ID0gYW5ndWxhci5ub29wOwogIHNlbGYuJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudCA9IGFuZ3VsYXIubm9vcDsKCgogIC8vIHJlZ2lzdGVyIHVybCBwb2xsaW5nIGZuCgogIHNlbGYub25VcmxDaGFuZ2UgPSBmdW5jdGlvbihsaXN0ZW5lcikgewogICAgc2VsZi5wb2xsRm5zLnB1c2goCiAgICAgIGZ1bmN0aW9uKCkgewogICAgICAgIGlmIChzZWxmLiQkbGFzdFVybCAhPSBzZWxmLiQkdXJsKSB7CiAgICAgICAgICBzZWxmLiQkbGFzdFVybCA9IHNlbGYuJCR1cmw7CiAgICAgICAgICBsaXN0ZW5lcihzZWxmLiQkdXJsKTsKICAgICAgICB9CiAgICAgIH0KICAgICk7CgogICAgcmV0dXJuIGxpc3RlbmVyOwogIH07CgogIHNlbGYuY29va2llSGFzaCA9IHt9OwogIHNlbGYubGFzdENvb2tpZUhhc2ggPSB7fTsKICBzZWxmLmRlZmVycmVkRm5zID0gW107CiAgc2VsZi5kZWZlcnJlZE5leHRJZCA9IDA7CgogIHNlbGYuZGVmZXIgPSBmdW5jdGlvbihmbiwgZGVsYXkpIHsKICAgIGRlbGF5ID0gZGVsYXkgfHwgMDsKICAgIHNlbGYuZGVmZXJyZWRGbnMucHVzaCh7dGltZTooc2VsZi5kZWZlci5ub3cgKyBkZWxheSksIGZuOmZuLCBpZDogc2VsZi5kZWZlcnJlZE5leHRJZH0pOwogICAgc2VsZi5kZWZlcnJlZEZucy5zb3J0KGZ1bmN0aW9uKGEsYil7IHJldHVybiBhLnRpbWUgLSBiLnRpbWU7fSk7CiAgICByZXR1cm4gc2VsZi5kZWZlcnJlZE5leHRJZCsrOwogIH07CgoKICAvKioKICAgKiBAbmFtZSAkYnJvd3NlciNkZWZlci5ub3cKICAgKgogICAqIEBkZXNjcmlwdGlvbgogICAqIEN1cnJlbnQgbWlsbGlzZWNvbmRzIG1vY2sgdGltZS4KICAgKi8KICBzZWxmLmRlZmVyLm5vdyA9IDA7CgoKICBzZWxmLmRlZmVyLmNhbmNlbCA9IGZ1bmN0aW9uKGRlZmVySWQpIHsKICAgIHZhciBmbkluZGV4OwoKICAgIGFuZ3VsYXIuZm9yRWFjaChzZWxmLmRlZmVycmVkRm5zLCBmdW5jdGlvbihmbiwgaW5kZXgpIHsKICAgICAgaWYgKGZuLmlkID09PSBkZWZlcklkKSBmbkluZGV4ID0gaW5kZXg7CiAgICB9KTsKCiAgICBpZiAoZm5JbmRleCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHNlbGYuZGVmZXJyZWRGbnMuc3BsaWNlKGZuSW5kZXgsIDEpOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfTsKCgogIC8qKgogICAqIEBuYW1lICRicm93c2VyI2RlZmVyLmZsdXNoCiAgICoKICAgKiBAZGVzY3JpcHRpb24KICAgKiBGbHVzaGVzIGFsbCBwZW5kaW5nIHJlcXVlc3RzIGFuZCBleGVjdXRlcyB0aGUgZGVmZXIgY2FsbGJhY2tzLgogICAqCiAgICogQHBhcmFtIHtudW1iZXI9fSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGZsdXNoLiBTZWUge0BsaW5rICNkZWZlci5ub3d9CiAgICovCiAgc2VsZi5kZWZlci5mbHVzaCA9IGZ1bmN0aW9uKGRlbGF5KSB7CiAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoZGVsYXkpKSB7CiAgICAgIHNlbGYuZGVmZXIubm93ICs9IGRlbGF5OwogICAgfSBlbHNlIHsKICAgICAgaWYgKHNlbGYuZGVmZXJyZWRGbnMubGVuZ3RoKSB7CiAgICAgICAgc2VsZi5kZWZlci5ub3cgPSBzZWxmLmRlZmVycmVkRm5zW3NlbGYuZGVmZXJyZWRGbnMubGVuZ3RoLTFdLnRpbWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBkZWZlcnJlZCB0YXNrcyB0byBiZSBmbHVzaGVkJyk7CiAgICAgIH0KICAgIH0KCiAgICB3aGlsZSAoc2VsZi5kZWZlcnJlZEZucy5sZW5ndGggJiYgc2VsZi5kZWZlcnJlZEZuc1swXS50aW1lIDw9IHNlbGYuZGVmZXIubm93KSB7CiAgICAgIHNlbGYuZGVmZXJyZWRGbnMuc2hpZnQoKS5mbigpOwogICAgfQogIH07CgogIHNlbGYuJCRiYXNlSHJlZiA9ICcnOwogIHNlbGYuYmFzZUhyZWYgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlzLiQkYmFzZUhyZWY7CiAgfTsKfTsKYW5ndWxhci5tb2NrLiRCcm93c2VyLnByb3RvdHlwZSA9IHsKCi8qKgogICogQG5hbWUgJGJyb3dzZXIjcG9sbAogICoKICAqIEBkZXNjcmlwdGlvbgogICogcnVuIGFsbCBmbnMgaW4gcG9sbEZucwogICovCiAgcG9sbDogZnVuY3Rpb24gcG9sbCgpIHsKICAgIGFuZ3VsYXIuZm9yRWFjaCh0aGlzLnBvbGxGbnMsIGZ1bmN0aW9uKHBvbGxGbil7CiAgICAgIHBvbGxGbigpOwogICAgfSk7CiAgfSwKCiAgYWRkUG9sbEZuOiBmdW5jdGlvbihwb2xsRm4pIHsKICAgIHRoaXMucG9sbEZucy5wdXNoKHBvbGxGbik7CiAgICByZXR1cm4gcG9sbEZuOwogIH0sCgogIHVybDogZnVuY3Rpb24odXJsLCByZXBsYWNlKSB7CiAgICBpZiAodXJsKSB7CiAgICAgIHRoaXMuJCR1cmwgPSB1cmw7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIHJldHVybiB0aGlzLiQkdXJsOwogIH0sCgogIGNvb2tpZXM6ICBmdW5jdGlvbihuYW1lLCB2YWx1ZSkgewogICAgaWYgKG5hbWUpIHsKICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQodmFsdWUpKSB7CiAgICAgICAgZGVsZXRlIHRoaXMuY29va2llSGFzaFtuYW1lXTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyh2YWx1ZSkgJiYgICAgICAgLy9zdHJpbmdzIG9ubHkKICAgICAgICAgICAgdmFsdWUubGVuZ3RoIDw9IDQwOTYpIHsgICAgICAgICAgLy9zdHJpY3QgY29va2llIHN0b3JhZ2UgbGltaXRzCiAgICAgICAgICB0aGlzLmNvb2tpZUhhc2hbbmFtZV0gPSB2YWx1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGlmICghYW5ndWxhci5lcXVhbHModGhpcy5jb29raWVIYXNoLCB0aGlzLmxhc3RDb29raWVIYXNoKSkgewogICAgICAgIHRoaXMubGFzdENvb2tpZUhhc2ggPSBhbmd1bGFyLmNvcHkodGhpcy5jb29raWVIYXNoKTsKICAgICAgICB0aGlzLmNvb2tpZUhhc2ggPSBhbmd1bGFyLmNvcHkodGhpcy5jb29raWVIYXNoKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5jb29raWVIYXNoOwogICAgfQogIH0sCgogIG5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHM6IGZ1bmN0aW9uKGZuKSB7CiAgICBmbigpOwogIH0KfTsKCgovKioKICogQG5nZG9jIHByb3ZpZGVyCiAqIEBuYW1lICRleGNlcHRpb25IYW5kbGVyUHJvdmlkZXIKICoKICogQGRlc2NyaXB0aW9uCiAqIENvbmZpZ3VyZXMgdGhlIG1vY2sgaW1wbGVtZW50YXRpb24gb2Yge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyfSB0byByZXRocm93IG9yIHRvIGxvZyBlcnJvcnMKICogcGFzc2VkIGludG8gdGhlIGAkZXhjZXB0aW9uSGFuZGxlcmAuCiAqLwoKLyoqCiAqIEBuZ2RvYyBzZXJ2aWNlCiAqIEBuYW1lICRleGNlcHRpb25IYW5kbGVyCiAqCiAqIEBkZXNjcmlwdGlvbgogKiBNb2NrIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlcn0gdGhhdCByZXRocm93cyBvciBsb2dzIGVycm9ycyBwYXNzZWQKICogaW50byBpdC4gU2VlIHtAbGluayBuZ01vY2suJGV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlciAkZXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyfSBmb3IgY29uZmlndXJhdGlvbgogKiBpbmZvcm1hdGlvbi4KICoKICoKICogYGBganMKICogICBkZXNjcmliZSgnJGV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlcicsIGZ1bmN0aW9uKCkgewogKgogKiAgICAgaXQoJ3Nob3VsZCBjYXB0dXJlIGxvZyBtZXNzYWdlcyBhbmQgZXhjZXB0aW9ucycsIGZ1bmN0aW9uKCkgewogKgogKiAgICAgICBtb2R1bGUoZnVuY3Rpb24oJGV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlcikgewogKiAgICAgICAgICRleGNlcHRpb25IYW5kbGVyUHJvdmlkZXIubW9kZSgnbG9nJyk7CiAqICAgICAgIH0pOwogKgogKiAgICAgICBpbmplY3QoZnVuY3Rpb24oJGxvZywgJGV4Y2VwdGlvbkhhbmRsZXIsICR0aW1lb3V0KSB7CiAqICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7ICRsb2cubG9nKDEpOyB9KTsKICogICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHsgJGxvZy5sb2coMik7IHRocm93ICdiYW5hbmEgcGVlbCc7IH0pOwogKiAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkgeyAkbG9nLmxvZygzKTsgfSk7CiAqICAgICAgICAgZXhwZWN0KCRleGNlcHRpb25IYW5kbGVyLmVycm9ycykudG9FcXVhbChbXSk7CiAqICAgICAgICAgZXhwZWN0KCRsb2cuYXNzZXJ0RW1wdHkoKSk7CiAqICAgICAgICAgJHRpbWVvdXQuZmx1c2goKTsKICogICAgICAgICBleHBlY3QoJGV4Y2VwdGlvbkhhbmRsZXIuZXJyb3JzKS50b0VxdWFsKFsnYmFuYW5hIHBlZWwnXSk7CiAqICAgICAgICAgZXhwZWN0KCRsb2cubG9nLmxvZ3MpLnRvRXF1YWwoW1sxXSwgWzJdLCBbM11dKTsKICogICAgICAgfSk7CiAqICAgICB9KTsKICogICB9KTsKICogYGBgCiAqLwoKYW5ndWxhci5tb2NrLiRFeGNlcHRpb25IYW5kbGVyUHJvdmlkZXIgPSBmdW5jdGlvbigpIHsKICB2YXIgaGFuZGxlcjsKCiAgLyoqCiAgICogQG5nZG9jIG1ldGhvZAogICAqIEBuYW1lICRleGNlcHRpb25IYW5kbGVyUHJvdmlkZXIjbW9kZQogICAqCiAgICogQGRlc2NyaXB0aW9uCiAgICogU2V0cyB0aGUgbG9nZ2luZyBtb2RlLgogICAqCiAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgTW9kZSBvZiBvcGVyYXRpb24sIGRlZmF1bHRzIHRvIGByZXRocm93YC4KICAgKgogICAqICAgLSBgcmV0aHJvd2A6IElmIGFueSBlcnJvcnMgYXJlIHBhc3NlZCBpbnRvIHRoZSBoYW5kbGVyIGluIHRlc3RzLCBpdCB0eXBpY2FsbHkKICAgKiAgICAgICAgICAgICAgICBtZWFucyB0aGF0IHRoZXJlIGlzIGEgYnVnIGluIHRoZSBhcHBsaWNhdGlvbiBvciB0ZXN0LCBzbyB0aGlzIG1vY2sgd2lsbAogICAqICAgICAgICAgICAgICAgIG1ha2UgdGhlc2UgdGVzdHMgZmFpbC4KICAgKiAgIC0gYGxvZ2A6IFNvbWV0aW1lcyBpdCBpcyBkZXNpcmFibGUgdG8gdGVzdCB0aGF0IGFuIGVycm9yIGlzIHRocm93biwgZm9yIHRoaXMgY2FzZSB0aGUgYGxvZ2AKICAgKiAgICAgICAgICAgIG1vZGUgc3RvcmVzIGFuIGFycmF5IG9mIGVycm9ycyBpbiBgJGV4Y2VwdGlvbkhhbmRsZXIuZXJyb3JzYCwgdG8gYWxsb3cgbGF0ZXIKICAgKiAgICAgICAgICAgIGFzc2VydGlvbiBvZiB0aGVtLiBTZWUge0BsaW5rIG5nTW9jay4kbG9nI2Fzc2VydEVtcHR5IGFzc2VydEVtcHR5KCl9IGFuZAogICAqICAgICAgICAgICAge0BsaW5rIG5nTW9jay4kbG9nI3Jlc2V0IHJlc2V0KCl9CiAgICovCiAgdGhpcy5tb2RlID0gZnVuY3Rpb24obW9kZSkgewogICAgc3dpdGNoKG1vZGUpIHsKICAgICAgY2FzZSAncmV0aHJvdyc6CiAgICAgICAgaGFuZGxlciA9IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgIHRocm93IGU7CiAgICAgICAgfTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnbG9nJzoKICAgICAgICB2YXIgZXJyb3JzID0gW107CgogICAgICAgIGhhbmRsZXIgPSBmdW5jdGlvbihlKSB7CiAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAgIGVycm9ycy5wdXNoKGUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZXJyb3JzLnB1c2goW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApKTsKICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBoYW5kbGVyLmVycm9ycyA9IGVycm9yczsKICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gbW9kZSAnIiArIG1vZGUgKyAiJywgb25seSAnbG9nJy8ncmV0aHJvdycgbW9kZXMgYXJlIGFsbG93ZWQhIik7CiAgICB9CiAgfTsKCiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gaGFuZGxlcjsKICB9OwoKICB0aGlzLm1vZGUoJ3JldGhyb3cnKTsKfTsKCgovKioKICogQG5nZG9jIHNlcnZpY2UKICogQG5hbWUgJGxvZwogKgogKiBAZGVzY3JpcHRpb24KICogTW9jayBpbXBsZW1lbnRhdGlvbiBvZiB7QGxpbmsgbmcuJGxvZ30gdGhhdCBnYXRoZXJzIGFsbCBsb2dnZWQgbWVzc2FnZXMgaW4gYXJyYXlzCiAqIChvbmUgYXJyYXkgcGVyIGxvZ2dpbmcgbGV2ZWwpLiBUaGVzZSBhcnJheXMgYXJlIGV4cG9zZWQgYXMgYGxvZ3NgIHByb3BlcnR5IG9mIGVhY2ggb2YgdGhlCiAqIGxldmVsLXNwZWNpZmljIGxvZyBmdW5jdGlvbiwgZS5nLiBmb3IgbGV2ZWwgYGVycm9yYCB0aGUgYXJyYXkgaXMgZXhwb3NlZCBhcyBgJGxvZy5lcnJvci5sb2dzYC4KICoKICovCmFuZ3VsYXIubW9jay4kTG9nUHJvdmlkZXIgPSBmdW5jdGlvbigpIHsKICB2YXIgZGVidWcgPSB0cnVlOwoKICBmdW5jdGlvbiBjb25jYXQoYXJyYXkxLCBhcnJheTIsIGluZGV4KSB7CiAgICByZXR1cm4gYXJyYXkxLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnJheTIsIGluZGV4KSk7CiAgfQoKICB0aGlzLmRlYnVnRW5hYmxlZCA9IGZ1bmN0aW9uKGZsYWcpIHsKICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChmbGFnKSkgewogICAgICBkZWJ1ZyA9IGZsYWc7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGRlYnVnOwogICAgfQogIH07CgogIHRoaXMuJGdldCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciAkbG9nID0gewogICAgICBsb2c6IGZ1bmN0aW9uKCkgeyAkbG9nLmxvZy5sb2dzLnB1c2goY29uY2F0KFtdLCBhcmd1bWVudHMsIDApKTsgfSwKICAgICAgd2FybjogZnVuY3Rpb24oKSB7ICRsb2cud2Fybi5sb2dzLnB1c2goY29uY2F0KFtdLCBhcmd1bWVudHMsIDApKTsgfSwKICAgICAgaW5mbzogZnVuY3Rpb24oKSB7ICRsb2cuaW5mby5sb2dzLnB1c2goY29uY2F0KFtdLCBhcmd1bWVudHMsIDApKTsgfSwKICAgICAgZXJyb3I6IGZ1bmN0aW9uKCkgeyAkbG9nLmVycm9yLmxvZ3MucHVzaChjb25jYXQoW10sIGFyZ3VtZW50cywgMCkpOyB9LAogICAgICBkZWJ1ZzogZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKGRlYnVnKSB7CiAgICAgICAgICAkbG9nLmRlYnVnLmxvZ3MucHVzaChjb25jYXQoW10sIGFyZ3VtZW50cywgMCkpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKCiAgICAvKioKICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAqIEBuYW1lICRsb2cjcmVzZXQKICAgICAqCiAgICAgKiBAZGVzY3JpcHRpb24KICAgICAqIFJlc2V0IGFsbCBvZiB0aGUgbG9nZ2luZyBhcnJheXMgdG8gZW1wdHkuCiAgICAgKi8KICAgICRsb2cucmVzZXQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIC8qKgogICAgICAgKiBAbmdkb2MgcHJvcGVydHkKICAgICAgICogQG5hbWUgJGxvZyNsb2cubG9ncwogICAgICAgKgogICAgICAgKiBAZGVzY3JpcHRpb24KICAgICAgICogQXJyYXkgb2YgbWVzc2FnZXMgbG9nZ2VkIHVzaW5nIHtAbGluayBuZ01vY2suJGxvZyNsb2d9LgogICAgICAgKgogICAgICAgKiBAZXhhbXBsZQogICAgICAgKiBgYGBqcwogICAgICAgKiAkbG9nLmxvZygnU29tZSBMb2cnKTsKICAgICAgICogdmFyIGZpcnN0ID0gJGxvZy5sb2cubG9ncy51bnNoaWZ0KCk7CiAgICAgICAqIGBgYAogICAgICAgKi8KICAgICAgJGxvZy5sb2cubG9ncyA9IFtdOwogICAgICAvKioKICAgICAgICogQG5nZG9jIHByb3BlcnR5CiAgICAgICAqIEBuYW1lICRsb2cjaW5mby5sb2dzCiAgICAgICAqCiAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgKiBBcnJheSBvZiBtZXNzYWdlcyBsb2dnZWQgdXNpbmcge0BsaW5rIG5nTW9jay4kbG9nI2luZm99LgogICAgICAgKgogICAgICAgKiBAZXhhbXBsZQogICAgICAgKiBgYGBqcwogICAgICAgKiAkbG9nLmluZm8oJ1NvbWUgSW5mbycpOwogICAgICAgKiB2YXIgZmlyc3QgPSAkbG9nLmluZm8ubG9ncy51bnNoaWZ0KCk7CiAgICAgICAqIGBgYAogICAgICAgKi8KICAgICAgJGxvZy5pbmZvLmxvZ3MgPSBbXTsKICAgICAgLyoqCiAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eQogICAgICAgKiBAbmFtZSAkbG9nI3dhcm4ubG9ncwogICAgICAgKgogICAgICAgKiBAZGVzY3JpcHRpb24KICAgICAgICogQXJyYXkgb2YgbWVzc2FnZXMgbG9nZ2VkIHVzaW5nIHtAbGluayBuZ01vY2suJGxvZyN3YXJufS4KICAgICAgICoKICAgICAgICogQGV4YW1wbGUKICAgICAgICogYGBganMKICAgICAgICogJGxvZy53YXJuKCdTb21lIFdhcm5pbmcnKTsKICAgICAgICogdmFyIGZpcnN0ID0gJGxvZy53YXJuLmxvZ3MudW5zaGlmdCgpOwogICAgICAgKiBgYGAKICAgICAgICovCiAgICAgICRsb2cud2Fybi5sb2dzID0gW107CiAgICAgIC8qKgogICAgICAgKiBAbmdkb2MgcHJvcGVydHkKICAgICAgICogQG5hbWUgJGxvZyNlcnJvci5sb2dzCiAgICAgICAqCiAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgKiBBcnJheSBvZiBtZXNzYWdlcyBsb2dnZWQgdXNpbmcge0BsaW5rIG5nTW9jay4kbG9nI2Vycm9yfS4KICAgICAgICoKICAgICAgICogQGV4YW1wbGUKICAgICAgICogYGBganMKICAgICAgICogJGxvZy5lcnJvcignU29tZSBFcnJvcicpOwogICAgICAgKiB2YXIgZmlyc3QgPSAkbG9nLmVycm9yLmxvZ3MudW5zaGlmdCgpOwogICAgICAgKiBgYGAKICAgICAgICovCiAgICAgICRsb2cuZXJyb3IubG9ncyA9IFtdOwogICAgICAgIC8qKgogICAgICAgKiBAbmdkb2MgcHJvcGVydHkKICAgICAgICogQG5hbWUgJGxvZyNkZWJ1Zy5sb2dzCiAgICAgICAqCiAgICAgICAqIEBkZXNjcmlwdGlvbgogICAgICAgKiBBcnJheSBvZiBtZXNzYWdlcyBsb2dnZWQgdXNpbmcge0BsaW5rIG5nTW9jay4kbG9nI2RlYnVnfS4KICAgICAgICoKICAgICAgICogQGV4YW1wbGUKICAgICAgICogYGBganMKICAgICAgICogJGxvZy5kZWJ1ZygnU29tZSBFcnJvcicpOwogICAgICAgKiB2YXIgZmlyc3QgPSAkbG9nLmRlYnVnLmxvZ3MudW5zaGlmdCgpOwogICAgICAgKiBgYGAKICAgICAgICovCiAgICAgICRsb2cuZGVidWcubG9ncyA9IFtdOwogICAgfTsKCiAgICAvKioKICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAqIEBuYW1lICRsb2cjYXNzZXJ0RW1wdHkKICAgICAqCiAgICAgKiBAZGVzY3JpcHRpb24KICAgICAqIEFzc2VydCB0aGF0IHRoZSBhbGwgb2YgdGhlIGxvZ2dpbmcgbWV0aG9kcyBoYXZlIG5vIGxvZ2dlZCBtZXNzYWdlcy4gSWYgbWVzc2FnZXMgcHJlc2VudCwgYW4KICAgICAqIGV4Y2VwdGlvbiBpcyB0aHJvd24uCiAgICAgKi8KICAgICRsb2cuYXNzZXJ0RW1wdHkgPSBmdW5jdGlvbigpIHsKICAgICAgdmFyIGVycm9ycyA9IFtdOwogICAgICBhbmd1bGFyLmZvckVhY2goWydlcnJvcicsICd3YXJuJywgJ2luZm8nLCAnbG9nJywgJ2RlYnVnJ10sIGZ1bmN0aW9uKGxvZ0xldmVsKSB7CiAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRsb2dbbG9nTGV2ZWxdLmxvZ3MsIGZ1bmN0aW9uKGxvZykgewogICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGxvZywgZnVuY3Rpb24gKGxvZ0l0ZW0pIHsKICAgICAgICAgICAgZXJyb3JzLnB1c2goJ01PQ0sgJGxvZyAoJyArIGxvZ0xldmVsICsgJyk6ICcgKyBTdHJpbmcobG9nSXRlbSkgKyAnXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgKGxvZ0l0ZW0uc3RhY2sgfHwgJycpKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgaWYgKGVycm9ycy5sZW5ndGgpIHsKICAgICAgICBlcnJvcnMudW5zaGlmdCgiRXhwZWN0ZWQgJGxvZyB0byBiZSBlbXB0eSEgRWl0aGVyIGEgbWVzc2FnZSB3YXMgbG9nZ2VkIHVuZXhwZWN0ZWRseSwgb3IgIisKICAgICAgICAgICJhbiBleHBlY3RlZCBsb2cgbWVzc2FnZSB3YXMgbm90IGNoZWNrZWQgYW5kIHJlbW92ZWQ6Iik7CiAgICAgICAgZXJyb3JzLnB1c2goJycpOwogICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcnMuam9pbignXG4tLS0tLS0tLS1cbicpKTsKICAgICAgfQogICAgfTsKCiAgICAkbG9nLnJlc2V0KCk7CiAgICByZXR1cm4gJGxvZzsKICB9Owp9OwoKCi8qKgogKiBAbmdkb2Mgc2VydmljZQogKiBAbmFtZSAkaW50ZXJ2YWwKICoKICogQGRlc2NyaXB0aW9uCiAqIE1vY2sgaW1wbGVtZW50YXRpb24gb2YgdGhlICRpbnRlcnZhbCBzZXJ2aWNlLgogKgogKiBVc2Uge0BsaW5rIG5nTW9jay4kaW50ZXJ2YWwjZmx1c2ggYCRpbnRlcnZhbC5mbHVzaChtaWxsaXMpYH0gdG8KICogbW92ZSBmb3J3YXJkIGJ5IGBtaWxsaXNgIG1pbGxpc2Vjb25kcyBhbmQgdHJpZ2dlciBhbnkgZnVuY3Rpb25zIHNjaGVkdWxlZCB0byBydW4gaW4gdGhhdAogKiB0aW1lLgogKgogKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGZuIEEgZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgY2FsbGVkIHJlcGVhdGVkbHkuCiAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheSBOdW1iZXIgb2YgbWlsbGlzZWNvbmRzIGJldHdlZW4gZWFjaCBmdW5jdGlvbiBjYWxsLgogKiBAcGFyYW0ge251bWJlcj19IFtjb3VudD0wXSBOdW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0LiBJZiBub3Qgc2V0LCBvciAwLCB3aWxsIHJlcGVhdAogKiAgIGluZGVmaW5pdGVseS4KICogQHBhcmFtIHtib29sZWFuPX0gW2ludm9rZUFwcGx5PXRydWVdIElmIHNldCB0byBgZmFsc2VgIHNraXBzIG1vZGVsIGRpcnR5IGNoZWNraW5nLCBvdGhlcndpc2UKICogICB3aWxsIGludm9rZSBgZm5gIHdpdGhpbiB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGFwcGx5ICRhcHBseX0gYmxvY2suCiAqIEByZXR1cm5zIHtwcm9taXNlfSBBIHByb21pc2Ugd2hpY2ggd2lsbCBiZSBub3RpZmllZCBvbiBlYWNoIGl0ZXJhdGlvbi4KICovCmFuZ3VsYXIubW9jay4kSW50ZXJ2YWxQcm92aWRlciA9IGZ1bmN0aW9uKCkgewogIHRoaXMuJGdldCA9IFsnJHJvb3RTY29wZScsICckcScsCiAgICAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCAgICRxKSB7CiAgICB2YXIgcmVwZWF0Rm5zID0gW10sCiAgICAgICAgbmV4dFJlcGVhdElkID0gMCwKICAgICAgICBub3cgPSAwOwoKICAgIHZhciAkaW50ZXJ2YWwgPSBmdW5jdGlvbihmbiwgZGVsYXksIGNvdW50LCBpbnZva2VBcHBseSkgewogICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpLAogICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2UsCiAgICAgICAgICBpdGVyYXRpb24gPSAwLAogICAgICAgICAgc2tpcEFwcGx5ID0gKGFuZ3VsYXIuaXNEZWZpbmVkKGludm9rZUFwcGx5KSAmJiAhaW52b2tlQXBwbHkpOwoKICAgICAgY291bnQgPSAoYW5ndWxhci5pc0RlZmluZWQoY291bnQpKSA/IGNvdW50IDogMDsKICAgICAgcHJvbWlzZS50aGVuKG51bGwsIG51bGwsIGZuKTsKCiAgICAgIHByb21pc2UuJCRpbnRlcnZhbElkID0gbmV4dFJlcGVhdElkOwoKICAgICAgZnVuY3Rpb24gdGljaygpIHsKICAgICAgICBkZWZlcnJlZC5ub3RpZnkoaXRlcmF0aW9uKyspOwoKICAgICAgICBpZiAoY291bnQgPiAwICYmIGl0ZXJhdGlvbiA+PSBjb3VudCkgewogICAgICAgICAgdmFyIGZuSW5kZXg7CiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGl0ZXJhdGlvbik7CgogICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHJlcGVhdEZucywgZnVuY3Rpb24oZm4sIGluZGV4KSB7CiAgICAgICAgICAgIGlmIChmbi5pZCA9PT0gcHJvbWlzZS4kJGludGVydmFsSWQpIGZuSW5kZXggPSBpbmRleDsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGlmIChmbkluZGV4ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgcmVwZWF0Rm5zLnNwbGljZShmbkluZGV4LCAxKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICghc2tpcEFwcGx5KSAkcm9vdFNjb3BlLiRhcHBseSgpOwogICAgICB9CgogICAgICByZXBlYXRGbnMucHVzaCh7CiAgICAgICAgbmV4dFRpbWU6KG5vdyArIGRlbGF5KSwKICAgICAgICBkZWxheTogZGVsYXksCiAgICAgICAgZm46IHRpY2ssCiAgICAgICAgaWQ6IG5leHRSZXBlYXRJZCwKICAgICAgICBkZWZlcnJlZDogZGVmZXJyZWQKICAgICAgfSk7CiAgICAgIHJlcGVhdEZucy5zb3J0KGZ1bmN0aW9uKGEsYil7IHJldHVybiBhLm5leHRUaW1lIC0gYi5uZXh0VGltZTt9KTsKCiAgICAgIG5leHRSZXBlYXRJZCsrOwogICAgICByZXR1cm4gcHJvbWlzZTsKICAgIH07CiAgICAvKioKICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAqIEBuYW1lICRpbnRlcnZhbCNjYW5jZWwKICAgICAqCiAgICAgKiBAZGVzY3JpcHRpb24KICAgICAqIENhbmNlbHMgYSB0YXNrIGFzc29jaWF0ZWQgd2l0aCB0aGUgYHByb21pc2VgLgogICAgICoKICAgICAqIEBwYXJhbSB7cHJvbWlzZX0gcHJvbWlzZSBBIHByb21pc2UgZnJvbSBjYWxsaW5nIHRoZSBgJGludGVydmFsYCBmdW5jdGlvbi4KICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdGFzayB3YXMgc3VjY2Vzc2Z1bGx5IGNhbmNlbGxlZC4KICAgICAqLwogICAgJGludGVydmFsLmNhbmNlbCA9IGZ1bmN0aW9uKHByb21pc2UpIHsKICAgICAgaWYoIXByb21pc2UpIHJldHVybiBmYWxzZTsKICAgICAgdmFyIGZuSW5kZXg7CgogICAgICBhbmd1bGFyLmZvckVhY2gocmVwZWF0Rm5zLCBmdW5jdGlvbihmbiwgaW5kZXgpIHsKICAgICAgICBpZiAoZm4uaWQgPT09IHByb21pc2UuJCRpbnRlcnZhbElkKSBmbkluZGV4ID0gaW5kZXg7CiAgICAgIH0pOwoKICAgICAgaWYgKGZuSW5kZXggIT09IHVuZGVmaW5lZCkgewogICAgICAgIHJlcGVhdEZuc1tmbkluZGV4XS5kZWZlcnJlZC5yZWplY3QoJ2NhbmNlbGVkJyk7CiAgICAgICAgcmVwZWF0Rm5zLnNwbGljZShmbkluZGV4LCAxKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKCiAgICAvKioKICAgICAqIEBuZ2RvYyBtZXRob2QKICAgICAqIEBuYW1lICRpbnRlcnZhbCNmbHVzaAogICAgICogQGRlc2NyaXB0aW9uCiAgICAgKgogICAgICogUnVucyBpbnRlcnZhbCB0YXNrcyBzY2hlZHVsZWQgdG8gYmUgcnVuIGluIHRoZSBuZXh0IGBtaWxsaXNgIG1pbGxpc2Vjb25kcy4KICAgICAqCiAgICAgKiBAcGFyYW0ge251bWJlcj19IG1pbGxpcyBtYXhpbXVtIHRpbWVvdXQgYW1vdW50IHRvIGZsdXNoIHVwIHVudGlsLgogICAgICoKICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGFtb3VudCBvZiB0aW1lIG1vdmVkIGZvcndhcmQuCiAgICAgKi8KICAgICRpbnRlcnZhbC5mbHVzaCA9IGZ1bmN0aW9uKG1pbGxpcykgewogICAgICBub3cgKz0gbWlsbGlzOwogICAgICB3aGlsZSAocmVwZWF0Rm5zLmxlbmd0aCAmJiByZXBlYXRGbnNbMF0ubmV4dFRpbWUgPD0gbm93KSB7CiAgICAgICAgdmFyIHRhc2sgPSByZXBlYXRGbnNbMF07CiAgICAgICAgdGFzay5mbigpOwogICAgICAgIHRhc2submV4dFRpbWUgKz0gdGFzay5kZWxheTsKICAgICAgICByZXBlYXRGbnMuc29ydChmdW5jdGlvbihhLGIpeyByZXR1cm4gYS5uZXh0VGltZSAtIGIubmV4dFRpbWU7fSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG1pbGxpczsKICAgIH07CgogICAgcmV0dXJuICRpbnRlcnZhbDsKICB9XTsKfTsKCgovKiBqc2hpbnQgLVcxMDEgKi8KLyogVGhlIFJfSVNPODA2MV9TVFIgcmVnZXggaXMgbmV2ZXIgZ29pbmcgdG8gZml0IGludG8gdGhlIDEwMCBjaGFyIGxpbWl0IQogKiBUaGlzIGRpcmVjdGl2ZSBzaG91bGQgZ28gaW5zaWRlIHRoZSBhbm9ueW1vdXMgZnVuY3Rpb24gYnV0IGEgYnVnIGluIEpTSGludCBtZWFucyB0aGF0IGl0IHdvdWxkCiAqIG5vdCBiZSBlbmFjdGVkIGVhcmx5IGVub3VnaCB0byBwcmV2ZW50IHRoZSB3YXJuaW5nLgogKi8KdmFyIFJfSVNPODA2MV9TVFIgPSAvXihcZHs0fSktPyhcZFxkKS0/KFxkXGQpKD86VChcZFxkKSg/Olw6PyhcZFxkKSg/Olw6PyhcZFxkKSg/OlwuKFxkezN9KSk/KT8pPyhafChbKy1dKShcZFxkKTo/KFxkXGQpKSk/JC87CgpmdW5jdGlvbiBqc29uU3RyaW5nVG9EYXRlKHN0cmluZykgewogIHZhciBtYXRjaDsKICBpZiAobWF0Y2ggPSBzdHJpbmcubWF0Y2goUl9JU084MDYxX1NUUikpIHsKICAgIHZhciBkYXRlID0gbmV3IERhdGUoMCksCiAgICAgICAgdHpIb3VyID0gMCwKICAgICAgICB0ek1pbiAgPSAwOwogICAgaWYgKG1hdGNoWzldKSB7CiAgICAgIHR6SG91ciA9IGludChtYXRjaFs5XSArIG1hdGNoWzEwXSk7CiAgICAgIHR6TWluID0gaW50KG1hdGNoWzldICsgbWF0Y2hbMTFdKTsKICAgIH0KICAgIGRhdGUuc2V0VVRDRnVsbFllYXIoaW50KG1hdGNoWzFdKSwgaW50KG1hdGNoWzJdKSAtIDEsIGludChtYXRjaFszXSkpOwogICAgZGF0ZS5zZXRVVENIb3VycyhpbnQobWF0Y2hbNF18fDApIC0gdHpIb3VyLAogICAgICAgICAgICAgICAgICAgICBpbnQobWF0Y2hbNV18fDApIC0gdHpNaW4sCiAgICAgICAgICAgICAgICAgICAgIGludChtYXRjaFs2XXx8MCksCiAgICAgICAgICAgICAgICAgICAgIGludChtYXRjaFs3XXx8MCkpOwogICAgcmV0dXJuIGRhdGU7CiAgfQogIHJldHVybiBzdHJpbmc7Cn0KCmZ1bmN0aW9uIGludChzdHIpIHsKICByZXR1cm4gcGFyc2VJbnQoc3RyLCAxMCk7Cn0KCmZ1bmN0aW9uIHBhZE51bWJlcihudW0sIGRpZ2l0cywgdHJpbSkgewogIHZhciBuZWcgPSAnJzsKICBpZiAobnVtIDwgMCkgewogICAgbmVnID0gICctJzsKICAgIG51bSA9IC1udW07CiAgfQogIG51bSA9ICcnICsgbnVtOwogIHdoaWxlKG51bS5sZW5ndGggPCBkaWdpdHMpIG51bSA9ICcwJyArIG51bTsKICBpZiAodHJpbSkKICAgIG51bSA9IG51bS5zdWJzdHIobnVtLmxlbmd0aCAtIGRpZ2l0cyk7CiAgcmV0dXJuIG5lZyArIG51bTsKfQoKCi8qKgogKiBAbmdkb2MgdHlwZQogKiBAbmFtZSBhbmd1bGFyLm1vY2suVHpEYXRlCiAqIEBkZXNjcmlwdGlvbgogKgogKiAqTk9URSo6IHRoaXMgaXMgbm90IGFuIGluamVjdGFibGUgaW5zdGFuY2UsIGp1c3QgYSBnbG9iYWxseSBhdmFpbGFibGUgbW9jayBjbGFzcyBvZiBgRGF0ZWAuCiAqCiAqIE1vY2sgb2YgdGhlIERhdGUgdHlwZSB3aGljaCBoYXMgaXRzIHRpbWV6b25lIHNwZWNpZmllZCB2aWEgY29uc3RydWN0b3IgYXJnLgogKgogKiBUaGUgbWFpbiBwdXJwb3NlIGlzIHRvIGNyZWF0ZSBEYXRlLWxpa2UgaW5zdGFuY2VzIHdpdGggdGltZXpvbmUgZml4ZWQgdG8gdGhlIHNwZWNpZmllZCB0aW1lem9uZQogKiBvZmZzZXQsIHNvIHRoYXQgd2UgY2FuIHRlc3QgY29kZSB0aGF0IGRlcGVuZHMgb24gbG9jYWwgdGltZXpvbmUgc2V0dGluZ3Mgd2l0aG91dCBkZXBlbmRlbmN5IG9uCiAqIHRoZSB0aW1lIHpvbmUgc2V0dGluZ3Mgb2YgdGhlIG1hY2hpbmUgd2hlcmUgdGhlIGNvZGUgaXMgcnVubmluZy4KICoKICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQgb2YgdGhlICpkZXNpcmVkKiB0aW1lem9uZSBpbiBob3VycyAoZnJhY3Rpb25zIHdpbGwgYmUgaG9ub3JlZCkKICogQHBhcmFtIHsobnVtYmVyfHN0cmluZyl9IHRpbWVzdGFtcCBUaW1lc3RhbXAgcmVwcmVzZW50aW5nIHRoZSBkZXNpcmVkIHRpbWUgaW4gKlVUQyoKICoKICogQGV4YW1wbGUKICogISEhISBXQVJOSU5HICEhISEhCiAqIFRoaXMgaXMgbm90IGEgY29tcGxldGUgRGF0ZSBvYmplY3Qgc28gb25seSBtZXRob2RzIHRoYXQgd2VyZSBpbXBsZW1lbnRlZCBjYW4gYmUgY2FsbGVkIHNhZmVseS4KICogVG8gbWFrZSBtYXR0ZXJzIHdvcnNlLCBUekRhdGUgaW5zdGFuY2VzIGluaGVyaXQgc3R1ZmYgZnJvbSBEYXRlIHZpYSBhIHByb3RvdHlwZS4KICoKICogV2UgZG8gb3VyIGJlc3QgdG8gaW50ZXJjZXB0IGNhbGxzIHRvICJ1bmltcGxlbWVudGVkIiBtZXRob2RzLCBidXQgc2luY2UgdGhlIGxpc3Qgb2YgbWV0aG9kcyBpcwogKiBpbmNvbXBsZXRlIHdlIG1pZ2h0IGJlIG1pc3Npbmcgc29tZSBub24tc3RhbmRhcmQgbWV0aG9kcy4gVGhpcyBjYW4gcmVzdWx0IGluIGVycm9ycyBsaWtlOgogKiAiRGF0ZS5wcm90b3R5cGUuZm9vIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgT2JqZWN0Ii4KICoKICogYGBganMKICogdmFyIG5ld1llYXJJbkJyYXRpc2xhdmEgPSBuZXcgVHpEYXRlKC0xLCAnMjAwOS0xMi0zMVQyMzowMDowMFonKTsKICogbmV3WWVhckluQnJhdGlzbGF2YS5nZXRUaW1lem9uZU9mZnNldCgpID0+IC02MDsKICogbmV3WWVhckluQnJhdGlzbGF2YS5nZXRGdWxsWWVhcigpID0+IDIwMTA7CiAqIG5ld1llYXJJbkJyYXRpc2xhdmEuZ2V0TW9udGgoKSA9PiAwOwogKiBuZXdZZWFySW5CcmF0aXNsYXZhLmdldERhdGUoKSA9PiAxOwogKiBuZXdZZWFySW5CcmF0aXNsYXZhLmdldEhvdXJzKCkgPT4gMDsKICogbmV3WWVhckluQnJhdGlzbGF2YS5nZXRNaW51dGVzKCkgPT4gMDsKICogbmV3WWVhckluQnJhdGlzbGF2YS5nZXRTZWNvbmRzKCkgPT4gMDsKICogYGBgCiAqCiAqLwphbmd1bGFyLm1vY2suVHpEYXRlID0gZnVuY3Rpb24gKG9mZnNldCwgdGltZXN0YW1wKSB7CiAgdmFyIHNlbGYgPSBuZXcgRGF0ZSgwKTsKICBpZiAoYW5ndWxhci5pc1N0cmluZyh0aW1lc3RhbXApKSB7CiAgICB2YXIgdHNTdHIgPSB0aW1lc3RhbXA7CgogICAgc2VsZi5vcmlnRGF0ZSA9IGpzb25TdHJpbmdUb0RhdGUodGltZXN0YW1wKTsKCiAgICB0aW1lc3RhbXAgPSBzZWxmLm9yaWdEYXRlLmdldFRpbWUoKTsKICAgIGlmIChpc05hTih0aW1lc3RhbXApKQogICAgICB0aHJvdyB7CiAgICAgICAgbmFtZTogIklsbGVnYWwgQXJndW1lbnQiLAogICAgICAgIG1lc3NhZ2U6ICJBcmcgJyIgKyB0c1N0ciArICInIHBhc3NlZCBpbnRvIFR6RGF0ZSBjb25zdHJ1Y3RvciBpcyBub3QgYSB2YWxpZCBkYXRlIHN0cmluZyIKICAgICAgfTsKICB9IGVsc2UgewogICAgc2VsZi5vcmlnRGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcCk7CiAgfQoKICB2YXIgbG9jYWxPZmZzZXQgPSBuZXcgRGF0ZSh0aW1lc3RhbXApLmdldFRpbWV6b25lT2Zmc2V0KCk7CiAgc2VsZi5vZmZzZXREaWZmID0gbG9jYWxPZmZzZXQqNjAqMTAwMCAtIG9mZnNldCoxMDAwKjYwKjYwOwogIHNlbGYuZGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcCArIHNlbGYub2Zmc2V0RGlmZik7CgogIHNlbGYuZ2V0VGltZSA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHNlbGYuZGF0ZS5nZXRUaW1lKCkgLSBzZWxmLm9mZnNldERpZmY7CiAgfTsKCiAgc2VsZi50b0xvY2FsZURhdGVTdHJpbmcgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiBzZWxmLmRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCk7CiAgfTsKCiAgc2VsZi5nZXRGdWxsWWVhciA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHNlbGYuZGF0ZS5nZXRGdWxsWWVhcigpOwogIH07CgogIHNlbGYuZ2V0TW9udGggPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiBzZWxmLmRhdGUuZ2V0TW9udGgoKTsKICB9OwoKICBzZWxmLmdldERhdGUgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiBzZWxmLmRhdGUuZ2V0RGF0ZSgpOwogIH07CgogIHNlbGYuZ2V0SG91cnMgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiBzZWxmLmRhdGUuZ2V0SG91cnMoKTsKICB9OwoKICBzZWxmLmdldE1pbnV0ZXMgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiBzZWxmLmRhdGUuZ2V0TWludXRlcygpOwogIH07CgogIHNlbGYuZ2V0U2Vjb25kcyA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHNlbGYuZGF0ZS5nZXRTZWNvbmRzKCk7CiAgfTsKCiAgc2VsZi5nZXRNaWxsaXNlY29uZHMgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiBzZWxmLmRhdGUuZ2V0TWlsbGlzZWNvbmRzKCk7CiAgfTsKCiAgc2VsZi5nZXRUaW1lem9uZU9mZnNldCA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIG9mZnNldCAqIDYwOwogIH07CgogIHNlbGYuZ2V0VVRDRnVsbFllYXIgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiBzZWxmLm9yaWdEYXRlLmdldFVUQ0Z1bGxZZWFyKCk7CiAgfTsKCiAgc2VsZi5nZXRVVENNb250aCA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHNlbGYub3JpZ0RhdGUuZ2V0VVRDTW9udGgoKTsKICB9OwoKICBzZWxmLmdldFVUQ0RhdGUgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiBzZWxmLm9yaWdEYXRlLmdldFVUQ0RhdGUoKTsKICB9OwoKICBzZWxmLmdldFVUQ0hvdXJzID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gc2VsZi5vcmlnRGF0ZS5nZXRVVENIb3VycygpOwogIH07CgogIHNlbGYuZ2V0VVRDTWludXRlcyA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHNlbGYub3JpZ0RhdGUuZ2V0VVRDTWludXRlcygpOwogIH07CgogIHNlbGYuZ2V0VVRDU2Vjb25kcyA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHNlbGYub3JpZ0RhdGUuZ2V0VVRDU2Vjb25kcygpOwogIH07CgogIHNlbGYuZ2V0VVRDTWlsbGlzZWNvbmRzID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gc2VsZi5vcmlnRGF0ZS5nZXRVVENNaWxsaXNlY29uZHMoKTsKICB9OwoKICBzZWxmLmdldERheSA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHNlbGYuZGF0ZS5nZXREYXkoKTsKICB9OwoKICAvLyBwcm92aWRlIHRoaXMgbWV0aG9kIG9ubHkgb24gYnJvd3NlcnMgdGhhdCBhbHJlYWR5IGhhdmUgaXQKICBpZiAoc2VsZi50b0lTT1N0cmluZykgewogICAgc2VsZi50b0lTT1N0cmluZyA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gcGFkTnVtYmVyKHNlbGYub3JpZ0RhdGUuZ2V0VVRDRnVsbFllYXIoKSwgNCkgKyAnLScgKwogICAgICAgICAgICBwYWROdW1iZXIoc2VsZi5vcmlnRGF0ZS5nZXRVVENNb250aCgpICsgMSwgMikgKyAnLScgKwogICAgICAgICAgICBwYWROdW1iZXIoc2VsZi5vcmlnRGF0ZS5nZXRVVENEYXRlKCksIDIpICsgJ1QnICsKICAgICAgICAgICAgcGFkTnVtYmVyKHNlbGYub3JpZ0RhdGUuZ2V0VVRDSG91cnMoKSwgMikgKyAnOicgKwogICAgICAgICAgICBwYWROdW1iZXIoc2VsZi5vcmlnRGF0ZS5nZXRVVENNaW51dGVzKCksIDIpICsgJzonICsKICAgICAgICAgICAgcGFkTnVtYmVyKHNlbGYub3JpZ0RhdGUuZ2V0VVRDU2Vjb25kcygpLCAyKSArICcuJyArCiAgICAgICAgICAgIHBhZE51bWJlcihzZWxmLm9yaWdEYXRlLmdldFVUQ01pbGxpc2Vjb25kcygpLCAzKSArICdaJzsKICAgIH07CiAgfQoKICAvL2hpZGUgYWxsIG1ldGhvZHMgbm90IGltcGxlbWVudGVkIGluIHRoaXMgbW9jayB0aGF0IHRoZSBEYXRlIHByb3RvdHlwZSBleHBvc2VzCiAgdmFyIHVuaW1wbGVtZW50ZWRNZXRob2RzID0gWydnZXRVVENEYXknLAogICAgICAnZ2V0WWVhcicsICdzZXREYXRlJywgJ3NldEZ1bGxZZWFyJywgJ3NldEhvdXJzJywgJ3NldE1pbGxpc2Vjb25kcycsCiAgICAgICdzZXRNaW51dGVzJywgJ3NldE1vbnRoJywgJ3NldFNlY29uZHMnLCAnc2V0VGltZScsICdzZXRVVENEYXRlJywgJ3NldFVUQ0Z1bGxZZWFyJywKICAgICAgJ3NldFVUQ0hvdXJzJywgJ3NldFVUQ01pbGxpc2Vjb25kcycsICdzZXRVVENNaW51dGVzJywgJ3NldFVUQ01vbnRoJywgJ3NldFVUQ1NlY29uZHMnLAogICAgICAnc2V0WWVhcicsICd0b0RhdGVTdHJpbmcnLCAndG9HTVRTdHJpbmcnLCAndG9KU09OJywgJ3RvTG9jYWxlRm9ybWF0JywgJ3RvTG9jYWxlU3RyaW5nJywKICAgICAgJ3RvTG9jYWxlVGltZVN0cmluZycsICd0b1NvdXJjZScsICd0b1N0cmluZycsICd0b1RpbWVTdHJpbmcnLCAndG9VVENTdHJpbmcnLCAndmFsdWVPZiddOwoKICBhbmd1bGFyLmZvckVhY2godW5pbXBsZW1lbnRlZE1ldGhvZHMsIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHsKICAgIHNlbGZbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJNZXRob2QgJyIgKyBtZXRob2ROYW1lICsgIicgaXMgbm90IGltcGxlbWVudGVkIGluIHRoZSBUekRhdGUgbW9jayIpOwogICAgfTsKICB9KTsKCiAgcmV0dXJuIHNlbGY7Cn07CgovL21ha2UgInR6RGF0ZUluc3RhbmNlIGluc3RhbmNlb2YgRGF0ZSIgcmV0dXJuIHRydWUKYW5ndWxhci5tb2NrLlR6RGF0ZS5wcm90b3R5cGUgPSBEYXRlLnByb3RvdHlwZTsKLyoganNoaW50ICtXMTAxICovCgphbmd1bGFyLm1vY2suYW5pbWF0ZSA9IGFuZ3VsYXIubW9kdWxlKCduZ0FuaW1hdGVNb2NrJywgWyduZyddKQoKICAuY29uZmlnKFsnJHByb3ZpZGUnLCBmdW5jdGlvbigkcHJvdmlkZSkgewoKICAgIHZhciByZWZsb3dRdWV1ZSA9IFtdOwogICAgJHByb3ZpZGUudmFsdWUoJyQkYW5pbWF0ZVJlZmxvdycsIGZ1bmN0aW9uKGZuKSB7CiAgICAgIHZhciBpbmRleCA9IHJlZmxvd1F1ZXVlLmxlbmd0aDsKICAgICAgcmVmbG93UXVldWUucHVzaChmbik7CiAgICAgIHJldHVybiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgICAgcmVmbG93UXVldWUuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgfTsKICAgIH0pOwoKICAgICRwcm92aWRlLmRlY29yYXRvcignJGFuaW1hdGUnLCBmdW5jdGlvbigkZGVsZWdhdGUsICQkYXN5bmNDYWxsYmFjaykgewogICAgICB2YXIgYW5pbWF0ZSA9IHsKICAgICAgICBxdWV1ZSA6IFtdLAogICAgICAgIGVuYWJsZWQgOiAkZGVsZWdhdGUuZW5hYmxlZCwKICAgICAgICB0cmlnZ2VyQ2FsbGJhY2tzIDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAkJGFzeW5jQ2FsbGJhY2suZmx1c2goKTsKICAgICAgICB9LAogICAgICAgIHRyaWdnZXJSZWZsb3cgOiBmdW5jdGlvbigpIHsKICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChyZWZsb3dRdWV1ZSwgZnVuY3Rpb24oZm4pIHsKICAgICAgICAgICAgZm4oKTsKICAgICAgICAgIH0pOwogICAgICAgICAgcmVmbG93UXVldWUgPSBbXTsKICAgICAgICB9CiAgICAgIH07CgogICAgICBhbmd1bGFyLmZvckVhY2goCiAgICAgICAgWydlbnRlcicsJ2xlYXZlJywnbW92ZScsJ2FkZENsYXNzJywncmVtb3ZlQ2xhc3MnLCdzZXRDbGFzcyddLCBmdW5jdGlvbihtZXRob2QpIHsKICAgICAgICBhbmltYXRlW21ldGhvZF0gPSBmdW5jdGlvbigpIHsKICAgICAgICAgIGFuaW1hdGUucXVldWUucHVzaCh7CiAgICAgICAgICAgIGV2ZW50IDogbWV0aG9kLAogICAgICAgICAgICBlbGVtZW50IDogYXJndW1lbnRzWzBdLAogICAgICAgICAgICBhcmdzIDogYXJndW1lbnRzCiAgICAgICAgICB9KTsKICAgICAgICAgICRkZWxlZ2F0ZVttZXRob2RdLmFwcGx5KCRkZWxlZ2F0ZSwgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KTsKCiAgICAgIHJldHVybiBhbmltYXRlOwogICAgfSk7CgogIH1dKTsKCgovKioKICogQG5nZG9jIGZ1bmN0aW9uCiAqIEBuYW1lIGFuZ3VsYXIubW9jay5kdW1wCiAqIEBkZXNjcmlwdGlvbgogKgogKiAqTk9URSo6IHRoaXMgaXMgbm90IGFuIGluamVjdGFibGUgaW5zdGFuY2UsIGp1c3QgYSBnbG9iYWxseSBhdmFpbGFibGUgZnVuY3Rpb24uCiAqCiAqIE1ldGhvZCBmb3Igc2VyaWFsaXppbmcgY29tbW9uIGFuZ3VsYXIgb2JqZWN0cyAoc2NvcGUsIGVsZW1lbnRzLCBldGMuLikgaW50byBzdHJpbmdzLCB1c2VmdWwgZm9yCiAqIGRlYnVnZ2luZy4KICoKICogVGhpcyBtZXRob2QgaXMgYWxzbyBhdmFpbGFibGUgb24gd2luZG93LCB3aGVyZSBpdCBjYW4gYmUgdXNlZCB0byBkaXNwbGF5IG9iamVjdHMgb24gZGVidWcKICogY29uc29sZS4KICoKICogQHBhcmFtIHsqfSBvYmplY3QgLSBhbnkgb2JqZWN0IHRvIHR1cm4gaW50byBzdHJpbmcuCiAqIEByZXR1cm4ge3N0cmluZ30gYSBzZXJpYWxpemVkIHN0cmluZyBvZiB0aGUgYXJndW1lbnQKICovCmFuZ3VsYXIubW9jay5kdW1wID0gZnVuY3Rpb24ob2JqZWN0KSB7CiAgcmV0dXJuIHNlcmlhbGl6ZShvYmplY3QpOwoKICBmdW5jdGlvbiBzZXJpYWxpemUob2JqZWN0KSB7CiAgICB2YXIgb3V0OwoKICAgIGlmIChhbmd1bGFyLmlzRWxlbWVudChvYmplY3QpKSB7CiAgICAgIG9iamVjdCA9IGFuZ3VsYXIuZWxlbWVudChvYmplY3QpOwogICAgICBvdXQgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXY+PC9kaXY+Jyk7CiAgICAgIGFuZ3VsYXIuZm9yRWFjaChvYmplY3QsIGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICBvdXQuYXBwZW5kKGFuZ3VsYXIuZWxlbWVudChlbGVtZW50KS5jbG9uZSgpKTsKICAgICAgfSk7CiAgICAgIG91dCA9IG91dC5odG1sKCk7CiAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNBcnJheShvYmplY3QpKSB7CiAgICAgIG91dCA9IFtdOwogICAgICBhbmd1bGFyLmZvckVhY2gob2JqZWN0LCBmdW5jdGlvbihvKSB7CiAgICAgICAgb3V0LnB1c2goc2VyaWFsaXplKG8pKTsKICAgICAgfSk7CiAgICAgIG91dCA9ICdbICcgKyBvdXQuam9pbignLCAnKSArICcgXSc7CiAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNPYmplY3Qob2JqZWN0KSkgewogICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKG9iamVjdC4kZXZhbCkgJiYgYW5ndWxhci5pc0Z1bmN0aW9uKG9iamVjdC4kYXBwbHkpKSB7CiAgICAgICAgb3V0ID0gc2VyaWFsaXplU2NvcGUob2JqZWN0KTsKICAgICAgfSBlbHNlIGlmIChvYmplY3QgaW5zdGFuY2VvZiBFcnJvcikgewogICAgICAgIG91dCA9IG9iamVjdC5zdGFjayB8fCAoJycgKyBvYmplY3QubmFtZSArICc6ICcgKyBvYmplY3QubWVzc2FnZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gVE9ETyhpKTogdGhpcyBwcmV2ZW50cyBtZXRob2RzIGJlaW5nIGxvZ2dlZCwKICAgICAgICAvLyB3ZSBzaG91bGQgaGF2ZSBhIGJldHRlciB3YXkgdG8gc2VyaWFsaXplIG9iamVjdHMKICAgICAgICBvdXQgPSBhbmd1bGFyLnRvSnNvbihvYmplY3QsIHRydWUpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBvdXQgPSBTdHJpbmcob2JqZWN0KTsKICAgIH0KCiAgICByZXR1cm4gb3V0OwogIH0KCiAgZnVuY3Rpb24gc2VyaWFsaXplU2NvcGUoc2NvcGUsIG9mZnNldCkgewogICAgb2Zmc2V0ID0gb2Zmc2V0IHx8ICAnICAnOwogICAgdmFyIGxvZyA9IFtvZmZzZXQgKyAnU2NvcGUoJyArIHNjb3BlLiRpZCArICcpOiB7J107CiAgICBmb3IgKCB2YXIga2V5IGluIHNjb3BlICkgewogICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNjb3BlLCBrZXkpICYmICFrZXkubWF0Y2goL14oXCR8dGhpcykvKSkgewogICAgICAgIGxvZy5wdXNoKCcgICcgKyBrZXkgKyAnOiAnICsgYW5ndWxhci50b0pzb24oc2NvcGVba2V5XSkpOwogICAgICB9CiAgICB9CiAgICB2YXIgY2hpbGQgPSBzY29wZS4kJGNoaWxkSGVhZDsKICAgIHdoaWxlKGNoaWxkKSB7CiAgICAgIGxvZy5wdXNoKHNlcmlhbGl6ZVNjb3BlKGNoaWxkLCBvZmZzZXQgKyAnICAnKSk7CiAgICAgIGNoaWxkID0gY2hpbGQuJCRuZXh0U2libGluZzsKICAgIH0KICAgIGxvZy5wdXNoKCd9Jyk7CiAgICByZXR1cm4gbG9nLmpvaW4oJ1xuJyArIG9mZnNldCk7CiAgfQp9OwoKLyoqCiAqIEBuZ2RvYyBzZXJ2aWNlCiAqIEBuYW1lICRodHRwQmFja2VuZAogKiBAZGVzY3JpcHRpb24KICogRmFrZSBIVFRQIGJhY2tlbmQgaW1wbGVtZW50YXRpb24gc3VpdGFibGUgZm9yIHVuaXQgdGVzdGluZyBhcHBsaWNhdGlvbnMgdGhhdCB1c2UgdGhlCiAqIHtAbGluayBuZy4kaHR0cCAkaHR0cCBzZXJ2aWNlfS4KICoKICogKk5vdGUqOiBGb3IgZmFrZSBIVFRQIGJhY2tlbmQgaW1wbGVtZW50YXRpb24gc3VpdGFibGUgZm9yIGVuZC10by1lbmQgdGVzdGluZyBvciBiYWNrZW5kLWxlc3MKICogZGV2ZWxvcG1lbnQgcGxlYXNlIHNlZSB7QGxpbmsgbmdNb2NrRTJFLiRodHRwQmFja2VuZCBlMmUgJGh0dHBCYWNrZW5kIG1vY2t9LgogKgogKiBEdXJpbmcgdW5pdCB0ZXN0aW5nLCB3ZSB3YW50IG91ciB1bml0IHRlc3RzIHRvIHJ1biBxdWlja2x5IGFuZCBoYXZlIG5vIGV4dGVybmFsIGRlcGVuZGVuY2llcyBzbwogKiB3ZSBkb27igJl0IHdhbnQgdG8gc2VuZCBbWEhSXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi94bWxodHRwcmVxdWVzdCkgb3IKICogW0pTT05QXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0pTT05QKSByZXF1ZXN0cyB0byBhIHJlYWwgc2VydmVyLiBBbGwgd2UgcmVhbGx5IG5lZWQgaXMKICogdG8gdmVyaWZ5IHdoZXRoZXIgYSBjZXJ0YWluIHJlcXVlc3QgaGFzIGJlZW4gc2VudCBvciBub3QsIG9yIGFsdGVybmF0aXZlbHkganVzdCBsZXQgdGhlCiAqIGFwcGxpY2F0aW9uIG1ha2UgcmVxdWVzdHMsIHJlc3BvbmQgd2l0aCBwcmUtdHJhaW5lZCByZXNwb25zZXMgYW5kIGFzc2VydCB0aGF0IHRoZSBlbmQgcmVzdWx0IGlzCiAqIHdoYXQgd2UgZXhwZWN0IGl0IHRvIGJlLgogKgogKiBUaGlzIG1vY2sgaW1wbGVtZW50YXRpb24gY2FuIGJlIHVzZWQgdG8gcmVzcG9uZCB3aXRoIHN0YXRpYyBvciBkeW5hbWljIHJlc3BvbnNlcyB2aWEgdGhlCiAqIGBleHBlY3RgIGFuZCBgd2hlbmAgYXBpcyBhbmQgdGhlaXIgc2hvcnRjdXRzIChgZXhwZWN0R0VUYCwgYHdoZW5QT1NUYCwgZXRjKS4KICoKICogV2hlbiBhbiBBbmd1bGFyIGFwcGxpY2F0aW9uIG5lZWRzIHNvbWUgZGF0YSBmcm9tIGEgc2VydmVyLCBpdCBjYWxscyB0aGUgJGh0dHAgc2VydmljZSwgd2hpY2gKICogc2VuZHMgdGhlIHJlcXVlc3QgdG8gYSByZWFsIHNlcnZlciB1c2luZyAkaHR0cEJhY2tlbmQgc2VydmljZS4gV2l0aCBkZXBlbmRlbmN5IGluamVjdGlvbiwgaXQgaXMKICogZWFzeSB0byBpbmplY3QgJGh0dHBCYWNrZW5kIG1vY2sgKHdoaWNoIGhhcyB0aGUgc2FtZSBBUEkgYXMgJGh0dHBCYWNrZW5kKSBhbmQgdXNlIGl0IHRvIHZlcmlmeQogKiB0aGUgcmVxdWVzdHMgYW5kIHJlc3BvbmQgd2l0aCBzb21lIHRlc3RpbmcgZGF0YSB3aXRob3V0IHNlbmRpbmcgYSByZXF1ZXN0IHRvIGEgcmVhbCBzZXJ2ZXIuCiAqCiAqIFRoZXJlIGFyZSB0d28gd2F5cyB0byBzcGVjaWZ5IHdoYXQgdGVzdCBkYXRhIHNob3VsZCBiZSByZXR1cm5lZCBhcyBodHRwIHJlc3BvbnNlcyBieSB0aGUgbW9jawogKiBiYWNrZW5kIHdoZW4gdGhlIGNvZGUgdW5kZXIgdGVzdCBtYWtlcyBodHRwIHJlcXVlc3RzOgogKgogKiAtIGAkaHR0cEJhY2tlbmQuZXhwZWN0YCAtIHNwZWNpZmllcyBhIHJlcXVlc3QgZXhwZWN0YXRpb24KICogLSBgJGh0dHBCYWNrZW5kLndoZW5gIC0gc3BlY2lmaWVzIGEgYmFja2VuZCBkZWZpbml0aW9uCiAqCiAqCiAqICMgUmVxdWVzdCBFeHBlY3RhdGlvbnMgdnMgQmFja2VuZCBEZWZpbml0aW9ucwogKgogKiBSZXF1ZXN0IGV4cGVjdGF0aW9ucyBwcm92aWRlIGEgd2F5IHRvIG1ha2UgYXNzZXJ0aW9ucyBhYm91dCByZXF1ZXN0cyBtYWRlIGJ5IHRoZSBhcHBsaWNhdGlvbiBhbmQKICogdG8gZGVmaW5lIHJlc3BvbnNlcyBmb3IgdGhvc2UgcmVxdWVzdHMuIFRoZSB0ZXN0IHdpbGwgZmFpbCBpZiB0aGUgZXhwZWN0ZWQgcmVxdWVzdHMgYXJlIG5vdCBtYWRlCiAqIG9yIHRoZXkgYXJlIG1hZGUgaW4gdGhlIHdyb25nIG9yZGVyLgogKgogKiBCYWNrZW5kIGRlZmluaXRpb25zIGFsbG93IHlvdSB0byBkZWZpbmUgYSBmYWtlIGJhY2tlbmQgZm9yIHlvdXIgYXBwbGljYXRpb24gd2hpY2ggZG9lc24ndCBhc3NlcnQKICogaWYgYSBwYXJ0aWN1bGFyIHJlcXVlc3Qgd2FzIG1hZGUgb3Igbm90LCBpdCBqdXN0IHJldHVybnMgYSB0cmFpbmVkIHJlc3BvbnNlIGlmIGEgcmVxdWVzdCBpcyBtYWRlLgogKiBUaGUgdGVzdCB3aWxsIHBhc3Mgd2hldGhlciBvciBub3QgdGhlIHJlcXVlc3QgZ2V0cyBtYWRlIGR1cmluZyB0ZXN0aW5nLgogKgogKgogKiA8dGFibGUgY2xhc3M9InRhYmxlIj4KICogICA8dHI+PHRoIHdpZHRoPSIyMjBweCI+PC90aD48dGg+UmVxdWVzdCBleHBlY3RhdGlvbnM8L3RoPjx0aD5CYWNrZW5kIGRlZmluaXRpb25zPC90aD48L3RyPgogKiAgIDx0cj4KICogICAgIDx0aD5TeW50YXg8L3RoPgogKiAgICAgPHRkPi5leHBlY3QoLi4uKS5yZXNwb25kKC4uLik8L3RkPgogKiAgICAgPHRkPi53aGVuKC4uLikucmVzcG9uZCguLi4pPC90ZD4KICogICA8L3RyPgogKiAgIDx0cj4KICogICAgIDx0aD5UeXBpY2FsIHVzYWdlPC90aD4KICogICAgIDx0ZD5zdHJpY3QgdW5pdCB0ZXN0czwvdGQ+CiAqICAgICA8dGQ+bG9vc2UgKGJsYWNrLWJveCkgdW5pdCB0ZXN0aW5nPC90ZD4KICogICA8L3RyPgogKiAgIDx0cj4KICogICAgIDx0aD5GdWxmaWxscyBtdWx0aXBsZSByZXF1ZXN0czwvdGg+CiAqICAgICA8dGQ+Tk88L3RkPgogKiAgICAgPHRkPllFUzwvdGQ+CiAqICAgPC90cj4KICogICA8dHI+CiAqICAgICA8dGg+T3JkZXIgb2YgcmVxdWVzdHMgbWF0dGVyczwvdGg+CiAqICAgICA8dGQ+WUVTPC90ZD4KICogICAgIDx0ZD5OTzwvdGQ+CiAqICAgPC90cj4KICogICA8dHI+CiAqICAgICA8dGg+UmVxdWVzdCByZXF1aXJlZDwvdGg+CiAqICAgICA8dGQ+WUVTPC90ZD4KICogICAgIDx0ZD5OTzwvdGQ+CiAqICAgPC90cj4KICogICA8dHI+CiAqICAgICA8dGg+UmVzcG9uc2UgcmVxdWlyZWQ8L3RoPgogKiAgICAgPHRkPm9wdGlvbmFsIChzZWUgYmVsb3cpPC90ZD4KICogICAgIDx0ZD5ZRVM8L3RkPgogKiAgIDwvdHI+CiAqIDwvdGFibGU+CiAqCiAqIEluIGNhc2VzIHdoZXJlIGJvdGggYmFja2VuZCBkZWZpbml0aW9ucyBhbmQgcmVxdWVzdCBleHBlY3RhdGlvbnMgYXJlIHNwZWNpZmllZCBkdXJpbmcgdW5pdAogKiB0ZXN0aW5nLCB0aGUgcmVxdWVzdCBleHBlY3RhdGlvbnMgYXJlIGV2YWx1YXRlZCBmaXJzdC4KICoKICogSWYgYSByZXF1ZXN0IGV4cGVjdGF0aW9uIGhhcyBubyByZXNwb25zZSBzcGVjaWZpZWQsIHRoZSBhbGdvcml0aG0gd2lsbCBzZWFyY2ggeW91ciBiYWNrZW5kCiAqIGRlZmluaXRpb25zIGZvciBhbiBhcHByb3ByaWF0ZSByZXNwb25zZS4KICoKICogSWYgYSByZXF1ZXN0IGRpZG4ndCBtYXRjaCBhbnkgZXhwZWN0YXRpb24gb3IgaWYgdGhlIGV4cGVjdGF0aW9uIGRvZXNuJ3QgaGF2ZSB0aGUgcmVzcG9uc2UKICogZGVmaW5lZCwgdGhlIGJhY2tlbmQgZGVmaW5pdGlvbnMgYXJlIGV2YWx1YXRlZCBpbiBzZXF1ZW50aWFsIG9yZGVyIHRvIHNlZSBpZiBhbnkgb2YgdGhlbSBtYXRjaAogKiB0aGUgcmVxdWVzdC4gVGhlIHJlc3BvbnNlIGZyb20gdGhlIGZpcnN0IG1hdGNoZWQgZGVmaW5pdGlvbiBpcyByZXR1cm5lZC4KICoKICoKICogIyBGbHVzaGluZyBIVFRQIHJlcXVlc3RzCiAqCiAqIFRoZSAkaHR0cEJhY2tlbmQgdXNlZCBpbiBwcm9kdWN0aW9uIGFsd2F5cyByZXNwb25kcyB0byByZXF1ZXN0cyBhc3luY2hyb25vdXNseS4gSWYgd2UgcHJlc2VydmVkCiAqIHRoaXMgYmVoYXZpb3IgaW4gdW5pdCB0ZXN0aW5nLCB3ZSdkIGhhdmUgdG8gY3JlYXRlIGFzeW5jIHVuaXQgdGVzdHMsIHdoaWNoIGFyZSBoYXJkIHRvIHdyaXRlLAogKiB0byBmb2xsb3cgYW5kIHRvIG1haW50YWluLiBCdXQgbmVpdGhlciBjYW4gdGhlIHRlc3RpbmcgbW9jayByZXNwb25kIHN5bmNocm9ub3VzbHk7IHRoYXQgd291bGQKICogY2hhbmdlIHRoZSBleGVjdXRpb24gb2YgdGhlIGNvZGUgdW5kZXIgdGVzdC4gRm9yIHRoaXMgcmVhc29uLCB0aGUgbW9jayAkaHR0cEJhY2tlbmQgaGFzIGEKICogYGZsdXNoKClgIG1ldGhvZCwgd2hpY2ggYWxsb3dzIHRoZSB0ZXN0IHRvIGV4cGxpY2l0bHkgZmx1c2ggcGVuZGluZyByZXF1ZXN0cy4gVGhpcyBwcmVzZXJ2ZXMKICogdGhlIGFzeW5jIGFwaSBvZiB0aGUgYmFja2VuZCwgd2hpbGUgYWxsb3dpbmcgdGhlIHRlc3QgdG8gZXhlY3V0ZSBzeW5jaHJvbm91c2x5LgogKgogKgogKiAjIFVuaXQgdGVzdGluZyB3aXRoIG1vY2sgJGh0dHBCYWNrZW5kCiAqIFRoZSBmb2xsb3dpbmcgY29kZSBzaG93cyBob3cgdG8gc2V0dXAgYW5kIHVzZSB0aGUgbW9jayBiYWNrZW5kIHdoZW4gdW5pdCB0ZXN0aW5nIGEgY29udHJvbGxlci4KICogRmlyc3Qgd2UgY3JlYXRlIHRoZSBjb250cm9sbGVyIHVuZGVyIHRlc3Q6CiAqCiAgYGBganMKICAvLyBUaGUgY29udHJvbGxlciBjb2RlCiAgZnVuY3Rpb24gTXlDb250cm9sbGVyKCRzY29wZSwgJGh0dHApIHsKICAgIHZhciBhdXRoVG9rZW47CgogICAgJGh0dHAuZ2V0KCcvYXV0aC5weScpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzKSB7CiAgICAgIGF1dGhUb2tlbiA9IGhlYWRlcnMoJ0EtVG9rZW4nKTsKICAgICAgJHNjb3BlLnVzZXIgPSBkYXRhOwogICAgfSk7CgogICAgJHNjb3BlLnNhdmVNZXNzYWdlID0gZnVuY3Rpb24obWVzc2FnZSkgewogICAgICB2YXIgaGVhZGVycyA9IHsgJ0F1dGhvcml6YXRpb24nOiBhdXRoVG9rZW4gfTsKICAgICAgJHNjb3BlLnN0YXR1cyA9ICdTYXZpbmcuLi4nOwoKICAgICAgJGh0dHAucG9zdCgnL2FkZC1tc2cucHknLCBtZXNzYWdlLCB7IGhlYWRlcnM6IGhlYWRlcnMgfSApLnN1Y2Nlc3MoZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAkc2NvcGUuc3RhdHVzID0gJyc7CiAgICAgIH0pLmVycm9yKGZ1bmN0aW9uKCkgewogICAgICAgICRzY29wZS5zdGF0dXMgPSAnRVJST1IhJzsKICAgICAgfSk7CiAgICB9OwogIH0KICBgYGAKICoKICogTm93IHdlIHNldHVwIHRoZSBtb2NrIGJhY2tlbmQgYW5kIGNyZWF0ZSB0aGUgdGVzdCBzcGVjczoKICoKICBgYGBqcwogICAgLy8gdGVzdGluZyBjb250cm9sbGVyCiAgICBkZXNjcmliZSgnTXlDb250cm9sbGVyJywgZnVuY3Rpb24oKSB7CiAgICAgICB2YXIgJGh0dHBCYWNrZW5kLCAkcm9vdFNjb3BlLCBjcmVhdGVDb250cm9sbGVyOwoKICAgICAgIGJlZm9yZUVhY2goaW5qZWN0KGZ1bmN0aW9uKCRpbmplY3RvcikgewogICAgICAgICAvLyBTZXQgdXAgdGhlIG1vY2sgaHR0cCBzZXJ2aWNlIHJlc3BvbnNlcwogICAgICAgICAkaHR0cEJhY2tlbmQgPSAkaW5qZWN0b3IuZ2V0KCckaHR0cEJhY2tlbmQnKTsKICAgICAgICAgLy8gYmFja2VuZCBkZWZpbml0aW9uIGNvbW1vbiBmb3IgYWxsIHRlc3RzCiAgICAgICAgICRodHRwQmFja2VuZC53aGVuKCdHRVQnLCAnL2F1dGgucHknKS5yZXNwb25kKHt1c2VySWQ6ICd1c2VyWCd9LCB7J0EtVG9rZW4nOiAneHh4J30pOwoKICAgICAgICAgLy8gR2V0IGhvbGQgb2YgYSBzY29wZSAoaS5lLiB0aGUgcm9vdCBzY29wZSkKICAgICAgICAgJHJvb3RTY29wZSA9ICRpbmplY3Rvci5nZXQoJyRyb290U2NvcGUnKTsKICAgICAgICAgLy8gVGhlICRjb250cm9sbGVyIHNlcnZpY2UgaXMgdXNlZCB0byBjcmVhdGUgaW5zdGFuY2VzIG9mIGNvbnRyb2xsZXJzCiAgICAgICAgIHZhciAkY29udHJvbGxlciA9ICRpbmplY3Rvci5nZXQoJyRjb250cm9sbGVyJyk7CgogICAgICAgICBjcmVhdGVDb250cm9sbGVyID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgcmV0dXJuICRjb250cm9sbGVyKCdNeUNvbnRyb2xsZXInLCB7JyRzY29wZScgOiAkcm9vdFNjb3BlIH0pOwogICAgICAgICB9OwogICAgICAgfSkpOwoKCiAgICAgICBhZnRlckVhY2goZnVuY3Rpb24oKSB7CiAgICAgICAgICRodHRwQmFja2VuZC52ZXJpZnlOb091dHN0YW5kaW5nRXhwZWN0YXRpb24oKTsKICAgICAgICAgJGh0dHBCYWNrZW5kLnZlcmlmeU5vT3V0c3RhbmRpbmdSZXF1ZXN0KCk7CiAgICAgICB9KTsKCgogICAgICAgaXQoJ3Nob3VsZCBmZXRjaCBhdXRoZW50aWNhdGlvbiB0b2tlbicsIGZ1bmN0aW9uKCkgewogICAgICAgICAkaHR0cEJhY2tlbmQuZXhwZWN0R0VUKCcvYXV0aC5weScpOwogICAgICAgICB2YXIgY29udHJvbGxlciA9IGNyZWF0ZUNvbnRyb2xsZXIoKTsKICAgICAgICAgJGh0dHBCYWNrZW5kLmZsdXNoKCk7CiAgICAgICB9KTsKCgogICAgICAgaXQoJ3Nob3VsZCBzZW5kIG1zZyB0byBzZXJ2ZXInLCBmdW5jdGlvbigpIHsKICAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSBjcmVhdGVDb250cm9sbGVyKCk7CiAgICAgICAgICRodHRwQmFja2VuZC5mbHVzaCgpOwoKICAgICAgICAgLy8gbm93IHlvdSBkb27igJl0IGNhcmUgYWJvdXQgdGhlIGF1dGhlbnRpY2F0aW9uLCBidXQKICAgICAgICAgLy8gdGhlIGNvbnRyb2xsZXIgd2lsbCBzdGlsbCBzZW5kIHRoZSByZXF1ZXN0IGFuZAogICAgICAgICAvLyAkaHR0cEJhY2tlbmQgd2lsbCByZXNwb25kIHdpdGhvdXQgeW91IGhhdmluZyB0bwogICAgICAgICAvLyBzcGVjaWZ5IHRoZSBleHBlY3RhdGlvbiBhbmQgcmVzcG9uc2UgZm9yIHRoaXMgcmVxdWVzdAoKICAgICAgICAgJGh0dHBCYWNrZW5kLmV4cGVjdFBPU1QoJy9hZGQtbXNnLnB5JywgJ21lc3NhZ2UgY29udGVudCcpLnJlc3BvbmQoMjAxLCAnJyk7CiAgICAgICAgICRyb290U2NvcGUuc2F2ZU1lc3NhZ2UoJ21lc3NhZ2UgY29udGVudCcpOwogICAgICAgICBleHBlY3QoJHJvb3RTY29wZS5zdGF0dXMpLnRvQmUoJ1NhdmluZy4uLicpOwogICAgICAgICAkaHR0cEJhY2tlbmQuZmx1c2goKTsKICAgICAgICAgZXhwZWN0KCRyb290U2NvcGUuc3RhdHVzKS50b0JlKCcnKTsKICAgICAgIH0pOwoKCiAgICAgICBpdCgnc2hvdWxkIHNlbmQgYXV0aCBoZWFkZXInLCBmdW5jdGlvbigpIHsKICAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSBjcmVhdGVDb250cm9sbGVyKCk7CiAgICAgICAgICRodHRwQmFja2VuZC5mbHVzaCgpOwoKICAgICAgICAgJGh0dHBCYWNrZW5kLmV4cGVjdFBPU1QoJy9hZGQtbXNnLnB5JywgdW5kZWZpbmVkLCBmdW5jdGlvbihoZWFkZXJzKSB7CiAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlIGhlYWRlciB3YXMgc2VuZCwgaWYgaXQgd2Fzbid0IHRoZSBleHBlY3RhdGlvbiB3b24ndAogICAgICAgICAgIC8vIG1hdGNoIHRoZSByZXF1ZXN0IGFuZCB0aGUgdGVzdCB3aWxsIGZhaWwKICAgICAgICAgICByZXR1cm4gaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID09ICd4eHgnOwogICAgICAgICB9KS5yZXNwb25kKDIwMSwgJycpOwoKICAgICAgICAgJHJvb3RTY29wZS5zYXZlTWVzc2FnZSgnd2hhdGV2ZXInKTsKICAgICAgICAgJGh0dHBCYWNrZW5kLmZsdXNoKCk7CiAgICAgICB9KTsKICAgIH0pOwogICBgYGAKICovCmFuZ3VsYXIubW9jay4kSHR0cEJhY2tlbmRQcm92aWRlciA9IGZ1bmN0aW9uKCkgewogIHRoaXMuJGdldCA9IFsnJHJvb3RTY29wZScsIGNyZWF0ZUh0dHBCYWNrZW5kTW9ja107Cn07CgovKioKICogR2VuZXJhbCBmYWN0b3J5IGZ1bmN0aW9uIGZvciAkaHR0cEJhY2tlbmQgbW9jay4KICogUmV0dXJucyBpbnN0YW5jZSBmb3IgdW5pdCB0ZXN0aW5nICh3aGVuIG5vIGFyZ3VtZW50cyBzcGVjaWZpZWQpOgogKiAgIC0gcGFzc2luZyB0aHJvdWdoIGlzIGRpc2FibGVkCiAqICAgLSBhdXRvIGZsdXNoaW5nIGlzIGRpc2FibGVkCiAqCiAqIFJldHVybnMgaW5zdGFuY2UgZm9yIGUyZSB0ZXN0aW5nICh3aGVuIGAkZGVsZWdhdGVgIGFuZCBgJGJyb3dzZXJgIHNwZWNpZmllZCk6CiAqICAgLSBwYXNzaW5nIHRocm91Z2ggKGRlbGVnYXRpbmcgcmVxdWVzdCB0byByZWFsIGJhY2tlbmQpIGlzIGVuYWJsZWQKICogICAtIGF1dG8gZmx1c2hpbmcgaXMgZW5hYmxlZAogKgogKiBAcGFyYW0ge09iamVjdD19ICRkZWxlZ2F0ZSBSZWFsICRodHRwQmFja2VuZCBpbnN0YW5jZSAoYWxsb3cgcGFzc2luZyB0aHJvdWdoIGlmIHNwZWNpZmllZCkKICogQHBhcmFtIHtPYmplY3Q9fSAkYnJvd3NlciBBdXRvLWZsdXNoaW5nIGVuYWJsZWQgaWYgc3BlY2lmaWVkCiAqIEByZXR1cm4ge09iamVjdH0gSW5zdGFuY2Ugb2YgJGh0dHBCYWNrZW5kIG1vY2sKICovCmZ1bmN0aW9uIGNyZWF0ZUh0dHBCYWNrZW5kTW9jaygkcm9vdFNjb3BlLCAkZGVsZWdhdGUsICRicm93c2VyKSB7CiAgdmFyIGRlZmluaXRpb25zID0gW10sCiAgICAgIGV4cGVjdGF0aW9ucyA9IFtdLAogICAgICByZXNwb25zZXMgPSBbXSwKICAgICAgcmVzcG9uc2VzUHVzaCA9IGFuZ3VsYXIuYmluZChyZXNwb25zZXMsIHJlc3BvbnNlcy5wdXNoKSwKICAgICAgY29weSA9IGFuZ3VsYXIuY29weTsKCiAgZnVuY3Rpb24gY3JlYXRlUmVzcG9uc2Uoc3RhdHVzLCBkYXRhLCBoZWFkZXJzLCBzdGF0dXNUZXh0KSB7CiAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHN0YXR1cykpIHJldHVybiBzdGF0dXM7CgogICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gYW5ndWxhci5pc051bWJlcihzdGF0dXMpCiAgICAgICAgICA/IFtzdGF0dXMsIGRhdGEsIGhlYWRlcnMsIHN0YXR1c1RleHRdCiAgICAgICAgICA6IFsyMDAsIHN0YXR1cywgZGF0YV07CiAgICB9OwogIH0KCiAgLy8gVE9ETyh2b2p0YSk6IGNoYW5nZSBwYXJhbXMgdG86IG1ldGhvZCwgdXJsLCBkYXRhLCBoZWFkZXJzLCBjYWxsYmFjawogIGZ1bmN0aW9uICRodHRwQmFja2VuZChtZXRob2QsIHVybCwgZGF0YSwgY2FsbGJhY2ssIGhlYWRlcnMsIHRpbWVvdXQsIHdpdGhDcmVkZW50aWFscykgewogICAgdmFyIHhociA9IG5ldyBNb2NrWGhyKCksCiAgICAgICAgZXhwZWN0YXRpb24gPSBleHBlY3RhdGlvbnNbMF0sCiAgICAgICAgd2FzRXhwZWN0ZWQgPSBmYWxzZTsKCiAgICBmdW5jdGlvbiBwcmV0dHlQcmludChkYXRhKSB7CiAgICAgIHJldHVybiAoYW5ndWxhci5pc1N0cmluZyhkYXRhKSB8fCBhbmd1bGFyLmlzRnVuY3Rpb24oZGF0YSkgfHwgZGF0YSBpbnN0YW5jZW9mIFJlZ0V4cCkKICAgICAgICAgID8gZGF0YQogICAgICAgICAgOiBhbmd1bGFyLnRvSnNvbihkYXRhKTsKICAgIH0KCiAgICBmdW5jdGlvbiB3cmFwUmVzcG9uc2Uod3JhcHBlZCkgewogICAgICBpZiAoISRicm93c2VyICYmIHRpbWVvdXQgJiYgdGltZW91dC50aGVuKSB0aW1lb3V0LnRoZW4oaGFuZGxlVGltZW91dCk7CgogICAgICByZXR1cm4gaGFuZGxlUmVzcG9uc2U7CgogICAgICBmdW5jdGlvbiBoYW5kbGVSZXNwb25zZSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2UgPSB3cmFwcGVkLnJlc3BvbnNlKG1ldGhvZCwgdXJsLCBkYXRhLCBoZWFkZXJzKTsKICAgICAgICB4aHIuJCRyZXNwSGVhZGVycyA9IHJlc3BvbnNlWzJdOwogICAgICAgIGNhbGxiYWNrKGNvcHkocmVzcG9uc2VbMF0pLCBjb3B5KHJlc3BvbnNlWzFdKSwgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLAogICAgICAgICAgICAgICAgIGNvcHkocmVzcG9uc2VbM10gfHwgJycpKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHsKICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSByZXNwb25zZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykgewogICAgICAgICAgaWYgKHJlc3BvbnNlc1tpXSA9PT0gaGFuZGxlUmVzcG9uc2UpIHsKICAgICAgICAgICAgcmVzcG9uc2VzLnNwbGljZShpLCAxKTsKICAgICAgICAgICAgY2FsbGJhY2soLTEsIHVuZGVmaW5lZCwgJycpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBpZiAoZXhwZWN0YXRpb24gJiYgZXhwZWN0YXRpb24ubWF0Y2gobWV0aG9kLCB1cmwpKSB7CiAgICAgIGlmICghZXhwZWN0YXRpb24ubWF0Y2hEYXRhKGRhdGEpKQogICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgJyArIGV4cGVjdGF0aW9uICsgJyB3aXRoIGRpZmZlcmVudCBkYXRhXG4nICsKICAgICAgICAgICAgJ0VYUEVDVEVEOiAnICsgcHJldHR5UHJpbnQoZXhwZWN0YXRpb24uZGF0YSkgKyAnXG5HT1Q6ICAgICAgJyArIGRhdGEpOwoKICAgICAgaWYgKCFleHBlY3RhdGlvbi5tYXRjaEhlYWRlcnMoaGVhZGVycykpCiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCAnICsgZXhwZWN0YXRpb24gKyAnIHdpdGggZGlmZmVyZW50IGhlYWRlcnNcbicgKwogICAgICAgICAgICAgICAgICAgICAgICAnRVhQRUNURUQ6ICcgKyBwcmV0dHlQcmludChleHBlY3RhdGlvbi5oZWFkZXJzKSArICdcbkdPVDogICAgICAnICsKICAgICAgICAgICAgICAgICAgICAgICAgcHJldHR5UHJpbnQoaGVhZGVycykpOwoKICAgICAgZXhwZWN0YXRpb25zLnNoaWZ0KCk7CgogICAgICBpZiAoZXhwZWN0YXRpb24ucmVzcG9uc2UpIHsKICAgICAgICByZXNwb25zZXMucHVzaCh3cmFwUmVzcG9uc2UoZXhwZWN0YXRpb24pKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgd2FzRXhwZWN0ZWQgPSB0cnVlOwogICAgfQoKICAgIHZhciBpID0gLTEsIGRlZmluaXRpb247CiAgICB3aGlsZSAoKGRlZmluaXRpb24gPSBkZWZpbml0aW9uc1srK2ldKSkgewogICAgICBpZiAoZGVmaW5pdGlvbi5tYXRjaChtZXRob2QsIHVybCwgZGF0YSwgaGVhZGVycyB8fCB7fSkpIHsKICAgICAgICBpZiAoZGVmaW5pdGlvbi5yZXNwb25zZSkgewogICAgICAgICAgLy8gaWYgJGJyb3dzZXIgc3BlY2lmaWVkLCB3ZSBkbyBhdXRvIGZsdXNoIGFsbCByZXF1ZXN0cwogICAgICAgICAgKCRicm93c2VyID8gJGJyb3dzZXIuZGVmZXIgOiByZXNwb25zZXNQdXNoKSh3cmFwUmVzcG9uc2UoZGVmaW5pdGlvbikpOwogICAgICAgIH0gZWxzZSBpZiAoZGVmaW5pdGlvbi5wYXNzVGhyb3VnaCkgewogICAgICAgICAgJGRlbGVnYXRlKG1ldGhvZCwgdXJsLCBkYXRhLCBjYWxsYmFjaywgaGVhZGVycywgdGltZW91dCwgd2l0aENyZWRlbnRpYWxzKTsKICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKCdObyByZXNwb25zZSBkZWZpbmVkICEnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0KICAgIHRocm93IHdhc0V4cGVjdGVkID8KICAgICAgICBuZXcgRXJyb3IoJ05vIHJlc3BvbnNlIGRlZmluZWQgIScpIDoKICAgICAgICBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgcmVxdWVzdDogJyArIG1ldGhvZCArICcgJyArIHVybCArICdcbicgKwogICAgICAgICAgICAgICAgICAoZXhwZWN0YXRpb24gPyAnRXhwZWN0ZWQgJyArIGV4cGVjdGF0aW9uIDogJ05vIG1vcmUgcmVxdWVzdCBleHBlY3RlZCcpKTsKICB9CgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSAkaHR0cEJhY2tlbmQjd2hlbgogICAqIEBkZXNjcmlwdGlvbgogICAqIENyZWF0ZXMgYSBuZXcgYmFja2VuZCBkZWZpbml0aW9uLgogICAqCiAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCBIVFRQIG1ldGhvZC4KICAgKiBAcGFyYW0ge3N0cmluZ3xSZWdFeHB9IHVybCBIVFRQIHVybC4KICAgKiBAcGFyYW0geyhzdHJpbmd8UmVnRXhwfGZ1bmN0aW9uKHN0cmluZykpPX0gZGF0YSBIVFRQIHJlcXVlc3QgYm9keSBvciBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzCiAgICogICBkYXRhIHN0cmluZyBhbmQgcmV0dXJucyB0cnVlIGlmIHRoZSBkYXRhIGlzIGFzIGV4cGVjdGVkLgogICAqIEBwYXJhbSB7KE9iamVjdHxmdW5jdGlvbihPYmplY3QpKT19IGhlYWRlcnMgSFRUUCBoZWFkZXJzIG9yIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgaHR0cCBoZWFkZXIKICAgKiAgIG9iamVjdCBhbmQgcmV0dXJucyB0cnVlIGlmIHRoZSBoZWFkZXJzIG1hdGNoIHRoZSBjdXJyZW50IGRlZmluaXRpb24uCiAgICogQHJldHVybnMge3JlcXVlc3RIYW5kbGVyfSBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGByZXNwb25kYCBtZXRob2QgdGhhdCBjb250cm9scyBob3cgYSBtYXRjaGVkCiAgICogICByZXF1ZXN0IGlzIGhhbmRsZWQuCiAgICoKICAgKiAgLSByZXNwb25kIOKAkwogICAqICAgICAgYHtmdW5jdGlvbihbc3RhdHVzLF0gZGF0YVssIGhlYWRlcnMsIHN0YXR1c1RleHRdKQogICAqICAgICAgfCBmdW5jdGlvbihmdW5jdGlvbihtZXRob2QsIHVybCwgZGF0YSwgaGVhZGVycyl9YAogICAqICAgIOKAkyBUaGUgcmVzcG9uZCBtZXRob2QgdGFrZXMgYSBzZXQgb2Ygc3RhdGljIGRhdGEgdG8gYmUgcmV0dXJuZWQgb3IgYSBmdW5jdGlvbiB0aGF0IGNhbgogICAqICAgIHJldHVybiBhbiBhcnJheSBjb250YWluaW5nIHJlc3BvbnNlIHN0YXR1cyAobnVtYmVyKSwgcmVzcG9uc2UgZGF0YSAoc3RyaW5nKSwgcmVzcG9uc2UKICAgKiAgICBoZWFkZXJzIChPYmplY3QpLCBhbmQgdGhlIHRleHQgZm9yIHRoZSBzdGF0dXMgKHN0cmluZykuCiAgICovCiAgJGh0dHBCYWNrZW5kLndoZW4gPSBmdW5jdGlvbihtZXRob2QsIHVybCwgZGF0YSwgaGVhZGVycykgewogICAgdmFyIGRlZmluaXRpb24gPSBuZXcgTW9ja0h0dHBFeHBlY3RhdGlvbihtZXRob2QsIHVybCwgZGF0YSwgaGVhZGVycyksCiAgICAgICAgY2hhaW4gPSB7CiAgICAgICAgICByZXNwb25kOiBmdW5jdGlvbihzdGF0dXMsIGRhdGEsIGhlYWRlcnMsIHN0YXR1c1RleHQpIHsKICAgICAgICAgICAgZGVmaW5pdGlvbi5yZXNwb25zZSA9IGNyZWF0ZVJlc3BvbnNlKHN0YXR1cywgZGF0YSwgaGVhZGVycywgc3RhdHVzVGV4dCk7CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICBpZiAoJGJyb3dzZXIpIHsKICAgICAgY2hhaW4ucGFzc1Rocm91Z2ggPSBmdW5jdGlvbigpIHsKICAgICAgICBkZWZpbml0aW9uLnBhc3NUaHJvdWdoID0gdHJ1ZTsKICAgICAgfTsKICAgIH0KCiAgICBkZWZpbml0aW9ucy5wdXNoKGRlZmluaXRpb24pOwogICAgcmV0dXJuIGNoYWluOwogIH07CgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSAkaHR0cEJhY2tlbmQjd2hlbkdFVAogICAqIEBkZXNjcmlwdGlvbgogICAqIENyZWF0ZXMgYSBuZXcgYmFja2VuZCBkZWZpbml0aW9uIGZvciBHRVQgcmVxdWVzdHMuIEZvciBtb3JlIGluZm8gc2VlIGB3aGVuKClgLgogICAqCiAgICogQHBhcmFtIHtzdHJpbmd8UmVnRXhwfSB1cmwgSFRUUCB1cmwuCiAgICogQHBhcmFtIHsoT2JqZWN0fGZ1bmN0aW9uKE9iamVjdCkpPX0gaGVhZGVycyBIVFRQIGhlYWRlcnMuCiAgICogQHJldHVybnMge3JlcXVlc3RIYW5kbGVyfSBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGByZXNwb25kYCBtZXRob2QgdGhhdCBjb250cm9sIGhvdyBhIG1hdGNoZWQKICAgKiByZXF1ZXN0IGlzIGhhbmRsZWQuCiAgICovCgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSAkaHR0cEJhY2tlbmQjd2hlbkhFQUQKICAgKiBAZGVzY3JpcHRpb24KICAgKiBDcmVhdGVzIGEgbmV3IGJhY2tlbmQgZGVmaW5pdGlvbiBmb3IgSEVBRCByZXF1ZXN0cy4gRm9yIG1vcmUgaW5mbyBzZWUgYHdoZW4oKWAuCiAgICoKICAgKiBAcGFyYW0ge3N0cmluZ3xSZWdFeHB9IHVybCBIVFRQIHVybC4KICAgKiBAcGFyYW0geyhPYmplY3R8ZnVuY3Rpb24oT2JqZWN0KSk9fSBoZWFkZXJzIEhUVFAgaGVhZGVycy4KICAgKiBAcmV0dXJucyB7cmVxdWVzdEhhbmRsZXJ9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggYHJlc3BvbmRgIG1ldGhvZCB0aGF0IGNvbnRyb2wgaG93IGEgbWF0Y2hlZAogICAqIHJlcXVlc3QgaXMgaGFuZGxlZC4KICAgKi8KCiAgLyoqCiAgICogQG5nZG9jIG1ldGhvZAogICAqIEBuYW1lICRodHRwQmFja2VuZCN3aGVuREVMRVRFCiAgICogQGRlc2NyaXB0aW9uCiAgICogQ3JlYXRlcyBhIG5ldyBiYWNrZW5kIGRlZmluaXRpb24gZm9yIERFTEVURSByZXF1ZXN0cy4gRm9yIG1vcmUgaW5mbyBzZWUgYHdoZW4oKWAuCiAgICoKICAgKiBAcGFyYW0ge3N0cmluZ3xSZWdFeHB9IHVybCBIVFRQIHVybC4KICAgKiBAcGFyYW0geyhPYmplY3R8ZnVuY3Rpb24oT2JqZWN0KSk9fSBoZWFkZXJzIEhUVFAgaGVhZGVycy4KICAgKiBAcmV0dXJucyB7cmVxdWVzdEhhbmRsZXJ9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggYHJlc3BvbmRgIG1ldGhvZCB0aGF0IGNvbnRyb2wgaG93IGEgbWF0Y2hlZAogICAqIHJlcXVlc3QgaXMgaGFuZGxlZC4KICAgKi8KCiAgLyoqCiAgICogQG5nZG9jIG1ldGhvZAogICAqIEBuYW1lICRodHRwQmFja2VuZCN3aGVuUE9TVAogICAqIEBkZXNjcmlwdGlvbgogICAqIENyZWF0ZXMgYSBuZXcgYmFja2VuZCBkZWZpbml0aW9uIGZvciBQT1NUIHJlcXVlc3RzLiBGb3IgbW9yZSBpbmZvIHNlZSBgd2hlbigpYC4KICAgKgogICAqIEBwYXJhbSB7c3RyaW5nfFJlZ0V4cH0gdXJsIEhUVFAgdXJsLgogICAqIEBwYXJhbSB7KHN0cmluZ3xSZWdFeHB8ZnVuY3Rpb24oc3RyaW5nKSk9fSBkYXRhIEhUVFAgcmVxdWVzdCBib2R5IG9yIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMKICAgKiAgIGRhdGEgc3RyaW5nIGFuZCByZXR1cm5zIHRydWUgaWYgdGhlIGRhdGEgaXMgYXMgZXhwZWN0ZWQuCiAgICogQHBhcmFtIHsoT2JqZWN0fGZ1bmN0aW9uKE9iamVjdCkpPX0gaGVhZGVycyBIVFRQIGhlYWRlcnMuCiAgICogQHJldHVybnMge3JlcXVlc3RIYW5kbGVyfSBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGByZXNwb25kYCBtZXRob2QgdGhhdCBjb250cm9sIGhvdyBhIG1hdGNoZWQKICAgKiByZXF1ZXN0IGlzIGhhbmRsZWQuCiAgICovCgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSAkaHR0cEJhY2tlbmQjd2hlblBVVAogICAqIEBkZXNjcmlwdGlvbgogICAqIENyZWF0ZXMgYSBuZXcgYmFja2VuZCBkZWZpbml0aW9uIGZvciBQVVQgcmVxdWVzdHMuICBGb3IgbW9yZSBpbmZvIHNlZSBgd2hlbigpYC4KICAgKgogICAqIEBwYXJhbSB7c3RyaW5nfFJlZ0V4cH0gdXJsIEhUVFAgdXJsLgogICAqIEBwYXJhbSB7KHN0cmluZ3xSZWdFeHB8ZnVuY3Rpb24oc3RyaW5nKSk9fSBkYXRhIEhUVFAgcmVxdWVzdCBib2R5IG9yIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMKICAgKiAgIGRhdGEgc3RyaW5nIGFuZCByZXR1cm5zIHRydWUgaWYgdGhlIGRhdGEgaXMgYXMgZXhwZWN0ZWQuCiAgICogQHBhcmFtIHsoT2JqZWN0fGZ1bmN0aW9uKE9iamVjdCkpPX0gaGVhZGVycyBIVFRQIGhlYWRlcnMuCiAgICogQHJldHVybnMge3JlcXVlc3RIYW5kbGVyfSBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGByZXNwb25kYCBtZXRob2QgdGhhdCBjb250cm9sIGhvdyBhIG1hdGNoZWQKICAgKiByZXF1ZXN0IGlzIGhhbmRsZWQuCiAgICovCgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSAkaHR0cEJhY2tlbmQjd2hlbkpTT05QCiAgICogQGRlc2NyaXB0aW9uCiAgICogQ3JlYXRlcyBhIG5ldyBiYWNrZW5kIGRlZmluaXRpb24gZm9yIEpTT05QIHJlcXVlc3RzLiBGb3IgbW9yZSBpbmZvIHNlZSBgd2hlbigpYC4KICAgKgogICAqIEBwYXJhbSB7c3RyaW5nfFJlZ0V4cH0gdXJsIEhUVFAgdXJsLgogICAqIEByZXR1cm5zIHtyZXF1ZXN0SGFuZGxlcn0gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBgcmVzcG9uZGAgbWV0aG9kIHRoYXQgY29udHJvbCBob3cgYSBtYXRjaGVkCiAgICogcmVxdWVzdCBpcyBoYW5kbGVkLgogICAqLwogIGNyZWF0ZVNob3J0TWV0aG9kcygnd2hlbicpOwoKCiAgLyoqCiAgICogQG5nZG9jIG1ldGhvZAogICAqIEBuYW1lICRodHRwQmFja2VuZCNleHBlY3QKICAgKiBAZGVzY3JpcHRpb24KICAgKiBDcmVhdGVzIGEgbmV3IHJlcXVlc3QgZXhwZWN0YXRpb24uCiAgICoKICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIEhUVFAgbWV0aG9kLgogICAqIEBwYXJhbSB7c3RyaW5nfFJlZ0V4cH0gdXJsIEhUVFAgdXJsLgogICAqIEBwYXJhbSB7KHN0cmluZ3xSZWdFeHB8ZnVuY3Rpb24oc3RyaW5nKXxPYmplY3QpPX0gZGF0YSBIVFRQIHJlcXVlc3QgYm9keSBvciBmdW5jdGlvbiB0aGF0CiAgICogIHJlY2VpdmVzIGRhdGEgc3RyaW5nIGFuZCByZXR1cm5zIHRydWUgaWYgdGhlIGRhdGEgaXMgYXMgZXhwZWN0ZWQsIG9yIE9iamVjdCBpZiByZXF1ZXN0IGJvZHkKICAgKiAgaXMgaW4gSlNPTiBmb3JtYXQuCiAgICogQHBhcmFtIHsoT2JqZWN0fGZ1bmN0aW9uKE9iamVjdCkpPX0gaGVhZGVycyBIVFRQIGhlYWRlcnMgb3IgZnVuY3Rpb24gdGhhdCByZWNlaXZlcyBodHRwIGhlYWRlcgogICAqICAgb2JqZWN0IGFuZCByZXR1cm5zIHRydWUgaWYgdGhlIGhlYWRlcnMgbWF0Y2ggdGhlIGN1cnJlbnQgZXhwZWN0YXRpb24uCiAgICogQHJldHVybnMge3JlcXVlc3RIYW5kbGVyfSBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGByZXNwb25kYCBtZXRob2QgdGhhdCBjb250cm9sIGhvdyBhIG1hdGNoZWQKICAgKiAgcmVxdWVzdCBpcyBoYW5kbGVkLgogICAqCiAgICogIC0gcmVzcG9uZCDigJMKICAgKiAgICBge2Z1bmN0aW9uKFtzdGF0dXMsXSBkYXRhWywgaGVhZGVycywgc3RhdHVzVGV4dF0pCiAgICogICAgfCBmdW5jdGlvbihmdW5jdGlvbihtZXRob2QsIHVybCwgZGF0YSwgaGVhZGVycyl9YAogICAqICAgIOKAkyBUaGUgcmVzcG9uZCBtZXRob2QgdGFrZXMgYSBzZXQgb2Ygc3RhdGljIGRhdGEgdG8gYmUgcmV0dXJuZWQgb3IgYSBmdW5jdGlvbiB0aGF0IGNhbgogICAqICAgIHJldHVybiBhbiBhcnJheSBjb250YWluaW5nIHJlc3BvbnNlIHN0YXR1cyAobnVtYmVyKSwgcmVzcG9uc2UgZGF0YSAoc3RyaW5nKSwgcmVzcG9uc2UKICAgKiAgICBoZWFkZXJzIChPYmplY3QpLCBhbmQgdGhlIHRleHQgZm9yIHRoZSBzdGF0dXMgKHN0cmluZykuCiAgICovCiAgJGh0dHBCYWNrZW5kLmV4cGVjdCA9IGZ1bmN0aW9uKG1ldGhvZCwgdXJsLCBkYXRhLCBoZWFkZXJzKSB7CiAgICB2YXIgZXhwZWN0YXRpb24gPSBuZXcgTW9ja0h0dHBFeHBlY3RhdGlvbihtZXRob2QsIHVybCwgZGF0YSwgaGVhZGVycyk7CiAgICBleHBlY3RhdGlvbnMucHVzaChleHBlY3RhdGlvbik7CiAgICByZXR1cm4gewogICAgICByZXNwb25kOiBmdW5jdGlvbiAoc3RhdHVzLCBkYXRhLCBoZWFkZXJzLCBzdGF0dXNUZXh0KSB7CiAgICAgICAgZXhwZWN0YXRpb24ucmVzcG9uc2UgPSBjcmVhdGVSZXNwb25zZShzdGF0dXMsIGRhdGEsIGhlYWRlcnMsIHN0YXR1c1RleHQpOwogICAgICB9CiAgICB9OwogIH07CgoKICAvKioKICAgKiBAbmdkb2MgbWV0aG9kCiAgICogQG5hbWUgJGh0dHBCYWNrZW5kI2V4cGVjdEdFVAogICAqIEBkZXNjcmlwdGlvbgogICAqIENyZWF0ZXMgYSBuZXcgcmVxdWVzdCBleHBlY3RhdGlvbiBmb3IgR0VUIHJlcXVlc3RzLiBGb3IgbW9yZSBpbmZvIHNlZSBgZXhwZWN0KClgLgogICAqCiAgICogQHBhcmFtIHtzdHJpbmd8UmVnRXhwfSB1cmwgSFRUUCB1cmwuCiAgICogQHBhcmFtIHtPYmplY3Q9fSBoZWFkZXJzIEhUVFAgaGVhZGVycy4KICAgKiBAcmV0dXJucyB7cmVxdWVzdEhhbmRsZXJ9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggYHJlc3BvbmRgIG1ldGhvZCB0aGF0IGNvbnRyb2wgaG93IGEgbWF0Y2hlZAogICAqIHJlcXVlc3QgaXMgaGFuZGxlZC4gU2VlICNleHBlY3QgZm9yIG1vcmUgaW5mby4KICAgKi8KCiAgLyoqCiAgICogQG5nZG9jIG1ldGhvZAogICAqIEBuYW1lICRodHRwQmFja2VuZCNleHBlY3RIRUFECiAgICogQGRlc2NyaXB0aW9uCiAgICogQ3JlYXRlcyBhIG5ldyByZXF1ZXN0IGV4cGVjdGF0aW9uIGZvciBIRUFEIHJlcXVlc3RzLiBGb3IgbW9yZSBpbmZvIHNlZSBgZXhwZWN0KClgLgogICAqCiAgICogQHBhcmFtIHtzdHJpbmd8UmVnRXhwfSB1cmwgSFRUUCB1cmwuCiAgICogQHBhcmFtIHtPYmplY3Q9fSBoZWFkZXJzIEhUVFAgaGVhZGVycy4KICAgKiBAcmV0dXJucyB7cmVxdWVzdEhhbmRsZXJ9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggYHJlc3BvbmRgIG1ldGhvZCB0aGF0IGNvbnRyb2wgaG93IGEgbWF0Y2hlZAogICAqICAgcmVxdWVzdCBpcyBoYW5kbGVkLgogICAqLwoKICAvKioKICAgKiBAbmdkb2MgbWV0aG9kCiAgICogQG5hbWUgJGh0dHBCYWNrZW5kI2V4cGVjdERFTEVURQogICAqIEBkZXNjcmlwdGlvbgogICAqIENyZWF0ZXMgYSBuZXcgcmVxdWVzdCBleHBlY3RhdGlvbiBmb3IgREVMRVRFIHJlcXVlc3RzLiBGb3IgbW9yZSBpbmZvIHNlZSBgZXhwZWN0KClgLgogICAqCiAgICogQHBhcmFtIHtzdHJpbmd8UmVnRXhwfSB1cmwgSFRUUCB1cmwuCiAgICogQHBhcmFtIHtPYmplY3Q9fSBoZWFkZXJzIEhUVFAgaGVhZGVycy4KICAgKiBAcmV0dXJucyB7cmVxdWVzdEhhbmRsZXJ9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggYHJlc3BvbmRgIG1ldGhvZCB0aGF0IGNvbnRyb2wgaG93IGEgbWF0Y2hlZAogICAqICAgcmVxdWVzdCBpcyBoYW5kbGVkLgogICAqLwoKICAvKioKICAgKiBAbmdkb2MgbWV0aG9kCiAgICogQG5hbWUgJGh0dHBCYWNrZW5kI2V4cGVjdFBPU1QKICAgKiBAZGVzY3JpcHRpb24KICAgKiBDcmVhdGVzIGEgbmV3IHJlcXVlc3QgZXhwZWN0YXRpb24gZm9yIFBPU1QgcmVxdWVzdHMuIEZvciBtb3JlIGluZm8gc2VlIGBleHBlY3QoKWAuCiAgICoKICAgKiBAcGFyYW0ge3N0cmluZ3xSZWdFeHB9IHVybCBIVFRQIHVybC4KICAgKiBAcGFyYW0geyhzdHJpbmd8UmVnRXhwfGZ1bmN0aW9uKHN0cmluZyl8T2JqZWN0KT19IGRhdGEgSFRUUCByZXF1ZXN0IGJvZHkgb3IgZnVuY3Rpb24gdGhhdAogICAqICByZWNlaXZlcyBkYXRhIHN0cmluZyBhbmQgcmV0dXJucyB0cnVlIGlmIHRoZSBkYXRhIGlzIGFzIGV4cGVjdGVkLCBvciBPYmplY3QgaWYgcmVxdWVzdCBib2R5CiAgICogIGlzIGluIEpTT04gZm9ybWF0LgogICAqIEBwYXJhbSB7T2JqZWN0PX0gaGVhZGVycyBIVFRQIGhlYWRlcnMuCiAgICogQHJldHVybnMge3JlcXVlc3RIYW5kbGVyfSBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGByZXNwb25kYCBtZXRob2QgdGhhdCBjb250cm9sIGhvdyBhIG1hdGNoZWQKICAgKiAgIHJlcXVlc3QgaXMgaGFuZGxlZC4KICAgKi8KCiAgLyoqCiAgICogQG5nZG9jIG1ldGhvZAogICAqIEBuYW1lICRodHRwQmFja2VuZCNleHBlY3RQVVQKICAgKiBAZGVzY3JpcHRpb24KICAgKiBDcmVhdGVzIGEgbmV3IHJlcXVlc3QgZXhwZWN0YXRpb24gZm9yIFBVVCByZXF1ZXN0cy4gRm9yIG1vcmUgaW5mbyBzZWUgYGV4cGVjdCgpYC4KICAgKgogICAqIEBwYXJhbSB7c3RyaW5nfFJlZ0V4cH0gdXJsIEhUVFAgdXJsLgogICAqIEBwYXJhbSB7KHN0cmluZ3xSZWdFeHB8ZnVuY3Rpb24oc3RyaW5nKXxPYmplY3QpPX0gZGF0YSBIVFRQIHJlcXVlc3QgYm9keSBvciBmdW5jdGlvbiB0aGF0CiAgICogIHJlY2VpdmVzIGRhdGEgc3RyaW5nIGFuZCByZXR1cm5zIHRydWUgaWYgdGhlIGRhdGEgaXMgYXMgZXhwZWN0ZWQsIG9yIE9iamVjdCBpZiByZXF1ZXN0IGJvZHkKICAgKiAgaXMgaW4gSlNPTiBmb3JtYXQuCiAgICogQHBhcmFtIHtPYmplY3Q9fSBoZWFkZXJzIEhUVFAgaGVhZGVycy4KICAgKiBAcmV0dXJucyB7cmVxdWVzdEhhbmRsZXJ9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggYHJlc3BvbmRgIG1ldGhvZCB0aGF0IGNvbnRyb2wgaG93IGEgbWF0Y2hlZAogICAqICAgcmVxdWVzdCBpcyBoYW5kbGVkLgogICAqLwoKICAvKioKICAgKiBAbmdkb2MgbWV0aG9kCiAgICogQG5hbWUgJGh0dHBCYWNrZW5kI2V4cGVjdFBBVENICiAgICogQGRlc2NyaXB0aW9uCiAgICogQ3JlYXRlcyBhIG5ldyByZXF1ZXN0IGV4cGVjdGF0aW9uIGZvciBQQVRDSCByZXF1ZXN0cy4gRm9yIG1vcmUgaW5mbyBzZWUgYGV4cGVjdCgpYC4KICAgKgogICAqIEBwYXJhbSB7c3RyaW5nfFJlZ0V4cH0gdXJsIEhUVFAgdXJsLgogICAqIEBwYXJhbSB7KHN0cmluZ3xSZWdFeHB8ZnVuY3Rpb24oc3RyaW5nKXxPYmplY3QpPX0gZGF0YSBIVFRQIHJlcXVlc3QgYm9keSBvciBmdW5jdGlvbiB0aGF0CiAgICogIHJlY2VpdmVzIGRhdGEgc3RyaW5nIGFuZCByZXR1cm5zIHRydWUgaWYgdGhlIGRhdGEgaXMgYXMgZXhwZWN0ZWQsIG9yIE9iamVjdCBpZiByZXF1ZXN0IGJvZHkKICAgKiAgaXMgaW4gSlNPTiBmb3JtYXQuCiAgICogQHBhcmFtIHtPYmplY3Q9fSBoZWFkZXJzIEhUVFAgaGVhZGVycy4KICAgKiBAcmV0dXJucyB7cmVxdWVzdEhhbmRsZXJ9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggYHJlc3BvbmRgIG1ldGhvZCB0aGF0IGNvbnRyb2wgaG93IGEgbWF0Y2hlZAogICAqICAgcmVxdWVzdCBpcyBoYW5kbGVkLgogICAqLwoKICAvKioKICAgKiBAbmdkb2MgbWV0aG9kCiAgICogQG5hbWUgJGh0dHBCYWNrZW5kI2V4cGVjdEpTT05QCiAgICogQGRlc2NyaXB0aW9uCiAgICogQ3JlYXRlcyBhIG5ldyByZXF1ZXN0IGV4cGVjdGF0aW9uIGZvciBKU09OUCByZXF1ZXN0cy4gRm9yIG1vcmUgaW5mbyBzZWUgYGV4cGVjdCgpYC4KICAgKgogICAqIEBwYXJhbSB7c3RyaW5nfFJlZ0V4cH0gdXJsIEhUVFAgdXJsLgogICAqIEByZXR1cm5zIHtyZXF1ZXN0SGFuZGxlcn0gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBgcmVzcG9uZGAgbWV0aG9kIHRoYXQgY29udHJvbCBob3cgYSBtYXRjaGVkCiAgICogICByZXF1ZXN0IGlzIGhhbmRsZWQuCiAgICovCiAgY3JlYXRlU2hvcnRNZXRob2RzKCdleHBlY3QnKTsKCgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSAkaHR0cEJhY2tlbmQjZmx1c2gKICAgKiBAZGVzY3JpcHRpb24KICAgKiBGbHVzaGVzIGFsbCBwZW5kaW5nIHJlcXVlc3RzIHVzaW5nIHRoZSB0cmFpbmVkIHJlc3BvbnNlcy4KICAgKgogICAqIEBwYXJhbSB7bnVtYmVyPX0gY291bnQgTnVtYmVyIG9mIHJlc3BvbnNlcyB0byBmbHVzaCAoaW4gdGhlIG9yZGVyIHRoZXkgYXJyaXZlZCkuIElmIHVuZGVmaW5lZCwKICAgKiAgIGFsbCBwZW5kaW5nIHJlcXVlc3RzIHdpbGwgYmUgZmx1c2hlZC4gSWYgdGhlcmUgYXJlIG5vIHBlbmRpbmcgcmVxdWVzdHMgd2hlbiB0aGUgZmx1c2ggbWV0aG9kCiAgICogICBpcyBjYWxsZWQgYW4gZXhjZXB0aW9uIGlzIHRocm93biAoYXMgdGhpcyB0eXBpY2FsbHkgYSBzaWduIG9mIHByb2dyYW1taW5nIGVycm9yKS4KICAgKi8KICAkaHR0cEJhY2tlbmQuZmx1c2ggPSBmdW5jdGlvbihjb3VudCkgewogICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7CiAgICBpZiAoIXJlc3BvbnNlcy5sZW5ndGgpIHRocm93IG5ldyBFcnJvcignTm8gcGVuZGluZyByZXF1ZXN0IHRvIGZsdXNoICEnKTsKCiAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoY291bnQpKSB7CiAgICAgIHdoaWxlIChjb3VudC0tKSB7CiAgICAgICAgaWYgKCFyZXNwb25zZXMubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ05vIG1vcmUgcGVuZGluZyByZXF1ZXN0IHRvIGZsdXNoICEnKTsKICAgICAgICByZXNwb25zZXMuc2hpZnQoKSgpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB3aGlsZSAocmVzcG9uc2VzLmxlbmd0aCkgewogICAgICAgIHJlc3BvbnNlcy5zaGlmdCgpKCk7CiAgICAgIH0KICAgIH0KICAgICRodHRwQmFja2VuZC52ZXJpZnlOb091dHN0YW5kaW5nRXhwZWN0YXRpb24oKTsKICB9OwoKCiAgLyoqCiAgICogQG5nZG9jIG1ldGhvZAogICAqIEBuYW1lICRodHRwQmFja2VuZCN2ZXJpZnlOb091dHN0YW5kaW5nRXhwZWN0YXRpb24KICAgKiBAZGVzY3JpcHRpb24KICAgKiBWZXJpZmllcyB0aGF0IGFsbCBvZiB0aGUgcmVxdWVzdHMgZGVmaW5lZCB2aWEgdGhlIGBleHBlY3RgIGFwaSB3ZXJlIG1hZGUuIElmIGFueSBvZiB0aGUKICAgKiByZXF1ZXN0cyB3ZXJlIG5vdCBtYWRlLCB2ZXJpZnlOb091dHN0YW5kaW5nRXhwZWN0YXRpb24gdGhyb3dzIGFuIGV4Y2VwdGlvbi4KICAgKgogICAqIFR5cGljYWxseSwgeW91IHdvdWxkIGNhbGwgdGhpcyBtZXRob2QgZm9sbG93aW5nIGVhY2ggdGVzdCBjYXNlIHRoYXQgYXNzZXJ0cyByZXF1ZXN0cyB1c2luZyBhbgogICAqICJhZnRlckVhY2giIGNsYXVzZS4KICAgKgogICAqIGBgYGpzCiAgICogICBhZnRlckVhY2goJGh0dHBCYWNrZW5kLnZlcmlmeU5vT3V0c3RhbmRpbmdFeHBlY3RhdGlvbik7CiAgICogYGBgCiAgICovCiAgJGh0dHBCYWNrZW5kLnZlcmlmeU5vT3V0c3RhbmRpbmdFeHBlY3RhdGlvbiA9IGZ1bmN0aW9uKCkgewogICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7CiAgICBpZiAoZXhwZWN0YXRpb25zLmxlbmd0aCkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc2F0aXNmaWVkIHJlcXVlc3RzOiAnICsgZXhwZWN0YXRpb25zLmpvaW4oJywgJykpOwogICAgfQogIH07CgoKICAvKioKICAgKiBAbmdkb2MgbWV0aG9kCiAgICogQG5hbWUgJGh0dHBCYWNrZW5kI3ZlcmlmeU5vT3V0c3RhbmRpbmdSZXF1ZXN0CiAgICogQGRlc2NyaXB0aW9uCiAgICogVmVyaWZpZXMgdGhhdCB0aGVyZSBhcmUgbm8gb3V0c3RhbmRpbmcgcmVxdWVzdHMgdGhhdCBuZWVkIHRvIGJlIGZsdXNoZWQuCiAgICoKICAgKiBUeXBpY2FsbHksIHlvdSB3b3VsZCBjYWxsIHRoaXMgbWV0aG9kIGZvbGxvd2luZyBlYWNoIHRlc3QgY2FzZSB0aGF0IGFzc2VydHMgcmVxdWVzdHMgdXNpbmcgYW4KICAgKiAiYWZ0ZXJFYWNoIiBjbGF1c2UuCiAgICoKICAgKiBgYGBqcwogICAqICAgYWZ0ZXJFYWNoKCRodHRwQmFja2VuZC52ZXJpZnlOb091dHN0YW5kaW5nUmVxdWVzdCk7CiAgICogYGBgCiAgICovCiAgJGh0dHBCYWNrZW5kLnZlcmlmeU5vT3V0c3RhbmRpbmdSZXF1ZXN0ID0gZnVuY3Rpb24oKSB7CiAgICBpZiAocmVzcG9uc2VzLmxlbmd0aCkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZmx1c2hlZCByZXF1ZXN0czogJyArIHJlc3BvbnNlcy5sZW5ndGgpOwogICAgfQogIH07CgoKICAvKioKICAgKiBAbmdkb2MgbWV0aG9kCiAgICogQG5hbWUgJGh0dHBCYWNrZW5kI3Jlc2V0RXhwZWN0YXRpb25zCiAgICogQGRlc2NyaXB0aW9uCiAgICogUmVzZXRzIGFsbCByZXF1ZXN0IGV4cGVjdGF0aW9ucywgYnV0IHByZXNlcnZlcyBhbGwgYmFja2VuZCBkZWZpbml0aW9ucy4gVHlwaWNhbGx5LCB5b3Ugd291bGQKICAgKiBjYWxsIHJlc2V0RXhwZWN0YXRpb25zIGR1cmluZyBhIG11bHRpcGxlLXBoYXNlIHRlc3Qgd2hlbiB5b3Ugd2FudCB0byByZXVzZSB0aGUgc2FtZSBpbnN0YW5jZSBvZgogICAqICRodHRwQmFja2VuZCBtb2NrLgogICAqLwogICRodHRwQmFja2VuZC5yZXNldEV4cGVjdGF0aW9ucyA9IGZ1bmN0aW9uKCkgewogICAgZXhwZWN0YXRpb25zLmxlbmd0aCA9IDA7CiAgICByZXNwb25zZXMubGVuZ3RoID0gMDsKICB9OwoKICByZXR1cm4gJGh0dHBCYWNrZW5kOwoKCiAgZnVuY3Rpb24gY3JlYXRlU2hvcnRNZXRob2RzKHByZWZpeCkgewogICAgYW5ndWxhci5mb3JFYWNoKFsnR0VUJywgJ0RFTEVURScsICdKU09OUCddLCBmdW5jdGlvbihtZXRob2QpIHsKICAgICAkaHR0cEJhY2tlbmRbcHJlZml4ICsgbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgaGVhZGVycykgewogICAgICAgcmV0dXJuICRodHRwQmFja2VuZFtwcmVmaXhdKG1ldGhvZCwgdXJsLCB1bmRlZmluZWQsIGhlYWRlcnMpOwogICAgIH07CiAgICB9KTsKCiAgICBhbmd1bGFyLmZvckVhY2goWydQVVQnLCAnUE9TVCcsICdQQVRDSCddLCBmdW5jdGlvbihtZXRob2QpIHsKICAgICAgJGh0dHBCYWNrZW5kW3ByZWZpeCArIG1ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGRhdGEsIGhlYWRlcnMpIHsKICAgICAgICByZXR1cm4gJGh0dHBCYWNrZW5kW3ByZWZpeF0obWV0aG9kLCB1cmwsIGRhdGEsIGhlYWRlcnMpOwogICAgICB9OwogICAgfSk7CiAgfQp9CgpmdW5jdGlvbiBNb2NrSHR0cEV4cGVjdGF0aW9uKG1ldGhvZCwgdXJsLCBkYXRhLCBoZWFkZXJzKSB7CgogIHRoaXMuZGF0YSA9IGRhdGE7CiAgdGhpcy5oZWFkZXJzID0gaGVhZGVyczsKCiAgdGhpcy5tYXRjaCA9IGZ1bmN0aW9uKG0sIHUsIGQsIGgpIHsKICAgIGlmIChtZXRob2QgIT0gbSkgcmV0dXJuIGZhbHNlOwogICAgaWYgKCF0aGlzLm1hdGNoVXJsKHUpKSByZXR1cm4gZmFsc2U7CiAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoZCkgJiYgIXRoaXMubWF0Y2hEYXRhKGQpKSByZXR1cm4gZmFsc2U7CiAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoaCkgJiYgIXRoaXMubWF0Y2hIZWFkZXJzKGgpKSByZXR1cm4gZmFsc2U7CiAgICByZXR1cm4gdHJ1ZTsKICB9OwoKICB0aGlzLm1hdGNoVXJsID0gZnVuY3Rpb24odSkgewogICAgaWYgKCF1cmwpIHJldHVybiB0cnVlOwogICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih1cmwudGVzdCkpIHJldHVybiB1cmwudGVzdCh1KTsKICAgIHJldHVybiB1cmwgPT0gdTsKICB9OwoKICB0aGlzLm1hdGNoSGVhZGVycyA9IGZ1bmN0aW9uKGgpIHsKICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKGhlYWRlcnMpKSByZXR1cm4gdHJ1ZTsKICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oaGVhZGVycykpIHJldHVybiBoZWFkZXJzKGgpOwogICAgcmV0dXJuIGFuZ3VsYXIuZXF1YWxzKGhlYWRlcnMsIGgpOwogIH07CgogIHRoaXMubWF0Y2hEYXRhID0gZnVuY3Rpb24oZCkgewogICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoZGF0YSkpIHJldHVybiB0cnVlOwogICAgaWYgKGRhdGEgJiYgYW5ndWxhci5pc0Z1bmN0aW9uKGRhdGEudGVzdCkpIHJldHVybiBkYXRhLnRlc3QoZCk7CiAgICBpZiAoZGF0YSAmJiBhbmd1bGFyLmlzRnVuY3Rpb24oZGF0YSkpIHJldHVybiBkYXRhKGQpOwogICAgaWYgKGRhdGEgJiYgIWFuZ3VsYXIuaXNTdHJpbmcoZGF0YSkpIHJldHVybiBhbmd1bGFyLmVxdWFscyhkYXRhLCBhbmd1bGFyLmZyb21Kc29uKGQpKTsKICAgIHJldHVybiBkYXRhID09IGQ7CiAgfTsKCiAgdGhpcy50b1N0cmluZyA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIG1ldGhvZCArICcgJyArIHVybDsKICB9Owp9CgpmdW5jdGlvbiBjcmVhdGVNb2NrWGhyKCkgewogIHJldHVybiBuZXcgTW9ja1hocigpOwp9CgpmdW5jdGlvbiBNb2NrWGhyKCkgewoKICAvLyBoYWNrIGZvciB0ZXN0aW5nICRodHRwLCAkaHR0cEJhY2tlbmQKICBNb2NrWGhyLiQkbGFzdEluc3RhbmNlID0gdGhpczsKCiAgdGhpcy5vcGVuID0gZnVuY3Rpb24obWV0aG9kLCB1cmwsIGFzeW5jKSB7CiAgICB0aGlzLiQkbWV0aG9kID0gbWV0aG9kOwogICAgdGhpcy4kJHVybCA9IHVybDsKICAgIHRoaXMuJCRhc3luYyA9IGFzeW5jOwogICAgdGhpcy4kJHJlcUhlYWRlcnMgPSB7fTsKICAgIHRoaXMuJCRyZXNwSGVhZGVycyA9IHt9OwogIH07CgogIHRoaXMuc2VuZCA9IGZ1bmN0aW9uKGRhdGEpIHsKICAgIHRoaXMuJCRkYXRhID0gZGF0YTsKICB9OwoKICB0aGlzLnNldFJlcXVlc3RIZWFkZXIgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7CiAgICB0aGlzLiQkcmVxSGVhZGVyc1trZXldID0gdmFsdWU7CiAgfTsKCiAgdGhpcy5nZXRSZXNwb25zZUhlYWRlciA9IGZ1bmN0aW9uKG5hbWUpIHsKICAgIC8vIHRoZSBsb29rdXAgbXVzdCBiZSBjYXNlIGluc2Vuc2l0aXZlLAogICAgLy8gdGhhdCdzIHdoeSB3ZSB0cnkgdHdvIHF1aWNrIGxvb2t1cHMgZmlyc3QgYW5kIGZ1bGwgc2NhbiBsYXN0CiAgICB2YXIgaGVhZGVyID0gdGhpcy4kJHJlc3BIZWFkZXJzW25hbWVdOwogICAgaWYgKGhlYWRlcikgcmV0dXJuIGhlYWRlcjsKCiAgICBuYW1lID0gYW5ndWxhci5sb3dlcmNhc2UobmFtZSk7CiAgICBoZWFkZXIgPSB0aGlzLiQkcmVzcEhlYWRlcnNbbmFtZV07CiAgICBpZiAoaGVhZGVyKSByZXR1cm4gaGVhZGVyOwoKICAgIGhlYWRlciA9IHVuZGVmaW5lZDsKICAgIGFuZ3VsYXIuZm9yRWFjaCh0aGlzLiQkcmVzcEhlYWRlcnMsIGZ1bmN0aW9uKGhlYWRlclZhbCwgaGVhZGVyTmFtZSkgewogICAgICBpZiAoIWhlYWRlciAmJiBhbmd1bGFyLmxvd2VyY2FzZShoZWFkZXJOYW1lKSA9PSBuYW1lKSBoZWFkZXIgPSBoZWFkZXJWYWw7CiAgICB9KTsKICAgIHJldHVybiBoZWFkZXI7CiAgfTsKCiAgdGhpcy5nZXRBbGxSZXNwb25zZUhlYWRlcnMgPSBmdW5jdGlvbigpIHsKICAgIHZhciBsaW5lcyA9IFtdOwoKICAgIGFuZ3VsYXIuZm9yRWFjaCh0aGlzLiQkcmVzcEhlYWRlcnMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHsKICAgICAgbGluZXMucHVzaChrZXkgKyAnOiAnICsgdmFsdWUpOwogICAgfSk7CiAgICByZXR1cm4gbGluZXMuam9pbignXG4nKTsKICB9OwoKICB0aGlzLmFib3J0ID0gYW5ndWxhci5ub29wOwp9CgoKLyoqCiAqIEBuZ2RvYyBzZXJ2aWNlCiAqIEBuYW1lICR0aW1lb3V0CiAqIEBkZXNjcmlwdGlvbgogKgogKiBUaGlzIHNlcnZpY2UgaXMganVzdCBhIHNpbXBsZSBkZWNvcmF0b3IgZm9yIHtAbGluayBuZy4kdGltZW91dCAkdGltZW91dH0gc2VydmljZQogKiB0aGF0IGFkZHMgYSAiZmx1c2giIGFuZCAidmVyaWZ5Tm9QZW5kaW5nVGFza3MiIG1ldGhvZHMuCiAqLwoKYW5ndWxhci5tb2NrLiRUaW1lb3V0RGVjb3JhdG9yID0gZnVuY3Rpb24oJGRlbGVnYXRlLCAkYnJvd3NlcikgewoKICAvKioKICAgKiBAbmdkb2MgbWV0aG9kCiAgICogQG5hbWUgJHRpbWVvdXQjZmx1c2gKICAgKiBAZGVzY3JpcHRpb24KICAgKgogICAqIEZsdXNoZXMgdGhlIHF1ZXVlIG9mIHBlbmRpbmcgdGFza3MuCiAgICoKICAgKiBAcGFyYW0ge251bWJlcj19IGRlbGF5IG1heGltdW0gdGltZW91dCBhbW91bnQgdG8gZmx1c2ggdXAgdW50aWwKICAgKi8KICAkZGVsZWdhdGUuZmx1c2ggPSBmdW5jdGlvbihkZWxheSkgewogICAgJGJyb3dzZXIuZGVmZXIuZmx1c2goZGVsYXkpOwogIH07CgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSAkdGltZW91dCN2ZXJpZnlOb1BlbmRpbmdUYXNrcwogICAqIEBkZXNjcmlwdGlvbgogICAqCiAgICogVmVyaWZpZXMgdGhhdCB0aGVyZSBhcmUgbm8gcGVuZGluZyB0YXNrcyB0aGF0IG5lZWQgdG8gYmUgZmx1c2hlZC4KICAgKi8KICAkZGVsZWdhdGUudmVyaWZ5Tm9QZW5kaW5nVGFza3MgPSBmdW5jdGlvbigpIHsKICAgIGlmICgkYnJvd3Nlci5kZWZlcnJlZEZucy5sZW5ndGgpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdEZWZlcnJlZCB0YXNrcyB0byBmbHVzaCAoJyArICRicm93c2VyLmRlZmVycmVkRm5zLmxlbmd0aCArICcpOiAnICsKICAgICAgICAgIGZvcm1hdFBlbmRpbmdUYXNrc0FzU3RyaW5nKCRicm93c2VyLmRlZmVycmVkRm5zKSk7CiAgICB9CiAgfTsKCiAgZnVuY3Rpb24gZm9ybWF0UGVuZGluZ1Rhc2tzQXNTdHJpbmcodGFza3MpIHsKICAgIHZhciByZXN1bHQgPSBbXTsKICAgIGFuZ3VsYXIuZm9yRWFjaCh0YXNrcywgZnVuY3Rpb24odGFzaykgewogICAgICByZXN1bHQucHVzaCgne2lkOiAnICsgdGFzay5pZCArICcsICcgKyAndGltZTogJyArIHRhc2sudGltZSArICd9Jyk7CiAgICB9KTsKCiAgICByZXR1cm4gcmVzdWx0LmpvaW4oJywgJyk7CiAgfQoKICByZXR1cm4gJGRlbGVnYXRlOwp9OwoKYW5ndWxhci5tb2NrLiRSQUZEZWNvcmF0b3IgPSBmdW5jdGlvbigkZGVsZWdhdGUpIHsKICB2YXIgcXVldWUgPSBbXTsKICB2YXIgcmFmRm4gPSBmdW5jdGlvbihmbikgewogICAgdmFyIGluZGV4ID0gcXVldWUubGVuZ3RoOwogICAgcXVldWUucHVzaChmbik7CiAgICByZXR1cm4gZnVuY3Rpb24oKSB7CiAgICAgIHF1ZXVlLnNwbGljZShpbmRleCwgMSk7CiAgICB9OwogIH07CgogIHJhZkZuLnN1cHBvcnRlZCA9ICRkZWxlZ2F0ZS5zdXBwb3J0ZWQ7CgogIHJhZkZuLmZsdXNoID0gZnVuY3Rpb24oKSB7CiAgICBpZihxdWV1ZS5sZW5ndGggPT09IDApIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyByQUYgY2FsbGJhY2tzIHByZXNlbnQnKTsKICAgIH0KCiAgICB2YXIgbGVuZ3RoID0gcXVldWUubGVuZ3RoOwogICAgZm9yKHZhciBpPTA7aTxsZW5ndGg7aSsrKSB7CiAgICAgIHF1ZXVlW2ldKCk7CiAgICB9CgogICAgcXVldWUgPSBbXTsKICB9OwoKICByZXR1cm4gcmFmRm47Cn07Cgphbmd1bGFyLm1vY2suJEFzeW5jQ2FsbGJhY2tEZWNvcmF0b3IgPSBmdW5jdGlvbigkZGVsZWdhdGUpIHsKICB2YXIgY2FsbGJhY2tzID0gW107CiAgdmFyIGFkZEZuID0gZnVuY3Rpb24oZm4pIHsKICAgIGNhbGxiYWNrcy5wdXNoKGZuKTsKICB9OwogIGFkZEZuLmZsdXNoID0gZnVuY3Rpb24oKSB7CiAgICBhbmd1bGFyLmZvckVhY2goY2FsbGJhY2tzLCBmdW5jdGlvbihmbikgewogICAgICBmbigpOwogICAgfSk7CiAgICBjYWxsYmFja3MgPSBbXTsKICB9OwogIHJldHVybiBhZGRGbjsKfTsKCi8qKgogKgogKi8KYW5ndWxhci5tb2NrLiRSb290RWxlbWVudFByb3ZpZGVyID0gZnVuY3Rpb24oKSB7CiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gYW5ndWxhci5lbGVtZW50KCc8ZGl2IG5nLWFwcD48L2Rpdj4nKTsKICB9Owp9OwoKLyoqCiAqIEBuZ2RvYyBtb2R1bGUKICogQG5hbWUgbmdNb2NrCiAqIEBkZXNjcmlwdGlvbgogKgogKiAjIG5nTW9jawogKgogKiBUaGUgYG5nTW9ja2AgbW9kdWxlIHByb3ZpZGVzIHN1cHBvcnQgdG8gaW5qZWN0IGFuZCBtb2NrIEFuZ3VsYXIgc2VydmljZXMgaW50byB1bml0IHRlc3RzLgogKiBJbiBhZGRpdGlvbiwgbmdNb2NrIGFsc28gZXh0ZW5kcyB2YXJpb3VzIGNvcmUgbmcgc2VydmljZXMgc3VjaCB0aGF0IHRoZXkgY2FuIGJlCiAqIGluc3BlY3RlZCBhbmQgY29udHJvbGxlZCBpbiBhIHN5bmNocm9ub3VzIG1hbm5lciB3aXRoaW4gdGVzdCBjb2RlLgogKgogKgogKiA8ZGl2IGRvYy1tb2R1bGUtY29tcG9uZW50cz0ibmdNb2NrIj48L2Rpdj4KICoKICovCmFuZ3VsYXIubW9kdWxlKCduZ01vY2snLCBbJ25nJ10pLnByb3ZpZGVyKHsKICAkYnJvd3NlcjogYW5ndWxhci5tb2NrLiRCcm93c2VyUHJvdmlkZXIsCiAgJGV4Y2VwdGlvbkhhbmRsZXI6IGFuZ3VsYXIubW9jay4kRXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyLAogICRsb2c6IGFuZ3VsYXIubW9jay4kTG9nUHJvdmlkZXIsCiAgJGludGVydmFsOiBhbmd1bGFyLm1vY2suJEludGVydmFsUHJvdmlkZXIsCiAgJGh0dHBCYWNrZW5kOiBhbmd1bGFyLm1vY2suJEh0dHBCYWNrZW5kUHJvdmlkZXIsCiAgJHJvb3RFbGVtZW50OiBhbmd1bGFyLm1vY2suJFJvb3RFbGVtZW50UHJvdmlkZXIKfSkuY29uZmlnKFsnJHByb3ZpZGUnLCBmdW5jdGlvbigkcHJvdmlkZSkgewogICRwcm92aWRlLmRlY29yYXRvcignJHRpbWVvdXQnLCBhbmd1bGFyLm1vY2suJFRpbWVvdXREZWNvcmF0b3IpOwogICRwcm92aWRlLmRlY29yYXRvcignJCRyQUYnLCBhbmd1bGFyLm1vY2suJFJBRkRlY29yYXRvcik7CiAgJHByb3ZpZGUuZGVjb3JhdG9yKCckJGFzeW5jQ2FsbGJhY2snLCBhbmd1bGFyLm1vY2suJEFzeW5jQ2FsbGJhY2tEZWNvcmF0b3IpOwp9XSk7CgovKioKICogQG5nZG9jIG1vZHVsZQogKiBAbmFtZSBuZ01vY2tFMkUKICogQG1vZHVsZSBuZ01vY2tFMkUKICogQGRlc2NyaXB0aW9uCiAqCiAqIFRoZSBgbmdNb2NrRTJFYCBpcyBhbiBhbmd1bGFyIG1vZHVsZSB3aGljaCBjb250YWlucyBtb2NrcyBzdWl0YWJsZSBmb3IgZW5kLXRvLWVuZCB0ZXN0aW5nLgogKiBDdXJyZW50bHkgdGhlcmUgaXMgb25seSBvbmUgbW9jayBwcmVzZW50IGluIHRoaXMgbW9kdWxlIC0KICogdGhlIHtAbGluayBuZ01vY2tFMkUuJGh0dHBCYWNrZW5kIGUyZSAkaHR0cEJhY2tlbmR9IG1vY2suCiAqLwphbmd1bGFyLm1vZHVsZSgnbmdNb2NrRTJFJywgWyduZyddKS5jb25maWcoWyckcHJvdmlkZScsIGZ1bmN0aW9uKCRwcm92aWRlKSB7CiAgJHByb3ZpZGUuZGVjb3JhdG9yKCckaHR0cEJhY2tlbmQnLCBhbmd1bGFyLm1vY2suZTJlLiRodHRwQmFja2VuZERlY29yYXRvcik7Cn1dKTsKCi8qKgogKiBAbmdkb2Mgc2VydmljZQogKiBAbmFtZSAkaHR0cEJhY2tlbmQKICogQG1vZHVsZSBuZ01vY2tFMkUKICogQGRlc2NyaXB0aW9uCiAqIEZha2UgSFRUUCBiYWNrZW5kIGltcGxlbWVudGF0aW9uIHN1aXRhYmxlIGZvciBlbmQtdG8tZW5kIHRlc3Rpbmcgb3IgYmFja2VuZC1sZXNzIGRldmVsb3BtZW50IG9mCiAqIGFwcGxpY2F0aW9ucyB0aGF0IHVzZSB0aGUge0BsaW5rIG5nLiRodHRwICRodHRwIHNlcnZpY2V9LgogKgogKiAqTm90ZSo6IEZvciBmYWtlIGh0dHAgYmFja2VuZCBpbXBsZW1lbnRhdGlvbiBzdWl0YWJsZSBmb3IgdW5pdCB0ZXN0aW5nIHBsZWFzZSBzZWUKICoge0BsaW5rIG5nTW9jay4kaHR0cEJhY2tlbmQgdW5pdC10ZXN0aW5nICRodHRwQmFja2VuZCBtb2NrfS4KICoKICogVGhpcyBpbXBsZW1lbnRhdGlvbiBjYW4gYmUgdXNlZCB0byByZXNwb25kIHdpdGggc3RhdGljIG9yIGR5bmFtaWMgcmVzcG9uc2VzIHZpYSB0aGUgYHdoZW5gIGFwaQogKiBhbmQgaXRzIHNob3J0Y3V0cyAoYHdoZW5HRVRgLCBgd2hlblBPU1RgLCBldGMpIGFuZCBvcHRpb25hbGx5IHBhc3MgdGhyb3VnaCByZXF1ZXN0cyB0byB0aGUKICogcmVhbCAkaHR0cEJhY2tlbmQgZm9yIHNwZWNpZmljIHJlcXVlc3RzIChlLmcuIHRvIGludGVyYWN0IHdpdGggY2VydGFpbiByZW1vdGUgYXBpcyBvciB0byBmZXRjaAogKiB0ZW1wbGF0ZXMgZnJvbSBhIHdlYnNlcnZlcikuCiAqCiAqIEFzIG9wcG9zZWQgdG8gdW5pdC10ZXN0aW5nLCBpbiBhbiBlbmQtdG8tZW5kIHRlc3Rpbmcgc2NlbmFyaW8gb3IgaW4gc2NlbmFyaW8gd2hlbiBhbiBhcHBsaWNhdGlvbgogKiBpcyBiZWluZyBkZXZlbG9wZWQgd2l0aCB0aGUgcmVhbCBiYWNrZW5kIGFwaSByZXBsYWNlZCB3aXRoIGEgbW9jaywgaXQgaXMgb2Z0ZW4gZGVzaXJhYmxlIGZvcgogKiBjZXJ0YWluIGNhdGVnb3J5IG9mIHJlcXVlc3RzIHRvIGJ5cGFzcyB0aGUgbW9jayBhbmQgaXNzdWUgYSByZWFsIGh0dHAgcmVxdWVzdCAoZS5nLiB0byBmZXRjaAogKiB0ZW1wbGF0ZXMgb3Igc3RhdGljIGZpbGVzIGZyb20gdGhlIHdlYnNlcnZlcikuIFRvIGNvbmZpZ3VyZSB0aGUgYmFja2VuZCB3aXRoIHRoaXMgYmVoYXZpb3IKICogdXNlIHRoZSBgcGFzc1Rocm91Z2hgIHJlcXVlc3QgaGFuZGxlciBvZiBgd2hlbmAgaW5zdGVhZCBvZiBgcmVzcG9uZGAuCiAqCiAqIEFkZGl0aW9uYWxseSwgd2UgZG9uJ3Qgd2FudCB0byBtYW51YWxseSBoYXZlIHRvIGZsdXNoIG1vY2tlZCBvdXQgcmVxdWVzdHMgbGlrZSB3ZSBkbyBkdXJpbmcgdW5pdAogKiB0ZXN0aW5nLiBGb3IgdGhpcyByZWFzb24gdGhlIGUyZSAkaHR0cEJhY2tlbmQgYXV0b21hdGljYWxseSBmbHVzaGVzIG1vY2tlZCBvdXQgcmVxdWVzdHMKICogYXV0b21hdGljYWxseSwgY2xvc2VseSBzaW11bGF0aW5nIHRoZSBiZWhhdmlvciBvZiB0aGUgWE1MSHR0cFJlcXVlc3Qgb2JqZWN0LgogKgogKiBUbyBzZXR1cCB0aGUgYXBwbGljYXRpb24gdG8gcnVuIHdpdGggdGhpcyBodHRwIGJhY2tlbmQsIHlvdSBoYXZlIHRvIGNyZWF0ZSBhIG1vZHVsZSB0aGF0IGRlcGVuZHMKICogb24gdGhlIGBuZ01vY2tFMkVgIGFuZCB5b3VyIGFwcGxpY2F0aW9uIG1vZHVsZXMgYW5kIGRlZmluZXMgdGhlIGZha2UgYmFja2VuZDoKICoKICogYGBganMKICogICBteUFwcERldiA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcERldicsIFsnbXlBcHAnLCAnbmdNb2NrRTJFJ10pOwogKiAgIG15QXBwRGV2LnJ1bihmdW5jdGlvbigkaHR0cEJhY2tlbmQpIHsKICogICAgIHBob25lcyA9IFt7bmFtZTogJ3Bob25lMSd9LCB7bmFtZTogJ3Bob25lMid9XTsKICoKICogICAgIC8vIHJldHVybnMgdGhlIGN1cnJlbnQgbGlzdCBvZiBwaG9uZXMKICogICAgICRodHRwQmFja2VuZC53aGVuR0VUKCcvcGhvbmVzJykucmVzcG9uZChwaG9uZXMpOwogKgogKiAgICAgLy8gYWRkcyBhIG5ldyBwaG9uZSB0byB0aGUgcGhvbmVzIGFycmF5CiAqICAgICAkaHR0cEJhY2tlbmQud2hlblBPU1QoJy9waG9uZXMnKS5yZXNwb25kKGZ1bmN0aW9uKG1ldGhvZCwgdXJsLCBkYXRhKSB7CiAqICAgICAgIHZhciBwaG9uZSA9IGFuZ3VsYXIuZnJvbUpzb24oZGF0YSk7CiAqICAgICAgIHBob25lcy5wdXNoKHBob25lKTsKICogICAgICAgcmV0dXJuIFsyMDAsIHBob25lLCB7fV07CiAqICAgICB9KTsKICogICAgICRodHRwQmFja2VuZC53aGVuR0VUKC9eXC90ZW1wbGF0ZXNcLy8pLnBhc3NUaHJvdWdoKCk7CiAqICAgICAvLy4uLgogKiAgIH0pOwogKiBgYGAKICoKICogQWZ0ZXJ3YXJkcywgYm9vdHN0cmFwIHlvdXIgYXBwIHdpdGggdGhpcyBuZXcgbW9kdWxlLgogKi8KCi8qKgogKiBAbmdkb2MgbWV0aG9kCiAqIEBuYW1lICRodHRwQmFja2VuZCN3aGVuCiAqIEBtb2R1bGUgbmdNb2NrRTJFCiAqIEBkZXNjcmlwdGlvbgogKiBDcmVhdGVzIGEgbmV3IGJhY2tlbmQgZGVmaW5pdGlvbi4KICoKICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCBIVFRQIG1ldGhvZC4KICogQHBhcmFtIHtzdHJpbmd8UmVnRXhwfSB1cmwgSFRUUCB1cmwuCiAqIEBwYXJhbSB7KHN0cmluZ3xSZWdFeHApPX0gZGF0YSBIVFRQIHJlcXVlc3QgYm9keS4KICogQHBhcmFtIHsoT2JqZWN0fGZ1bmN0aW9uKE9iamVjdCkpPX0gaGVhZGVycyBIVFRQIGhlYWRlcnMgb3IgZnVuY3Rpb24gdGhhdCByZWNlaXZlcyBodHRwIGhlYWRlcgogKiAgIG9iamVjdCBhbmQgcmV0dXJucyB0cnVlIGlmIHRoZSBoZWFkZXJzIG1hdGNoIHRoZSBjdXJyZW50IGRlZmluaXRpb24uCiAqIEByZXR1cm5zIHtyZXF1ZXN0SGFuZGxlcn0gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBgcmVzcG9uZGAgYW5kIGBwYXNzVGhyb3VnaGAgbWV0aG9kcyB0aGF0CiAqICAgY29udHJvbCBob3cgYSBtYXRjaGVkIHJlcXVlc3QgaXMgaGFuZGxlZC4KICoKICogIC0gcmVzcG9uZCDigJMKICogICAgYHtmdW5jdGlvbihbc3RhdHVzLF0gZGF0YVssIGhlYWRlcnMsIHN0YXR1c1RleHRdKQogKiAgICB8IGZ1bmN0aW9uKGZ1bmN0aW9uKG1ldGhvZCwgdXJsLCBkYXRhLCBoZWFkZXJzKX1gCiAqICAgIOKAkyBUaGUgcmVzcG9uZCBtZXRob2QgdGFrZXMgYSBzZXQgb2Ygc3RhdGljIGRhdGEgdG8gYmUgcmV0dXJuZWQgb3IgYSBmdW5jdGlvbiB0aGF0IGNhbiByZXR1cm4KICogICAgYW4gYXJyYXkgY29udGFpbmluZyByZXNwb25zZSBzdGF0dXMgKG51bWJlciksIHJlc3BvbnNlIGRhdGEgKHN0cmluZyksIHJlc3BvbnNlIGhlYWRlcnMKICogICAgKE9iamVjdCksIGFuZCB0aGUgdGV4dCBmb3IgdGhlIHN0YXR1cyAoc3RyaW5nKS4KICogIC0gcGFzc1Rocm91Z2gg4oCTIGB7ZnVuY3Rpb24oKX1gIOKAkyBBbnkgcmVxdWVzdCBtYXRjaGluZyBhIGJhY2tlbmQgZGVmaW5pdGlvbiB3aXRoCiAqICAgIGBwYXNzVGhyb3VnaGAgaGFuZGxlciB3aWxsIGJlIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSByZWFsIGJhY2tlbmQgKGFuIFhIUiByZXF1ZXN0IHdpbGwgYmUgbWFkZQogKiAgICB0byB0aGUgc2VydmVyLikKICovCgovKioKICogQG5nZG9jIG1ldGhvZAogKiBAbmFtZSAkaHR0cEJhY2tlbmQjd2hlbkdFVAogKiBAbW9kdWxlIG5nTW9ja0UyRQogKiBAZGVzY3JpcHRpb24KICogQ3JlYXRlcyBhIG5ldyBiYWNrZW5kIGRlZmluaXRpb24gZm9yIEdFVCByZXF1ZXN0cy4gRm9yIG1vcmUgaW5mbyBzZWUgYHdoZW4oKWAuCiAqCiAqIEBwYXJhbSB7c3RyaW5nfFJlZ0V4cH0gdXJsIEhUVFAgdXJsLgogKiBAcGFyYW0geyhPYmplY3R8ZnVuY3Rpb24oT2JqZWN0KSk9fSBoZWFkZXJzIEhUVFAgaGVhZGVycy4KICogQHJldHVybnMge3JlcXVlc3RIYW5kbGVyfSBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGByZXNwb25kYCBhbmQgYHBhc3NUaHJvdWdoYCBtZXRob2RzIHRoYXQKICogICBjb250cm9sIGhvdyBhIG1hdGNoZWQgcmVxdWVzdCBpcyBoYW5kbGVkLgogKi8KCi8qKgogKiBAbmdkb2MgbWV0aG9kCiAqIEBuYW1lICRodHRwQmFja2VuZCN3aGVuSEVBRAogKiBAbW9kdWxlIG5nTW9ja0UyRQogKiBAZGVzY3JpcHRpb24KICogQ3JlYXRlcyBhIG5ldyBiYWNrZW5kIGRlZmluaXRpb24gZm9yIEhFQUQgcmVxdWVzdHMuIEZvciBtb3JlIGluZm8gc2VlIGB3aGVuKClgLgogKgogKiBAcGFyYW0ge3N0cmluZ3xSZWdFeHB9IHVybCBIVFRQIHVybC4KICogQHBhcmFtIHsoT2JqZWN0fGZ1bmN0aW9uKE9iamVjdCkpPX0gaGVhZGVycyBIVFRQIGhlYWRlcnMuCiAqIEByZXR1cm5zIHtyZXF1ZXN0SGFuZGxlcn0gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBgcmVzcG9uZGAgYW5kIGBwYXNzVGhyb3VnaGAgbWV0aG9kcyB0aGF0CiAqICAgY29udHJvbCBob3cgYSBtYXRjaGVkIHJlcXVlc3QgaXMgaGFuZGxlZC4KICovCgovKioKICogQG5nZG9jIG1ldGhvZAogKiBAbmFtZSAkaHR0cEJhY2tlbmQjd2hlbkRFTEVURQogKiBAbW9kdWxlIG5nTW9ja0UyRQogKiBAZGVzY3JpcHRpb24KICogQ3JlYXRlcyBhIG5ldyBiYWNrZW5kIGRlZmluaXRpb24gZm9yIERFTEVURSByZXF1ZXN0cy4gRm9yIG1vcmUgaW5mbyBzZWUgYHdoZW4oKWAuCiAqCiAqIEBwYXJhbSB7c3RyaW5nfFJlZ0V4cH0gdXJsIEhUVFAgdXJsLgogKiBAcGFyYW0geyhPYmplY3R8ZnVuY3Rpb24oT2JqZWN0KSk9fSBoZWFkZXJzIEhUVFAgaGVhZGVycy4KICogQHJldHVybnMge3JlcXVlc3RIYW5kbGVyfSBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGByZXNwb25kYCBhbmQgYHBhc3NUaHJvdWdoYCBtZXRob2RzIHRoYXQKICogICBjb250cm9sIGhvdyBhIG1hdGNoZWQgcmVxdWVzdCBpcyBoYW5kbGVkLgogKi8KCi8qKgogKiBAbmdkb2MgbWV0aG9kCiAqIEBuYW1lICRodHRwQmFja2VuZCN3aGVuUE9TVAogKiBAbW9kdWxlIG5nTW9ja0UyRQogKiBAZGVzY3JpcHRpb24KICogQ3JlYXRlcyBhIG5ldyBiYWNrZW5kIGRlZmluaXRpb24gZm9yIFBPU1QgcmVxdWVzdHMuIEZvciBtb3JlIGluZm8gc2VlIGB3aGVuKClgLgogKgogKiBAcGFyYW0ge3N0cmluZ3xSZWdFeHB9IHVybCBIVFRQIHVybC4KICogQHBhcmFtIHsoc3RyaW5nfFJlZ0V4cCk9fSBkYXRhIEhUVFAgcmVxdWVzdCBib2R5LgogKiBAcGFyYW0geyhPYmplY3R8ZnVuY3Rpb24oT2JqZWN0KSk9fSBoZWFkZXJzIEhUVFAgaGVhZGVycy4KICogQHJldHVybnMge3JlcXVlc3RIYW5kbGVyfSBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGByZXNwb25kYCBhbmQgYHBhc3NUaHJvdWdoYCBtZXRob2RzIHRoYXQKICogICBjb250cm9sIGhvdyBhIG1hdGNoZWQgcmVxdWVzdCBpcyBoYW5kbGVkLgogKi8KCi8qKgogKiBAbmdkb2MgbWV0aG9kCiAqIEBuYW1lICRodHRwQmFja2VuZCN3aGVuUFVUCiAqIEBtb2R1bGUgbmdNb2NrRTJFCiAqIEBkZXNjcmlwdGlvbgogKiBDcmVhdGVzIGEgbmV3IGJhY2tlbmQgZGVmaW5pdGlvbiBmb3IgUFVUIHJlcXVlc3RzLiAgRm9yIG1vcmUgaW5mbyBzZWUgYHdoZW4oKWAuCiAqCiAqIEBwYXJhbSB7c3RyaW5nfFJlZ0V4cH0gdXJsIEhUVFAgdXJsLgogKiBAcGFyYW0geyhzdHJpbmd8UmVnRXhwKT19IGRhdGEgSFRUUCByZXF1ZXN0IGJvZHkuCiAqIEBwYXJhbSB7KE9iamVjdHxmdW5jdGlvbihPYmplY3QpKT19IGhlYWRlcnMgSFRUUCBoZWFkZXJzLgogKiBAcmV0dXJucyB7cmVxdWVzdEhhbmRsZXJ9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggYHJlc3BvbmRgIGFuZCBgcGFzc1Rocm91Z2hgIG1ldGhvZHMgdGhhdAogKiAgIGNvbnRyb2wgaG93IGEgbWF0Y2hlZCByZXF1ZXN0IGlzIGhhbmRsZWQuCiAqLwoKLyoqCiAqIEBuZ2RvYyBtZXRob2QKICogQG5hbWUgJGh0dHBCYWNrZW5kI3doZW5QQVRDSAogKiBAbW9kdWxlIG5nTW9ja0UyRQogKiBAZGVzY3JpcHRpb24KICogQ3JlYXRlcyBhIG5ldyBiYWNrZW5kIGRlZmluaXRpb24gZm9yIFBBVENIIHJlcXVlc3RzLiAgRm9yIG1vcmUgaW5mbyBzZWUgYHdoZW4oKWAuCiAqCiAqIEBwYXJhbSB7c3RyaW5nfFJlZ0V4cH0gdXJsIEhUVFAgdXJsLgogKiBAcGFyYW0geyhzdHJpbmd8UmVnRXhwKT19IGRhdGEgSFRUUCByZXF1ZXN0IGJvZHkuCiAqIEBwYXJhbSB7KE9iamVjdHxmdW5jdGlvbihPYmplY3QpKT19IGhlYWRlcnMgSFRUUCBoZWFkZXJzLgogKiBAcmV0dXJucyB7cmVxdWVzdEhhbmRsZXJ9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggYHJlc3BvbmRgIGFuZCBgcGFzc1Rocm91Z2hgIG1ldGhvZHMgdGhhdAogKiAgIGNvbnRyb2wgaG93IGEgbWF0Y2hlZCByZXF1ZXN0IGlzIGhhbmRsZWQuCiAqLwoKLyoqCiAqIEBuZ2RvYyBtZXRob2QKICogQG5hbWUgJGh0dHBCYWNrZW5kI3doZW5KU09OUAogKiBAbW9kdWxlIG5nTW9ja0UyRQogKiBAZGVzY3JpcHRpb24KICogQ3JlYXRlcyBhIG5ldyBiYWNrZW5kIGRlZmluaXRpb24gZm9yIEpTT05QIHJlcXVlc3RzLiBGb3IgbW9yZSBpbmZvIHNlZSBgd2hlbigpYC4KICoKICogQHBhcmFtIHtzdHJpbmd8UmVnRXhwfSB1cmwgSFRUUCB1cmwuCiAqIEByZXR1cm5zIHtyZXF1ZXN0SGFuZGxlcn0gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBgcmVzcG9uZGAgYW5kIGBwYXNzVGhyb3VnaGAgbWV0aG9kcyB0aGF0CiAqICAgY29udHJvbCBob3cgYSBtYXRjaGVkIHJlcXVlc3QgaXMgaGFuZGxlZC4KICovCmFuZ3VsYXIubW9jay5lMmUgPSB7fTsKYW5ndWxhci5tb2NrLmUyZS4kaHR0cEJhY2tlbmREZWNvcmF0b3IgPQogIFsnJHJvb3RTY29wZScsICckZGVsZWdhdGUnLCAnJGJyb3dzZXInLCBjcmVhdGVIdHRwQmFja2VuZE1vY2tdOwoKCmFuZ3VsYXIubW9jay5jbGVhckRhdGFDYWNoZSA9IGZ1bmN0aW9uKCkgewogIHZhciBrZXksCiAgICAgIGNhY2hlID0gYW5ndWxhci5lbGVtZW50LmNhY2hlOwoKICBmb3Ioa2V5IGluIGNhY2hlKSB7CiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNhY2hlLGtleSkpIHsKICAgICAgdmFyIGhhbmRsZSA9IGNhY2hlW2tleV0uaGFuZGxlOwoKICAgICAgaGFuZGxlICYmIGFuZ3VsYXIuZWxlbWVudChoYW5kbGUuZWxlbSkub2ZmKCk7CiAgICAgIGRlbGV0ZSBjYWNoZVtrZXldOwogICAgfQogIH0KfTsKCgppZih3aW5kb3cuamFzbWluZSB8fCB3aW5kb3cubW9jaGEpIHsKCiAgdmFyIGN1cnJlbnRTcGVjID0gbnVsbCwKICAgICAgaXNTcGVjUnVubmluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiAhIWN1cnJlbnRTcGVjOwogICAgICB9OwoKCiAgKHdpbmRvdy5iZWZvcmVFYWNoIHx8IHdpbmRvdy5zZXR1cCkoZnVuY3Rpb24oKSB7CiAgICBjdXJyZW50U3BlYyA9IHRoaXM7CiAgfSk7CgogICh3aW5kb3cuYWZ0ZXJFYWNoIHx8IHdpbmRvdy50ZWFyZG93bikoZnVuY3Rpb24oKSB7CiAgICB2YXIgaW5qZWN0b3IgPSBjdXJyZW50U3BlYy4kaW5qZWN0b3I7CgogICAgYW5ndWxhci5mb3JFYWNoKGN1cnJlbnRTcGVjLiRtb2R1bGVzLCBmdW5jdGlvbihtb2R1bGUpIHsKICAgICAgaWYgKG1vZHVsZSAmJiBtb2R1bGUuJCRoYXNoS2V5KSB7CiAgICAgICAgbW9kdWxlLiQkaGFzaEtleSA9IHVuZGVmaW5lZDsKICAgICAgfQogICAgfSk7CgogICAgY3VycmVudFNwZWMuJGluamVjdG9yID0gbnVsbDsKICAgIGN1cnJlbnRTcGVjLiRtb2R1bGVzID0gbnVsbDsKICAgIGN1cnJlbnRTcGVjID0gbnVsbDsKCiAgICBpZiAoaW5qZWN0b3IpIHsKICAgICAgaW5qZWN0b3IuZ2V0KCckcm9vdEVsZW1lbnQnKS5vZmYoKTsKICAgICAgaW5qZWN0b3IuZ2V0KCckYnJvd3NlcicpLnBvbGxGbnMubGVuZ3RoID0gMDsKICAgIH0KCiAgICBhbmd1bGFyLm1vY2suY2xlYXJEYXRhQ2FjaGUoKTsKCiAgICAvLyBjbGVhbiB1cCBqcXVlcnkncyBmcmFnbWVudCBjYWNoZQogICAgYW5ndWxhci5mb3JFYWNoKGFuZ3VsYXIuZWxlbWVudC5mcmFnbWVudHMsIGZ1bmN0aW9uKHZhbCwga2V5KSB7CiAgICAgIGRlbGV0ZSBhbmd1bGFyLmVsZW1lbnQuZnJhZ21lbnRzW2tleV07CiAgICB9KTsKCiAgICBNb2NrWGhyLiQkbGFzdEluc3RhbmNlID0gbnVsbDsKCiAgICBhbmd1bGFyLmZvckVhY2goYW5ndWxhci5jYWxsYmFja3MsIGZ1bmN0aW9uKHZhbCwga2V5KSB7CiAgICAgIGRlbGV0ZSBhbmd1bGFyLmNhbGxiYWNrc1trZXldOwogICAgfSk7CiAgICBhbmd1bGFyLmNhbGxiYWNrcy5jb3VudGVyID0gMDsKICB9KTsKCiAgLyoqCiAgICogQG5nZG9jIGZ1bmN0aW9uCiAgICogQG5hbWUgYW5ndWxhci5tb2NrLm1vZHVsZQogICAqIEBkZXNjcmlwdGlvbgogICAqCiAgICogKk5PVEUqOiBUaGlzIGZ1bmN0aW9uIGlzIGFsc28gcHVibGlzaGVkIG9uIHdpbmRvdyBmb3IgZWFzeSBhY2Nlc3MuPGJyPgogICAqCiAgICogVGhpcyBmdW5jdGlvbiByZWdpc3RlcnMgYSBtb2R1bGUgY29uZmlndXJhdGlvbiBjb2RlLiBJdCBjb2xsZWN0cyB0aGUgY29uZmlndXJhdGlvbiBpbmZvcm1hdGlvbgogICAqIHdoaWNoIHdpbGwgYmUgdXNlZCB3aGVuIHRoZSBpbmplY3RvciBpcyBjcmVhdGVkIGJ5IHtAbGluayBhbmd1bGFyLm1vY2suaW5qZWN0IGluamVjdH0uCiAgICoKICAgKiBTZWUge0BsaW5rIGFuZ3VsYXIubW9jay5pbmplY3QgaW5qZWN0fSBmb3IgdXNhZ2UgZXhhbXBsZQogICAqCiAgICogQHBhcmFtIHsuLi4oc3RyaW5nfEZ1bmN0aW9ufE9iamVjdCl9IGZucyBhbnkgbnVtYmVyIG9mIG1vZHVsZXMgd2hpY2ggYXJlIHJlcHJlc2VudGVkIGFzIHN0cmluZwogICAqICAgICAgICBhbGlhc2VzIG9yIGFzIGFub255bW91cyBtb2R1bGUgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb25zLiBUaGUgbW9kdWxlcyBhcmUgdXNlZCB0bwogICAqICAgICAgICBjb25maWd1cmUgdGhlIGluamVjdG9yLiBUaGUgJ25nJyBhbmQgJ25nTW9jaycgbW9kdWxlcyBhcmUgYXV0b21hdGljYWxseSBsb2FkZWQuIElmIGFuCiAgICogICAgICAgIG9iamVjdCBsaXRlcmFsIGlzIHBhc3NlZCB0aGV5IHdpbGwgYmUgcmVnaXN0ZXJlZCBhcyB2YWx1ZXMgaW4gdGhlIG1vZHVsZSwgdGhlIGtleSBiZWluZwogICAqICAgICAgICB0aGUgbW9kdWxlIG5hbWUgYW5kIHRoZSB2YWx1ZSBiZWluZyB3aGF0IGlzIHJldHVybmVkLgogICAqLwogIHdpbmRvdy5tb2R1bGUgPSBhbmd1bGFyLm1vY2subW9kdWxlID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgbW9kdWxlRm5zID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTsKICAgIHJldHVybiBpc1NwZWNSdW5uaW5nKCkgPyB3b3JrRm4oKSA6IHdvcmtGbjsKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgZnVuY3Rpb24gd29ya0ZuKCkgewogICAgICBpZiAoY3VycmVudFNwZWMuJGluamVjdG9yKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmplY3RvciBhbHJlYWR5IGNyZWF0ZWQsIGNhbiBub3QgcmVnaXN0ZXIgYSBtb2R1bGUhJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIG1vZHVsZXMgPSBjdXJyZW50U3BlYy4kbW9kdWxlcyB8fCAoY3VycmVudFNwZWMuJG1vZHVsZXMgPSBbXSk7CiAgICAgICAgYW5ndWxhci5mb3JFYWNoKG1vZHVsZUZucywgZnVuY3Rpb24obW9kdWxlKSB7CiAgICAgICAgICBpZiAoYW5ndWxhci5pc09iamVjdChtb2R1bGUpICYmICFhbmd1bGFyLmlzQXJyYXkobW9kdWxlKSkgewogICAgICAgICAgICBtb2R1bGVzLnB1c2goZnVuY3Rpb24oJHByb3ZpZGUpIHsKICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gobW9kdWxlLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7CiAgICAgICAgICAgICAgICAkcHJvdmlkZS52YWx1ZShrZXksIHZhbHVlKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBtb2R1bGVzLnB1c2gobW9kdWxlKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH07CgogIC8qKgogICAqIEBuZ2RvYyBmdW5jdGlvbgogICAqIEBuYW1lIGFuZ3VsYXIubW9jay5pbmplY3QKICAgKiBAZGVzY3JpcHRpb24KICAgKgogICAqICpOT1RFKjogVGhpcyBmdW5jdGlvbiBpcyBhbHNvIHB1Ymxpc2hlZCBvbiB3aW5kb3cgZm9yIGVhc3kgYWNjZXNzLjxicj4KICAgKgogICAqIFRoZSBpbmplY3QgZnVuY3Rpb24gd3JhcHMgYSBmdW5jdGlvbiBpbnRvIGFuIGluamVjdGFibGUgZnVuY3Rpb24uIFRoZSBpbmplY3QoKSBjcmVhdGVzIG5ldwogICAqIGluc3RhbmNlIG9mIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9IHBlciB0ZXN0LCB3aGljaCBpcyB0aGVuIHVzZWQgZm9yCiAgICogcmVzb2x2aW5nIHJlZmVyZW5jZXMuCiAgICoKICAgKgogICAqICMjIFJlc29sdmluZyBSZWZlcmVuY2VzIChVbmRlcnNjb3JlIFdyYXBwaW5nKQogICAqIE9mdGVuLCB3ZSB3b3VsZCBsaWtlIHRvIGluamVjdCBhIHJlZmVyZW5jZSBvbmNlLCBpbiBhIGBiZWZvcmVFYWNoKClgIGJsb2NrIGFuZCByZXVzZSB0aGlzCiAgICogaW4gbXVsdGlwbGUgYGl0KClgIGNsYXVzZXMuIFRvIGJlIGFibGUgdG8gZG8gdGhpcyB3ZSBtdXN0IGFzc2lnbiB0aGUgcmVmZXJlbmNlIHRvIGEgdmFyaWFibGUKICAgKiB0aGF0IGlzIGRlY2xhcmVkIGluIHRoZSBzY29wZSBvZiB0aGUgYGRlc2NyaWJlKClgIGJsb2NrLiBTaW5jZSB3ZSB3b3VsZCwgbW9zdCBsaWtlbHksIHdhbnQKICAgKiB0aGUgdmFyaWFibGUgdG8gaGF2ZSB0aGUgc2FtZSBuYW1lIG9mIHRoZSByZWZlcmVuY2Ugd2UgaGF2ZSBhIHByb2JsZW0sIHNpbmNlIHRoZSBwYXJhbWV0ZXIKICAgKiB0byB0aGUgYGluamVjdCgpYCBmdW5jdGlvbiB3b3VsZCBoaWRlIHRoZSBvdXRlciB2YXJpYWJsZS4KICAgKgogICAqIFRvIGhlbHAgd2l0aCB0aGlzLCB0aGUgaW5qZWN0ZWQgcGFyYW1ldGVycyBjYW4sIG9wdGlvbmFsbHksIGJlIGVuY2xvc2VkIHdpdGggdW5kZXJzY29yZXMuCiAgICogVGhlc2UgYXJlIGlnbm9yZWQgYnkgdGhlIGluamVjdG9yIHdoZW4gdGhlIHJlZmVyZW5jZSBuYW1lIGlzIHJlc29sdmVkLgogICAqCiAgICogRm9yIGV4YW1wbGUsIHRoZSBwYXJhbWV0ZXIgYF9teVNlcnZpY2VfYCB3b3VsZCBiZSByZXNvbHZlZCBhcyB0aGUgcmVmZXJlbmNlIGBteVNlcnZpY2VgLgogICAqIFNpbmNlIGl0IGlzIGF2YWlsYWJsZSBpbiB0aGUgZnVuY3Rpb24gYm9keSBhcyBfbXlTZXJ2aWNlXywgd2UgY2FuIHRoZW4gYXNzaWduIGl0IHRvIGEgdmFyaWFibGUKICAgKiBkZWZpbmVkIGluIGFuIG91dGVyIHNjb3BlLgogICAqCiAgICogYGBgCiAgICogLy8gRGVmaW5lZCBvdXQgcmVmZXJlbmNlIHZhcmlhYmxlIG91dHNpZGUKICAgKiB2YXIgbXlTZXJ2aWNlOwogICAqCiAgICogLy8gV3JhcCB0aGUgcGFyYW1ldGVyIGluIHVuZGVyc2NvcmVzCiAgICogYmVmb3JlRWFjaCggaW5qZWN0KCBmdW5jdGlvbihfbXlTZXJ2aWNlXyl7CiAgICogICBteVNlcnZpY2UgPSBfbXlTZXJ2aWNlXzsKICAgKiB9KSk7CiAgICoKICAgKiAvLyBVc2UgbXlTZXJ2aWNlIGluIGEgc2VyaWVzIG9mIHRlc3RzLgogICAqIGl0KCdtYWtlcyB1c2Ugb2YgbXlTZXJ2aWNlJywgZnVuY3Rpb24oKSB7CiAgICogICBteVNlcnZpY2UuZG9TdHVmZigpOwogICAqIH0pOwogICAqCiAgICogYGBgCiAgICoKICAgKiBTZWUgYWxzbyB7QGxpbmsgYW5ndWxhci5tb2NrLm1vZHVsZSBhbmd1bGFyLm1vY2subW9kdWxlfQogICAqCiAgICogIyMgRXhhbXBsZQogICAqIEV4YW1wbGUgb2Ygd2hhdCBhIHR5cGljYWwgamFzbWluZSB0ZXN0cyBsb29rcyBsaWtlIHdpdGggdGhlIGluamVjdCBtZXRob2QuCiAgICogYGBganMKICAgKgogICAqICAgYW5ndWxhci5tb2R1bGUoJ215QXBwbGljYXRpb25Nb2R1bGUnLCBbXSkKICAgKiAgICAgICAudmFsdWUoJ21vZGUnLCAnYXBwJykKICAgKiAgICAgICAudmFsdWUoJ3ZlcnNpb24nLCAndjEuMC4xJyk7CiAgICoKICAgKgogICAqICAgZGVzY3JpYmUoJ015QXBwJywgZnVuY3Rpb24oKSB7CiAgICoKICAgKiAgICAgLy8gWW91IG5lZWQgdG8gbG9hZCBtb2R1bGVzIHRoYXQgeW91IHdhbnQgdG8gdGVzdCwKICAgKiAgICAgLy8gaXQgbG9hZHMgb25seSB0aGUgIm5nIiBtb2R1bGUgYnkgZGVmYXVsdC4KICAgKiAgICAgYmVmb3JlRWFjaChtb2R1bGUoJ215QXBwbGljYXRpb25Nb2R1bGUnKSk7CiAgICoKICAgKgogICAqICAgICAvLyBpbmplY3QoKSBpcyB1c2VkIHRvIGluamVjdCBhcmd1bWVudHMgb2YgYWxsIGdpdmVuIGZ1bmN0aW9ucwogICAqICAgICBpdCgnc2hvdWxkIHByb3ZpZGUgYSB2ZXJzaW9uJywgaW5qZWN0KGZ1bmN0aW9uKG1vZGUsIHZlcnNpb24pIHsKICAgKiAgICAgICBleHBlY3QodmVyc2lvbikudG9FcXVhbCgndjEuMC4xJyk7CiAgICogICAgICAgZXhwZWN0KG1vZGUpLnRvRXF1YWwoJ2FwcCcpOwogICAqICAgICB9KSk7CiAgICoKICAgKgogICAqICAgICAvLyBUaGUgaW5qZWN0IGFuZCBtb2R1bGUgbWV0aG9kIGNhbiBhbHNvIGJlIHVzZWQgaW5zaWRlIG9mIHRoZSBpdCBvciBiZWZvcmVFYWNoCiAgICogICAgIGl0KCdzaG91bGQgb3ZlcnJpZGUgYSB2ZXJzaW9uIGFuZCB0ZXN0IHRoZSBuZXcgdmVyc2lvbiBpcyBpbmplY3RlZCcsIGZ1bmN0aW9uKCkgewogICAqICAgICAgIC8vIG1vZHVsZSgpIHRha2VzIGZ1bmN0aW9ucyBvciBzdHJpbmdzIChtb2R1bGUgYWxpYXNlcykKICAgKiAgICAgICBtb2R1bGUoZnVuY3Rpb24oJHByb3ZpZGUpIHsKICAgKiAgICAgICAgICRwcm92aWRlLnZhbHVlKCd2ZXJzaW9uJywgJ292ZXJyaWRkZW4nKTsgLy8gb3ZlcnJpZGUgdmVyc2lvbiBoZXJlCiAgICogICAgICAgfSk7CiAgICoKICAgKiAgICAgICBpbmplY3QoZnVuY3Rpb24odmVyc2lvbikgewogICAqICAgICAgICAgZXhwZWN0KHZlcnNpb24pLnRvRXF1YWwoJ292ZXJyaWRkZW4nKTsKICAgKiAgICAgICB9KTsKICAgKiAgICAgfSk7CiAgICogICB9KTsKICAgKgogICAqIGBgYAogICAqCiAgICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gZm5zIGFueSBudW1iZXIgb2YgZnVuY3Rpb25zIHdoaWNoIHdpbGwgYmUgaW5qZWN0ZWQgdXNpbmcgdGhlIGluamVjdG9yLgogICAqLwoKCgogIHZhciBFcnJvckFkZGluZ0RlY2xhcmF0aW9uTG9jYXRpb25TdGFjayA9IGZ1bmN0aW9uKGUsIGVycm9yRm9yU3RhY2spIHsKICAgIHRoaXMubWVzc2FnZSA9IGUubWVzc2FnZTsKICAgIHRoaXMubmFtZSA9IGUubmFtZTsKICAgIGlmIChlLmxpbmUpIHRoaXMubGluZSA9IGUubGluZTsKICAgIGlmIChlLnNvdXJjZUlkKSB0aGlzLnNvdXJjZUlkID0gZS5zb3VyY2VJZDsKICAgIGlmIChlLnN0YWNrICYmIGVycm9yRm9yU3RhY2spCiAgICAgIHRoaXMuc3RhY2sgPSBlLnN0YWNrICsgJ1xuJyArIGVycm9yRm9yU3RhY2suc3RhY2s7CiAgICBpZiAoZS5zdGFja0FycmF5KSB0aGlzLnN0YWNrQXJyYXkgPSBlLnN0YWNrQXJyYXk7CiAgfTsKICBFcnJvckFkZGluZ0RlY2xhcmF0aW9uTG9jYXRpb25TdGFjay5wcm90b3R5cGUudG9TdHJpbmcgPSBFcnJvci5wcm90b3R5cGUudG9TdHJpbmc7CgogIHdpbmRvdy5pbmplY3QgPSBhbmd1bGFyLm1vY2suaW5qZWN0ID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgYmxvY2tGbnMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgdmFyIGVycm9yRm9yU3RhY2sgPSBuZXcgRXJyb3IoJ0RlY2xhcmF0aW9uIExvY2F0aW9uJyk7CiAgICByZXR1cm4gaXNTcGVjUnVubmluZygpID8gd29ya0ZuLmNhbGwoY3VycmVudFNwZWMpIDogd29ya0ZuOwogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICBmdW5jdGlvbiB3b3JrRm4oKSB7CiAgICAgIHZhciBtb2R1bGVzID0gY3VycmVudFNwZWMuJG1vZHVsZXMgfHwgW107CgogICAgICBtb2R1bGVzLnVuc2hpZnQoJ25nTW9jaycpOwogICAgICBtb2R1bGVzLnVuc2hpZnQoJ25nJyk7CiAgICAgIHZhciBpbmplY3RvciA9IGN1cnJlbnRTcGVjLiRpbmplY3RvcjsKICAgICAgaWYgKCFpbmplY3RvcikgewogICAgICAgIGluamVjdG9yID0gY3VycmVudFNwZWMuJGluamVjdG9yID0gYW5ndWxhci5pbmplY3Rvcihtb2R1bGVzKTsKICAgICAgfQogICAgICBmb3IodmFyIGkgPSAwLCBpaSA9IGJsb2NrRm5zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHsKICAgICAgICB0cnkgewogICAgICAgICAgLyoganNoaW50IC1XMDQwICovLyogSmFzbWluZSBleHBsaWNpdGx5IHByb3ZpZGVzIGEgYHRoaXNgIG9iamVjdCB3aGVuIGNhbGxpbmcgZnVuY3Rpb25zICovCiAgICAgICAgICBpbmplY3Rvci5pbnZva2UoYmxvY2tGbnNbaV0gfHwgYW5ndWxhci5ub29wLCB0aGlzKTsKICAgICAgICAgIC8qIGpzaGludCArVzA0MCAqLwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIGlmIChlLnN0YWNrICYmIGVycm9yRm9yU3RhY2spIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yQWRkaW5nRGVjbGFyYXRpb25Mb2NhdGlvblN0YWNrKGUsIGVycm9yRm9yU3RhY2spOwogICAgICAgICAgfQogICAgICAgICAgdGhyb3cgZTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgZXJyb3JGb3JTdGFjayA9IG51bGw7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKfQoKCn0pKHdpbmRvdywgd2luZG93LmFuZ3VsYXIpOwo=')
},
{
'name': '/app/bower_components/angular-mocks/README.md', 'data': base64.b64decode('IyBib3dlci1hbmd1bGFyLW1vY2tzCgpUaGlzIHJlcG8gaXMgZm9yIGRpc3RyaWJ1dGlvbiBvbiBgYm93ZXJgLiBUaGUgc291cmNlIGZvciB0aGlzIG1vZHVsZSBpcyBpbiB0aGUKW21haW4gQW5ndWxhckpTIHJlcG9dKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvdHJlZS9tYXN0ZXIvc3JjL25nTW9jaykuClBsZWFzZSBmaWxlIGlzc3VlcyBhbmQgcHVsbCByZXF1ZXN0cyBhZ2FpbnN0IHRoYXQgcmVwby4KCiMjIEluc3RhbGwKCkluc3RhbGwgd2l0aCBgYm93ZXJgOgoKYGBgc2hlbGwKYm93ZXIgaW5zdGFsbCBhbmd1bGFyLW1vY2tzCmBgYAoKIyMgRG9jdW1lbnRhdGlvbgoKRG9jdW1lbnRhdGlvbiBpcyBhdmFpbGFibGUgb24gdGhlCltBbmd1bGFySlMgZG9jcyBzaXRlXShodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2d1aWRlL2Rldl9ndWlkZS51bml0LXRlc3RpbmcpLgoKIyMgTGljZW5zZQoKVGhlIE1JVCBMaWNlbnNlCgpDb3B5cmlnaHQgKGMpIDIwMTAtMjAxMiBHb29nbGUsIEluYy4gaHR0cDovL2FuZ3VsYXJqcy5vcmcKClBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkKb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksIHRvIGRlYWwKaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cwp0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsCmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcwpmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgoKVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4KYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCgpUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgpJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFCkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIKTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwKT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTgpUSEUgU09GVFdBUkUuCg==')
},
{
'name': '/app/bower_components/angular-mocks/bower.json', 'data': base64.b64decode('ewogICJuYW1lIjogImFuZ3VsYXItbW9ja3MiLAogICJ2ZXJzaW9uIjogIjEuMi4xOSIsCiAgIm1haW4iOiAiLi9hbmd1bGFyLW1vY2tzLmpzIiwKICAiZGVwZW5kZW5jaWVzIjogewogICAgImFuZ3VsYXIiOiAiMS4yLjE5IgogIH0KfQo=')
},
{
'name': '/app/bower_components/angular-mocks/.bower.json', 'data': base64.b64decode('ewogICJuYW1lIjogImFuZ3VsYXItbW9ja3MiLAogICJ2ZXJzaW9uIjogIjEuMi4xOSIsCiAgIm1haW4iOiAiLi9hbmd1bGFyLW1vY2tzLmpzIiwKICAiZGVwZW5kZW5jaWVzIjogewogICAgImFuZ3VsYXIiOiAiMS4yLjE5IgogIH0sCiAgImhvbWVwYWdlIjogImh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2Jvd2VyLWFuZ3VsYXItbW9ja3MiLAogICJfcmVsZWFzZSI6ICIxLjIuMTkiLAogICJfcmVzb2x1dGlvbiI6IHsKICAgICJ0eXBlIjogInZlcnNpb24iLAogICAgInRhZyI6ICJ2MS4yLjE5IiwKICAgICJjb21taXQiOiAiZDJmYzZjZmJiN2QwNGZkNzRjZDk5YzUwMDhjYjhkOGY3NzNhMzQ3YyIKICB9LAogICJfc291cmNlIjogImdpdDovL2dpdGh1Yi5jb20vYW5ndWxhci9ib3dlci1hbmd1bGFyLW1vY2tzLmdpdCIsCiAgIl90YXJnZXQiOiAifjEuMi54IiwKICAiX29yaWdpbmFsU291cmNlIjogImFuZ3VsYXItbW9ja3MiCn0=')
},
{
'name': '/app/bower_components/angular-route/angular-route.js', 'data': base64.b64decode('LyoqCiAqIEBsaWNlbnNlIEFuZ3VsYXJKUyB2MS4yLjE5CiAqIChjKSAyMDEwLTIwMTQgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnCiAqIExpY2Vuc2U6IE1JVAogKi8KKGZ1bmN0aW9uKHdpbmRvdywgYW5ndWxhciwgdW5kZWZpbmVkKSB7J3VzZSBzdHJpY3QnOwoKLyoqCiAqIEBuZ2RvYyBtb2R1bGUKICogQG5hbWUgbmdSb3V0ZQogKiBAZGVzY3JpcHRpb24KICoKICogIyBuZ1JvdXRlCiAqCiAqIFRoZSBgbmdSb3V0ZWAgbW9kdWxlIHByb3ZpZGVzIHJvdXRpbmcgYW5kIGRlZXBsaW5raW5nIHNlcnZpY2VzIGFuZCBkaXJlY3RpdmVzIGZvciBhbmd1bGFyIGFwcHMuCiAqCiAqICMjIEV4YW1wbGUKICogU2VlIHtAbGluayBuZ1JvdXRlLiRyb3V0ZSNleGFtcGxlICRyb3V0ZX0gZm9yIGFuIGV4YW1wbGUgb2YgY29uZmlndXJpbmcgYW5kIHVzaW5nIGBuZ1JvdXRlYC4KICoKICoKICogPGRpdiBkb2MtbW9kdWxlLWNvbXBvbmVudHM9Im5nUm91dGUiPjwvZGl2PgogKi8KIC8qIGdsb2JhbCAtbmdSb3V0ZU1vZHVsZSAqLwp2YXIgbmdSb3V0ZU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCduZ1JvdXRlJywgWyduZyddKS4KICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIoJyRyb3V0ZScsICRSb3V0ZVByb3ZpZGVyKTsKCi8qKgogKiBAbmdkb2MgcHJvdmlkZXIKICogQG5hbWUgJHJvdXRlUHJvdmlkZXIKICogQGtpbmQgZnVuY3Rpb24KICoKICogQGRlc2NyaXB0aW9uCiAqCiAqIFVzZWQgZm9yIGNvbmZpZ3VyaW5nIHJvdXRlcy4KICoKICogIyMgRXhhbXBsZQogKiBTZWUge0BsaW5rIG5nUm91dGUuJHJvdXRlI2V4YW1wbGUgJHJvdXRlfSBmb3IgYW4gZXhhbXBsZSBvZiBjb25maWd1cmluZyBhbmQgdXNpbmcgYG5nUm91dGVgLgogKgogKiAjIyBEZXBlbmRlbmNpZXMKICogUmVxdWlyZXMgdGhlIHtAbGluayBuZ1JvdXRlIGBuZ1JvdXRlYH0gbW9kdWxlIHRvIGJlIGluc3RhbGxlZC4KICovCmZ1bmN0aW9uICRSb3V0ZVByb3ZpZGVyKCl7CiAgZnVuY3Rpb24gaW5oZXJpdChwYXJlbnQsIGV4dHJhKSB7CiAgICByZXR1cm4gYW5ndWxhci5leHRlbmQobmV3IChhbmd1bGFyLmV4dGVuZChmdW5jdGlvbigpIHt9LCB7cHJvdG90eXBlOnBhcmVudH0pKSgpLCBleHRyYSk7CiAgfQoKICB2YXIgcm91dGVzID0ge307CgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSAkcm91dGVQcm92aWRlciN3aGVuCiAgICoKICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBSb3V0ZSBwYXRoIChtYXRjaGVkIGFnYWluc3QgYCRsb2NhdGlvbi5wYXRoYCkuIElmIGAkbG9jYXRpb24ucGF0aGAKICAgKiAgICBjb250YWlucyByZWR1bmRhbnQgdHJhaWxpbmcgc2xhc2ggb3IgaXMgbWlzc2luZyBvbmUsIHRoZSByb3V0ZSB3aWxsIHN0aWxsIG1hdGNoIGFuZCB0aGUKICAgKiAgICBgJGxvY2F0aW9uLnBhdGhgIHdpbGwgYmUgdXBkYXRlZCB0byBhZGQgb3IgZHJvcCB0aGUgdHJhaWxpbmcgc2xhc2ggdG8gZXhhY3RseSBtYXRjaCB0aGUKICAgKiAgICByb3V0ZSBkZWZpbml0aW9uLgogICAqCiAgICogICAgKiBgcGF0aGAgY2FuIGNvbnRhaW4gbmFtZWQgZ3JvdXBzIHN0YXJ0aW5nIHdpdGggYSBjb2xvbjogZS5nLiBgOm5hbWVgLiBBbGwgY2hhcmFjdGVycyB1cAogICAqICAgICAgICB0byB0aGUgbmV4dCBzbGFzaCBhcmUgbWF0Y2hlZCBhbmQgc3RvcmVkIGluIGAkcm91dGVQYXJhbXNgIHVuZGVyIHRoZSBnaXZlbiBgbmFtZWAKICAgKiAgICAgICAgd2hlbiB0aGUgcm91dGUgbWF0Y2hlcy4KICAgKiAgICAqIGBwYXRoYCBjYW4gY29udGFpbiBuYW1lZCBncm91cHMgc3RhcnRpbmcgd2l0aCBhIGNvbG9uIGFuZCBlbmRpbmcgd2l0aCBhIHN0YXI6CiAgICogICAgICAgIGUuZy5gOm5hbWUqYC4gQWxsIGNoYXJhY3RlcnMgYXJlIGVhZ2VybHkgc3RvcmVkIGluIGAkcm91dGVQYXJhbXNgIHVuZGVyIHRoZSBnaXZlbiBgbmFtZWAKICAgKiAgICAgICAgd2hlbiB0aGUgcm91dGUgbWF0Y2hlcy4KICAgKiAgICAqIGBwYXRoYCBjYW4gY29udGFpbiBvcHRpb25hbCBuYW1lZCBncm91cHMgd2l0aCBhIHF1ZXN0aW9uIG1hcms6IGUuZy5gOm5hbWU/YC4KICAgKgogICAqICAgIEZvciBleGFtcGxlLCByb3V0ZXMgbGlrZSBgL2NvbG9yLzpjb2xvci9sYXJnZWNvZGUvOmxhcmdlY29kZSpcL2VkaXRgIHdpbGwgbWF0Y2gKICAgKiAgICBgL2NvbG9yL2Jyb3duL2xhcmdlY29kZS9jb2RlL3dpdGgvc2xhc2hlcy9lZGl0YCBhbmQgZXh0cmFjdDoKICAgKgogICAqICAgICogYGNvbG9yOiBicm93bmAKICAgKiAgICAqIGBsYXJnZWNvZGU6IGNvZGUvd2l0aC9zbGFzaGVzYC4KICAgKgogICAqCiAgICogQHBhcmFtIHtPYmplY3R9IHJvdXRlIE1hcHBpbmcgaW5mb3JtYXRpb24gdG8gYmUgYXNzaWduZWQgdG8gYCRyb3V0ZS5jdXJyZW50YCBvbiByb3V0ZQogICAqICAgIG1hdGNoLgogICAqCiAgICogICAgT2JqZWN0IHByb3BlcnRpZXM6CiAgICoKICAgKiAgICAtIGBjb250cm9sbGVyYCDigJMgYHsoc3RyaW5nfGZ1bmN0aW9uKCk9fWAg4oCTIENvbnRyb2xsZXIgZm4gdGhhdCBzaG91bGQgYmUgYXNzb2NpYXRlZCB3aXRoCiAgICogICAgICBuZXdseSBjcmVhdGVkIHNjb3BlIG9yIHRoZSBuYW1lIG9mIGEge0BsaW5rIGFuZ3VsYXIuTW9kdWxlI2NvbnRyb2xsZXIgcmVnaXN0ZXJlZAogICAqICAgICAgY29udHJvbGxlcn0gaWYgcGFzc2VkIGFzIGEgc3RyaW5nLgogICAqICAgIC0gYGNvbnRyb2xsZXJBc2Ag4oCTIGB7c3RyaW5nPX1gIOKAkyBBIGNvbnRyb2xsZXIgYWxpYXMgbmFtZS4gSWYgcHJlc2VudCB0aGUgY29udHJvbGxlciB3aWxsIGJlCiAgICogICAgICBwdWJsaXNoZWQgdG8gc2NvcGUgdW5kZXIgdGhlIGBjb250cm9sbGVyQXNgIG5hbWUuCiAgICogICAgLSBgdGVtcGxhdGVgIOKAkyBge3N0cmluZz18ZnVuY3Rpb24oKT19YCDigJMgaHRtbCB0ZW1wbGF0ZSBhcyBhIHN0cmluZyBvciBhIGZ1bmN0aW9uIHRoYXQKICAgKiAgICAgIHJldHVybnMgYW4gaHRtbCB0ZW1wbGF0ZSBhcyBhIHN0cmluZyB3aGljaCBzaG91bGQgYmUgdXNlZCBieSB7QGxpbmsKICAgKiAgICAgIG5nUm91dGUuZGlyZWN0aXZlOm5nVmlldyBuZ1ZpZXd9IG9yIHtAbGluayBuZy5kaXJlY3RpdmU6bmdJbmNsdWRlIG5nSW5jbHVkZX0gZGlyZWN0aXZlcy4KICAgKiAgICAgIFRoaXMgcHJvcGVydHkgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGB0ZW1wbGF0ZVVybGAuCiAgICoKICAgKiAgICAgIElmIGB0ZW1wbGF0ZWAgaXMgYSBmdW5jdGlvbiwgaXQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6CiAgICoKICAgKiAgICAgIC0gYHtBcnJheS48T2JqZWN0Pn1gIC0gcm91dGUgcGFyYW1ldGVycyBleHRyYWN0ZWQgZnJvbSB0aGUgY3VycmVudAogICAqICAgICAgICBgJGxvY2F0aW9uLnBhdGgoKWAgYnkgYXBwbHlpbmcgdGhlIGN1cnJlbnQgcm91dGUKICAgKgogICAqICAgIC0gYHRlbXBsYXRlVXJsYCDigJMgYHtzdHJpbmc9fGZ1bmN0aW9uKCk9fWAg4oCTIHBhdGggb3IgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgcGF0aCB0byBhbiBodG1sCiAgICogICAgICB0ZW1wbGF0ZSB0aGF0IHNob3VsZCBiZSB1c2VkIGJ5IHtAbGluayBuZ1JvdXRlLmRpcmVjdGl2ZTpuZ1ZpZXcgbmdWaWV3fS4KICAgKgogICAqICAgICAgSWYgYHRlbXBsYXRlVXJsYCBpcyBhIGZ1bmN0aW9uLCBpdCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczoKICAgKgogICAqICAgICAgLSBge0FycmF5LjxPYmplY3Q+fWAgLSByb3V0ZSBwYXJhbWV0ZXJzIGV4dHJhY3RlZCBmcm9tIHRoZSBjdXJyZW50CiAgICogICAgICAgIGAkbG9jYXRpb24ucGF0aCgpYCBieSBhcHBseWluZyB0aGUgY3VycmVudCByb3V0ZQogICAqCiAgICogICAgLSBgcmVzb2x2ZWAgLSBge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbj49fWAgLSBBbiBvcHRpb25hbCBtYXAgb2YgZGVwZW5kZW5jaWVzIHdoaWNoIHNob3VsZAogICAqICAgICAgYmUgaW5qZWN0ZWQgaW50byB0aGUgY29udHJvbGxlci4gSWYgYW55IG9mIHRoZXNlIGRlcGVuZGVuY2llcyBhcmUgcHJvbWlzZXMsIHRoZSByb3V0ZXIKICAgKiAgICAgIHdpbGwgd2FpdCBmb3IgdGhlbSBhbGwgdG8gYmUgcmVzb2x2ZWQgb3Igb25lIHRvIGJlIHJlamVjdGVkIGJlZm9yZSB0aGUgY29udHJvbGxlciBpcwogICAqICAgICAgaW5zdGFudGlhdGVkLgogICAqICAgICAgSWYgYWxsIHRoZSBwcm9taXNlcyBhcmUgcmVzb2x2ZWQgc3VjY2Vzc2Z1bGx5LCB0aGUgdmFsdWVzIG9mIHRoZSByZXNvbHZlZCBwcm9taXNlcyBhcmUKICAgKiAgICAgIGluamVjdGVkIGFuZCB7QGxpbmsgbmdSb3V0ZS4kcm91dGUjJHJvdXRlQ2hhbmdlU3VjY2VzcyAkcm91dGVDaGFuZ2VTdWNjZXNzfSBldmVudCBpcwogICAqICAgICAgZmlyZWQuIElmIGFueSBvZiB0aGUgcHJvbWlzZXMgYXJlIHJlamVjdGVkIHRoZQogICAqICAgICAge0BsaW5rIG5nUm91dGUuJHJvdXRlIyRyb3V0ZUNoYW5nZUVycm9yICRyb3V0ZUNoYW5nZUVycm9yfSBldmVudCBpcyBmaXJlZC4gVGhlIG1hcCBvYmplY3QKICAgKiAgICAgIGlzOgogICAqCiAgICogICAgICAtIGBrZXlgIOKAkyBge3N0cmluZ31gOiBhIG5hbWUgb2YgYSBkZXBlbmRlbmN5IHRvIGJlIGluamVjdGVkIGludG8gdGhlIGNvbnRyb2xsZXIuCiAgICogICAgICAtIGBmYWN0b3J5YCAtIGB7c3RyaW5nfGZ1bmN0aW9ufWA6IElmIGBzdHJpbmdgIHRoZW4gaXQgaXMgYW4gYWxpYXMgZm9yIGEgc2VydmljZS4KICAgKiAgICAgICAgT3RoZXJ3aXNlIGlmIGZ1bmN0aW9uLCB0aGVuIGl0IGlzIHtAbGluayBhdXRvLiRpbmplY3RvciNpbnZva2UgaW5qZWN0ZWR9CiAgICogICAgICAgIGFuZCB0aGUgcmV0dXJuIHZhbHVlIGlzIHRyZWF0ZWQgYXMgdGhlIGRlcGVuZGVuY3kuIElmIHRoZSByZXN1bHQgaXMgYSBwcm9taXNlLCBpdCBpcwogICAqICAgICAgICByZXNvbHZlZCBiZWZvcmUgaXRzIHZhbHVlIGlzIGluamVjdGVkIGludG8gdGhlIGNvbnRyb2xsZXIuIEJlIGF3YXJlIHRoYXQKICAgKiAgICAgICAgYG5nUm91dGUuJHJvdXRlUGFyYW1zYCB3aWxsIHN0aWxsIHJlZmVyIHRvIHRoZSBwcmV2aW91cyByb3V0ZSB3aXRoaW4gdGhlc2UgcmVzb2x2ZQogICAqICAgICAgICBmdW5jdGlvbnMuICBVc2UgYCRyb3V0ZS5jdXJyZW50LnBhcmFtc2AgdG8gYWNjZXNzIHRoZSBuZXcgcm91dGUgcGFyYW1ldGVycywgaW5zdGVhZC4KICAgKgogICAqICAgIC0gYHJlZGlyZWN0VG9gIOKAkyB7KHN0cmluZ3xmdW5jdGlvbigpKT19IOKAkyB2YWx1ZSB0byB1cGRhdGUKICAgKiAgICAgIHtAbGluayBuZy4kbG9jYXRpb24gJGxvY2F0aW9ufSBwYXRoIHdpdGggYW5kIHRyaWdnZXIgcm91dGUgcmVkaXJlY3Rpb24uCiAgICoKICAgKiAgICAgIElmIGByZWRpcmVjdFRvYCBpcyBhIGZ1bmN0aW9uLCBpdCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczoKICAgKgogICAqICAgICAgLSBge09iamVjdC48c3RyaW5nPn1gIC0gcm91dGUgcGFyYW1ldGVycyBleHRyYWN0ZWQgZnJvbSB0aGUgY3VycmVudAogICAqICAgICAgICBgJGxvY2F0aW9uLnBhdGgoKWAgYnkgYXBwbHlpbmcgdGhlIGN1cnJlbnQgcm91dGUgdGVtcGxhdGVVcmwuCiAgICogICAgICAtIGB7c3RyaW5nfWAgLSBjdXJyZW50IGAkbG9jYXRpb24ucGF0aCgpYAogICAqICAgICAgLSBge09iamVjdH1gIC0gY3VycmVudCBgJGxvY2F0aW9uLnNlYXJjaCgpYAogICAqCiAgICogICAgICBUaGUgY3VzdG9tIGByZWRpcmVjdFRvYCBmdW5jdGlvbiBpcyBleHBlY3RlZCB0byByZXR1cm4gYSBzdHJpbmcgd2hpY2ggd2lsbCBiZSB1c2VkCiAgICogICAgICB0byB1cGRhdGUgYCRsb2NhdGlvbi5wYXRoKClgIGFuZCBgJGxvY2F0aW9uLnNlYXJjaCgpYC4KICAgKgogICAqICAgIC0gYFtyZWxvYWRPblNlYXJjaD10cnVlXWAgLSB7Ym9vbGVhbj19IC0gcmVsb2FkIHJvdXRlIHdoZW4gb25seSBgJGxvY2F0aW9uLnNlYXJjaCgpYAogICAqICAgICAgb3IgYCRsb2NhdGlvbi5oYXNoKClgIGNoYW5nZXMuCiAgICoKICAgKiAgICAgIElmIHRoZSBvcHRpb24gaXMgc2V0IHRvIGBmYWxzZWAgYW5kIHVybCBpbiB0aGUgYnJvd3NlciBjaGFuZ2VzLCB0aGVuCiAgICogICAgICBgJHJvdXRlVXBkYXRlYCBldmVudCBpcyBicm9hZGNhc3RlZCBvbiB0aGUgcm9vdCBzY29wZS4KICAgKgogICAqICAgIC0gYFtjYXNlSW5zZW5zaXRpdmVNYXRjaD1mYWxzZV1gIC0ge2Jvb2xlYW49fSAtIG1hdGNoIHJvdXRlcyB3aXRob3V0IGJlaW5nIGNhc2Ugc2Vuc2l0aXZlCiAgICoKICAgKiAgICAgIElmIHRoZSBvcHRpb24gaXMgc2V0IHRvIGB0cnVlYCwgdGhlbiB0aGUgcGFydGljdWxhciByb3V0ZSBjYW4gYmUgbWF0Y2hlZCB3aXRob3V0IGJlaW5nCiAgICogICAgICBjYXNlIHNlbnNpdGl2ZQogICAqCiAgICogQHJldHVybnMge09iamVjdH0gc2VsZgogICAqCiAgICogQGRlc2NyaXB0aW9uCiAgICogQWRkcyBhIG5ldyByb3V0ZSBkZWZpbml0aW9uIHRvIHRoZSBgJHJvdXRlYCBzZXJ2aWNlLgogICAqLwogIHRoaXMud2hlbiA9IGZ1bmN0aW9uKHBhdGgsIHJvdXRlKSB7CiAgICByb3V0ZXNbcGF0aF0gPSBhbmd1bGFyLmV4dGVuZCgKICAgICAge3JlbG9hZE9uU2VhcmNoOiB0cnVlfSwKICAgICAgcm91dGUsCiAgICAgIHBhdGggJiYgcGF0aFJlZ0V4cChwYXRoLCByb3V0ZSkKICAgICk7CgogICAgLy8gY3JlYXRlIHJlZGlyZWN0aW9uIGZvciB0cmFpbGluZyBzbGFzaGVzCiAgICBpZiAocGF0aCkgewogICAgICB2YXIgcmVkaXJlY3RQYXRoID0gKHBhdGhbcGF0aC5sZW5ndGgtMV0gPT0gJy8nKQogICAgICAgICAgICA/IHBhdGguc3Vic3RyKDAsIHBhdGgubGVuZ3RoLTEpCiAgICAgICAgICAgIDogcGF0aCArJy8nOwoKICAgICAgcm91dGVzW3JlZGlyZWN0UGF0aF0gPSBhbmd1bGFyLmV4dGVuZCgKICAgICAgICB7cmVkaXJlY3RUbzogcGF0aH0sCiAgICAgICAgcGF0aFJlZ0V4cChyZWRpcmVjdFBhdGgsIHJvdXRlKQogICAgICApOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CgogICAvKioKICAgICogQHBhcmFtIHBhdGgge3N0cmluZ30gcGF0aAogICAgKiBAcGFyYW0gb3B0cyB7T2JqZWN0fSBvcHRpb25zCiAgICAqIEByZXR1cm4gez9PYmplY3R9CiAgICAqCiAgICAqIEBkZXNjcmlwdGlvbgogICAgKiBOb3JtYWxpemVzIHRoZSBnaXZlbiBwYXRoLCByZXR1cm5pbmcgYSByZWd1bGFyIGV4cHJlc3Npb24KICAgICogYW5kIHRoZSBvcmlnaW5hbCBwYXRoLgogICAgKgogICAgKiBJbnNwaXJlZCBieSBwYXRoUmV4cCBpbiB2aXNpb25tZWRpYS9leHByZXNzL2xpYi91dGlscy5qcy4KICAgICovCiAgZnVuY3Rpb24gcGF0aFJlZ0V4cChwYXRoLCBvcHRzKSB7CiAgICB2YXIgaW5zZW5zaXRpdmUgPSBvcHRzLmNhc2VJbnNlbnNpdGl2ZU1hdGNoLAogICAgICAgIHJldCA9IHsKICAgICAgICAgIG9yaWdpbmFsUGF0aDogcGF0aCwKICAgICAgICAgIHJlZ2V4cDogcGF0aAogICAgICAgIH0sCiAgICAgICAga2V5cyA9IHJldC5rZXlzID0gW107CgogICAgcGF0aCA9IHBhdGgKICAgICAgLnJlcGxhY2UoLyhbKCkuXSkvZywgJ1xcJDEnKQogICAgICAucmVwbGFjZSgvKFwvKT86KFx3KykoW1w/XCpdKT8vZywgZnVuY3Rpb24oXywgc2xhc2gsIGtleSwgb3B0aW9uKXsKICAgICAgICB2YXIgb3B0aW9uYWwgPSBvcHRpb24gPT09ICc/JyA/IG9wdGlvbiA6IG51bGw7CiAgICAgICAgdmFyIHN0YXIgPSBvcHRpb24gPT09ICcqJyA/IG9wdGlvbiA6IG51bGw7CiAgICAgICAga2V5cy5wdXNoKHsgbmFtZToga2V5LCBvcHRpb25hbDogISFvcHRpb25hbCB9KTsKICAgICAgICBzbGFzaCA9IHNsYXNoIHx8ICcnOwogICAgICAgIHJldHVybiAnJwogICAgICAgICAgKyAob3B0aW9uYWwgPyAnJyA6IHNsYXNoKQogICAgICAgICAgKyAnKD86JwogICAgICAgICAgKyAob3B0aW9uYWwgPyBzbGFzaCA6ICcnKQogICAgICAgICAgKyAoc3RhciAmJiAnKC4rPyknIHx8ICcoW14vXSspJykKICAgICAgICAgICsgKG9wdGlvbmFsIHx8ICcnKQogICAgICAgICAgKyAnKScKICAgICAgICAgICsgKG9wdGlvbmFsIHx8ICcnKTsKICAgICAgfSkKICAgICAgLnJlcGxhY2UoLyhbXC8kXCpdKS9nLCAnXFwkMScpOwoKICAgIHJldC5yZWdleHAgPSBuZXcgUmVnRXhwKCdeJyArIHBhdGggKyAnJCcsIGluc2Vuc2l0aXZlID8gJ2knIDogJycpOwogICAgcmV0dXJuIHJldDsKICB9CgogIC8qKgogICAqIEBuZ2RvYyBtZXRob2QKICAgKiBAbmFtZSAkcm91dGVQcm92aWRlciNvdGhlcndpc2UKICAgKgogICAqIEBkZXNjcmlwdGlvbgogICAqIFNldHMgcm91dGUgZGVmaW5pdGlvbiB0aGF0IHdpbGwgYmUgdXNlZCBvbiByb3V0ZSBjaGFuZ2Ugd2hlbiBubyBvdGhlciByb3V0ZSBkZWZpbml0aW9uCiAgICogaXMgbWF0Y2hlZC4KICAgKgogICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgTWFwcGluZyBpbmZvcm1hdGlvbiB0byBiZSBhc3NpZ25lZCB0byBgJHJvdXRlLmN1cnJlbnRgLgogICAqIEByZXR1cm5zIHtPYmplY3R9IHNlbGYKICAgKi8KICB0aGlzLm90aGVyd2lzZSA9IGZ1bmN0aW9uKHBhcmFtcykgewogICAgdGhpcy53aGVuKG51bGwsIHBhcmFtcyk7CiAgICByZXR1cm4gdGhpczsKICB9OwoKCiAgdGhpcy4kZ2V0ID0gWyckcm9vdFNjb3BlJywKICAgICAgICAgICAgICAgJyRsb2NhdGlvbicsCiAgICAgICAgICAgICAgICckcm91dGVQYXJhbXMnLAogICAgICAgICAgICAgICAnJHEnLAogICAgICAgICAgICAgICAnJGluamVjdG9yJywKICAgICAgICAgICAgICAgJyRodHRwJywKICAgICAgICAgICAgICAgJyR0ZW1wbGF0ZUNhY2hlJywKICAgICAgICAgICAgICAgJyRzY2UnLAogICAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCAkbG9jYXRpb24sICRyb3V0ZVBhcmFtcywgJHEsICRpbmplY3RvciwgJGh0dHAsICR0ZW1wbGF0ZUNhY2hlLCAkc2NlKSB7CgogICAgLyoqCiAgICAgKiBAbmdkb2Mgc2VydmljZQogICAgICogQG5hbWUgJHJvdXRlCiAgICAgKiBAcmVxdWlyZXMgJGxvY2F0aW9uCiAgICAgKiBAcmVxdWlyZXMgJHJvdXRlUGFyYW1zCiAgICAgKgogICAgICogQHByb3BlcnR5IHtPYmplY3R9IGN1cnJlbnQgUmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJvdXRlIGRlZmluaXRpb24uCiAgICAgKiBUaGUgcm91dGUgZGVmaW5pdGlvbiBjb250YWluczoKICAgICAqCiAgICAgKiAgIC0gYGNvbnRyb2xsZXJgOiBUaGUgY29udHJvbGxlciBjb25zdHJ1Y3RvciBhcyBkZWZpbmUgaW4gcm91dGUgZGVmaW5pdGlvbi4KICAgICAqICAgLSBgbG9jYWxzYDogQSBtYXAgb2YgbG9jYWxzIHdoaWNoIGlzIHVzZWQgYnkge0BsaW5rIG5nLiRjb250cm9sbGVyICRjb250cm9sbGVyfSBzZXJ2aWNlIGZvcgogICAgICogICAgIGNvbnRyb2xsZXIgaW5zdGFudGlhdGlvbi4gVGhlIGBsb2NhbHNgIGNvbnRhaW4KICAgICAqICAgICB0aGUgcmVzb2x2ZWQgdmFsdWVzIG9mIHRoZSBgcmVzb2x2ZWAgbWFwLiBBZGRpdGlvbmFsbHkgdGhlIGBsb2NhbHNgIGFsc28gY29udGFpbjoKICAgICAqCiAgICAgKiAgICAgLSBgJHNjb3BlYCAtIFRoZSBjdXJyZW50IHJvdXRlIHNjb3BlLgogICAgICogICAgIC0gYCR0ZW1wbGF0ZWAgLSBUaGUgY3VycmVudCByb3V0ZSB0ZW1wbGF0ZSBIVE1MLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSByb3V0ZXMgT2JqZWN0IHdpdGggYWxsIHJvdXRlIGNvbmZpZ3VyYXRpb24gT2JqZWN0cyBhcyBpdHMgcHJvcGVydGllcy4KICAgICAqCiAgICAgKiBAZGVzY3JpcHRpb24KICAgICAqIGAkcm91dGVgIGlzIHVzZWQgZm9yIGRlZXAtbGlua2luZyBVUkxzIHRvIGNvbnRyb2xsZXJzIGFuZCB2aWV3cyAoSFRNTCBwYXJ0aWFscykuCiAgICAgKiBJdCB3YXRjaGVzIGAkbG9jYXRpb24udXJsKClgIGFuZCB0cmllcyB0byBtYXAgdGhlIHBhdGggdG8gYW4gZXhpc3Rpbmcgcm91dGUgZGVmaW5pdGlvbi4KICAgICAqCiAgICAgKiBSZXF1aXJlcyB0aGUge0BsaW5rIG5nUm91dGUgYG5nUm91dGVgfSBtb2R1bGUgdG8gYmUgaW5zdGFsbGVkLgogICAgICoKICAgICAqIFlvdSBjYW4gZGVmaW5lIHJvdXRlcyB0aHJvdWdoIHtAbGluayBuZ1JvdXRlLiRyb3V0ZVByb3ZpZGVyICRyb3V0ZVByb3ZpZGVyfSdzIEFQSS4KICAgICAqCiAgICAgKiBUaGUgYCRyb3V0ZWAgc2VydmljZSBpcyB0eXBpY2FsbHkgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIHRoZQogICAgICoge0BsaW5rIG5nUm91dGUuZGlyZWN0aXZlOm5nVmlldyBgbmdWaWV3YH0gZGlyZWN0aXZlIGFuZCB0aGUKICAgICAqIHtAbGluayBuZ1JvdXRlLiRyb3V0ZVBhcmFtcyBgJHJvdXRlUGFyYW1zYH0gc2VydmljZS4KICAgICAqCiAgICAgKiBAZXhhbXBsZQogICAgICogVGhpcyBleGFtcGxlIHNob3dzIGhvdyBjaGFuZ2luZyB0aGUgVVJMIGhhc2ggY2F1c2VzIHRoZSBgJHJvdXRlYCB0byBtYXRjaCBhIHJvdXRlIGFnYWluc3QgdGhlCiAgICAgKiBVUkwsIGFuZCB0aGUgYG5nVmlld2AgcHVsbHMgaW4gdGhlIHBhcnRpYWwuCiAgICAgKgogICAgICogTm90ZSB0aGF0IHRoaXMgZXhhbXBsZSBpcyB1c2luZyB7QGxpbmsgbmcuZGlyZWN0aXZlOnNjcmlwdCBpbmxpbmVkIHRlbXBsYXRlc30KICAgICAqIHRvIGdldCBpdCB3b3JraW5nIG9uIGpzZmlkZGxlIGFzIHdlbGwuCiAgICAgKgogICAgICogPGV4YW1wbGUgbmFtZT0iJHJvdXRlLXNlcnZpY2UiIG1vZHVsZT0ibmdSb3V0ZUV4YW1wbGUiCiAgICAgKiAgICAgICAgICBkZXBzPSJhbmd1bGFyLXJvdXRlLmpzIiBmaXhCYXNlPSJ0cnVlIj4KICAgICAqICAgPGZpbGUgbmFtZT0iaW5kZXguaHRtbCI+CiAgICAgKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPSJNYWluQ29udHJvbGxlciI+CiAgICAgKiAgICAgICBDaG9vc2U6CiAgICAgKiAgICAgICA8YSBocmVmPSJCb29rL01vYnkiPk1vYnk8L2E+IHwKICAgICAqICAgICAgIDxhIGhyZWY9IkJvb2svTW9ieS9jaC8xIj5Nb2J5OiBDaDE8L2E+IHwKICAgICAqICAgICAgIDxhIGhyZWY9IkJvb2svR2F0c2J5Ij5HYXRzYnk8L2E+IHwKICAgICAqICAgICAgIDxhIGhyZWY9IkJvb2svR2F0c2J5L2NoLzQ/a2V5PXZhbHVlIj5HYXRzYnk6IENoNDwvYT4gfAogICAgICogICAgICAgPGEgaHJlZj0iQm9vay9TY2FybGV0Ij5TY2FybGV0IExldHRlcjwvYT48YnIvPgogICAgICoKICAgICAqICAgICAgIDxkaXYgbmctdmlldz48L2Rpdj4KICAgICAqCiAgICAgKiAgICAgICA8aHIgLz4KICAgICAqCiAgICAgKiAgICAgICA8cHJlPiRsb2NhdGlvbi5wYXRoKCkgPSB7eyRsb2NhdGlvbi5wYXRoKCl9fTwvcHJlPgogICAgICogICAgICAgPHByZT4kcm91dGUuY3VycmVudC50ZW1wbGF0ZVVybCA9IHt7JHJvdXRlLmN1cnJlbnQudGVtcGxhdGVVcmx9fTwvcHJlPgogICAgICogICAgICAgPHByZT4kcm91dGUuY3VycmVudC5wYXJhbXMgPSB7eyRyb3V0ZS5jdXJyZW50LnBhcmFtc319PC9wcmU+CiAgICAgKiAgICAgICA8cHJlPiRyb3V0ZS5jdXJyZW50LnNjb3BlLm5hbWUgPSB7eyRyb3V0ZS5jdXJyZW50LnNjb3BlLm5hbWV9fTwvcHJlPgogICAgICogICAgICAgPHByZT4kcm91dGVQYXJhbXMgPSB7eyRyb3V0ZVBhcmFtc319PC9wcmU+CiAgICAgKiAgICAgPC9kaXY+CiAgICAgKiAgIDwvZmlsZT4KICAgICAqCiAgICAgKiAgIDxmaWxlIG5hbWU9ImJvb2suaHRtbCI+CiAgICAgKiAgICAgY29udHJvbGxlcjoge3tuYW1lfX08YnIgLz4KICAgICAqICAgICBCb29rIElkOiB7e3BhcmFtcy5ib29rSWR9fTxiciAvPgogICAgICogICA8L2ZpbGU+CiAgICAgKgogICAgICogICA8ZmlsZSBuYW1lPSJjaGFwdGVyLmh0bWwiPgogICAgICogICAgIGNvbnRyb2xsZXI6IHt7bmFtZX19PGJyIC8+CiAgICAgKiAgICAgQm9vayBJZDoge3twYXJhbXMuYm9va0lkfX08YnIgLz4KICAgICAqICAgICBDaGFwdGVyIElkOiB7e3BhcmFtcy5jaGFwdGVySWR9fQogICAgICogICA8L2ZpbGU+CiAgICAgKgogICAgICogICA8ZmlsZSBuYW1lPSJzY3JpcHQuanMiPgogICAgICogICAgIGFuZ3VsYXIubW9kdWxlKCduZ1JvdXRlRXhhbXBsZScsIFsnbmdSb3V0ZSddKQogICAgICoKICAgICAqICAgICAgLmNvbnRyb2xsZXIoJ01haW5Db250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLCAkcm91dGUsICRyb3V0ZVBhcmFtcywgJGxvY2F0aW9uKSB7CiAgICAgKiAgICAgICAgICAkc2NvcGUuJHJvdXRlID0gJHJvdXRlOwogICAgICogICAgICAgICAgJHNjb3BlLiRsb2NhdGlvbiA9ICRsb2NhdGlvbjsKICAgICAqICAgICAgICAgICRzY29wZS4kcm91dGVQYXJhbXMgPSAkcm91dGVQYXJhbXM7CiAgICAgKiAgICAgIH0pCiAgICAgKgogICAgICogICAgICAuY29udHJvbGxlcignQm9va0NvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsICRyb3V0ZVBhcmFtcykgewogICAgICogICAgICAgICAgJHNjb3BlLm5hbWUgPSAiQm9va0NvbnRyb2xsZXIiOwogICAgICogICAgICAgICAgJHNjb3BlLnBhcmFtcyA9ICRyb3V0ZVBhcmFtczsKICAgICAqICAgICAgfSkKICAgICAqCiAgICAgKiAgICAgIC5jb250cm9sbGVyKCdDaGFwdGVyQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSwgJHJvdXRlUGFyYW1zKSB7CiAgICAgKiAgICAgICAgICAkc2NvcGUubmFtZSA9ICJDaGFwdGVyQ29udHJvbGxlciI7CiAgICAgKiAgICAgICAgICAkc2NvcGUucGFyYW1zID0gJHJvdXRlUGFyYW1zOwogICAgICogICAgICB9KQogICAgICoKICAgICAqICAgICAuY29uZmlnKGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikgewogICAgICogICAgICAgJHJvdXRlUHJvdmlkZXIKICAgICAqICAgICAgICAud2hlbignL0Jvb2svOmJvb2tJZCcsIHsKICAgICAqICAgICAgICAgdGVtcGxhdGVVcmw6ICdib29rLmh0bWwnLAogICAgICogICAgICAgICBjb250cm9sbGVyOiAnQm9va0NvbnRyb2xsZXInLAogICAgICogICAgICAgICByZXNvbHZlOiB7CiAgICAgKiAgICAgICAgICAgLy8gSSB3aWxsIGNhdXNlIGEgMSBzZWNvbmQgZGVsYXkKICAgICAqICAgICAgICAgICBkZWxheTogZnVuY3Rpb24oJHEsICR0aW1lb3V0KSB7CiAgICAgKiAgICAgICAgICAgICB2YXIgZGVsYXkgPSAkcS5kZWZlcigpOwogICAgICogICAgICAgICAgICAgJHRpbWVvdXQoZGVsYXkucmVzb2x2ZSwgMTAwMCk7CiAgICAgKiAgICAgICAgICAgICByZXR1cm4gZGVsYXkucHJvbWlzZTsKICAgICAqICAgICAgICAgICB9CiAgICAgKiAgICAgICAgIH0KICAgICAqICAgICAgIH0pCiAgICAgKiAgICAgICAud2hlbignL0Jvb2svOmJvb2tJZC9jaC86Y2hhcHRlcklkJywgewogICAgICogICAgICAgICB0ZW1wbGF0ZVVybDogJ2NoYXB0ZXIuaHRtbCcsCiAgICAgKiAgICAgICAgIGNvbnRyb2xsZXI6ICdDaGFwdGVyQ29udHJvbGxlcicKICAgICAqICAgICAgIH0pOwogICAgICoKICAgICAqICAgICAgIC8vIGNvbmZpZ3VyZSBodG1sNSB0byBnZXQgbGlua3Mgd29ya2luZyBvbiBqc2ZpZGRsZQogICAgICogICAgICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpOwogICAgICogICAgIH0pOwogICAgICoKICAgICAqICAgPC9maWxlPgogICAgICoKICAgICAqICAgPGZpbGUgbmFtZT0icHJvdHJhY3Rvci5qcyIgdHlwZT0icHJvdHJhY3RvciI+CiAgICAgKiAgICAgaXQoJ3Nob3VsZCBsb2FkIGFuZCBjb21waWxlIGNvcnJlY3QgdGVtcGxhdGUnLCBmdW5jdGlvbigpIHsKICAgICAqICAgICAgIGVsZW1lbnQoYnkubGlua1RleHQoJ01vYnk6IENoMScpKS5jbGljaygpOwogICAgICogICAgICAgdmFyIGNvbnRlbnQgPSBlbGVtZW50KGJ5LmNzcygnW25nLXZpZXddJykpLmdldFRleHQoKTsKICAgICAqICAgICAgIGV4cGVjdChjb250ZW50KS50b01hdGNoKC9jb250cm9sbGVyXDogQ2hhcHRlckNvbnRyb2xsZXIvKTsKICAgICAqICAgICAgIGV4cGVjdChjb250ZW50KS50b01hdGNoKC9Cb29rIElkXDogTW9ieS8pOwogICAgICogICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvTWF0Y2goL0NoYXB0ZXIgSWRcOiAxLyk7CiAgICAgKgogICAgICogICAgICAgZWxlbWVudChieS5wYXJ0aWFsTGlua1RleHQoJ1NjYXJsZXQnKSkuY2xpY2soKTsKICAgICAqCiAgICAgKiAgICAgICBjb250ZW50ID0gZWxlbWVudChieS5jc3MoJ1tuZy12aWV3XScpKS5nZXRUZXh0KCk7CiAgICAgKiAgICAgICBleHBlY3QoY29udGVudCkudG9NYXRjaCgvY29udHJvbGxlclw6IEJvb2tDb250cm9sbGVyLyk7CiAgICAgKiAgICAgICBleHBlY3QoY29udGVudCkudG9NYXRjaCgvQm9vayBJZFw6IFNjYXJsZXQvKTsKICAgICAqICAgICB9KTsKICAgICAqICAgPC9maWxlPgogICAgICogPC9leGFtcGxlPgogICAgICovCgogICAgLyoqCiAgICAgKiBAbmdkb2MgZXZlbnQKICAgICAqIEBuYW1lICRyb3V0ZSMkcm91dGVDaGFuZ2VTdGFydAogICAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gcm9vdCBzY29wZQogICAgICogQGRlc2NyaXB0aW9uCiAgICAgKiBCcm9hZGNhc3RlZCBiZWZvcmUgYSByb3V0ZSBjaGFuZ2UuIEF0IHRoaXMgIHBvaW50IHRoZSByb3V0ZSBzZXJ2aWNlcyBzdGFydHMKICAgICAqIHJlc29sdmluZyBhbGwgb2YgdGhlIGRlcGVuZGVuY2llcyBuZWVkZWQgZm9yIHRoZSByb3V0ZSBjaGFuZ2UgdG8gb2NjdXIuCiAgICAgKiBUeXBpY2FsbHkgdGhpcyBpbnZvbHZlcyBmZXRjaGluZyB0aGUgdmlldyB0ZW1wbGF0ZSBhcyB3ZWxsIGFzIGFueSBkZXBlbmRlbmNpZXMKICAgICAqIGRlZmluZWQgaW4gYHJlc29sdmVgIHJvdXRlIHByb3BlcnR5LiBPbmNlICBhbGwgb2YgdGhlIGRlcGVuZGVuY2llcyBhcmUgcmVzb2x2ZWQKICAgICAqIGAkcm91dGVDaGFuZ2VTdWNjZXNzYCBpcyBmaXJlZC4KICAgICAqCiAgICAgKiBAcGFyYW0ge09iamVjdH0gYW5ndWxhckV2ZW50IFN5bnRoZXRpYyBldmVudCBvYmplY3QuCiAgICAgKiBAcGFyYW0ge1JvdXRlfSBuZXh0IEZ1dHVyZSByb3V0ZSBpbmZvcm1hdGlvbi4KICAgICAqIEBwYXJhbSB7Um91dGV9IGN1cnJlbnQgQ3VycmVudCByb3V0ZSBpbmZvcm1hdGlvbi4KICAgICAqLwoKICAgIC8qKgogICAgICogQG5nZG9jIGV2ZW50CiAgICAgKiBAbmFtZSAkcm91dGUjJHJvdXRlQ2hhbmdlU3VjY2VzcwogICAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gcm9vdCBzY29wZQogICAgICogQGRlc2NyaXB0aW9uCiAgICAgKiBCcm9hZGNhc3RlZCBhZnRlciBhIHJvdXRlIGRlcGVuZGVuY2llcyBhcmUgcmVzb2x2ZWQuCiAgICAgKiB7QGxpbmsgbmdSb3V0ZS5kaXJlY3RpdmU6bmdWaWV3IG5nVmlld30gbGlzdGVucyBmb3IgdGhlIGRpcmVjdGl2ZQogICAgICogdG8gaW5zdGFudGlhdGUgdGhlIGNvbnRyb2xsZXIgYW5kIHJlbmRlciB0aGUgdmlldy4KICAgICAqCiAgICAgKiBAcGFyYW0ge09iamVjdH0gYW5ndWxhckV2ZW50IFN5bnRoZXRpYyBldmVudCBvYmplY3QuCiAgICAgKiBAcGFyYW0ge1JvdXRlfSBjdXJyZW50IEN1cnJlbnQgcm91dGUgaW5mb3JtYXRpb24uCiAgICAgKiBAcGFyYW0ge1JvdXRlfFVuZGVmaW5lZH0gcHJldmlvdXMgUHJldmlvdXMgcm91dGUgaW5mb3JtYXRpb24sIG9yIHVuZGVmaW5lZCBpZiBjdXJyZW50IGlzCiAgICAgKiBmaXJzdCByb3V0ZSBlbnRlcmVkLgogICAgICovCgogICAgLyoqCiAgICAgKiBAbmdkb2MgZXZlbnQKICAgICAqIEBuYW1lICRyb3V0ZSMkcm91dGVDaGFuZ2VFcnJvcgogICAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gcm9vdCBzY29wZQogICAgICogQGRlc2NyaXB0aW9uCiAgICAgKiBCcm9hZGNhc3RlZCBpZiBhbnkgb2YgdGhlIHJlc29sdmUgcHJvbWlzZXMgYXJlIHJlamVjdGVkLgogICAgICoKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdAogICAgICogQHBhcmFtIHtSb3V0ZX0gY3VycmVudCBDdXJyZW50IHJvdXRlIGluZm9ybWF0aW9uLgogICAgICogQHBhcmFtIHtSb3V0ZX0gcHJldmlvdXMgUHJldmlvdXMgcm91dGUgaW5mb3JtYXRpb24uCiAgICAgKiBAcGFyYW0ge1JvdXRlfSByZWplY3Rpb24gUmVqZWN0aW9uIG9mIHRoZSBwcm9taXNlLiBVc3VhbGx5IHRoZSBlcnJvciBvZiB0aGUgZmFpbGVkIHByb21pc2UuCiAgICAgKi8KCiAgICAvKioKICAgICAqIEBuZ2RvYyBldmVudAogICAgICogQG5hbWUgJHJvdXRlIyRyb3V0ZVVwZGF0ZQogICAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gcm9vdCBzY29wZQogICAgICogQGRlc2NyaXB0aW9uCiAgICAgKgogICAgICogVGhlIGByZWxvYWRPblNlYXJjaGAgcHJvcGVydHkgaGFzIGJlZW4gc2V0IHRvIGZhbHNlLCBhbmQgd2UgYXJlIHJldXNpbmcgdGhlIHNhbWUKICAgICAqIGluc3RhbmNlIG9mIHRoZSBDb250cm9sbGVyLgogICAgICovCgogICAgdmFyIGZvcmNlUmVsb2FkID0gZmFsc2UsCiAgICAgICAgJHJvdXRlID0gewogICAgICAgICAgcm91dGVzOiByb3V0ZXMsCgogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kCiAgICAgICAgICAgKiBAbmFtZSAkcm91dGUjcmVsb2FkCiAgICAgICAgICAgKgogICAgICAgICAgICogQGRlc2NyaXB0aW9uCiAgICAgICAgICAgKiBDYXVzZXMgYCRyb3V0ZWAgc2VydmljZSB0byByZWxvYWQgdGhlIGN1cnJlbnQgcm91dGUgZXZlbiBpZgogICAgICAgICAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiAkbG9jYXRpb259IGhhc24ndCBjaGFuZ2VkLgogICAgICAgICAgICoKICAgICAgICAgICAqIEFzIGEgcmVzdWx0IG9mIHRoYXQsIHtAbGluayBuZ1JvdXRlLmRpcmVjdGl2ZTpuZ1ZpZXcgbmdWaWV3fQogICAgICAgICAgICogY3JlYXRlcyBuZXcgc2NvcGUsIHJlaW5zdGFudGlhdGVzIHRoZSBjb250cm9sbGVyLgogICAgICAgICAgICovCiAgICAgICAgICByZWxvYWQ6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBmb3JjZVJlbG9hZCA9IHRydWU7CiAgICAgICAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyh1cGRhdGVSb3V0ZSk7CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAkcm9vdFNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsIHVwZGF0ZVJvdXRlKTsKCiAgICByZXR1cm4gJHJvdXRlOwoKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgLyoqCiAgICAgKiBAcGFyYW0gb24ge3N0cmluZ30gY3VycmVudCB1cmwKICAgICAqIEBwYXJhbSByb3V0ZSB7T2JqZWN0fSByb3V0ZSByZWdleHAgdG8gbWF0Y2ggdGhlIHVybCBhZ2FpbnN0CiAgICAgKiBAcmV0dXJuIHs/T2JqZWN0fQogICAgICoKICAgICAqIEBkZXNjcmlwdGlvbgogICAgICogQ2hlY2sgaWYgdGhlIHJvdXRlIG1hdGNoZXMgdGhlIGN1cnJlbnQgdXJsLgogICAgICoKICAgICAqIEluc3BpcmVkIGJ5IG1hdGNoIGluCiAgICAgKiB2aXNpb25tZWRpYS9leHByZXNzL2xpYi9yb3V0ZXIvcm91dGVyLmpzLgogICAgICovCiAgICBmdW5jdGlvbiBzd2l0Y2hSb3V0ZU1hdGNoZXIob24sIHJvdXRlKSB7CiAgICAgIHZhciBrZXlzID0gcm91dGUua2V5cywKICAgICAgICAgIHBhcmFtcyA9IHt9OwoKICAgICAgaWYgKCFyb3V0ZS5yZWdleHApIHJldHVybiBudWxsOwoKICAgICAgdmFyIG0gPSByb3V0ZS5yZWdleHAuZXhlYyhvbik7CiAgICAgIGlmICghbSkgcmV0dXJuIG51bGw7CgogICAgICBmb3IgKHZhciBpID0gMSwgbGVuID0gbS5sZW5ndGg7IGkgPCBsZW47ICsraSkgewogICAgICAgIHZhciBrZXkgPSBrZXlzW2kgLSAxXTsKCiAgICAgICAgdmFyIHZhbCA9ICdzdHJpbmcnID09IHR5cGVvZiBtW2ldCiAgICAgICAgICAgICAgPyBkZWNvZGVVUklDb21wb25lbnQobVtpXSkKICAgICAgICAgICAgICA6IG1baV07CgogICAgICAgIGlmIChrZXkgJiYgdmFsKSB7CiAgICAgICAgICBwYXJhbXNba2V5Lm5hbWVdID0gdmFsOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gcGFyYW1zOwogICAgfQoKICAgIGZ1bmN0aW9uIHVwZGF0ZVJvdXRlKCkgewogICAgICB2YXIgbmV4dCA9IHBhcnNlUm91dGUoKSwKICAgICAgICAgIGxhc3QgPSAkcm91dGUuY3VycmVudDsKCiAgICAgIGlmIChuZXh0ICYmIGxhc3QgJiYgbmV4dC4kJHJvdXRlID09PSBsYXN0LiQkcm91dGUKICAgICAgICAgICYmIGFuZ3VsYXIuZXF1YWxzKG5leHQucGF0aFBhcmFtcywgbGFzdC5wYXRoUGFyYW1zKQogICAgICAgICAgJiYgIW5leHQucmVsb2FkT25TZWFyY2ggJiYgIWZvcmNlUmVsb2FkKSB7CiAgICAgICAgbGFzdC5wYXJhbXMgPSBuZXh0LnBhcmFtczsKICAgICAgICBhbmd1bGFyLmNvcHkobGFzdC5wYXJhbXMsICRyb3V0ZVBhcmFtcyk7CiAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCckcm91dGVVcGRhdGUnLCBsYXN0KTsKICAgICAgfSBlbHNlIGlmIChuZXh0IHx8IGxhc3QpIHsKICAgICAgICBmb3JjZVJlbG9hZCA9IGZhbHNlOwogICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnJHJvdXRlQ2hhbmdlU3RhcnQnLCBuZXh0LCBsYXN0KTsKICAgICAgICAkcm91dGUuY3VycmVudCA9IG5leHQ7CiAgICAgICAgaWYgKG5leHQpIHsKICAgICAgICAgIGlmIChuZXh0LnJlZGlyZWN0VG8pIHsKICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcobmV4dC5yZWRpcmVjdFRvKSkgewogICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKGludGVycG9sYXRlKG5leHQucmVkaXJlY3RUbywgbmV4dC5wYXJhbXMpKS5zZWFyY2gobmV4dC5wYXJhbXMpCiAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAkbG9jYXRpb24udXJsKG5leHQucmVkaXJlY3RUbyhuZXh0LnBhdGhQYXJhbXMsICRsb2NhdGlvbi5wYXRoKCksICRsb2NhdGlvbi5zZWFyY2goKSkpCiAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgJHEud2hlbihuZXh0KS4KICAgICAgICAgIHRoZW4oZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmIChuZXh0KSB7CiAgICAgICAgICAgICAgdmFyIGxvY2FscyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBuZXh0LnJlc29sdmUpLAogICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSwgdGVtcGxhdGVVcmw7CgogICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChsb2NhbHMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHsKICAgICAgICAgICAgICAgIGxvY2Fsc1trZXldID0gYW5ndWxhci5pc1N0cmluZyh2YWx1ZSkgPwogICAgICAgICAgICAgICAgICAgICRpbmplY3Rvci5nZXQodmFsdWUpIDogJGluamVjdG9yLmludm9rZSh2YWx1ZSk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCh0ZW1wbGF0ZSA9IG5leHQudGVtcGxhdGUpKSB7CiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRlbXBsYXRlKSkgewogICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlKG5leHQucGFyYW1zKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHRlbXBsYXRlVXJsID0gbmV4dC50ZW1wbGF0ZVVybCkpIHsKICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odGVtcGxhdGVVcmwpKSB7CiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsID0gdGVtcGxhdGVVcmwobmV4dC5wYXJhbXMpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGVtcGxhdGVVcmwgPSAkc2NlLmdldFRydXN0ZWRSZXNvdXJjZVVybCh0ZW1wbGF0ZVVybCk7CiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQodGVtcGxhdGVVcmwpKSB7CiAgICAgICAgICAgICAgICAgIG5leHQubG9hZGVkVGVtcGxhdGVVcmwgPSB0ZW1wbGF0ZVVybDsKICAgICAgICAgICAgICAgICAgdGVtcGxhdGUgPSAkaHR0cC5nZXQodGVtcGxhdGVVcmwsIHtjYWNoZTogJHRlbXBsYXRlQ2FjaGV9KS4KICAgICAgICAgICAgICAgICAgICAgIHRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsgcmV0dXJuIHJlc3BvbnNlLmRhdGE7IH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQodGVtcGxhdGUpKSB7CiAgICAgICAgICAgICAgICBsb2NhbHNbJyR0ZW1wbGF0ZSddID0gdGVtcGxhdGU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJldHVybiAkcS5hbGwobG9jYWxzKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuCiAgICAgICAgICAvLyBhZnRlciByb3V0ZSBjaGFuZ2UKICAgICAgICAgIHRoZW4oZnVuY3Rpb24obG9jYWxzKSB7CiAgICAgICAgICAgIGlmIChuZXh0ID09ICRyb3V0ZS5jdXJyZW50KSB7CiAgICAgICAgICAgICAgaWYgKG5leHQpIHsKICAgICAgICAgICAgICAgIG5leHQubG9jYWxzID0gbG9jYWxzOwogICAgICAgICAgICAgICAgYW5ndWxhci5jb3B5KG5leHQucGFyYW1zLCAkcm91dGVQYXJhbXMpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJyRyb3V0ZUNoYW5nZVN1Y2Nlc3MnLCBuZXh0LCBsYXN0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgICAgaWYgKG5leHQgPT0gJHJvdXRlLmN1cnJlbnQpIHsKICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJyRyb3V0ZUNoYW5nZUVycm9yJywgbmV4dCwgbGFzdCwgZXJyb3IpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfQoKCiAgICAvKioKICAgICAqIEByZXR1cm5zIHtPYmplY3R9IHRoZSBjdXJyZW50IGFjdGl2ZSByb3V0ZSwgYnkgbWF0Y2hpbmcgaXQgYWdhaW5zdCB0aGUgVVJMCiAgICAgKi8KICAgIGZ1bmN0aW9uIHBhcnNlUm91dGUoKSB7CiAgICAgIC8vIE1hdGNoIGEgcm91dGUKICAgICAgdmFyIHBhcmFtcywgbWF0Y2g7CiAgICAgIGFuZ3VsYXIuZm9yRWFjaChyb3V0ZXMsIGZ1bmN0aW9uKHJvdXRlLCBwYXRoKSB7CiAgICAgICAgaWYgKCFtYXRjaCAmJiAocGFyYW1zID0gc3dpdGNoUm91dGVNYXRjaGVyKCRsb2NhdGlvbi5wYXRoKCksIHJvdXRlKSkpIHsKICAgICAgICAgIG1hdGNoID0gaW5oZXJpdChyb3V0ZSwgewogICAgICAgICAgICBwYXJhbXM6IGFuZ3VsYXIuZXh0ZW5kKHt9LCAkbG9jYXRpb24uc2VhcmNoKCksIHBhcmFtcyksCiAgICAgICAgICAgIHBhdGhQYXJhbXM6IHBhcmFtc30pOwogICAgICAgICAgbWF0Y2guJCRyb3V0ZSA9IHJvdXRlOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIC8vIE5vIHJvdXRlIG1hdGNoZWQ7IGZhbGxiYWNrIHRvICJvdGhlcndpc2UiIHJvdXRlCiAgICAgIHJldHVybiBtYXRjaCB8fCByb3V0ZXNbbnVsbF0gJiYgaW5oZXJpdChyb3V0ZXNbbnVsbF0sIHtwYXJhbXM6IHt9LCBwYXRoUGFyYW1zOnt9fSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBpbnRlcnBvbGF0aW9uIG9mIHRoZSByZWRpcmVjdCBwYXRoIHdpdGggdGhlIHBhcmFtZXRlcnMKICAgICAqLwogICAgZnVuY3Rpb24gaW50ZXJwb2xhdGUoc3RyaW5nLCBwYXJhbXMpIHsKICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICBhbmd1bGFyLmZvckVhY2goKHN0cmluZ3x8JycpLnNwbGl0KCc6JyksIGZ1bmN0aW9uKHNlZ21lbnQsIGkpIHsKICAgICAgICBpZiAoaSA9PT0gMCkgewogICAgICAgICAgcmVzdWx0LnB1c2goc2VnbWVudCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBzZWdtZW50TWF0Y2ggPSBzZWdtZW50Lm1hdGNoKC8oXHcrKSguKikvKTsKICAgICAgICAgIHZhciBrZXkgPSBzZWdtZW50TWF0Y2hbMV07CiAgICAgICAgICByZXN1bHQucHVzaChwYXJhbXNba2V5XSk7CiAgICAgICAgICByZXN1bHQucHVzaChzZWdtZW50TWF0Y2hbMl0gfHwgJycpOwogICAgICAgICAgZGVsZXRlIHBhcmFtc1trZXldOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiByZXN1bHQuam9pbignJyk7CiAgICB9CiAgfV07Cn0KCm5nUm91dGVNb2R1bGUucHJvdmlkZXIoJyRyb3V0ZVBhcmFtcycsICRSb3V0ZVBhcmFtc1Byb3ZpZGVyKTsKCgovKioKICogQG5nZG9jIHNlcnZpY2UKICogQG5hbWUgJHJvdXRlUGFyYW1zCiAqIEByZXF1aXJlcyAkcm91dGUKICoKICogQGRlc2NyaXB0aW9uCiAqIFRoZSBgJHJvdXRlUGFyYW1zYCBzZXJ2aWNlIGFsbG93cyB5b3UgdG8gcmV0cmlldmUgdGhlIGN1cnJlbnQgc2V0IG9mIHJvdXRlIHBhcmFtZXRlcnMuCiAqCiAqIFJlcXVpcmVzIHRoZSB7QGxpbmsgbmdSb3V0ZSBgbmdSb3V0ZWB9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuCiAqCiAqIFRoZSByb3V0ZSBwYXJhbWV0ZXJzIGFyZSBhIGNvbWJpbmF0aW9uIG9mIHtAbGluayBuZy4kbG9jYXRpb24gYCRsb2NhdGlvbmB9J3MKICoge0BsaW5rIG5nLiRsb2NhdGlvbiNzZWFyY2ggYHNlYXJjaCgpYH0gYW5kIHtAbGluayBuZy4kbG9jYXRpb24jcGF0aCBgcGF0aCgpYH0uCiAqIFRoZSBgcGF0aGAgcGFyYW1ldGVycyBhcmUgZXh0cmFjdGVkIHdoZW4gdGhlIHtAbGluayBuZ1JvdXRlLiRyb3V0ZSBgJHJvdXRlYH0gcGF0aCBpcyBtYXRjaGVkLgogKgogKiBJbiBjYXNlIG9mIHBhcmFtZXRlciBuYW1lIGNvbGxpc2lvbiwgYHBhdGhgIHBhcmFtcyB0YWtlIHByZWNlZGVuY2Ugb3ZlciBgc2VhcmNoYCBwYXJhbXMuCiAqCiAqIFRoZSBzZXJ2aWNlIGd1YXJhbnRlZXMgdGhhdCB0aGUgaWRlbnRpdHkgb2YgdGhlIGAkcm91dGVQYXJhbXNgIG9iamVjdCB3aWxsIHJlbWFpbiB1bmNoYW5nZWQKICogKGJ1dCBpdHMgcHJvcGVydGllcyB3aWxsIGxpa2VseSBjaGFuZ2UpIGV2ZW4gd2hlbiBhIHJvdXRlIGNoYW5nZSBvY2N1cnMuCiAqCiAqIE5vdGUgdGhhdCB0aGUgYCRyb3V0ZVBhcmFtc2AgYXJlIG9ubHkgdXBkYXRlZCAqYWZ0ZXIqIGEgcm91dGUgY2hhbmdlIGNvbXBsZXRlcyBzdWNjZXNzZnVsbHkuCiAqIFRoaXMgbWVhbnMgdGhhdCB5b3UgY2Fubm90IHJlbHkgb24gYCRyb3V0ZVBhcmFtc2AgYmVpbmcgY29ycmVjdCBpbiByb3V0ZSByZXNvbHZlIGZ1bmN0aW9ucy4KICogSW5zdGVhZCB5b3UgY2FuIHVzZSBgJHJvdXRlLmN1cnJlbnQucGFyYW1zYCB0byBhY2Nlc3MgdGhlIG5ldyByb3V0ZSdzIHBhcmFtZXRlcnMuCiAqCiAqIEBleGFtcGxlCiAqIGBgYGpzCiAqICAvLyBHaXZlbjoKICogIC8vIFVSTDogaHR0cDovL3NlcnZlci5jb20vaW5kZXguaHRtbCMvQ2hhcHRlci8xL1NlY3Rpb24vMj9zZWFyY2g9bW9ieQogKiAgLy8gUm91dGU6IC9DaGFwdGVyLzpjaGFwdGVySWQvU2VjdGlvbi86c2VjdGlvbklkCiAqICAvLwogKiAgLy8gVGhlbgogKiAgJHJvdXRlUGFyYW1zID09PiB7Y2hhcHRlcklkOicxJywgc2VjdGlvbklkOicyJywgc2VhcmNoOidtb2J5J30KICogYGBgCiAqLwpmdW5jdGlvbiAkUm91dGVQYXJhbXNQcm92aWRlcigpIHsKICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHt9OyB9Owp9CgpuZ1JvdXRlTW9kdWxlLmRpcmVjdGl2ZSgnbmdWaWV3JywgbmdWaWV3RmFjdG9yeSk7Cm5nUm91dGVNb2R1bGUuZGlyZWN0aXZlKCduZ1ZpZXcnLCBuZ1ZpZXdGaWxsQ29udGVudEZhY3RvcnkpOwoKCi8qKgogKiBAbmdkb2MgZGlyZWN0aXZlCiAqIEBuYW1lIG5nVmlldwogKiBAcmVzdHJpY3QgRUNBCiAqCiAqIEBkZXNjcmlwdGlvbgogKiAjIE92ZXJ2aWV3CiAqIGBuZ1ZpZXdgIGlzIGEgZGlyZWN0aXZlIHRoYXQgY29tcGxlbWVudHMgdGhlIHtAbGluayBuZ1JvdXRlLiRyb3V0ZSAkcm91dGV9IHNlcnZpY2UgYnkKICogaW5jbHVkaW5nIHRoZSByZW5kZXJlZCB0ZW1wbGF0ZSBvZiB0aGUgY3VycmVudCByb3V0ZSBpbnRvIHRoZSBtYWluIGxheW91dCAoYGluZGV4Lmh0bWxgKSBmaWxlLgogKiBFdmVyeSB0aW1lIHRoZSBjdXJyZW50IHJvdXRlIGNoYW5nZXMsIHRoZSBpbmNsdWRlZCB2aWV3IGNoYW5nZXMgd2l0aCBpdCBhY2NvcmRpbmcgdG8gdGhlCiAqIGNvbmZpZ3VyYXRpb24gb2YgdGhlIGAkcm91dGVgIHNlcnZpY2UuCiAqCiAqIFJlcXVpcmVzIHRoZSB7QGxpbmsgbmdSb3V0ZSBgbmdSb3V0ZWB9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuCiAqCiAqIEBhbmltYXRpb25zCiAqIGVudGVyIC0gYW5pbWF0aW9uIGlzIHVzZWQgdG8gYnJpbmcgbmV3IGNvbnRlbnQgaW50byB0aGUgYnJvd3Nlci4KICogbGVhdmUgLSBhbmltYXRpb24gaXMgdXNlZCB0byBhbmltYXRlIGV4aXN0aW5nIGNvbnRlbnQgYXdheS4KICoKICogVGhlIGVudGVyIGFuZCBsZWF2ZSBhbmltYXRpb24gb2NjdXIgY29uY3VycmVudGx5LgogKgogKiBAc2NvcGUKICogQHByaW9yaXR5IDQwMAogKiBAcGFyYW0ge3N0cmluZz19IG9ubG9hZCBFeHByZXNzaW9uIHRvIGV2YWx1YXRlIHdoZW5ldmVyIHRoZSB2aWV3IHVwZGF0ZXMuCiAqCiAqIEBwYXJhbSB7c3RyaW5nPX0gYXV0b3Njcm9sbCBXaGV0aGVyIGBuZ1ZpZXdgIHNob3VsZCBjYWxsIHtAbGluayBuZy4kYW5jaG9yU2Nyb2xsCiAqICAgICAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbH0gdG8gc2Nyb2xsIHRoZSB2aWV3cG9ydCBhZnRlciB0aGUgdmlldyBpcyB1cGRhdGVkLgogKgogKiAgICAgICAgICAgICAgICAgIC0gSWYgdGhlIGF0dHJpYnV0ZSBpcyBub3Qgc2V0LCBkaXNhYmxlIHNjcm9sbGluZy4KICogICAgICAgICAgICAgICAgICAtIElmIHRoZSBhdHRyaWJ1dGUgaXMgc2V0IHdpdGhvdXQgdmFsdWUsIGVuYWJsZSBzY3JvbGxpbmcuCiAqICAgICAgICAgICAgICAgICAgLSBPdGhlcndpc2UgZW5hYmxlIHNjcm9sbGluZyBvbmx5IGlmIHRoZSBgYXV0b3Njcm9sbGAgYXR0cmlidXRlIHZhbHVlIGV2YWx1YXRlZAogKiAgICAgICAgICAgICAgICAgICAgYXMgYW4gZXhwcmVzc2lvbiB5aWVsZHMgYSB0cnV0aHkgdmFsdWUuCiAqIEBleGFtcGxlCiAgICA8ZXhhbXBsZSBuYW1lPSJuZ1ZpZXctZGlyZWN0aXZlIiBtb2R1bGU9Im5nVmlld0V4YW1wbGUiCiAgICAgICAgICAgICBkZXBzPSJhbmd1bGFyLXJvdXRlLmpzO2FuZ3VsYXItYW5pbWF0ZS5qcyIKICAgICAgICAgICAgIGFuaW1hdGlvbnM9InRydWUiIGZpeEJhc2U9InRydWUiPgogICAgICA8ZmlsZSBuYW1lPSJpbmRleC5odG1sIj4KICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9Ik1haW5DdHJsIGFzIG1haW4iPgogICAgICAgICAgQ2hvb3NlOgogICAgICAgICAgPGEgaHJlZj0iQm9vay9Nb2J5Ij5Nb2J5PC9hPiB8CiAgICAgICAgICA8YSBocmVmPSJCb29rL01vYnkvY2gvMSI+TW9ieTogQ2gxPC9hPiB8CiAgICAgICAgICA8YSBocmVmPSJCb29rL0dhdHNieSI+R2F0c2J5PC9hPiB8CiAgICAgICAgICA8YSBocmVmPSJCb29rL0dhdHNieS9jaC80P2tleT12YWx1ZSI+R2F0c2J5OiBDaDQ8L2E+IHwKICAgICAgICAgIDxhIGhyZWY9IkJvb2svU2NhcmxldCI+U2NhcmxldCBMZXR0ZXI8L2E+PGJyLz4KCiAgICAgICAgICA8ZGl2IGNsYXNzPSJ2aWV3LWFuaW1hdGUtY29udGFpbmVyIj4KICAgICAgICAgICAgPGRpdiBuZy12aWV3IGNsYXNzPSJ2aWV3LWFuaW1hdGUiPjwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8aHIgLz4KCiAgICAgICAgICA8cHJlPiRsb2NhdGlvbi5wYXRoKCkgPSB7e21haW4uJGxvY2F0aW9uLnBhdGgoKX19PC9wcmU+CiAgICAgICAgICA8cHJlPiRyb3V0ZS5jdXJyZW50LnRlbXBsYXRlVXJsID0ge3ttYWluLiRyb3V0ZS5jdXJyZW50LnRlbXBsYXRlVXJsfX08L3ByZT4KICAgICAgICAgIDxwcmU+JHJvdXRlLmN1cnJlbnQucGFyYW1zID0ge3ttYWluLiRyb3V0ZS5jdXJyZW50LnBhcmFtc319PC9wcmU+CiAgICAgICAgICA8cHJlPiRyb3V0ZS5jdXJyZW50LnNjb3BlLm5hbWUgPSB7e21haW4uJHJvdXRlLmN1cnJlbnQuc2NvcGUubmFtZX19PC9wcmU+CiAgICAgICAgICA8cHJlPiRyb3V0ZVBhcmFtcyA9IHt7bWFpbi4kcm91dGVQYXJhbXN9fTwvcHJlPgogICAgICAgIDwvZGl2PgogICAgICA8L2ZpbGU+CgogICAgICA8ZmlsZSBuYW1lPSJib29rLmh0bWwiPgogICAgICAgIDxkaXY+CiAgICAgICAgICBjb250cm9sbGVyOiB7e2Jvb2submFtZX19PGJyIC8+CiAgICAgICAgICBCb29rIElkOiB7e2Jvb2sucGFyYW1zLmJvb2tJZH19PGJyIC8+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZmlsZT4KCiAgICAgIDxmaWxlIG5hbWU9ImNoYXB0ZXIuaHRtbCI+CiAgICAgICAgPGRpdj4KICAgICAgICAgIGNvbnRyb2xsZXI6IHt7Y2hhcHRlci5uYW1lfX08YnIgLz4KICAgICAgICAgIEJvb2sgSWQ6IHt7Y2hhcHRlci5wYXJhbXMuYm9va0lkfX08YnIgLz4KICAgICAgICAgIENoYXB0ZXIgSWQ6IHt7Y2hhcHRlci5wYXJhbXMuY2hhcHRlcklkfX0KICAgICAgICA8L2Rpdj4KICAgICAgPC9maWxlPgoKICAgICAgPGZpbGUgbmFtZT0iYW5pbWF0aW9ucy5jc3MiPgogICAgICAgIC52aWV3LWFuaW1hdGUtY29udGFpbmVyIHsKICAgICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlOwogICAgICAgICAgaGVpZ2h0OjEwMHB4IWltcG9ydGFudDsKICAgICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlOwogICAgICAgICAgYmFja2dyb3VuZDp3aGl0ZTsKICAgICAgICAgIGJvcmRlcjoxcHggc29saWQgYmxhY2s7CiAgICAgICAgICBoZWlnaHQ6NDBweDsKICAgICAgICAgIG92ZXJmbG93OmhpZGRlbjsKICAgICAgICB9CgogICAgICAgIC52aWV3LWFuaW1hdGUgewogICAgICAgICAgcGFkZGluZzoxMHB4OwogICAgICAgIH0KCiAgICAgICAgLnZpZXctYW5pbWF0ZS5uZy1lbnRlciwgLnZpZXctYW5pbWF0ZS5uZy1sZWF2ZSB7CiAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMS41czsKICAgICAgICAgIHRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMS41czsKCiAgICAgICAgICBkaXNwbGF5OmJsb2NrOwogICAgICAgICAgd2lkdGg6MTAwJTsKICAgICAgICAgIGJvcmRlci1sZWZ0OjFweCBzb2xpZCBibGFjazsKCiAgICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTsKICAgICAgICAgIHRvcDowOwogICAgICAgICAgbGVmdDowOwogICAgICAgICAgcmlnaHQ6MDsKICAgICAgICAgIGJvdHRvbTowOwogICAgICAgICAgcGFkZGluZzoxMHB4OwogICAgICAgIH0KCiAgICAgICAgLnZpZXctYW5pbWF0ZS5uZy1lbnRlciB7CiAgICAgICAgICBsZWZ0OjEwMCU7CiAgICAgICAgfQogICAgICAgIC52aWV3LWFuaW1hdGUubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHsKICAgICAgICAgIGxlZnQ6MDsKICAgICAgICB9CiAgICAgICAgLnZpZXctYW5pbWF0ZS5uZy1sZWF2ZS5uZy1sZWF2ZS1hY3RpdmUgewogICAgICAgICAgbGVmdDotMTAwJTsKICAgICAgICB9CiAgICAgIDwvZmlsZT4KCiAgICAgIDxmaWxlIG5hbWU9InNjcmlwdC5qcyI+CiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlld0V4YW1wbGUnLCBbJ25nUm91dGUnLCAnbmdBbmltYXRlJ10pCiAgICAgICAgICAuY29uZmlnKFsnJHJvdXRlUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInLAogICAgICAgICAgICBmdW5jdGlvbigkcm91dGVQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHsKICAgICAgICAgICAgICAkcm91dGVQcm92aWRlcgogICAgICAgICAgICAgICAgLndoZW4oJy9Cb29rLzpib29rSWQnLCB7CiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYm9vay5odG1sJywKICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0Jvb2tDdHJsJywKICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYm9vaycKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAud2hlbignL0Jvb2svOmJvb2tJZC9jaC86Y2hhcHRlcklkJywgewogICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NoYXB0ZXIuaHRtbCcsCiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDaGFwdGVyQ3RybCcsCiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2NoYXB0ZXInCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgLy8gY29uZmlndXJlIGh0bWw1IHRvIGdldCBsaW5rcyB3b3JraW5nIG9uIGpzZmlkZGxlCiAgICAgICAgICAgICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpOwogICAgICAgICAgfV0pCiAgICAgICAgICAuY29udHJvbGxlcignTWFpbkN0cmwnLCBbJyRyb3V0ZScsICckcm91dGVQYXJhbXMnLCAnJGxvY2F0aW9uJywKICAgICAgICAgICAgZnVuY3Rpb24oJHJvdXRlLCAkcm91dGVQYXJhbXMsICRsb2NhdGlvbikgewogICAgICAgICAgICAgIHRoaXMuJHJvdXRlID0gJHJvdXRlOwogICAgICAgICAgICAgIHRoaXMuJGxvY2F0aW9uID0gJGxvY2F0aW9uOwogICAgICAgICAgICAgIHRoaXMuJHJvdXRlUGFyYW1zID0gJHJvdXRlUGFyYW1zOwogICAgICAgICAgfV0pCiAgICAgICAgICAuY29udHJvbGxlcignQm9va0N0cmwnLCBbJyRyb3V0ZVBhcmFtcycsIGZ1bmN0aW9uKCRyb3V0ZVBhcmFtcykgewogICAgICAgICAgICB0aGlzLm5hbWUgPSAiQm9va0N0cmwiOwogICAgICAgICAgICB0aGlzLnBhcmFtcyA9ICRyb3V0ZVBhcmFtczsKICAgICAgICAgIH1dKQogICAgICAgICAgLmNvbnRyb2xsZXIoJ0NoYXB0ZXJDdHJsJywgWyckcm91dGVQYXJhbXMnLCBmdW5jdGlvbigkcm91dGVQYXJhbXMpIHsKICAgICAgICAgICAgdGhpcy5uYW1lID0gIkNoYXB0ZXJDdHJsIjsKICAgICAgICAgICAgdGhpcy5wYXJhbXMgPSAkcm91dGVQYXJhbXM7CiAgICAgICAgICB9XSk7CgogICAgICA8L2ZpbGU+CgogICAgICA8ZmlsZSBuYW1lPSJwcm90cmFjdG9yLmpzIiB0eXBlPSJwcm90cmFjdG9yIj4KICAgICAgICBpdCgnc2hvdWxkIGxvYWQgYW5kIGNvbXBpbGUgY29ycmVjdCB0ZW1wbGF0ZScsIGZ1bmN0aW9uKCkgewogICAgICAgICAgZWxlbWVudChieS5saW5rVGV4dCgnTW9ieTogQ2gxJykpLmNsaWNrKCk7CiAgICAgICAgICB2YXIgY29udGVudCA9IGVsZW1lbnQoYnkuY3NzKCdbbmctdmlld10nKSkuZ2V0VGV4dCgpOwogICAgICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvTWF0Y2goL2NvbnRyb2xsZXJcOiBDaGFwdGVyQ3RybC8pOwogICAgICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvTWF0Y2goL0Jvb2sgSWRcOiBNb2J5Lyk7CiAgICAgICAgICBleHBlY3QoY29udGVudCkudG9NYXRjaCgvQ2hhcHRlciBJZFw6IDEvKTsKCiAgICAgICAgICBlbGVtZW50KGJ5LnBhcnRpYWxMaW5rVGV4dCgnU2NhcmxldCcpKS5jbGljaygpOwoKICAgICAgICAgIGNvbnRlbnQgPSBlbGVtZW50KGJ5LmNzcygnW25nLXZpZXddJykpLmdldFRleHQoKTsKICAgICAgICAgIGV4cGVjdChjb250ZW50KS50b01hdGNoKC9jb250cm9sbGVyXDogQm9va0N0cmwvKTsKICAgICAgICAgIGV4cGVjdChjb250ZW50KS50b01hdGNoKC9Cb29rIElkXDogU2NhcmxldC8pOwogICAgICAgIH0pOwogICAgICA8L2ZpbGU+CiAgICA8L2V4YW1wbGU+CiAqLwoKCi8qKgogKiBAbmdkb2MgZXZlbnQKICogQG5hbWUgbmdWaWV3IyR2aWV3Q29udGVudExvYWRlZAogKiBAZXZlbnRUeXBlIGVtaXQgb24gdGhlIGN1cnJlbnQgbmdWaWV3IHNjb3BlCiAqIEBkZXNjcmlwdGlvbgogKiBFbWl0dGVkIGV2ZXJ5IHRpbWUgdGhlIG5nVmlldyBjb250ZW50IGlzIHJlbG9hZGVkLgogKi8KbmdWaWV3RmFjdG9yeS4kaW5qZWN0ID0gWyckcm91dGUnLCAnJGFuY2hvclNjcm9sbCcsICckYW5pbWF0ZSddOwpmdW5jdGlvbiBuZ1ZpZXdGYWN0b3J5KCAgICRyb3V0ZSwgICAkYW5jaG9yU2Nyb2xsLCAgICRhbmltYXRlKSB7CiAgcmV0dXJuIHsKICAgIHJlc3RyaWN0OiAnRUNBJywKICAgIHRlcm1pbmFsOiB0cnVlLAogICAgcHJpb3JpdHk6IDQwMCwKICAgIHRyYW5zY2x1ZGU6ICdlbGVtZW50JywKICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCAkZWxlbWVudCwgYXR0ciwgY3RybCwgJHRyYW5zY2x1ZGUpIHsKICAgICAgICB2YXIgY3VycmVudFNjb3BlLAogICAgICAgICAgICBjdXJyZW50RWxlbWVudCwKICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50LAogICAgICAgICAgICBhdXRvU2Nyb2xsRXhwID0gYXR0ci5hdXRvc2Nyb2xsLAogICAgICAgICAgICBvbmxvYWRFeHAgPSBhdHRyLm9ubG9hZCB8fCAnJzsKCiAgICAgICAgc2NvcGUuJG9uKCckcm91dGVDaGFuZ2VTdWNjZXNzJywgdXBkYXRlKTsKICAgICAgICB1cGRhdGUoKTsKCiAgICAgICAgZnVuY3Rpb24gY2xlYW51cExhc3RWaWV3KCkgewogICAgICAgICAgaWYocHJldmlvdXNFbGVtZW50KSB7CiAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudC5yZW1vdmUoKTsKICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50ID0gbnVsbDsKICAgICAgICAgIH0KICAgICAgICAgIGlmKGN1cnJlbnRTY29wZSkgewogICAgICAgICAgICBjdXJyZW50U2NvcGUuJGRlc3Ryb3koKTsKICAgICAgICAgICAgY3VycmVudFNjb3BlID0gbnVsbDsKICAgICAgICAgIH0KICAgICAgICAgIGlmKGN1cnJlbnRFbGVtZW50KSB7CiAgICAgICAgICAgICRhbmltYXRlLmxlYXZlKGN1cnJlbnRFbGVtZW50LCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBudWxsOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50ID0gY3VycmVudEVsZW1lbnQ7CiAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gbnVsbDsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHsKICAgICAgICAgIHZhciBsb2NhbHMgPSAkcm91dGUuY3VycmVudCAmJiAkcm91dGUuY3VycmVudC5sb2NhbHMsCiAgICAgICAgICAgICAgdGVtcGxhdGUgPSBsb2NhbHMgJiYgbG9jYWxzLiR0ZW1wbGF0ZTsKCiAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQodGVtcGxhdGUpKSB7CiAgICAgICAgICAgIHZhciBuZXdTY29wZSA9IHNjb3BlLiRuZXcoKTsKICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSAkcm91dGUuY3VycmVudDsKCiAgICAgICAgICAgIC8vIE5vdGU6IFRoaXMgd2lsbCBhbHNvIGxpbmsgYWxsIGNoaWxkcmVuIG9mIG5nLXZpZXcgdGhhdCB3ZXJlIGNvbnRhaW5lZCBpbiB0aGUgb3JpZ2luYWwKICAgICAgICAgICAgLy8gaHRtbC4gSWYgdGhhdCBjb250ZW50IGNvbnRhaW5zIGNvbnRyb2xsZXJzLCAuLi4gdGhleSBjb3VsZCBwb2xsdXRlL2NoYW5nZSB0aGUgc2NvcGUuCiAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHVzaW5nIG5nLXZpZXcgb24gYW4gZWxlbWVudCB3aXRoIGFkZGl0aW9uYWwgY29udGVudCBkb2VzIG5vdCBtYWtlIHNlbnNlLi4uCiAgICAgICAgICAgIC8vIE5vdGU6IFdlIGNhbid0IHJlbW92ZSB0aGVtIGluIHRoZSBjbG9uZUF0dGNoRm4gb2YgJHRyYW5zY2x1ZGUgYXMgdGhhdAogICAgICAgICAgICAvLyBmdW5jdGlvbiBpcyBjYWxsZWQgYmVmb3JlIGxpbmtpbmcgdGhlIGNvbnRlbnQsIHdoaWNoIHdvdWxkIGFwcGx5IGNoaWxkCiAgICAgICAgICAgIC8vIGRpcmVjdGl2ZXMgdG8gbm9uIGV4aXN0aW5nIGVsZW1lbnRzLgogICAgICAgICAgICB2YXIgY2xvbmUgPSAkdHJhbnNjbHVkZShuZXdTY29wZSwgZnVuY3Rpb24oY2xvbmUpIHsKICAgICAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihjbG9uZSwgbnVsbCwgY3VycmVudEVsZW1lbnQgfHwgJGVsZW1lbnQsIGZ1bmN0aW9uIG9uTmdWaWV3RW50ZXIgKCkgewogICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGF1dG9TY3JvbGxFeHApCiAgICAgICAgICAgICAgICAgICYmICghYXV0b1Njcm9sbEV4cCB8fCBzY29wZS4kZXZhbChhdXRvU2Nyb2xsRXhwKSkpIHsKICAgICAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNsZWFudXBMYXN0VmlldygpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gY2xvbmU7CiAgICAgICAgICAgIGN1cnJlbnRTY29wZSA9IGN1cnJlbnQuc2NvcGUgPSBuZXdTY29wZTsKICAgICAgICAgICAgY3VycmVudFNjb3BlLiRlbWl0KCckdmlld0NvbnRlbnRMb2FkZWQnKTsKICAgICAgICAgICAgY3VycmVudFNjb3BlLiRldmFsKG9ubG9hZEV4cCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjbGVhbnVwTGFzdFZpZXcoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgfTsKfQoKLy8gVGhpcyBkaXJlY3RpdmUgaXMgY2FsbGVkIGR1cmluZyB0aGUgJHRyYW5zY2x1ZGUgY2FsbCBvZiB0aGUgZmlyc3QgYG5nVmlld2AgZGlyZWN0aXZlLgovLyBJdCB3aWxsIHJlcGxhY2UgYW5kIGNvbXBpbGUgdGhlIGNvbnRlbnQgb2YgdGhlIGVsZW1lbnQgd2l0aCB0aGUgbG9hZGVkIHRlbXBsYXRlLgovLyBXZSBuZWVkIHRoaXMgZGlyZWN0aXZlIHNvIHRoYXQgdGhlIGVsZW1lbnQgY29udGVudCBpcyBhbHJlYWR5IGZpbGxlZCB3aGVuCi8vIHRoZSBsaW5rIGZ1bmN0aW9uIG9mIGFub3RoZXIgZGlyZWN0aXZlIG9uIHRoZSBzYW1lIGVsZW1lbnQgYXMgbmdWaWV3Ci8vIGlzIGNhbGxlZC4KbmdWaWV3RmlsbENvbnRlbnRGYWN0b3J5LiRpbmplY3QgPSBbJyRjb21waWxlJywgJyRjb250cm9sbGVyJywgJyRyb3V0ZSddOwpmdW5jdGlvbiBuZ1ZpZXdGaWxsQ29udGVudEZhY3RvcnkoJGNvbXBpbGUsICRjb250cm9sbGVyLCAkcm91dGUpIHsKICByZXR1cm4gewogICAgcmVzdHJpY3Q6ICdFQ0EnLAogICAgcHJpb3JpdHk6IC00MDAsCiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgJGVsZW1lbnQpIHsKICAgICAgdmFyIGN1cnJlbnQgPSAkcm91dGUuY3VycmVudCwKICAgICAgICAgIGxvY2FscyA9IGN1cnJlbnQubG9jYWxzOwoKICAgICAgJGVsZW1lbnQuaHRtbChsb2NhbHMuJHRlbXBsYXRlKTsKCiAgICAgIHZhciBsaW5rID0gJGNvbXBpbGUoJGVsZW1lbnQuY29udGVudHMoKSk7CgogICAgICBpZiAoY3VycmVudC5jb250cm9sbGVyKSB7CiAgICAgICAgbG9jYWxzLiRzY29wZSA9IHNjb3BlOwogICAgICAgIHZhciBjb250cm9sbGVyID0gJGNvbnRyb2xsZXIoY3VycmVudC5jb250cm9sbGVyLCBsb2NhbHMpOwogICAgICAgIGlmIChjdXJyZW50LmNvbnRyb2xsZXJBcykgewogICAgICAgICAgc2NvcGVbY3VycmVudC5jb250cm9sbGVyQXNdID0gY29udHJvbGxlcjsKICAgICAgICB9CiAgICAgICAgJGVsZW1lbnQuZGF0YSgnJG5nQ29udHJvbGxlckNvbnRyb2xsZXInLCBjb250cm9sbGVyKTsKICAgICAgICAkZWxlbWVudC5jaGlsZHJlbigpLmRhdGEoJyRuZ0NvbnRyb2xsZXJDb250cm9sbGVyJywgY29udHJvbGxlcik7CiAgICAgIH0KCiAgICAgIGxpbmsoc2NvcGUpOwogICAgfQogIH07Cn0KCgp9KSh3aW5kb3csIHdpbmRvdy5hbmd1bGFyKTsK')
},
{
'name': '/app/bower_components/angular-route/angular-route.min.js', 'data': base64.b64decode('LyoKIEFuZ3VsYXJKUyB2MS4yLjE5CiAoYykgMjAxMC0yMDE0IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZwogTGljZW5zZTogTUlUCiovCihmdW5jdGlvbihuLGUsQSl7J3VzZSBzdHJpY3QnO2Z1bmN0aW9uIHgocyxnLGspe3JldHVybntyZXN0cmljdDoiRUNBIix0ZXJtaW5hbDohMCxwcmlvcml0eTo0MDAsdHJhbnNjbHVkZToiZWxlbWVudCIsbGluazpmdW5jdGlvbihhLGMsYixmLHcpe2Z1bmN0aW9uIHkoKXtwJiYocC5yZW1vdmUoKSxwPW51bGwpO2gmJihoLiRkZXN0cm95KCksaD1udWxsKTtsJiYoay5sZWF2ZShsLGZ1bmN0aW9uKCl7cD1udWxsfSkscD1sLGw9bnVsbCl9ZnVuY3Rpb24gdigpe3ZhciBiPXMuY3VycmVudCYmcy5jdXJyZW50LmxvY2FscztpZihlLmlzRGVmaW5lZChiJiZiLiR0ZW1wbGF0ZSkpe3ZhciBiPWEuJG5ldygpLGQ9cy5jdXJyZW50O2w9dyhiLGZ1bmN0aW9uKGQpe2suZW50ZXIoZCxudWxsLGx8fGMsZnVuY3Rpb24oKXshZS5pc0RlZmluZWQodCl8fHQmJiFhLiRldmFsKHQpfHxnKCl9KTt5KCl9KTtoPWQuc2NvcGU9YjtoLiRlbWl0KCIkdmlld0NvbnRlbnRMb2FkZWQiKTtoLiRldmFsKHUpfWVsc2UgeSgpfQp2YXIgaCxsLHAsdD1iLmF1dG9zY3JvbGwsdT1iLm9ubG9hZHx8IiI7YS4kb24oIiRyb3V0ZUNoYW5nZVN1Y2Nlc3MiLHYpO3YoKX19fWZ1bmN0aW9uIHooZSxnLGspe3JldHVybntyZXN0cmljdDoiRUNBIixwcmlvcml0eTotNDAwLGxpbms6ZnVuY3Rpb24oYSxjKXt2YXIgYj1rLmN1cnJlbnQsZj1iLmxvY2FscztjLmh0bWwoZi4kdGVtcGxhdGUpO3ZhciB3PWUoYy5jb250ZW50cygpKTtiLmNvbnRyb2xsZXImJihmLiRzY29wZT1hLGY9ZyhiLmNvbnRyb2xsZXIsZiksYi5jb250cm9sbGVyQXMmJihhW2IuY29udHJvbGxlckFzXT1mKSxjLmRhdGEoIiRuZ0NvbnRyb2xsZXJDb250cm9sbGVyIixmKSxjLmNoaWxkcmVuKCkuZGF0YSgiJG5nQ29udHJvbGxlckNvbnRyb2xsZXIiLGYpKTt3KGEpfX19bj1lLm1vZHVsZSgibmdSb3V0ZSIsWyJuZyJdKS5wcm92aWRlcigiJHJvdXRlIixmdW5jdGlvbigpe2Z1bmN0aW9uIHMoYSxjKXtyZXR1cm4gZS5leHRlbmQobmV3IChlLmV4dGVuZChmdW5jdGlvbigpe30sCntwcm90b3R5cGU6YX0pKSxjKX1mdW5jdGlvbiBnKGEsZSl7dmFyIGI9ZS5jYXNlSW5zZW5zaXRpdmVNYXRjaCxmPXtvcmlnaW5hbFBhdGg6YSxyZWdleHA6YX0saz1mLmtleXM9W107YT1hLnJlcGxhY2UoLyhbKCkuXSkvZywiXFwkMSIpLnJlcGxhY2UoLyhcLyk/OihcdyspKFtcP1wqXSk/L2csZnVuY3Rpb24oYSxlLGIsYyl7YT0iPyI9PT1jP2M6bnVsbDtjPSIqIj09PWM/YzpudWxsO2sucHVzaCh7bmFtZTpiLG9wdGlvbmFsOiEhYX0pO2U9ZXx8IiI7cmV0dXJuIiIrKGE/IiI6ZSkrIig/OiIrKGE/ZToiIikrKGMmJiIoLis/KSJ8fCIoW14vXSspIikrKGF8fCIiKSsiKSIrKGF8fCIiKX0pLnJlcGxhY2UoLyhbXC8kXCpdKS9nLCJcXCQxIik7Zi5yZWdleHA9UmVnRXhwKCJeIithKyIkIixiPyJpIjoiIik7cmV0dXJuIGZ9dmFyIGs9e307dGhpcy53aGVuPWZ1bmN0aW9uKGEsYyl7a1thXT1lLmV4dGVuZCh7cmVsb2FkT25TZWFyY2g6ITB9LGMsYSYmZyhhLGMpKTtpZihhKXt2YXIgYj0KIi8iPT1hW2EubGVuZ3RoLTFdP2Euc3Vic3RyKDAsYS5sZW5ndGgtMSk6YSsiLyI7a1tiXT1lLmV4dGVuZCh7cmVkaXJlY3RUbzphfSxnKGIsYykpfXJldHVybiB0aGlzfTt0aGlzLm90aGVyd2lzZT1mdW5jdGlvbihhKXt0aGlzLndoZW4obnVsbCxhKTtyZXR1cm4gdGhpc307dGhpcy4kZ2V0PVsiJHJvb3RTY29wZSIsIiRsb2NhdGlvbiIsIiRyb3V0ZVBhcmFtcyIsIiRxIiwiJGluamVjdG9yIiwiJGh0dHAiLCIkdGVtcGxhdGVDYWNoZSIsIiRzY2UiLGZ1bmN0aW9uKGEsYyxiLGYsZyxuLHYsaCl7ZnVuY3Rpb24gbCgpe3ZhciBkPXAoKSxtPXIuY3VycmVudDtpZihkJiZtJiZkLiQkcm91dGU9PT1tLiQkcm91dGUmJmUuZXF1YWxzKGQucGF0aFBhcmFtcyxtLnBhdGhQYXJhbXMpJiYhZC5yZWxvYWRPblNlYXJjaCYmIXUpbS5wYXJhbXM9ZC5wYXJhbXMsZS5jb3B5KG0ucGFyYW1zLGIpLGEuJGJyb2FkY2FzdCgiJHJvdXRlVXBkYXRlIixtKTtlbHNlIGlmKGR8fG0pdT0hMSxhLiRicm9hZGNhc3QoIiRyb3V0ZUNoYW5nZVN0YXJ0IiwKZCxtKSwoci5jdXJyZW50PWQpJiZkLnJlZGlyZWN0VG8mJihlLmlzU3RyaW5nKGQucmVkaXJlY3RUbyk/Yy5wYXRoKHQoZC5yZWRpcmVjdFRvLGQucGFyYW1zKSkuc2VhcmNoKGQucGFyYW1zKS5yZXBsYWNlKCk6Yy51cmwoZC5yZWRpcmVjdFRvKGQucGF0aFBhcmFtcyxjLnBhdGgoKSxjLnNlYXJjaCgpKSkucmVwbGFjZSgpKSxmLndoZW4oZCkudGhlbihmdW5jdGlvbigpe2lmKGQpe3ZhciBhPWUuZXh0ZW5kKHt9LGQucmVzb2x2ZSksYyxiO2UuZm9yRWFjaChhLGZ1bmN0aW9uKGQsYyl7YVtjXT1lLmlzU3RyaW5nKGQpP2cuZ2V0KGQpOmcuaW52b2tlKGQpfSk7ZS5pc0RlZmluZWQoYz1kLnRlbXBsYXRlKT9lLmlzRnVuY3Rpb24oYykmJihjPWMoZC5wYXJhbXMpKTplLmlzRGVmaW5lZChiPWQudGVtcGxhdGVVcmwpJiYoZS5pc0Z1bmN0aW9uKGIpJiYoYj1iKGQucGFyYW1zKSksYj1oLmdldFRydXN0ZWRSZXNvdXJjZVVybChiKSxlLmlzRGVmaW5lZChiKSYmKGQubG9hZGVkVGVtcGxhdGVVcmw9CmIsYz1uLmdldChiLHtjYWNoZTp2fSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gYS5kYXRhfSkpKTtlLmlzRGVmaW5lZChjKSYmKGEuJHRlbXBsYXRlPWMpO3JldHVybiBmLmFsbChhKX19KS50aGVuKGZ1bmN0aW9uKGMpe2Q9PXIuY3VycmVudCYmKGQmJihkLmxvY2Fscz1jLGUuY29weShkLnBhcmFtcyxiKSksYS4kYnJvYWRjYXN0KCIkcm91dGVDaGFuZ2VTdWNjZXNzIixkLG0pKX0sZnVuY3Rpb24oYyl7ZD09ci5jdXJyZW50JiZhLiRicm9hZGNhc3QoIiRyb3V0ZUNoYW5nZUVycm9yIixkLG0sYyl9KX1mdW5jdGlvbiBwKCl7dmFyIGEsYjtlLmZvckVhY2goayxmdW5jdGlvbihmLGspe3ZhciBxO2lmKHE9IWIpe3ZhciBnPWMucGF0aCgpO3E9Zi5rZXlzO3ZhciBsPXt9O2lmKGYucmVnZXhwKWlmKGc9Zi5yZWdleHAuZXhlYyhnKSl7Zm9yKHZhciBoPTEscD1nLmxlbmd0aDtoPHA7KytoKXt2YXIgbj1xW2gtMV0scj0ic3RyaW5nIj09dHlwZW9mIGdbaF0/ZGVjb2RlVVJJQ29tcG9uZW50KGdbaF0pOgpnW2hdO24mJnImJihsW24ubmFtZV09cil9cT1sfWVsc2UgcT1udWxsO2Vsc2UgcT1udWxsO3E9YT1xfXEmJihiPXMoZix7cGFyYW1zOmUuZXh0ZW5kKHt9LGMuc2VhcmNoKCksYSkscGF0aFBhcmFtczphfSksYi4kJHJvdXRlPWYpfSk7cmV0dXJuIGJ8fGtbbnVsbF0mJnMoa1tudWxsXSx7cGFyYW1zOnt9LHBhdGhQYXJhbXM6e319KX1mdW5jdGlvbiB0KGEsYyl7dmFyIGI9W107ZS5mb3JFYWNoKChhfHwiIikuc3BsaXQoIjoiKSxmdW5jdGlvbihhLGQpe2lmKDA9PT1kKWIucHVzaChhKTtlbHNle3ZhciBlPWEubWF0Y2goLyhcdyspKC4qKS8pLGY9ZVsxXTtiLnB1c2goY1tmXSk7Yi5wdXNoKGVbMl18fCIiKTtkZWxldGUgY1tmXX19KTtyZXR1cm4gYi5qb2luKCIiKX12YXIgdT0hMSxyPXtyb3V0ZXM6ayxyZWxvYWQ6ZnVuY3Rpb24oKXt1PSEwO2EuJGV2YWxBc3luYyhsKX19O2EuJG9uKCIkbG9jYXRpb25DaGFuZ2VTdWNjZXNzIixsKTtyZXR1cm4gcn1dfSk7bi5wcm92aWRlcigiJHJvdXRlUGFyYW1zIiwKZnVuY3Rpb24oKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm57fX19KTtuLmRpcmVjdGl2ZSgibmdWaWV3Iix4KTtuLmRpcmVjdGl2ZSgibmdWaWV3Iix6KTt4LiRpbmplY3Q9WyIkcm91dGUiLCIkYW5jaG9yU2Nyb2xsIiwiJGFuaW1hdGUiXTt6LiRpbmplY3Q9WyIkY29tcGlsZSIsIiRjb250cm9sbGVyIiwiJHJvdXRlIl19KSh3aW5kb3csd2luZG93LmFuZ3VsYXIpOwovLyMgc291cmNlTWFwcGluZ1VSTD1hbmd1bGFyLXJvdXRlLm1pbi5qcy5tYXAK')
},
{
'name': '/app/bower_components/angular-route/README.md', 'data': base64.b64decode('IyBib3dlci1hbmd1bGFyLXJvdXRlCgpUaGlzIHJlcG8gaXMgZm9yIGRpc3RyaWJ1dGlvbiBvbiBgYm93ZXJgLiBUaGUgc291cmNlIGZvciB0aGlzIG1vZHVsZSBpcyBpbiB0aGUKW21haW4gQW5ndWxhckpTIHJlcG9dKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvdHJlZS9tYXN0ZXIvc3JjL25nUm91dGUpLgpQbGVhc2UgZmlsZSBpc3N1ZXMgYW5kIHB1bGwgcmVxdWVzdHMgYWdhaW5zdCB0aGF0IHJlcG8uCgojIyBJbnN0YWxsCgpJbnN0YWxsIHdpdGggYGJvd2VyYDoKCmBgYHNoZWxsCmJvd2VyIGluc3RhbGwgYW5ndWxhci1yb3V0ZQpgYGAKCkFkZCBhIGA8c2NyaXB0PmAgdG8geW91ciBgaW5kZXguaHRtbGA6CgpgYGBodG1sCjxzY3JpcHQgc3JjPSIvYm93ZXJfY29tcG9uZW50cy9hbmd1bGFyLXJvdXRlL2FuZ3VsYXItcm91dGUuanMiPjwvc2NyaXB0PgpgYGAKCkFuZCBhZGQgYG5nUm91dGVgIGFzIGEgZGVwZW5kZW5jeSBmb3IgeW91ciBhcHA6CgpgYGBqYXZhc2NyaXB0CmFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFsnbmdSb3V0ZSddKTsKYGBgCgojIyBEb2N1bWVudGF0aW9uCgpEb2N1bWVudGF0aW9uIGlzIGF2YWlsYWJsZSBvbiB0aGUKW0FuZ3VsYXJKUyBkb2NzIHNpdGVdKGh0dHA6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL25nUm91dGUpLgoKIyMgTGljZW5zZQoKVGhlIE1JVCBMaWNlbnNlCgpDb3B5cmlnaHQgKGMpIDIwMTAtMjAxMiBHb29nbGUsIEluYy4gaHR0cDovL2FuZ3VsYXJqcy5vcmcKClBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkKb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksIHRvIGRlYWwKaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cwp0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsCmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcwpmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgoKVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4KYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCgpUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgpJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFCkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIKTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwKT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTgpUSEUgU09GVFdBUkUuCg==')
},
{
'name': '/app/bower_components/angular-route/bower.json', 'data': base64.b64decode('ewogICJuYW1lIjogImFuZ3VsYXItcm91dGUiLAogICJ2ZXJzaW9uIjogIjEuMi4xOSIsCiAgIm1haW4iOiAiLi9hbmd1bGFyLXJvdXRlLmpzIiwKICAiZGVwZW5kZW5jaWVzIjogewogICAgImFuZ3VsYXIiOiAiMS4yLjE5IgogIH0KfQo=')
},
{
'name': '/app/bower_components/angular-route/.bower.json', 'data': base64.b64decode('ewogICJuYW1lIjogImFuZ3VsYXItcm91dGUiLAogICJ2ZXJzaW9uIjogIjEuMi4xOSIsCiAgIm1haW4iOiAiLi9hbmd1bGFyLXJvdXRlLmpzIiwKICAiZGVwZW5kZW5jaWVzIjogewogICAgImFuZ3VsYXIiOiAiMS4yLjE5IgogIH0sCiAgImhvbWVwYWdlIjogImh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2Jvd2VyLWFuZ3VsYXItcm91dGUiLAogICJfcmVsZWFzZSI6ICIxLjIuMTkiLAogICJfcmVzb2x1dGlvbiI6IHsKICAgICJ0eXBlIjogInZlcnNpb24iLAogICAgInRhZyI6ICJ2MS4yLjE5IiwKICAgICJjb21taXQiOiAiZDEwNzcyNDQ4N2YwOWRmZTFkMGRmZmJhODFhMDQ4MTEzOTU1NmYxZCIKICB9LAogICJfc291cmNlIjogImdpdDovL2dpdGh1Yi5jb20vYW5ndWxhci9ib3dlci1hbmd1bGFyLXJvdXRlLmdpdCIsCiAgIl90YXJnZXQiOiAiMS4yLngiLAogICJfb3JpZ2luYWxTb3VyY2UiOiAiYW5ndWxhci1yb3V0ZSIKfQ==')
},
{
'name': '/app/bower_components/angular-route/angular-route.min.js.map', 'data': base64.b64decode('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dkI7QUFvQ0F5RixRQUE2QixFQUFHLENBQzlCLElBQUF4RCxLQUFBLENBQVl5RCxRQUFRLEVBQUcsQ0FBRSxNQUFPLEVBQVQsQ0FETyxDQXBDaEMsQ0F3Q0E1RixFQUFBNkYsVUFBQSxDQUF3QixRQUF4QixDQUFrQ3pJLENBQWxDLENBQ0E0QyxFQUFBNkYsVUFBQSxDQUF3QixRQUF4QixDQUFrQ3ZHLENBQWxDLENBbUxBbEMsRUFBQTBJLFFBQUEsQ0FBd0IsQ0FBQyxRQUFELENBQVcsZUFBWCxDQUE0QixVQUE1QixDQTRFeEJ4RyxFQUFBd0csUUFBQSxDQUFtQyxDQUFDLFVBQUQsQ0FBYSxhQUFiLENBQTRCLFFBQTVCLENBNTNCRyxDQUFyQyxDQUFBLENBeTVCRTdJLE1BejVCRixDQXk1QlVBLE1BQUFDLFFBejVCVjsiLAoic291cmNlcyI6WyJhbmd1bGFyLXJvdXRlLmpzIl0sCiJuYW1lcyI6WyJ3aW5kb3ciLCJhbmd1bGFyIiwidW5kZWZpbmVkIiwibmdWaWV3RmFjdG9yeSIsIiRyb3V0ZSIsIiRhbmNob3JTY3JvbGwiLCIkYW5pbWF0ZSIsImxpbmsiLCJzY29wZSIsIiRlbGVtZW50IiwiYXR0ciIsImN0cmwiLCIkdHJhbnNjbHVkZSIsImNsZWFudXBMYXN0VmlldyIsInByZXZpb3VzRWxlbWVudCIsInJlbW92ZSIsImN1cnJlbnRTY29wZSIsIiRkZXN0cm95IiwiY3VycmVudEVsZW1lbnQiLCJsZWF2ZSIsInVwZGF0ZSIsImxvY2FscyIsImN1cnJlbnQiLCJpc0RlZmluZWQiLCIkdGVtcGxhdGUiLCJuZXdTY29wZSIsIiRuZXciLCJjbG9uZSIsImVudGVyIiwib25OZ1ZpZXdFbnRlciIsImF1dG9TY3JvbGxFeHAiLCIkZXZhbCIsIiRlbWl0Iiwib25sb2FkRXhwIiwiYXV0b3Njcm9sbCIsIm9ubG9hZCIsIiRvbiIsIm5nVmlld0ZpbGxDb250ZW50RmFjdG9yeSIsIiRjb21waWxlIiwiJGNvbnRyb2xsZXIiLCJodG1sIiwiY29udGVudHMiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiY29udHJvbGxlckFzIiwiZGF0YSIsImNoaWxkcmVuIiwibmdSb3V0ZU1vZHVsZSIsIm1vZHVsZSIsInByb3ZpZGVyIiwiJFJvdXRlUHJvdmlkZXIiLCJpbmhlcml0IiwicGFyZW50IiwiZXh0cmEiLCJleHRlbmQiLCJwYXRoUmVnRXhwIiwicGF0aCIsIm9wdHMiLCJpbnNlbnNpdGl2ZSIsImNhc2VJbnNlbnNpdGl2ZU1hdGNoIiwicmV0Iiwia2V5cyIsInJlcGxhY2UiLCJfIiwic2xhc2giLCJrZXkiLCJvcHRpb24iLCJvcHRpb25hbCIsInN0YXIiLCJwdXNoIiwicmVnZXhwIiwiUmVnRXhwIiwicm91dGVzIiwid2hlbiIsInRoaXMud2hlbiIsInJvdXRlIiwicmVkaXJlY3RQYXRoIiwibGVuZ3RoIiwic3Vic3RyIiwib3RoZXJ3aXNlIiwidGhpcy5vdGhlcndpc2UiLCJwYXJhbXMiLCIkZ2V0IiwiJHJvb3RTY29wZSIsIiRsb2NhdGlvbiIsIiRyb3V0ZVBhcmFtcyIsIiRxIiwiJGluamVjdG9yIiwiJGh0dHAiLCIkdGVtcGxhdGVDYWNoZSIsIiRzY2UiLCJ1cGRhdGVSb3V0ZSIsIm5leHQiLCJwYXJzZVJvdXRlIiwibGFzdCIsIiQkcm91dGUiLCJlcXVhbHMiLCJwYXRoUGFyYW1zIiwicmVsb2FkT25TZWFyY2giLCJmb3JjZVJlbG9hZCIsImNvcHkiLCIkYnJvYWRjYXN0IiwicmVkaXJlY3RUbyIsImlzU3RyaW5nIiwiaW50ZXJwb2xhdGUiLCJzZWFyY2giLCJ1cmwiLCJ0aGVuIiwicmVzb2x2ZSIsInRlbXBsYXRlIiwidGVtcGxhdGVVcmwiLCJmb3JFYWNoIiwidmFsdWUiLCJnZXQiLCJpbnZva2UiLCJpc0Z1bmN0aW9uIiwiZ2V0VHJ1c3RlZFJlc291cmNlVXJsIiwibG9hZGVkVGVtcGxhdGVVcmwiLCJyZXNwb25zZSIsImFsbCIsImVycm9yIiwibWF0Y2giLCJtIiwiZXhlYyIsIm9uIiwiaSIsImxlbiIsInZhbCIsImRlY29kZVVSSUNvbXBvbmVudCIsIm5hbWUiLCJzdHJpbmciLCJyZXN1bHQiLCJzcGxpdCIsInNlZ21lbnQiLCJzZWdtZW50TWF0Y2giLCJqb2luIiwicmVsb2FkIiwiJGV2YWxBc3luYyIsIiRSb3V0ZVBhcmFtc1Byb3ZpZGVyIiwidGhpcy4kZ2V0IiwiZGlyZWN0aXZlIiwiJGluamVjdCJdCn0K')
},
{
'name': '/app/partials/.gitkeep', 'data': base64.b64decode('')
},
{
'name': '/app/partials/roles.html', 'data': base64.b64decode('PGRpdiBuZy1zaG93PSJoYXNFcnJvciIgY2xhc3M9ImJnLXdhcm5pbmciPgogICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi14cyBidG4tZGFuZ2VyIGdseXBoaWNvbiBnbHlwaGljb24tcmVtb3ZlIHB1bGwtcmlnaHQiIG5nLWNsaWNrPSJjbGVhckVycm9yKCk7Ij48L2J1dHRvbj4KICAgIDxkaXY+PGxhYmVsPkVycm9yIGNvZGU6PC9sYWJlbD48c3BhbiBuZy1iaW5kPSJzdGF0dXMiIC8+PC9kaXY+CiAgICA8ZGl2IG5nLWJpbmQ9InN0YXR1c19kYXRhIj48L2Rpdj4KPC9kaXY+Cgo8aDM+Um9sZXM8L2gzPgoKPHRhYmxlIGNsYXNzPSJ0YWJsZSI+CiAgICA8dGhlYWQ+CiAgICAgICAgPHRyPgogICAgICAgICAgICA8dGg+U0lEPC90aD4KICAgICAgICAgICAgPHRoPk5hbWU8L3RoPgogICAgICAgICAgICA8dGg+Jm5ic3A7PC90aD4KICAgICAgICA8L3RyPgogICAgPC90aGVhZD4KICAgIDx0Ym9keT4KICAgIDx0ciBuZy1yZXBlYXQ9InJvbGUgaW4gcm9sZXMiPgogICAgICAgIDx0ZD57e3JvbGUuc2lkfX08L3RkPjx0ZD57e3JvbGUubmFtZX19PC90ZD4KICAgICAgICA8dGQ+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4teHMgYnRuLXdhcm5pbmcgZ2x5cGhpY29uIGdseXBoaWNvbi1lZGl0IiBuZy1jbGljaz0iZWRpdFJvbGUoJGluZGV4KTsiPjwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXhzIGJ0bi1kYW5nZXIgZ2x5cGhpY29uIGdseXBoaWNvbi1yZW1vdmUiIG5nLWNsaWNrPSJyZW1vdmVSb2xlKCRpbmRleCk7Ij48L2J1dHRvbj4KICAgICAgICA8L3RkPgogICAgPC90cj4KICAgIDwvdGJvZHk+CjwvdGFibGU+Cgo8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIG5nLWNsaWNrPSJhZGRSb2xlKCdsZycpIj5DcmVhdGUgcm9sZTwvYnV0dG9uPg==')
},
{
'name': '/app/partials/home.html', 'data': base64.b64decode('PGRpdiBuZy1zaG93PSJoYXNFcnJvciIgY2xhc3M9ImJnLXdhcm5pbmciPgogICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi14cyBidG4tZGFuZ2VyIGdseXBoaWNvbiBnbHlwaGljb24tcmVtb3ZlIHB1bGwtcmlnaHQiIG5nLWNsaWNrPSJjbGVhckVycm9yKCk7Ij48L2J1dHRvbj4KICAgIDxkaXY+PGxhYmVsPkVycm9yIGNvZGU6PC9sYWJlbD48c3BhbiBuZy1iaW5kPSJzdGF0dXMiIC8+PC9kaXY+CiAgICA8ZGl2IG5nLWJpbmQ9InN0YXR1c19kYXRhIj48L2Rpdj4KPC9kaXY+Cgo8aDM+T3BlcmF0aW9uczwvaDM+Cjxmb3JtIHJvbGU9ImZvcm0iPgogICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgPGxhYmVsPlNlcnZpY2UgVVJMIChyZWxhdGl2ZSkgKjwvbGFiZWw+CiAgICAgICAgPGlucHV0IGNsYXNzPSJmb3JtLWNvbnRyb2wiIGlkPSJuYW1lIiB0eXBlPSJ0ZXh0IiBuYW1lPSJuYW1lIiBuZy1tb2RlbD0ic2VydmljZSIgLz4KICAgIDwvZGl2PgogICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgPGxhYmVsPkNvbHVtbnMgW0dFVF08L2xhYmVsPgogICAgICAgIDxpbnB1dCBjbGFzcz0iZm9ybS1jb250cm9sIiBpZD0iY29sdW1ucyIgdHlwZT0idGV4dCIgbmFtZT0iY29sdW1ucyIgbmctbW9kZWw9ImNvbHVtbnMiIC8+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxsYWJlbD5GaWx0ZXIgW0dFVF08L2xhYmVsPgogICAgICAgIDxpbnB1dCBjbGFzcz0iZm9ybS1jb250cm9sIiBpZD0iZmlsdGVyIiB0eXBlPSJ0ZXh0IiBuYW1lPSJmaWx0ZXIiIG5nLW1vZGVsPSJmaWx0ZXIiIC8+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxsYWJlbD5EYXRhIFsqIFBPU1R8UFVUXTwvbGFiZWw+CiAgICAgICAgPHRleHRhcmVhIGNsYXNzPSJmb3JtLWNvbnRyb2wiIGlkPSJkYXRhIiBuYW1lPSJkYXRhIiBuZy1tb2RlbD0iZGF0YSI+PC90ZXh0YXJlYT4KICAgIDwvZGl2PgoKICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxsYWJlbD5SZXN1bHQ8L2xhYmVsPgogICAgICAgIDx0ZXh0YXJlYSBjbGFzcz0iZm9ybS1jb250cm9sIiBpZD0icmVzdWx0IiBuYW1lPSJyZXN1bHQiIG5nLW1vZGVsPSJyZXN1bHQiPjwvdGV4dGFyZWE+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgbmctY2xpY2s9ImdldCgpIj4gIEdFVCA8L2J1dHRvbj4KICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIG5nLWNsaWNrPSJwb3N0KCkiPiBQT1NUIDwvYnV0dG9uPgogICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4taW5mbyIgbmctY2xpY2s9InB1dCgpIj4gIFBVVCA8L2J1dHRvbj4KICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgbmctY2xpY2s9ImRlbGV0ZSgpIj5ERUxFVEU8L2J1dHRvbj4KICAgIDwvZGl2Pgo8L2Zvcm0+')
},
{
'name': '/app/partials/adduser.html', 'data': base64.b64decode('PGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4KICAgIDxoMyBjbGFzcz0ibW9kYWwtdGl0bGUiIG5nLXNob3c9IiFpc1VwZGF0aW5nIj5DcmVhdGUgbmV3IHVzZXI8L2gzPgogICAgPGgzIGNsYXNzPSJtb2RhbC10aXRsZSIgbmctc2hvdz0iaXNVcGRhdGluZyI+VXBkYXRlIHVzZXI8L2gzPgo8L2Rpdj4KPGRpdiBjbGFzcz0ibW9kYWwtYm9keSI+CiAgICA8Zm9ybSBjbGFzcz0iZm9ybS1ob3Jpem9udGFsIiByb2xlPSJmb3JtIj4KICAgICAgICA8ZGl2IG5nLXNob3c9Imhhc2Vycm9yIj5UaGVyZSBpcyBhbiBlcnJvciEhITwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImNvbC1zbS0zIGNvbnRyb2wtbGFiZWwiPlVzZXJuYW1lPC9sYWJlbD4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLXNtLTUiPgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIG5nLW1vZGVsPSJ1c2VyLnVzZXJuYW1lIiBuZy1yZWFkb25seT0iaXNVcGRhdGluZyI+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImNvbC1zbS0zIGNvbnRyb2wtbGFiZWwiPlBhc3N3b3JkPC9sYWJlbD4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLXNtLTUiPgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InBhc3N3b3JkIiBjbGFzcz0iZm9ybS1jb250cm9sIiBuZy1tb2RlbD0idXNlci5wYXNzd29yZCIgbmctc2hvdz0iIWlzVXBkYXRpbmciIC8+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIG5nLW1vZGVsPSJ1c2VyLnBhc3N3b3JkIiAgbmctc2hvdz0iaXNVcGRhdGluZyIKICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0iTGVhdmUgYmxhbmsgdG8ga2VlcCBjdXJyZW50IHBhc3N3b3JkIiAvPgoKICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iY29sLXNtLTMgY29udHJvbC1sYWJlbCI+UGFzc3dvcmQgYWdhaW48L2xhYmVsPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtc20tNSI+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIG5nLW1vZGVsPSJ1c2VyLnBhc3N3b3JkX3JlIiBuZy1zaG93PSIhaXNVcGRhdGluZyI+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIG5nLW1vZGVsPSJ1c2VyLnBhc3N3b3JkX3JlIiBuZy1zaG93PSJpc1VwZGF0aW5nIgogICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSJMZWF2ZSBibGFuayB0byBrZWVwIGN1cnJlbnQgcGFzc3dvcmQiIC8+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImNvbC1zbS0zIGNvbnRyb2wtbGFiZWwiPkVtYWlsPC9sYWJlbD4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLXNtLTUiPgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImVtYWlsIiBjbGFzcz0iZm9ybS1jb250cm9sIiBuZy1tb2RlbD0idXNlci5lbWFpbCI+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgoKICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJjb2wtc20tMiBjb250cm9sLWxhYmVsIj5Sb2xlczwvbGFiZWw+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC1zbS0xMCI+CiAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9InRhYmxlIHRhYmxlLWhvdmVyIj4KICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICA8dGg+TmFtZTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5TSUQ8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICA8dGg+Jm5ic3A7PC90aD4KICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgPHRib2R5PgogICAgICAgICAgICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9InJvbGVfc2lkIGluIHVzZXIucm9sZXMiPgogICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PHNwYW4+e3tnZXRSb2xlTmFtZShyb2xlX3NpZCk7fX08L3NwYW4+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxzcGFuPnt7cm9sZV9zaWR9fTwvc3Bhbj4gPC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxidXR0b24gY2xhc3M9ImJ0biBidG4teHMgYnRuLWRhbmdlciIgbmctY2xpY2s9InJlbW92ZVJvbGUoJGluZGV4KSI+eDwvYnV0dG9uPiA8L3RkPgogICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PHNlbGVjdCBjbGFzcz0iZm9ybS1jb250cm9sIiBuZy1tb2RlbD0ic2VsZWN0ZWRfcm9sZSIgbmctb3B0aW9ucz0icm9sZS5zaWQgYXMgcm9sZS5uYW1lIGZvciByb2xlIGluIHJvbGVzIj48L3NlbGVjdD48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICA8dGQgY29sc3Bhbj0iMiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBuZy1jbGljaz0iYWRkUm9sZShzZWxlY3RlZF9yb2xlKSI+QWRkPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PgogICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Zvcm0+CjwvZGl2Pgo8ZGl2IGNsYXNzPSJtb2RhbC1mb290ZXIiPgogICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBuZy1jbGljaz0ib2soKSI+T0s8L2J1dHRvbj4KICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4td2FybmluZyIgbmctY2xpY2s9ImNhbmNlbCgpIj5DYW5jZWw8L2J1dHRvbj4KPC9kaXY+')
},
{
'name': '/app/partials/users.html', 'data': base64.b64decode('PGRpdiBuZy1zaG93PSJoYXNFcnJvciIgY2xhc3M9ImJnLXdhcm5pbmciPgogICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi14cyBidG4tZGFuZ2VyIGdseXBoaWNvbiBnbHlwaGljb24tcmVtb3ZlIHB1bGwtcmlnaHQiIG5nLWNsaWNrPSJjbGVhckVycm9yKCk7Ij48L2J1dHRvbj4KICAgIDxkaXY+PGxhYmVsPkVycm9yIGNvZGU6PC9sYWJlbD48c3BhbiBuZy1iaW5kPSJzdGF0dXMiIC8+PC9kaXY+CiAgICA8ZGl2IG5nLWJpbmQ9InN0YXR1c19kYXRhIj48L2Rpdj4KPC9kaXY+Cgo8aDM+VXNlcnM8L2gzPgoKPHRhYmxlIGNsYXNzPSJ0YWJsZSI+CiAgICA8dGhlYWQ+CiAgICA8dHI+CiAgICAgICAgPHRoPk5hbWU8L3RoPgogICAgICAgIDx0aD5FbWFpbDwvdGg+CiAgICAgICAgPHRoPiZuYnNwOzwvdGg+CiAgICA8L3RyPgogICAgPC90aGVhZD4KICAgIDx0Ym9keT4KICAgIDx0ciBuZy1yZXBlYXQ9InVzZXIgaW4gdXNlcnMiPgogICAgICAgIDx0ZD57e3VzZXIudXNlcm5hbWV9fTwvdGQ+PHRkPnt7dXNlci5lbWFpbH19PC90ZD4KICAgICAgICA8dGQ+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4teHMgYnRuLXdhcm5pbmcgZ2x5cGhpY29uIGdseXBoaWNvbi1lZGl0IiBuZy1jbGljaz0iZWRpdFVzZXIoJGluZGV4KTsiPjwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXhzIGJ0bi1kYW5nZXIgZ2x5cGhpY29uIGdseXBoaWNvbi1yZW1vdmUiIG5nLWNsaWNrPSJyZW1vdmVVc2VyKCRpbmRleCk7Ij48L2J1dHRvbj4KICAgICAgICA8L3RkPgogICAgPC90cj4KICAgIDwvdGJvZHk+CjwvdGFibGU+Cgo8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIG5nLWNsaWNrPSJhZGRVc2VyKCdsZycpIj5DcmVhdGUgdXNlcjwvYnV0dG9uPgo=')
},
{
'name': '/app/partials/addrole.html', 'data': base64.b64decode('PGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4KICAgIDxoMyBjbGFzcz0ibW9kYWwtdGl0bGUiIG5nLXNob3c9IiFpc1VwZGF0aW5nIj5DcmVhdGUgbmV3IHJvbGU8L2gzPgogICAgPGgzIGNsYXNzPSJtb2RhbC10aXRsZSIgbmctc2hvdz0iaXNVcGRhdGluZyI+VXBkYXRlIHJvbGU8L2gzPgo8L2Rpdj4KPGRpdiBjbGFzcz0ibW9kYWwtYm9keSI+CiAgICA8Zm9ybSBjbGFzcz0iZm9ybS1ob3Jpem9udGFsIiByb2xlPSJmb3JtIj4KICAgICAgICA8ZGl2IG5nLXNob3c9Imhhc2Vycm9yIj5UaGVyZSBpcyBhbiBlcnJvciEhITwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImNvbC1zbS0yIGNvbnRyb2wtbGFiZWwiPk5hbWUgKjwvbGFiZWw+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC1zbS00Ij4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIiBuZy1tb2RlbD0icm9sZS5uYW1lIiBwbGFjZWhvbGRlcj0iUm9sZSBuYW1lIj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iY29sLXNtLTIgY29udHJvbC1sYWJlbCI+U0lEPC9sYWJlbD4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLXNtLTgiPgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiICBjbGFzcz0iZm9ybS1jb250cm9sIiBuZy1tb2RlbD0icm9sZS5zaWQiIG5nLXJlYWRvbmx5PSJpc1VwZGF0aW5nIiBwbGFjZWhvbGRlcj0iT3B0aW9uYWwsIHdpbGwgYmUgZ2VuZXJhdGVkIGlmIGxlZnQgZW1wdHkiPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJjb2wtc20tMiBjb250cm9sLWxhYmVsIj5Sb2xlIGl0ZW1zPC9sYWJlbD4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLXNtLTEwIj4KICAgICAgICAgICAgPHRhYmxlIGNsYXNzPSJ0YWJsZSB0YWJsZS1ob3ZlciI+CiAgICAgICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICA8dGg+QWNjZXNzIHR5cGU8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9ImNvbC14cy0yIj5PYmplY3QgbmFtZTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz0iY29sLXhzLTIiPlByb3BlcnR5PC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRoPkFjY2VzczwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD4mbmJzcDs8L3RoPgogICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICA8L3RoZWFkPgogICAgICAgICAgICAgICAgPHRib2R5PgogICAgICAgICAgICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9InJvbGVfaXRlbSBpbiByb2xlLnJvbGVfaXRlbXMiPgogICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PHNlbGVjdCBjbGFzcz0iZm9ybS1jb250cm9sIiBuZy1tb2RlbD0icm9sZV9pdGVtLnR5cGUiIG5nLW9wdGlvbnM9ImFjY2Vzc190eXBlLm5hbWUgYXMgYWNjZXNzX3R5cGUuZGlzcGxheSBmb3IgYWNjZXNzX3R5cGUgaW4gYWNjZXNzX3R5cGVzIj48L3NlbGVjdD48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9ImNvbC14cy0yIj48aW5wdXQgY2xhc3M9ImZvcm0tY29udHJvbCIgdHlwZT0idGV4dCIgbmctbW9kZWw9InJvbGVfaXRlbS5vYmplY3RfbmFtZSIgLz4gPC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJjb2wteHMtMiI+PGlucHV0IGNsYXNzPSJmb3JtLWNvbnRyb2wiIHR5cGU9InRleHQiIG5nLW1vZGVsPSJyb2xlX2l0ZW0ucHJvcGVydHlfbmFtZSIgLz4gPC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBuZy1tb2RlbD0icm9sZV9pdGVtLmFjY2Vzc19iaXRzLnJlYWQiIC8+IFJlYWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmctbW9kZWw9InJvbGVfaXRlbS5hY2Nlc3NfYml0cy5pbnNlcnQiIC8+IEluc2VydAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBuZy1tb2RlbD0icm9sZV9pdGVtLmFjY2Vzc19iaXRzLndyaXRlIiAvPiBXcml0ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBuZy1tb2RlbD0icm9sZV9pdGVtLmFjY2Vzc19iaXRzLmRlbGV0ZSIgLz4gRGVsZXRlCiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48YnV0dG9uIGNsYXNzPSJidG4gYnRuLXhzIGJ0bi1kYW5nZXIiIG5nLWNsaWNrPSJyZW1vdmVSb2xlSXRlbSgkaW5kZXgpIj54PC9idXR0b24+IDwvdGQ+CiAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjb2xzcGFuPSI1Ij48YnV0dG9uIG5nLWNsaWNrPSJhZGRSb2xlSXRlbSgpIj5BZGQ8L2J1dHRvbj4gPC90ZD4KICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgPC90Ym9keT4KICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Zvcm0+CjwvZGl2Pgo8ZGl2IGNsYXNzPSJtb2RhbC1mb290ZXIiPgogICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBuZy1jbGljaz0ib2soKSI+T0s8L2J1dHRvbj4KICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4td2FybmluZyIgbmctY2xpY2s9ImNhbmNlbCgpIj5DYW5jZWw8L2J1dHRvbj4KPC9kaXY+')
},
{
'name': '/test/karma.conf.js', 'data': base64.b64decode('bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihjb25maWcpewogIGNvbmZpZy5zZXQoewoKICAgIGJhc2VQYXRoIDogJy4uLycsCgogICAgZmlsZXMgOiBbCiAgICAgICdhcHAvYm93ZXJfY29tcG9uZW50cy9hbmd1bGFyL2FuZ3VsYXIuanMnLAogICAgICAnYXBwL2Jvd2VyX2NvbXBvbmVudHMvYW5ndWxhci1yb3V0ZS9hbmd1bGFyLXJvdXRlLmpzJywKICAgICAgJ2FwcC9ib3dlcl9jb21wb25lbnRzL2FuZ3VsYXItbW9ja3MvYW5ndWxhci1tb2Nrcy5qcycsCiAgICAgICdhcHAvanMvKiovKi5qcycsCiAgICAgICd0ZXN0L3VuaXQvKiovKi5qcycKICAgIF0sCgogICAgYXV0b1dhdGNoIDogdHJ1ZSwKCiAgICBmcmFtZXdvcmtzOiBbJ2phc21pbmUnXSwKCiAgICBicm93c2VycyA6IFsnQ2hyb21lJ10sCgogICAgcGx1Z2lucyA6IFsKICAgICAgICAgICAgJ2thcm1hLWNocm9tZS1sYXVuY2hlcicsCiAgICAgICAgICAgICdrYXJtYS1maXJlZm94LWxhdW5jaGVyJywKICAgICAgICAgICAgJ2thcm1hLWphc21pbmUnLAogICAgICAgICAgICAna2FybWEtanVuaXQtcmVwb3J0ZXInCiAgICAgICAgICAgIF0sCgogICAganVuaXRSZXBvcnRlciA6IHsKICAgICAgb3V0cHV0RmlsZTogJ3Rlc3Rfb3V0L3VuaXQueG1sJywKICAgICAgc3VpdGU6ICd1bml0JwogICAgfQoKICB9KTsKfTsK')
},
{
'name': '/test/protractor-conf.js', 'data': base64.b64decode('ZXhwb3J0cy5jb25maWcgPSB7CiAgYWxsU2NyaXB0c1RpbWVvdXQ6IDExMDAwLAoKICBzcGVjczogWwogICAgJ2UyZS8qLmpzJwogIF0sCgogIGNhcGFiaWxpdGllczogewogICAgJ2Jyb3dzZXJOYW1lJzogJ2Nocm9tZScKICB9LAoKICBiYXNlVXJsOiAnaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwcC8nLAoKICBmcmFtZXdvcms6ICdqYXNtaW5lJywKCiAgamFzbWluZU5vZGVPcHRzOiB7CiAgICBkZWZhdWx0VGltZW91dEludGVydmFsOiAzMDAwMAogIH0KfTsK')
},
{
'name': '/test/unit/servicesSpec.js', 'data': base64.b64decode('J3VzZSBzdHJpY3QnOwoKLyogamFzbWluZSBzcGVjcyBmb3Igc2VydmljZXMgZ28gaGVyZSAqLwoKZGVzY3JpYmUoJ3NlcnZpY2UnLCBmdW5jdGlvbigpIHsKICBiZWZvcmVFYWNoKG1vZHVsZSgnbXlBcHAuc2VydmljZXMnKSk7CgoKICBkZXNjcmliZSgndmVyc2lvbicsIGZ1bmN0aW9uKCkgewogICAgaXQoJ3Nob3VsZCByZXR1cm4gY3VycmVudCB2ZXJzaW9uJywgaW5qZWN0KGZ1bmN0aW9uKHZlcnNpb24pIHsKICAgICAgZXhwZWN0KHZlcnNpb24pLnRvRXF1YWwoJzAuMScpOwogICAgfSkpOwogIH0pOwp9KTsK')
},
{
'name': '/test/unit/controllersSpec.js', 'data': base64.b64decode('J3VzZSBzdHJpY3QnOwoKLyogamFzbWluZSBzcGVjcyBmb3IgY29udHJvbGxlcnMgZ28gaGVyZSAqLwoKZGVzY3JpYmUoJ2NvbnRyb2xsZXJzJywgZnVuY3Rpb24oKXsKICBiZWZvcmVFYWNoKG1vZHVsZSgnbXlBcHAuY29udHJvbGxlcnMnKSk7CgoKICBpdCgnc2hvdWxkIC4uLi4nLCBpbmplY3QoZnVuY3Rpb24oJGNvbnRyb2xsZXIpIHsKICAgIC8vc3BlYyBib2R5CiAgICB2YXIgbXlDdHJsMSA9ICRjb250cm9sbGVyKCdNeUN0cmwxJywgeyAkc2NvcGU6IHt9IH0pOwogICAgZXhwZWN0KG15Q3RybDEpLnRvQmVEZWZpbmVkKCk7CiAgfSkpOwoKICBpdCgnc2hvdWxkIC4uLi4nLCBpbmplY3QoZnVuY3Rpb24oJGNvbnRyb2xsZXIpIHsKICAgIC8vc3BlYyBib2R5CiAgICB2YXIgbXlDdHJsMiA9ICRjb250cm9sbGVyKCdNeUN0cmwyJywgeyAkc2NvcGU6IHt9IH0pOwogICAgZXhwZWN0KG15Q3RybDIpLnRvQmVEZWZpbmVkKCk7CiAgfSkpOwp9KTsK')
},
{
'name': '/test/unit/filtersSpec.js', 'data': base64.b64decode('J3VzZSBzdHJpY3QnOwoKLyogamFzbWluZSBzcGVjcyBmb3IgZmlsdGVycyBnbyBoZXJlICovCgpkZXNjcmliZSgnZmlsdGVyJywgZnVuY3Rpb24oKSB7CiAgYmVmb3JlRWFjaChtb2R1bGUoJ215QXBwLmZpbHRlcnMnKSk7CgoKICBkZXNjcmliZSgnaW50ZXJwb2xhdGUnLCBmdW5jdGlvbigpIHsKICAgIGJlZm9yZUVhY2gobW9kdWxlKGZ1bmN0aW9uKCRwcm92aWRlKSB7CiAgICAgICRwcm92aWRlLnZhbHVlKCd2ZXJzaW9uJywgJ1RFU1RfVkVSJyk7CiAgICB9KSk7CgoKICAgIGl0KCdzaG91bGQgcmVwbGFjZSBWRVJTSU9OJywgaW5qZWN0KGZ1bmN0aW9uKGludGVycG9sYXRlRmlsdGVyKSB7CiAgICAgIGV4cGVjdChpbnRlcnBvbGF0ZUZpbHRlcignYmVmb3JlICVWRVJTSU9OJSBhZnRlcicpKS50b0VxdWFsKCdiZWZvcmUgVEVTVF9WRVIgYWZ0ZXInKTsKICAgIH0pKTsKICB9KTsKfSk7Cg==')
},
{
'name': '/test/unit/directivesSpec.js', 'data': base64.b64decode('J3VzZSBzdHJpY3QnOwoKLyogamFzbWluZSBzcGVjcyBmb3IgZGlyZWN0aXZlcyBnbyBoZXJlICovCgpkZXNjcmliZSgnZGlyZWN0aXZlcycsIGZ1bmN0aW9uKCkgewogIGJlZm9yZUVhY2gobW9kdWxlKCdteUFwcC5kaXJlY3RpdmVzJykpOwoKICBkZXNjcmliZSgnYXBwLXZlcnNpb24nLCBmdW5jdGlvbigpIHsKICAgIGl0KCdzaG91bGQgcHJpbnQgY3VycmVudCB2ZXJzaW9uJywgZnVuY3Rpb24oKSB7CiAgICAgIG1vZHVsZShmdW5jdGlvbigkcHJvdmlkZSkgewogICAgICAgICRwcm92aWRlLnZhbHVlKCd2ZXJzaW9uJywgJ1RFU1RfVkVSJyk7CiAgICAgIH0pOwogICAgICBpbmplY3QoZnVuY3Rpb24oJGNvbXBpbGUsICRyb290U2NvcGUpIHsKICAgICAgICB2YXIgZWxlbWVudCA9ICRjb21waWxlKCc8c3BhbiBhcHAtdmVyc2lvbj48L3NwYW4+JykoJHJvb3RTY29wZSk7CiAgICAgICAgZXhwZWN0KGVsZW1lbnQudGV4dCgpKS50b0VxdWFsKCdURVNUX1ZFUicpOwogICAgICB9KTsKICAgIH0pOwogIH0pOwp9KTsK')
},
{
'name': '/test/e2e/scenarios.js', 'data': base64.b64decode('J3VzZSBzdHJpY3QnOwoKLyogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9ibG9iL21hc3Rlci9kb2NzL2dldHRpbmctc3RhcnRlZC5tZCAqLwoKZGVzY3JpYmUoJ215IGFwcCcsIGZ1bmN0aW9uKCkgewoKICBicm93c2VyLmdldCgnaW5kZXguaHRtbCcpOwoKICBpdCgnc2hvdWxkIGF1dG9tYXRpY2FsbHkgcmVkaXJlY3QgdG8gL3ZpZXcxIHdoZW4gbG9jYXRpb24gaGFzaC9mcmFnbWVudCBpcyBlbXB0eScsIGZ1bmN0aW9uKCkgewogICAgZXhwZWN0KGJyb3dzZXIuZ2V0TG9jYXRpb25BYnNVcmwoKSkudG9NYXRjaCgiL3ZpZXcxIik7CiAgfSk7CgoKICBkZXNjcmliZSgndmlldzEnLCBmdW5jdGlvbigpIHsKCiAgICBiZWZvcmVFYWNoKGZ1bmN0aW9uKCkgewogICAgICBicm93c2VyLmdldCgnaW5kZXguaHRtbCMvdmlldzEnKTsKICAgIH0pOwoKCiAgICBpdCgnc2hvdWxkIHJlbmRlciB2aWV3MSB3aGVuIHVzZXIgbmF2aWdhdGVzIHRvIC92aWV3MScsIGZ1bmN0aW9uKCkgewogICAgICBleHBlY3QoZWxlbWVudC5hbGwoYnkuY3NzKCdbbmctdmlld10gcCcpKS5maXJzdCgpLmdldFRleHQoKSkuCiAgICAgICAgdG9NYXRjaCgvcGFydGlhbCBmb3IgdmlldyAxLyk7CiAgICB9KTsKCiAgfSk7CgoKICBkZXNjcmliZSgndmlldzInLCBmdW5jdGlvbigpIHsKCiAgICBiZWZvcmVFYWNoKGZ1bmN0aW9uKCkgewogICAgICBicm93c2VyLmdldCgnaW5kZXguaHRtbCMvdmlldzInKTsKICAgIH0pOwoKCiAgICBpdCgnc2hvdWxkIHJlbmRlciB2aWV3MiB3aGVuIHVzZXIgbmF2aWdhdGVzIHRvIC92aWV3MicsIGZ1bmN0aW9uKCkgewogICAgICBleHBlY3QoZWxlbWVudC5hbGwoYnkuY3NzKCdbbmctdmlld10gcCcpKS5maXJzdCgpLmdldFRleHQoKSkuCiAgICAgICAgdG9NYXRjaCgvcGFydGlhbCBmb3IgdmlldyAyLyk7CiAgICB9KTsKCiAgfSk7Cn0pOwo=')
}]
