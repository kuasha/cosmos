<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>System</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.css">
    <style>
        html,
        body {
            height: 100%;
        }

        html {
            margin: auto;
        }

        .loginicon {
            height: 32px;
            width: 32px;
        }
    </style>
</head>
<body ng-app="setupApp" ng-cloak>
<md-tabs md-align-tabs="top" flex layout="column" layout-fill>
    {%  if show_create_admin_form %}
    <md-tab id="tabCreateAdmin">
        <md-tab-label>Create admin</md-tab-label>
        <md-tab-body>
            <form action="." method="POST">
                <md-content layout="row">
                    <md-card>
                        <md-card-content>
                            {% if message %}
                            <span>{{ message }}</span>
                            {% end %}
                            <input type="hidden" name="next" value="{{ next }}"/>
                            <md-input-container class="md-block">
                                <label>Username</label>
                                <input required id="username" type="text" name="username"/>
                            </md-input-container>
                            <md-input-container class="md-block">
                                <label>Password</label>
                                <input required type="password" id="password" name="password"/>
                            </md-input-container>
                        </md-card-content>
                        <button type="submit" name="command" value="new-admin"
                                class="md-button md-raised md-primary">Create new admin
                        </button>
                    </md-card>
                </md-content>
            </form>
        </md-tab-body>
    </md-tab>
    {% end %}
    </md-tab>
    <md-tab id="tabSystem">
        <md-tab-label>System</md-tab-label>
        <md-tab-body>
            {%  if show_system_form %}
            <form action="." method="POST">
                <div>
                    <button type="submit" name="command" value="restart_service"
                            class="md-button md-raised md-primary">Restart service
                    </button>
                </div>
            </form>
            {% else %}
                <p>Please login as admin to view system commands.</p>
            {% end %}
        </md-tab-body>
    </md-tab>
    <md-tab id="tabSettings">
        <md-tab-label>Settings</md-tab-label>
        <md-tab-body>
            {%  if show_settings_form %}
            <form action="." method="POST">
                <div>
                    {% if message %}
                    <span>{{ message }}</span>
                    {% end %}
                    {% for config in configurable_settings %}
                    <md-input-container class="md-block">
                        <label>{{ config['name'] }}</label>
                        {% if config["settings"]["type"] == "textarea" %}
                            <textarea id="{{ config['name'] }}" type="text"
                                      name="{{ config['name'] }}">{{ config['value'] }}</textarea>
                        {% else %}
                        <input id="{{ config['name'] }}" type="text" name="{{ config['name'] }}"
                               value="{{ config['value'] }}"/>
                        {% end %}
                    </md-input-container>
                    {% end %}
                    <button type="submit" name="command" value="apply_settings"
                            class="md-button md-raised md-primary">Apply settings
                    </button>
                </div>
            </form>
            {% else %}
                <p>Please login as admin to edit settings.</p>
            {% end %}
        </md-tab-body>
    </md-tab>
</md-tabs>



<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-animate.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-aria.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-messages.min.js"></script>

<!-- Angular Material Library -->
<script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.js"></script>

<!-- Your application bootstrap  -->
<script type="text/javascript">
    angular.module('setupApp', ['ngMaterial']);
</script>
</body>
</html>
